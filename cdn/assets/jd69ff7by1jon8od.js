const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/kcgt5jmhu7rxo8su.js","assets/fg33krlcm0qyi6yw.js","assets/mtk1qztvnb31pw5r.js","assets/root-mcq3deyb.css"])))=>i.map(i=>d[i]);
var ze=Object.defineProperty,Ke=Object.defineProperties;var qe=Object.getOwnPropertyDescriptors;var ye=Object.getOwnPropertySymbols;var $e=Object.prototype.hasOwnProperty,Ve=Object.prototype.propertyIsEnumerable;var he=(e,s,n)=>s in e?ze(e,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[s]=n,x=(e,s)=>{for(var n in s||(s={}))$e.call(s,n)&&he(e,n,s[n]);if(ye)for(var n of ye(s))Ve.call(s,n)&&he(e,n,s[n]);return e},k=(e,s)=>Ke(e,qe(s));import{r as h,b as Xe,j as t,M as w,i as Ze,v as ke,e as me,a as We,u as Se,_ as Ye}from"./fg33krlcm0qyi6yw.js";import{iz as Je,b as ee,o as He,ui as et,l as le,gk as ie,gC as I,I as tt,uj as nt,L as J,sk as H,a9 as Ie,rZ as Fe,uk as Le,c0 as Ee,ul as R,ck as Ae,um as _e,ga as je,un as ve,j$ as Oe,lq as ae,br as st,jQ as ot,uo as rt,T as it,bX as at,up as X,cU as lt,hd as ct,bh as ut,b$ as dt,uq as ft,d as mt,hP as pt,ur as gt,sL as xt,sM as yt,ix as ht,sN as St,cX as _t,P as jt,lf as vt,us as V,ld as bt,ut as de,uu as fe,le as Ct,hQ as Nt,lV as Tt}from"./mtk1qztvnb31pw5r.js";import{g as Mt,D as be}from"./mbql81gwv5du9dtu.js";import{cK as wt,cV as Pt,kT as ce,kU as De,kV as kt,cL as It,hG as Ce,hQ as Ft}from"./k65njl5wlgspihfr.js";import{m as Lt}from"./ck1u9icgxosmytry.js";import{f as Et}from"./m89x2zftpo6hrypr.js";import{u as At}from"./k43gn7pl526u53kc.js";const oe=5*1e3,ue=30*1e3,Ue=600*1e3,Ne=1.5,Te=30*1e3;function Ot({timeoutMs:e=Ue}={}){const[s,n]=h.useState(!1),[o,r]=h.useState(null),[l,u]=h.useState(!1),[p,a]=h.useState(oe),c=h.useCallback(()=>{n(d=>(d||a(oe),!0)),a(oe),r(d=>d===null?Date.now():d)},[]),g=h.useCallback(({resetTimeout:d}={})=>{n(!1),r(null),a(oe),d&&u(!1)},[]);return h.useEffect(()=>{if(!s||o===null)return;const d=Date.now()-o;if(d<Te){const y=window.setTimeout(()=>{a(L=>Math.min(L*Ne,ue))},Te-d);return()=>{window.clearTimeout(y)}}if(p>=ue)return;const _=window.setTimeout(()=>{a(y=>Math.min(y*Ne,ue))},p);return()=>{window.clearTimeout(_)}},[p,o,s]),h.useEffect(()=>{if(o===null||l)return;const d=window.setTimeout(()=>{n(!1),u(!0)},e);return()=>{window.clearTimeout(d)}},[l,o,e]),{hasTimedOut:l,shouldPoll:s,startPolling:c,stopPolling:g,pollIntervalMs:p}}const Dt=new Set(["http:","https:"]);function Ut(e){if(!e)return;const s=e.trim();if(/^https?:\/\//i.test(s))try{const n=new URL(s);return Dt.has(n.protocol)?n.href:void 0}catch(n){return}}const Me=ut(()=>Ye(()=>import("./kcgt5jmhu7rxo8su.js"),__vite__mapDeps([0,1,2,3])).then(e=>e.FilePreviewModal)),re={google_drive:st,slack:ot},we={google_drive:R.connectorScopeGoogleDriveLabel,slack:R.connectorScopeSlackLabel},Rt=64,Pe=new Set;function Gt(e){Pe.has(e)||(Pe.add(e),dt.warn("Unknown project connector type for connector scope",{connector_type:e}))}function Re(e,s){var l,u,p,a;if(e==="google_drive"){if(s==="google_drive_file")return{icon:(l=re.google_drive)!=null?l:ie,labelMessage:R.connectorScopeGoogleDriveFileLabel};if(s==="google_drive_folder")return{icon:(u=re.google_drive)!=null?u:ie,labelMessage:R.connectorScopeGoogleDriveFolderLabel}}const o=(p=re[e])!=null?p:ie,r=(a=we[e])!=null?a:R.connectorScopeUnknownLabel;return(!re[e]||!we[e])&&Gt(e),{icon:o,labelMessage:r}}function Bt(e){return"is_pending"in e}const Qt={running:X.connectorSyncStatusRunning,completed:X.connectorSyncStatusCompleted,failed:X.connectorSyncStatusFailed,not_synced:X.connectorSyncStatusNotSynced};function zt(e,s){if(!e)return;const n=new Date(e);if(!Number.isNaN(n.getTime()))return s.formatDate(n,{month:"short",day:"numeric",hour:"numeric",minute:"numeric"})}function Kt({intl:e,lastSyncedAt:s,syncStatus:n,isSyncable:o,syncDetailMessage:r}){if(o&&n){if(n==="completed"&&(r!=null&&r.trim()))return e.formatMessage(X.connectorSyncStatusPartial);if(n==="completed"){const l=zt(s,e);if(l)return e.formatMessage(X.connectorSyncStatusCompletedWithTime,{lastSyncedAt:l})}return e.formatMessage(Qt[n])}}function qt({gizmoResource:e,canEdit:s,pendingFiles:n,pendingConnectorScopes:o,files:r,interpreterOnlyFileIds:l,onAddFiles:u,removePendingFile:p,pendingFileUpsertMutationsRef:a,onFileDeletedOptimistic:c,onHasVisibleFilesChange:g}){var ne;const d=ee(),_=e.gizmo.id,y=e.gizmo.display.name,L=Je(d),[F,P]=h.useState(()=>new Set),i=r.filter(D=>!F.has(D.file_id)),f=i.length>0;h.useEffect(()=>{g==null||g(f)},[f,g]);const m=He(d,"3681570957"),{hasTimedOut:b,shouldPoll:E,startPolling:G,stopPolling:A,pollIntervalMs:$}=Ot({timeoutMs:Ue}),{data:B,isPending:z}=Xe(k(x({},et({projectId:_,enabled:m})),{refetchInterval:m&&E?$:!1})),C=m&&z&&!0,j=(ne=B==null?void 0:B.items)!=null?ne:[],S=j.some(D=>D.last_sync_status==="running");h.useEffect(()=>{if(!m){A({resetTimeout:!0});return}if(!S){A({resetTimeout:!0});return}if(!b){G();return}A({resetTimeout:!1})},[b,S,m,G,A]);const O=[...o,...j],Z=D=>{P(U=>{if(U.has(D))return U;const N=new Set(U);return N.add(D),N}),c==null||c(D)};return!C&&!(m&&O.length>0)&&n.length===0&&i.length===0?t.jsx("div",{className:"h-full pb-4",children:t.jsx(en,{gizmoName:y,onAddFiles:u,canEdit:s})}):t.jsxs("div",{className:"pb-6",children:[t.jsx($t,{numFiles:i.length+n.length}),t.jsx(Vt,{canEdit:s,projectId:_,files:i,pendingFiles:n,interpreterOnlyFileIds:l,removePendingFile:p,pendingFileUpsertMutationsRef:a,connectorScopes:j,pendingConnectorScopes:o,isConnectorScopesLoading:C,className:le("border-token-border-light overflow-hidden rounded-lg border",L&&"max-h-75 overflow-y-auto"),onFileDeletedOptimistic:Z})]})}function $t({numFiles:e}){const s=ee(),n=tt(s),o=Ze();if(!nt({ctx:s,accountPlanType:n==null?void 0:n.planType,numFiles:e}))return null;let r;return(n==null?void 0:n.planType)===J.FREE?r=t.jsx(w,k(x({},I.projectFileRateLimitBannerPlusDescription),{values:{freeFileLimit:H(s,J.FREE),paidFileLimit:H(s,J.PLUS)}})):r=t.jsx(w,k(x({},I.projectFileRateLimitBannerProDescription),{values:{paidFileLimit:H(s,J.PLUS),proFileLimit:H(s,J.PRO),planType:n==null?void 0:n.planType.valueOf()}})),t.jsxs("div",{className:"bg-token-bg-tertiary mb-3 flex flex-row items-center justify-between gap-3 rounded-xl p-3 text-sm",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"text-token-text-primary",children:t.jsx(w,x({},I.projectFileRateLimitBannerTitle))}),t.jsx("span",{className:"text-token-text-secondary",children:r})]}),t.jsx(Ie,{color:"secondary",className:"bg-token-bg-tertiary",onClick:()=>{Pt(o,"projects file upsell banner")},children:t.jsx(w,x({},I.upgradeToPlus))})]})}function Vt({projectId:e,files:s,pendingFiles:n,interpreterOnlyFileIds:o,removePendingFile:r,pendingFileUpsertMutationsRef:l,canEdit:u,className:p,onFileDeletedOptimistic:a,connectorScopes:c,pendingConnectorScopes:g,isConnectorScopesLoading:d}){const _=Fe(),[y,L]=h.useState(()=>new Set),F=s.filter(i=>!y.has(i.file_id)),P=[...g,...c];return!d&&P.length===0&&F.length===0&&n.length===0?null:t.jsxs("div",{className:p,children:[d?t.jsx(Xt,{}):P.map(i=>Bt(i)?t.jsx(Wt,{scope:i},i.scope_id):t.jsx(Zt,{scope:i,projectId:e,canEdit:u},i.scope_id)),F.map(i=>t.jsx(Ht,{gizmoId:e,gizmoFile:i,interpreterOnly:o.includes(i.file_id),canEdit:u,onDelete:()=>{i.file_id&&L(b=>{if(b.has(i.file_id))return b;const E=new Set(b);return E.add(i.file_id),E}),i.file_id&&(a==null||a(i.file_id));const f=new Promise(b=>{l.current.push({id:e,mutationId:ke(),update:E=>{const G=E.files.filter(A=>A.file_id!==i.file_id);return k(x({},E),{files:G})},onSuccess:b})});return Le(e)({projectId:e,upsertProjectMutation:_,pendingFileUpsertMutationsRef:l}),f}},i.file_id)),n.map(i=>t.jsx(Jt,{canEdit:u,interpreterOnly:o.includes(i.tempId),pendingFile:i,onDelete:async()=>r(i.tempId)},i.tempId))]})}function Xt(){return t.jsx(te,{canEdit:!1,children:t.jsxs("div",{className:"text-token-text-secondary flex items-center gap-2",children:[t.jsx(Ee,{}),t.jsx(w,x({},R.connectorScopesLoadingLabel))]})})}function Ge(){return t.jsx("div",{className:"truncate",children:t.jsx(w,x({},I.interpreterOnlyLabel))})}function Zt({scope:e,canEdit:s,projectId:n}){var A,$,B,z;const o=me(),r=We(),l=ee(),u=Ae(l),{icon:p,labelMessage:a}=Re(e.connector_type,e.scope_type),c=o.formatMessage(a),g=(B=($=(A=e.display_name)!=null?A:e.canonical_handle)!=null?$:e.original_url)!=null?B:c,d=e.original_url,_=Se({mutationFn:()=>_e.syncConnectorScope(n,e.scope_id),onSuccess:()=>{var S,O;const C=(O=(S=Lt(g,Rt))!=null?S:g)!=null?O:"",j=o.formatMessage(R.connectorScopeSyncSuccess,{connectorName:C});u.success(j,{id:"connector-scope-".concat(e.scope_id,"-sync-success")}),r.invalidateQueries({queryKey:ve(n)})},onError:C=>{var O;const j=o.formatMessage(R.connectorScopeSyncErrorFallback),S=(O=je(C))!=null?O:j;u.danger(S,{toastId:"connector-scope-".concat(e.scope_id,"-sync-error")})}}),y=ve(n),L=Se({mutationFn:()=>_e.deleteConnectorScope(n,e.scope_id),onMutate:async()=>{await r.cancelQueries({queryKey:y});const C=r.getQueryData(y);return r.setQueryData(y,j=>j&&k(x({},j),{items:j.items.filter(S=>S.scope_id!==e.scope_id)})),{previousData:C}},onError:(C,j,S)=>{var W;S!=null&&S.previousData&&r.setQueryData(y,S.previousData);const O=o.formatMessage(R.connectorScopeDeleteErrorToast),Z=(W=je(C))!=null?W:O;u.danger(Z,{toastId:"connector-scope-".concat(e.scope_id,"-delete-error")})},onSettled:()=>{r.invalidateQueries({queryKey:y})}}),F=async()=>{try{await L.mutateAsync()}catch(C){}},P=e.last_sync_status==="running",i=(z=e.last_sync_detail_message)==null?void 0:z.trim(),f=Kt({intl:o,lastSyncedAt:e.last_synced_at,syncStatus:e.last_sync_status,isSyncable:e.is_connector_syncable,syncDetailMessage:i}),m=e.last_sync_status==="failed",b=e.last_sync_status==="completed"&&!!i,E=(m||b)&&i?i:void 0,G=e.is_connector_syncable;return t.jsx(te,{canEdit:s,onDelete:F,onSync:s&&G?()=>_.mutateAsync():void 0,isSyncDisabled:P,children:t.jsx(Yt,{connectorUrl:d,children:t.jsx(ce,{icon:t.jsx("div",{className:"bg-token-bg-tertiary text-token-text-secondary flex h-full w-full items-center justify-center",children:t.jsx(p,{className:"icon"})}),fileName:g,showFileNameTooltip:!0,customFileDescription:t.jsx(Be,{connectorTypeLabel:c,syncStatusLabel:f,syncDetailTooltipLabel:E})})})})}function Wt({scope:e}){var l,u;const s=me(),{icon:n,labelMessage:o}=Re(e.connector_type),r=s.formatMessage(o);return t.jsx(te,{canEdit:!1,children:t.jsx(ce,{icon:t.jsx("div",{className:"bg-token-bg-tertiary text-token-text-secondary flex h-full w-full items-center justify-center",children:t.jsx(n,{className:"icon"})}),fileName:(u=(l=e.display_name)!=null?l:e.original_url)!=null?u:"",showFileNameTooltip:!0,loadingPercentage:0,customFileDescription:t.jsx(Be,{connectorTypeLabel:r})})})}function Be({connectorTypeLabel:e,syncStatusLabel:s,syncDetailTooltipLabel:n}){return t.jsx("div",{className:"flex flex-col gap-0.5 whitespace-normal",children:t.jsxs("div",{className:"truncate",children:[t.jsx("span",{children:e}),s&&t.jsxs(t.Fragment,{children:[t.jsxs("span",{children:[" ",t.jsx(w,x({},rt.connectorScopeDivider))," "]}),n?t.jsx(it,{label:n,side:"top",children:t.jsxs("span",{className:"inline-flex items-center gap-1","aria-label":s,children:[t.jsx("span",{className:"inline",children:t.jsx(at,{"aria-hidden":"true",className:"text-token-text-tertiary inline h-4 w-4"})}),t.jsx("span",{className:"decoration-token-text-secondary underline decoration-dotted decoration-[11%] underline-offset-2",children:s})]})}):t.jsx("span",{children:s})]})]})})}function Yt({children:e,connectorUrl:s}){const n=Ut(s);return n?t.jsx("a",{href:n,target:"_blank",rel:"noreferrer",className:"block max-w-full cursor-pointer",children:e}):t.jsx(t.Fragment,{children:e})}function Jt({pendingFile:e,onDelete:s,interpreterOnly:n,canEdit:o}){var p,a,c;const r=e.file.name,u=(kt(e.file)&&((p=e.file)==null?void 0:p.type.startsWith("image/"))||Oe(r))&&t.jsx(De,{file:e.file,fileName:r,fileId:(a=e.fileId)!=null?a:void 0,gizmoId:(c=e.gizmoId)!=null?c:void 0});return t.jsx(te,{interpreterOnly:n,onDelete:s,canEdit:o,children:t.jsx(ce,{icon:u,fileName:e.file.name,loadingPercentage:e.status===ae.Uploading?e.progress:void 0,customFileDescription:n?t.jsx(Ge,{}):void 0})})}function Ht({gizmoFile:e,gizmoId:s,interpreterOnly:n,onDelete:o,canEdit:r}){const l=e.name,p=Oe(l)&&e.file_id!=null&&t.jsx(De,{fileName:l,fileId:e.file_id,gizmoId:s}),a=ee(),c=()=>{const g=e.file_id;g&&lt(a,Me,{gizmoId:s,fileId:g,fileName:e.name,onClose:()=>ct(a,Me)})};return t.jsx(te,{interpreterOnly:n,onDelete:o,canEdit:r,children:t.jsx("div",{className:"cursor-pointer",onClick:c,children:t.jsx(ce,{icon:p,fileName:e.name,showFileNameTooltip:!0,customFileDescription:n?t.jsx(Ge,{}):void 0})})})}function te({children:e,onDelete:s,canEdit:n,interpreterOnly:o,onSync:r,isSyncDisabled:l}){const[u,p]=h.useState(!1),[a,c]=h.useState(!1),g=n&&!!r,d=g||n&&!!s,_=async()=>{if(!(!r||l)){c(!0);try{await r()}catch(y){}finally{c(!1)}}};return t.jsxs("div",{className:le("group/file-row border-token-border-light flex w-full items-center gap-3 border-b p-3 text-sm last:border-b-0",n?"hover:bg-token-interactive-bg-primary-selected/5":"hover:bg-transparent",o),children:[t.jsx("div",{className:"min-w-0 flex-1",children:e}),d&&t.jsxs("div",{className:"flex items-center gap-2",children:[g&&t.jsx(Ie,{color:"secondary",size:"small",type:"button",loading:a,disabled:l||a,onClick:_,children:t.jsx(w,x({},R.connectorScopeSyncButton))}),n&&t.jsx("button",{type:"button",onClick:async()=>{s&&(p(!0),await s(),p(!1))},className:le("group/file-layout -m-2 flex aspect-square shrink-0 grow-0 items-center justify-center bg-transparent p-2",!u&&"can-hover:opacity-0 group-hover/file-row:opacity-100 focus-visible:opacity-100"),children:t.jsx("div",{className:"group-hover/file-layout:bg-token-interactive-bg-primary-selected/5 group-active/file-layout:bg-token-interactive-bg-primary-selected/15 h-full w-full rounded-md p-[5px]",children:u?t.jsx("div",{className:"flex h-full w-6 items-center justify-center",children:t.jsx(Ee,{})}):t.jsx(It,{className:"icon-sm text-token-secondary"})})})]})]})}function en({gizmoName:e,onAddFiles:s,canEdit:n}){return t.jsx("div",{className:"border-token-border-default active:bg-token-bg-tertiary flex h-full cursor-pointer items-center justify-center rounded-lg border px-4 py-3 pb-6",onClick:s,children:t.jsxs("div",{className:"text-token-text-secondary flex flex-col items-center gap-2 py-4 text-sm",children:[n?t.jsx(wt,{}):t.jsx(ie,{}),t.jsx("div",{className:"text-center",children:t.jsx("div",{className:"text-token-text-secondary max-w-100",children:t.jsx(w,k(x({},I.emptyFileInstructions),{values:{gizmoNameText:t.jsx("span",{className:"font-bold",children:t.jsx(w,k(x({},I.emptyFileGizmoName),{values:{gizmoName:e}}))},"gizmoNameText")}}))})})]})})}const tn=({ctx:e,gizmoResource:s,canEdit:n,gizmoEditorData:o,openFileDialog:r,pendingFiles:l,setVersion:u,pendingFileUpsertMutationsRef:p,currentModelConfig:a,pendingConnectorScopes:c=[],onHasVisibleFilesChange:g})=>{"use no forget";var i;const d=s.gizmo.id,_=(i=o==null?void 0:o.files)!=null?i:[],y=Array.from(l.current.values()).filter(f=>_.every(m=>m.file_id!==f.fileId)),L=y.filter(f=>a!=null&&de(a,f.file.type,f.file.name)===fe.CodeInterpreter),F=_.filter(f=>a!=null&&f.type!=null&&de(a,f.type,f.name)===fe.CodeInterpreter),P=[...L.map(f=>f.tempId),...F.map(f=>f.file_id)];return t.jsx(qt,{gizmoResource:s,canEdit:n,pendingFiles:y,pendingConnectorScopes:c,pendingFileUpsertMutationsRef:p,files:_,interpreterOnlyFileIds:P,onAddFiles:r,onHasVisibleFilesChange:g,removePendingFile:f=>{l.current.delete(f),V({ctx:e,id:d,pendingFiles:{key:f,value:null}}),u(m=>m+1)}})},fn=h.forwardRef(function({gizmo:s,accountPlanType:n,onPendingFilesChange:o,className:r,onHasVisibleFilesChange:l,pendingConnectorScopes:u=[]},p){"use no forget";var D;const a=me(),c=ee(),g=Ae(c),d=H(c,n),_=Fe(),y=ft(s),L=void 0,F=mt(()=>pt(c,{isGizmo:!1})),P=(D=F.models.get(gt))!=null?D:F&&Et(F.models.values(),U=>U.tags.includes(Nt.GPT_4o)),[i,f]=h.useState(0),m=h.useRef(new Map),b=h.useRef([]),E=xt(P,void 0),G=m.current.size>0;h.useEffect(()=>{o==null||o(G)},[G,o]);const A=U=>{U.some(({errors:N})=>{var Q;return N.length!==1||((Q=N[0])==null?void 0:Q.code)!==Ce.TooManyFiles})?g.danger(I.unknownError,{duration:2,toastId:"snorlax_handle_file_rejected"}):g.danger(a.formatMessage(I.dragTooManyFilesError,{maxFileLimit:d}),{duration:2,toastId:"snorlax_handle_file_rejected",loggingTitle:"drag_too_many_files_error"})},$=async U=>{jt.logEvent("Upload File",{client:"web",eventSource:"mouse",intent:"gizmo"});const N=y.id;U.length>0&&await Promise.all(U.map(Q=>{const se=vt(Q),pe={tempId:se,gizmoId:N,file:Q,status:ae.Uploading,progress:1,fileId:null,cdnUrl:null};m.current.set(se,pe),V({ctx:c,id:N,pendingFiles:{key:se,value:pe}}),bt(se,Q,a,g,{kind:Ct.Gizmo,gizmoId:N},{onFileUploaded:(v,K,q,T)=>{const M=m.current.get(v);M!=null&&M.fileId&&M!=null&&M.fileId&&(b.current.push({id:s.gizmo.id,mutationId:ke(),update:Y=>{var ge,xe;if(!M.fileId)return Y;const Qe=[...(ge=Y.files)!=null?ge:[],{file_id:M.fileId,name:M.file.name,size:M.file.size,type:(xe=T==null?void 0:T.mimeType)!=null?xe:Tt(M.file),last_modified:M.file.lastModified,file_size_tokens:T==null?void 0:T.fileTokenSize}];return k(x({},Y),{files:Qe})},onSuccess:()=>{m.current.delete(v),V({ctx:c,id:N,pendingFiles:{key:v,value:null}}),f(Y=>Y+1)}}),Le(s.gizmo.id)({projectId:s.gizmo.id,upsertProjectMutation:_,pendingFileUpsertMutationsRef:b}))},onFileCreated:(v,K,q)=>{const T=k(x({tempId:v,gizmoId:N,file:Q,status:ae.Uploading,progress:1},m.current.get(v)),{fileId:K,cdnUrl:q});m.current.set(v,T),V({ctx:c,id:N,pendingFiles:{key:v,value:T}}),f(M=>M+1)},onFileUploadProgress:(v,K)=>{const q=m.current.get(v);if((q==null?void 0:q.status)===ae.Uploading){const T=k(x({},q),{progress:K>95?95:K});m.current.set(v,T),V({ctx:c,id:N,pendingFiles:{key:v,value:T}})}f(T=>T+1)},onError:v=>{m.current.delete(v),V({ctx:c,id:N,pendingFiles:{key:v,value:null}}),f(K=>K+1)}},{usesRetrievalIndex:P!=null&&de(P,Q.type,Q.name)===fe.Retrieval,contextScopes:L})}))},B=yt(E),z=Mt(B),C=m.current.size+y.files.length,{canEdit:j}=ht(s),{open:S,getInputProps:O,getRootProps:Z,isDragAccept:W,isDragReject:ne}=At(x({noClick:!0,noKeyboard:!0,noDragEventsBubbling:!0,onDropAccepted:$,onDropRejected:A,multiple:!0,maxSize:St,maxFiles:d-C,validator:()=>C>=d?{code:Ce.TooManyFiles,message:"Too many files"}:null,disabled:!j},B));return h.useImperativeHandle(p,()=>({openFileDialog:S,hasPendingFiles:()=>m.current.size>0})),t.jsxs("div",k(x({},Z({className:le("h-full px-4 min-w-0",r)})),{children:[t.jsx("input",x({},O())),t.jsx(tn,{ctx:c,gizmoResource:s,canEdit:j,gizmoEditorData:y,openFileDialog:S,pendingFiles:m,pendingFileUpsertMutationsRef:b,setVersion:f,currentModelConfig:P,pendingConnectorScopes:u,onHasVisibleFilesChange:l}),W&&t.jsxs(be,{children:[t.jsx(Ft,{}),t.jsx("h3",{children:t.jsx(w,x({},I.dragInstructions))}),t.jsx("h4",{className:"w-2/3 text-center",children:z.length>0?z.join(", "):t.jsx(w,x({},I.dragAllAccepted))})]}),ne&&t.jsxs(be,{children:[t.jsx(_t,{className:"icon-2xl"}),t.jsx("h3",{children:t.jsx(w,x({},I.dragTooManyFiles))}),t.jsx("h4",{className:"w-2/3 text-center",children:t.jsx(w,k(x({},I.dragTooManyFilesDescription),{values:{maxFileLimit:d}}))})]})]}))});export{fn as S};
//# sourceMappingURL=jd69ff7by1jon8od.js.map
