var Se=Object.defineProperty,ve=Object.defineProperties;var Fe=Object.getOwnPropertyDescriptors;var ue=Object.getOwnPropertySymbols;var Ee=Object.prototype.hasOwnProperty,Ne=Object.prototype.propertyIsEnumerable;var pe=(t,e,a)=>e in t?Se(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,W=(t,e)=>{for(var a in e||(e={}))Ee.call(e,a)&&pe(t,a,e[a]);if(ue)for(var a of ue(e))Ne.call(e,a)&&pe(t,a,e[a]);return t},Q=(t,e)=>ve(t,Fe(e));import{f as ie,c as B,r as _,j as s,M as j,e as ne,n as ce,u as Le,a as fe,i as Me,a0 as Pe}from"./fg33krlcm0qyi6yw.js";import{H as ge,P as v,a9 as le,ag as ke,m as he,aN as xe,z as Re,R as We,w as _e,b as je,rj as be,E as de,p as Te,es as qe,qY as Z}from"./mtk1qztvnb31pw5r.js";import{mY as $e,W as me,D as Ae,p as Be,m as Je}from"./k65njl5wlgspihfr.js";import{u as De,i as He}from"./efooahjtdr85x1lo.js";import{U as Qe}from"./cadwyquawe84p5dr.js";import{S as Oe,a as ze,b as Ge}from"./kwtrk2ij07zyxxq3.js";import{E as Ue}from"./czn39vd97sciq42g.js";import"./km71i01x6ma5r62b.js";import"./osmdmxcl4s1h4x86.js";import"./hcn3kohxpjzaoxwc.js";import"./l7qr5j8e9lh3l959.js";import"./og8jhmm6v1nbwzo4.js";import"./kfdkis1zwf4ccfgg.js";import"./ol9d5wxhynx9q2is.js";import"./mbmcx8v24u1ao1ke.js";import"./dtmrhhn0qnqwrc6e.js";import"./pa41jscn0rs1kzfk.js";import"./iej0cupg2dqkmejt.js";import"./ifxtq3q31q8lcdo2.js";import"./dimtcupsb573kliu.js";import"./n9gd5dvuv1wemtek.js";import"./c0ls495fz2t1hbyy.js";import"./nq1hpdu2db6kh8n1.js";import"./mr025ud04jb4rh0r.js";import"./dcp7peq4y6a4kabz.js";import"./ht7pa4q84q7i97x2.js";import"./kg06gqasi13as2pn.js";import"./o3it70lkiqa69mlg.js";import"./e4epv5uv3mte9vwk.js";import"./f1xfp952knkxhcnw.js";const Ye="https://cdn.openai.com/chatgpt/team-interstitial-background.png",P=ie({heading:{id:"TeamWorkspaceFinalStep.heading",defaultMessage:"Welcome to your free ChatGPT Business workspace"},subheading:{id:"TeamWorkspaceFinalStep.subheading",defaultMessage:"Secure AI, approved by your company"},noTraining:{id:"TeamWorkspaceFinalStep.noTraining",defaultMessage:"No training on your data"},priorityAccess:{id:"TeamWorkspaceFinalStep.priorityAccess",defaultMessage:"Priority access to new features"},collaboration:{id:"TeamWorkspaceFinalStep.collaboration",defaultMessage:"Projects, collaboration, & more"},connectors:{id:"TeamWorkspaceFinalStep.connectors",defaultMessage:"Connect Google Drive & more"},doneButton:{id:"TeamWorkspaceFinalStep.doneButton",defaultMessage:"Continue"},legalDisclaimer:{id:"TeamWorkspaceFinalStep.legalDisclaimer",defaultMessage:"By continuing, you agree to our <businessTermsLink>Business Terms</businessTermsLink> and have read our <privacyPolicyLink>Privacy Policy</privacyPolicyLink>."}}),Ke=[P.noTraining,P.priorityAccess,P.connectors,P.collaboration];function Ie(t){"use forget";const e=B.c(16),{onNext:a}=t,i=ge(),o=i==null?void 0:i.subscriptionAnalyticsParams;let n,c;e[0]!==o?(n=()=>{v.logEvent("Workspace Free: Workspace Setup Complete Modal Shown",o)},c=[o],e[0]=o,e[1]=n,e[2]=c):(n=e[1],c=e[2]),_.useEffect(n,c);let p;e[3]!==o||e[4]!==a?(p=()=>{v.logEvent("Workspace Free: Workspace Setup Complete Modal Clicked",o),a()},e[3]=o,e[4]=a,e[5]=p):p=e[5];const r=p;let l;e[6]===Symbol.for("react.memo_cache_sentinel")?(l=s.jsx("div",{className:"after:absolute after:inset-0 after:bg-[linear-gradient(to_top,white_0%,white_75%,transparent_100%)] after:content-['']",children:s.jsx("img",{src:Ye,alt:"",className:"absolute inset-0 h-full w-full object-cover object-top"})}),e[6]=l):l=e[6];let g;e[7]===Symbol.for("react.memo_cache_sentinel")?(g=s.jsx("div",{className:"flex flex-col items-center text-center",children:s.jsx("h2",{className:"text-2xl font-semibold",children:s.jsx(j,Q(W({},P.heading),{values:{highlight:et}}))})}),e[7]=g):g=e[7];let x;e[8]===Symbol.for("react.memo_cache_sentinel")?(x=s.jsx("p",{className:"text-md text-token-text-primary",children:s.jsx(j,W({},P.subheading))}),e[8]=x):x=e[8];let d;e[9]===Symbol.for("react.memo_cache_sentinel")?(d=s.jsxs("div",{className:"flex flex-col gap-2 text-start",children:[x,s.jsx("ul",{className:"text-token-text-primary flex flex-col gap-2 text-base",children:Ke.map(Ze)})]}),e[9]=d):d=e[9];let f;e[10]===Symbol.for("react.memo_cache_sentinel")?(f=s.jsx(j,W({},P.doneButton)),e[10]=f):f=e[10];let u;e[11]!==r?(u=s.jsx(le,{onClick:r,size:"large",fullWidth:!0,children:f}),e[11]=r,e[12]=u):u=e[12];let k;e[13]===Symbol.for("react.memo_cache_sentinel")?(k=s.jsx("p",{className:"text-caption-regular text-token-text-tertiary text-center",children:s.jsx(j,Q(W({},P.legalDisclaimer),{values:{businessTermsLink:Xe,privacyPolicyLink:Ve}}))}),e[13]=k):k=e[13];let w;return e[14]!==u?(w=s.jsxs("div",{children:[l,s.jsxs("div",{className:"text-token-text-primary relative flex flex-col items-center justify-center gap-8",children:[g,d,u,k]})]}),e[14]=u,e[15]=w):w=e[15],w}function Ve(t){return s.jsx("a",{className:"underline",href:"https://openai.com/policies/privacy-policy",target:"_blank",rel:"noopener noreferrer",children:t})}function Xe(t){return s.jsx("a",{className:"underline",href:"https://openai.com/policies/business-terms",target:"_blank",rel:"noopener noreferrer",children:t})}function Ze(t){return s.jsxs("li",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"flex items-center justify-center text-[#5856D6]",children:s.jsx($e,{"aria-hidden":"true",className:"h-4 w-4"})}),s.jsx(j,W({},t))]},t.id)}function et(t){return s.jsx("span",{children:t})}const M=ie({joinWorkspaceHeading:{id:"createFreeWorkspace.joinWorkspaceHeading",defaultMessage:"Join or launch a workspace"},joinWorkspaceSubheading:{id:"createFreeWorkspace.joinWorkspaceSubheading",defaultMessage:"{email} has joined {count, plural, one {# workspace} other {# workspaces}}. Not what you're looking for? {switchEmailLink}"},joinWorkspaceSubheadingWithoutEmail:{id:"createFreeWorkspace.joinWorkspaceSubheadingWithoutEmail",defaultMessage:"You've joined {count, plural, one {# workspace} other {# workspaces}}. Not what you're looking for? {switchEmailLink}"},switchEmailCta:{id:"createFreeWorkspace.switchEmailCta",defaultMessage:"Switch email"},joinWorkspaceCreateNewPrompt:{id:"createFreeWorkspace.joinWorkspaceCreateNewPrompt",defaultMessage:"Want something new? {createNewLink}"},joinWorkspaceCreateNewLink:{id:"createFreeWorkspace.joinWorkspaceCreateNewLink",defaultMessage:"Create a new workspace."},continueCta:{id:"createFreeWorkspace.joinWorkspaceContinueCta",defaultMessage:"Continue"},joinWorkspaceEmptyState:{id:"createFreeWorkspace.joinWorkspaceEmptyState",defaultMessage:"We'll show any workspaces tied to your email here once we find them."}});function tt(t){"use forget";const e=B.c(39),{onCreateNewWorkspace:a,discoverableWorkspaces:i,isDiscoverableLoading:o}=t,n=ne(),c=ke(),[p]=ce();let r;e[0]!==p?(r=p.get("account_id"),e[0]=p,e[1]=r):r=e[1];const l=r,{data:g,isFetching:x}=De(),d=(g!=null?g:[]).filter(ct),f=he(),[u,k]=_.useState(i),[w,R]=_.useState(null);let F;e[2]!==l?(F=(h,A,re)=>{v.logEventWithStatsig("Free Workspace: Join Request","chatgpt_business_free_workspace_join_request",W({account_id:l!=null?l:void 0,status:h,workspace_id:A},re))},e[2]=l,e[3]=F):F=e[3];const b=F;let C;e[4]!==b?(C=(h,A)=>{b("succeeded",A),k(re=>re.map(oe=>oe.id===A?Q(W({},oe),{requested:!0}):oe))},e[4]=b,e[5]=C):C=e[5];let E;e[6]!==n||e[7]!==b||e[8]!==f?(E=(h,A)=>{R(null),b("failed",A,{error_message:h instanceof Error?h.message:String(h)}),f.danger(n.formatMessage(Be.requestAccessError),{toastId:"request-access-".concat(A)})},e[6]=n,e[7]=b,e[8]=f,e[9]=E):E=e[9];let N;e[10]===Symbol.for("react.memo_cache_sentinel")?(N=()=>{R(null)},e[10]=N):N=e[10];let L;e[11]!==C||e[12]!==E?(L={mutationFn:nt,onSuccess:C,onError:E,onSettled:N},e[11]=C,e[12]=E,e[13]=L):L=e[13];const T=Le(L),J=it;let D;e[14]!==b||e[15]!==T?(D=h=>{R(h.id),b("started",h.id),T.mutate(h.id)},e[14]=b,e[15]=T,e[16]=D):D=e[16];const ee=D;let q;e[17]!==l||e[18]!==a?(q=h=>(v.logEventWithStatsig("Free Workspace: Continue","chatgpt_business_free_workspace_continue",{account_id:l!=null?l:void 0,silent_workspace_create:h==null?void 0:h.silentWorkspaceCreate,workspace_id:l!=null?l:void 0}),a(h)),e[17]=l,e[18]=a,e[19]=q):q=e[19];const m=q,S=(x||o)&&d.length+u.length===0,y=d.length+u.length>0;let $;e[20]!==u?($=u.some(ot),e[20]=u,e[21]=$):$=e[21];const te=$;let z;e[22]!==u?(z=u.some(rt),e[22]=u,e[23]=z):z=e[23];const se=z,ye=c!=null&&c.email?M.joinWorkspaceSubheading:M.joinWorkspaceSubheadingWithoutEmail;let G;e[24]===Symbol.for("react.memo_cache_sentinel")?(G=s.jsx("div",{className:"text-token-text-primary text-2xl font-semibold",children:s.jsx(j,W({},M.joinWorkspaceHeading))}),e[24]=G):G=e[24];let U;e[25]!==c?(U=c!=null&&c.email?s.jsx("span",{className:"text-token-text-primary font-medium",children:c.email}):void 0,e[25]=c,e[26]=U):U=e[26];let Y;e[27]===Symbol.for("react.memo_cache_sentinel")?(Y=s.jsx("button",{type:"button",onClick:J,className:"text-token-text-link font-medium hover:underline focus-visible:underline focus-visible:outline-none",children:s.jsx(j,W({},M.switchEmailCta))}),e[27]=Y):Y=e[27];const Ce="list",we="border-token-border-light bg-token-main-surface-primary/90 rounded-2xl border text-start",ae=S?s.jsxs(s.Fragment,{children:[s.jsx(me,{}),s.jsx(me,{})]}):y?s.jsxs(s.Fragment,{children:[d.map(at),u.map(h=>s.jsx(Ae,{workspace:h,isLoading:T.isPending&&w===h.id,onRequestAccess:ee,onHoverRequest:st},"discoverable-".concat(h.id)))]}):s.jsx("p",{className:"text-token-text-secondary p-5 text-sm",children:s.jsx(j,W({},M.joinWorkspaceEmptyState))});let K;e[28]!==ae?(K=s.jsx("div",{role:Ce,className:we,children:ae}),e[28]=ae,e[29]=K):K=e[29];let I;e[30]!==m||e[31]!==te||e[32]!==se?(I=se?s.jsx(le,{size:"large",fullWidth:!0,onClick:()=>m({silentWorkspaceCreate:te}),children:s.jsx(j,W({},M.continueCta))}):null,e[30]=m,e[31]=te,e[32]=se,e[33]=I):I=e[33];let H;e[34]!==m?(H=()=>m({silentWorkspaceCreate:!1}),e[34]=m,e[35]=H):H=e[35];let V;e[36]===Symbol.for("react.memo_cache_sentinel")?(V=s.jsx(j,W({},M.joinWorkspaceCreateNewLink)),e[36]=V):V=e[36];let X;return e[37]!==H?(X=s.jsx("p",{className:"text-token-text-secondary text-sm",children:s.jsx(j,Q(W({},M.joinWorkspaceCreateNewPrompt),{values:{createNewLink:s.jsx("button",{type:"button",className:"text-token-text-link font-medium hover:underline focus-visible:underline focus-visible:outline-none",onClick:H,children:V})}}))}),e[37]=H,e[38]=X):X=e[38],s.jsxs("section",{className:"mt-8 flex flex-col gap-5 p-6 text-center",children:[s.jsxs("div",{children:[G,s.jsx("p",{className:"text-token-text-secondary mt-2 text-sm",children:s.jsx(j,Q(W({},ye),{values:{email:U,count:d.length,switchEmailLink:Y}}))})]}),K,I,X]})}function st(){}function at(t){return s.jsx(Ue,{workspace:t},"existing-".concat(t.id))}function rt(t){return t.requested}function ot(t){return t.requested}function it(){Re()}async function nt(t){await We.safePost("/accounts/{account_id}/invites/request",{parameters:{path:{account_id:t}}})}function ct(t){return t.structure!==xe.PERSONAL}const O=ie({pageTitle:{id:"createFreeWorkspace.pageTitle",defaultMessage:"Create a free workspace"},checkExistingCta:{id:"createFreeWorkspace.checkExistingCta",defaultMessage:"Check existing workspaces"},createNewToggleCta:{id:"createFreeWorkspace.createNewToggleCta",defaultMessage:"Create new workspace"},workspaceCreationError:{id:"createFreeWorkspace.workspaceCreationError",defaultMessage:"We couldn't create your workspace. Please try again in a moment."},errorTitle:{id:"createFreeWorkspace.errorTitle",defaultMessage:"Failed to create workspace"},errorDescription:{id:"createFreeWorkspace.errorDescription",defaultMessage:"Please try again in a moment."},retryButton:{id:"createFreeWorkspace.retryButton",defaultMessage:"Retry"}});function lt(t){"use forget";var f;const e=B.c(9),a=!t.isLoading,{data:i,isLoading:o,isFetching:n}=Je(a,!1,!0);let c;e[0]!==(i==null?void 0:i.workspaces)?(c=(f=i==null?void 0:i.workspaces)!=null?f:[],e[0]=i==null?void 0:i.workspaces,e[1]=c):c=e[1];const p=c;let r;e[2]!==p?(r=p.some(ut),e[2]=p,e[3]=r):r=e[3];const l=r,g=a&&(o||n),x=t.isLoading||g;let d;return e[4]!==p||e[5]!==l||e[6]!==x||e[7]!==g?(d={hasJoinableWorkspaces:l,isCheckingJoinableWorkspaces:x,discoverableWorkspaces:p,isDiscoverableLoading:g},e[4]=p,e[5]=l,e[6]=x,e[7]=g,e[8]=d):d=e[8],d}function ut(t){return!t.requested}function pt(){"use forget";const t=B.c(21),e=je(),a=ne(),i=fe(),o=ge(),n=_e(),[c]=ce();let p;t[0]!==c?(p=c.get("account_id"),t[0]=c,t[1]=p):p=t[1];const r=p;let l;t[2]!==n.data||t[3]!==e||t[4]!==(o==null?void 0:o.id)||t[5]!==r||t[6]!==i?(l=()=>{!r||(o==null?void 0:o.id)===r||n.data==null||!n.data.accountItems.some(R=>R.id===r)||be(e,i,r)},t[2]=n.data,t[3]=e,t[4]=o==null?void 0:o.id,t[5]=r,t[6]=i,t[7]=l):l=t[7];const g=o==null?void 0:o.id;let x;t[8]!==n.data||t[9]!==e||t[10]!==r||t[11]!==i||t[12]!==g?(x=[n.data,e,g,r,i],t[8]=n.data,t[9]=e,t[10]=r,t[11]=i,t[12]=g,t[13]=x):x=t[13],_.useEffect(l,x);let d;t[14]!==a?(d=a.formatMessage(O.pageTitle),t[14]=a,t[15]=d):d=t[15];let f;t[16]!==d?(f=s.jsx("title",{children:d}),t[16]=d,t[17]=f):f=t[17];let u;t[18]===Symbol.for("react.memo_cache_sentinel")?(u=s.jsx(Oe,{forceLightTheme:!0,children:s.jsx("div",{className:"flex flex-col",children:s.jsx(Qe,{LandingComponent:dt,FinalStepComponent:Ie,useFreeWorkspaceCopy:!0})})}),t[18]=u):u=t[18];let k;return t[19]!==f?(k=s.jsxs(s.Fragment,{children:[f,u]}),t[19]=f,t[20]=k):k=t[20],k}function dt({onNext:t}){"use no forget";var q;const e=je(),a=ne(),i=he(),o=fe(),n=ke(),[c]=ce(),p=Me(),r=c.get("account_id"),l=_.useRef(!1),[g,x]=_.useState(!1),[d,f]=_.useState(!1),u=_.useRef(null),k=_e(),[w,R]=_.useState(!1),{hasJoinableWorkspaces:F,isCheckingJoinableWorkspaces:b,discoverableWorkspaces:C,isDiscoverableLoading:E}=lt(k),N=_.useMemo(()=>{var m,S;return((S=(m=k.data)==null?void 0:m.accountItems)!=null?S:[]).filter(y=>y.structure===xe.WORKSPACE).length},[(q=k.data)==null?void 0:q.accountItems]),L=!k.isLoading&&N>0;_.useEffect(()=>{l.current||b||k.isLoading||(v.logEventWithStatsig("Free Workspace: Discovery Results","chatgpt_business_free_workspace_discovery_results",{account_id:r!=null?r:void 0,existing_workspace_count:N,discoverable_workspace_count:C.length}),l.current=!0)},[k.isLoading,r,C.length,N,b]),_.useEffect(()=>{F&&R(!0)},[F]),_.useEffect(()=>{L&&(v.logEventWithStatsig("Free Workspace: Existing Member Redirect","chatgpt_business_free_workspace_existing_member_redirect"),p("/",{replace:!0}))},[p,L]);const T=_.useCallback(async()=>{if(r)return r;if(u.current)return u.current;const m=(async()=>{const S=He(a,n),$=(await We.safePost("/accounts/create_freemium_workspace",{requestBody:{workspace_name:S}})).workspace_id;return await o.invalidateQueries(de()),await o.ensureQueryData(de()),be(e,o,$),$})();return u.current=m,m.finally(()=>{u.current=null}),m},[e,r,a,o,n]),J=_.useCallback(async m=>{var S;f(!1),x(!0);try{const y=await T();v.logEventWithStatsig("Free Workspace: Create Workspace","chatgpt_business_free_workspace_create_workspace",{account_id:(S=r!=null?r:y)!=null?S:void 0,status:"succeeded",workspace_id:y,silent_workspace_create:m==null?void 0:m.silentWorkspaceCreate}),t(y,m==null?void 0:m.silentWorkspaceCreate)}catch(y){if(y instanceof Te&&y.code==="request_account_access"){qe(e,"chatgpt_business_free_workspace_request_account_access_error"),p("/");return}f(!0),x(!1),v.logEventWithStatsig("Free Workspace: Create Workspace","chatgpt_business_free_workspace_create_workspace",{account_id:r!=null?r:void 0,status:"failed",silent_workspace_create:m==null?void 0:m.silentWorkspaceCreate}),i.danger(a.formatMessage(O.workspaceCreationError),{hasCloseButton:!0});return}},[e,r,T,a,p,t,i]),D=k.isLoading||b&&!w,ee=_.useCallback(()=>{v.logEventWithStatsig("Free Workspace: Create Workspace","chatgpt_business_free_workspace_create_workspace",{account_id:r!=null?r:void 0,status:"retry"}),J()},[r,J]);return L?s.jsx(Z,{}):D?s.jsx(Z,{}):g?s.jsx(Z,{}):F?s.jsx(tt,{onCreateNewWorkspace:J,discoverableWorkspaces:C,isDiscoverableLoading:E}):d?s.jsx(ft,{startWorkspaceCreation:ee}):s.jsx(mt,{startWorkspaceCreation:J})}function mt(t){"use forget";const e=B.c(4),{startWorkspaceCreation:a}=t;let i,o;e[0]!==a?(i=()=>{a()},o=[a],e[0]=a,e[1]=i,e[2]=o):(i=e[1],o=e[2]),_.useEffect(i,o);let n;return e[3]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsx(Z,{}),e[3]=n):n=e[3],n}function ft(t){"use forget";const e=B.c(5),{startWorkspaceCreation:a}=t;let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=s.jsx(ze,{children:s.jsx(j,W({},O.errorTitle))}),e[0]=i):i=e[0];let o;e[1]===Symbol.for("react.memo_cache_sentinel")?(o=s.jsx(Ge,{children:s.jsx(j,W({},O.errorDescription))}),e[1]=o):o=e[1];let n;e[2]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsx(j,W({},O.retryButton)),e[2]=n):n=e[2];let c;return e[3]!==a?(c=s.jsxs(s.Fragment,{children:[i,o,s.jsx(le,{type:"button",onClick:a,size:"large",fullWidth:!0,children:n})]}),e[3]=a,e[4]=c):c=e[4],c}const Gt=Pe(function(){"use forget";const e=B.c(1);let a;return e[0]===Symbol.for("react.memo_cache_sentinel")?(a=s.jsx(pt,{}),e[0]=a):a=e[0],a});export{Gt as default};
//# sourceMappingURL=ev41a4t6y6mmf2oo.js.map
