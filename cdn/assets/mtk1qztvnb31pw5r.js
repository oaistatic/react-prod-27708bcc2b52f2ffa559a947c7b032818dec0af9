const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/qhz9e7r99e1rfb9h.js","assets/fg33krlcm0qyi6yw.js","assets/k65njl5wlgspihfr.js","assets/conversation-small-332fs9rk.css","assets/g4ad68php5ui004m.js","assets/k5o2uyubrehejlmi.js","assets/dpdobqk4g9a7rtiz.js","assets/ervoffyksiw5mef9.js","assets/cdscbhv4xu1gie74.js","assets/lim1lqburrpeu20v.js","assets/eryy8x9pwfrh26dy.js","assets/ey3cs36253y5gcya.js","assets/n3blwp27s38c9xr4.js","assets/c7su88sgygllvn5u.js","assets/ikhecou4geu140tb.js","assets/c3n1o8jzfcramdfc.js","assets/opfre1tfio4pl0k0.js","assets/lad8yx56mqsdspc9.js","assets/silk-hq-lutwos9z.css","assets/csyhgpw8szcoz725.js","assets/occl967qxfy4fv2p.js","assets/gaj6e78ii9fgijkk.js","assets/mstl8wgfzorpgdoe.js","assets/c0ls495fz2t1hbyy.js","assets/fw6x669g9hrx2l8g.js","assets/bgx9m29b5moow7ak.js","assets/nh6jey1rhee4y78p.js","assets/fiz64w0mgijitz6k.js","assets/dj4fs09pt4xr067s.js","assets/hjefkrcfzvzvyta6.js","assets/wl2advqg24clhvpi.js","assets/l79tw55p1ybii0aj.js","assets/gozpyw5s1npo9cdt.js","assets/m1bfa4u7ch9ogz2v.js","assets/es6tdnxyedyw41q4.js","assets/gp1jnovlq00qfsrt.js","assets/jmct30fsgsyy93nr.js","assets/he7oe7s4xa3cph5y.js","assets/gy1lpvuoewmzh42c.js","assets/jed1ux7qibe55pmj.js","assets/h1em0bjkpkjv8ykw.js","assets/nfccle6oyncifphl.js","assets/hu1bt0oauegdhua6.js","assets/nfvtbit6sxjfmijr.js","assets/f5y6cesb2c9ttetg.js","assets/ft3sidzsg2kspvj9.js","assets/josbm46cli4lgccy.js","assets/i6xoxkv1u39t9ppd.js","assets/n30lfugazpsc3n5e.js","assets/kgrrqncjl71482vi.js","assets/i5jw6wfkpao2rx5t.js","assets/krwszi9u3lj63i9v.js","assets/j7vr3wxxnh5g6uxz.js","assets/kl7c6054usfnqmd4.js","assets/k97n0y6ba9c9h39c.js","assets/edj7fjf1axi04apv.js","assets/e8riaedm8hyd8ib0.js","assets/fq8lajfw7ut2am4f.js","assets/id9ie5ucoiqoo529.js","assets/obeuuqvvz3ptpbah.js","assets/ht7pa4q84q7i97x2.js","assets/ciyotrhew4275t06.js","assets/ojlr534s5rpslkxs.js","assets/i343cenm2z0sru19.js","assets/khjleze1r7lyk9e0.js","assets/jawullnjvz8da20g.js","assets/mwvbcixk8j7xayed.js","assets/dy5lfx8pblnkst90.js","assets/fwtgnu9jfrrdfrmw.js","assets/jamwnn6d0jz74foj.js","assets/oa3pp0k35b2ppxx3.js","assets/g4m5jvhceaijyr4o.js","assets/m0dqbfmysj2gn9xk.js","assets/c0yxya1tj5roedd5.js","assets/j9m6tk8ksckrygfu.js","assets/ljzdp59n77a99uo8.js","assets/fms8qmym5rar4wm3.js","assets/efooahjtdr85x1lo.js","assets/km71i01x6ma5r62b.js","assets/iej0cupg2dqkmejt.js","assets/h370k1wse4qy92bx.js","assets/h7j5jaik108ahib8.js","assets/lrjh643dtnheyize.js","assets/ibjz9c01f0uy7k53.js","assets/c2pd1td4qqo2eofo.js","assets/hie92tcr1tc04u0h.js","assets/j6c7t6fq2e2dzq0l.js","assets/uwm5r01je8eaqgfc.js","assets/ir9gt1ho5jxrc5j1.js","assets/jaya7jppqn559p04.js","assets/mh627gt08lvdeswk.js","assets/k43gn7pl526u53kc.js","assets/jdzosouyvpzu0tpb.js","assets/o4kivb8wp4536409.js","assets/nq1hpdu2db6kh8n1.js","assets/mr025ud04jb4rh0r.js","assets/dcp7peq4y6a4kabz.js","assets/l6gg4oal15ycpbhj.js","assets/27egyxvdbhiyko0z.js","assets/ojve869uwykk95at.js","assets/ly75bs3d14n5v622.js","assets/e4epv5uv3mte9vwk.js","assets/cu8wmvebhh39ned9.js","assets/b9zbambfgbao1jch.js","assets/exbyaee45o0onuld.js","assets/ifr23omr9d78ntp2.js","assets/hcn3kohxpjzaoxwc.js","assets/iwjq7ihlx67l3ajk.js","assets/h0pbwkfesoibvhzi.js","assets/g1t396kc8zdrcej0.js","assets/pfv3bvzdo2nf1r24.js","assets/f9pzryur9tap9c73.js","assets/eriw8xzq2x3iai4g.js","assets/dtmrhhn0qnqwrc6e.js","assets/pa41jscn0rs1kzfk.js","assets/fnqrcpoa3d0i8h7q.js","assets/n7mets7vj05lk8ya.js"])))=>i.map(i=>d[i]);
var jR=Object.freeze,BR=Object.defineProperty,JJ=Object.defineProperties;var QJ=Object.getOwnPropertyDescriptors;var _p=Object.getOwnPropertySymbols;var GR=Object.prototype.hasOwnProperty,WR=Object.prototype.propertyIsEnumerable;var gy=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),HR=e=>{throw TypeError(e)};var vy=(e,t,n)=>t in e?BR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,b=(e,t)=>{for(var n in t||(t={}))GR.call(t,n)&&vy(e,n,t[n]);if(_p)for(var n of _p(t))WR.call(t,n)&&vy(e,n,t[n]);return e},I=(e,t)=>JJ(e,QJ(t));var G=(e,t)=>{var n={};for(var r in e)GR.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&_p)for(var r of _p(e))t.indexOf(r)<0&&WR.call(e,r)&&(n[r]=e[r]);return n};var U=(e,t,n)=>vy(e,typeof t!="symbol"?t+"":t,n),yy=(e,t,n)=>t.has(e)||HR("Cannot "+n);var pe=(e,t,n)=>(yy(e,t,"read from private field"),n?n.call(e):t.get(e)),kt=(e,t,n)=>t.has(e)?HR("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),zt=(e,t,n,r)=>(yy(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),hl=(e,t,n)=>(yy(e,t,"access private method"),n);var ri=(e,t)=>jR(BR(e,"raw",{value:jR(t||e.slice())}));var To=function(e,t){this[0]=e,this[1]=t},mp=(e,t,n)=>{var r=(o,a,c,l)=>{try{var u=n[o](a),d=(a=u.value)instanceof To,f=u.done;Promise.resolve(d?a[0]:a).then(h=>d?r(o==="return"?o:"next",a[1]?{done:h.done,value:h.value}:h,c,l):c({value:h,done:f})).catch(h=>r("throw",h,c,l))}catch(h){l(h)}},s=o=>i[o]=a=>new Promise((c,l)=>r(o,a,c,l)),i={};return n=n.apply(e,t),i[gy("asyncIterator")]=()=>i,s("next"),s("throw"),s("return"),i};var $R=(e,t,n)=>(t=e[gy("asyncIterator")])?t.call(e):(e=e[gy("iterator")](),t={},n=(r,s)=>(s=e[r])&&(t[r]=i=>new Promise((o,a,c)=>(i=s.call(e,i),c=i.done,Promise.resolve(i.value).then(l=>o({value:l,done:c}),a)))),n("next"),n("return"),t);import{r as C,c as W,j as g,C as kn,D as qn,G as ZJ,H as eQ,Q as tQ,I as Cw,k as Sw,_ as ne,J as aG,K as nQ,N as rQ,E as It,v as yr,h as $t,d as En,z as Dl,f as At,q as ln,e as ft,B as Nd,a as Kt,u as tn,w as zc,m as nn,M as Tt,L as bw,$ as sQ,n as Yc,A as cG,O as iQ,s as lG,b as rn,l as uG,P as oQ,R as dG,x as fG,S as aQ,g as cQ,i as co,T as Lo,U as hG,V as lQ,W as uQ,X as pG,Y as dQ,Z as fQ,a0 as hQ,a1 as pQ,a2 as _Q,a3 as mQ,a4 as gQ,a5 as vQ,a6 as yQ,a7 as EQ}from"./fg33krlcm0qyi6yw.js";var cu,dr,uc,Uo;const Za=class Za{constructor(){kt(this,dr);kt(this,uc,new Map);kt(this,Uo,[])}static get instance(){return pe(Za,cu)||zt(Za,cu,new Za),pe(Za,cu)}setLogger(t){if(pe(this,dr))throw new Error("Logger already set");zt(this,dr,t);for(const[n,{time:r,onlyLogFirst:s,serialTimingGroup:i}]of pe(this,uc).entries())s?pe(this,dr).addFirstTiming(n,{time:r,serialTimingGroup:i}):pe(this,dr).addTiming(n,{time:r,serialTimingGroup:i});pe(this,uc).clear();for(const{error:n,context:r}of pe(this,Uo))pe(this,dr).addError(n,r);zt(this,Uo,[])}addTiming(t,{time:n,serialTimingGroup:r}={}){pe(this,dr)?pe(this,dr).addTiming(t,{time:n,serialTimingGroup:r}):pe(this,uc).set(t,{time:n!=null?n:Date.now(),onlyLogFirst:!1,serialTimingGroup:r})}addFirstTiming(t,{time:n,serialTimingGroup:r}={}){pe(this,dr)?pe(this,dr).addFirstTiming(t,{time:n,serialTimingGroup:r}):pe(this,uc).set(t,{time:n!=null?n:Date.now(),onlyLogFirst:!0,serialTimingGroup:r})}addError(t,n){pe(this,dr)?pe(this,dr).addError(t,n):(pe(this,Uo).push({error:t,context:n}),pe(this,Uo).length>10&&(console.warn("LazyLogger: too many errors"),pe(this,Uo).shift()))}};cu=new WeakMap,dr=new WeakMap,uc=new WeakMap,Uo=new WeakMap,kt(Za,cu);let oA=Za;function CQ(){return{}}let SQ=CQ();function bQ(){return SQ}function cg(e){return function(n){const r=Symbol(void 0);return s=>{if(!s)throw new Error("Attempted to access scoped value without a ".concat(e,"."));const i=s;if(r in i){const o=i[r];if(o===qR)throw new Error("[".concat(e,"] Dependency cycle during scoped value initialization."));if(o instanceof Error)throw o;return o}try{i[r]=qR;const o=n(s);return i[r]=o,o}catch(o){const a=o instanceof Error?o:new Error("[".concat(e,"] Failed to initialize scoped value: ")+o,{cause:o});throw i[r]=a,a}}}}const ct=cg("SessionContext"),qR=Symbol();function An(){return bQ()}function ce(){return An()}const TQ=C.createContext(void 0),OQ=e=>{"use forget";const t=W.c(3),{sessionContext:n,children:r}=e;let s;return t[0]!==r||t[1]!==n?(s=g.jsx(TQ.Provider,{value:n,children:r}),t[0]=r,t[1]=n,t[2]=s):s=t[2],s};function Bt(){return An()}function lo(e){const t=new WeakMap;return function(n){if(t.has(n))return t.get(n);{const r=e(n);return t.set(n,r),r}}}function AQ(e){const t=new WeakMap;return function(n,r){let s=t.get(n);if(s||(s=new WeakMap,t.set(n,s)),s.has(r))return s.get(r);{const i=e(n,r);return s.set(r,i),i}}}function di(e){let t;return()=>(t!=null?t:t={value:e()}).value}function uGe(e,t){const n=new Map,r=t==null?void 0:t.limit;return s=>{const i=n.get(s);if(i)return i.value;const o=e(s);if(n.set(s,{value:o}),n.size>r){const[a]=n.keys();a!==void 0&&n.delete(a)}return o}}function wQ(e,t){var n;return e instanceof Error&&((n=Error.captureStackTrace)==null||n.call(Error,e,t)),e}function $s(e,t="<unknown>"){if(e==null)throw wQ(new Error("".concat(t,": unexpected nullish value: ").concat(JSON.stringify(e))),$s);return e}function Fr(){return navigator.userAgent}function Tw(){return/iPad|iPhone|iPod/.test(Fr())}function lg(){return/Android/.test(Fr())}function NQ(){return Tw()&&Fr().includes("CriOS")}function Kc(){return Tw()||lg()||NQ()}function aA(){return/^((?!chrome|android).)*safari/i.test(Fr())}function dGe(){return lg()&&Fr().includes("Chrome")}function IQ(){return Fr().includes("Mac OS X")}function Ow(){return Tw()||IQ()}function fGe(){return Fr().includes("Windows_NT")}function hGe(){return Fr().includes("Chrome/")&&!/Android|iPhone|iPad/i.test(Fr())}function pGe(){return Fr().includes("Firefox")}function Aw(){const e=Fr();return/iPad/.test(e)||lg()&&!/Mobile/.test(e)||/Tablet/.test(e)}const PQ=["; wv","webview","fbav","fb_iab","fban","instagram","line/","kakaotalk","snapchat","tiktok"];function RQ(){const e=Fr(),t=/iPhone|iPad|iPod/.test(e),n=/Android/.test(e),r=t&&!/Safari/.test(e),s=n&&/Version\/\d+\.\d+/.test(e),i=PQ.some(o=>e.toLocaleLowerCase().includes(o));return r||s||i}function xQ(){return Kc()&&!Aw()}function _G(){return Kc()||Aw()}function ww(){return!_G()}const MQ=/^ChatGPT.+Macintosh;.+ Chrome\/([\d.]+) .*$/;let gp;function Qn(){return gp!=null||(gp=kQ(Fr())),gp}function kQ(e){return MQ.test(e)}const LQ=["Fetch is aborted","Load failed","Script error.","Failed to execute 'insertBefore' on 'Node'","ResizeObserver loop completed with undelivered notifications.","Object Not Found Matching Id","Object.hasOwn is not a function"],DQ=100,VR=1e3,vp=[];function zR(e,t){const n=e.findIndex(r=>r<=t);return n===-1?e.length:n}const FQ=e=>{var s;if((s=e.stack)!=null&&s.includes("-extension://")||e.source==="console"||LQ.some(i=>{var o;return(o=e==null?void 0:e.message)==null?void 0:o.includes(i)})||e.type==="RequestError")return!0;const t=Date.now(),n=t-1e3*60;if(zR(vp,n)>=DQ)return!0;const r=t-1e3*60*60*24;return zR(vp,r)>=VR?!0:(vp.unshift(t),vp.splice(VR),!1)};function mG(){return location.origin===window.location.origin||!1||!1}function UQ(){return Qn()?"mini-web":"chatgpt-web"}const yp=typeof window>"u"?void 0:window.DesktopHostGateway,ot=(yp==null?void 0:yp.getVersion())===1?yp:void 0,ug=ot!==void 0,gG=ug||!1;function _Ge(e){if(e===void 0)return;const t=/^ChatGPT\/([\d.]+) \(([^)]+)\) Electron\/([\d.]+) Chrome\/([\d.]+)$/,n=e.match(t);if(n)return n[1]}class Gt extends Error{constructor(n,r,s,i,o){var c,l,u,d;const a=typeof s.error=="string"&&s.error||typeof s.detail=="string"&&s.detail||((c=s.detail)==null?void 0:c.message)||((l=s.detail)==null?void 0:l.description)||((d=(u=s.detail)==null?void 0:u.error)==null?void 0:d.message)||BQ;super(a);U(this,"name","RequestError");U(this,"detail");U(this,"jsonError");this.url=n,this.status=r,this.json=s,this.requestId=i,this.rawError=o,this.detail=s.detail,this.jsonError=s.error,this.rawError=o}static createWithErrorMessage(n,r,s,i,o){return new Gt(n,r==="client"?400:500,{error:s},i,o)}get code(){var n,r,s,i,o,a,c,l,u;return(u=(a=(s=(n=this.detail)==null?void 0:n.code)!=null?s:(r=this.jsonError)==null?void 0:r.code)!=null?a:(o=(i=this.jsonError)==null?void 0:i.error)==null?void 0:o.code)!=null?u:(l=(c=this.detail)==null?void 0:c.error)==null?void 0:l.code}isClientError(){return this.status>=400&&this.status<500}isServerError(){return this.status>=500}}class Rt extends Error{constructor(n,r,s){super("".concat(n,": ").concat(r));U(this,"name","UserFileError");U(this,"code");U(this,"extra");this.code=r,this.extra=s}}const jQ="If this issue persists please contact us through our help center at help.openai.com.",vG="If this issue persists please contact us through our help center at [help.openai.com](https://help.openai.com/).",BQ="Something went wrong. ".concat(jQ),mGe="Something went wrong while generating the response. ".concat(vG),gGe="A network error occurred. Please check your connection and try again. ".concat(vG),vGe="Network connection lost. Attempting to reconnectâ€¦";function Nw(e){if(e instanceof Gt&&typeof e.message=="string"&&e.message)return e.message}var GQ=(e=>(e.HistoryDisabledConversationNotFound="history_disabled_conversation_not_found",e.ModelCapExceeded="model_cap_exceeded",e.MissingLastCompletion="missing_last_completion",e.InterruptionServerError="interruption_server_error",e))(GQ||{}),WQ=(e=>(e.NetworkErrorWithReconnection="network_error_with_reconnection",e))(WQ||{});function yGe(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Something went wrong")}function HQ(e){return e instanceof Error&&e.name==="AbortError"}function $Q(e){if(typeof navigator<"u"&&!navigator.onLine)return!0;if(e instanceof Error){const t=e.message.toLowerCase();if(t.includes("failed to fetch")||t.includes("networkerror when attempting to fetch resource")||t.includes("network")||t.includes("load failed")||t.includes("failed to resolve")||t.includes("dns")||/\b(enotfound|eai_again|eaddrinfo|econnrefused|econnreset|etimedout)\b/.test(t))return!0;if(t.includes("something went wrong while generating the response")||t.includes("aborted")||t.includes("no available models")||t.includes("starting a new chat")||t.includes("too many concurrent requests")||t.includes("message you submitted was too long")||t.includes("hit your limit")||t.includes("maximum length")||t.includes("rate limit exceeded")||t.includes("limit of messages")||t.includes("unusual activity")||t.includes("input too large")||t.includes("conversation key not found")||t.includes("authentication token is expired")||t.includes("conversation is stale"))return!1;if(e instanceof TypeError)return!0}return!1}function EGe(e){return e instanceof Gt?{error_category:"request_error",error_status:e.status,error_code:e.code,error_name:e.name,error_request_id:e.requestId,error_is_client_error:e.isClientError(),error_is_server_error:e.isServerError()}:HQ(e)?{error_category:"abort_error",error_name:e.name}:$Q(e)?{error_category:"network_error",error_name:e instanceof Error?e.name:void 0}:e instanceof Error?{error_category:"unknown_error",error_name:e.name}:e===void 0?{error_category:"none"}:{error_category:"unknown_error",error_name:typeof e}}function YR(...e){try{return new URL(...e)}catch(t){return null}}function Yd(e){const t=new URL(e);return t.searchParams.has("q")&&t.searchParams.set("q","<redacted>"),t.toString()}const Ep=(e,t,n={})=>{var s;const r=b({level:e,message:String(t)},n);t instanceof Error&&(r.error=t),r.error instanceof Error&&(r.error=(s=r.error.stack)!=null?s:String(r.error));try{console[e](r)}catch(i){Ac.error({level:"error",message:"Error stringifying log object."+(typeof r.message=="string"?" Message: ".concat(r.message):"")})}},Ac={info:(...e)=>Ep("info",...e),error:(...e)=>Ep("error",...e),warn:(...e)=>Ep("warn",...e),debug:(...e)=>Ep("debug",...e)};function KR(e){return new Promise(t=>{setTimeout(()=>t(e()),0)})}function qQ(){const e="scheduler"in globalThis;if(!e)return{supportsScheduler:e,supportsYield:!1};const n="yield"in globalThis.scheduler;return{supportsScheduler:e,supportsYield:n}}let Ey;function VQ(){const e=globalThis.scheduler,{supportsScheduler:t,supportsYield:n}=qQ();return e&&n?e:t&&!n?(Object.defineProperty(e,"yield",{value:()=>e.postTask(()=>{})}),e):(Ey||(Ey={postTask:KR,yield:()=>KR(()=>{})}),Ey)}class zQ{constructor(){U(this,"scheduler")}setScheduler(){this.scheduler||(this.scheduler=VQ())}postTask(t,n){return this.setScheduler(),this.scheduler.postTask(t,n)}yield(){return this.setScheduler(),this.scheduler.yield()}}const YQ=new zQ,KQ="client-nb0qtYlZuy2tCMN5s5ncnuIBCJncjRViT0IzFm7GqST";let yG="development";yG="production";const XQ=yG;var EG=(e=>(e.FreeSearchHoldout="fsh",e.AnonSearchHoldout="ash",e.NoAuthEnableFileUploads="naefu",e.AnonGizmoChatEnabled="agce",e.NoAuthEnableConversationHandoff="naech",e))(EG||{});let JQ=di(()=>{var t;const e=(t=document.getElementById("client-bootstrap"))==null?void 0:t.textContent;if(e)return JSON.parse(e);if(window.CLIENT_BOOTSTRAP)return window.CLIENT_BOOTSTRAP;throw new Error("missing client-bootstrap script")});function vt(e){return $s(JQ(),"missing clientBootstrap")}function QQ(){return vt()}var Ia={},pl={},Cp={},XR;function ZQ(){if(XR)return Cp;XR=1,Object.defineProperty(Cp,"__esModule",{value:!0});const e=kn();let t=class{constructor(r){this._sdkKey=r,this._rawValues=null,this._values=null,this._source="Uninitialized",this._lcut=0,this._receivedAt=0,this._bootstrapMetadata=null,this._warnings=new Set}reset(){this._values=null,this._rawValues=null,this._source="Loading",this._lcut=0,this._receivedAt=0,this._bootstrapMetadata=null,this._warnings.clear()}finalize(){this._values||(this._source="NoValues")}getValues(){return this._rawValues?(0,e._typedJsonParse)(this._rawValues,"has_updates","EvaluationStoreValues"):null}setValues(r,s){var i,o;if(!r)return!1;const a=(0,e._typedJsonParse)(r.data,"has_updates","EvaluationResponse");return a==null?!1:(this._source=r.source,(a==null?void 0:a.has_updates)!==!0||((i=a.time)!==null&&i!==void 0?i:0)<this._lcut||(this._rawValues=r.data,this._lcut=a.time,this._receivedAt=r.receivedAt,this._values=a,this._bootstrapMetadata=this._extractBootstrapMetadata(r.source,a),r.source&&a.user&&this._setWarningState(s,a),e.SDKFlags.setFlags(this._sdkKey,(o=a.sdk_flags)!==null&&o!==void 0?o:{})),!0)}getWarnings(){if(this._warnings.size!==0)return Array.from(this._warnings)}getGate(r){var s;return this._getDetailedStoreResult((s=this._values)===null||s===void 0?void 0:s.feature_gates,r)}getConfig(r){var s;return this._getDetailedStoreResult((s=this._values)===null||s===void 0?void 0:s.dynamic_configs,r)}getConfigList(){var r;return!((r=this._values)===null||r===void 0)&&r.dynamic_configs?Object.values(this._values.dynamic_configs).map(s=>s.name):[]}getLayer(r){var s;return this._getDetailedStoreResult((s=this._values)===null||s===void 0?void 0:s.layer_configs,r)}getParamStore(r){var s;return this._getDetailedStoreResult((s=this._values)===null||s===void 0?void 0:s.param_stores,r)}getSource(){return this._source}getExposureMapping(){var r;return(r=this._values)===null||r===void 0?void 0:r.exposures}_extractBootstrapMetadata(r,s){if(r!=="Bootstrap")return null;const i={};return s.user&&(i.user=s.user),s.sdkInfo&&(i.generatorSDKInfo=s.sdkInfo),i.lcut=s.time,i}_getDetailedStoreResult(r,s){let i=null;return r&&(i=r[s]?r[s]:r[(0,e._DJB2)(s)]),{result:i,details:this._getDetails(i==null)}}_setWarningState(r,s){var i,o;const a=e.StableID.get(this._sdkKey);if(((i=r.customIDs)===null||i===void 0?void 0:i.stableID)!==a&&(!((o=r.customIDs)===null||o===void 0)&&o.stableID||a)){this._warnings.add("StableIDMismatch");return}if("user"in s){const c=s.user,l=Object.assign(Object.assign({},r),{analyticsOnlyMetadata:void 0,privateAttributes:void 0});(0,e._getFullUserHash)(l)!==(0,e._getFullUserHash)(c)&&this._warnings.add("PartialUserMatch")}}getCurrentSourceDetails(){if(this._source==="Uninitialized"||this._source==="NoValues")return{reason:this._source};const r={reason:this._source,lcut:this._lcut,receivedAt:this._receivedAt};return this._warnings.size>0&&(r.warnings=Array.from(this._warnings)),r}_getDetails(r){var s,i;const o=this.getCurrentSourceDetails();let a=o.reason;const c=(s=o.warnings)!==null&&s!==void 0?s:[];if(this._source==="Bootstrap"&&c.length>0&&(a=a+c[0]),a!=="Uninitialized"&&a!=="NoValues"){const u=r?"Unrecognized":"Recognized";a="".concat(a,":").concat(u)}const l=this._source==="Bootstrap"&&(i=this._bootstrapMetadata)!==null&&i!==void 0?i:void 0;return l&&(o.bootstrapMetadata=l),Object.assign(Object.assign({},o),{reason:a})}};return Cp.default=t,Cp}var _l={},ad={},JR;function eZ(){if(JR)return ad;JR=1,Object.defineProperty(ad,"__esModule",{value:!0}),ad._resolveDeltasResponse=void 0;const e=kn(),t=2;function n(o,a){const c=(0,e._typedJsonParse)(a,"checksum","DeltasEvaluationResponse");if(!c)return{hadBadDeltaChecksum:!0};const l=r(o,c),u=s(l),d=(0,e._DJB2Object)({feature_gates:u.feature_gates,dynamic_configs:u.dynamic_configs,layer_configs:u.layer_configs},t);return d===c.checksumV2?JSON.stringify(u):{hadBadDeltaChecksum:!0,badChecksum:d,badMergedConfigs:u,badFullResponse:c.deltas_full_response}}ad._resolveDeltasResponse=n;function r(o,a){return Object.assign(Object.assign(Object.assign({},o),a),{feature_gates:Object.assign(Object.assign({},o.feature_gates),a.feature_gates),layer_configs:Object.assign(Object.assign({},o.layer_configs),a.layer_configs),dynamic_configs:Object.assign(Object.assign({},o.dynamic_configs),a.dynamic_configs)})}function s(o){const a=o;return i(o.deleted_gates,a.feature_gates),delete a.deleted_gates,i(o.deleted_configs,a.dynamic_configs),delete a.deleted_configs,i(o.deleted_layers,a.layer_configs),delete a.deleted_layers,a}function i(o,a){o==null||o.forEach(c=>{delete a[c]})}return ad}var QR;function CG(){if(QR)return _l;QR=1;var e=_l&&_l.__awaiter||function(s,i,o,a){function c(l){return l instanceof o?l:new o(function(u){u(l)})}return new(o||(o=Promise))(function(l,u){function d(p){try{h(a.next(p))}catch(_){u(_)}}function f(p){try{h(a.throw(p))}catch(_){u(_)}}function h(p){p.done?l(p.value):c(p.value).then(d,f)}h((a=a.apply(s,i||[])).next())})};Object.defineProperty(_l,"__esModule",{value:!0});const t=kn(),n=eZ();class r extends t.NetworkCore{constructor(i,o){super(i,o);const a=i==null?void 0:i.networkConfig;this._option=i,this._initializeUrlConfig=new t.UrlConfiguration(t.Endpoint._initialize,a==null?void 0:a.initializeUrl,a==null?void 0:a.api,a==null?void 0:a.initializeFallbackUrls)}fetchEvaluations(i,o,a,c,l){return e(this,void 0,void 0,function*(){var u,d,f,h,p,_;const m=o?(0,t._typedJsonParse)(o,"has_updates","InitializeResponse"):null;let y={user:c,hash:(f=(d=(u=this._option)===null||u===void 0?void 0:u.networkConfig)===null||d===void 0?void 0:d.initializeHashAlgorithm)!==null&&f!==void 0?f:"djb2",deltasResponseRequested:!1,full_checksum:null};if(m!=null&&m.has_updates){const v=(m==null?void 0:m.hash_used)!==((_=(p=(h=this._option)===null||h===void 0?void 0:h.networkConfig)===null||p===void 0?void 0:p.initializeHashAlgorithm)!==null&&_!==void 0?_:"djb2");y=Object.assign(Object.assign({},y),{sinceTime:l&&!v?m.time:0,previousDerivedFields:"derived_fields"in m&&l?m.derived_fields:{},deltasResponseRequested:!0,full_checksum:m.full_checksum,partialUserMatchSinceTime:v?0:m.time})}return this._fetchEvaluations(i,m,y,a)})}_fetchEvaluations(i,o,a,c){return e(this,void 0,void 0,function*(){var l,u;const d=yield this.post({sdkKey:i,urlConfig:this._initializeUrlConfig,data:a,retries:2,isStatsigEncodable:!0,priority:c});if((d==null?void 0:d.code)===204)return'{"has_updates": false}';if((d==null?void 0:d.code)!==200)return(l=d==null?void 0:d.body)!==null&&l!==void 0?l:null;if((o==null?void 0:o.has_updates)!==!0||((u=d.body)===null||u===void 0?void 0:u.includes('"is_delta":true'))!==!0||a.deltasResponseRequested!==!0)return d.body;const f=(0,n._resolveDeltasResponse)(o,d.body);return typeof f=="string"?f:this._fetchEvaluations(i,o,Object.assign(Object.assign(Object.assign({},a),f),{deltasResponseRequested:!1}),c)})}}return _l.default=r,_l}var cd={},ZR;function tZ(){if(ZR)return cd;ZR=1,Object.defineProperty(cd,"__esModule",{value:!0}),cd._makeParamStoreGetter=void 0;const e=kn(),t={disableExposureLog:!0};function n(u){return u==null||u.disableExposureLog===!1}function r(u,d){return d!=null&&!(0,e._isTypeMatch)(u,d)}function s(u,d){return u.value}function i(u,d,f){return u.getFeatureGate(d.gate_name,n(f)?void 0:t).value?d.pass_value:d.fail_value}function o(u,d,f,h){const _=u.getDynamicConfig(d.config_name,n(h)?void 0:t).get(d.param_name);return r(_,f)?f:_}function a(u,d,f,h){const _=u.getExperiment(d.experiment_name,n(h)?void 0:t).get(d.param_name);return r(_,f)?f:_}function c(u,d,f,h){const _=u.getLayer(d.layer_name,n(h)?void 0:t).get(d.param_name);return r(_,f)?f:_}function l(u,d,f){return(h,p)=>{if(d==null)return p;const _=d[h];if(_==null||p!=null&&(0,e._typeOf)(p)!==_.param_type)return p;switch(_.ref_type){case"static":return s(_);case"gate":return i(u,_,f);case"dynamic_config":return o(u,_,p,f);case"experiment":return a(u,_,p,f);case"layer":return c(u,_,p,f);default:return p}}}return cd._makeParamStoreGetter=l,cd}var Pa={},ex;function nZ(){if(ex)return Pa;ex=1;var e=Pa&&Pa.__awaiter||function(s,i,o,a){function c(l){return l instanceof o?l:new o(function(u){u(l)})}return new(o||(o=Promise))(function(l,u){function d(p){try{h(a.next(p))}catch(_){u(_)}}function f(p){try{h(a.throw(p))}catch(_){u(_)}}function h(p){p.done?l(p.value):c(p.value).then(d,f)}h((a=a.apply(s,i||[])).next())})};Object.defineProperty(Pa,"__esModule",{value:!0}),Pa.StatsigEvaluationsDataAdapter=void 0;const t=kn(),n=CG();let r=class extends t.DataAdapterCore{constructor(){super("EvaluationsDataAdapter","evaluations"),this._network=null,this._options=null}attach(i,o,a){super.attach(i,o,a),a!==null&&a instanceof n.default?this._network=a:this._network=new n.default(o!=null?o:{})}getDataAsync(i,o,a){return this._getDataAsyncImpl(i,(0,t._normalizeUser)(o,this._options),a)}prefetchData(i,o){return this._prefetchDataImpl(i,o)}setData(i){const o=(0,t._typedJsonParse)(i,"has_updates","data");o&&"user"in o?super.setData(i,o.user):t.Log.error("StatsigUser not found. You may be using an older server SDK version. Please upgrade your SDK or use setDataLegacy.")}setDataLegacy(i,o){super.setData(i,o)}_fetchFromNetwork(i,o,a,c){return e(this,void 0,void 0,function*(){var l;const u=yield(l=this._network)===null||l===void 0?void 0:l.fetchEvaluations(this._getSdkKey(),i,a==null?void 0:a.priority,o,c);return u!=null?u:null})}_getCacheKey(i){var o;const a=(0,t._getStorageKey)(this._getSdkKey(),i,(o=this._options)===null||o===void 0?void 0:o.customUserCacheKeyFunc);return"".concat(t.DataAdapterCachePrefix,".").concat(this._cacheSuffix,".").concat(a)}_isCachedResultValidFor204(i,o){return i.fullUserHash!=null&&i.fullUserHash===(0,t._getFullUserHash)(o)}};return Pa.StatsigEvaluationsDataAdapter=r,Pa}var tx;function rZ(){if(tx)return pl;tx=1;var e=pl&&pl.__awaiter||function(a,c,l,u){function d(f){return f instanceof l?f:new l(function(h){h(f)})}return new(l||(l=Promise))(function(f,h){function p(y){try{m(u.next(y))}catch(v){h(v)}}function _(y){try{m(u.throw(y))}catch(v){h(v)}}function m(y){y.done?f(y.value):d(y.value).then(p,_)}m((u=u.apply(a,c||[])).next())})};Object.defineProperty(pl,"__esModule",{value:!0});const t=kn(),n=ZQ(),r=CG(),s=tZ(),i=nZ();let o=class cA extends t.StatsigClientBase{static instance(c){const l=(0,t._getStatsigGlobal)().instance(c);return l instanceof cA?l:(t.Log.warn((0,t._isServerEnv)()?"StatsigClient.instance is not supported in server environments":"Unable to find StatsigClient instance"),new cA(c!=null?c:"",{}))}constructor(c,l,u=null){var d,f;t.SDKType._setClientType(c,"javascript-client");const h=new r.default(u,_=>{this.$emt(_)});super(c,(d=u==null?void 0:u.dataAdapter)!==null&&d!==void 0?d:new i.StatsigEvaluationsDataAdapter,h,u),this._possibleFirstTouchMetadata={},this.getFeatureGate=this._memoize(t.MemoPrefix._gate,this._getFeatureGateImpl.bind(this)),this.getDynamicConfig=this._memoize(t.MemoPrefix._dynamicConfig,this._getDynamicConfigImpl.bind(this)),this.getExperiment=this._memoize(t.MemoPrefix._experiment,this._getExperimentImpl.bind(this)),this.getConfigList=this._memoize(t.MemoPrefix._configList,this._getConfigListImpl.bind(this)),this.getLayer=this._memoize(t.MemoPrefix._layer,this._getLayerImpl.bind(this)),this.getParameterStore=this._memoize(t.MemoPrefix._paramStore,this._getParameterStoreImpl.bind(this)),this._store=new n.default(c),this._network=h,this._user=this._configureUser(l,u),this._sdkInstanceID=(0,t.getUUID)();const p=(f=u==null?void 0:u.plugins)!==null&&f!==void 0?f:[];for(const _ of p)_.bind(this)}initializeSync(c){var l;return this.loadingStatus!=="Uninitialized"?(0,t.createUpdateDetails)(!0,this._store.getSource(),-1,null,null,["MultipleInitializations",...(l=this._store.getWarnings())!==null&&l!==void 0?l:[]]):(this._logger.start(),this.updateUserSync(this._user,c))}initializeAsync(c){return e(this,void 0,void 0,function*(){return this._initializePromise?this._initializePromise:(this._initializePromise=this._initializeAsyncImpl(c),this._initializePromise)})}updateUserSync(c,l){const u=performance.now();try{return this._updateUserSyncImpl(c,l,u)}catch(d){const f=d instanceof Error?d:new Error(String(d));return this._createErrorUpdateDetails(f,u)}}_updateUserSyncImpl(c,l,u){var d;const f=[...(d=this._store.getWarnings())!==null&&d!==void 0?d:[]];this._resetForUser(c);const h=this.dataAdapter.getDataSync(this._user);h==null&&f.push("NoCachedValues"),this._store.setValues(h,this._user),this._finalizeUpdate(h);const p=l==null?void 0:l.disableBackgroundCacheRefresh;return p===!0||p==null&&(h==null?void 0:h.source)==="Bootstrap"?(0,t.createUpdateDetails)(!0,this._store.getSource(),performance.now()-u,this._errorBoundary.getLastSeenErrorAndReset(),this._network.getLastUsedInitUrlAndReset(),f):(this._runPostUpdate(h!=null?h:null,this._user),(0,t.createUpdateDetails)(!0,this._store.getSource(),performance.now()-u,this._errorBoundary.getLastSeenErrorAndReset(),this._network.getLastUsedInitUrlAndReset(),f))}updateUserAsync(c,l){return e(this,void 0,void 0,function*(){const u=performance.now();try{return yield this._updateUserAsyncImpl(c,l)}catch(d){const f=d instanceof Error?d:new Error(String(d));return this._createErrorUpdateDetails(f,u)}})}_updateUserAsyncImpl(c,l){return e(this,void 0,void 0,function*(){this._resetForUser(c);const u=this._user;t.Diagnostics._markInitOverallStart(this._sdkKey);let d=this.dataAdapter.getDataSync(u);if(this._store.setValues(d,this._user),this._setStatus("Loading",d),d=yield this.dataAdapter.getDataAsync(d,u,l),u!==this._user)return(0,t.createUpdateDetails)(!1,this._store.getSource(),-1,new Error("User changed during update"),this._network.getLastUsedInitUrlAndReset());let f=!1;d!=null&&(t.Diagnostics._markInitProcessStart(this._sdkKey),f=this._store.setValues(d,this._user),t.Diagnostics._markInitProcessEnd(this._sdkKey,{success:f})),this._finalizeUpdate(d),f||(this._errorBoundary.attachErrorIfNoneExists(t.UPDATE_DETAIL_ERROR_MESSAGES.NO_NETWORK_DATA),this.$emt({name:"initialization_failure"})),t.Diagnostics._markInitOverallEnd(this._sdkKey,f,this._store.getCurrentSourceDetails());const h=t.Diagnostics._enqueueDiagnosticsEvent(this._user,this._logger,this._sdkKey,this._options);return(0,t.createUpdateDetails)(f,this._store.getSource(),h,this._errorBoundary.getLastSeenErrorAndReset(),this._network.getLastUsedInitUrlAndReset(),this._store.getWarnings())})}getContext(){return{sdkKey:this._sdkKey,options:this._options,values:this._store.getValues(),user:JSON.parse(JSON.stringify(this._user)),errorBoundary:this._errorBoundary,session:t.StatsigSession.get(this._sdkKey),stableID:t.StableID.get(this._sdkKey),sdkInstanceID:this._sdkInstanceID}}checkGate(c,l){return this.getFeatureGate(c,l).value}logEvent(c,l,u){const d=typeof c=="string"?{eventName:c,value:l,metadata:u}:c;this.$emt({name:"log_event_called",event:d}),this._logger.enqueue(Object.assign(Object.assign({},d),{user:this._user,time:Date.now()}))}updateUserWithAnalyticsOnlyMetadata(c){this._user=this._configureUser(Object.assign(Object.assign({},this._user),{analyticsOnlyMetadata:c}),this._options)}_primeReadyRipcord(){this.$on("error",()=>{this.loadingStatus==="Loading"&&this._finalizeUpdate(null)})}_initializeAsyncImpl(c){return e(this,void 0,void 0,function*(){return t.Storage.isReady()||(yield t.Storage.isReadyResolver()),this._logger.start(),this.updateUserAsync(this._user,c)})}_createErrorUpdateDetails(c,l){var u;return(0,t.createUpdateDetails)(!1,this._store.getSource(),performance.now()-l,c,null,[...(u=this._store.getWarnings())!==null&&u!==void 0?u:[]])}_finalizeUpdate(c){this._store.finalize(),this._setStatus("Ready",c)}_runPostUpdate(c,l){this.dataAdapter.getDataAsync(c,l,{priority:"low"}).catch(u=>{t.Log.error("An error occurred after update.",u)})}_resetForUser(c){this._logger.reset(),this._store.reset(),this._user=this._configureUser(c,this._options)}_configureUser(c,l){var u,d,f;const h=(0,t._normalizeUser)(c,l),p=(u=h.customIDs)===null||u===void 0?void 0:u.stableID;if(p){const _=(f=(d=this.storageProvider).isReadyResolver)===null||f===void 0?void 0:f.call(d);_?_.then(()=>t.StableID.setOverride(p,this._sdkKey),()=>t.StableID.setOverride(p,this._sdkKey)):t.StableID.setOverride(p,this._sdkKey)}return Object.keys(this._possibleFirstTouchMetadata).length>0&&(h.analyticsOnlyMetadata=Object.assign(Object.assign({},h.analyticsOnlyMetadata),this._possibleFirstTouchMetadata)),h}_getFeatureGateImpl(c,l){var u,d;const{result:f,details:h}=this._store.getGate(c),p=(0,t._makeFeatureGate)(c,h,f),_=(d=(u=this.overrideAdapter)===null||u===void 0?void 0:u.getGateOverride)===null||d===void 0?void 0:d.call(u,p,this._user,l),m=_!=null?_:p;return this._enqueueExposure(c,(0,t._createGateExposure)(this._user,m,this._store.getExposureMapping()),l),this.$emt({name:"gate_evaluation",gate:m}),m}_getDynamicConfigImpl(c,l){var u,d;const{result:f,details:h}=this._store.getConfig(c),p=(0,t._makeDynamicConfig)(c,h,f),_=(d=(u=this.overrideAdapter)===null||u===void 0?void 0:u.getDynamicConfigOverride)===null||d===void 0?void 0:d.call(u,p,this._user,l),m=_!=null?_:p;return this._enqueueExposure(c,(0,t._createConfigExposure)(this._user,m,this._store.getExposureMapping()),l),this.$emt({name:"dynamic_config_evaluation",dynamicConfig:m}),m}_getExperimentImpl(c,l){var u,d,f,h;const{result:p,details:_}=this._store.getConfig(c),m=(0,t._makeExperiment)(c,_,p);m.__evaluation!=null&&(m.__evaluation.secondary_exposures=(0,t._mapExposures)((d=(u=m.__evaluation)===null||u===void 0?void 0:u.secondary_exposures)!==null&&d!==void 0?d:[],this._store.getExposureMapping()));const y=(h=(f=this.overrideAdapter)===null||f===void 0?void 0:f.getExperimentOverride)===null||h===void 0?void 0:h.call(f,m,this._user,l),v=y!=null?y:m;return this._enqueueExposure(c,(0,t._createConfigExposure)(this._user,v,this._store.getExposureMapping()),l),this.$emt({name:"experiment_evaluation",experiment:v}),v}_getConfigListImpl(){return this._store.getConfigList()}_getLayerImpl(c,l){var u,d,f;const{result:h,details:p}=this._store.getLayer(c),_=(0,t._makeLayer)(c,p,h),m=(d=(u=this.overrideAdapter)===null||u===void 0?void 0:u.getLayerOverride)===null||d===void 0?void 0:d.call(u,_,this._user,l);l!=null&&l.disableExposureLog&&this._logger.incrementNonExposureCount(c);const y=(0,t._mergeOverride)(_,m,(f=m==null?void 0:m.__value)!==null&&f!==void 0?f:_.__value,v=>{l!=null&&l.disableExposureLog||this._enqueueExposure(c,(0,t._createLayerParameterExposure)(this._user,y,v,this._store.getExposureMapping()),l)});return this.$emt({name:"layer_evaluation",layer:y}),y}_getParameterStoreImpl(c,l){var u,d;const{result:f,details:h}=this._store.getParamStore(c);this._logger.incrementNonExposureCount(c);const p={name:c,details:h,__configuration:f,get:(0,s._makeParamStoreGetter)(this,f,l)},_=(d=(u=this.overrideAdapter)===null||u===void 0?void 0:u.getParamStoreOverride)===null||d===void 0?void 0:d.call(u,p,l);return _!=null&&(p.__configuration=_.config,p.details=_.details,p.get=(0,s._makeParamStoreGetter)(this,_.config,l)),p}};return pl.default=o,pl}var nx;function sZ(){return nx||(nx=1,(function(e){var t=Ia&&Ia.__createBinding||(Object.create?(function(o,a,c,l){l===void 0&&(l=c);var u=Object.getOwnPropertyDescriptor(a,c);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[c]}}),Object.defineProperty(o,l,u)}):(function(o,a,c,l){l===void 0&&(l=c),o[l]=a[c]})),n=Ia&&Ia.__exportStar||function(o,a){for(var c in o)c!=="default"&&!Object.prototype.hasOwnProperty.call(a,c)&&t(a,o,c)};Object.defineProperty(e,"__esModule",{value:!0}),e.StatsigClient=void 0;const r=kn(),s=rZ();e.StatsigClient=s.default,n(kn(),e);const i=Object.assign((0,r._getStatsigGlobal)(),{StatsigClient:s.default});e.default=i})(Ia)),Ia}var SG=sZ(),Ra={},xa={},rx;function iZ(){if(rx)return xa;rx=1;var e=xa&&xa.__awaiter||function(o,a,c,l){function u(d){return d instanceof c?d:new c(function(f){f(d)})}return new(c||(c=Promise))(function(d,f){function h(m){try{_(l.next(m))}catch(y){f(y)}}function p(m){try{_(l.throw(m))}catch(y){f(y)}}function _(m){m.done?d(m.value):u(m.value).then(h,p)}_((l=l.apply(o,a||[])).next())})};Object.defineProperty(xa,"__esModule",{value:!0}),xa.LocalOverrideAdapter=void 0;const t=kn(),n="LocalOverride:Recognized";function r(){return{gate:{},dynamicConfig:{},experiment:{},layer:{}}}function s(o,a){return{gate:Object.assign({},o.gate,a.gate),dynamicConfig:Object.assign({},o.dynamicConfig,a.dynamicConfig),experiment:Object.assign({},o.experiment,a.experiment),layer:Object.assign({},o.layer,a.layer)}}let i=class{constructor(a){this._overrides=r(),this._sdkKey=a!=null?a:null}_getLocalOverridesStorageKey(a){return"statsig.local-overrides.".concat((0,t._getStorageKey)(a))}loadFromStorage(){return e(this,void 0,void 0,function*(){if(this._sdkKey==null)return;t.Storage.isReady()||(yield t.Storage.isReadyResolver());const a=this._getLocalOverridesStorageKey(this._sdkKey),c=t.Storage.getItem(a),l=c?(0,t._typedJsonParse)(c,"gate","LocalOverrideAdapter overrides"):null,u=this._hasInMemoryOverrides();l&&(this._overrides=u?s(l,this._overrides):l),u&&this._saveOverridesToStorage()})}_saveOverridesToStorage(){if(this._sdkKey==null||!t.Storage.isReady())return;const a=this._getLocalOverridesStorageKey(this._sdkKey);t.Storage.setItem(a,JSON.stringify(this._overrides))}overrideGate(a,c){this._overrides.gate[a]=c,this._overrides.gate[(0,t._DJB2)(a)]=c,this._saveOverridesToStorage()}_warnIfStorageNotReady(){t.Storage.isReady()||t.Log.warn("Storage is not ready. Override removal may not persist.")}removeGateOverride(a){this._warnIfStorageNotReady(),delete this._overrides.gate[a],delete this._overrides.gate[(0,t._DJB2)(a)],this._saveOverridesToStorage()}getGateOverride(a,c){var l;const u=(l=this._overrides.gate[a.name])!==null&&l!==void 0?l:this._overrides.gate[(0,t._DJB2)(a.name)];return u==null?null:Object.assign(Object.assign({},a),{value:u,details:Object.assign(Object.assign({},a.details),{reason:n})})}overrideDynamicConfig(a,c){this._overrides.dynamicConfig[a]=c,this._overrides.dynamicConfig[(0,t._DJB2)(a)]=c,this._saveOverridesToStorage()}removeDynamicConfigOverride(a){this._warnIfStorageNotReady(),delete this._overrides.dynamicConfig[a],delete this._overrides.dynamicConfig[(0,t._DJB2)(a)],this._saveOverridesToStorage()}getDynamicConfigOverride(a,c){return this._getConfigOverride(a,this._overrides.dynamicConfig)}overrideExperiment(a,c){this._overrides.experiment[a]=c,this._overrides.experiment[(0,t._DJB2)(a)]=c,this._saveOverridesToStorage()}removeExperimentOverride(a){this._warnIfStorageNotReady(),delete this._overrides.experiment[a],delete this._overrides.experiment[(0,t._DJB2)(a)],this._saveOverridesToStorage()}getExperimentOverride(a,c){return this._getConfigOverride(a,this._overrides.experiment)}overrideLayer(a,c){this._overrides.layer[a]=c,this._overrides.layer[(0,t._DJB2)(a)]=c,this._saveOverridesToStorage()}removeLayerOverride(a){this._warnIfStorageNotReady(),delete this._overrides.layer[a],delete this._overrides.layer[(0,t._DJB2)(a)],this._saveOverridesToStorage()}getAllOverrides(){return JSON.parse(JSON.stringify(this._overrides))}removeAllOverrides(){this._warnIfStorageNotReady(),this._overrides=r(),this._saveOverridesToStorage()}getLayerOverride(a,c){var l;const u=(l=this._overrides.layer[a.name])!==null&&l!==void 0?l:this._overrides.layer[(0,t._DJB2)(a.name)];return u==null?null:Object.assign(Object.assign({},a),{__value:u,get:(0,t._makeTypedGet)(a.name,u),details:Object.assign(Object.assign({},a.details),{reason:n})})}_getConfigOverride(a,c){var l;const u=(l=c[a.name])!==null&&l!==void 0?l:c[(0,t._DJB2)(a.name)];return u==null?null:Object.assign(Object.assign({},a),{value:u,get:(0,t._makeTypedGet)(a.name,u),details:Object.assign(Object.assign({},a.details),{reason:n})})}_hasInMemoryOverrides(){return Object.keys(this._overrides.gate).length>0||Object.keys(this._overrides.dynamicConfig).length>0||Object.keys(this._overrides.experiment).length>0||Object.keys(this._overrides.layer).length>0}};return xa.LocalOverrideAdapter=i,xa}var sx;function oZ(){return sx||(sx=1,(function(e){var t=Ra&&Ra.__createBinding||(Object.create?(function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}):(function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]})),n=Ra&&Ra.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&t(s,r,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(iZ(),e)})(Ra)),Ra}var aZ=oZ(),Cy={},Pi={},ld={},ix;function sh(){return ix||(ix=1,Object.defineProperty(ld,"__esModule",{value:!0}),ld.AutoCaptureEventName=void 0,ld.AutoCaptureEventName={PAGE_VIEW:"auto_capture::page_view",PAGE_VIEW_END:"auto_capture::page_view_end",ERROR:"auto_capture::error",SESSION_START:"auto_capture::session_start",PERFORMANCE:"auto_capture::performance",FORM_SUBMIT:"auto_capture::form_submit",CLICK:"auto_capture::click",RAGE_CLICK:"auto_capture::rage_click",WEB_VITALS:"auto_capture::web_vitals",DEAD_CLICK:"auto_capture::dead_click",COPY:"auto_capture::copy",CONSOLE_LOG:"statsig::log_line"}),ld}var ud={},Sy={},ox;function Mu(){return ox||(ox=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.wrapFunctionWithRestore=e.throttle=e._sanitizeString=e._getAnchorNodeInHierarchy=e._getSafeTimezoneOffset=e._getSafeTimezone=e._getSafeNetworkInformation=e._registerEventHandler=e._getSanitizedPageUrl=e._getSafeUrlString=e._getSafeUrl=e._shouldLogEvent=e._getTargetNode=e._stripEmptyValues=e.interactiveElements=void 0;const t=kn(),n="(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})",r=new RegExp("^(?:".concat(n,")$")),s="\\d{3}-?\\d{2}-?\\d{4}",i=new RegExp("^(".concat(s,")$"));e.interactiveElements=["button","a","input","select","textarea","form","select","label"];function o(E){return Object.fromEntries(Object.entries(E).filter(([T,A])=>A!=null&&A!==""&&A!==void 0))}e._stripEmptyValues=o;function a(E){if(!E)return null;let T=E.target||E.srcElement;return!T||!(T instanceof Element)?null:(T.nodeType===3&&(T=T.parentNode||null),T)}e._getTargetNode=a;function c(E,T,A=!1){if(!E||!T||T.nodeType!==1)return!1;const w=T.tagName.toLowerCase(),N=E.type.toLowerCase();if(T.classList.contains("statsig-no-capture"))return!1;if(A)return!0;switch(w){case"html":return!1;case"form":return["submit"].indexOf(N)>=0;case"input":case"select":case"textarea":return["change","click"].indexOf(N)>=0;default:if(N==="click"){const x=window.getComputedStyle(T);if(x&&x.getPropertyValue("cursor")==="pointer"||e.interactiveElements.includes(w)||T.getAttribute("contenteditable")==="true"||m(T))return!0}return!1}}e._shouldLogEvent=c;function l(){var E,T,A;const w=(A=(T=(E=(0,t._getWindowSafe)())===null||E===void 0?void 0:E.location)===null||T===void 0?void 0:T.href)!==null&&A!==void 0?A:"";let N;try{N=new URL(w)}catch(P){N=new URL("error:")}return N}e._getSafeUrl=l;function u(){const E=l().toString();return E.startsWith("error:")?"":E}e._getSafeUrlString=u;function d(){return(0,t._getCurrentPageUrlSafe)()||""}e._getSanitizedPageUrl=d;function f(E,T,A){!E||!E.addEventListener||E.addEventListener(T,A,!0)}e._registerEventHandler=f;function h(){const E=(0,t._getWindowSafe)();if(!E||!E.navigator)return null;const T=E.navigator.connection;return T||null}e._getSafeNetworkInformation=h;function p(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch(E){return null}}e._getSafeTimezone=p;function _(){try{return new Date().getTimezoneOffset()}catch(E){return null}}e._getSafeTimezoneOffset=_;function m(E){if(!E)return null;let T=E;for(;T;){const A=T.tagName.toLowerCase();if(["body","document"].includes(A))return null;if(T.tagName.toLowerCase()==="a")return T;T=T.parentElement}return null}e._getAnchorNodeInHierarchy=m;function y(E){return E?E.replace(/<[^>]*>/g,"").trim().split(/(\s+)/).filter(T=>v(T)).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255):null}e._sanitizeString=y;function v(E){return!(r.test((E||"").replace(/[- ]/g,""))||i.test((E||"").replace(/[- ]/g,"")))}function O(E,T){let A=0;return function(...w){const N=Date.now();N-A>=T&&(A=N,E(...w))}}e.throttle=O;function S(E,T,A){const w=E[T];if(typeof w!="function")return()=>{};try{const N=A(w);return Object.defineProperty(N,"__statsig_original__",{enumerable:!1,value:w}),E[T]=N,()=>{E[T]=w}}catch(N){return()=>{}}}e.wrapFunctionWithRestore=S})(Sy)),Sy}var Ma={},ax;function cZ(){if(ax)return Ma;ax=1,Object.defineProperty(Ma,"__esModule",{value:!0}),Ma._getStackTrace=Ma._safeStringify=void 0;function e(a,c){return a.length<=c?a:a.slice(0,c)+"..."}function t(a,c,l,u){try{return r(a,c,l)?o(a,u):e(typeof a=="string"?a:typeof a=="object"&&a!==null?JSON.stringify(a):String(a),u)}catch(d){return e("[Unserializable]",u)}}Ma._safeStringify=t;function n(){var a,c;try{return(c=(a=new Error().stack)===null||a===void 0?void 0:a.split("\n").slice(2))!==null&&c!==void 0?c:[]}catch(l){return[]}}Ma._getStackTrace=n;function r(a,c,l){return!!(s(a)&&(Object.keys(a).length>c||i(a,l))||typeof a=="function")}function s(a){return Object.prototype.toString.call(a)==="[object Object]"}function i(a,c){return c<=0?!0:typeof a!="object"||a===null?!1:Object.keys(a).some(l=>i(a[l],c-1))}function o(a,c){return e(a.toString(),c)}return Ma}var ms={},cx;function Iw(){if(cx)return ms;cx=1,Object.defineProperty(ms,"__esModule",{value:!0}),ms._getPossibleFirstTouchMetadata=ms._getNetworkInfo=ms._gatherAllMetadata=ms._gatherCommonMetadata=void 0;const e=kn(),t=Mu();function n(c){var l,u,d,f,h,p,_,m;const y=(0,e._getDocumentSafe)(),v=(0,e._getWindowSafe)();return(0,t._stripEmptyValues)(Object.assign({title:y==null?void 0:y.title,current_url:(l=v==null?void 0:v.location)===null||l===void 0?void 0:l.href,user_agent:!((u=v==null?void 0:v.navigator)===null||u===void 0)&&u.userAgent&&((f=(d=v==null?void 0:v.navigator)===null||d===void 0?void 0:d.userAgent)===null||f===void 0?void 0:f.length)>200?v.navigator.userAgent.substring(0,200):(h=v==null?void 0:v.navigator)===null||h===void 0?void 0:h.userAgent,locale:(p=v==null?void 0:v.navigator)===null||p===void 0?void 0:p.language,hostname:c.hostname,pathname:c.pathname,screen_width:(_=v==null?void 0:v.screen)===null||_===void 0?void 0:_.width,screen_height:(m=v==null?void 0:v.screen)===null||m===void 0?void 0:m.height,viewport_width:v==null?void 0:v.innerWidth,viewport_height:v==null?void 0:v.innerHeight,viewport:"".concat(v==null?void 0:v.innerWidth,"x").concat(v==null?void 0:v.innerHeight),timestamp:Date.now(),timezone:(0,t._getSafeTimezone)(),timezone_offset:(0,t._getSafeTimezoneOffset)()},s()))}ms._gatherCommonMetadata=n;function r(c){const l=(0,e._getDocumentSafe)(),u=(0,e._getWindowSafe)();if(!l||!u)return{};const d=o(l),f=n(c),h=a(c),p={};return c.searchParams.forEach((_,m)=>{p[m]=_}),Object.assign(Object.assign({},f),(0,t._stripEmptyValues)(Object.assign(Object.assign(Object.assign({},d),h),p)))}ms._gatherAllMetadata=r;function s(){const c=(0,t._getSafeNetworkInformation)(),l={};return(c==null?void 0:c.effectiveType)!==void 0&&(l.effective_connection_type=c.effectiveType),(c==null?void 0:c.rtt)!==void 0&&(l.rtt_ms=c.rtt),(c==null?void 0:c.downlink)!==void 0&&(l.downlink_mbps=c.downlink,l.downlink_kbps=c.downlink*1e3),(c==null?void 0:c.saveData)!==void 0&&(l.save_data=c.saveData),l}ms._getNetworkInfo=s;function i(c){const l=(0,e._getDocumentSafe)(),u=(0,e._getWindowSafe)();if(!l||!u)return{};const d=o(l),f=a(c),h=(0,t._stripEmptyValues)(Object.assign(Object.assign({},d),f)),p={};for(const[_,m]of Object.entries(h))p["$s_".concat(_)]=m;return p}ms._getPossibleFirstTouchMetadata=i;function o(c){const l=(c==null?void 0:c.referrer)||"";if(!l)return{referrer:null,referrer_domain:null,referrer_path:null,searchEngine:"",searchQuery:""};try{const u=new URL(l),d=u.hostname,f=["google","bing","yahoo","duckduckgo","baidu"].find(p=>d.includes(p+"."))||"",h=u.searchParams.get(f==="yahoo"?"p":"q")||"";return{referrer:l,referrer_domain:u.hostname,referrer_path:u.pathname,searchEngine:f,searchQuery:h}}catch(u){return{referrer:null,referrer_domain:null,referrer_path:null,searchEngine:"",searchQuery:""}}}function a(c){const l=c.searchParams,u={};return["utm_source","utm_medium","utm_campaign","utm_term","utm_content","msclkid","dclid","fbclid","gad_source","gclid","gclsrc","wbraid","utm_id","irclid","igshid","_kx","li_fat_id","mc_cid","mc_eid","epik","qclid","rdt_cid","sccid","ttc","ttclid","ttc_id","twclid"].forEach(f=>{const h=l.get(f);h&&(u[f]=h)}),u}return ms}var lx;function lZ(){if(lx)return ud;lx=1,Object.defineProperty(ud,"__esModule",{value:!0}),ud.ConsoleLogManager=void 0;const e=kn(),t=sh(),n=Mu(),r=cZ(),s=Iw(),i={trace:10,debug:20,log:30,info:30,warn:40,error:50},o=10,a=10,c=500;let l=class{constructor(d,f,h){var p,_,m,y;this._enqueueFn=d,this._errorBoundary=f,this._options=h,this._restoreFns=[],this._isTracking=!1,this._logLevel="info",this.__source="js-auto-capture",this._logLevel=(p=this._options.logLevel)!==null&&p!==void 0?p:"info",this._maxKeys=(_=this._options.maxKeys)!==null&&_!==void 0?_:o,this._maxDepth=(m=this._options.maxDepth)!==null&&m!==void 0?m:a,this._maxStringLength=(y=this._options.maxStringLength)!==null&&y!==void 0?y:c}startTracking(){try{if(this._isTracking||!this._options.enabled||!(0,e._getWindowSafe)())return;this._patchConsole(),this._isTracking=!0}catch(d){e.Log.error("Error starting console log tracking",d),this._errorBoundary.logError("autoCapture:ConsoleLogManager",d)}}stopTracking(){this._isTracking&&(this._restoreFns.forEach(d=>d()),this._restoreFns=[],this._isTracking=!1)}_patchConsole(){Object.entries(i).forEach(([d,f])=>{if(f<i[this._logLevel]||!console[d])return;const h=console[d].bind(console);let p=!1;const _=(0,n.wrapFunctionWithRestore)(console,d,m=>(...y)=>{if(m(...y),!p){p=!0;try{const v=y.map(S=>(0,r._safeStringify)(S,this._maxKeys,this._maxDepth,this._maxStringLength)),O=(0,r._getStackTrace)();this._enqueueConsoleLog(d,v,O)}catch(v){h("console observer error:",v,...y),this._errorBoundary.logError("autoCapture:ConsoleLogManager",v)}finally{p=!1}}});this._restoreFns.push(_)})}_enqueueConsoleLog(d,f,h){if(!this._shouldLog())return;const p=Object.assign({status:d==="log"?"info":d,log_level:d,payload:f,trace:h,timestamp:Date.now(),source:this.__source},(0,s._gatherAllMetadata)((0,n._getSafeUrl)()));this._enqueueFn(t.AutoCaptureEventName.CONSOLE_LOG,f.join(" "),p)}_shouldLog(){return!this._options.sampleRate||typeof this._options.sampleRate!="number"||this._options.sampleRate<=0||this._options.sampleRate>=1?!0:Math.random()<this._options.sampleRate}};return ud.ConsoleLogManager=l,ud}var by={},Ri={},ux;function bG(){if(ux)return Ri;ux=1,Object.defineProperty(Ri,"__esModule",{value:!0}),Ri._getMetadataFromElement=Ri._gatherCopyEventData=Ri._gatherEventData=void 0;const e=kn(),t=Mu(),n=1e3,r=100,s=50;function i(E){const T=(0,t._getSanitizedPageUrl)()||"",A=E.tagName.toLowerCase();if(a(E))return{value:T,metadata:_(E)};const w={};w.tagName=A;const N=m(E);Object.assign(w,N),A==="form"&&Object.assign(w,c(E)),A==="input"&&Object.assign(w,l(E));const P=(0,t._getAnchorNodeInHierarchy)(E);return P&&Object.assign(w,u(P)),(A==="button"||P)&&Object.assign(w,d(P||E)),p(w)&&(w.isOutbound="true"),{value:T,metadata:w}}Ri._gatherEventData=i;function o(E){var T,A;const w=(A=(T=(0,e._getWindowSafe)())===null||T===void 0?void 0:T.getSelection())===null||A===void 0?void 0:A.toString(),N={};N.selectedText=(0,t._sanitizeString)(w);const P=E.type||"clipboard";return N.clipType=P,N}Ri._gatherCopyEventData=o;function a(E){return E.tagName.toLowerCase()==="input"&&["button","checkbox","submit","reset"].includes(E.getAttribute("type")||"")||E.tagName.toLowerCase()==="textarea"||E.tagName.toLowerCase()==="select"||E.getAttribute("contenteditable")==="true"}function c(E){var T;const A={};return A.action=E.getAttribute("action"),A.method=(T=E.getAttribute("method"))!==null&&T!==void 0?T:"GET",A.formName=E.getAttribute("name"),A.formId=E.getAttribute("id"),A}function l(E){const T={};return T.content=E.value,T.inputName=E.getAttribute("name"),T}function u(E){const T={};return T.href=E.getAttribute("href"),T}function d(E){const T={};T.content=(E.textContent||"").trim();const A=f(E);return Object.assign(T,A),T}function f(E){const T={};if(!E)return T;const A=E==null?void 0:E.dataset;if(!A)return T;for(const w in A)T["data-".concat(w)]=A[w]||"";return T}function h(E,T){return E?E.length>T?E.substring(0,T)+"...":E:null}function p(E){var T;if(Array.isArray(E.classList)&&(!((T=E.classList)===null||T===void 0)&&T.includes("statsig-ctr-capture")))return!0;const A=E.href;if(A)try{const w=(0,t._getSafeUrl)(),N=new URL(A);return w.host!==N.host}catch(w){return!1}return!1}function _(E){const T={};return T.class=y(h(E.getAttribute("class"),n)||""),T.id=h(E.getAttribute("id"),n),T.ariaLabel=h(E.getAttribute("aria-label"),n),T.name=h(E.getAttribute("name"),n),T}function m(E){const T={},A=_(E);Object.assign(T,A);const w=Array.from(E.classList);return T.classList=w.length>0?w.slice(0,r):null,T.selector=S(E),T}Ri._getMetadataFromElement=m;function y(E){return E.replace(/\s+/g," ").trim()}function v(E){let T=E.nextElementSibling;for(;T;){if(T.tagName===E.tagName)return!0;T=T.nextElementSibling}return!1}function O(E){const T=E.tagName.toLowerCase();if(E.id)return"#".concat(E.id);let A=T;if(E.className&&typeof E.className=="string"){const N=E.className.trim().split(/\s+/);N.length>0&&N[0]!==""&&(A+="."+N.join("."))}const w=E.parentElement;if(w&&w.children.length>1){let N=1,P=1,x=E.previousElementSibling;for(;x;)N++,x.tagName===E.tagName&&P++,x=x.previousElementSibling;A+=":nth-child(".concat(N,")"),(P>1||v(E))&&(A+=":nth-of-type(".concat(P,")"))}return A}function S(E){if(!E)return"";if(!E.parentNode){const N=E.tagName.toLowerCase();if(E.id)return"#".concat(E.id);let P=N;if(E.className&&typeof E.className=="string"){const x=E.className.trim().split(/\s+/);x.length>0&&x[0]!==""&&(P+="."+x.join("."))}return P}const T=[];let A=E,w=0;for(;A&&A.nodeType===Node.ELEMENT_NODE&&w<s;){const N=O(A);if(T.unshift(N),A.id||(A=A.parentElement,A&&A.tagName.toLowerCase()==="body"))break;w++}return T.join(" > ")}return Ri}var dx;function uZ(){return dx||(dx=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DeadClickConfig=void 0;const t=kn(),n=sh(),r=Mu(),s=bG(),i=Iw();e.DeadClickConfig={CLICK_CHECK_TIMEOUT:1e3,SCROLL_DELAY_MS:100,SELECTION_CHANGE_DELAY_MS:100,MUTATION_DELAY_MS:2500,ABSOLUTE_DEAD_CLICK_TIMEOUT:2750};class o{constructor(c,l){this._enqueueFn=c,this._errorBoundary=l,this._lastMutationTime=0,this._lastSelectionChangeTime=0,this._clicks=[],this._deadClickConfig=e.DeadClickConfig,this._handleScroll=(0,r.throttle)(()=>{const u=Date.now();this._clicks.forEach(d=>{d.scrollDelayMs||(d.scrollDelayMs=u-d.timestamp)})},50)}startTracking(){try{const c=(0,t._getWindowSafe)();if(!c)return;c.addEventListener("click",l=>this._handleClick(l),{capture:!0}),c.addEventListener("scroll",()=>this._handleScroll(),{capture:!0,passive:!0}),c.addEventListener("selectionchange",()=>this._handleSelectionChange()),this._setupMutationObserver()}catch(c){t.Log.error("Error starting dead click tracking",c),this._errorBoundary.logError("autoCapture:DeadClickManager",c)}}_handleClick(c){var l,u;const d=c.target;if(!d)return;const f={timestamp:Date.now(),eventTarget:d};r.interactiveElements.includes((l=d==null?void 0:d.tagName)===null||l===void 0?void 0:l.toLowerCase())||this._clicks.push(f),this._clicks.length&&!this._clickCheckTimer&&(this._clickCheckTimer=(u=(0,t._getWindowSafe)())===null||u===void 0?void 0:u.setTimeout(()=>{this._checkForDeadClick()},this._deadClickConfig.CLICK_CHECK_TIMEOUT))}_handleSelectionChange(){this._lastSelectionChangeTime=Date.now()}_setupMutationObserver(){const c=(0,t._getDocumentSafe)();c&&(this._observer=new MutationObserver(()=>{this._lastMutationTime=Date.now()}),this._observer.observe(c.body,{childList:!0,subtree:!0,attributes:!0,characterData:!0}))}_checkForDeadClick(){var c;if(!this._clicks.length)return;clearTimeout(this._clickCheckTimer),this._clickCheckTimer=void 0;const l=this._clicks;this._clicks=[];for(const u of l){this._updateClickDelayMs(u);const d=u.scrollDelayMs!=null&&u.scrollDelayMs<this._deadClickConfig.SCROLL_DELAY_MS,f=u.selectionChangeDelayMs!=null&&u.selectionChangeDelayMs<this._deadClickConfig.SELECTION_CHANGE_DELAY_MS,h=u.mutationDelayMs!=null&&u.mutationDelayMs<this._deadClickConfig.MUTATION_DELAY_MS;if(d||f||h)continue;const p=u.scrollDelayMs!=null&&u.scrollDelayMs>this._deadClickConfig.SCROLL_DELAY_MS,_=u.selectionChangeDelayMs!=null&&u.selectionChangeDelayMs>this._deadClickConfig.SELECTION_CHANGE_DELAY_MS,m=u.mutationDelayMs!=null&&u.mutationDelayMs>this._deadClickConfig.MUTATION_DELAY_MS,y=u.absoluteDelayMs!=null&&u.absoluteDelayMs>this._deadClickConfig.ABSOLUTE_DEAD_CLICK_TIMEOUT;p||_||m||y?this._logDeadClick(u,{scrollTimeout:p,selectionChangeTimeout:_,mutationTimeout:m,absoluteTimeout:y}):u.absoluteDelayMs!=null&&u.absoluteDelayMs<this._deadClickConfig.ABSOLUTE_DEAD_CLICK_TIMEOUT&&this._clicks.push(u)}this._clicks.length&&!this._clickCheckTimer&&(this._clickCheckTimer=(c=(0,t._getWindowSafe)())===null||c===void 0?void 0:c.setTimeout(()=>{this._checkForDeadClick()},this._deadClickConfig.CLICK_CHECK_TIMEOUT))}_logDeadClick(c,l){const{value:u,metadata:d}=(0,s._gatherEventData)(c.eventTarget);u&&this._enqueueFn(n.AutoCaptureEventName.DEAD_CLICK,u,Object.assign(Object.assign(Object.assign(Object.assign({},d),l),(0,i._gatherCommonMetadata)((0,r._getSafeUrl)())),{scrollDelayMs:c.scrollDelayMs,selectionChangeDelayMs:c.selectionChangeDelayMs,mutationDelayMs:c.mutationDelayMs,absoluteDelayMs:c.absoluteDelayMs}))}_updateClickDelayMs(c){!c.mutationDelayMs&&this._lastMutationTime>0&&c.timestamp<=this._lastMutationTime&&(c.mutationDelayMs=Date.now()-this._lastMutationTime),!c.selectionChangeDelayMs&&this._lastSelectionChangeTime>0&&c.timestamp<=this._lastSelectionChangeTime&&(c.selectionChangeDelayMs=Date.now()-this._lastSelectionChangeTime),c.absoluteDelayMs=Date.now()-c.timestamp}}e.default=o})(by)),by}var dd={},fx;function dZ(){if(fx)return dd;fx=1,Object.defineProperty(dd,"__esModule",{value:!0}),dd.EngagementManager=void 0;const e=kn(),t=6e5;let n=class{constructor(){this._lastScrollY=0,this._maxScrollY=0,this._lastScrollPercentage=0,this._maxScrollPercentage=0,this._lastPageViewTime=Date.now(),this._inactiveTimer=null,this._onInactivityCallback=null,this._meaningfulEngagementOccurred=!1,this._initializeScrollTracking()}_initializeScrollTracking(){const s=(0,e._getWindowSafe)();s&&(s.addEventListener("scroll",()=>this._handleScroll()),s.addEventListener("scrollend",()=>this._handleScroll()),s.addEventListener("resize",()=>this._handleScroll()))}_handleScroll(){const s=(0,e._getWindowSafe)(),i=(0,e._getDocumentSafe)();if(!s||!i)return;const o=i.body.scrollHeight,a=s.scrollY||i.documentElement.scrollTop||0,c=s.innerHeight;this._lastScrollY=a,this._maxScrollY=Math.max(this._maxScrollY,a);const l=Math.min(100,Math.round((a+c)/o*100));this._lastScrollPercentage=l,this._maxScrollPercentage=Math.max(this._maxScrollPercentage,l),this.bumpInactiveTimer()}getScrollMetrics(){return{lastScrollY:this._lastScrollY,maxScrollY:this._maxScrollY,lastScrollPercentage:this._lastScrollPercentage,maxScrollPercentage:this._maxScrollPercentage,scrollDepth:this._maxScrollPercentage}}getPageViewLength(){return Date.now()-this._lastPageViewTime}setLastPageViewTime(s){this._lastPageViewTime=s}startInactivityTracking(s){this._onInactivityCallback=s}bumpInactiveTimer(){const s=(0,e._getWindowSafe)();s&&(this._inactiveTimer&&clearTimeout(this._inactiveTimer),this._inactiveTimer=s.setTimeout(()=>{this._onInactivityCallback&&this._onInactivityCallback()},t))}setMeaningfulEngagementOccurred(s){this._meaningfulEngagementOccurred=s}getPageViewEndMetadata(){const s=Object.assign(Object.assign({},this.getScrollMetrics()),{pageViewLength:this.getPageViewLength(),meaningfulEngagementOccurred:this._meaningfulEngagementOccurred});return this.setMeaningfulEngagementOccurred(!1),s}};return dd.EngagementManager=n,dd}var Sp={},hx;function fZ(){if(hx)return Sp;hx=1,Object.defineProperty(Sp,"__esModule",{value:!0});const e=30,t=1e3,n=3;let r=class{constructor(){this._clicks=[]}isRageClick(i,o,a){this._clicks=this._clicks.filter(l=>a-l.timestamp<t);const c=l=>{const u=i-l.x,d=o-l.y;return Math.abs(u)+Math.abs(d)<=e};return this._clicks.length>0&&!c(this._clicks[this._clicks.length-1])&&(this._clicks=[]),this._clicks.push({x:i,y:o,timestamp:a}),this._clicks.length>=n}};return Sp.default=r,Sp}var fd={},Id={exports:{}},hZ=Id.exports,px;function pZ(){return px||(px=1,(function(e,t){(function(n,r){r(t)})(hZ,(function(n){let r=-1;const s=V=>{addEventListener("pageshow",(H=>{H.persisted&&(r=H.timeStamp,V(H))}),!0)},i=(V,H,ee,z)=>{let te,Se;return he=>{H.value>=0&&(he||z)&&(Se=H.value-(te!=null?te:0),(Se||te===void 0)&&(te=H.value,H.delta=Se,H.rating=((oe,be)=>oe>be[1]?"poor":oe>be[0]?"needs-improvement":"good")(H.value,ee),V(H)))}},o=V=>{requestAnimationFrame((()=>requestAnimationFrame((()=>V()))))},a=()=>{const V=performance.getEntriesByType("navigation")[0];if(V&&V.responseStart>0&&V.responseStart<performance.now())return V},c=()=>{var H;const V=a();return(H=V==null?void 0:V.activationStart)!=null?H:0},l=(V,H=-1)=>{const ee=a();let z="navigate";return r>=0?z="back-forward-cache":ee&&(document.prerendering||c()>0?z="prerender":document.wasDiscarded?z="restore":ee.type&&(z=ee.type.replace(/_/g,"-"))),{name:V,value:H,rating:"good",delta:0,entries:[],id:"v5-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:z}},u=new WeakMap;function d(V,H){return u.get(V)||u.set(V,new H),u.get(V)}class f{constructor(){U(this,"t");U(this,"i",0);U(this,"o",[])}h(H){var te;if(H.hadRecentInput)return;const ee=this.o[0],z=this.o.at(-1);this.i&&ee&&z&&H.startTime-z.startTime<1e3&&H.startTime-ee.startTime<5e3?(this.i+=H.value,this.o.push(H)):(this.i=H.value,this.o=[H]),(te=this.t)==null||te.call(this,H)}}const h=(V,H,ee={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(V)){const z=new PerformanceObserver((te=>{Promise.resolve().then((()=>{H(te.getEntries())}))}));return z.observe(b({type:V,buffered:!0},ee)),z}}catch(z){}},p=V=>{let H=!1;return()=>{H||(V(),H=!0)}};let _=-1;const m=()=>document.visibilityState!=="hidden"||document.prerendering?1/0:0,y=V=>{document.visibilityState==="hidden"&&_>-1&&(_=V.type==="visibilitychange"?V.timeStamp:0,O())},v=()=>{addEventListener("visibilitychange",y,!0),addEventListener("prerenderingchange",y,!0)},O=()=>{removeEventListener("visibilitychange",y,!0),removeEventListener("prerenderingchange",y,!0)},S=()=>{var V;if(_<0){const H=c(),ee=document.prerendering||(V=globalThis.performance.getEntriesByType("visibility-state").filter((z=>z.name==="hidden"&&z.startTime>H))[0])==null?void 0:V.startTime;_=ee!=null?ee:m(),v(),s((()=>{setTimeout((()=>{_=m(),v()}))}))}return{get firstHiddenTime(){return _}}},E=V=>{document.prerendering?addEventListener("prerenderingchange",(()=>V()),!0):V()},T=[1800,3e3],A=(V,H={})=>{E((()=>{const ee=S();let z,te=l("FCP");const Se=h("paint",(he=>{for(const oe of he)oe.name==="first-contentful-paint"&&(Se.disconnect(),oe.startTime<ee.firstHiddenTime&&(te.value=Math.max(oe.startTime-c(),0),te.entries.push(oe),z(!0)))}));Se&&(z=i(V,te,T,H.reportAllChanges),s((he=>{te=l("FCP"),z=i(V,te,T,H.reportAllChanges),o((()=>{te.value=performance.now()-he.timeStamp,z(!0)}))})))}))},w=[.1,.25];let N=0,P=1/0,x=0;const D=V=>{for(const H of V)H.interactionId&&(P=Math.min(P,H.interactionId),x=Math.max(x,H.interactionId),N=x?(x-P)/7+1:0)};let M;const F=()=>{var V;return M?N:(V=performance.interactionCount)!=null?V:0},j=()=>{"interactionCount"in performance||M||(M=h("event",D,{type:"event",buffered:!0,durationThreshold:0}))};let $=0;class q{constructor(){U(this,"u",[]);U(this,"l",new Map);U(this,"m");U(this,"p")}v(){$=F(),this.u.length=0,this.l.clear()}T(){const H=Math.min(this.u.length-1,Math.floor((F()-$)/50));return this.u[H]}h(H){var te,Se;if((te=this.m)==null||te.call(this,H),!H.interactionId&&H.entryType!=="first-input")return;const ee=this.u.at(-1);let z=this.l.get(H.interactionId);if(z||this.u.length<10||H.duration>ee.P){if(z?H.duration>z.P?(z.entries=[H],z.P=H.duration):H.duration===z.P&&H.startTime===z.entries[0].startTime&&z.entries.push(H):(z={id:H.interactionId,entries:[H],P:H.duration},this.l.set(z.id,z),this.u.push(z)),this.u.sort(((he,oe)=>oe.P-he.P)),this.u.length>10){const he=this.u.splice(10);for(const oe of he)this.l.delete(oe.id)}(Se=this.p)==null||Se.call(this,z)}}}const k=V=>{const H=globalThis.requestIdleCallback||setTimeout;document.visibilityState==="hidden"?V():(V=p(V),document.addEventListener("visibilitychange",V,{once:!0}),H((()=>{V(),document.removeEventListener("visibilitychange",V)})))},Z=[200,500];class B{constructor(){U(this,"m")}h(H){var ee;(ee=this.m)==null||ee.call(this,H)}}const Q=[2500,4e3],se=[800,1800],fe=V=>{document.prerendering?E((()=>fe(V))):document.readyState!=="complete"?addEventListener("load",(()=>fe(V)),!0):setTimeout(V)};n.CLSThresholds=w,n.FCPThresholds=T,n.INPThresholds=Z,n.LCPThresholds=Q,n.TTFBThresholds=se,n.onCLS=(V,H={})=>{A(p((()=>{let ee,z=l("CLS",0);const te=d(H,f),Se=oe=>{for(const be of oe)te.h(be);te.i>z.value&&(z.value=te.i,z.entries=te.o,ee())},he=h("layout-shift",Se);he&&(ee=i(V,z,w,H.reportAllChanges),document.addEventListener("visibilitychange",(()=>{document.visibilityState==="hidden"&&(Se(he.takeRecords()),ee(!0))})),s((()=>{te.i=0,z=l("CLS",0),ee=i(V,z,w,H.reportAllChanges),o((()=>ee()))})),setTimeout(ee))})))},n.onFCP=A,n.onINP=(V,H={})=>{globalThis.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype&&E((()=>{var oe;j();let ee,z=l("INP");const te=d(H,q),Se=be=>{k((()=>{for(const Xe of be)te.h(Xe);const ke=te.T();ke&&ke.P!==z.value&&(z.value=ke.P,z.entries=ke.entries,ee())}))},he=h("event",Se,{durationThreshold:(oe=H.durationThreshold)!=null?oe:40});ee=i(V,z,Z,H.reportAllChanges),he&&(he.observe({type:"first-input",buffered:!0}),document.addEventListener("visibilitychange",(()=>{document.visibilityState==="hidden"&&(Se(he.takeRecords()),ee(!0))})),s((()=>{te.v(),z=l("INP"),ee=i(V,z,Z,H.reportAllChanges)})))}))},n.onLCP=(V,H={})=>{E((()=>{const ee=S();let z,te=l("LCP");const Se=d(H,B),he=be=>{H.reportAllChanges||(be=be.slice(-1));for(const ke of be)Se.h(ke),ke.startTime<ee.firstHiddenTime&&(te.value=Math.max(ke.startTime-c(),0),te.entries=[ke],z())},oe=h("largest-contentful-paint",he);if(oe){z=i(V,te,Q,H.reportAllChanges);const be=p((()=>{he(oe.takeRecords()),oe.disconnect(),z(!0)}));for(const ke of["keydown","click","visibilitychange"])addEventListener(ke,(()=>k(be)),{capture:!0,once:!0});s((ke=>{te=l("LCP"),z=i(V,te,Q,H.reportAllChanges),o((()=>{te.value=performance.now()-ke.timeStamp,z(!0)}))}))}}))},n.onTTFB=(V,H={})=>{let ee=l("TTFB"),z=i(V,ee,se,H.reportAllChanges);fe((()=>{const te=a();te&&(ee.value=Math.max(te.responseStart-c(),0),ee.entries=[te],z(!0),s((()=>{ee=l("TTFB",0),z=i(V,ee,se,H.reportAllChanges),z(!0)})))}))}}))})(Id,Id.exports)),Id.exports}var _x;function _Z(){if(_x)return fd;_x=1,Object.defineProperty(fd,"__esModule",{value:!0}),fd.WebVitalsManager=void 0;const e=pZ(),t=kn(),n=sh(),r=Mu(),s=["CLS","FCP","INP","LCP","TTFB"];let i=class{constructor(a,c){this._enqueueFn=a,this._errorBoundary=c,this._isInitialized=!1,this._metricEvent={url:(0,r._getSafeUrlString)(),sanitizedUrl:(0,r._getSanitizedPageUrl)(),metrics:[],firstMetricTimestamp:void 0}}startTracking(){var a,c;try{if(this._isInitialized)return;const l=(c=(a=(0,t._getWindowSafe)())===null||a===void 0?void 0:a.location)===null||c===void 0?void 0:c.protocol;if(l!=="https:"&&l!=="http:")return;(0,e.onCLS)(u=>this._handleMetric(u)),(0,e.onFCP)(u=>this._handleMetric(u)),(0,e.onINP)(u=>this._handleMetric(u)),(0,e.onLCP)(u=>this._handleMetric(u)),(0,e.onTTFB)(u=>this._handleMetric(u)),this._isInitialized=!0}catch(l){t.Log.error("Error starting web vitals tracking",l),this._errorBoundary.logError("autoCapture:WebVitalsManager",l)}}_handleMetric(a){if(this._metricEvent.firstMetricTimestamp===void 0&&(this._metricEvent.firstMetricTimestamp=Date.now()),a===void 0||(a==null?void 0:a.name)===void 0)return;const c=(0,r._getSafeUrlString)();if(c===""||!s.includes(a.name))return;c!==this._metricEvent.url&&(this._enqueueWebVitalsAutoCaptureEvent(),this._metricEvent.url=c);const l=a;this._metricEvent.metrics.push({name:l.name,value:l.value,delta:l.delta,id:l.id}),this._metricEvent.metrics.length===s.length&&this._enqueueWebVitalsAutoCaptureEvent()}_enqueueWebVitalsAutoCaptureEvent(){if(this._metricEvent.url===""||this._metricEvent.metrics.length===0)return;const a={};this._metricEvent.metrics.forEach(c=>{const l=c.name.toLowerCase();a["".concat(l,"_value")]=c.value,a["".concat(l,"_delta")]=c.delta,a["".concat(l,"_id")]=c.id}),this._enqueueFn(n.AutoCaptureEventName.WEB_VITALS,this._metricEvent.sanitizedUrl,Object.assign(Object.assign({},a),{first_metric_timestamp:this._metricEvent.firstMetricTimestamp})),this._metricEvent={url:(0,r._getSafeUrlString)(),sanitizedUrl:(0,r._getSanitizedPageUrl)(),metrics:[],firstMetricTimestamp:void 0}}};return fd.WebVitalsManager=i,fd}var mx;function mZ(){if(mx)return Pi;mx=1,Object.defineProperty(Pi,"__esModule",{value:!0}),Pi.AutoCapture=Pi.runStatsigAutoCapture=Pi.StatsigAutoCapturePlugin=void 0;const e=kn(),t=sh(),n=lZ(),r=uZ(),s=dZ(),i=fZ(),o=_Z(),a=Mu(),c=bG(),l=Iw(),u={submit:t.AutoCaptureEventName.FORM_SUBMIT,click:t.AutoCaptureEventName.CLICK,copy:t.AutoCaptureEventName.COPY,cut:t.AutoCaptureEventName.COPY};class d{constructor(_){this._options=_,this.__plugin="auto-capture"}bind(_){f(_,this._options)}}Pi.StatsigAutoCapturePlugin=d;function f(p,_){var m;const{sdkKey:y}=p.getContext();if(!(0,e._isServerEnv)()){const O=(m=(0,e._getStatsigGlobal)().acInstances)!==null&&m!==void 0?m:{};if(O[y])return O[y]}return new h(p,_)}Pi.runStatsigAutoCapture=f;let h=class{constructor(_,m){var y,v,O,S;this._client=_,this._disabledEvents={},this._previousLoggedPageViewUrl=null,this._hasLoggedPageViewEnd=!1,this._pageViewLogged=!1;const{sdkKey:E,errorBoundary:T,values:A}=_.getContext();this._options=m,this._disabledEvents=(v=(y=A==null?void 0:A.auto_capture_settings)===null||y===void 0?void 0:y.disabled_events)!==null&&v!==void 0?v:{},this._errorBoundary=T,this._errorBoundary.wrap(this,"autoCapture:"),this._client.$on("values_updated",()=>{var N,P;const x=this._client.getContext().values;this._disabledEvents=(P=(N=x==null?void 0:x.auto_capture_settings)===null||N===void 0?void 0:N.disabled_events)!==null&&P!==void 0?P:this._disabledEvents}),this._engagementManager=new s.EngagementManager,this._rageClickManager=new i.default,this._webVitalsManager=new o.WebVitalsManager(this._enqueueAutoCapture.bind(this),T),this._deadClickManager=new r.default(this._enqueueAutoCapture.bind(this),T),this._consoleLogManager=new n.ConsoleLogManager(this._enqueueAutoCapture.bind(this),T,(O=m==null?void 0:m.consoleLogAutoCaptureSettings)!==null&&O!==void 0?O:{enabled:!1}),this._eventFilterFunc=m==null?void 0:m.eventFilterFunc;const w=(0,e._getDocumentSafe)();if(!(0,e._isServerEnv)()){__STATSIG__=(0,e._getStatsigGlobal)();const N=(S=__STATSIG__.acInstances)!==null&&S!==void 0?S:{};N[E]=this,__STATSIG__.acInstances=N}if((w==null?void 0:w.readyState)==="loading"){w.addEventListener("DOMContentLoaded",()=>this._initialize());return}this._initialize()}_addEventHandlers(){const _=(0,e._getWindowSafe)(),m=(0,e._getDocumentSafe)();if(!_||!m)return;const y=(v,O=!0)=>{var S;const E=v||((S=(0,e._getWindowSafe)())===null||S===void 0?void 0:S.event);this._autoLogEvent(E),O&&this._engagementManager.bumpInactiveTimer(),E.type==="click"&&E instanceof MouseEvent&&this._rageClickManager.isRageClick(E.clientX,E.clientY,Date.now())&&this._logRageClick(E)};(0,a._registerEventHandler)(m,"click",v=>y(v)),(0,a._registerEventHandler)(m,"submit",v=>y(v)),(0,a._registerEventHandler)(m,"copy",v=>y(v)),(0,a._registerEventHandler)(m,"cut",v=>y(v)),(0,a._registerEventHandler)(_,"error",v=>y(v,!1)),(0,a._registerEventHandler)(_,"pagehide",()=>this._tryLogPageViewEnd()),(0,a._registerEventHandler)(_,"beforeunload",()=>this._tryLogPageViewEnd())}_addPageViewTracking(){const _=(0,e._getWindowSafe)(),m=(0,e._getDocumentSafe)();!_||!m||((0,a._registerEventHandler)(_,"popstate",()=>this._tryLogPageView("popstate")),window.history.pushState=new Proxy(window.history.pushState,{apply:(y,v,[O,S,E])=>{y.apply(v,[O,S,E]),this._tryLogPageView("pushstate")}}),window.history.replaceState=new Proxy(window.history.replaceState,{apply:(y,v,[O,S,E])=>{y.apply(v,[O,S,E]),this._tryLogPageView("replacestate")}}),this._tryLogPageView())}_autoLogEvent(_){var m,y,v,O;const S=(m=_.type)===null||m===void 0?void 0:m.toLowerCase();if(S==="error"&&_ instanceof ErrorEvent){this._logError(_);return}const E=(0,a._getTargetNode)(_);if(!E)return;const T=u[S];if(!T)return;const A=T===t.AutoCaptureEventName.COPY;if(!(0,a._shouldLogEvent)(_,E,A))return;const w={};if(A){const D=(v=(y=(0,e._getWindowSafe)())===null||y===void 0?void 0:y.getSelection())===null||v===void 0?void 0:v.toString();if(!D)return;!((O=this._options)===null||O===void 0)&&O.captureCopyText&&(w.selectedText=(0,a._sanitizeString)(D));const M=_.type||"clipboard";w.clipType=M}const{value:N,metadata:P}=(0,c._gatherEventData)(E);P.isOutbound&&this._engagementManager.setMeaningfulEngagementOccurred(!0),Object.assign(w,P);const x=(0,l._gatherAllMetadata)((0,a._getSafeUrl)());this._enqueueAutoCapture(T,N,Object.assign(Object.assign({},x),w))}_initialize(){this._webVitalsManager.startTracking(),this._deadClickManager.startTracking(),this._consoleLogManager.startTracking(),this._engagementManager.startInactivityTracking(()=>this._tryLogPageViewEnd(!0)),this._addEventHandlers(),this._addPageViewTracking(),this._logSessionStart(),this._logPerformance()}_logError(_){const m=(_==null?void 0:_.error)||{};let y=m;if(typeof m=="object")try{y=JSON.stringify(m)}catch(v){y=typeof(m==null?void 0:m.toString)=="function"?m.toString():"Unknown Error"}this._enqueueAutoCapture(t.AutoCaptureEventName.ERROR,_.message,{message:_.message,filename:_.filename,lineno:_.lineno,colno:_.colno,error_str:y})}_logSessionStart(){const _=this._getSessionFromClient();try{if(!this._isNewSession(_))return;this._enqueueAutoCapture(t.AutoCaptureEventName.SESSION_START,(0,a._getSanitizedPageUrl)(),Object.assign({sessionID:_.data.sessionID},(0,l._gatherAllMetadata)((0,a._getSafeUrl)())),{flushImmediately:!0})}catch(m){this._errorBoundary.logError("AC::logSession",m)}}_tryLogPageView(_){const m=(0,a._getSafeUrl)(),y=this._previousLoggedPageViewUrl;if(y&&m.pathname===y.pathname)return;this._engagementManager.setLastPageViewTime(Date.now()),this._hasLoggedPageViewEnd=!1;const v=(0,l._gatherAllMetadata)(m);_&&(v.navigation_type=_),this._previousLoggedPageViewUrl&&(v.last_page_view_url=this._previousLoggedPageViewUrl.href),this._pageViewLogged||(this._updateClientWithPossibleFirstTouchMetadata(),this._pageViewLogged=!0),this._enqueueAutoCapture(t.AutoCaptureEventName.PAGE_VIEW,(0,a._getSanitizedPageUrl)(),v,{flushImmediately:!0,addNewSessionMetadata:!0}),this._previousLoggedPageViewUrl=m,this._engagementManager.bumpInactiveTimer()}_tryLogPageViewEnd(_=!1){this._hasLoggedPageViewEnd||(this._hasLoggedPageViewEnd=!0,this._enqueueAutoCapture(t.AutoCaptureEventName.PAGE_VIEW_END,(0,a._getSanitizedPageUrl)(),Object.assign(Object.assign({},this._engagementManager.getPageViewEndMetadata()),{dueToInactivity:_}),{flushImmediately:!0}))}_logRageClick(_){if(!(0,a._shouldLogEvent)(_,_.target))return;const{value:m,metadata:y}=(0,c._gatherEventData)(_.target);this._enqueueAutoCapture(t.AutoCaptureEventName.RAGE_CLICK,m,Object.assign(Object.assign({x:_.clientX,y:_.clientY,timestamp:Date.now()},(0,l._gatherAllMetadata)((0,a._getSafeUrl)())),y))}_logPerformance(){const _=(0,e._getWindowSafe)();!_||!_.performance||typeof(_==null?void 0:_.performance)>"u"||typeof _.performance.getEntriesByType!="function"||typeof _.performance.getEntriesByName!="function"||setTimeout(()=>{const m={},y=_.performance.getEntriesByType("navigation");if(y&&y.length>0&&y[0]instanceof PerformanceNavigationTiming){const O=y[0];m.load_time_ms=O.duration,m.dom_interactive_time_ms=O.domInteractive-O.startTime,m.redirect_count=O.redirectCount,m.transfer_bytes=O.transferSize}const v=_.performance.getEntriesByName("first-contentful-paint");v&&v.length>0&&v[0]instanceof PerformancePaintTiming&&(m.first_contentful_paint_time_ms=v[0].startTime),this._enqueueAutoCapture(t.AutoCaptureEventName.PERFORMANCE,(0,a._getSanitizedPageUrl)(),Object.assign(Object.assign({},m),(0,l._getNetworkInfo)()))},1)}_enqueueAutoCapture(_,m,y,v){var O,S,E;if(!m)return;const T=_.slice(14);if(this._disabledEvents[_]||this._disabledEvents[T])return;const A=this._getSessionFromClient();try{const w=Object.assign({sessionID:A.data.sessionID,page_url:(E=(S=(O=(0,e._getWindowSafe)())===null||O===void 0?void 0:O.location)===null||S===void 0?void 0:S.href)!==null&&E!==void 0?E:""},y);v!=null&&v.addNewSessionMetadata&&(w.isNewSession=String(this._isNewSession(A)));const N={eventName:_,value:m,metadata:w};if(this._eventFilterFunc&&!this._eventFilterFunc(N))return;this._client.logEvent(N),v!=null&&v.flushImmediately&&this._flushImmediately()}catch(w){this._errorBoundary.logError("AC::enqueue",w)}}_updateClientWithPossibleFirstTouchMetadata(){const _=this._client;_._possibleFirstTouchMetadata=(0,l._getPossibleFirstTouchMetadata)((0,a._getSafeUrl)()),Object.keys(_._possibleFirstTouchMetadata).length>0&&(_._user=Object.assign(Object.assign({},_._user),{analyticsOnlyMetadata:Object.assign(Object.assign({},_._possibleFirstTouchMetadata),_._user.analyticsOnlyMetadata)}))}_flushImmediately(){this._client.flush().catch(_=>{e.Log.error(_)})}_isNewSession(_){return Math.abs(_.data.startTime-Date.now())<1e3}_getSessionFromClient(){return this._client.getContext().session}static getAllMetadata(){return(0,l._gatherAllMetadata)((0,a._getSafeUrl)())}};return Pi.AutoCapture=h,Pi}var gx;function gZ(){return gx||(gx=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.StatsigAutoCapturePlugin=e.runStatsigAutoCapture=e.AutoCapture=e.AutoCaptureEventName=void 0;const t=kn(),n=mZ();Object.defineProperty(e,"AutoCapture",{enumerable:!0,get:function(){return n.AutoCapture}}),Object.defineProperty(e,"StatsigAutoCapturePlugin",{enumerable:!0,get:function(){return n.StatsigAutoCapturePlugin}}),Object.defineProperty(e,"runStatsigAutoCapture",{enumerable:!0,get:function(){return n.runStatsigAutoCapture}});var r=sh();Object.defineProperty(e,"AutoCaptureEventName",{enumerable:!0,get:function(){return r.AutoCaptureEventName}});const s=Object.assign((0,t._getStatsigGlobal)(),{AutoCapture:n.AutoCapture,runStatsigAutoCapture:n.runStatsigAutoCapture,StatsigAutoCapturePlugin:n.StatsigAutoCapturePlugin});e.default=s})(Cy)),Cy}gZ();function lA(e,t,n,r){return Br(e).logEvent(t,n,r)}function Me(e,t,n){return Br(e).checkGate(t,n)}function cn(e,t,n){return Br(e).getDynamicConfig(t,n)}function X_(e,t,n){return Br(e).getExperiment(t,n)}function Ot(e,t,n){return Br(e).getLayer(t,n)}async function vx(e,t=1e3){const n=Br(e);await Promise.race([n.flush(),new Promise(r=>setTimeout(r,t))])}const vZ=ct(()=>new aZ.LocalOverrideAdapter),yZ=e=>{var n,r,s;const t={};return typeof((n=e==null?void 0:e.custom)==null?void 0:n.auth_status)=="string"&&(t.auth_status=e.custom.auth_status),typeof(e==null?void 0:e.locale)=="string"&&(t.browser_locale=e.locale),typeof((r=e==null?void 0:e.custom)==null?void 0:r.container_build_number)=="string"&&(t.container_build_number=e.custom.container_build_number),typeof((s=e==null?void 0:e.custom)==null?void 0:s.container_build_version)=="string"&&(t.container_build_version=e.custom.container_build_version),t};class EZ extends SG.StatsigClient{constructor(){super(...arguments);U(this,"commonMetadata",{})}logEvent(n,r,s){var o;const i=b(b({},this.commonMetadata),typeof n=="string"?s:n.metadata);super.logEvent(typeof n=="string"?n:n.eventName,typeof n=="string"?r:(o=n.value)!=null?o:void 0,i)}}const Br=ct(e=>{const t=vt(),n=vZ(e),r=new EZ(KQ,t.statsigPayload.user,{environment:{tier:XQ},networkConfig:{api:window.location.origin+"/v1",preventAllNetworkTraffic:!1},loggingBufferMaxSize:100,disableLogging:!1,disableStorage:!1,overrideAdapter:n,logEventCompressionMode:SG.LogEventCompressionMode.Forced});return r.commonMetadata=yZ(t.statsigPayload.user),r.dataAdapter.setData(JSON.stringify(t.statsigPayload)),r.initializeSync(),r});function hd(){return Br(Bt())}const ut={logEvent:(e,t,n)=>{YQ.postTask(()=>{hd().logEvent(e,t!=null?t:void 0,n)},{priority:"background"})},checkGate:e=>hd().checkGate(e),getUser:()=>hd().getContext().user,getLayerValue(e){var t;return(t=hd().getLayer(e.layerName,{disableExposureLog:!e.shouldLogExposure}).get(e.key))!=null?t:e.defaultValue},checkGateWithExposureLoggingDisabled:e=>hd().checkGate(e,{disableExposureLog:!0})},Pw=window.location.host+"/ces",Rw="https",CZ={},SZ=CZ,TG="".concat(Rw,"://").concat(Pw),OG={disableClientPersistence:!0,integrations:{"Segment.io":{apiHost:"".concat(Pw,"/v1"),host:TG,protocol:Rw,deliveryStrategy:b({},SZ)}}},AG={writeKey:"oai",cdnURL:"".concat(Rw,"://").concat(Pw)};var xw={},en=(e=>(e[e.Required=0]="Required",e[e.SendIfAvailable=1]="SendIfAvailable",e[e.Anonymous=2]="Anonymous",e))(en||{}),zB;const Ve=(zB=xw.VITE_SHARED_API_URL)!=null?zB:window.location.origin+"/backend-api";var YB;const Mw=(YB=xw.VITE_SHARED_ANON_API_URL)!=null?YB:window.location.origin+"/backend-anon";var KB;const h_=(KB=xw.VITE_PUBLIC_API_URL)!=null?KB:window.location.origin+"/public-api",bZ="v4-2023-04-27",IGe={IT:"Italy",KR:"South Korea"},TZ={AD:"Andorra",AI:"Anguilla",AL:"Albania",AT:"Austria",AW:"Aruba",AX:"Ã…land Islands",BE:"Belgium",BG:"Bulgaria",BL:"Saint BarthÃ©lemy",BM:"Bermuda",BQ:"Caribbean Netherlands",BR:"Brazil",BV:"Bouvet Island",CA:"Canada",CH:"Switzerland",CO:"Colombia",CW:"CuraÃ§ao",CY:"Cyprus",CZ:"Czech Republic",DE:"Germany",DK:"Denmark",EC:"Ecuador",EE:"Estonia",ES:"Spain",FI:"Finland",FK:"Falkland Islands",FO:"Faroe Islands",FR:"France",GB:"United Kingdom",GF:"French Guiana",GG:"Guernsey",GI:"Gibraltar",GL:"Greenland",GP:"Guadeloupe",GR:"Greece",GS:"South Georgia and the South Sandwich Islands",HR:"Croatia",HU:"Hungary",IC:"Canary Islands",ID:"Indonesia",IE:"Ireland",IM:"Isle of Man",IN:"India",IO:"British Indian Ocean Territory",IS:"Iceland",IT:"Italy",JE:"Jersey",JP:"Japan",KR:"South Korea",KY:"Cayman Islands",LI:"Liechtenstein",LT:"Lithuania",LU:"Luxembourg",LV:"Latvia",MC:"Monaco",MD:"Moldova",ME:"Montenegro",MF:"Saint Martin",MK:"North Macedonia",MQ:"Martinique",MS:"Montserrat",MT:"Malta",MX:"Mexico",NC:"New Caledonia",NL:"Netherlands",NO:"Norway",PF:"French Polynesia",PL:"Poland",PM:"Saint Pierre and Miquelon",PN:"Pitcairn",PT:"Portugal",RE:"Reunion",RO:"Romania",RS:"Serbia",SE:"Sweden",SG:"Singapore",SH:"Saint Helena, Ascension and Tristan da Cunha",SI:"Slovenia",SJ:"Svalbard and Jan Mayen",SK:"Slovakia",SM:"San Marino",SX:"Sint Maarten",TC:"Turks and Caicos Islands",TF:"French Southern Territories",TH:"Thailand",VA:"Vatican City",VG:"British Virgin Islands",VN:"Vietnam",WF:"Wallis and Futuna",YT:"Mayotte",ZA:"South Africa"},wG=[/^https:\/\/ab\.chatgpt\.com\//,e=>e.startsWith(TG),e=>{const t=[Ve,Mw],n=[/^\/sentinel\//];for(const r of t)if(e.startsWith(r)){const s=e.slice(r.length);return n.some(i=>i.test(s))}return!1}];var Gi,Jf,Qf,Zf,eh,dc;class OZ{constructor(){kt(this,Gi,!1);kt(this,Jf,new Set);kt(this,Qf,new Set);kt(this,Zf,new Map);kt(this,eh,!1);kt(this,dc,new Map);U(this,"addAction",(t,n)=>{pe(this,Gi)||(console.error("Should not call addAction before initialize"),this.initialize()),qn.addAction(t,n)})}initialize(t){var n;if(!pe(this,Gi)){{const r=ug?(n=ot==null?void 0:ot.getTelemetryConfig)==null?void 0:n.call(ot):void 0,s=r!==void 0?r.datadogService:"chatgpt-web",i=1;qn.init(b(I(b({applicationId:"fd6e06b8-4825-4fbb-8db4-2a243f92c4bc",clientToken:"pub1f79f8ac903a5872ae5f53026d20a77c",site:"datadoghq.com",service:s,env:"prod",version:"27708bcc2b52f2ffa559a947c7b032818dec0af9"},document.documentElement.dataset.jsp?{profilingSampleRate:100}:{}),{sessionSampleRate:i,sessionReplaySampleRate:0,trackUserInteractions:!1,defaultPrivacyLevel:ZJ.MASK_USER_INPUT,beforeSend:o=>{if(o.type==="error"&&FQ(o.error))return!1;if(o.view.url=Yd(o.view.url),o.type==="resource"){const a=YR(o.resource.url);if(a!=null&&(a.hostname===window.location.host||a.pathname.startsWith("/ces/")))return!1;o.resource.url=Yd(o.resource.url)}return o.type==="error"&&o.error.resource&&(o.error.resource.url=Yd(o.error.resource.url)),!0},allowedTrackingOrigins:[/chatgpt\.com/],allowedTracingUrls:[{match:o=>{const a=YR(o);if(a==null)return!1;const{hostname:c,pathname:l}=a;return!(!["openai.com",window.location.host].some(d=>c.endsWith(d))||c===window.location.host||l.startsWith("/ces/")||l.startsWith("/healthcheck"))},propagatorTypes:["datadog"]}],traceSampleRate:i,excludedActivityUrls:wG}),t)),qn.setGlobalContextProperty("track","stable"),r!==void 0&&qn.setGlobalContextProperty("is_electron_desktop_app",!0),qn.setGlobalContextProperty("is_authenticated",!1)}zt(this,Gi,!0),oA.instance.setLogger(this)}}get viewId(){var t,n;return(n=(t=qn.getInternalContext())==null?void 0:t.view)==null?void 0:n.id}get sessionId(){var t;return(t=qn.getInternalContext())==null?void 0:t.session_id}addError(t,n){if(console.error(t,n),pe(this,Gi)||(console.error("Should not call addError before initialize"),this.initialize()),t instanceof Gt)return;const r=typeof t=="string"?new Error(t):t;pe(this,eh)||(ut.logEvent("session_has_datadog_error"),zt(this,eh,!0)),qn.addError(r,n)}addTiming(t,{time:n,serialTimingGroup:r}={}){const s=n!=null?n:Date.now(),i=s-performance.timeOrigin;if(performance.mark(t,{startTime:Math.max(0,i)}),r){pe(this,dc).has(r)||pe(this,dc).set(r,0);const o=pe(this,dc).get(r);performance.measure(t,{start:o,end:i}),pe(this,dc).set(r,i)}return pe(this,Zf).set(t,s),pe(this,Gi)||(console.error("Should not call addTiming before initialize"),this.initialize()),qn.addTiming(t,n),n}addFirstTiming(t,{time:n,serialTimingGroup:r}={}){if(!pe(this,Jf).has(t))return pe(this,Jf).add(t),this.addTiming(t,{time:n,serialTimingGroup:r})}addDurationVital(t,n,r){qn.addDurationVital(t,{startTime:n,duration:r})}addFirstDurationVital(t,n,r){pe(this,Qf).has(t)||(pe(this,Qf).add(t),this.addDurationVital(t,n,r))}getTimings(){return pe(this,Zf)}setUser(t,n){var s;qn.setGlobalContextProperty("is_authenticated",!0);const r={id:t.id,account_plan_type:(s=n==null?void 0:n.planType)!=null?s:"none",workspace_id:n==null?void 0:n.id};pe(this,Gi)||(console.error("Should not call setUser before initialize"),this.initialize()),qn.setUser(r)}setNoAuthUser(){qn.setUser({account_plan_type:"none"})}addFeatureFlagEvaluation(t,n){qn.addFeatureFlagEvaluation(t,n)}}Gi=new WeakMap,Jf=new WeakMap,Qf=new WeakMap,Zf=new WeakMap,eh=new WeakMap,dc=new WeakMap;const K=new OZ,AZ=Object.freeze(Object.defineProperty({__proto__:null,DatadogLogger:K},Symbol.toStringTag,{value:"Module"})),NG=3480*1e3,wZ=NG;function NZ(e){return e}const dg=eQ,IZ=()=>({defaultOptions:{queries:{gcTime:wZ,staleTime:NG,retry:!1,retryOnMount:!1,refetchOnMount:!1,refetchOnWindowFocus:!1,refetchOnReconnect:!1,networkMode:"always",queryKeyHashFn:dg,throwOnError:(e,t)=>{if(!(e instanceof Gt||e instanceof Rt))try{K.addError(e,{queryKey:t.queryKey.map(String).join(","),queryHash:t.queryHash})}catch(n){console.error(n)}return!1}},hydrate:{deserializeData:NZ}}}),yx=new Set,Ex=new WeakMap,Cx=e=>{let t=Ex.get(e);return t==null&&(t=new Map,Ex.set(e,t)),t},PZ=(e,t)=>{const n=Cx(t),r=n.get(e);if(r)return r;const s=(i,...o)=>{var c,l;const a=(l=(c=window.__REACT_QUERY_CACHE__)==null?void 0:c[e])==null?void 0:l.promise;return!yx.has(e)&&a!=null?(yx.add(e),a.then(u=>{var f;const d=u;return i.pageParam!=null&&Array.isArray(d.pageParams)&&d.pageParams.includes(i.pageParam)&&((f=d.pages)==null?void 0:f[i.pageParam])!=null?d.pages[i.pageParam]:d}).catch(()=>t(i,...o))):t(i,...o)};return Cx(s).set(e,s),n.set(e,s),s};class RZ extends tQ{defaultQueryOptions(t){var r;const n=super.defaultQueryOptions(t);if(t._defaulted)return n;if(typeof n.queryFn=="function"&&n.queryKey){const s=(r=n.queryHash)!=null?r:dg(n.queryKey);n.queryFn=PZ(s,n.queryFn)}return n}}function xZ(){return new RZ(IZ())}const on=ct(e=>xZ()),p_=C.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;if(!p_)throw new Error("Missing react shared internals. Check version.");function fg(){const e=p_==null?void 0:p_.H;return e!=null&&e.useState!==e.useReducer}function Ke(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error(typeof e=="number"?"[MobX] minified error nr: "+e+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}var MZ={};function hg(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:MZ}var IG=Object.assign,J_=Object.getOwnPropertyDescriptor,pi=Object.defineProperty,ih=Object.prototype,uA=[];Object.freeze(uA);var kw={};Object.freeze(kw);var kZ=typeof Proxy<"u",LZ=Object.toString();function PG(){kZ||Ke("Proxy not available")}function RG(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var Fl=function(){};function Ur(e){return typeof e=="function"}function wc(e){var t=typeof e;switch(t){case"string":case"symbol":case"number":return!0}return!1}function pg(e){return e!==null&&typeof e=="object"}function Qi(e){if(!pg(e))return!1;var t=Object.getPrototypeOf(e);if(t==null)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n.toString()===LZ}function xG(e){var t=e==null?void 0:e.constructor;return t?t.name==="GeneratorFunction"||t.displayName==="GeneratorFunction":!1}function oh(e,t,n){pi(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function MG(e,t,n){pi(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function fa(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(r){return pg(r)&&r[n]===!0}}function ku(e){return e!=null&&Object.prototype.toString.call(e)==="[object Map]"}function DZ(e){var t=Object.getPrototypeOf(e),n=Object.getPrototypeOf(t),r=Object.getPrototypeOf(n);return r===null}function Wi(e){return e!=null&&Object.prototype.toString.call(e)==="[object Set]"}var kG=typeof Object.getOwnPropertySymbols<"u";function FZ(e){var t=Object.keys(e);if(!kG)return t;var n=Object.getOwnPropertySymbols(e);return n.length?[].concat(t,n.filter(function(r){return ih.propertyIsEnumerable.call(e,r)})):t}var fu=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:kG?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function LG(e){return e===null?null:typeof e=="object"?""+e:e}function Vi(e,t){return ih.hasOwnProperty.call(e,t)}var UZ=Object.getOwnPropertyDescriptors||function(t){var n={};return fu(t).forEach(function(r){n[r]=J_(t,r)}),n};function Nr(e,t){return!!(e&t)}function Ir(e,t,n){return n?e|=t:e&=~t,e}function Sx(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function jZ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,GZ(r.key),r)}}function Lu(e,t,n){return t&&jZ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ul(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=WZ(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ea(){return ea=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ea.apply(null,arguments)}function DG(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,dA(e,t)}function dA(e,t){return dA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},dA(e,t)}function BZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function GZ(e){var t=BZ(e,"string");return typeof t=="symbol"?t:t+""}function WZ(e,t){if(e){if(typeof e=="string")return Sx(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Sx(e,t):void 0}}var fi=Symbol("mobx-stored-annotations");function Ns(e){function t(n,r){if(ch(r))return e.decorate_20223_(n,r);ah(n,r,e)}return Object.assign(t,e)}function ah(e,t,n){Vi(e,fi)||oh(e,fi,ea({},e[fi])),JZ(n)||(e[fi][t]=n)}function HZ(e){return Vi(e,fi)||oh(e,fi,ea({},e[fi])),e[fi]}function ch(e){return typeof e=="object"&&typeof e.kind=="string"}var Re=Symbol("mobx administration"),ha=(function(){function e(n){n===void 0&&(n="Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=dt.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=n}var t=e.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},t.reportObserved=function(){return e6(this)},t.reportChanged=function(){hr(),t6(this),pr()},t.toString=function(){return this.name_},Lu(e,[{key:"isBeingObserved",get:function(){return Nr(this.flags_,e.isBeingObservedMask_)},set:function(r){this.flags_=Ir(this.flags_,e.isBeingObservedMask_,r)}},{key:"isPendingUnobservation",get:function(){return Nr(this.flags_,e.isPendingUnobservationMask_)},set:function(r){this.flags_=Ir(this.flags_,e.isPendingUnobservationMask_,r)}},{key:"diffValue",get:function(){return Nr(this.flags_,e.diffValueMask_)?1:0},set:function(r){this.flags_=Ir(this.flags_,e.diffValueMask_,r===1)}}])})();ha.isBeingObservedMask_=1;ha.isPendingUnobservationMask_=2;ha.diffValueMask_=4;var Lw=fa("Atom",ha);function _g(e,t,n){t===void 0&&(t=Fl),n===void 0&&(n=Fl);var r=new ha(e);return t!==Fl&&u6(r,t),n!==Fl&&jw(r,n),r}function $Z(e,t){return e===t}function qZ(e,t){return qw(e,t)}function VZ(e,t){return qw(e,t,1)}function zZ(e,t){return Object.is?Object.is(e,t):e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Nc={identity:$Z,structural:qZ,default:zZ,shallow:VZ};function Ic(e,t,n){return bg(e)?e:Array.isArray(e)?Tn.array(e,{name:n}):Qi(e)?Tn.object(e,void 0,{name:n}):ku(e)?Tn.map(e,{name:n}):Wi(e)?Tn.set(e,{name:n}):typeof e=="function"&&!pu(e)&&!_u(e)?xG(e)?Rc(e):hu(n,e):e}function YZ(e,t,n){if(e==null||Bn(e)||Er(e)||Gn(e)||On(e))return e;if(Array.isArray(e))return Tn.array(e,{name:n,deep:!1});if(Qi(e))return Tn.object(e,void 0,{name:n,deep:!1});if(ku(e))return Tn.map(e,{name:n,deep:!1});if(Wi(e))return Tn.set(e,{name:n,deep:!1})}function mg(e){return e}function KZ(e,t){return qw(e,t)?t:e}var FG="override",XZ=Ns({annotationType_:FG,make_:QZ,extend_:ZZ,decorate_20223_:eee});function JZ(e){return e.annotationType_===FG}function QZ(e,t){return 0}function ZZ(e,t,n,r){Ke("'"+this.annotationType_+"' can only be used with 'makeObservable'")}function eee(e,t){console.warn("'"+this.annotationType_+"' cannot be used with decorators - this is a no-op")}function lh(e,t){return{annotationType_:e,options_:t,make_:tee,extend_:nee,decorate_20223_:ree}}function tee(e,t,n,r){var s;if((s=this.options_)!=null&&s.bound)return this.extend_(e,t,n,!1)===null?0:1;if(r===e.target_)return this.extend_(e,t,n,!1)===null?0:2;if(pu(n.value))return 1;var i=UG(e,this,t,n,!1);return pi(r,t,i),2}function nee(e,t,n,r){var s=UG(e,this,t,n);return e.defineProperty_(t,s,r)}function ree(e,t){var n=t.kind,r=t.name,s=t.addInitializer,i=this,o=function(l){var u,d,f,h;return ta((u=(d=i.options_)==null?void 0:d.name)!=null?u:r.toString(),l,(f=(h=i.options_)==null?void 0:h.autoAction)!=null?f:!1)};if(n=="field")return function(c){var l,u=c;return pu(u)||(u=o(u)),(l=i.options_)!=null&&l.bound&&(u=u.bind(this),u.isMobxAction=!0),u};if(n=="method"){var a;return pu(e)||(e=o(e)),(a=this.options_)!=null&&a.bound&&s(function(){var c=this,l=c[r].bind(c);l.isMobxAction=!0,c[r]=l}),e}Ke("Cannot apply '"+i.annotationType_+"' to '"+String(r)+"' (kind: "+n+"):"+("\n'"+i.annotationType_+"' can only be used on properties with a function value."))}function see(e,t,n,r){t.annotationType_,r.value}function UG(e,t,n,r,s){var i,o,a,c,l,u,d;s===void 0&&(s=le.safeDescriptors),see(e,t,n,r);var f=r.value;if((i=t.options_)!=null&&i.bound){var h;f=f.bind((h=e.proxy_)!=null?h:e.target_)}return{value:ta((o=(a=t.options_)==null?void 0:a.name)!=null?o:n.toString(),f,(c=(l=t.options_)==null?void 0:l.autoAction)!=null?c:!1,(u=t.options_)!=null&&u.bound?(d=e.proxy_)!=null?d:e.target_:void 0),configurable:s?e.isPlainObject_:!0,enumerable:!1,writable:!s}}function jG(e,t){return{annotationType_:e,options_:t,make_:iee,extend_:oee,decorate_20223_:aee}}function iee(e,t,n,r){var s;if(r===e.target_)return this.extend_(e,t,n,!1)===null?0:2;if((s=this.options_)!=null&&s.bound&&(!Vi(e.target_,t)||!_u(e.target_[t]))&&this.extend_(e,t,n,!1)===null)return 0;if(_u(n.value))return 1;var i=BG(e,this,t,n,!1,!1);return pi(r,t,i),2}function oee(e,t,n,r){var s,i=BG(e,this,t,n,(s=this.options_)==null?void 0:s.bound);return e.defineProperty_(t,i,r)}function aee(e,t){var n,r=t.name,s=t.addInitializer;return _u(e)||(e=Rc(e)),(n=this.options_)!=null&&n.bound&&s(function(){var i=this,o=i[r].bind(i);o.isMobXFlow=!0,i[r]=o}),e}function cee(e,t,n,r){t.annotationType_,r.value}function BG(e,t,n,r,s,i){i===void 0&&(i=le.safeDescriptors),cee(e,t,n,r);var o=r.value;if(_u(o)||(o=Rc(o)),s){var a;o=o.bind((a=e.proxy_)!=null?a:e.target_),o.isMobXFlow=!0}return{value:o,configurable:i?e.isPlainObject_:!0,enumerable:!1,writable:!i}}function Dw(e,t){return{annotationType_:e,options_:t,make_:lee,extend_:uee,decorate_20223_:dee}}function lee(e,t,n){return this.extend_(e,t,n,!1)===null?0:1}function uee(e,t,n,r){return fee(e,this,t,n),e.defineComputedProperty_(t,ea({},this.options_,{get:n.get,set:n.set}),r)}function dee(e,t){var n=this,r=t.name,s=t.addInitializer;return s(function(){var i=Jc(this)[Re],o=ea({},n.options_,{get:e,context:this});o.name||(o.name="ObservableObject."+r.toString()),i.values_.set(r,new Ms(o))}),function(){return this[Re].getObservablePropValue_(r)}}function fee(e,t,n,r){t.annotationType_,r.get}function gg(e,t){return{annotationType_:e,options_:t,make_:hee,extend_:pee,decorate_20223_:_ee}}function hee(e,t,n){return this.extend_(e,t,n,!1)===null?0:1}function pee(e,t,n,r){var s,i;return mee(e,this),e.defineObservableProperty_(t,n.value,(s=(i=this.options_)==null?void 0:i.enhancer)!=null?s:Ic,r)}function _ee(e,t){var n=this,r=t.kind,s=t.name,i=new WeakSet;function o(a,c){var l,u,d=Jc(a)[Re],f=new Ko(c,(l=(u=n.options_)==null?void 0:u.enhancer)!=null?l:Ic,"ObservableObject."+s.toString(),!1);d.values_.set(s,f),i.add(a)}if(r=="accessor")return{get:function(){return i.has(this)||o(this,e.get.call(this)),this[Re].getObservablePropValue_(s)},set:function(c){return i.has(this)||o(this,c),this[Re].setObservablePropValue_(s,c)},init:function(c){return i.has(this)||o(this,c),c}}}function mee(e,t,n,r){t.annotationType_}var gee="true",vee=GG();function GG(e){return{annotationType_:gee,options_:e,make_:yee,extend_:Eee,decorate_20223_:Cee}}function yee(e,t,n,r){var s,i;if(n.get)return Du.make_(e,t,n,r);if(n.set){var o=ta(t.toString(),n.set);return r===e.target_?e.defineProperty_(t,{configurable:le.safeDescriptors?e.isPlainObject_:!0,set:o})===null?0:2:(pi(r,t,{configurable:!0,set:o}),2)}if(r!==e.target_&&typeof n.value=="function"){var a;if(xG(n.value)){var c,l=(c=this.options_)!=null&&c.autoBind?Rc.bound:Rc;return l.make_(e,t,n,r)}var u=(a=this.options_)!=null&&a.autoBind?hu.bound:hu;return u.make_(e,t,n,r)}var d=((s=this.options_)==null?void 0:s.deep)===!1?Tn.ref:Tn;if(typeof n.value=="function"&&(i=this.options_)!=null&&i.autoBind){var f;n.value=n.value.bind((f=e.proxy_)!=null?f:e.target_)}return d.make_(e,t,n,r)}function Eee(e,t,n,r){var s,i;if(n.get)return Du.extend_(e,t,n,r);if(n.set)return e.defineProperty_(t,{configurable:le.safeDescriptors?e.isPlainObject_:!0,set:ta(t.toString(),n.set)},r);if(typeof n.value=="function"&&(s=this.options_)!=null&&s.autoBind){var o;n.value=n.value.bind((o=e.proxy_)!=null?o:e.target_)}var a=((i=this.options_)==null?void 0:i.deep)===!1?Tn.ref:Tn;return a.extend_(e,t,n,r)}function Cee(e,t){Ke("'"+this.annotationType_+"' cannot be used as a decorator")}var See="observable",bee="observable.ref",Tee="observable.shallow",Oee="observable.struct",WG={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(WG);function bp(e){return e||WG}var fA=gg(See),Aee=gg(bee,{enhancer:mg}),wee=gg(Tee,{enhancer:YZ}),Nee=gg(Oee,{enhancer:KZ}),HG=Ns(fA);function Tp(e){return e.deep===!0?Ic:e.deep===!1?mg:Pee(e.defaultDecorator)}function Iee(e){var t;return e?(t=e.defaultDecorator)!=null?t:GG(e):void 0}function Pee(e){var t,n;return e&&(t=(n=e.options_)==null?void 0:n.enhancer)!=null?t:Ic}function $G(e,t,n){if(ch(t))return fA.decorate_20223_(e,t);if(wc(t)){ah(e,t,fA);return}return bg(e)?e:Qi(e)?Tn.object(e,t,n):Array.isArray(e)?Tn.array(e,t):ku(e)?Tn.map(e,t):Wi(e)?Tn.set(e,t):typeof e=="object"&&e!==null?e:Tn.box(e,t)}IG($G,HG);var Ree={box:function(t,n){var r=bp(n);return new Ko(t,Tp(r),r.name,!0,r.equals)},array:function(t,n){var r=bp(n);return(le.useProxies===!1||r.proxy===!1?zte:Fte)(t,Tp(r),r.name)},map:function(t,n){var r=bp(n);return new Ww(t,Tp(r),r.name)},set:function(t,n){var r=bp(n);return new Hw(t,Tp(r),r.name)},object:function(t,n,r){return pa(function(){return Bw(le.useProxies===!1||(r==null?void 0:r.proxy)===!1?Jc({},r):Mte({},r),t,n)})},ref:Ns(Aee),shallow:Ns(wee),deep:HG,struct:Ns(Nee)},Tn=IG($G,Ree),qG="computed",xee="computed.struct",hA=Dw(qG),Mee=Dw(xee,{equals:Nc.structural}),Du=function(t,n){if(ch(n))return hA.decorate_20223_(t,n);if(wc(n))return ah(t,n,hA);if(Qi(t))return Ns(Dw(qG,t));var r=Qi(n)?n:{};return r.get=t,r.name||(r.name=t.name||""),new Ms(r)};Object.assign(Du,hA);Du.struct=Ns(Mee);var bx,Tx,Q_=0,kee=1,Lee=(bx=(Tx=J_(function(){},"name"))==null?void 0:Tx.configurable)!=null?bx:!1,Ox={value:"action",configurable:!0,writable:!1,enumerable:!1};function ta(e,t,n,r){n===void 0&&(n=!1);function s(){return VG(e,n,t,r||this,arguments)}return s.isMobxAction=!0,s.toString=function(){return t.toString()},Lee&&(Ox.value=e,pi(s,"name",Ox)),s}function VG(e,t,n,r,s){var i=zG(e,t);try{return n.apply(r,s)}catch(o){throw i.error_=o,o}finally{YG(i)}}function zG(e,t,n,r){var s=!1,i=0,o=le.trackingDerivation,a=!t||!o;hr();var c=le.allowStateChanges;a&&(Xc(),c=vg(!0));var l=Eg(!0),u={runAsAction_:a,prevDerivation_:o,prevAllowStateChanges_:c,prevAllowStateReads_:l,notifySpy_:s,startTime_:i,actionId_:kee++,parentActionId_:Q_};return Q_=u.actionId_,u}function YG(e){Q_!==e.actionId_&&Ke(30),Q_=e.parentActionId_,e.error_!==void 0&&(le.suppressReactionErrors=!0),yg(e.prevAllowStateChanges_),Ql(e.prevAllowStateReads_),pr(),e.runAsAction_&&zi(e.prevDerivation_),le.suppressReactionErrors=!1}function Fw(e,t){var n=vg(e);try{return t()}finally{yg(n)}}function vg(e){var t=le.allowStateChanges;return le.allowStateChanges=e,t}function yg(e){le.allowStateChanges=e}var Ko=(function(e){function t(r,s,i,o,a){var c;return i===void 0&&(i="ObservableValue"),a===void 0&&(a=Nc.default),c=e.call(this,i)||this,c.enhancer=void 0,c.name_=void 0,c.equals=void 0,c.hasUnreportedChange_=!1,c.interceptors_=void 0,c.changeListeners_=void 0,c.value_=void 0,c.dehancer=void 0,c.enhancer=s,c.name_=i,c.equals=a,c.value_=s(r,void 0,i),c}DG(t,e);var n=t.prototype;return n.dehanceValue=function(s){return this.dehancer!==void 0?this.dehancer(s):s},n.set=function(s){this.value_,s=this.prepareNewValue_(s),s!==le.UNCHANGED&&this.setNewValue_(s)},n.prepareNewValue_=function(s){if(Zr(this)){var i=es(this,{object:this,type:_i,newValue:s});if(!i)return le.UNCHANGED;s=i.newValue}return s=this.enhancer(s,this.value_,this.name_),this.equals(this.value_,s)?le.UNCHANGED:s},n.setNewValue_=function(s){var i=this.value_;this.value_=s,this.reportChanged(),Is(this)&&Ps(this,{type:_i,object:this,newValue:s,oldValue:i})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(s){return dh(this,s)},n.observe_=function(s,i){return i&&s({observableKind:"value",debugObjectName:this.name_,object:this,type:_i,newValue:this.value_,oldValue:void 0}),fh(this,s)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return LG(this.get())},n[Symbol.toPrimitive]=function(){return this.valueOf()},t})(ha),Uw=fa("ObservableValue",Ko),Ms=(function(){function e(n){this.dependenciesState_=dt.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=dt.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new em(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=Z_.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,n.get||Ke(31),this.derivation=n.get,this.name_=n.name||"ComputedValue",n.set&&(this.setter_=ta("ComputedValue-setter",n.set)),this.equals_=n.equals||(n.compareStructural||n.struct?Nc.structural:Nc.default),this.scope_=n.context,this.requiresReaction_=n.requiresReaction,this.keepAlive_=!!n.keepAlive}var t=e.prototype;return t.onBecomeStale_=function(){Vee(this)},t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},t.get=function(){if(this.isComputing&&Ke(32,this.name_,this.derivation),le.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)pA(this)&&(this.warnAboutUntrackedRead_(),hr(),this.value_=this.computeValue_(!1),pr());else if(e6(this),pA(this)){var r=le.trackingContext;this.keepAlive_&&!r&&(le.trackingContext=this),this.trackAndCompute()&&qee(this),le.trackingContext=r}var s=this.value_;if(__(s))throw s.cause;return s},t.set=function(r){if(this.setter_){this.isRunningSetter&&Ke(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,r)}finally{this.isRunningSetter=!1}}else Ke(34,this.name_)},t.trackAndCompute=function(){var r=this.value_,s=this.dependenciesState_===dt.NOT_TRACKING_,i=this.computeValue_(!0),o=s||__(r)||__(i)||!this.equals_(r,i);return o&&(this.value_=i),o},t.computeValue_=function(r){this.isComputing=!0;var s=vg(!1),i;if(r)i=KG(this,this.derivation,this.scope_);else if(le.disableErrorBoundaries===!0)i=this.derivation.call(this.scope_);else try{i=this.derivation.call(this.scope_)}catch(o){i=new em(o)}return yg(s),this.isComputing=!1,i},t.suspend_=function(){this.keepAlive_||(_A(this),this.value_=void 0)},t.observe_=function(r,s){var i=this,o=!0,a=void 0;return Cg(function(){var c=i.get();if(!o||s){var l=Xc();r({observableKind:"computed",debugObjectName:i.name_,type:_i,object:i,newValue:c,oldValue:a}),zi(l)}o=!1,a=c})},t.warnAboutUntrackedRead_=function(){},t.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function(){return LG(this.get())},t[Symbol.toPrimitive]=function(){return this.valueOf()},Lu(e,[{key:"isComputing",get:function(){return Nr(this.flags_,e.isComputingMask_)},set:function(r){this.flags_=Ir(this.flags_,e.isComputingMask_,r)}},{key:"isRunningSetter",get:function(){return Nr(this.flags_,e.isRunningSetterMask_)},set:function(r){this.flags_=Ir(this.flags_,e.isRunningSetterMask_,r)}},{key:"isBeingObserved",get:function(){return Nr(this.flags_,e.isBeingObservedMask_)},set:function(r){this.flags_=Ir(this.flags_,e.isBeingObservedMask_,r)}},{key:"isPendingUnobservation",get:function(){return Nr(this.flags_,e.isPendingUnobservationMask_)},set:function(r){this.flags_=Ir(this.flags_,e.isPendingUnobservationMask_,r)}},{key:"diffValue",get:function(){return Nr(this.flags_,e.diffValueMask_)?1:0},set:function(r){this.flags_=Ir(this.flags_,e.diffValueMask_,r===1)}}])})();Ms.isComputingMask_=1;Ms.isRunningSetterMask_=2;Ms.isBeingObservedMask_=4;Ms.isPendingUnobservationMask_=8;Ms.diffValueMask_=16;var Pc=fa("ComputedValue",Ms),dt;(function(e){e[e.NOT_TRACKING_=-1]="NOT_TRACKING_",e[e.UP_TO_DATE_=0]="UP_TO_DATE_",e[e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",e[e.STALE_=2]="STALE_"})(dt||(dt={}));var Z_;(function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"})(Z_||(Z_={}));var em=function(t){this.cause=void 0,this.cause=t};function __(e){return e instanceof em}function pA(e){switch(e.dependenciesState_){case dt.UP_TO_DATE_:return!1;case dt.NOT_TRACKING_:case dt.STALE_:return!0;case dt.POSSIBLY_STALE_:{for(var t=Eg(!0),n=Xc(),r=e.observing_,s=r.length,i=0;i<s;i++){var o=r[i];if(Pc(o)){if(le.disableErrorBoundaries)o.get();else try{o.get()}catch(a){return zi(n),Ql(t),!0}if(e.dependenciesState_===dt.STALE_)return zi(n),Ql(t),!0}}return XG(e),zi(n),Ql(t),!1}}}function Dee(){return le.trackingDerivation!==null}function KG(e,t,n){var r=Eg(!0);XG(e),e.newObserving_=new Array(e.runId_===0?100:e.observing_.length),e.unboundDepsCount_=0,e.runId_=++le.runId;var s=le.trackingDerivation;le.trackingDerivation=e,le.inBatch++;var i;if(le.disableErrorBoundaries===!0)i=t.call(n);else try{i=t.call(n)}catch(o){i=new em(o)}return le.inBatch--,le.trackingDerivation=s,Fee(e),Ql(r),i}function Fee(e){for(var t=e.observing_,n=e.observing_=e.newObserving_,r=dt.UP_TO_DATE_,s=0,i=e.unboundDepsCount_,o=0;o<i;o++){var a=n[o];a.diffValue===0&&(a.diffValue=1,s!==o&&(n[s]=a),s++),a.dependenciesState_>r&&(r=a.dependenciesState_)}for(n.length=s,e.newObserving_=null,i=t.length;i--;){var c=t[i];c.diffValue===0&&QG(c,e),c.diffValue=0}for(;s--;){var l=n[s];l.diffValue===1&&(l.diffValue=0,$ee(l,e))}r!==dt.UP_TO_DATE_&&(e.dependenciesState_=r,e.onBecomeStale_())}function _A(e){var t=e.observing_;e.observing_=[];for(var n=t.length;n--;)QG(t[n],e);e.dependenciesState_=dt.NOT_TRACKING_}function uh(e){var t=Xc();try{return e()}finally{zi(t)}}function Xc(){var e=le.trackingDerivation;return le.trackingDerivation=null,e}function zi(e){le.trackingDerivation=e}function Eg(e){var t=le.allowStateReads;return le.allowStateReads=e,t}function Ql(e){le.allowStateReads=e}function XG(e){if(e.dependenciesState_!==dt.UP_TO_DATE_){e.dependenciesState_=dt.UP_TO_DATE_;for(var t=e.observing_,n=t.length;n--;)t[n].lowestObserverState_=dt.UP_TO_DATE_}}var Uee=["mobxGuid","spyListeners","enforceActions","computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","allowStateReads","disableErrorBoundaries","runId","UNCHANGED","useProxies"],Kd=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},m_=!0,JG=!1,le=(function(){var e=hg();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(m_=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==new Kd().version&&(m_=!1),m_?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new Kd):(setTimeout(function(){JG||Ke(35)},1),new Kd)})();function jee(){if((le.pendingReactions.length||le.inBatch||le.isRunningReactions)&&Ke(36),JG=!0,m_){var e=hg();--e.__mobxInstanceCount===0&&(e.__mobxGlobals=void 0),le=new Kd}}function Bee(){return le}function Gee(){var e=new Kd;for(var t in e)Uee.indexOf(t)===-1&&(le[t]=e[t]);le.allowStateChanges=!le.enforceActions}function Wee(e){return e.observers_&&e.observers_.size>0}function Hee(e){return e.observers_}function $ee(e,t){e.observers_.add(t),e.lowestObserverState_>t.dependenciesState_&&(e.lowestObserverState_=t.dependenciesState_)}function QG(e,t){e.observers_.delete(t),e.observers_.size===0&&ZG(e)}function ZG(e){e.isPendingUnobservation===!1&&(e.isPendingUnobservation=!0,le.pendingUnobservations.push(e))}function hr(){le.inBatch++}function pr(){if(--le.inBatch===0){n6();for(var e=le.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation=!1,n.observers_.size===0&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBUO()),n instanceof Ms&&n.suspend_())}le.pendingUnobservations=[]}}function e6(e){var t=le.trackingDerivation;return t!==null?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved&&le.trackingContext&&(e.isBeingObserved=!0,e.onBO())),e.isBeingObserved):(e.observers_.size===0&&le.inBatch>0&&ZG(e),!1)}function t6(e){e.lowestObserverState_!==dt.STALE_&&(e.lowestObserverState_=dt.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===dt.UP_TO_DATE_&&t.onBecomeStale_(),t.dependenciesState_=dt.STALE_}))}function qee(e){e.lowestObserverState_!==dt.STALE_&&(e.lowestObserverState_=dt.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===dt.POSSIBLY_STALE_?t.dependenciesState_=dt.STALE_:t.dependenciesState_===dt.UP_TO_DATE_&&(e.lowestObserverState_=dt.UP_TO_DATE_)}))}function Vee(e){e.lowestObserverState_===dt.UP_TO_DATE_&&(e.lowestObserverState_=dt.POSSIBLY_STALE_,e.observers_.forEach(function(t){t.dependenciesState_===dt.UP_TO_DATE_&&(t.dependenciesState_=dt.POSSIBLY_STALE_,t.onBecomeStale_())}))}var ks=(function(){function e(n,r,s,i){n===void 0&&(n="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=dt.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=Z_.NONE,this.name_=n,this.onInvalidate_=r,this.errorHandler_=s,this.requiresObservable_=i}var t=e.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled||(this.isScheduled=!0,le.pendingReactions.push(this),n6())},t.runReaction_=function(){if(!this.isDisposed){hr(),this.isScheduled=!1;var r=le.trackingContext;if(le.trackingContext=this,pA(this)){this.isTrackPending=!0;try{this.onInvalidate_()}catch(s){this.reportExceptionInDerivation_(s)}}le.trackingContext=r,pr()}},t.track=function(r){if(!this.isDisposed){hr(),this.isRunning=!0;var s=le.trackingContext;le.trackingContext=this;var i=KG(this,r,void 0);le.trackingContext=s,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&_A(this),__(i)&&this.reportExceptionInDerivation_(i.cause),pr()}},t.reportExceptionInDerivation_=function(r){var s=this;if(this.errorHandler_){this.errorHandler_(r,this);return}if(le.disableErrorBoundaries)throw r;var i="[mobx] uncaught error in '"+this+"'";le.suppressReactionErrors||console.error(i,r),le.globalReactionErrorHandlers.forEach(function(o){return o(r,s)})},t.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.isRunning||(hr(),_A(this),pr()))},t.getDisposer_=function(r){var s=this,i=function o(){s.dispose(),r==null||r.removeEventListener==null||r.removeEventListener("abort",o)};return r==null||r.addEventListener==null||r.addEventListener("abort",i),i[Re]=this,i},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(r){},Lu(e,[{key:"isDisposed",get:function(){return Nr(this.flags_,e.isDisposedMask_)},set:function(r){this.flags_=Ir(this.flags_,e.isDisposedMask_,r)}},{key:"isScheduled",get:function(){return Nr(this.flags_,e.isScheduledMask_)},set:function(r){this.flags_=Ir(this.flags_,e.isScheduledMask_,r)}},{key:"isTrackPending",get:function(){return Nr(this.flags_,e.isTrackPendingMask_)},set:function(r){this.flags_=Ir(this.flags_,e.isTrackPendingMask_,r)}},{key:"isRunning",get:function(){return Nr(this.flags_,e.isRunningMask_)},set:function(r){this.flags_=Ir(this.flags_,e.isRunningMask_,r)}},{key:"diffValue",get:function(){return Nr(this.flags_,e.diffValueMask_)?1:0},set:function(r){this.flags_=Ir(this.flags_,e.diffValueMask_,r===1)}}])})();ks.isDisposedMask_=1;ks.isScheduledMask_=2;ks.isTrackPendingMask_=4;ks.isRunningMask_=8;ks.diffValueMask_=16;function zee(e){return le.globalReactionErrorHandlers.push(e),function(){var t=le.globalReactionErrorHandlers.indexOf(e);t>=0&&le.globalReactionErrorHandlers.splice(t,1)}}var Yee=100,mA=function(t){return t()};function n6(){le.inBatch>0||le.isRunningReactions||mA(Kee)}function Kee(){le.isRunningReactions=!0;for(var e=le.pendingReactions,t=0;e.length>0;){++t===Yee&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,s=n.length;r<s;r++)n[r].runReaction_()}le.isRunningReactions=!1}var tm=fa("Reaction",ks);function Xee(e){var t=mA;mA=function(r){return e(function(){return t(r)})}}function Xd(){return!1}function r6(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var s6="action",Jee="action.bound",i6="autoAction",Qee="autoAction.bound",o6="<unnamed action>",gA=lh(s6),Zee=lh(Jee,{bound:!0}),vA=lh(i6,{autoAction:!0}),ete=lh(Qee,{autoAction:!0,bound:!0});function a6(e){var t=function(r,s){if(Ur(r))return ta(r.name||o6,r,e);if(Ur(s))return ta(r,s,e);if(ch(s))return(e?vA:gA).decorate_20223_(r,s);if(wc(s))return ah(r,s,e?vA:gA);if(wc(r))return Ns(lh(e?i6:s6,{name:r,autoAction:e}))};return t}var Go=a6(!1);Object.assign(Go,gA);var hu=a6(!0);Object.assign(hu,vA);Go.bound=Ns(Zee);hu.bound=Ns(ete);function nm(e){return VG(e.name||o6,!1,e,this,void 0)}function pu(e){return Ur(e)&&e.isMobxAction===!0}function Cg(e,t){var n,r,s,i;t===void 0&&(t=kw);var o=(n=(r=t)==null?void 0:r.name)!=null?n:"Autorun",a=!t.scheduler&&!t.delay,c;if(a)c=new ks(o,function(){this.track(d)},t.onError,t.requiresObservable);else{var l=c6(t),u=!1;c=new ks(o,function(){u||(u=!0,l(function(){u=!1,c.isDisposed||c.track(d)}))},t.onError,t.requiresObservable)}function d(){e(c)}return(s=t)!=null&&(s=s.signal)!=null&&s.aborted||c.schedule_(),c.getDisposer_((i=t)==null?void 0:i.signal)}var tte=function(t){return t()};function c6(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:tte}function l6(e,t,n){var r,s,i;n===void 0&&(n=kw);var o=(r=n.name)!=null?r:"Reaction",a=Go(o,n.onError?nte(n.onError,t):t),c=!n.scheduler&&!n.delay,l=c6(n),u=!0,d=!1,f,h=n.compareStructural?Nc.structural:n.equals||Nc.default,p=new ks(o,function(){u||c?_():d||(d=!0,l(_))},n.onError,n.requiresObservable);function _(){if(d=!1,!p.isDisposed){var m=!1,y=f;p.track(function(){var v=Fw(!1,function(){return e(p)});m=u||!h(f,v),f=v}),(u&&n.fireImmediately||!u&&m)&&a(f,y,p),u=!1}}return(s=n)!=null&&(s=s.signal)!=null&&s.aborted||p.schedule_(),p.getDisposer_((i=n)==null?void 0:i.signal)}function nte(e,t){return function(){try{return t.apply(this,arguments)}catch(n){e.call(this,n)}}}var rte="onBO",ste="onBUO";function u6(e,t,n){return d6(rte,e,t,n)}function jw(e,t,n){return d6(ste,e,t,n)}function d6(e,t,n,r){var s=typeof r=="function"?Zi(t,n):Zi(t),i=Ur(r)?r:n,o=e+"L";return s[o]?s[o].add(i):s[o]=new Set([i]),function(){var a=s[o];a&&(a.delete(i),a.size===0&&delete s[o])}}var ite="never",Op="always",ote="observed";function f6(e){e.isolateGlobalState===!0&&jee();var t=e.useProxies,n=e.enforceActions;if(t!==void 0&&(le.useProxies=t===Op?!0:t===ite?!1:typeof Proxy<"u"),t==="ifavailable"&&(le.verifyProxies=!0),n!==void 0){var r=n===Op?Op:n===ote;le.enforceActions=r,le.allowStateChanges=!(r===!0||r===Op)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(s){s in e&&(le[s]=!!e[s])}),le.allowStateReads=!le.observableRequiresReaction,e.reactionScheduler&&Xee(e.reactionScheduler)}function Bw(e,t,n,r){var s=UZ(t);return pa(function(){var i=Jc(e,r)[Re];fu(s).forEach(function(o){i.extend_(o,s[o],n&&o in n?n[o]:!0)})}),e}function ate(e,t){return h6(Zi(e,t))}function h6(e){var t={name:e.name_};return e.observing_&&e.observing_.length>0&&(t.dependencies=lte(e.observing_).map(h6)),t}function cte(e,t){return p6(Zi(e,t))}function p6(e){var t={name:e.name_};return Wee(e)&&(t.observers=Array.from(Hee(e)).map(p6)),t}function lte(e){return Array.from(new Set(e))}var ute=0;function Sg(){this.message="FLOW_CANCELLED"}Sg.prototype=Object.create(Error.prototype);function dte(e){return e instanceof Sg}var Ty=jG("flow"),fte=jG("flow.bound",{bound:!0}),Rc=Object.assign(function(t,n){if(ch(n))return Ty.decorate_20223_(t,n);if(wc(n))return ah(t,n,Ty);var r=t,s=r.name||"<unnamed flow>",i=function(){var a=this,c=arguments,l=++ute,u=Go(s+" - runid: "+l+" - init",r).apply(a,c),d,f=void 0,h=new Promise(function(p,_){var m=0;d=_;function y(S){f=void 0;var E;try{E=Go(s+" - runid: "+l+" - yield "+m++,u.next).call(u,S)}catch(T){return _(T)}O(E)}function v(S){f=void 0;var E;try{E=Go(s+" - runid: "+l+" - yield "+m++,u.throw).call(u,S)}catch(T){return _(T)}O(E)}function O(S){if(Ur(S==null?void 0:S.then)){S.then(O,_);return}return S.done?p(S.value):(f=Promise.resolve(S.value),f.then(y,v))}y(void 0)});return h.cancel=Go(s+" - runid: "+l+" - cancel",function(){try{f&&Ax(f);var p=u.return(void 0),_=Promise.resolve(p.value);_.then(Fl,Fl),Ax(_),d(new Sg)}catch(m){d(m)}}),h};return i.isMobXFlow=!0,i},Ty);Rc.bound=Ns(fte);function Ax(e){Ur(e.cancel)&&e.cancel()}function hte(e){return e}function _u(e){return(e==null?void 0:e.isMobXFlow)===!0}function pte(e,t,n){var r;return Gn(e)||Er(e)||Uw(e)?r=eo(e):Bn(e)&&(r=eo(e,t)),r.dehancer=typeof t=="function"?t:n,function(){r.dehancer=void 0}}function _te(e,t,n){return Ur(n)?gte(e,t,n):mte(e,t)}function mte(e,t){return eo(e).intercept_(t)}function gte(e,t,n){return eo(e,t).intercept_(n)}function _6(e,t){if(t===void 0)return Pc(e);if(Bn(e)===!1||!e[Re].values_.has(t))return!1;var n=Zi(e,t);return Pc(n)}function vte(e){return _6(e)}function yte(e,t){return _6(e,t)}function m6(e,t){return e?t!==void 0?Bn(e)?e[Re].values_.has(t):!1:Bn(e)||!!e[Re]||Lw(e)||tm(e)||Pc(e):!1}function bg(e){return m6(e)}function Ete(e,t){return m6(e,t)}function mf(e){if(Bn(e))return e[Re].keys_();if(Gn(e)||On(e))return Array.from(e.keys());if(Er(e))return e.map(function(t,n){return n});Ke(5)}function Cte(e){if(Bn(e))return mf(e).map(function(t){return e[t]});if(Gn(e))return mf(e).map(function(t){return e.get(t)});if(On(e))return Array.from(e.values());if(Er(e))return e.slice();Ke(6)}function Ste(e){if(Bn(e))return mf(e).map(function(t){return[t,e[t]]});if(Gn(e))return mf(e).map(function(t){return[t,e.get(t)]});if(On(e))return Array.from(e.entries());if(Er(e))return e.map(function(t,n){return[n,t]});Ke(7)}function g6(e,t,n){if(arguments.length===2&&!On(e)){hr();var r=t;try{for(var s in r)g6(e,s,r[s])}finally{pr()}return}Bn(e)?e[Re].set_(t,n):Gn(e)?e.set(t,n):On(e)?e.add(t):Er(e)?(typeof t!="number"&&(t=parseInt(t,10)),t<0&&Ke("Invalid index: '"+t+"'"),hr(),t>=e.length&&(e.length=t+1),e[t]=n,pr()):Ke(8)}function bte(e,t){Bn(e)?e[Re].delete_(t):Gn(e)||On(e)?e.delete(t):Er(e)?(typeof t!="number"&&(t=parseInt(t,10)),e.splice(t,1)):Ke(9)}function v6(e,t){if(Bn(e))return e[Re].has_(t);if(Gn(e))return e.has(t);if(On(e))return e.has(t);if(Er(e))return t>=0&&t<e.length;Ke(10)}function Tte(e,t){if(v6(e,t)){if(Bn(e))return e[Re].get_(t);if(Gn(e))return e.get(t);if(Er(e))return e[t];Ke(11)}}function Ote(e,t,n){if(Bn(e))return e[Re].defineProperty_(t,n);Ke(39)}function y6(e){if(Bn(e))return e[Re].ownKeys_();Ke(38)}function Ate(e,t,n,r){return Ur(n)?Nte(e,t,n,r):wte(e,t,n)}function wte(e,t,n){return eo(e).observe_(t,n)}function Nte(e,t,n,r){return eo(e,t).observe_(n,r)}function Ap(e,t,n){return e.set(t,n),n}function Nl(e,t){if(e==null||typeof e!="object"||e instanceof Date||!bg(e))return e;if(Uw(e)||Pc(e))return Nl(e.get(),t);if(t.has(e))return t.get(e);if(Er(e)){var n=Ap(t,e,new Array(e.length));return e.forEach(function(o,a){n[a]=Nl(o,t)}),n}if(On(e)){var r=Ap(t,e,new Set);return e.forEach(function(o){r.add(Nl(o,t))}),r}if(Gn(e)){var s=Ap(t,e,new Map);return e.forEach(function(o,a){s.set(a,Nl(o,t))}),s}else{var i=Ap(t,e,{});return y6(e).forEach(function(o){ih.propertyIsEnumerable.call(e,o)&&(i[o]=Nl(e[o],t))}),i}}function Ite(e,t){return Nl(e,new Map)}function Pte(){}function ai(e,t){t===void 0&&(t=void 0),hr();try{return e.apply(t)}finally{pr()}}function yA(e,t,n){return arguments.length===1||t&&typeof t=="object"?Rte(e,t):E6(e,t,n||{})}function E6(e,t,n){var r;if(typeof n.timeout=="number"){var s=new Error("WHEN_TIMEOUT");r=setTimeout(function(){if(!o[Re].isDisposed)if(o(),n.onError)n.onError(s);else throw s},n.timeout)}n.name="When";var i=ta("When-effect",t),o=Cg(function(a){var c=Fw(!1,e);c&&(a.dispose(),r&&clearTimeout(r),i())},n);return o}function Rte(e,t){var n;if(t!=null&&(n=t.signal)!=null&&n.aborted)return Object.assign(Promise.reject(new Error("WHEN_ABORTED")),{cancel:function(){return null}});var r,s,i=new Promise(function(o,a){var c,l=E6(e,o,ea({},t,{onError:a}));r=function(){l(),a(new Error("WHEN_CANCELLED"))},s=function(){l(),a(new Error("WHEN_ABORTED"))},t==null||(c=t.signal)==null||c.addEventListener==null||c.addEventListener("abort",s)}).finally(function(){var o;return t==null||(o=t.signal)==null||o.removeEventListener==null?void 0:o.removeEventListener("abort",s)});return i.cancel=r,i}function ml(e){return e[Re]}var xte={has:function(t,n){return ml(t).has_(n)},get:function(t,n){return ml(t).get_(n)},set:function(t,n,r){var s;return wc(n)?(s=ml(t).set_(n,r,!0))!=null?s:!0:!1},deleteProperty:function(t,n){var r;return wc(n)?(r=ml(t).delete_(n,!0))!=null?r:!0:!1},defineProperty:function(t,n,r){var s;return(s=ml(t).defineProperty_(n,r))!=null?s:!0},ownKeys:function(t){return ml(t).ownKeys_()},preventExtensions:function(t){Ke(13)}};function Mte(e,t){var n,r;return PG(),e=Jc(e,t),(r=(n=e[Re]).proxy_)!=null?r:n.proxy_=new Proxy(e,xte)}function Zr(e){return e.interceptors_!==void 0&&e.interceptors_.length>0}function dh(e,t){var n=e.interceptors_||(e.interceptors_=[]);return n.push(t),RG(function(){var r=n.indexOf(t);r!==-1&&n.splice(r,1)})}function es(e,t){var n=Xc();try{for(var r=[].concat(e.interceptors_||[]),s=0,i=r.length;s<i&&(t=r[s](t),t&&!t.type&&Ke(14),!!t);s++);return t}finally{zi(n)}}function Is(e){return e.changeListeners_!==void 0&&e.changeListeners_.length>0}function fh(e,t){var n=e.changeListeners_||(e.changeListeners_=[]);return n.push(t),RG(function(){var r=n.indexOf(t);r!==-1&&n.splice(r,1)})}function Ps(e,t){var n=Xc(),r=e.changeListeners_;if(r){r=r.slice();for(var s=0,i=r.length;s<i;s++)r[s](t);zi(n)}}function C6(e,t,n){return pa(function(){var r,s=Jc(e,n)[Re];(r=t)!=null||(t=HZ(e)),fu(t).forEach(function(i){return s.make_(i,t[i])})}),e}var Oy=Symbol("mobx-keys");function kte(e,t,n){return Qi(e)?Bw(e,e,t,n):(pa(function(){var r=Jc(e,n)[Re];if(!e[Oy]){var s=Object.getPrototypeOf(e),i=new Set([].concat(fu(e),fu(s)));i.delete("constructor"),i.delete(Re),oh(s,Oy,i)}e[Oy].forEach(function(o){return r.make_(o,t&&o in t?t[o]:!0)})}),e)}var wx="splice",_i="update",Lte=1e4,Dte={get:function(t,n){var r=t[Re];return n===Re?r:n==="length"?r.getArrayLength_():typeof n=="string"&&!isNaN(n)?r.get_(parseInt(n)):Vi(rm,n)?rm[n]:t[n]},set:function(t,n,r){var s=t[Re];return n==="length"&&s.setArrayLength_(r),typeof n=="symbol"||isNaN(n)?t[n]=r:s.set_(parseInt(n),r),!0},preventExtensions:function(){Ke(15)}},Gw=(function(){function e(n,r,s,i){n===void 0&&(n="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=s,this.legacyMode_=i,this.atom_=new ha(n),this.enhancer_=function(o,a){return r(o,a,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.dehanceValues_=function(r){return this.dehancer!==void 0&&r.length>0?r.map(this.dehancer):r},t.intercept_=function(r){return dh(this,r)},t.observe_=function(r,s){return s===void 0&&(s=!1),s&&r({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),fh(this,r)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(r){(typeof r!="number"||isNaN(r)||r<0)&&Ke("Out of range: "+r);var s=this.values_.length;if(r!==s)if(r>s){for(var i=new Array(r-s),o=0;o<r-s;o++)i[o]=void 0;this.spliceWithArray_(s,0,i)}else this.spliceWithArray_(r,s-r)},t.updateArrayLength_=function(r,s){r!==this.lastKnownLength_&&Ke(16),this.lastKnownLength_+=s,this.legacyMode_&&s>0&&A6(r+s+1)},t.spliceWithArray_=function(r,s,i){var o=this;this.atom_;var a=this.values_.length;if(r===void 0?r=0:r>a?r=a:r<0&&(r=Math.max(0,a+r)),arguments.length===1?s=a-r:s==null?s=0:s=Math.max(0,Math.min(s,a-r)),i===void 0&&(i=uA),Zr(this)){var c=es(this,{object:this.proxy_,type:wx,index:r,removedCount:s,added:i});if(!c)return uA;s=c.removedCount,i=c.added}if(i=i.length===0?i:i.map(function(d){return o.enhancer_(d,void 0)}),this.legacyMode_){var l=i.length-s;this.updateArrayLength_(a,l)}var u=this.spliceItemsIntoValues_(r,s,i);return(s!==0||i.length!==0)&&this.notifyArraySplice_(r,i,u),this.dehanceValues_(u)},t.spliceItemsIntoValues_=function(r,s,i){if(i.length<Lte){var o;return(o=this.values_).splice.apply(o,[r,s].concat(i))}else{var a=this.values_.slice(r,r+s),c=this.values_.slice(r+s);this.values_.length+=i.length-s;for(var l=0;l<i.length;l++)this.values_[r+l]=i[l];for(var u=0;u<c.length;u++)this.values_[r+i.length+u]=c[u];return a}},t.notifyArrayChildUpdate_=function(r,s,i){var o=!this.owned_&&Xd(),a=Is(this),c=a||o?{observableKind:"array",object:this.proxy_,type:_i,debugObjectName:this.atom_.name_,index:r,newValue:s,oldValue:i}:null;this.atom_.reportChanged(),a&&Ps(this,c)},t.notifyArraySplice_=function(r,s,i){var o=!this.owned_&&Xd(),a=Is(this),c=a||o?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:wx,index:r,removed:i,added:s,removedCount:i.length,addedCount:s.length}:null;this.atom_.reportChanged(),a&&Ps(this,c)},t.get_=function(r){if(this.legacyMode_&&r>=this.values_.length){console.warn("[mobx] Out of bounds read: "+r);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[r])},t.set_=function(r,s){var i=this.values_;if(this.legacyMode_&&r>i.length&&Ke(17,r,i.length),r<i.length){this.atom_;var o=i[r];if(Zr(this)){var a=es(this,{type:_i,object:this.proxy_,index:r,newValue:s});if(!a)return;s=a.newValue}s=this.enhancer_(s,o);var c=s!==o;c&&(i[r]=s,this.notifyArrayChildUpdate_(r,s,o))}else{for(var l=new Array(r+1-i.length),u=0;u<l.length-1;u++)l[u]=void 0;l[l.length-1]=s,this.spliceWithArray_(i.length,0,l)}},e})();function Fte(e,t,n,r){return n===void 0&&(n="ObservableArray"),r===void 0&&(r=!1),PG(),pa(function(){var s=new Gw(n,t,r,!1);MG(s.values_,Re,s);var i=new Proxy(s.values_,Dte);return s.proxy_=i,e&&e.length&&s.spliceWithArray_(0,0,e),i})}var rm={clear:function(){return this.splice(0)},replace:function(t){var n=this[Re];return n.spliceWithArray_(0,n.values_.length,t)},toJSON:function(){return this.slice()},splice:function(t,n){for(var r=arguments.length,s=new Array(r>2?r-2:0),i=2;i<r;i++)s[i-2]=arguments[i];var o=this[Re];switch(arguments.length){case 0:return[];case 1:return o.spliceWithArray_(t);case 2:return o.spliceWithArray_(t,n)}return o.spliceWithArray_(t,n,s)},spliceWithArray:function(t,n,r){return this[Re].spliceWithArray_(t,n,r)},push:function(){for(var t=this[Re],n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t.spliceWithArray_(t.values_.length,0,r),t.values_.length},pop:function(){return this.splice(Math.max(this[Re].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var t=this[Re],n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t.spliceWithArray_(0,0,r),t.values_.length},reverse:function(){return le.trackingDerivation&&Ke(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){le.trackingDerivation&&Ke(37,"sort");var t=this.slice();return t.sort.apply(t,arguments),this.replace(t),this},remove:function(t){var n=this[Re],r=n.dehanceValues_(n.values_).indexOf(t);return r>-1?(this.splice(r,1),!0):!1}};Mt("at",Gr);Mt("concat",Gr);Mt("flat",Gr);Mt("includes",Gr);Mt("indexOf",Gr);Mt("join",Gr);Mt("lastIndexOf",Gr);Mt("slice",Gr);Mt("toString",Gr);Mt("toLocaleString",Gr);Mt("toSorted",Gr);Mt("toSpliced",Gr);Mt("with",Gr);Mt("every",qs);Mt("filter",qs);Mt("find",qs);Mt("findIndex",qs);Mt("findLast",qs);Mt("findLastIndex",qs);Mt("flatMap",qs);Mt("forEach",qs);Mt("map",qs);Mt("some",qs);Mt("toReversed",qs);Mt("reduce",S6);Mt("reduceRight",S6);function Mt(e,t){typeof Array.prototype[e]=="function"&&(rm[e]=t(e))}function Gr(e){return function(){var t=this[Re];t.atom_.reportObserved();var n=t.dehanceValues_(t.values_);return n[e].apply(n,arguments)}}function qs(e){return function(t,n){var r=this,s=this[Re];s.atom_.reportObserved();var i=s.dehanceValues_(s.values_);return i[e](function(o,a){return t.call(n,o,a,r)})}}function S6(e){return function(){var t=this,n=this[Re];n.atom_.reportObserved();var r=n.dehanceValues_(n.values_),s=arguments[0];return arguments[0]=function(i,o,a){return s(i,o,a,t)},r[e].apply(r,arguments)}}var Ute=fa("ObservableArrayAdministration",Gw);function Er(e){return pg(e)&&Ute(e[Re])}var jte={},Wo="add",sm="delete",Ww=(function(){function e(n,r,s){var i=this;r===void 0&&(r=Ic),s===void 0&&(s="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[Re]=jte,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=r,this.name_=s,Ur(Map)||Ke(18),pa(function(){i.keysAtom_=_g("ObservableMap.keys()"),i.data_=new Map,i.hasMap_=new Map,n&&i.merge(n)})}var t=e.prototype;return t.has_=function(r){return this.data_.has(r)},t.has=function(r){var s=this;if(!le.trackingDerivation)return this.has_(r);var i=this.hasMap_.get(r);if(!i){var o=i=new Ko(this.has_(r),mg,"ObservableMap.key?",!1);this.hasMap_.set(r,o),jw(o,function(){return s.hasMap_.delete(r)})}return i.get()},t.set=function(r,s){var i=this.has_(r);if(Zr(this)){var o=es(this,{type:i?_i:Wo,object:this,newValue:s,name:r});if(!o)return this;s=o.newValue}return i?this.updateValue_(r,s):this.addValue_(r,s),this},t.delete=function(r){var s=this;if(this.keysAtom_,Zr(this)){var i=es(this,{type:sm,object:this,name:r});if(!i)return!1}if(this.has_(r)){var o=Xd(),a=Is(this),c=a||o?{observableKind:"map",debugObjectName:this.name_,type:sm,object:this,oldValue:this.data_.get(r).value_,name:r}:null;return ai(function(){var l;s.keysAtom_.reportChanged(),(l=s.hasMap_.get(r))==null||l.setNewValue_(!1);var u=s.data_.get(r);u.setNewValue_(void 0),s.data_.delete(r)}),a&&Ps(this,c),!0}return!1},t.updateValue_=function(r,s){var i=this.data_.get(r);if(s=i.prepareNewValue_(s),s!==le.UNCHANGED){var o=Xd(),a=Is(this),c=a||o?{observableKind:"map",debugObjectName:this.name_,type:_i,object:this,oldValue:i.value_,name:r,newValue:s}:null;i.setNewValue_(s),a&&Ps(this,c)}},t.addValue_=function(r,s){var i=this;this.keysAtom_,ai(function(){var l,u=new Ko(s,i.enhancer_,"ObservableMap.key",!1);i.data_.set(r,u),s=u.value_,(l=i.hasMap_.get(r))==null||l.setNewValue_(!0),i.keysAtom_.reportChanged()});var o=Xd(),a=Is(this),c=a||o?{observableKind:"map",debugObjectName:this.name_,type:Wo,object:this,name:r,newValue:s}:null;a&&Ps(this,c)},t.get=function(r){return this.has(r)?this.dehanceValue_(this.data_.get(r).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function(){var r=this,s=this.keys();return Nx({next:function(){var o=s.next(),a=o.done,c=o.value;return{done:a,value:a?void 0:r.get(c)}}})},t.entries=function(){var r=this,s=this.keys();return Nx({next:function(){var o=s.next(),a=o.done,c=o.value;return{done:a,value:a?void 0:[c,r.get(c)]}}})},t[Symbol.iterator]=function(){return this.entries()},t.forEach=function(r,s){for(var i=Ul(this),o;!(o=i()).done;){var a=o.value,c=a[0],l=a[1];r.call(s,l,c,this)}},t.merge=function(r){var s=this;return Gn(r)&&(r=new Map(r)),ai(function(){Qi(r)?FZ(r).forEach(function(i){return s.set(i,r[i])}):Array.isArray(r)?r.forEach(function(i){var o=i[0],a=i[1];return s.set(o,a)}):ku(r)?(DZ(r)||Ke(19,r),r.forEach(function(i,o){return s.set(o,i)})):r!=null&&Ke(20,r)}),this},t.clear=function(){var r=this;ai(function(){uh(function(){for(var s=Ul(r.keys()),i;!(i=s()).done;){var o=i.value;r.delete(o)}})})},t.replace=function(r){var s=this;return ai(function(){for(var i=Bte(r),o=new Map,a=!1,c=Ul(s.data_.keys()),l;!(l=c()).done;){var u=l.value;if(!i.has(u)){var d=s.delete(u);if(d)a=!0;else{var f=s.data_.get(u);o.set(u,f)}}}for(var h=Ul(i.entries()),p;!(p=h()).done;){var _=p.value,m=_[0],y=_[1],v=s.data_.has(m);if(s.set(m,y),s.data_.has(m)){var O=s.data_.get(m);o.set(m,O),v||(a=!0)}}if(!a)if(s.data_.size!==o.size)s.keysAtom_.reportChanged();else for(var S=s.data_.keys(),E=o.keys(),T=S.next(),A=E.next();!T.done;){if(T.value!==A.value){s.keysAtom_.reportChanged();break}T=S.next(),A=E.next()}s.data_=o}),this},t.toString=function(){return"[object ObservableMap]"},t.toJSON=function(){return Array.from(this)},t.observe_=function(r,s){return fh(this,r)},t.intercept_=function(r){return dh(this,r)},Lu(e,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])})(),Gn=fa("ObservableMap",Ww);function Nx(e){return e[Symbol.toStringTag]="MapIterator",Vw(e)}function Bte(e){if(ku(e)||Gn(e))return e;if(Array.isArray(e))return new Map(e);if(Qi(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}else return Ke(21,e)}var Gte={},Hw=(function(){function e(n,r,s){var i=this;r===void 0&&(r=Ic),s===void 0&&(s="ObservableSet"),this.name_=void 0,this[Re]=Gte,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=s,Ur(Set)||Ke(22),this.enhancer_=function(o,a){return r(o,a,s)},pa(function(){i.atom_=_g(i.name_),n&&i.replace(n)})}var t=e.prototype;return t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.clear=function(){var r=this;ai(function(){uh(function(){for(var s=Ul(r.data_.values()),i;!(i=s()).done;){var o=i.value;r.delete(o)}})})},t.forEach=function(r,s){for(var i=Ul(this),o;!(o=i()).done;){var a=o.value;r.call(s,a,a,this)}},t.add=function(r){var s=this;if(this.atom_,Zr(this)){var i=es(this,{type:Wo,object:this,newValue:r});if(!i)return this;r=i.newValue}if(!this.has(r)){ai(function(){s.data_.add(s.enhancer_(r,void 0)),s.atom_.reportChanged()});var o=!1,a=Is(this),c=a||o?{observableKind:"set",debugObjectName:this.name_,type:Wo,object:this,newValue:r}:null;a&&Ps(this,c)}return this},t.delete=function(r){var s=this;if(Zr(this)){var i=es(this,{type:sm,object:this,oldValue:r});if(!i)return!1}if(this.has(r)){var o=!1,a=Is(this),c=a||o?{observableKind:"set",debugObjectName:this.name_,type:sm,object:this,oldValue:r}:null;return ai(function(){s.atom_.reportChanged(),s.data_.delete(r)}),a&&Ps(this,c),!0}return!1},t.has=function(r){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(r))},t.entries=function(){var r=this.values();return Ix({next:function(){var i=r.next(),o=i.value,a=i.done;return a?{value:void 0,done:a}:{value:[o,o],done:a}}})},t.keys=function(){return this.values()},t.values=function(){this.atom_.reportObserved();var r=this,s=this.data_.values();return Ix({next:function(){var o=s.next(),a=o.value,c=o.done;return c?{value:void 0,done:c}:{value:r.dehanceValue_(a),done:c}}})},t.intersection=function(r){if(Wi(r)&&!On(r))return r.intersection(this);var s=new Set(this);return s.intersection(r)},t.union=function(r){if(Wi(r)&&!On(r))return r.union(this);var s=new Set(this);return s.union(r)},t.difference=function(r){return new Set(this).difference(r)},t.symmetricDifference=function(r){if(Wi(r)&&!On(r))return r.symmetricDifference(this);var s=new Set(this);return s.symmetricDifference(r)},t.isSubsetOf=function(r){return new Set(this).isSubsetOf(r)},t.isSupersetOf=function(r){return new Set(this).isSupersetOf(r)},t.isDisjointFrom=function(r){if(Wi(r)&&!On(r))return r.isDisjointFrom(this);var s=new Set(this);return s.isDisjointFrom(r)},t.replace=function(r){var s=this;return On(r)&&(r=new Set(r)),ai(function(){Array.isArray(r)?(s.clear(),r.forEach(function(i){return s.add(i)})):Wi(r)?(s.clear(),r.forEach(function(i){return s.add(i)})):r!=null&&Ke("Cannot initialize set from "+r)}),this},t.observe_=function(r,s){return fh(this,r)},t.intercept_=function(r){return dh(this,r)},t.toJSON=function(){return Array.from(this)},t.toString=function(){return"[object ObservableSet]"},t[Symbol.iterator]=function(){return this.values()},Lu(e,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])})(),On=fa("ObservableSet",Hw);function Ix(e){return e[Symbol.toStringTag]="SetIterator",Vw(e)}var Px=Object.create(null),Rx="remove",b6=(function(){function e(n,r,s,i){r===void 0&&(r=new Map),i===void 0&&(i=vee),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=n,this.values_=r,this.name_=s,this.defaultAnnotation_=i,this.keysAtom_=new ha("ObservableObject.keys"),this.isPlainObject_=Qi(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function(r){return this.values_.get(r).get()},t.setObservablePropValue_=function(r,s){var i=this.values_.get(r);if(i instanceof Ms)return i.set(s),!0;if(Zr(this)){var o=es(this,{type:_i,object:this.proxy_||this.target_,name:r,newValue:s});if(!o)return null;s=o.newValue}if(s=i.prepareNewValue_(s),s!==le.UNCHANGED){var a=Is(this),c=!1,l=a||c?{type:_i,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:i.value_,name:r,newValue:s}:null;i.setNewValue_(s),a&&Ps(this,l)}return!0},t.get_=function(r){return le.trackingDerivation&&!Vi(this.target_,r)&&this.has_(r),this.target_[r]},t.set_=function(r,s,i){return i===void 0&&(i=!1),Vi(this.target_,r)?this.values_.has(r)?this.setObservablePropValue_(r,s):i?Reflect.set(this.target_,r,s):(this.target_[r]=s,!0):this.extend_(r,{value:s,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,i)},t.has_=function(r){if(!le.trackingDerivation)return r in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var s=this.pendingKeys_.get(r);return s||(s=new Ko(r in this.target_,mg,"ObservableObject.key?",!1),this.pendingKeys_.set(r,s)),s.get()},t.make_=function(r,s){if(s===!0&&(s=this.defaultAnnotation_),s!==!1){if(!(r in this.target_)){var i;if((i=this.target_[fi])!=null&&i[r])return;Ke(1,s.annotationType_,this.name_+"."+r.toString())}for(var o=this.target_;o&&o!==ih;){var a=J_(o,r);if(a){var c=s.make_(this,r,a,o);if(c===0)return;if(c===1)break}o=Object.getPrototypeOf(o)}Mx(this,s,r)}},t.extend_=function(r,s,i,o){if(o===void 0&&(o=!1),i===!0&&(i=this.defaultAnnotation_),i===!1)return this.defineProperty_(r,s,o);var a=i.extend_(this,r,s,o);return a&&Mx(this,i,r),a},t.defineProperty_=function(r,s,i){i===void 0&&(i=!1),this.keysAtom_;try{hr();var o=this.delete_(r);if(!o)return o;if(Zr(this)){var a=es(this,{object:this.proxy_||this.target_,name:r,type:Wo,newValue:s.value});if(!a)return null;var c=a.newValue;s.value!==c&&(s=ea({},s,{value:c}))}if(i){if(!Reflect.defineProperty(this.target_,r,s))return!1}else pi(this.target_,r,s);this.notifyPropertyAddition_(r,s.value)}finally{pr()}return!0},t.defineObservableProperty_=function(r,s,i,o){o===void 0&&(o=!1),this.keysAtom_;try{hr();var a=this.delete_(r);if(!a)return a;if(Zr(this)){var c=es(this,{object:this.proxy_||this.target_,name:r,type:Wo,newValue:s});if(!c)return null;s=c.newValue}var l=xx(r),u={configurable:le.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:l.get,set:l.set};if(o){if(!Reflect.defineProperty(this.target_,r,u))return!1}else pi(this.target_,r,u);var d=new Ko(s,i,"ObservableObject.key",!1);this.values_.set(r,d),this.notifyPropertyAddition_(r,d.value_)}finally{pr()}return!0},t.defineComputedProperty_=function(r,s,i){i===void 0&&(i=!1),this.keysAtom_;try{hr();var o=this.delete_(r);if(!o)return o;if(Zr(this)){var a=es(this,{object:this.proxy_||this.target_,name:r,type:Wo,newValue:void 0});if(!a)return null}s.name||(s.name="ObservableObject.key"),s.context=this.proxy_||this.target_;var c=xx(r),l={configurable:le.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:c.get,set:c.set};if(i){if(!Reflect.defineProperty(this.target_,r,l))return!1}else pi(this.target_,r,l);this.values_.set(r,new Ms(s)),this.notifyPropertyAddition_(r,void 0)}finally{pr()}return!0},t.delete_=function(r,s){if(s===void 0&&(s=!1),this.keysAtom_,!Vi(this.target_,r))return!0;if(Zr(this)){var i=es(this,{object:this.proxy_||this.target_,name:r,type:Rx});if(!i)return null}try{var o;hr();var a=Is(this),c=!1,l=this.values_.get(r),u=void 0;if(!l&&(a||c)){var d;u=(d=J_(this.target_,r))==null?void 0:d.value}if(s){if(!Reflect.deleteProperty(this.target_,r))return!1}else delete this.target_[r];if(l&&(this.values_.delete(r),l instanceof Ko&&(u=l.value_),t6(l)),this.keysAtom_.reportChanged(),(o=this.pendingKeys_)==null||(o=o.get(r))==null||o.set(r in this.target_),a||c){var f={type:Rx,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:u,name:r};a&&Ps(this,f)}}finally{pr()}return!0},t.observe_=function(r,s){return fh(this,r)},t.intercept_=function(r){return dh(this,r)},t.notifyPropertyAddition_=function(r,s){var i,o=Is(this),a=!1;if(o||a){var c=o||a?{type:Wo,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:r,newValue:s}:null;o&&Ps(this,c)}(i=this.pendingKeys_)==null||(i=i.get(r))==null||i.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),fu(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e})();function Jc(e,t){var n;if(Vi(e,Re))return e;var r=(n=t==null?void 0:t.name)!=null?n:"ObservableObject",s=new b6(e,new Map,String(r),Iee(t));return oh(e,Re,s),e}var Wte=fa("ObservableObjectAdministration",b6);function xx(e){return Px[e]||(Px[e]={get:function(){return this[Re].getObservablePropValue_(e)},set:function(n){return this[Re].setObservablePropValue_(e,n)}})}function Bn(e){return pg(e)?Wte(e[Re]):!1}function Mx(e,t,n){var r;(r=e.target_[fi])==null||delete r[n]}var Hte=O6(0),$te=(function(){var e=!1,t={};return Object.defineProperty(t,"0",{set:function(){e=!0}}),Object.create(t)[0]=1,e===!1})(),Ay=0,T6=function(){};function qte(e,t){Object.setPrototypeOf?Object.setPrototypeOf(e.prototype,t):e.prototype.__proto__!==void 0?e.prototype.__proto__=t:e.prototype=t}qte(T6,Array.prototype);var $w=(function(e){function t(r,s,i,o){var a;return i===void 0&&(i="ObservableArray"),o===void 0&&(o=!1),a=e.call(this)||this,pa(function(){var c=new Gw(i,s,o,!0);c.proxy_=a,MG(a,Re,c),r&&r.length&&a.spliceWithArray(0,0,r),$te&&Object.defineProperty(a,"0",Hte)}),a}DG(t,e);var n=t.prototype;return n.concat=function(){this[Re].atom_.reportObserved();for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return Array.prototype.concat.apply(this.slice(),i.map(function(a){return Er(a)?a.slice():a}))},n[Symbol.iterator]=function(){var r=this,s=0;return Vw({next:function(){return s<r.length?{value:r[s++],done:!1}:{done:!0,value:void 0}}})},Lu(t,[{key:"length",get:function(){return this[Re].getArrayLength_()},set:function(s){this[Re].setArrayLength_(s)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])})(T6);Object.entries(rm).forEach(function(e){var t=e[0],n=e[1];t!=="concat"&&oh($w.prototype,t,n)});function O6(e){return{enumerable:!1,configurable:!0,get:function(){return this[Re].get_(e)},set:function(n){this[Re].set_(e,n)}}}function Vte(e){pi($w.prototype,""+e,O6(e))}function A6(e){if(e>Ay){for(var t=Ay;t<e+100;t++)Vte(t);Ay=e}}A6(1e3);function zte(e,t,n){return new $w(e,t,n)}function Zi(e,t){if(typeof e=="object"&&e!==null){if(Er(e))return t!==void 0&&Ke(23),e[Re].atom_;if(On(e))return e.atom_;if(Gn(e)){if(t===void 0)return e.keysAtom_;var n=e.data_.get(t)||e.hasMap_.get(t);return n||Ke(25,t,im(e)),n}if(Bn(e)){if(!t)return Ke(26);var r=e[Re].values_.get(t);return r||Ke(27,t,im(e)),r}if(Lw(e)||Pc(e)||tm(e))return e}else if(Ur(e)&&tm(e[Re]))return e[Re];Ke(28)}function eo(e,t){if(e||Ke(29),t!==void 0)return eo(Zi(e,t));if(Lw(e)||Pc(e)||tm(e)||Gn(e)||On(e))return e;if(e[Re])return e[Re];Ke(24,e)}function im(e,t){var n;if(t!==void 0)n=Zi(e,t);else{if(pu(e))return e.name;Bn(e)||Gn(e)||On(e)?n=eo(e):n=Zi(e)}return n.name_}function pa(e){var t=Xc(),n=vg(!0);hr();try{return e()}finally{pr(),yg(n),zi(t)}}var kx=ih.toString;function qw(e,t,n){return n===void 0&&(n=-1),EA(e,t,n)}function EA(e,t,n,r,s){if(e===t)return e!==0||1/e===1/t;if(e==null||t==null)return!1;if(e!==e)return t!==t;var i=typeof e;if(i!=="function"&&i!=="object"&&typeof t!="object")return!1;var o=kx.call(e);if(o!==kx.call(t))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:+e==0?1/+e===1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":n>=0&&n++;break}e=Lx(e),t=Lx(t);var a=o==="[object Array]";if(!a){if(typeof e!="object"||typeof t!="object")return!1;var c=e.constructor,l=t.constructor;if(c!==l&&!(Ur(c)&&c instanceof c&&Ur(l)&&l instanceof l)&&"constructor"in e&&"constructor"in t)return!1}if(n===0)return!1;n<0&&(n=-1),r=r||[],s=s||[];for(var u=r.length;u--;)if(r[u]===e)return s[u]===t;if(r.push(e),s.push(t),a){if(u=e.length,u!==t.length)return!1;for(;u--;)if(!EA(e[u],t[u],n-1,r,s))return!1}else{var d=Object.keys(e),f=d.length;if(Object.keys(t).length!==f)return!1;for(var h=0;h<f;h++){var p=d[h];if(!(Vi(t,p)&&EA(e[p],t[p],n-1,r,s)))return!1}}return r.pop(),s.pop(),!0}function Lx(e){return Er(e)?e.slice():ku(e)||Gn(e)||Wi(e)||On(e)?Array.from(e.entries()):e}var Dx,Yte=((Dx=hg().Iterator)==null?void 0:Dx.prototype)||{};function Vw(e){return e[Symbol.iterator]=Kte,Object.assign(Object.create(Yte),e)}function Kte(){return this}["Symbol","Map","Set"].forEach(function(e){var t=hg();typeof t[e]>"u"&&Ke("MobX requires global '"+e+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:r6,extras:{getDebugName:im},$mobx:Re});const PGe=Object.freeze(Object.defineProperty({__proto__:null,$mobx:Re,FlowCancellationError:Sg,ObservableMap:Ww,ObservableSet:Hw,Reaction:ks,_allowStateChanges:Fw,_allowStateChangesInsideComputed:nm,_allowStateReadsEnd:Ql,_allowStateReadsStart:Eg,_autoAction:hu,_endAction:YG,_getAdministration:eo,_getGlobalState:Bee,_interceptReads:pte,_isComputingDerivation:Dee,_resetGlobalState:Gee,_startAction:zG,action:Go,autorun:Cg,comparer:Nc,computed:Du,configure:f6,createAtom:_g,defineProperty:Ote,entries:Ste,extendObservable:Bw,flow:Rc,flowResult:hte,get:Tte,getAtom:Zi,getDebugName:im,getDependencyTree:ate,getObserverTree:cte,has:v6,intercept:_te,isAction:pu,isBoxedObservable:Uw,isComputed:vte,isComputedProp:yte,isFlow:_u,isFlowCancellationError:dte,isObservable:bg,isObservableArray:Er,isObservableMap:Gn,isObservableObject:Bn,isObservableProp:Ete,isObservableSet:On,keys:mf,makeAutoObservable:kte,makeObservable:C6,observable:Tn,observe:Ate,onBecomeObserved:u6,onBecomeUnobserved:jw,onReactionError:zee,override:XZ,ownKeys:y6,reaction:l6,remove:bte,runInAction:nm,set:g6,spy:r6,toJS:Ite,trace:Pte,transaction:ai,untracked:uh,values:Cte,when:yA},Symbol.toStringTag,{value:"Module"}));if(!C.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!C6)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");function Xte(e){e()}function Jte(e){e||(e=Xte),f6({reactionScheduler:e})}var Qte=1e4,Zte=1e4,ene=(function(){function e(t){var n=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(r){r===void 0&&(r=Qte),clearTimeout(n.sweepTimeout),n.sweepTimeout=void 0;var s=Date.now();n.registrations.forEach(function(i,o){s-i.registeredAt>=r&&(n.finalize(i.value),n.registrations.delete(o))}),n.registrations.size>0&&n.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){n.sweep(0)}})}return Object.defineProperty(e.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(t,n,r){this.registrations.set(r,{value:n,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(e.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(t){this.registrations.delete(t)}}),Object.defineProperty(e.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.sweepTimeout===void 0&&(this.sweepTimeout=setTimeout(this.sweep,Zte))}}),e})(),tne=typeof FinalizationRegistry<"u"?FinalizationRegistry:ene,CA=new tne(function(e){var t;(t=e.reaction)===null||t===void 0||t.dispose(),e.reaction=null}),wy={exports:{}},Ny={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fx;function nne(){if(Fx)return Ny;Fx=1;var e=Cw();function t(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,s=e.useEffect,i=e.useLayoutEffect,o=e.useDebugValue;function a(d,f){var h=f(),p=r({inst:{value:h,getSnapshot:f}}),_=p[0].inst,m=p[1];return i(function(){_.value=h,_.getSnapshot=f,c(_)&&m({inst:_})},[d,h,f]),s(function(){return c(_)&&m({inst:_}),d(function(){c(_)&&m({inst:_})})},[d]),o(h),h}function c(d){var f=d.getSnapshot;d=d.value;try{var h=f();return!n(d,h)}catch(p){return!0}}function l(d,f){return f()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?l:a;return Ny.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:u,Ny}var Ux;function rne(){return Ux||(Ux=1,wy.exports=nne()),wy.exports}var RGe=rne(),Iy,Py,w6=typeof Symbol=="function"&&Symbol.for;Py=(Iy=Object.getOwnPropertyDescriptor(function(){},"name"))===null||Iy===void 0?void 0:Iy.configurable;w6?Symbol.for("react.forward_ref"):typeof C.forwardRef=="function"&&C.forwardRef(function(e){return null}).$$typeof;w6?Symbol.for("react.memo"):typeof C.memo=="function"&&C.memo(function(e){return null}).$$typeof;var Ry;Jte(Sw.unstable_batchedUpdates);Ry=CA.finalizeAllImmediately;let om=0;function to(e){try{return om++,e()}finally{om--}}function sne(){!om&&fg()&&SA(new Error("[signal] Must read signal with useObserve() or untracked() within React component"))}function ine(){om&&SA(new Error("[signal] Cannot update signal value directly within useObserve(), memoSignal() or effect()")),fg()&&SA(new Error("[signal] Cannot update signal value directly within React component"))}function SA(e){ne(async()=>{const{DatadogLogger:t}=await Promise.resolve().then(()=>AZ);return{DatadogLogger:t}},void 0).then(({DatadogLogger:t})=>t.addError(e))}function me(e,t){const n=lne(e),r=Tn.box(n?void 0:e,{deep:!1,name:t==null?void 0:t.name,equals:t==null?void 0:t.equals});let s=n?()=>{s=void 0,r.set(e())}:void 0;const i=()=>(s==null||s(),r.get()),o=t==null?void 0:t.getServerFallback,a=x6(i),c=o?ye(a,{name:t.name,getServerFallback:o}):a;return c.set=l=>{ine(),nm(()=>{r==null||r.set(R6(l)?l(uh(i)):l)})},c}function ye(e,t){const n=t==null?void 0:t.getServerFallback,r=Du(n?()=>Tg()?n():to(e):()=>to(e),{name:t==null?void 0:t.name,equals:t==null?void 0:t.equals});return x6(()=>r.get())}function one(e){if(fg())throw new Error("[signal] Cannot run effect directly within React component");let t;const n=Cg(()=>{t==null||t(),t=to(e)});return()=>{n(),t==null||t()}}function na(e,t,n){return l6(()=>to(e),t,{equals:n==null?void 0:n.equals,fireImmediately:n==null?void 0:n.fireImmediately})}function gt(e){return uh(()=>to(e))}function N6(e,t){return typeof t=="function"?yA(()=>to(e),t):yA(()=>to(e))}function I6(e){return nm(e)}function us(e,t,n){var c;let r,s,i;const o=_g((c=n==null?void 0:n.name)!=null?c:"external",()=>{r=!1,i=t(()=>{var u;if(!r)return;const l=e();((u=n==null?void 0:n.equals)!=null?u:Object.is)(s,l)||(s=l,o.reportChanged())}),s=e(),r=!0},()=>{r=!1,i==null||i()}),a=n==null?void 0:n.getServerFallback;return ye(()=>a&&Tg()?a():(o.reportObserved()||(s=e()),s),{equals:n==null?void 0:n.equals})}const P6=me(!0,{name:"isServerRendering"}),Tg=P6;function ane(){"use forget";const e=W.c(1);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=[],e[0]=t):t=e[0],C.useLayoutEffect(cne,t)}function cne(){P6.set(!1)}function lne(e){return typeof e=="function"}function R6(e){return typeof e=="function"}function x6(e){return(()=>(sne(),e()))}function qt(e,t,n){var u;const r=di(t),s=n==null?void 0:n.enabled$,i=()=>r().enabled!==!1&&(s==null||gt(s)!==!1),o=di(()=>on(e).defaultQueryOptions(I(b({},r()),{notifyOnChangeProps:["data","error","fetchStatus","status"],experimental_prefetchInRender:!(n!=null&&n.skipPrefetchOnMount),enabled:i()}))),a=di(()=>new aG(on(e),o())),c=async()=>{if(i())return await on(e).prefetchQuery(o())},l=di(()=>{var d;return!(n!=null&&n.skipPrefetchOnMount)&&i()&&c(),n!=null&&n.getServerData?hne(n.getServerData(),(d=n.serverDataType)!=null?d:"placeholder"):(s==null?void 0:s())===!1?jx():fne()});return Object.assign(us(()=>a().getCurrentResult(),d=>{let f;if(s&&r().enabled!==!1){const p=()=>{a().setOptions(I(b({},o()),{enabled:i()}))};p(),f=na(s,p)}const h=a().subscribe(d);return()=>{f==null||f(),h()}},{name:(u=n==null?void 0:n.name)!=null?u:"reactQuerySignal",equals:M6,getServerFallback:l}),{prefetch:c,refetch(d){return a().getCurrentResult().refetch(d)},if$(d){return d?this():Tg()?jx():dne(a().getCurrentResult())}})}function une(e,t,n){const r=on(e),s=di(()=>{const o=t();return b({notifyOnChangeProps:["data","failureCount","isLoading","error","status","isFetchingNextPage","isFetchNextPageError","hasNextPage","fetchStatus"],refetchOnReconnect:!1,throwOnError:!1,queryHash:JSON.stringify(o.queryKey)},o)}),i=di(()=>new rQ(r,s()));return us(()=>i().getCurrentResult(),o=>i().subscribe(o),{name:"infiniteReactQuerySignal",equals:M6,getServerFallback:()=>pne()})}function Og(e,t){const n=on(e),r=new nQ(n,t);return{mutate:async s=>{try{await r.mutate(s)}catch(i){}return r.getCurrentResult()},result$:us(()=>r.getCurrentResult(),s=>r.subscribe(()=>{s()}))}}function M6(e,t){return e instanceof am||t instanceof am?e.data===t.data&&e.error===t.error&&e.status===t.status&&e.fetchStatus===t.fetchStatus:Object.is(e,t)}const dne=lo(e=>e.fetchStatus==="idle"&&!e.isLoading&&!e.isFetching&&!e.isStale?e:I(b({},e),{fetchStatus:"idle",isLoading:!1,isFetching:!1,isStale:!1})),k6={data:void 0,error:null,isError:!1,isLoadingError:!1,isPending:!0,isRefetchError:!1,isSuccess:!1,status:"pending"},jx=di(()=>zw(k6)),L6=I(b({},k6),{fetchStatus:"fetching",isFetching:!0,isLoading:!0}),fne=di(()=>zw(L6));function hne(e,t){return zw({data:e,error:null,fetchStatus:t==="fresh"?"idle":"fetching",isError:!1,isFetched:t!=="placeholder",isFetching:t!=="fresh",isLoading:!1,isLoadingError:!1,isPending:!1,isPlaceholderData:t==="placeholder",isRefetchError:!1,isRefetching:t==="stale",isStale:t!=="fresh",isSuccess:!0,status:"success"})}function zw(e){return new am(e)}class am{constructor(t){U(this,"data");U(this,"dataUpdatedAt",0);U(this,"error",null);U(this,"errorUpdateCount",0);U(this,"errorUpdatedAt",0);U(this,"failureCount",0);U(this,"failureReason",null);U(this,"fetchStatus","idle");U(this,"isError",!1);U(this,"isFetched",!1);U(this,"isFetchedAfterMount",!1);U(this,"isFetching",!1);U(this,"isInitialLoading",!1);U(this,"isLoading",!1);U(this,"isLoadingError",!1);U(this,"isPaused",!1);U(this,"isPending",!1);U(this,"isPlaceholderData",!1);U(this,"isRefetchError",!1);U(this,"isRefetching",!1);U(this,"isStale",!1);U(this,"isSuccess",!1);U(this,"status","pending");Object.assign(this,t)}get promise(){return Promise.reject(new Error("[react-query-signal] Cannot use promise from SSR"))}refetch(){return Promise.reject(new Error("[react-query-signal] Cannot refetch from SSR"))}}function pne(){return _ne(I(b({},L6),{isFetchNextPageError:!1,isFetchPreviousPageError:!1}))}function _ne(e){return new mne(e)}class mne extends am{constructor(){super(...arguments);U(this,"hasNextPage",!1);U(this,"hasPreviousPage",!1);U(this,"isFetchNextPageError",!1);U(this,"isFetchingNextPage",!1);U(this,"isFetchPreviousPageError",!1);U(this,"isFetchingPreviousPage",!1)}fetchNextPage(){return Promise.reject(new Error("[react-query-signal] Cannot fetch from SSR"))}fetchPreviousPage(){return Promise.reject(new Error("[react-query-signal] Cannot fetch from SSR"))}}function Yw(e,t){return n=>D6(e(n),t)}function D6(e,t=e.length){return new Proxy(((...n)=>e(...n)()),{get(n,r){return(...s)=>{const i=s.slice(0,t),o=s.slice(t),a=e(...i);if(typeof a[r]!="function"){if(o.length>0)throw new Error("signal$.".concat(String(r)," is not a function"));return a[r]}return a[r](...o)}}})}function Ag(e,t){var r;const n=t==null?void 0:t.selector;return us(n?()=>n(e.getState()):()=>e.getState(),s=>e.subscribe(s),{name:(r=t==null?void 0:t.name)!=null?r:"storeSignal",getServerFallback:n?()=>n(e.getInitialState()):()=>e.getInitialState(),equals:t==null?void 0:t.equals})}function Bx(e){e.reaction=new ks("observer".concat(e.name),()=>{var r,s,i;if(!e.evaluate||!e.reaction){e.stateVersion=Symbol(),(r=e.onStoreChange)==null||r.call(e);return}let t,n;if(e.reaction.track(()=>{try{t=to(e.evaluate)}catch(o){n=o}}),n!==void 0){e.stateVersion=Symbol(),(s=e.onStoreChange)==null||s.call(e);return}Object.is(t,e.lastValue)||(e.lastValue=t,e.stateVersion=Symbol(),(i=e.onStoreChange)==null||i.call(e))})}function Le(e,t="observed"){"use no forget";const n=It.useRef(null);if(!n.current){const o={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:t,lastValue:void 0,evaluate:null,subscribe(a){return CA.unregister(o),o.onStoreChange=a,o.reaction||(Bx(o),o.stateVersion=Symbol()),()=>{var c;o.onStoreChange=null,(c=o.reaction)==null||c.dispose(),o.reaction=null}},getSnapshot(){return o.stateVersion}};n.current=o}const r=n.current;r.reaction||(Bx(r),CA.register(n,r,r)),r.evaluate=e,C.useSyncExternalStore(r.subscribe,r.getSnapshot,r.getSnapshot);let s,i;if(r.reaction.track(()=>{try{s=to(e)}catch(o){i=o}}),r.lastValue=s,i)throw i;return s}class Pd extends Error{}Pd.prototype.name="InvalidTokenError";function gne(e){return decodeURIComponent(atob(e).replace(/(.)/g,(t,n)=>{let r=n.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}function vne(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return gne(t)}catch(n){return atob(t)}}function yne(e,t){if(typeof e!="string")throw new Pd("Invalid token specified: must be a string");t||(t={});const n=t.header===!0?0:1,r=e.split(".")[n];if(typeof r!="string")throw new Pd("Invalid token specified: missing part #".concat(n+1));let s;try{s=vne(r)}catch(i){throw new Pd("Invalid token specified: invalid base64 for part #".concat(n+1," (").concat(i.message,")"))}try{return JSON.parse(s)}catch(i){throw new Pd("Invalid token specified: invalid json for part #".concat(n+1," (").concat(i.message,")"))}}const Ene="27708bcc2b52f2ffa559a947c7b032818dec0af9",Cne="prod",Sne="",bne="",hh="".concat(Cne,"-").concat(Ene).concat(Sne).concat(bne),Tne="3961572";var Ce=(e=>(e.AgeVerification="oai-av-seen",e.AllowNonessential="oai-allow-ne",e.CookieBannerIgnored="oai-cbi",e.LastVoiceInteraction="oai-lvi",e.DeviceId="oai-did",e.DotcomDeviceId="dotcom-did",e.WaId="oai-wid",e.IpOverride="oai-ip-country",e.GeohashOverride="oai-geohash-override",e.IpCityOverride="oai-ip-city",e.ShowPaymentModal="ui-show-payment-modal",e.TempEnableUnauthedCompliance="temp-oai-compliance",e.Workspace="_account",e.WorkspaceResidencyRegion="_account_residency_region",e.AcceptAccountId="_accept_account_id",e.LastLocation="oai-ll",e.HideLoggedOutBanner="hide-logged-out-banner",e.HasLoggedInBefore="oai-hlib",e.PunchOutInfoToken="oai-poit",e.PunchOutRequireLoginInfo="oai-porli",e.SharedConversationId="oai-sh-c-i",e.AuthSessionLoggingId="oai-asli",e.PunchOutRequireAnonToAuthedToken="oai-po-ra2a",e.PunchOutAnonToAuthedEnabled="oai-po-a2a",e.DowngradeAccountEnabled="oai-downgrade-account-enabled",e.DogfoodingAccountType="oai-dogfooding-account-type",e.SegmentUserId="ajs_user_id",e.SegmentUserTraits="ajs_user_traits",e.HasClickedOnTryItFirstLink="oai-tif-20240402",e.IntercomDeviceIdProd="intercom-device-id-dgkjq2bp",e.IntercomDeviceIdDev="intercom-device-id-izw1u7l7",e.DomainMigrationSourceCompleted="oai-dm-src-c-240329",e.DomainMigrationTargetCompleted="oai-dm-tgt-c-240329",e.SignupRedirectUrl="signup_redirect_url",e.DesktopResultsTab="sonic_desktop_results_tab",e.NavigationState="oai-nav-state",e.PreferredLocale="oai-locale",e.InternalSearchSettings="oai-internal-search-settings",e.InternalSidebarApiSettings="oai-internal-sidebar-api-settings",e.LastUsedModel="oai-last-model",e.LastUsedModelConfig="oai-last-model-config",e.IsSpecificModel="oai-is-specific-model",e.ModelStickyForNewChats="oai-model-sticky-for-new-chats",e.GreetingName="oai-gn",e.headlineMessage="oai-hm",e.ConsentAnalytics="oai_consent_analytics",e.ConsentMarketing="oai_consent_marketing",e.Gclid="gclid",e.Fbclid="fbclid",e.Rdtcid="rdt_cid",e.Tiktokclid="ttclid",e.Liclid="li_fat_id",e.Msclkid="msclkid",e.LastSelectedGithubRepo="oai-last-selected-github-repo",e.ShowInternalModels="oai-show-internal-models",e.SidebarSections="oai-sidebar-sections",e.AccountInfo="oai-client-auth-info",e))(Ce||{});const One=["gclid","fbclid","rdt_cid","ttclid","li_fat_id","msclkid"],Ane=["ajs_user_id","ajs_user_traits"],wne={sameSite:"lax"};var ka={},wp={};/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var Gx;function Nne(){if(Gx)return wp;Gx=1,wp.parse=r,wp.serialize=s;var e=decodeURIComponent,t=encodeURIComponent,n=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function r(o,a){if(typeof o!="string")throw new TypeError("argument str must be a string");for(var c={},l=a||{},u=o.split(";"),d=l.decode||e,f=0;f<u.length;f++){var h=u[f],p=h.indexOf("=");if(!(p<0)){var _=h.substring(0,p).trim();if(c[_]==null){var m=h.substring(p+1,h.length).trim();m[0]==='"'&&(m=m.slice(1,-1)),c[_]=i(m,d)}}}return c}function s(o,a,c){var l=c||{},u=l.encode||t;if(typeof u!="function")throw new TypeError("option encode is invalid");if(!n.test(o))throw new TypeError("argument name is invalid");var d=u(a);if(d&&!n.test(d))throw new TypeError("argument val is invalid");var f=o+"="+d;if(l.maxAge!=null){var h=l.maxAge-0;if(isNaN(h)||!isFinite(h))throw new TypeError("option maxAge is invalid");f+="; Max-Age="+Math.floor(h)}if(l.domain){if(!n.test(l.domain))throw new TypeError("option domain is invalid");f+="; Domain="+l.domain}if(l.path){if(!n.test(l.path))throw new TypeError("option path is invalid");f+="; Path="+l.path}if(l.expires){if(typeof l.expires.toUTCString!="function")throw new TypeError("option expires is invalid");f+="; Expires="+l.expires.toUTCString()}if(l.httpOnly&&(f+="; HttpOnly"),l.secure&&(f+="; Secure"),l.sameSite){var p=typeof l.sameSite=="string"?l.sameSite.toLowerCase():l.sameSite;switch(p){case!0:f+="; SameSite=Strict";break;case"lax":f+="; SameSite=Lax";break;case"strict":f+="; SameSite=Strict";break;case"none":f+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return f}function i(o,a){try{return a(o)}catch(c){return o}}return wp}var Wx;function Ine(){return Wx||(Wx=1,(function(e){var t=ka&&ka.__assign||function(){return t=Object.assign||function(m){for(var y,v=1,O=arguments.length;v<O;v++){y=arguments[v];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(m[S]=y[S])}return m},t.apply(this,arguments)},n=ka&&ka.__rest||function(m,y){var v={};for(var O in m)Object.prototype.hasOwnProperty.call(m,O)&&y.indexOf(O)<0&&(v[O]=m[O]);if(m!=null&&typeof Object.getOwnPropertySymbols=="function")for(var S=0,O=Object.getOwnPropertySymbols(m);S<O.length;S++)y.indexOf(O[S])<0&&Object.prototype.propertyIsEnumerable.call(m,O[S])&&(v[O[S]]=m[O[S]]);return v};Object.defineProperty(e,"__esModule",{value:!0}),e.checkCookies=e.hasCookie=e.removeCookies=e.deleteCookie=e.setCookies=e.setCookie=e.getCookie=e.getCookies=void 0;var r=Nne(),s=function(){return typeof window<"u"},i=function(m){if(m==="true")return!0;if(m==="false")return!1;if(m!=="undefined")return m==="null"?null:m},o=function(m){m===void 0&&(m="");try{var y=JSON.stringify(m);return/^[\{\[]/.test(y)?y:m}catch(v){return m}},a=function(m){return m&&m.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)},c=function(m){var y;if(m&&(y=m.req),!s())return y&&y.cookies?y.cookies:y&&y.headers&&y.headers.cookie?(0,r.parse)(y.headers.cookie):{};for(var v={},O=document.cookie?document.cookie.split("; "):[],S=0,E=O.length;S<E;S++){var T=O[S].split("="),A=T.slice(1).join("="),w=T[0];v[w]=A}return v};e.getCookies=c;var l=function(m,y){var v=(0,e.getCookies)(y),O=v[m];if(O!==void 0)return i(a(O))};e.getCookie=l;var u=function(m,y,v){var O,S,E;if(v){var T=v.req,A=v.res,w=n(v,["req","res"]);S=T,E=A,O=w}var N=(0,r.serialize)(m,o(y),t({path:"/"},O));if(s())document.cookie=N;else if(E&&S){var P=E.getHeader("Set-Cookie");if(Array.isArray(P)||(P=P?[String(P)]:[]),E.setHeader("Set-Cookie",P.concat(N)),S&&S.cookies){var x=S.cookies;y===""?delete x[m]:x[m]=o(y)}if(S&&S.headers&&S.headers.cookie){var x=(0,r.parse)(S.headers.cookie);y===""?delete x[m]:x[m]=o(y),S.headers.cookie=Object.entries(x).reduce(function(M,F){return M.concat("".concat(F[0],"=").concat(F[1],";"))},"")}}};e.setCookie=u;var d=function(m,y,v){return console.warn("[WARN]: setCookies was deprecated. It will be deleted in the new version. Use setCookie instead."),(0,e.setCookie)(m,y,v)};e.setCookies=d;var f=function(m,y){return(0,e.setCookie)(m,"",t(t({},y),{maxAge:-1}))};e.deleteCookie=f;var h=function(m,y){return console.warn("[WARN]: removeCookies was deprecated. It will be deleted in the new version. Use deleteCookie instead."),(0,e.deleteCookie)(m,y)};e.removeCookies=h;var p=function(m,y){if(!m)return!1;var v=(0,e.getCookies)(y);return v.hasOwnProperty(m)};e.hasCookie=p;var _=function(m,y){return console.warn("[WARN]: checkCookies was deprecated. It will be deleted in the new version. Use hasCookie instead."),(0,e.hasCookie)(m,y)};e.checkCookies=_})(ka)),ka}var Np=Ine();const xy=".chatgpt.com",F6=window!==window.top,Pne=e=>e&&e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent);class U6{constructor(){U(this,"allowAnalyticsCookies",!1);U(this,"allowMarketingCookies",!1);F6||(this.synchronizeWithLocalStorage(),setInterval(()=>this.synchronizeWithLocalStorage(),6e4))}setAllowAnalyticsCookies_CLIENT_ONLY(t){this.allowAnalyticsCookies=t,t===!1&&this.clearAnalyticsCookies()}setAllowMarketingCookies_CLIENT_ONLY(t){this.allowMarketingCookies=t,t===!1&&this.clearMarketingCookies()}clearAnalyticsCookies(){for(const t of Ane)this.deleteCookie(t)}clearMarketingCookies(){for(const t of One)this.deleteCookie(t)}synchronizeWithLocalStorage(){[Ce.Workspace,Ce.WorkspaceResidencyRegion,Ce.DeviceId].forEach(n=>{const r=Np.getCookie(n);r!=null?localStorage.setItem(n,JSON.stringify(r)):localStorage.removeItem(n)})}_getCookie(t){const n=Np.getCookies()[t];return n===void 0?void 0:Pne(n)}getCookie(t){return this._getCookie(t)}getBooleanCookie(t){const n=this._getCookie(t);return n==null?void 0:n==="true"}getAnalyticsCookie(t){if(this.allowAnalyticsCookies)return this._getCookie(t);this.deleteCookie(t)}getMarketingCookie(t){if(this.allowMarketingCookies)return this._getCookie(t);this.deleteCookie(t)}_setCookie(t,n,r){Np.setCookie(t,n,b(b({},wne),r))}setCookie(t,n,r){this._setCookie(t,n,r)}setBooleanCookie(t,n,r){this._setCookie(t,n!=null?n?"true":"false":void 0,r)}setAnalyticsCookie(t,n,r){this.allowAnalyticsCookies?this._setCookie(t,n,r):this.deleteCookie(t)}setMarketingCookie(t,n,r){this.allowMarketingCookies?this._setCookie(t,n,r):this.deleteCookie(t)}deleteCookie(t){const n={};Np.deleteCookie(t,n)}}class Rne extends U6{getCookie(t){const n=localStorage.getItem(t);return typeof n=="string"?JSON.parse(n):n}setCookie(){}setAnalyticsCookie(){}setMarketingCookie(){}deleteCookie(){}setAllowAnalyticsCookies_CLIENT_ONLY(){}setAllowMarketingCookies_CLIENT_ONLY(){}}const we=F6?new Rne:new U6,xne=3600*24*30*12,Mne=()=>yr(),kne=e=>typeof e=="string"&&e.length>0,Lne=e=>{const t={maxAge:xne};return e.endsWith("openai.com")?t.domain=".openai.com":e.endsWith(window.location.host)&&(t.domain=".chatgpt.com"),t};function Dne(){var e;return(e=window.location.hostname)!=null?e:void 0}function as(e=Dne()){const t=we.getCookie(Ce.DeviceId);if(kne(t))return t;const n=Mne(),r=Lne(e);return we.setCookie(Ce.DeviceId,n,r),n}const Fne="OAI-Language",wg="OAI-Client-Version",Ng="OAI-Device-Id",jt="OAI-Product-Sku",Une="ChatGPT-Account-ID",jne={},Hx=e=>{let t;const n=new Set,r=(u,d)=>{const f=typeof u=="function"?u(t):u;if(!Object.is(f,t)){const h=t;t=(d!=null?d:typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(p=>p(t,h))}},s=()=>t,c={setState:r,getState:s,getInitialState:()=>l,subscribe:u=>(n.add(u),()=>n.delete(u)),destroy:()=>{(jne?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},l=t=e(r,s,c);return c},Qc=e=>e?Hx(e):Hx;var My={exports:{}},ky={},Ly={exports:{}},Dy={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $x;function Bne(){if($x)return Dy;$x=1;var e=Cw();function t(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,s=e.useEffect,i=e.useLayoutEffect,o=e.useDebugValue;function a(d,f){var h=f(),p=r({inst:{value:h,getSnapshot:f}}),_=p[0].inst,m=p[1];return i(function(){_.value=h,_.getSnapshot=f,c(_)&&m({inst:_})},[d,h,f]),s(function(){return c(_)&&m({inst:_}),d(function(){c(_)&&m({inst:_})})},[d]),o(h),h}function c(d){var f=d.getSnapshot;d=d.value;try{var h=f();return!n(d,h)}catch(p){return!0}}function l(d,f){return f()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?l:a;return Dy.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:u,Dy}var qx;function Gne(){return qx||(qx=1,Ly.exports=Bne()),Ly.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vx;function Wne(){if(Vx)return ky;Vx=1;var e=Cw(),t=Gne();function n(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var r=typeof Object.is=="function"?Object.is:n,s=t.useSyncExternalStore,i=e.useRef,o=e.useEffect,a=e.useMemo,c=e.useDebugValue;return ky.useSyncExternalStoreWithSelector=function(l,u,d,f,h){var p=i(null);if(p.current===null){var _={hasValue:!1,value:null};p.current=_}else _=p.current;p=a(function(){function y(T){if(!v){if(v=!0,O=T,T=f(T),h!==void 0&&_.hasValue){var A=_.value;if(h(A,T))return S=A}return S=T}if(A=S,r(O,T))return A;var w=f(T);return h!==void 0&&h(A,w)?A:(O=T,S=w)}var v=!1,O,S,E=d===void 0?null:d;return[function(){return y(u())},E===null?void 0:function(){return y(E())}]},[u,d,f,h]);var m=s(l,p[0],p[1]);return o(function(){_.hasValue=!0,_.value=m},[m]),c(m),m},ky}var zx;function Hne(){return zx||(zx=1,My.exports=Wne()),My.exports}var $ne=Hne();const j6=$t($ne),B6={},{useDebugValue:qne}=It,{useSyncExternalStoreWithSelector:Vne}=j6;let Yx=!1;const zne=e=>e;function ph(e,t=zne,n){(B6?"production":void 0)!=="production"&&n&&!Yx&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Yx=!0);const r=Vne(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return qne(r),r}const Kx=e=>{(B6?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?Qc(e):e,n=(r,s)=>ph(t,r,s);return Object.assign(n,t),n},cr=e=>e?Kx(e):Kx,bA=new Set;function xGe(e){return bA.add(e),()=>bA.delete(e)}async function Yne(){await Promise.all(Array.from(bA).map(async e=>{try{await e()}catch(t){}}))}function MGe(){(async()=>(await Yne(),window.location.href=window.location.origin+"/auth/logout"))()}const cm="auth_session_logging_id";var Kw=(e=>(e.OpenAI="openai",e.OpenAIDev="openai-dev",e.Mocked="mocked",e.OpenAISidetron="openai-sidetron",e.OpenAISidetronDev="openai-sidetron-dev",e))(Kw||{}),Kne=(e=>(e[e.Auth0=1]="Auth0",e[e.WorkOS=2]="WorkOS",e))(Kne||{});const G6=ct(e=>{const t=vt(),n=t.authStatus==="logged_in"?t.session:null;return Qc(()=>({session:n}))});function yt(e){return vt().authStatus==="logged_in"}function _a(e){return G6(e).getState().session}function _h(e){var t;return(t=_a(e))==null?void 0:t.accessToken}async function Xne(e){var t,n,r;try{const s=Date.now(),i=new URL("/api/auth/session",location.origin);i.searchParams.set("refresh","true");for(const[d,f]of Object.entries(e))i.searchParams.set(d,f);const o=as();K.addAction("Refreshing access token due to ".concat(e.reason," error."),I(b({},e),{url:location.origin+((t=e.path)!=null?t:""),deviceId:o}));const a=await fetch(i,{headers:{[Ng]:o,[wg]:hh}}),c=await a.json(),u=(Date.now()-s)/1e3;if(a.status!==200&&K.addAction("fetchSession.statusNon200",{status:a.status,reqDuration:u}),Object.keys(c).length)return c.accessToken==null&&c.error==null&&K.addAction("missing_access_token_error",{error:"Missing access token for User: ".concat((n=c.user)==null?void 0:n.id," (").concat(c.accessToken,")")}),c.error==="RefreshAccessTokenError"&&((r=window._oaiHandleSessionExpired)==null||r.call(window,"page load",c.error)),c.error&&K.addAction("fetchSession.error",{error:c.error}),c}catch(s){}return null}function Jne(e){return{session:_a(e),isLoading:!1}}function Qne(e){return!e||!e.email?!1:e.email.endsWith("@openai.com")}var mu=(e=>(e.LoggedOut="logged_out",e.LoggedIn="logged_in",e))(mu||{});const kGe="https://api.openai.com/mfa",Zne="https://api.openai.com/auth",ere=ct(()=>({pending:null}));function Xw(e,t){const n=G6(e),r=n.getState().session;r&&n.setState({session:I(b({},r),{accessToken:t})})}function tre(e,t){const n=ere(e);return n.pending||(n.pending=(async()=>{try{const r=await Xne(t);r!=null&&r.accessToken&&Xw(e,r.accessToken)}finally{n.pending=null}})()),n.pending}var nre=(e=>(e[e.Unspecified=0]="Unspecified",e[e.Password=1]="Password",e[e.Google=2]="Google",e[e.Microsoft=3]="Microsoft",e[e.Apple=4]="Apple",e[e.Samlp=5]="Samlp",e[e.Oidc=6]="Oidc",e))(nre||{});function rre(e){return e?e.startsWith("google-oauth2|")?2:e.startsWith("auth0|")?1:e.startsWith("apple|")?4:e.startsWith("windowslive|")?3:e.startsWith("samlp|")?5:e.startsWith("oidc|")?6:0:0}function LGe(e){var r,s;const t=_h(e),n=t?yne(t):null;return{isSignup:(s=(r=n==null?void 0:n[Zne])==null?void 0:r.is_signup)!=null?s:!1,connectionType:rre(n==null?void 0:n.sub)}}const Ie=Yw(ct);class sre{constructor(){U(this,"wantsModelSlug$",me(void 0));U(this,"selectedConversationId$",me(void 0));U(this,"wantsNewConversation$",me(!1));U(this,"newConversationGizmoId$",me(void 0));U(this,"prepareConversationDetails");U(this,"attachments");U(this,"whisperContent");U(this,"tabContext");U(this,"requestCompletionId");U(this,"requestCompletionId$",me(void 0));U(this,"requestCompletionAckId");U(this,"requestCompletionAckId$",me(void 0));U(this,"requestCompletion");U(this,"wantsRequestCompletion$",me(!1));U(this,"populatePrompt");U(this,"wantsPopulatePrompt$",me(!1));U(this,"context$",me(void 0));U(this,"sideChatCompletionDetails");U(this,"wantsSideChatCompletion$",me(!1));U(this,"promptOrigin");U(this,"agentSessionMode$",me("signedInAccounts"));U(this,"agentSafeModeHasSeenNux$",me(void 0));U(this,"authSessionContext");U(this,"wantsAuthSessionContext$",me(!1));U(this,"agentRequest");U(this,"wantsHandleAgentRequest$",me(!1));U(this,"sidebarUrlTrayOpen$",me(!0));U(this,"wantsAttachUserFile$",me(!1));U(this,"attachUserFileRequest");U(this,"wantsSetChatTheme$",me(!1));U(this,"chatTheme");U(this,"wantsInitialTab$",me(void 0))}}const no=Ie(e=>me(vt().windowStyle)),ns=new sre,Ig="new_page_view",mh="new_page_overlay_view",Jw="sidebar_view",gh="ref",lm={name:gh,value:"mini"},W6={name:gh,value:"mini-ntp"},gf={name:gh,value:"mini-sidebar"},ire=lm;function ore(e){no.set(e,Jw)}function are(e){no.set(e,Ig)}function cre(e){no.set(e,mh)}const Vs=ct(e=>gt(()=>H6(e)||vh(e)||yh(e)));function vh(e){const t=no(e);return t==="mainPage"||t===Ig||t===mh}function H6(e){return Eh(e)?no(e)===mh:!1}function yh(e){const t=no(e);return t==="sidebar"||t===Jw}function lre(e){const t=$6();return t===Ig||Eh(e)&&t===mh}function $6(e){return vt().windowStyle}function ure(e){switch(e){case mh:return W6.value;case Ig:return lm.value;case"mainPage":return lm.value;case Jw:return gf.value;case"sidebar":return gf.value;default:throw new Error("Invalid Aura window style: ".concat(e))}}function q6(e,t){const n=new URLSearchParams(e);return n.set(gh,t),n.toString()}function dre(e,t){const n=e.indexOf("#"),r=e.indexOf("?"),s=Math.min(r===-1?e.length:r,n===-1?e.length:n),i=e.slice(0,s),o=r===-1?"":e.slice(r+1,n===-1?e.length:n),a=n===-1?"":e.slice(n+1),c=q6(o,t);let l=i;return c&&(l+="?".concat(c)),a&&(l+="#".concat(a)),l}function fre(e,t){var n,r,s;return{pathname:(n=e.pathname)!=null?n:"",search:q6(((r=e.search)!=null?r:"").replace(/^\?/,""),t),hash:((s=e.hash)!=null?s:"").replace(/^#/,"")}}function vf(e){const t=gt(()=>{const n=Bt();return Vs(n)?ure(no(n)):void 0});return t?typeof e=="string"?dre(e,t):fre(e,t):e}function V6(e){return Vs(e)&&vt().isContainerOTR===!0}function DGe(e){return vh(e)||lre(e)}function hre(e){const t=ce();return Le(()=>e(t))}function FGe(){const e=ce();return Le(()=>V6(e)?!0:Vs(e)&&!yt())}function UGe(e){return Me(e,"71872232")}function jGe(e){return!Me(e,"1365150540")}function BGe(e){return Me(e,"757783264")}function Eh(e){return pre(e,"use-hybrid-ntp")}function GGe(e){const t=vt().containerBuildNumber;try{return t!==void 0&&BigInt(t)>=BigInt(20251119170220000)}catch(n){return!1}}function z6(e){return Eh(e)&&Vs(e)}function WGe(e){return Vs(e)?Eh(e)?yh(e):!0:!1}function pre(e,t){var n;return((n=vt().containerFlags)==null?void 0:n.includes(t))===!0}class _re extends TypeError{constructor(t,n){let r;const l=t,{message:s,explanation:i}=l,o=G(l,["message","explanation"]),{path:a}=t,c=a.length===0?s:"At path: ".concat(a.join(".")," -- ").concat(s);super(i!=null?i:c),i!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r!=null?r:r=[t,...n()]}}function mre(e){return Ch(e)&&typeof e[Symbol.iterator]=="function"}function Ch(e){return typeof e=="object"&&e!=null}function um(e){return Ch(e)&&!Array.isArray(e)}function xc(e){return typeof e=="symbol"?e.toString():typeof e=="string"?JSON.stringify(e):"".concat(e)}function gre(e){const{done:t,value:n}=e.next();return t?void 0:n}function vre(e,t,n,r){if(e===!0)return;e===!1?e={}:typeof e=="string"&&(e={message:e});const{path:s,branch:i}=t,{type:o}=n,{refinement:a,message:c="Expected a value of type `".concat(o,"`").concat(a?" with refinement `".concat(a,"`"):"",", but received: `").concat(xc(r),"`")}=e;return I(b({value:r,type:o,refinement:a,key:s[s.length-1],path:s,branch:i},e),{message:c})}function*Xx(e,t,n,r){mre(e)||(e=[e]);for(const s of e){const i=vre(s,t,n,r);i&&(yield i)}}function*Y6(e,t,n={}){const{path:r=[],branch:s=[e],coerce:i=!1,mask:o=!1}=n,a={path:r,branch:s,mask:o};i&&(e=t.coercer(e,a));let c="valid";for(const l of t.validator(e,a))l.explanation=n.message,c="not_valid",yield[l,void 0];for(let[l,u,d]of t.entries(e,a)){const f=Y6(u,d,{path:l===void 0?r:[...r,l],branch:l===void 0?s:[...s,u],coerce:i,mask:o,message:n.message});for(const h of f)h[0]?(c=h[0].refinement!=null?"not_refined":"not_valid",yield[h[0],void 0]):i&&(u=h[1],l===void 0?e=u:e instanceof Map?e.set(l,u):e instanceof Set?e.add(u):Ch(e)&&(u!==void 0||l in e)&&(e[l]=u))}if(c!=="not_valid")for(const l of t.refiner(e,a))l.explanation=n.message,c="not_refined",yield[l,void 0];c==="valid"&&(yield[void 0,e])}class Sh{constructor(t){const{type:n,schema:r,validator:s,refiner:i,coercer:o=c=>c,entries:a=function*(){}}=t;this.type=n,this.schema=r,this.entries=a,this.coercer=o,s?this.validator=(c,l)=>{const u=s(c,l);return Xx(u,l,this,c)}:this.validator=()=>[],i?this.refiner=(c,l)=>{const u=i(c,l);return Xx(u,l,this,c)}:this.refiner=()=>[]}assert(t,n){return yre(t,this,n)}create(t,n){return Ere(t,this,n)}is(t){return Sre(t,this)}mask(t,n){return Cre(t,this,n)}validate(t,n={}){return bh(t,this,n)}}function yre(e,t,n){const r=bh(e,t,{message:n});if(r[0])throw r[0]}function Ere(e,t,n){const r=bh(e,t,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function Cre(e,t,n){const r=bh(e,t,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}function Sre(e,t){return!bh(e,t)[0]}function bh(e,t,n={}){const r=Y6(e,t,n),s=gre(r);return s[0]?[new _re(s[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0]:[void 0,s[1]]}function Qw(e,t){return new Sh({type:e,schema:null,validator:t})}function HGe(e){return new Sh({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[n,r]of t.entries())yield[n,r,e]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||"Expected an array value, but received: ".concat(xc(t))}})}function Jx(){return Qw("boolean",e=>typeof e=="boolean")}function Zw(e){const t={},n=e.map(r=>xc(r)).join();for(const r of e)t[r]=r;return new Sh({type:"enums",schema:t,validator(r){return e.includes(r)||"Expected one of `".concat(n,"`, but received: ").concat(xc(r))}})}function bre(){return Qw("never",()=>!1)}function K6(e){const t=e?Object.keys(e):[],n=bre();return new Sh({type:"object",schema:e||null,*entries(r){if(e&&Ch(r)){const s=new Set(Object.keys(r));for(const i of t)s.delete(i),yield[i,r[i],e[i]];for(const i of s)yield[i,r[i],n]}},validator(r){return um(r)||"Expected an object, but received: ".concat(xc(r))},coercer(r,s){if(!um(r))return r;const i=b({},r);if(s.mask&&e)for(const o in i)e[o]===void 0&&delete i[o];return i}})}function Qx(){return Qw("string",e=>typeof e=="string"||"Expected a string, but received: ".concat(xc(e)))}function $Ge(e){const t=Object.keys(e);return new Sh({type:"type",schema:e,*entries(n){if(Ch(n))for(const r of t)yield[r,n[r],e[r]]},validator(n){return um(n)||"Expected an object, but received: ".concat(xc(n))},coercer(n){return um(n)?b({},n):n}})}var ro=(e=>(e.Birthday="birthday",e.Sunshine="sunshine",e.GoldenHour="golden_hour",e.TrainingAllowed="training_allowed",e.ShowExpandedCodeView="show_expanded_code_view",e.VoiceName="voice_name",e.VoiceMainLanguage="voice_main_language",e.VoiceEnabled="voice_enabled",e.MemoryInSearch="memory_in_search",e.VoiceTrainingAllowed="voice_training_allowed",e.VideoTrainingAllowed="video_training_allowed",e.Moonshine="moonshine",e.CodexTrainingAllowed="codex_training_allowed_v2",e.BrowserReferenceWebHistoryInChat="hippo_in_chat_allowed",e.ShowLegacyModels="show_legacy_models",e.HiveReferencedInInternalKnowledge="hive_referenced_in_internal_knowledge",e.ConnectorSearchEnabled="connector_search_enabled",e.DeveloperMode="developer_mode",e.Gift="gift",e.ChatTheme="chat_theme",e.LastUsedModelConfig="last_used_model_config",e.VoiceSpeed="voice_speed",e.EnableRemoteBrowserData="enable_remote_browser_data",e.EnableDeviceCodeAuth="enable_device_code_auth",e.UkdvthEntrypointVisible="ukdvth_entrypoint_visible",e.UkdvthMemoryEnabled="ukdvth_memory_enabled",e.H17180rGmail="h17180r_gmail",e.H17180rGoogleCalendar="h17180r_google_calendar",e.H17180rGoogleContacts="h17180r_google_contacts",e.RecordMeetingOnCalendar="record_meeting_on_calendar",e.PreciseLocationEnabledForDevice="precise_location_enabled_for_device",e.AtlasAdultSearchAllowed="atlas_adult_search_allowed",e.AmphoraLocks="amphora_locks",e))(ro||{}),wo=(e=>(e.DEEP_RESEARCH="deep_research",e.WORKSPACE_GPT_CUSTOM_ACTIONS="workspace_gpt_custom_actions",e.APP_PAIRING="app_pairing",e.BROWSING="browsing",e.CANVAS="canvas",e.CANVAS_CODE_EXECUTION="canvas_code_execution",e.CANVAS_CODE_NETWORK_ACCESS="canvas_code_network_access",e.DALLE="dalle",e.MEMORY="sunshine",e.LEGACY_MODELS="legacy_models",e.CONTEXT_CONNECTOR_CONFLUENCE="context_connector_confluence",e.CONTEXT_CONNECTOR_GDRIVE="context_connector_gdrive",e.CONTEXT_CONNECTOR_JIRA="context_connector_java",e.CONTEXT_CONNECTOR_NOTION="context_connector_notion",e.CONTEXT_CONNECTOR_O365_PERSONAL="context_connector_o365_personal",e.CONTEXT_CONNECTOR_O365_BUSINESS="context_connector_o365_business",e.CONTEXT_CONNECTOR_SLACK="context_connector_slack",e.CONTEXT_CONNECTOR_GITHUB="context_connector_github",e.CLIENT_APPLICATION_APPLE="client_application_apple",e.CLIENT_APPLICATION_APPLE_MDM_REQUIRED="client_application_apple_mdm_required",e.MEMORY_IN_SEARCH="memory_in_search_2",e.VIDEO_SCREEN_SHARING="video_screen_sharing",e.AURA="aura",e.HIVE="hive",e.HIVE_KNOWLEDGE_RETRIEVAL="hive_knowledge_retrieval",e.ALLOW_CODEX_ACCESS="wham_access",e.ALLOW_CODEX_LOCAL_ACCESS="wham_local_access",e.CODEX_ADMIN="codex_admin",e.CODEX_AGENT_NETWORK_ACCESS="codex_agent_network_access",e.CODEX_DEVICE_CODE_AUTH="codex_device_code_auth",e.CODEX_SLACK_POSTING="codex_slack_posting",e.WORKSPACE_POLICY="workspace_policy",e.PROJECT_SHARING="project_sharing",e.PROJECT_SHARING_GA_OPT_OUT="project_sharing_ga_opt_out",e.AURA_GA_OPT_OUT="aura_ga_opt_out",e.REFERENCE_WEB_HISTORY_IN_CHAT="hippo_in_chat_allowed",e.SHOW_LOGO_IN_HEADER="show_logo_in_header",e.GPT51_GA_OPT_OUT="gpt51_ga_opt_out",e))(wo||{}),Tre=(e=>(e.GUEST="chatgptguestplan",e.FREE="chatgptfreeplan",e.GO="chatgptgoplan",e.PLUS="chatgptplusplan",e.PRO="chatgptpro",e.PRO_FREE="chatgptprofreeplan",e.PLUS_FREE="chatgptplusfreeplan",e.SELF_SERVE_BUSINESS="chatgptteamplan",e.ENTERPRISE_CBP_SEAT_USAGE="chatgptbusiness_seat_usage",e.ENTERPRISE_CBP_FLAT="chatgptbusiness_flat",e.ENTERPRISE_HC_SEAT_USAGE="chatgpthc_seat_usage",e.ENTERPRISE_HC_FLAT="chatgpthc_flat",e.EDUCATION_CBP_FLAT="chatgpteducation_flat",e.FREE_WORKSPACE="chatgptfreeworkspaceplan",e.K12="chatgptk12plan",e.QUORUM="chatgptquorumplan",e.DEPRECATED_ENTERPRISE="chatgptenterpriseplan",e.DEPRECATED_EDU="chatgpteduplan",e))(Tre||{}),ae=(e=>(e.GUEST="guest",e.FREE="free",e.GO="go",e.PLUS="plus",e.PRO="pro",e.FREE_WORKSPACE="free_workspace",e.SELF_SERVE_BUSINESS="team",e.ENTERPRISE_CBP="business",e.ENTERPRISE_HC="enterprise_hc",e.EDUCATION_CBP="education",e.QUORUM="quorum",e.DEPRECATED_ENTERPRISE="enterprise",e.DEPRECATED_EDU="edu",e.K12="k12",e))(ae||{}),X6=(e=>(e.ANYONE="anyone",e.NO_ONE="no_one",e.WORKSPACE_ONLY="workspace_only",e))(X6||{});const qGe={ALLOW_ALL:"allow_all",ALLOW_SPECIFIC:"allow_specific",ALLOW_NONE:"allow_none"};var Ore=(e=>(e.GPT_SHARE_SETTINGS="gpt_share_setting",e.CHAT_SHARE_SETTINGS="chat_share_setting",e))(Ore||{}),Are=(e=>(e.WORKSPACE="workspace",e.THIRD_PARTY="third_party",e.UNASSIGNED="unassigned",e))(Are||{}),Rd=(e=>(e.WEB="web",e.IOS_APP="ios_app",e.ANDROID_APP="android_app",e.WINDOWS_APP="windows_app",e.MAC_APP="mac_os_app",e.DEFAULT="default",e))(Rd||{}),Ho=(e=>(e.CodeInterpreter="code_interpreter",e.Multimodal="multimodal",e.Retrieval="retrieval",e.ContextConnector="context_connector",e))(Ho||{}),ma=(e=>(e.FREE="free",e.PLUS="plus",e))(ma||{}),Fe=(e=>(e.TOOL_USE="tool_use",e.IMAGE="image",e.ATTACHMENT="attachment",e.AUDIO="audio",e.TARGETED_REPLY="targeted_reply",e.CANVAS_SUPPORTED="canvas_supported",e.TOOL_SEARCH="tool_search",e.CUSTOM_INSTRUCTIONS="custom_instructions",e.GIZMO_PROJECT="gizmo_project",e))(Fe||{}),ga=(e=>(e.SHORT_LABEL="short_label",e.TITLE="title",e))(ga||{}),TA=(e=>(e[e.DEPRECATED_PENDING=1]="DEPRECATED_PENDING",e[e.DEPRECATED_FINISHED=2]="DEPRECATED_FINISHED",e[e.STREAMING=3]="STREAMING",e[e.UNREAD=4]="UNREAD",e[e.REALTIME=5]="REALTIME",e[e.REALTIME_BUSY=6]="REALTIME_BUSY",e[e.REALTIME_BACKGROUND=7]="REALTIME_BACKGROUND",e))(TA||{}),J6=(e=>(e[e.CLIENT=1]="CLIENT",e[e.SERVER=2]="SERVER",e))(J6||{}),rr=(e=>(e.PERSONAL="personal",e.WORKSPACE="workspace",e))(rr||{}),Jd=(e=>(e.OWNER="account-owner",e.ADMIN="account-admin",e.STANDARD="standard-user",e))(Jd||{}),wre=(e=>(e.VERIFIED="verified",e.PENDING="pending",e.EXPIRED="expired",e))(wre||{}),Nre=(e=>(e.PERCENTAGE="percentage",e.FIXED="fixed",e))(Nre||{}),Ire=(e=>(e.IMMEDIATE="immediate",e.TERM_END="term_end",e.DISCOUNT_END="discount_end",e))(Ire||{}),Cn=(e=>(e.AceUpload="ace_upload",e.MyFiles="my_files",e.LibraryFiles="library_files",e.Multimodal="multimodal",e.Finch="finch",e.ProfilePicture="profile_picture",e.Gizmo="agent",e.DalleAgent="dalle_agent",e.Codex="codex",e))(Cn||{}),Pr=(e=>(e.Initial="initial",e.FileCreated="file_created",e.FileUploaded="file_uploaded",e.FileProcessed="file_processed",e.RetrievalIndexCreated="retrieval_index_created",e))(Pr||{}),yf=(e=>(e.Success="success",e.Retry="retry",e.Error="error",e))(yf||{}),Zl=(e=>(e.Success="success",e.Failed="failed",e.Processing="processing",e.Skipped="skipped",e))(Zl||{}),Te=(e=>(e.GDRIVE="gdrive",e.O365="o365",e.O365_PERSONAL="o365_personal",e.O365_BUSINESS="o365_business",e.CONFLUENCE="confluence",e.JIRA="java",e.NOTION_OPEN_CONNECTOR="notion_open_connector",e.SLACK_OPEN_CONNECTOR="slack_open_connector",e))(Te||{});const R={GDRIVE_ACTION_CONNECTOR:"gdrive_action_connector",GITHUB_CONNECTOR:"github_connector",LINEAR_CONNECTOR:"linear_connector",LINEAR_CODEX_BOT_CONNECTOR:"linear_codex_bot_connector",DROPBOX_CONNECTOR:"dropbox_connector",SHAREPOINT_CONNECTOR:"sharepoint_connector",GCAL_CONNECTOR:"google_calendar_connector",GMAIL_CONNECTOR:"gmail_connector",GOOGLE_CONTACTS_CONNECTOR:"google_contacts_connector",TEAMS_CONNECTOR:"teams_connector",OUTLOOK_CALENDAR_CONNECTOR:"outlook_calendar_connector",OUTLOOK_EMAIL_CONNECTOR:"outlook_email_connector",BOX_CONNECTOR:"box_connector",INTERCOM_CONNECTOR:"intercom_connector",NOTION_CONNECTOR:"notion_connector",HUBSPOT_CONNECTOR:"hubspot_connector",SALESFORCE_CONNECTOR:"salesforce_connector",AHA_CONNECTOR:"aha_connector",ASANA_CONNECTOR:"asana_connector",AZURE_DEVOPS_CONNECTOR:"azure_devops_connector",BASECAMP_CONNECTOR:"basecamp_connector",CLICKUP_CONNECTOR:"clickup_connector",FRONT_CONNECTOR:"front_connector",GITLAB_CONNECTOR:"gitlab_connector",GORGIAS_CONNECTOR:"gorgias_connector",HELP_SCOUT_CONNECTOR:"help_scout_connector",IRONCLAD_CONNECTOR:"ironclad_connector",PIPEDRIVE_CONNECTOR:"pipedrive_connector",SHORTCUT_CONNECTOR:"shortcut_connector",TEAMWORK_CONNECTOR:"teamwork_connector",ZENDESK_CONNECTOR:"zendesk_connector",ZOHO_CONNECTOR:"zoho_connector",ZOHO_DESK_CONNECTOR:"zoho_desk_connector",CANVA_CONNECTOR:"canva_connector",SLACK_CONNECTOR:"slack_connector",SLACK_CODEX_CONNECTOR:"slack_codex_connector",SLACK_CODEX_BOT_CONNECTOR:"slack_codex_bot_connector",UAE_PASS_CONNECTOR:"uae_pass_connector",SHAREPOINT_ADMIN_CONNECTOR:"sharepoint_admin_connector",TEAMS_ADMIN_CONNECTOR:"teams_admin_connector",CONFLUENCE_CONNECTOR:"confluence_connector",JIRA_CONNECTOR:"jira_connector",JIRA_SERVICEMANAGEMENT_CONNECTOR:"jira_servicemanagement_connector"};var Rs=(e=>(e.MCP_CONNECTOR="mcp_connector",e))(Rs||{}),dm=(e=>(e.GDRIVE_SYNC_CONNECTOR="gdrive_sync_connector",e.SLACK_SYNC_CONNECTOR="slack_sync_connector",e))(dm||{}),g_=(e=>(e.GCAL_CONNECTOR="gcal_action_connector",e.GMAIL_CONNECTOR="gmail_action_connector",e.GOOGLE_CONTACTS_CONNECTOR="google_contacts_action_connector",e))(g_||{}),Pre=(e=>(e.PAGE="page",e))(Pre||{}),Rre=(e=>(e.PAGE="page",e.DATABASE="database",e))(Rre||{}),xre=(e=>(e.MESSAGE="message",e))(xre||{}),Th=(e=>(e.PYTHON="python",e.RETRIEVAL="retrieval",e.BROWSER="browser",e.CANVAS="canvas",e.FUNCTION="function",e.DALLE="dalle",e.API="api",e.PARALLEL_BROWSE="parallel_browse",e.MEMORY="memory",e.CONTEXT_CONNECTOR="context_connector",e.CONNECTOR="connector",e.JIT_PLUGIN="plugins_prototype",e.IMAGE_GEN="image_gen",e))(Th||{}),Mre=(e=>(e.Gizmo="gizmo",e.Project="project",e.ShareableConversation="share_link",e.Conversation="conversation",e.Profile="profile",e.Message="message",e.Post="post",e.CommerceProduct="commerce_product",e.Connector="connector",e.CalpicoRoom="calpico_room",e))(Mre||{}),kre=(e=>(e.UserName="user_name",e.UserEmail="user_email",e.EntityName="entity_name",e.EntityUrl="entity_url",e.SampleLongerInput="sample_longer_input",e.SampleUrl="sample_url_input",e.SampleIntInput="sample_int_input",e))(kre||{}),Lre=(e=>(e.FirstParty="1p",e.Calpico="calpico",e.ChatGPTPost="chatgpt_post",e.Commerce="commerce",e.GPTs="gpts",e))(Lre||{});const VGe={shouldnt_have_created:En({id:"ImageGenFeedback.ShouldNotHaveCreated",defaultMessage:"Shouldn't have created an image"}),dont_like_style:En({id:"ImageGenFeedback.DontLikeStyle",defaultMessage:"Don't like the style"}),didnt_fully_follow_instructions:En({id:"ImageGenFeedback.DidntFollowInstructions",defaultMessage:"Didn't fully follow instructions"}),low_quality_or_distorted:En({id:"ImageGenFeedback.LowQualityOrDistorted",defaultMessage:"Low quality or distorted"}),odd_cropping:En({id:"ImageGenFeedback.OddCropping",defaultMessage:"Odd cropping"}),inaccurate_editing:En({id:"ImageGenFeedback.InaccurateEditing",defaultMessage:"Inaccurate editing"}),inaccurate_text_rendering:En({id:"ImageGenFeedback.InaccurateTextRendering",defaultMessage:"Inaccurate text rendering"}),unsafe_or_problematic:En({id:"ImageGenFeedback.UnsafeOrProblematic",defaultMessage:"Unsafe or problematic"}),biased:En({id:"ImageGenFeedback.Biased",defaultMessage:"Biased"}),other:En({id:"ImageGenFeedback.Other",defaultMessage:"Other"})};var Dre=(e=>(e.AUDIO_ISSUES="audio_issues",e.RESPONSE_QUALITY="response_quality",e.INTERRUPTIONS="interruptions",e.TRANSCRIPTION_ISSUES="transcription_issues",e.INAUDIBLE_ISSUES="inaudible_issues",e.OTHER="other",e))(Dre||{});const zGe={audio_issues:En({id:"VoiceFeedback.AudioIssues",defaultMessage:"Audio issues"}),response_quality:En({id:"VoiceFeedback.ResponseQuality",defaultMessage:"I didn't like the responses"}),interruptions:En({id:"VoiceFeedback.Interruptions",defaultMessage:"It interrupted me"}),transcription_issues:En({id:"VoiceFeedback.TranscriptionIssues",defaultMessage:"It misheard me"}),inaudible_issues:En({id:"VoiceFeedback.InaudibleIssues",defaultMessage:"It couldn't hear me"}),other:En({id:"VoiceFeedback.Other",defaultMessage:"Other"})};var Fre=(e=>(e.THUMBS_UP="thumbs_up",e.THUMBS_DOWN="thumbs_down",e))(Fre||{}),Ure=(e=>(e.Auto="auto",e.Arabic="ar",e.Bosnian="bs",e.Bulgarian="bg",e.Catalan="ca",e.Chinese="zh",e.Croatian="hr",e.Czech="cs",e.Danish="da",e.Dutch="nl",e.English="en",e.Finnish="fi",e.French="fr",e.Galician="gl",e.German="de",e.Greek="el",e.Hindi="hi",e.Hungarian="hu",e.Indonesian="id",e.Italian="it",e.Japanese="ja",e.Korean="ko",e.Macedonian="mk",e.Malay="ms",e.Norwegian="no",e.Polish="pl",e.Portuguese="pt",e.Romanian="ro",e.Russian="ru",e.Slovak="sk",e.Spanish="es",e.Tagalog="tl",e.Tamil="ta",e.Thai="th",e.Turkish="tr",e.Swedish="sv",e.Ukrainian="uk",e.Vietnamese="vi",e))(Ure||{});const YGe="warm",KGe=["new_chat","switch_to_standard","ok","upgrade_to_plus","upgrade_to_pro"],Fy="account_switch",Uy="error",XGe=K6({email:Qx(),token:Qx()});var jre=(e=>(e.InvalidProof="invalid_proof",e.ExternalAccountAlreadyLinked="external_account_already_linked",e.InternalAccountAlreadyLinked="account_already_linked",e.UnsupportedPlatform="unsupported_platform",e.UnsupportedPlanType="unsupported_plan_type",e.SessionExpired="user_session_expired",e))(jre||{});function JGe(e){if(typeof e!="object"||e==null)return!1;const t=Object.getPrototypeOf(e);return t==null||t===Object.prototype}function QGe(e){return e!=null}const Bre=(e,t)=>e.includes(t),Gre=(e,t,n=[])=>{if(e==null)return n;const r=Array.isArray(e)?e:[e];return t?r.map(t):r},ZGe=(e,t=[])=>n=>Gre(n,e,t),Wre=(e,t=void 0)=>typeof e!="object"||e==null||Array.isArray(e)?t:e,Hre=(e,t)=>{const n=Wre(e),r={};for(const s in t)r[s]=t[s](n==null?void 0:n[s]);return r},e6e=e=>t=>Hre(t,e),t6e=(e,t="")=>typeof e=="object"||e==null?t:String(e),n6e=(e,t=0)=>{if(typeof e=="object"||e==null)return t;const n=Number(e);return isNaN(n)?t:n},$re=(e,t=!1)=>{if(typeof e=="boolean")return e;if(typeof e=="number"){if(e===0)return!1;if(e===1)return!0}if(typeof e=="string"){const n=e.toLowerCase();if(n==="false")return!1;if(n==="true")return!0}return t},OA=(e,t,n=t[0])=>Bre(t,e)?e:n,qre=(e,t=e[0])=>n=>OA(n,e,t),r6e=e=>t=>t===void 0?void 0:e(t),s6e=e=>t=>t==null?null:e(t),Vre=e=>Me(e,"506294923");function fm(e,t){switch(t){case"gpt-4o":return Br(e).checkGate("1627380539");default:return!1}}var jy,Zx;function Q6(){if(Zx)return jy;Zx=1;var e=typeof Dl=="object"&&Dl&&Dl.Object===Object&&Dl;return jy=e,jy}var By,eM;function zs(){if(eM)return By;eM=1;var e=Q6(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return By=n,By}var Gy,tM;function Fu(){if(tM)return Gy;tM=1;var e=zs(),t=e.Symbol;return Gy=t,Gy}var Wy,nM;function zre(){if(nM)return Wy;nM=1;var e=Fu(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,s=e?e.toStringTag:void 0;function i(o){var a=n.call(o,s),c=o[s];try{o[s]=void 0;var l=!0}catch(d){}var u=r.call(o);return l&&(a?o[s]=c:delete o[s]),u}return Wy=i,Wy}var Hy,rM;function Yre(){if(rM)return Hy;rM=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return Hy=n,Hy}var $y,sM;function Uu(){if(sM)return $y;sM=1;var e=Fu(),t=zre(),n=Yre(),r="[object Null]",s="[object Undefined]",i=e?e.toStringTag:void 0;function o(a){return a==null?a===void 0?s:r:i&&i in Object(a)?t(a):n(a)}return $y=o,$y}var qy,iM;function Ys(){if(iM)return qy;iM=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return qy=e,qy}var Vy,oM;function Z6(){if(oM)return Vy;oM=1;var e=Uu(),t=Ys(),n="[object AsyncFunction]",r="[object Function]",s="[object GeneratorFunction]",i="[object Proxy]";function o(a){if(!t(a))return!1;var c=e(a);return c==r||c==s||c==n||c==i}return Vy=o,Vy}var zy,aM;function Kre(){if(aM)return zy;aM=1;var e=zs(),t=e["__core-js_shared__"];return zy=t,zy}var Yy,cM;function Xre(){if(cM)return Yy;cM=1;var e=Kre(),t=(function(){var r=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!t&&t in r}return Yy=n,Yy}var Ky,lM;function eW(){if(lM)return Ky;lM=1;var e=Function.prototype,t=e.toString;function n(r){if(r!=null){try{return t.call(r)}catch(s){}try{return r+""}catch(s){}}return""}return Ky=n,Ky}var Xy,uM;function Jre(){if(uM)return Xy;uM=1;var e=Z6(),t=Xre(),n=Ys(),r=eW(),s=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,o=Function.prototype,a=Object.prototype,c=o.toString,l=a.hasOwnProperty,u=RegExp("^"+c.call(l).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d(f){if(!n(f)||t(f))return!1;var h=e(f)?u:i;return h.test(r(f))}return Xy=d,Xy}var Jy,dM;function Qre(){if(dM)return Jy;dM=1;function e(t,n){return t==null?void 0:t[n]}return Jy=e,Jy}var Qy,fM;function Zc(){if(fM)return Qy;fM=1;var e=Jre(),t=Qre();function n(r,s){var i=t(r,s);return e(i)?i:void 0}return Qy=n,Qy}var Zy,hM;function Pg(){if(hM)return Zy;hM=1;var e=Zc(),t=e(Object,"create");return Zy=t,Zy}var eE,pM;function Zre(){if(pM)return eE;pM=1;var e=Pg();function t(){this.__data__=e?e(null):{},this.size=0}return eE=t,eE}var tE,_M;function ese(){if(_M)return tE;_M=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return tE=e,tE}var nE,mM;function tse(){if(mM)return nE;mM=1;var e=Pg(),t="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function s(i){var o=this.__data__;if(e){var a=o[i];return a===t?void 0:a}return r.call(o,i)?o[i]:void 0}return nE=s,nE}var rE,gM;function nse(){if(gM)return rE;gM=1;var e=Pg(),t=Object.prototype,n=t.hasOwnProperty;function r(s){var i=this.__data__;return e?i[s]!==void 0:n.call(i,s)}return rE=r,rE}var sE,vM;function rse(){if(vM)return sE;vM=1;var e=Pg(),t="__lodash_hash_undefined__";function n(r,s){var i=this.__data__;return this.size+=this.has(r)?0:1,i[r]=e&&s===void 0?t:s,this}return sE=n,sE}var iE,yM;function sse(){if(yM)return iE;yM=1;var e=Zre(),t=ese(),n=tse(),r=nse(),s=rse();function i(o){var a=-1,c=o==null?0:o.length;for(this.clear();++a<c;){var l=o[a];this.set(l[0],l[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=r,i.prototype.set=s,iE=i,iE}var oE,EM;function ise(){if(EM)return oE;EM=1;function e(){this.__data__=[],this.size=0}return oE=e,oE}var aE,CM;function Rg(){if(CM)return aE;CM=1;function e(t,n){return t===n||t!==t&&n!==n}return aE=e,aE}var cE,SM;function xg(){if(SM)return cE;SM=1;var e=Rg();function t(n,r){for(var s=n.length;s--;)if(e(n[s][0],r))return s;return-1}return cE=t,cE}var lE,bM;function ose(){if(bM)return lE;bM=1;var e=xg(),t=Array.prototype,n=t.splice;function r(s){var i=this.__data__,o=e(i,s);if(o<0)return!1;var a=i.length-1;return o==a?i.pop():n.call(i,o,1),--this.size,!0}return lE=r,lE}var uE,TM;function ase(){if(TM)return uE;TM=1;var e=xg();function t(n){var r=this.__data__,s=e(r,n);return s<0?void 0:r[s][1]}return uE=t,uE}var dE,OM;function cse(){if(OM)return dE;OM=1;var e=xg();function t(n){return e(this.__data__,n)>-1}return dE=t,dE}var fE,AM;function lse(){if(AM)return fE;AM=1;var e=xg();function t(n,r){var s=this.__data__,i=e(s,n);return i<0?(++this.size,s.push([n,r])):s[i][1]=r,this}return fE=t,fE}var hE,wM;function Mg(){if(wM)return hE;wM=1;var e=ise(),t=ose(),n=ase(),r=cse(),s=lse();function i(o){var a=-1,c=o==null?0:o.length;for(this.clear();++a<c;){var l=o[a];this.set(l[0],l[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=r,i.prototype.set=s,hE=i,hE}var pE,NM;function eN(){if(NM)return pE;NM=1;var e=Zc(),t=zs(),n=e(t,"Map");return pE=n,pE}var _E,IM;function use(){if(IM)return _E;IM=1;var e=sse(),t=Mg(),n=eN();function r(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return _E=r,_E}var mE,PM;function dse(){if(PM)return mE;PM=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return mE=e,mE}var gE,RM;function kg(){if(RM)return gE;RM=1;var e=dse();function t(n,r){var s=n.__data__;return e(r)?s[typeof r=="string"?"string":"hash"]:s.map}return gE=t,gE}var vE,xM;function fse(){if(xM)return vE;xM=1;var e=kg();function t(n){var r=e(this,n).delete(n);return this.size-=r?1:0,r}return vE=t,vE}var yE,MM;function hse(){if(MM)return yE;MM=1;var e=kg();function t(n){return e(this,n).get(n)}return yE=t,yE}var EE,kM;function pse(){if(kM)return EE;kM=1;var e=kg();function t(n){return e(this,n).has(n)}return EE=t,EE}var CE,LM;function _se(){if(LM)return CE;LM=1;var e=kg();function t(n,r){var s=e(this,n),i=s.size;return s.set(n,r),this.size+=s.size==i?0:1,this}return CE=t,CE}var SE,DM;function tN(){if(DM)return SE;DM=1;var e=use(),t=fse(),n=hse(),r=pse(),s=_se();function i(o){var a=-1,c=o==null?0:o.length;for(this.clear();++a<c;){var l=o[a];this.set(l[0],l[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=r,i.prototype.set=s,SE=i,SE}var bE,FM;function tW(){if(FM)return bE;FM=1;var e=tN(),t="Expected a function";function n(r,s){if(typeof r!="function"||s!=null&&typeof s!="function")throw new TypeError(t);var i=function(){var o=arguments,a=s?s.apply(this,o):o[0],c=i.cache;if(c.has(a))return c.get(a);var l=r.apply(this,o);return i.cache=c.set(a,l)||c,l};return i.cache=new(n.Cache||e),i}return n.Cache=e,bE=n,bE}var mse=tW();const Lg=$t(mse),gse=vse(ct),Ks=yse(ct);function vse(e){return(t,n=nW)=>{const r=e(s=>Lg((...i)=>t(s,...i),n));return(s,...i)=>r(s)(...i)}}function yse(e){return(t,n=nW)=>{const r=e(i=>Lg((...o)=>t(i,...o),n));return D6((i,...o)=>r(i)(...o),t.length)}}function nW(...e){return e.length===1?e[0]:JSON.stringify(e)}const Dg=ct(()=>Qc(()=>({modals:[],nextKey:1})));function Xs(e,t,n){Dg(e).setState(r=>{const s=r.modals.find(i=>i.ModalComponent===t);return s?{modals:[...r.modals.filter(i=>i.ModalComponent!==t),{key:s.key,ModalComponent:t,props:n}]}:{modals:[...r.modals,{key:r.nextKey,ModalComponent:t,props:n}],nextKey:r.nextKey+1}})}function nN(e,t){Dg(e).setState(n=>({modals:n.modals.filter(r=>r.ModalComponent!==t)}))}function i6e(e,t){return Dg(e).getState().modals.some(n=>n.ModalComponent===t)}const Ese=C.memo(function({modal:{ModalComponent:t,props:n}}){const r=ce();return g.jsx(t,I(b({},n),{onClose:()=>{var s;(s=n==null?void 0:n.onClose)==null||s.call(n),nN(r,t)}}))});function Cse(){const e=ce(),t=Dg(e),n=ph(t,r=>r.modals);return g.jsx(g.Fragment,{children:n.map(r=>g.jsx(Ese,{modal:r},r.key))})}const rW=()=>{},Sse=()=>rW;function bse(e,t=rW){return C.useSyncExternalStore(Sse,e,t)}function Fg(){return bse(()=>!0,()=>!1)}function Tse(){return null}function Wn(e,t){const n=async()=>{var c;try{const l=await e();return"default"in l?l:{default:l}}catch(l){return K.addAction("Failed importing dynamic component",{error:l}),{default:(c=t==null?void 0:t.fallback)!=null?c:Tse}}},r=C.lazy(n),s=t==null?void 0:t.loading;function i(c){const[l]=C.useState(()=>a);return Fg()?l?g.jsx(l,b({},c)):g.jsx(C.Suspense,{fallback:s==null?null:g.jsx(s,b({},c)),children:g.jsx(r,b({},c))}):s!=null?g.jsx(s,b({},c)):null}let o,a;return i.prefetch=()=>(o||(o=n().then(c=>{a=c.default})),o),i}const Ose=Wn(()=>ne(()=>import("./qhz9e7r99e1rfb9h.js"),__vite__mapDeps([0,1,2,3])).then(e=>e.AllWorkspacesBlockedModal));function Ase(e,t){Xs(e,Ose,{userEmail:t})}var wse={};const Nse=window.location.origin+"/backend/se";var XB,JB;const o6e=(JB=(XB=wse.VITE_VZA493Q_SERVICE_URL)!=null?XB:"https://operator.chatgpt.com")!=null?JB:"https://operator.chatgpt.com",Yi="personal",sW=3600*24*90,a6e=At({signUpButtonText:{id:"Kiuf8K",defaultMessage:"Sign up"},logInButtonText:{id:"Yx8BXg",defaultMessage:"Log in"},cancelButtonText:{id:"DR1Cxg",defaultMessage:"Cancel"},continueButtonText:{id:"bT1n8o",defaultMessage:"Continue"},gotItButtonText:{id:"Eomb3Y",defaultMessage:"Got it"},stayLoggedOut:{id:"JpuO4U",defaultMessage:"Stay logged out"},somethingWentWrong:{id:"SJ1B8J",defaultMessage:"Something went wrong. Please try again later"},getGo:{id:"2tqf87",defaultMessage:"Get Go"},getPlus:{id:"nPUS9f",defaultMessage:"Get Plus"},getPro:{id:"MC/MAr",defaultMessage:"Get Pro"},getBusiness:{id:"V3AJYL",defaultMessage:"Get Business"},tryPlus:{id:"lhUk0N",defaultMessage:"Try Plus"},tryBusiness:{id:"D5Q+Xo",defaultMessage:"Try Business"},tryGo:{id:"OkPnQG",defaultMessage:"Try Go"},upgradeToPlus:{id:"LIJKv1",defaultMessage:"Upgrade to Plus"},upgradeToPro:{id:"U92S4K",defaultMessage:"Upgrade to Pro"},upgradeToGo:{id:"xbeQTB",defaultMessage:"Upgrade to Go"},joinGo:{id:"w4EEKa",defaultMessage:"Join Go"},joinPlus:{id:"HmtUzT",defaultMessage:"Join Plus"},joinPro:{id:"Ehp9lH",defaultMessage:"Join Pro"},unlockGo:{id:"C3xzfi",defaultMessage:"Unlock Go"},unlockPlus:{id:"W3hk8e",defaultMessage:"Unlock Plus"},unlockPro:{id:"TXstaY",defaultMessage:"Unlock Pro"},longCtaPlus:{id:"kp6hSg",defaultMessage:"Get better, faster answers"},longCtaPro:{id:"SEKq+P",defaultMessage:"Unlock all of ChatGPT"},upgradeYourPlan:{id:"aWGaHN",defaultMessage:"Upgrade your plan"},upgradePlan:{id:"N8cHz1",defaultMessage:"Upgrade plan"},upgrade:{id:"0CZNA2",defaultMessage:"Upgrade"},upgradeForFree:{id:"c1Drc7",defaultMessage:"Upgrade for free"},featureProjectsTasksCustomGPTs:{id:"pricing.plusRedesign.feature.projectsTasksCustomGPTs",defaultMessage:"Projects, tasks, custom GPTs"},maybeLater:{id:"common-message.maybeLater",defaultMessage:"Maybe later"},dismissUpgradeReminder:{id:"common-message.dismissUpgradeReminder",defaultMessage:"Dismiss upgrade reminder"},confirm:{id:"common-message.confirm",defaultMessage:"Confirm"},cancel:{id:"common-message.cancel",defaultMessage:"Cancel"},tryPlusTrial:{id:"common-message.tryPlusFree",defaultMessage:"Try Plus free"},tryGoTrial:{id:"common-message.tryGoFree",defaultMessage:"Try Go free"},chatGPT:{id:"common-message.chatGPT",defaultMessage:"ChatGPT"},connect:{id:"common-message.connect",defaultMessage:"Connect"},notApplicable:{id:"common-message.notApplicable",defaultMessage:"N/A"},contactSales:{id:"common-message.contactSales",defaultMessage:"Contact Sales"},close:{id:"common-message.close",defaultMessage:"Close"},specialOffer:{id:"pricingPlanConstants.specialOffer",defaultMessage:"SPECIAL OFFER"},title:{id:"meta.title",defaultMessage:"ChatGPT | Smart, Fast & Free AI Chat"},planNameGo:{id:"common-message.planNameGo",defaultMessage:"Go"},planNamePlus:{id:"common-message.planNamePlus",defaultMessage:"Plus"},planNamePro:{id:"common-message.planNamePro",defaultMessage:"Pro"},planNameBusiness:{id:"common-message.planNameBusiness",defaultMessage:"Business"}});var Ise=(e=>(e.APPLE="apple",e))(Ise||{});const Pse="gpt-4o",c6e=Pse;var Rse=(e=>(e.NoAuthPlan="ifpazk",e))(Rse||{}),xse=(e=>(e.Go="zkl",e.Plus="ioaj",e.Pro="1k0d2",e.Business="oicnw",e))(xse||{}),iW=(e=>(e.GPT_3_5="gpt3.5",e.GPT_4="gpt4",e.GPT_4o="gpt4o",e.HIDDEN="hidden",e))(iW||{});const rN="WEB:",l6e="".concat(rN,":DUMMY");var oW=(e=>(e.Next="next",e.Variant="variant",e.Continue="continue",e))(oW||{}),je=(e=>(e.Root="root",e.User="user",e.Assistant="assistant",e.System="system",e.Critic="critic",e.Tool="tool",e.Developer="developer",e))(je||{}),Ls=(e=>(e.PrimaryAssistant="primary_assistant",e.GizmoInteraction="gizmo_interaction",e.GizmoMagicCreate="gizmo_magic_create",e.GizmoTest="gizmo_test",e.FlyingCircusCustomization="flying_circus_customization",e))(Ls||{});const rt={Web:"web",Cloud:"cloud",GitHub:"github",GoogleDrive:"google_drive",GoogleCalendar:"google_calendar",Gmail:"gmail",GoogleContacts:"google_contacts",Dropbox:"dropbox",Linear:"linear",Sharepoint:"sharepoint",Teams:"teams",OutlookEmail:"outlook_email",OutlookCalendar:"outlook_calendar",Box:"box",Intercom:"intercom",Hubspot:"hubspot",Salesforce:"salesforce",Aha:"aha",Asana:"asana",AzureDevOps:"azure_devops",Basecamp:"basecamp",Clickup:"clickup",Front:"front",Gitlab:"gitlab",Gorgias:"gorgias",HelpScout:"help_scout",Ironclad:"ironclad",Pipedrive:"pipedrive",Shortcut:"shortcut",Teamwork:"teamwork",Zendesk:"zendesk",Zoho:"zoho",ZohoDesk:"zoho_desk",Canva:"canva",Notion:"notion",Slack:"slack",Confluence:"confluence",Jira:"jira",JiraServiceManagement:"jira_servicemanagement"};var Mse=(e=>(e.None="none",e.OAuth="oauth",e.ServiceHTTP="service_http",e))(Mse||{}),kse=(e=>(e.CONVERSATION="conversation",e.REGENERATE="regenerate",e))(kse||{}),Lse=(e=>(e.UNSUPPORTED_ATTACHMENT="unsupported_attachment",e.UNSUPPORTED_AUDIO="unsupported_audio",e.UNSUPPORTED_IMAGE="unsupported_image",e.UNSUPPORTED_TOOL_USE="unsupported_tool_use",e.UNSUPPORTED_GIZMO="unsupported_gizmo",e.UNSUPPORTED_CUSTOM_INSTRUCTIONS="unsupported_custom_instructions",e.UNSUPPORTED_TEMPORARY_CHAT="unsupported_temporary_chat",e.UNSUPPORTED_CANVAS="unsupported_canvas",e))(Lse||{}),Dse=(e=>(e.RATE_LIMIT="rate_limit",e))(Dse||{}),Fse=(e=>(e.USER_VISIBLE_TOKEN="user_visible_token",e.COT_TOKEN="cot_token",e.NAVLINK_TOKEN="navlink_token",e))(Fse||{}),Use=(e=>(e.First="first",e))(Use||{}),Be=(e=>(e.Text="text",e.MultimodalText="multimodal_text",e.StructuredThoughts="thoughts",e.ReasoningRecap="reasoning_recap",e.TetherBrowsingCode="tether_browsing_code",e.Code="code",e.ExecutionOutput="execution_output",e.SystemError="system_error",e.SystemMessage="system_message",e.SystemContent="system_content",e.DeveloperContent="developer_content",e.TetherBrowsingDisplay="tether_browsing_display",e.TetherQuote="tether_quote",e.UserEditableContext="user_editable_context",e.ModelEditableContext="model_editable_context",e.SonicWebpage="sonic_webpage",e.ComputerOutput="computer_output",e.Error="error",e.SuperWidget="super_widget",e.CitableCodeOutput="citable_code_output",e))(Be||{}),Vn=(e=>(e.Audio="audio",e.AudioAssetPointer="audio_asset_pointer",e.ImageAssetPointer="image_asset_pointer",e.Image="image",e.AudioTranscription="audio_transcription",e.RealTimeUserAudioVideoAssetPointer="real_time_user_audio_video_asset_pointer",e.SimpleImageAssetPointer="simple_image_asset_pointer",e.ArbitraryAssetPointer="arbitrary_asset_pointer",e.VideoAssetPointer="video_asset_pointer",e))(Vn||{}),Ef=(e=>(e.Picker="Picker",e.Link="Link",e))(Ef||{}),mr=(e=>(e.SEND="send",e.GIZMO_TAG="gizmo_tag",e.FILE_UPLOAD="file_upload",e.PASTE_TEXT_TO_FILE="paste_text_to_file",e.REASON="reason",e.DEEP_RESEARCH="deep_research",e.IMAGE_GEN="image_gen",e.WHAM="wham",e.ODYSSEY="odyssey",e))(mr||{}),jse=(e=>(e.AUTHENTICATE="authenticate",e.AUTHENTICATE_SECONDARY="authenticate_secondary",e.NEW_CHAT="new_chat",e.DEEP_RESEARCH_IN_CONTEXT_UPSELL="deep_research_in_context_upsell",e.TRY_CODEX="try_codex",e.TRY_TATERTOT="try_tatertot",e.NOTIFY_ADMIN_FOR_CREDITS="notify_admin_for_credits",e.ADD_CREDITS="add_credits",e.CONNECT_CONNECTOR="connect_connector",e.UPGRADE_TO_GO="upgrade_to_go",e.GET_PLUS="get_plus",e.GET_PRO="get_pro",e.GET_BUSINESS="get_business",e.GET_BUSINESS_TRIAL="get_business_trial",e.GET_PLUS_TRIAL="get_plus_trial",e.GET_GO_TRIAL="get_go_trial",e))(jse||{}),sN=(e=>(e.DEEP_RESEARCH="deep_research",e.ODYSSEY="odyssey",e))(sN||{}),Bse=(e=>(e.VIEW="view",e.CLICK="click",e.DISMISS="dismiss",e))(Bse||{}),Gse=(e=>(e.FILE_UPLOAD="file_upload",e.PHOTO_UPLOAD="photo_upload",e.AUTHENTICATE_LOGIN="authenticate_login",e.AUTHENTICATE_SIGNUP="authenticate_signup",e.GET_PLUS="get_plus",e.GET_PRO="get_pro",e.SYSTEM_HINT="system_hint",e.DISMISS="dismiss",e.GET_GO="get_go",e.GET_TEAM="get_team",e.INVITE_TEAM_MEMBERS="invite_team_members",e.OPEN_URL="open_url",e.OPEN_LOCAL_URL="open_local_url",e.COPY_TO_CLIPBOARD="copy_to_clipboard",e.SHARE_CONVERSATION="share_conversation",e.UPDATE_MODEL_PICKER="update_model_picker",e.CREATE_PROMPT="create_prompt",e.UPDATE_PERSONALITY_TRAIT="update_personality_trait",e.DROPDOWN="dropdown",e.REGENERATE="regenerate",e.OPEN_CONNECTORS_ONBOARDING_MODAL="open_connectors_onboarding_modal",e.OPEN_CLAIM_BUSINESS_WORKSPACE_MODAL="open_claim_business_workspace_modal",e))(Gse||{}),Wse=(e=>(e.PRIMARY="primary",e.SECONDARY="secondary",e.COPY="copy",e.DROPDOWN="dropdown",e))(Wse||{}),Hse=(e=>(e.DEFAULT="default",e.COMPOSER="composer",e))(Hse||{}),$se=(e=>(e.DISMISS_ON_SEND="dismiss_on_send",e.PERSISTENT="persistent",e))($se||{}),AA=(e=>(e.SystemHint="systemHint",e.EcosystemMention="ecosystemMention",e))(AA||{});function u6e(e){return"start_index"in e?{startIndex:e.start_index,endIndex:e.end_index,symbol:e.symbol}:e}var qse=(e=>(e.InstantQuery="instant_query",e.ComposerSearch="composer_search",e.UrlSearch="url_search",e))(qse||{}),Vse=(e=>(e.ONLY_ME="only_me",e.OPENAI="openai",e.EXTERNAL="external",e))(Vse||{}),zse=(e=>(e.RiskyDomainNotWatching="risky_domain_not_watching",e.UserInterrupted="user_interrupted",e.MaliciousInstructionDetected="malicious_instruction_detected",e.ModerationBlocked="moderation_blocked",e.Unknown="unknown",e))(zse||{}),Yse=(e=>(e.ToolWeb="tool:web",e.Onboarding="onboarding",e.AppPairing="tool:app-pairing",e.IPL="campaign:ipl",e))(Yse||{}),aW=(e=>(e.Search="search",e.Canvas="canvas",e.ImageGen="image_gen_tool_enabled",e))(aW||{}),cW=(e=>(e.Search="search",e.Click="click",e.MultiClick="mclick",e.Lookup="lookup",e.OpenUrl="open_url",e.Open="open",e.Quote="quote",e.QuoteFull="quote_full",e.QuoteLines="quote_lines",e.Back="back",e.Scroll="scroll",e.Spinner="spinner",e))(cW||{}),Kse=(e=>(e.Bing="bing",e.Fortis="fortis",e))(Kse||{}),Xse=(e=>(e.Starting="starting",e.Running="running",e.Done="done",e.Timeout="timeout",e.Error="error",e.Cancelled="cancelled",e))(Xse||{}),Jse=(e=>(e.AUTO="auto",e.GPT5="gpt-5",e.GPT5_PRO="gpt-5-pro",e))(Jse||{}),Jn=(e=>(e.AUTO="auto",e.ON="reasoning",e.OFF="none",e.PRO="pro",e))(Jn||{});const Qse="~oai~s1~";function Zse(e){let t=2166136261;for(let n=0,r=e.length;n<r;n++){const s=e.charCodeAt(n);t=Math.imul(t^s&255,16777619),t=Math.imul(t^s&65280,16777619)}return t>>>0}function $o(e,t){if(typeof e!="number")throw new Error("Unexpected: ".concat(e));return t!=null&&e===eie(t)}const UM={};function eie(e){var t;return(t=UM[e])!=null?t:UM[e]=Zse(Qse+e)}const d6e="n7jupd",lW="-0dy553y",tie=1338619165;function uW(e){return $o(tie,e+lW)}const nie=3675352570;function f6e(e){return $o(nie,e+lW)}var rie=(e=>(e[e.Setup=0]="Setup",e[e.Random=1]="Random",e[e.Animation=2]="Animation",e[e.Done=3]="Done",e[e.Thinking=4]="Thinking",e[e.KAUR1BR5=5]="KAUR1BR5",e[e.Research=6]="Research",e[e.Autoswitch=7]="Autoswitch",e))(rie||{});const iN="agent",re={Search:"search",Think:"reason",Research:"research",Canvas:"canvas",Picture:"picture",PictureV2:"picture_v2",Video:"video",Slurm:"slurm",ApiTool:"api_tool",Pineapple:"pineapple",Moonshine:"moonshine",Tatertot:"tatertot",Agent:"agent",Glaux:"glaux",WebHistory:"hippo"},oN="synthetic_connector";function eu(e){return e===oN||Mc(e)}function sie(e){return Mc(e)||cie(e)?!0:Object.values(re).includes(e)}function iie(e){return sie(e)?e:aie[e]}const oie="study",aie={connectors:re.Slurm,image:re.PictureV2,think:re.Think,[oie]:re.Tatertot,"company-knowledge":re.Glaux};function Mc(e){return typeof e=="string"&&e.startsWith("connector:")}function cie(e){return typeof e=="string"&&e.startsWith("context_scope:")}function dW(e){return"connector:".concat(e)}function h6e(e){if(Mc(e))return fW(e)}function fW(e){return e.split("connector:")[1]}var hW=Symbol.for("immer-nothing"),jM=Symbol.for("immer-draftable"),Ct=Symbol.for("immer-state");function ts(e,...t){throw new Error("[Immer] minified error nr: ".concat(e,". Full error at: https://bit.ly/3cXEKWf"))}var gu=Object.getPrototypeOf;function vu(e){return!!e&&!!e[Ct]}function so(e){var t;return e?pW(e)||Array.isArray(e)||!!e[jM]||!!((t=e.constructor)!=null&&t[jM])||jg(e)||Bg(e):!1}var lie=Object.prototype.constructor.toString();function pW(e){if(!e||typeof e!="object")return!1;const t=gu(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===lie}function yu(e,t){Ug(e)===0?Object.entries(e).forEach(([n,r])=>{t(n,r,e)}):e.forEach((n,r)=>t(r,n,e))}function Ug(e){const t=e[Ct];return t?t.type_:Array.isArray(e)?1:jg(e)?2:Bg(e)?3:0}function wA(e,t){return Ug(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function _W(e,t,n){const r=Ug(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function uie(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function jg(e){return e instanceof Map}function Bg(e){return e instanceof Set}function Pn(e){return e.copy_||e.base_}function NA(e,t){if(jg(e))return new Map(e);if(Bg(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);if(!t&&pW(e))return gu(e)?b({},e):Object.assign(Object.create(null),e);const n=Object.getOwnPropertyDescriptors(e);delete n[Ct];let r=Reflect.ownKeys(n);for(let s=0;s<r.length;s++){const i=r[s],o=n[i];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(gu(e),n)}function aN(e,t=!1){return Gg(e)||vu(e)||!so(e)||(Ug(e)>1&&(e.set=e.add=e.clear=e.delete=die),Object.freeze(e),t&&yu(e,(n,r)=>aN(r,!0))),e}function die(){ts(2)}function Gg(e){return Object.isFrozen(e)}var IA={};function kc(e){const t=IA[e];return t||ts(0,e),t}function fie(e,t){IA[e]||(IA[e]=t)}var Cf;function hm(){return Cf}function hie(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function BM(e,t){t&&(kc("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function PA(e){RA(e),e.drafts_.forEach(pie),e.drafts_=null}function RA(e){e===Cf&&(Cf=e.parent_)}function GM(e){return Cf=hie(Cf,e)}function pie(e){const t=e[Ct];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function WM(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Ct].modified_&&(PA(t),ts(4)),so(e)&&(e=pm(t,e),t.parent_||_m(t,e)),t.patches_&&kc("Patches").generateReplacementPatches_(n[Ct].base_,e,t.patches_,t.inversePatches_)):e=pm(t,n,[]),PA(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==hW?e:void 0}function pm(e,t,n){if(Gg(t))return t;const r=t[Ct];if(!r)return yu(t,(s,i)=>HM(e,r,t,s,i,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return _m(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const s=r.copy_;let i=s,o=!1;r.type_===3&&(i=new Set(s),s.clear(),o=!0),yu(i,(a,c)=>HM(e,r,s,a,c,n,o)),_m(e,s,!1),n&&e.patches_&&kc("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function HM(e,t,n,r,s,i,o){if(vu(s)){const a=i&&t&&t.type_!==3&&!wA(t.assigned_,r)?i.concat(r):void 0,c=pm(e,s,a);if(_W(n,r,c),vu(c))e.canAutoFreeze_=!1;else return}else o&&n.add(s);if(so(s)&&!Gg(s)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;pm(e,s),(!t||!t.scope_.parent_)&&_m(e,s)}}function _m(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&aN(t,n)}function _ie(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:hm(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=r,i=cN;n&&(s=[r],i=Sf);const{revoke:o,proxy:a}=Proxy.revocable(s,i);return r.draft_=a,r.revoke_=o,a}var cN={get(e,t){if(t===Ct)return e;const n=Pn(e);if(!wA(n,t))return mie(e,n,t);const r=n[t];return e.finalized_||!so(r)?r:r===TE(e.base_,t)?(OE(e),e.copy_[t]=bf(r,e)):r},has(e,t){return t in Pn(e)},ownKeys(e){return Reflect.ownKeys(Pn(e))},set(e,t,n){const r=mW(Pn(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const s=TE(Pn(e),t),i=s==null?void 0:s[Ct];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(uie(n,s)&&(n!==void 0||wA(e.base_,t)))return!0;OE(e),Ui(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return TE(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,OE(e),Ui(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Pn(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){ts(11)},getPrototypeOf(e){return gu(e.base_)},setPrototypeOf(){ts(12)}},Sf={};yu(cN,(e,t)=>{Sf[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Sf.deleteProperty=function(e,t){return Sf.set.call(this,e,t,void 0)};Sf.set=function(e,t,n){return cN.set.call(this,e[0],t,n,e[0])};function TE(e,t){const n=e[Ct];return(n?Pn(n):e)[t]}function mie(e,t,n){var s;const r=mW(t,n);return r?"value"in r?r.value:(s=r.get)==null?void 0:s.call(e.draft_):void 0}function mW(e,t){if(!(t in e))return;let n=gu(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=gu(n)}}function Ui(e){e.modified_||(e.modified_=!0,e.parent_&&Ui(e.parent_))}function OE(e){e.copy_||(e.copy_=NA(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var gie=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const i=n;n=t;const o=this;return function(c=i,...l){return o.produce(c,u=>n.call(this,u,...l))}}typeof n!="function"&&ts(6),r!==void 0&&typeof r!="function"&&ts(7);let s;if(so(t)){const i=GM(this),o=bf(t,void 0);let a=!0;try{s=n(o),a=!1}finally{a?PA(i):RA(i)}return BM(i,r),WM(s,i)}else if(!t||typeof t!="object"){if(s=n(t),s===void 0&&(s=t),s===hW&&(s=void 0),this.autoFreeze_&&aN(s,!0),r){const i=[],o=[];kc("Patches").generateReplacementPatches_(t,s,i,o),r(i,o)}return s}else ts(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(o,...a)=>this.produceWithPatches(o,c=>t(c,...a));let r,s;return[this.produce(t,n,(o,a)=>{r=o,s=a}),r,s]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){so(e)||ts(8),vu(e)&&(e=vie(e));const t=GM(this),n=bf(e,void 0);return n[Ct].isManual_=!0,RA(t),n}finishDraft(e,t){const n=e&&e[Ct];(!n||!n.isManual_)&&ts(9);const{scope_:r}=n;return BM(r,t),WM(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const s=t[n];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}n>-1&&(t=t.slice(n+1));const r=kc("Patches").applyPatches_;return vu(e)?r(e,t):this.produce(e,s=>r(s,t))}};function bf(e,t){const n=jg(e)?kc("MapSet").proxyMap_(e,t):Bg(e)?kc("MapSet").proxySet_(e,t):_ie(e,t);return(t?t.scope_:hm()).drafts_.push(n),n}function vie(e){return vu(e)||ts(10,e),gW(e)}function gW(e){if(!so(e)||Gg(e))return e;const t=e[Ct];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=NA(e,t.scope_.immer_.useStrictShallowCopy_)}else n=NA(e,!0);return yu(n,(r,s)=>{_W(n,r,gW(s))}),t&&(t.finalized_=!1),n}function yie(){class e extends Map{constructor(c,l){super(),this[Ct]={type_:2,parent_:l,scope_:l?l.scope_:hm(),modified_:!1,finalized_:!1,copy_:void 0,assigned_:void 0,base_:c,draft_:this,isManual_:!1,revoked_:!1}}get size(){return Pn(this[Ct]).size}has(c){return Pn(this[Ct]).has(c)}set(c,l){const u=this[Ct];return o(u),(!Pn(u).has(c)||Pn(u).get(c)!==l)&&(n(u),Ui(u),u.assigned_.set(c,!0),u.copy_.set(c,l),u.assigned_.set(c,!0)),this}delete(c){if(!this.has(c))return!1;const l=this[Ct];return o(l),n(l),Ui(l),l.base_.has(c)?l.assigned_.set(c,!1):l.assigned_.delete(c),l.copy_.delete(c),!0}clear(){const c=this[Ct];o(c),Pn(c).size&&(n(c),Ui(c),c.assigned_=new Map,yu(c.base_,l=>{c.assigned_.set(l,!1)}),c.copy_.clear())}forEach(c,l){const u=this[Ct];Pn(u).forEach((d,f,h)=>{c.call(l,this.get(f),f,this)})}get(c){const l=this[Ct];o(l);const u=Pn(l).get(c);if(l.finalized_||!so(u)||u!==l.base_.get(c))return u;const d=bf(u,l);return n(l),l.copy_.set(c,d),d}keys(){return Pn(this[Ct]).keys()}values(){const c=this.keys();return{[Symbol.iterator]:()=>this.values(),next:()=>{const l=c.next();return l.done?l:{done:!1,value:this.get(l.value)}}}}entries(){const c=this.keys();return{[Symbol.iterator]:()=>this.entries(),next:()=>{const l=c.next();if(l.done)return l;const u=this.get(l.value);return{done:!1,value:[l.value,u]}}}}[Symbol.iterator](){return this.entries()}}function t(a,c){return new e(a,c)}function n(a){a.copy_||(a.assigned_=new Map,a.copy_=new Map(a.base_))}class r extends Set{constructor(c,l){super(),this[Ct]={type_:3,parent_:l,scope_:l?l.scope_:hm(),modified_:!1,finalized_:!1,copy_:void 0,base_:c,draft_:this,drafts_:new Map,revoked_:!1,isManual_:!1}}get size(){return Pn(this[Ct]).size}has(c){const l=this[Ct];return o(l),l.copy_?!!(l.copy_.has(c)||l.drafts_.has(c)&&l.copy_.has(l.drafts_.get(c))):l.base_.has(c)}add(c){const l=this[Ct];return o(l),this.has(c)||(i(l),Ui(l),l.copy_.add(c)),this}delete(c){if(!this.has(c))return!1;const l=this[Ct];return o(l),i(l),Ui(l),l.copy_.delete(c)||(l.drafts_.has(c)?l.copy_.delete(l.drafts_.get(c)):!1)}clear(){const c=this[Ct];o(c),Pn(c).size&&(i(c),Ui(c),c.copy_.clear())}values(){const c=this[Ct];return o(c),i(c),c.copy_.values()}entries(){const c=this[Ct];return o(c),i(c),c.copy_.entries()}keys(){return this.values()}[Symbol.iterator](){return this.values()}forEach(c,l){const u=this.values();let d=u.next();for(;!d.done;)c.call(l,d.value,d.value,this),d=u.next()}}function s(a,c){return new r(a,c)}function i(a){a.copy_||(a.copy_=new Set,a.base_.forEach(c=>{if(so(c)){const l=bf(c,a);a.drafts_.set(c,l),a.copy_.add(l)}else a.copy_.add(c)}))}function o(a){a.revoked_&&ts(3,JSON.stringify(Pn(a)))}fie("MapSet",{proxyMap_:t,proxySet_:s})}var jr=new gie,Ss=jr.produce;jr.produceWithPatches.bind(jr);jr.setAutoFreeze.bind(jr);jr.setUseStrictShallowCopy.bind(jr);jr.applyPatches.bind(jr);jr.createDraft.bind(jr);jr.finishDraft.bind(jr);const Eie=e=>(t,n,r)=>(r.setState=(s,i,...o)=>{const a=typeof s=="function"?Ss(s):s;return t(a,i,...o)},e(r.setState,n,r)),ju=Eie,Cie={bannerInfo:null,modelLimits:[],blockedFeatures:[],isInitialLoad:!0,limitsProgress:[]},Mr=cr(ju(()=>b({},Cie))),lN={[re.Research]:mr.DEEP_RESEARCH,[re.PictureV2]:mr.IMAGE_GEN,[re.Think]:mr.REASON};lN[iN]=mr.ODYSSEY;const p6e=e=>{var t;return uW(e)?mr.ODYSSEY:(t=lN[e])!=null?t:null},_6e=e=>{for(const[t,n]of Object.entries(lN))if(n===e)return t;return null},Sie={[re.Research]:sN.DEEP_RESEARCH};function bie(e){var t;return uW(e)?sN.ODYSSEY:(t=Sie[e])!=null?t:null}function yi(e){return new Date(e.resets_after)>new Date}const m6e=e=>{var r,s;const t=((s=(r=e.model_limits)==null?void 0:r.filter(yi))!=null?s:[]).map(i=>i.model_slug),n=new Set(Mr.getState().modelLimits.filter(yi).map(i=>i.model_slug));return t.length!==n.size||!t.every(i=>n.has(i))},Tie={updateDetails:({banner_info:e,model_limits:t,blocked_features:n,limits_progress:r})=>{Mr.setState(s=>{s.bannerInfo=e,s.isInitialLoad=!1,s.blockedFeatures=s.blockedFeatures.concat(n).filter(yi),s.modelLimits=s.modelLimits.concat(t!=null?t:[]).filter(yi),s.limitsProgress=r!=null?r:[]})},dismissBanner:()=>{Mr.setState(e=>{e.bannerInfo=null})},reset:()=>{Mr.setState(e=>{e.blockedFeatures=[],e.bannerInfo=null})}};function g6e(){return Mr(({bannerInfo:e})=>{const{resets_after:t}=e!=null?e:{};return!e||t!=null&&!yi({resets_after:t})?null:e})}function Wg(e){return Mr(({blockedFeatures:t})=>{if(!e)return null;const n=t.find(({name:r})=>r===e);return n&&yi(n)?n:null})}function Oie(){return Wg(mr.SEND)}function v6e(){return!!Oie()}function y6e(){return Wg(mr.FILE_UPLOAD)}function E6e(){return Wg(mr.GIZMO_TAG)}function C6e(){return Wg(mr.DEEP_RESEARCH)}function S6e(){return Mr(({modelLimits:t})=>t).filter(yi)}const Aie=Ie(()=>Ag(Mr,{selector:e=>e.modelLimits.filter(yi)}));function wie(e){return Mr(({limitsProgress:n})=>n).filter(n=>e(I(b({},n),{bySystemHint:r=>n.feature_name===bie(r)})))[0]}function b6e(){return Mr(({blockedFeatures:t})=>t).filter(yi)}const Nie=cr(()=>null),Iie=cr(()=>null);var vW=(e=>(e.UnexpectedSSOLogin="unexpected_sso_login",e.SSOMismatch="sso_mismatch",e.RequireSSOLogin="require_sso_login",e))(vW||{});const Pie=Object.freeze(new Set(Object.values(vW)));function Rie(e){return e?Pie.has(e):!1}const xie=cr(()=>null),$M=(e,t,n)=>{const r=e[t];return r?typeof r=="function"?r():Promise.resolve(r):new Promise((s,i)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(i.bind(null,new Error("Unknown variable dynamic import: "+t+(t.split("/").length!==n?". Note that variables only represent file names one level deep.":""))))})},Oh="en-US",T6e=["am","ar","bg-BG","bn-BD","bs-BA","ca-ES","cs-CZ","da-DK","de-DE","el-GR","en-US","es-419","es-ES","et-EE","fi-FI","fr-CA","fr-FR","gu-IN","hi-IN","hr-HR","hu-HU","hy-AM","id-ID","is-IS","it-IT","ja-JP","ka-GE","kk","kn-IN","ko-KR","lt","lv-LV","mk-MK","ml","mn","mr-IN","ms-MY","my-MM","nb-NO","nl-NL","pa","pl-PL","pt-BR","pt-PT","ro-RO","ru-RU","sk-SK","sl-SI","so-SO","sq-AL","sr-RS","sv-SE","sw-TZ","ta-IN","te-IN","th-TH","tl","tr-TR","uk-UA","ur","vi-VN","zh-CN","zh-HK","zh-TW"],Mie=["es-419","fr-FR","zh-TW"],O6e={am:"áŠ áˆ›áˆ­áŠ›",ar:"Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©","bg-BG":"Ð±ÑŠÐ»Ð³Ð°Ñ€ÑÐºÐ¸","bn-BD":"à¦¬à¦¾à¦‚à¦²à¦¾","bs-BA":"bosanski","ca-ES":"catalÃ ","cs-CZ":"ÄeÅ¡tina","da-DK":"dansk","de-DE":"Deutsch","el-GR":"Î•Î»Î»Î·Î½Î¹ÎºÎ¬","en-US":"English (US)","es-419":"espaÃ±ol (LatinoamÃ©rica)","es-ES":"espaÃ±ol (EspaÃ±a)","et-EE":"eesti","fi-FI":"suomi","fr-CA":"franÃ§ais (Canada)","fr-FR":"franÃ§ais (France)","gu-IN":"àª—à«àªœàª°àª¾àª¤à«€","hi-IN":"à¤¹à¤¿à¤¨à¥à¤¦à¥€","hr-HR":"hrvatski","hu-HU":"magyar","hy-AM":"Õ°Õ¡ÕµÕ¥Ö€Õ¥Õ¶","id-ID":"Indonesia","is-IS":"Ã­slenska","it-IT":"italiano","ja-JP":"æ—¥æœ¬èªž","ka-GE":"áƒ¥áƒáƒ áƒ—áƒ£áƒšáƒ˜",kk:"Ò›Ð°Ð·Ð°Ò› Ñ‚Ñ–Ð»Ñ–","kn-IN":"à²•à²¨à³à²¨à²¡","ko-KR":"í•œêµ­ì–´",lt:"lietuviÅ³","lv-LV":"latvieÅ¡u","mk-MK":"Ð¼Ð°ÐºÐµÐ´Ð¾Ð½ÑÐºÐ¸",ml:"à´®à´²à´¯à´¾à´³à´‚",mn:"Ð¼Ð¾Ð½Ð³Ð¾Ð»","mr-IN":"à¤®à¤°à¤¾à¤ à¥€","ms-MY":"Bahasa Melayu","my-MM":"á€™á€¼á€”á€ºá€™á€¬","nb-NO":"norsk bokmÃ¥l","nl-NL":"Nederlands",pa:"à¨ªà©°à¨œà¨¾à¨¬à©€","pl-PL":"polski","pt-BR":"portuguÃªs (Brasil)","pt-PT":"portuguÃªs (Portugal)","ro-RO":"romÃ¢nÄƒ","ru-RU":"Ñ€ÑƒÑÑÐºÐ¸Ð¹","sk-SK":"slovenÄina","sl-SI":"slovenÅ¡Äina","so-SO":"Soomaali","sq-AL":"shqip","sr-RS":"ÑÑ€Ð¿ÑÐºÐ¸","sv-SE":"svenska","sw-TZ":"Kiswahili","ta-IN":"à®¤à®®à®¿à®´à¯","te-IN":"à°¤à±†à°²à±à°—à±","th-TH":"à¹„à¸—à¸¢",tl:"Tagalog","tr-TR":"TÃ¼rkÃ§e","uk-UA":"ÑƒÐºÑ€Ð°Ñ—Ð½ÑÑŒÐºÐ°",ur:"Ø§Ø±Ø¯Ùˆ","vi-VN":"Tiáº¿ng Viá»‡t","zh-CN":"ç®€ä½“ä¸­æ–‡","zh-HK":"ç¹é«”ä¸­æ–‡ï¼ˆé¦™æ¸¯ï¼‰","zh-TW":"ç¹é«”ä¸­æ–‡ï¼ˆå°ç£ï¼‰"};function kie(){return Array.from(new Set(Object.values(xd)))}const xd={am:"am",ar:"ar",bg:"bg-BG","bg-bg":"bg-BG",bn:"bn-BD","bn-bd":"bn-BD",bs:"bs-BA","bs-ba":"bs-BA",ca:"ca-ES","ca-es":"ca-ES",cs:"cs-CZ","cs-cz":"cs-CZ",da:"da-DK","da-dk":"da-DK",de:"de-DE","de-de":"de-DE",el:"el-GR","el-gr":"el-GR",en:"en-US","en-us":"en-US",es:"es-ES","es-es":"es-ES","es-419":"es-419","es-ar":"es-419","es-bo":"es-419","es-br":"es-419","es-bz":"es-419","es-cl":"es-419","es-co":"es-419","es-cr":"es-419","es-cu":"es-419","es-do":"es-419","es-ec":"es-419","es-gt":"es-419","es-hn":"es-419","es-jp":"es-419","es-mx":"es-419","es-ni":"es-419","es-pa":"es-419","es-pe":"es-419","es-pr":"es-419","es-py":"es-419","es-sv":"es-419","es-us":"es-419","es-uy":"es-419","es-ve":"es-419",et:"et-EE","et-ee":"et-EE",fi:"fi-FI","fi-fi":"fi-FI",fr:"fr-FR","fr-ca":"fr-CA","fr-fr":"fr-FR",gu:"gu-IN","gu-in":"gu-IN",hi:"hi-IN","hi-in":"hi-IN",hr:"hr-HR","hr-hr":"hr-HR",hu:"hu-HU","hu-hu":"hu-HU",hy:"hy-AM","hy-am":"hy-AM",id:"id-ID","id-id":"id-ID",is:"is-IS","is-is":"is-IS",it:"it-IT","it-it":"it-IT",ja:"ja-JP","ja-jp":"ja-JP",ka:"ka-GE","ka-ge":"ka-GE",kk:"kk",kn:"kn-IN","kn-in":"kn-IN",ko:"ko-KR","ko-kr":"ko-KR",lt:"lt",lv:"lv-LV","lv-lv":"lv-LV",mk:"mk-MK","mk-mk":"mk-MK",ml:"ml",mn:"mn",mr:"mr-IN","mr-in":"mr-IN",ms:"ms-MY","ms-my":"ms-MY",my:"my-MM","my-mm":"my-MM",nb:"nb-NO","nb-no":"nb-NO",nl:"nl-NL","nl-nl":"nl-NL",pa:"pa",pl:"pl-PL","pl-pl":"pl-PL",pt:"pt-BR","pt-br":"pt-BR","pt-pt":"pt-PT","pt-ao":"pt-PT","pt-ch":"pt-PT","pt-cv":"pt-PT","pt-fr":"pt-PT","pt-gq":"pt-PT","pt-gw":"pt-PT","pt-lu":"pt-PT","pt-mo":"pt-PT","pt-mz":"pt-PT","pt-st":"pt-PT","pt-tl":"pt-PT",ro:"ro-RO","ro-ro":"ro-RO",ru:"ru-RU","ru-ru":"ru-RU",sk:"sk-SK","sk-sk":"sk-SK",sl:"sl-SI","sl-si":"sl-SI",so:"so-SO","so-so":"so-SO",sq:"sq-AL","sq-al":"sq-AL",sr:"sr-RS","sr-rs":"sr-RS",sv:"sv-SE","sv-se":"sv-SE",sw:"sw-TZ","sw-tz":"sw-TZ",ta:"ta-IN","ta-in":"ta-IN",te:"te-IN","te-in":"te-IN",th:"th-TH","th-th":"th-TH",tl:"tl",tr:"tr-TR","tr-tr":"tr-TR",uk:"uk-UA","uk-ua":"uk-UA",ur:"ur",vi:"vi-VN","vi-vn":"vi-VN",zh:"zh-CN","zh-cn":"zh-CN","zh-hans":"zh-CN","zh-hans-cn":"zh-CN","zh-tw":"zh-TW","zh-hant":"zh-TW","zh-hant-tw":"zh-TW","zh-hk":"zh-HK","zh-hant-hk":"zh-HK"},yW=new Set(["ar"]);function Hg(e){const t=e.replace("_","-").toLowerCase();if(t in xd)return xd[t];const n=t.split("-");for(let r=n.length-1;r>=1;r--){const s=n.slice(0,r).join("-");if(s in xd)return xd[s]}return null}const Qd={};function EW(e){return Mie.includes(e)}async function Lie(e,t){return e===Oh?Qd:(await(EW(e)&&t?$M(Object.assign({"./locales-mt/es-419.json":()=>ne(()=>import("./cje8q7rdxygtwbcg.js"),[]),"./locales-mt/fr-FR.json":()=>ne(()=>import("./o7xw3emgl6p7c0co.js"),[]),"./locales-mt/zh-TW.json":()=>ne(()=>import("./b9jqxfpzglu4u7xc.js"),[])}),"./locales-mt/".concat(e,".json"),3):$M(Object.assign({"./locales/am.json":()=>ne(()=>import("./h8w7qdabgrjs1os8.js"),[]),"./locales/ar.json":()=>ne(()=>import("./hxo0vbigididu11a.js"),[]),"./locales/bg-BG.json":()=>ne(()=>import("./h4ka0w0ub15rfz5b.js"),[]),"./locales/bn-BD.json":()=>ne(()=>import("./f950g4eswsaty5r8.js"),[]),"./locales/bs-BA.json":()=>ne(()=>import("./k04ugovofynceqbh.js"),[]),"./locales/ca-ES.json":()=>ne(()=>import("./gj1nohnggzh2fnt1.js"),[]),"./locales/cs-CZ.json":()=>ne(()=>import("./kt7tnvlaqya9sml3.js"),[]),"./locales/da-DK.json":()=>ne(()=>import("./m7em6qhmbbhvv2b9.js"),[]),"./locales/de-DE.json":()=>ne(()=>import("./ox55thiufcv6qgv6.js"),[]),"./locales/el-GR.json":()=>ne(()=>import("./odlj6nqpvws109zy.js"),[]),"./locales/es-419.json":()=>ne(()=>import("./m2k8fo4wsbcwcrwz.js"),[]),"./locales/es-ES.json":()=>ne(()=>import("./fnh4fu2tbwyum4q0.js"),[]),"./locales/et-EE.json":()=>ne(()=>import("./lzznrl0gf1z7dwma.js"),[]),"./locales/fi-FI.json":()=>ne(()=>import("./vaj98yfjsc66ftai.js"),[]),"./locales/fr-CA.json":()=>ne(()=>import("./naq2w7ede9r4e5kf.js"),[]),"./locales/fr-FR.json":()=>ne(()=>import("./cq52gu8rdubo87tj.js"),[]),"./locales/gu-IN.json":()=>ne(()=>import("./f08rwwwfsnz3577x.js"),[]),"./locales/he-IL.json":()=>ne(()=>import("./ive7lec6agtid78g.js"),[]),"./locales/hi-IN.json":()=>ne(()=>import("./f8ykotcr9f1itiu0.js"),[]),"./locales/hr-HR.json":()=>ne(()=>import("./ksld62kpp0al5yjm.js"),[]),"./locales/hu-HU.json":()=>ne(()=>import("./heji9ln0qe1lmy39.js"),[]),"./locales/hy-AM.json":()=>ne(()=>import("./c3pfjo714tds3rf5.js"),[]),"./locales/id-ID.json":()=>ne(()=>import("./c4730eq72unshsk0.js"),[]),"./locales/is-IS.json":()=>ne(()=>import("./jrdcr3bcku3ifbby.js"),[]),"./locales/it-IT.json":()=>ne(()=>import("./e4dt78gsqdrcblkd.js"),[]),"./locales/ja-JP.json":()=>ne(()=>import("./iqiwuv18pcreq3f1.js"),[]),"./locales/ka-GE.json":()=>ne(()=>import("./br81sq8qr570u84g.js"),[]),"./locales/kk.json":()=>ne(()=>import("./cr378srybef09v5h.js"),[]),"./locales/kn-IN.json":()=>ne(()=>import("./coyvbsz9ogzsed77.js"),[]),"./locales/ko-KR.json":()=>ne(()=>import("./hicxv871d8284jev.js"),[]),"./locales/lt.json":()=>ne(()=>import("./mzkfhae51kmqek96.js"),[]),"./locales/lv-LV.json":()=>ne(()=>import("./lgjkmy58fciel4bz.js"),[]),"./locales/mk-MK.json":()=>ne(()=>import("./di284ynpjq08vl34.js"),[]),"./locales/ml.json":()=>ne(()=>import("./o8ou3ua69ilaujfq.js"),[]),"./locales/mn.json":()=>ne(()=>import("./ela9te1fl5mck6m2.js"),[]),"./locales/mr-IN.json":()=>ne(()=>import("./da6iqm160lbxhw8q.js"),[]),"./locales/ms-MY.json":()=>ne(()=>import("./g8o4a49aptsv9ox3.js"),[]),"./locales/my-MM.json":()=>ne(()=>import("./czpdb8ejm13yu2tx.js"),[]),"./locales/nb-NO.json":()=>ne(()=>import("./h3qu1f3vppn0ly54.js"),[]),"./locales/nl-NL.json":()=>ne(()=>import("./m1mwkp9xitb6kxi2.js"),[]),"./locales/pa.json":()=>ne(()=>import("./j5xec0b5r93c1li4.js"),[]),"./locales/pl-PL.json":()=>ne(()=>import("./lhirwsvgzbk8thn9.js"),[]),"./locales/pt-BR.json":()=>ne(()=>import("./olz4vtjheb755yql.js"),[]),"./locales/pt-PT.json":()=>ne(()=>import("./ir06sf96nj6f06qk.js"),[]),"./locales/ro-RO.json":()=>ne(()=>import("./tbki8euumt8os38g.js"),[]),"./locales/ru-RU.json":()=>ne(()=>import("./1yxlij8rpjlhv7xt.js"),[]),"./locales/sk-SK.json":()=>ne(()=>import("./uk1ksrvlcqqg7yuw.js"),[]),"./locales/sl-SI.json":()=>ne(()=>import("./mha04rfk3jau787d.js"),[]),"./locales/so-SO.json":()=>ne(()=>import("./b9pvyk0mrr61istu.js"),[]),"./locales/sq-AL.json":()=>ne(()=>import("./j5md2z2jdmspxpfg.js"),[]),"./locales/sr-RS.json":()=>ne(()=>import("./fb00klaxa4e7pkn0.js"),[]),"./locales/sv-SE.json":()=>ne(()=>import("./gzi5nn4o7ev560im.js"),[]),"./locales/sw-TZ.json":()=>ne(()=>import("./mrk8mra72d2fvd4d.js"),[]),"./locales/ta-IN.json":()=>ne(()=>import("./kljmbjdqq9g8mhw2.js"),[]),"./locales/te-IN.json":()=>ne(()=>import("./bn37vhk501bvuppr.js"),[]),"./locales/th-TH.json":()=>ne(()=>import("./ht0jur04as3ah76l.js"),[]),"./locales/tl.json":()=>ne(()=>import("./ncnzx1te8ocyqihc.js"),[]),"./locales/tr-TR.json":()=>ne(()=>import("./b9zgghd22zko0n1h.js"),[]),"./locales/uk-UA.json":()=>ne(()=>import("./b8ntdbw9ltvtc50b.js"),[]),"./locales/ur.json":()=>ne(()=>import("./osqt4e673p37a10e.js"),[]),"./locales/vi-VN.json":()=>ne(()=>import("./e50nvhoao2o38gce.js"),[]),"./locales/zh-CN.json":()=>ne(()=>import("./mnetk4kqt7x6kyg3.js"),[]),"./locales/zh-HK.json":()=>ne(()=>import("./ezvulzd2rbcc4d32.js"),[]),"./locales/zh-TW.json":()=>ne(()=>import("./odx8vj11yy10vurz.js"),[])}),"./locales/".concat(e,".json"),3))).default}const Die=365*24*60*60,A6e=e=>{e==null?we.deleteCookie(Ce.PreferredLocale):we.setCookie(Ce.PreferredLocale,e,{maxAge:Die}),window.location.reload()},w6e=()=>{const e=we.getCookie(Ce.PreferredLocale);return e!=null?Hg(e):null},Fie="temporary-chat",Uie="anon-mode";function ra(e,t){for(const[n,r]of Object.entries(t))n.indexOf("Capture",n.length-7)!==-1?e.addEventListener(n.slice(0,-7),r,{capture:!0}):e.addEventListener(n,r);return()=>{for(const[n,r]of Object.entries(t))n.indexOf("Capture",n.length-7)!==-1?e.removeEventListener(n.slice(0,-7),r,{capture:!0}):e.removeEventListener(n,r)}}function N6e(e,t){for(const[n,r]of Object.entries(t))e.on(n,r);return()=>{for(const[n,r]of Object.entries(t))e.off(n,r)}}const si=window.localStorage;var Wt=(e=>(e.RecentImages="oai/apps/recentImages",e.RecentUploads="oai/apps/recentUploads",e.Theme="theme",e.NextAuth="nextauth.message",e.IsNoAuthChatTrainingEnabled="oai/apps/isNoAuthChatTrainingEnabled",e.ComposerMenuSheetBounced="oai/apps/composerMenuBounced",e.IsNavigationCollapsed="UiState.isNavigationCollapsed.1",e.IsHistoryCollapsed="UiState.isOnlyShowingRecents.1",e.ChatThreadFlyoutState="UiState.chatThreadFlyoutState",e.IsGptListCollapsed="UiState.isGptListCollapsed",e.LastUsedModel="oai/apps/lastModelUsed",e.EnabledPlugins="oai/enabledPluginIds",e.HasSeenNewChatModal="oai/apps/hasSeenNewChatModal",e.HasSeenMeetChatGptModal="oai/apps/hasSeenMeetChatGptModal",e.HasSignedUpForPlusUpgradeWaitlistV1="oai/apps/HasSignedUpForPlusUpgradeWaitlist",e.HasSignedUpForPlusUpgradeWaitlistV2="oai/apps/HasSignedUpForPlusUpgradeWaitlistV2",e.HasSignedUpForTeamUpgradeWaitlistV1="oai/apps/HasSignedUpForTeamUpgradeWaitlist",e.HasSignedUpForTeamUpgradeWaitlistV2="oai/apps/HasSignedUpForTeamUpgradeWaitlistV2",e.HasDismissedUpgradeInviteModal="oai/apps/hasDismissedUpgradeInviteModal",e.GizmoEditorTab="oai/apps/gizmoEditorTab",e.GizmoDiscoveryLocale="oai/apps/gizmoDiscoveryLocale",e.NoAuthRateLimitState="oai/apps/noAuthRateLimitState",e.RestoreMessageAfterOauthRedirect="oai/apps/restoreMessageAfterOauthRedirect",e.HasSeenAdaInteractiveChart="oai/apps/hasSeenAdaInteractiveChart",e.HasSeenAdaInteractiveTable="oai/apps/hasSeenAdaInteractiveTable",e.SearchSettings="oai/apps/searchSettings",e.NoAuthBannerDisclaimerClientThreadId="oai/apps/noAuthBannerDisclaimerClientThreadId",e.NoAuthHasAcceptedFooterDisclaimer="oai/apps/noAuthHasAcceptedFooterDisclaimer",e.NoAuthUserMessageCount="oai/apps/noAuthUserMessageCount",e.HasSeenNoAuthImagegenNux="oai/apps/hasSeenNoAuthImagegenNux",e.HasSeenNoAuthFreeTrialUpsell="oai/apps/hasSeenNoAuthFreeTrialUpsell",e.LoggedInUserMessageCount="oai/apps/loggedInUserMessageCount",e.NoAuthHasDismissedSoftRateLimitModal="oai/apps/noAuthHasDismissedSoftRateLimitModal",e.NoAuthHasSeenGpt4oModal="oai/apps/noAuthHasSeenGpt4oModal",e.MemoryFullBannerDismissed="oai/apps/memoryFullBannerDismissed",e.MemoryFullBannerDismissedTimestamp="oai/apps/memoryFullBannerDismissedTimestamp",e.MemoryAlmostFullBannerDismissed="oai/apps/memoryAlmostFullBannerDismissed",e.MemoryAlmostFullBannerDismissedTimestamp="oai/apps/memoryAlmostFullBannerDismissedTimestamp",e.IndepthFeedbackDismissedAt="oai/apps/indepthFeedbackDismissedAt",e.AdvancedVoiceOnMobileAnnouncementCount="oai/apps/oai/apps/hasSeenAdvancedVoiceOnMobile/2024-09-26",e.CheckoutFrom="oai/apps/checkout_from",e.CreditCheckoutRedirectPath="oai/apps/creditCheckoutRedirectPath",e.HasConfirmedCanvasCodeExecution="oai/apps/hasConfirmedCanvasCodeExecution",e.CODE_EXECUTION_DOMAIN_ALLOW_LIST="oai/apps/codeExecutionDomainAllowlistWithTTL",e.TasksHasSeenProjectDisclaimerBanner="oai/apps/tasksHasSeenProjectDisclaimerBanner",e.ExpandSummarizedCoT="oai/apps/ExpandSummarizedCoT",e.PromoCode="oai/apps/promoCode",e.LastPageLoadDate="oai/apps/lastPageLoadDate",e.NoAuthMadlibsModalState="oai/apps/noAuthMadlibsModalState",e.d2dee219="oai/apps/d2dee219",e.ReferralCode="oai/apps/referralCode",e.LastFeedLoad="oai/apps/2dc5214a",e.VoiceLastUsed="oai/apps/voiceLastUsed",e.ModelCustomConfig="oai/modelCustomConfig",e.CalendarAddPreference="oai/apps/calendarAddPreference",e.ChatThemeOverride="oai/apps/chatThemeOverride",e.ChatTheme="oai/apps/chatTheme",e.ChatThemeCustomWorkspace="oai/apps/chatThemeCustomWorkspace",e.ConversationDrafts="oai/apps/conversationDrafts",e.DebugSettings="oai/apps/debugSettings",e.InternalModels="oai/apps/enableIIM",e.WorkspacePolicyViewed="oai/apps/workspacePolicyViewed",e.LastOpenedPulseId="oai/apps/lastOpenedPulseId",e.HasSeenPulseOnboarding="oai/apps/hasSeenPulseOnboarding",e.HasSeenPulseOnboardingModal="oai/apps/hasSeenPulseOnboardingModal",e.HasDismissedPulseAnnouncementBanner="oai/apps/hasDismissedPulseAnnouncementBanner",e.FirstSeenPulseAnnouncementBannerAt="oai/apps/firstSeenPulseAnnouncementBannerAt",e.LastSeenPulseAnnouncementBannerAt="oai/apps/lastSeenPulseAnnouncementBannerAt",e.PulseAnnouncementBannerImpressions="oai/apps/pulseAnnouncementBannerImpressions",e.HasDismissedCocoonAnnouncementBanner="oai/apps/hasDismissedCocoonAnnouncementBanner",e.FirstSeenCocoonAnnouncementBannerAt="oai/apps/firstSeenCocoonAnnouncementBannerAt",e.LastSeenCocoonAnnouncementBannerAt="oai/apps/lastSeenCocoonAnnouncementBannerAt",e.CocoonBannerAnnouncementImpressions="oai/apps/cocoonBannerAnnouncementImpressions",e.GlauxUsePromptOverride="oai/apps/glauxUsePromptOverride",e.GlauxPromptOverride="oai/apps/glauxPromptOverride",e.GlauxJuiceScore="oai/apps/glauxJuiceScore",e.LastEnvironment="oai/apps/l1239dk1/a3f4b29d",e.PromptDraft="oai/apps/l1239dk1/c7e2d18f",e.ProposedTasks="oai/apps/l1239dk1/8fa94c1e",e.ReactQueryDevtoolsVisible="oai/apps/l1239dk1/3e2d18f",e.WhamForcedRateLimitRemaining="oai/apps/l1239dk1/49292001",e.WhamChangelogClickedDate="oai/apps/l1239dk1/4b7d9e2f",e.WhamRepoDownloadDurations="oai/apps/l1239dk1/9182cd99",e.WhamRepoLastBranchById="oai/apps/l1239dk1/4b9f42ce",e.WhamRepoRecentBranchesById="oai/apps/l1239dk1/a7c41ef0",e.WhamBestOfN="oai/apps/l1239dk1/109b6e28",e.WhamImageSnapshot="oai/apps/l1239dk1/4kdf92l2",e.WhamShowFullDiff="oai/apps/l1239dk1/7a8d45ff",e.WhamPreferredEditor="oai/apps/l1239dk1/e2b7ab3c",e.WhamCodexOnboardingState="oai/apps/l1239dk1/codexOnboardingState",e.WhamLastRepositoryId="oai/apps/l1239dk1/7f2c4aa2",e.WhamShowDevOnboardingOverrides="oai/apps/l1239dk1/showDevOnboardingOverrides",e.WhamCodexOnboardingStateOverride="oai/apps/l1239dk1/codexOnboardingStateOverride",e.SegmentUserId="ajs_user_id",e.SegmentUserTraits="ajs_user_traits",e.MessageFollowupsStoreState="oai/apps/messageFollowupsStoreState",e.JumpToShade="jump-to-shade",e.HasManuallyClosedLanguageUpsellBanner="oai/apps/hasManuallyClosedLanguageUpsellBanner",e.PluginsAuthRedirect="oai/apps/plugins/authRedirect",e.SelectedSources="oai/apps/connectors/selectedSources",e.SelectedGithubRepos="oai/apps/connectors/selectedGithubRepos",e.ConnectorOAuthFlowType="oai/apps/connectors/oauthFlowType",e.SubscriptionFailedBanner="oai/apps/subscriptionFailedBanner",e.HasDismissedTeamsNoAuthUpsell="oai/apps/hasDismissedTeamsNoAuthUpsell",e.FinchAdminNotified="oai/apps/finchAdminNotified",e.GetTeamPillDismissed="oai/apps/getTeamPillDismissed",e.CARecommendedPromptsUpsell="oai/apps/caRecommendedPromptsUpsell",e.ChinookStartupInfo="oai/apps/chinookStartupInfo",e.ConnectorsDismissableBannerUpsell="oai/apps/connectorsDismissableBannerUpsell",e.ConnectorsExternalNuxBannerDismissed="oai/apps/connectorsExternalNuxBannerDismissed",e.K12InviteBannerDismissed="oai/apps/k12InviteBannerDismissed",e.ModelSlugStatsOverride="oai/apps/modelSlugStatsOverride",e.ShortcutLinks="oai/apps/shortcutLinks",e.HomeDiscoveryDismissed="oai/apps/homeDiscoveryDismissed",e.O3MiniHighInContextUpsellBanner="oai/apps/o3MiniHighInContextUpsellBanner",e.TatertotInContextUpsellBannerV2="oai/apps/tatertotInContextUpsellBannerV2",e.ImageGenProgressUpsellV2="oai/apps/imageGenProgressUpsellV2",e.ImageGenV2PromoBannerState="oai/apps/imageGenV2PromoBannerState",e.HasDismissedMobileAppUpsellBanner="oai/apps/hasDismissedMobileAppUpsellBanner",e.HasDismissedMoodengUpsellBanner="oai/apps/hasDismissedMoodengUpsellBanner",e.LastSeenPlusUpsellBannerAt="oai/apps/lastSeenPlusUpsellBannerAt",e.HasDismissedOnboardingSidebarEntry="oai/apps/hasDismissedOnboardingSidebarEntry",e.NewUserOnboardingFlowState="oai/apps/newUserOnboardingFlowState",e.LastSeenNoAuthTrialsBannerAt="oai/apps/lastSeenNoAuthTrialsBannerAt",e.ThreadHeaderUpgradePillDismissals="oai/apps/threadHeaderUpgradePillDismissals",e.PendingSurveySpec="oai/apps/pendingSurveySpec",e.WorkspaceDiscoveryInfo="oai/apps/workspaceDiscoveryInfo",e.WorkspaceDiscoveryRenamePromptInfo="oai/apps/workspaceDiscoveryRenamePromptInfo",e.HasDismissedAuraAnnouncementBanner="oai/apps/hasDismissedAuraAnnouncementBanner",e.FirstSeenAuraAnnouncementBannerAt="oai/apps/firstSeenAuraAnnouncementBannerAt",e.LastSeenAuraAnnouncementBannerAt="oai/apps/lastSeenAuraAnnouncementBannerAt",e.AuraAnnouncementBannerImpressions="oai/apps/auraAnnouncementBannerImpressions",e.HideWritingBlockFeedback="oai/apps/hideWritingBlockFeedback",e.ResumeTokenStore="RESUME_TOKEN_STORE_KEY",e.SeparateMode="oai/apps/voiceSeparateMode",e))(Wt||{});class an{static setItem(t,n,r){if(!si)return;const s=v_(t,r);try{si.setItem(s,JSON.stringify(n))}catch(i){K.addError(i)}}static getItem(t,n){if(!si)return null;try{const r=v_(t,n),s=si.getItem(r);return typeof s=="string"?JSON.parse(s):s}catch(r){return null}}static removeItem(t,n){if(si){const r=v_(t,n);return si.removeItem(r)}}static DANGER_SECRET_FOLDERS_ONLY_setItem(t,n){if(!si){console.warn("You cannot set localStorage server-side (".concat(t,")"));return}try{si.setItem(t,JSON.stringify(n))}catch(r){K.addError(r)}}static DANGER_SECRET_FOLDERS_ONLY_getItem(t){if(!si)return console.warn("You cannot get localStorage server-side (".concat(t,")")),null;const n=si.getItem(t);return typeof n=="string"?JSON.parse(n):n}}function v_(e,t){const n=[e];return t!==void 0&&(t.userId!=null&&n.push(t.userId),t.workspaceId!=null&&n.push(t.workspaceId)),n.join("/")}function CW(e,t,n){let r;const s=()=>{const a=an.getItem(e);return a==null?t():n!=null&&n.coerceStoredValue?n.coerceStoredValue(a):a},o=us(s,a=>(r=a,ra(window,{storage:({key:c})=>{c===e&&a()}})),{name:"localStorage:".concat(e),getServerFallback:t});return o.set=a=>{an.setItem(e,R6(a)?a(s()):a),r==null||r()},o}function uN(){return new URL(window.location.href)}const jie=Ie(e=>CW(Wt.IsNoAuthChatTrainingEnabled,()=>Wie(e),{coerceStoredValue:$re})),dN=Ie(()=>me(()=>uN().searchParams.has(Fie))),I6e=Ie(()=>me(()=>uN().searchParams.has(Uie))),Bie=e=>dN(e)||!yt()&&!jie(e);function Gie(){const e=ce();return Le(()=>dN(e))}function Wie(e){return Me(e,"1656345175")}const qM=100,Tf=cr()(ju(()=>{var e;return(e=an.getItem(Wt.ConversationDrafts))!=null?e:{drafts:[],userId:null}})),fN=e=>{Tf.setState(e),an.setItem(Wt.ConversationDrafts,e)},hN=e=>e!=null?e:"null_thread",P6e=(e,t,n)=>{const r=hN(e);let i=Tf.getState().userId===n?Tf.getState().drafts:[];const o=i.findIndex(c=>c.id===r),a={id:r,content:t,timestamp:Date.now()};o!==-1?i[o]=a:i.push(a),i.length>qM&&(i=i.sort((c,l)=>l.timestamp-c.timestamp).slice(0,qM)),fN({drafts:i,userId:n})};function Hie(e){var t;if(Vie(e)){const n=gt(e.serverId$);return(t=$ie(n))==null?void 0:t.content}}const $ie=e=>{const t=hN(e);return Tf.getState().drafts.find(n=>n.id===t)},R6e=e=>{const t=hN(e),n=Tf.getState().drafts.filter(r=>r.id!==t);fN({drafts:n,userId:null})},qie=()=>{fN({drafts:[],userId:null})};function Vie(e){return gt(()=>e!=null&&!yh(e.ctx)&&!gt(()=>dN(e.ctx)))}function zie(e,t,n){if(n)return t!=null?t:void 0;if(!e)return;const r=e.trim();if(!r)return;const s=r.split(/\s+/);if(s.length===0)return;const i=s[0];return i.indexOf("@")!==-1||/^\d+$/.test(i)?void 0:i.replace(/[^a-zA-ZÃ€-Å¾]+/g,"")}function x6e(e,t,n){var o,a;const r=zie(t==null?void 0:t.name,t==null?void 0:t.first_name,n);let s="";e&&("object"in e&&e.object==="user_system_message_detail"?s=e.name_user_message:s=(o=e.nameUserMessage)!=null?o:"");const i=s.trim();return((a=e==null?void 0:e.enabled)==null||a)&&i?i:r}function Yie(){we.deleteCookie(Ce.GreetingName)}const jl="@@",pN=[],mm=new Map;function gl(e,t,n,r){if(mm.has(e)||e==="Ref")throw new Error("Already registered pickler ".concat(e));const s={key:e,test:t,pickle:n,unpickle:r};mm.set(e,s),pN.push(s)}function SW(){const e=[],t=new Map;return function(n,r){for(;e.length&&e[e.length-1][0]!==this;){const i=e.pop()[1];typeof i=="object"&&i!=null&&t.set(i,t.size)}const s=this[n];if(typeof s=="object"&&s!=null){const i=t.get(s);if(i!=null)return{[jl]:"Ref","":i}}for(const i of pN)if(i.test(s)){const o={[jl]:i.key,"":i.pickle(s)};return e.push([o,s]),o}if(typeof r=="object"&&r!=null){if(jl in r)throw new Error("Unexpected ".concat(jl," property"));e.push([r,s])}return r}}function Kie(){const e=[];return function(t,n){if(typeof n!="object"||n==null)return n;if(jl in n){const{[jl]:r,"":s}=n;if(r==="Ref")return e[s];const i=mm.get(r);if(!i)throw Error("Unknown pickle key ".concat(r));if(n=i.unpickle(s),typeof n!="object"||n==null)return n}return e.push(n),n}}function Xie(){pN.length=0,mm.clear(),gl("Map",e=>e instanceof Map,e=>[...e.entries()],e=>new Map(e)),gl("Set",e=>e instanceof Set,e=>[...e.keys()],e=>new Set(e)),gl("Date",e=>e instanceof Date,e=>e.toISOString(),e=>new Date(e)),gl("RegExp",e=>e instanceof RegExp,e=>[e.source,e.flags],([e,t])=>new RegExp(e,t)),gl("Number",e=>typeof e=="number"&&(Object.is(e,-0)||!isFinite(e)||isNaN(e)),e=>Object.is(e,-0)?"-0":String(e),e=>Number(e)),gl("BigInt",e=>typeof e=="bigint",e=>String(e),e=>BigInt(e))}Xie();function Jie(e){if(e==null)return null;const t=vt();return t.authStatus!==mu.LoggedIn?null:{workspaceId:e,userId:t.user.id}}function _N(e,t){const n=Jie(e);return n==null?null:"cache/".concat(n.userId,"/").concat(n.workspaceId,"/").concat(t)}const Qie=1e3*60*60*24;function Zie(e,t,n){const r=_N(e,t);if(r==null)return;const s=localStorage.getItem(r);if(s!=null)try{const{value:i,timestamp:o,version:a,used:c}=JSON.parse(s,Kie());if(a!==n||Date.now()-o>Qie){localStorage.removeItem(r);return}return{localStorageKey:r,value:i,version:a,used:typeof c=="number"?c:0}}catch(i){return}}const AE={};function eoe(e,t,n){if(e==null)return;if(t in AE)return AE[t];const r=Zie(e,t,n);if(K.addAction("localStorageCache.".concat(t),{cacheVersion:n,wasPresent:r!=null}),AE[t]=r==null?void 0:r.value,r!=null)return r.used+1>=4?localStorage.removeItem(r.localStorageKey):localStorage.setItem(r.localStorageKey,JSON.stringify({timestamp:Date.now(),value:r.value,version:r.version,used:r.used+1},SW())),r.value}function toe(e,t,n,r){const s=_N(e,t);if(s!=null)try{localStorage.setItem(s,JSON.stringify({value:n,timestamp:Date.now(),version:r},SW()))}catch(i){K.addError(i)}}function noe(e,t){const n=_N(e,t);n!=null&&localStorage.removeItem(n)}function bW(){for(const e of Object.keys(localStorage))e.startsWith("cache/")&&localStorage.removeItem(e)}const roe="session",TW="refresh";let Zd;typeof window<"u"&&window.BroadcastChannel!==void 0&&(Zd=new window.BroadcastChannel(roe),Zd.onmessage=e=>{e.data===TW&&(document.hidden?window.addEventListener("visibilitychange",()=>{document.hidden||(window.location.href="/")}):setTimeout(()=>{window.location.href="/"},300))});function soe(){Zd==null||Zd.postMessage(TW)}function ioe(){soe(),bW(),qie(),Yie(),we.deleteCookie(Ce.LastUsedModel),we.deleteCookie(Ce.LastUsedModelConfig)}function mN(e){ioe(),window.location.href=e!=null?e:"/?refresh_account=true"}class $g extends Error{constructor(){super(...arguments);U(this,"name","ClientRequestMismatchedAuthError")}}function ooe(e,t="fetch"){var i,o,a;e.url.includes("/aip");const n=e.detail,r=n==null?void 0:n.conversation_detail_metadata;if(r&&Tie.updateDetails(r),e.code==="request_account_access"&&Iie.setState({accountName:n==null?void 0:n.account_name,ownerEmail:n==null?void 0:n.owner_email,userEmail:n==null?void 0:n.user_email,accountId:n==null?void 0:n.account_id,hasActiveRequest:n==null?void 0:n.has_active_request,workspacePlanType:n==null?void 0:n.workspace_plan_type}),e.code==="all_accounts_blocked"&&Ase(Bt(),n==null?void 0:n.user_email),Rie(e.code)&&xie.setState({accountName:n==null?void 0:n.account_name,errorCode:e.code}),e.code==="trigger_account_transfer"){Nie.setState({destinationWorkspaceId:n==null?void 0:n.workspace_id,destinationWorkspaceName:n==null?void 0:n.workspace_name,destinationWorkspaceProfilePictureUrl:n==null?void 0:n.workspace_profile_picture_url,destinationWorkspacePlanType:n==null?void 0:n.workspace_plan_type});return}if(e.code==="deactivated_workspace"){window.location.href.includes("/workspace/deactivated")||(window.location.href="/workspace/deactivated");return}const s=e.code==="sa_server_service_me_error_status"&&e.status===401;if((e.code==="expired_session_key"||e.code==="token_expired"||e.code==="token_invalidated"||((o=(i=e.jsonError)==null?void 0:i.error)==null?void 0:o.code)==="token_invalidated"||s)&&(K.addAction("Token expired",{url:e.url,error:n}),typeof window<"u"&&((a=window._oaiHandleSessionExpired)==null||a.call(window,t,JSON.stringify(n)))),e.code==="invalid_account_id_header"&&typeof we.getCookie(Ce.Workspace)=="string"){we.deleteCookie(Ce.Workspace),mN();return}}function aoe(e){var t;K.addAction("RequestError",{url:e.url,message:e.message,status:e.status,json:e.json,requestId:e.requestId,deviceId:as(),rawErrorMessage:(t=e.rawError)==null?void 0:t.message})}function coe(e,t){return e.replace(/\{([^}]+)\}/g,(n,r)=>t[r].toString())}function loe(e){if(!e)return"";const t=new URLSearchParams;for(const[r,s]of Object.entries(e))if(Array.isArray(s))for(const i of s)t.append(r,i.toString());else s!=null&&t.append(r,s.toString());const n=t.toString();return n.length===0?"":"?".concat(n)}function uoe(){var e;return(e=vt().locale)!=null?e:Oh}function OW(){const e=as();return{[Fne]:uoe(),[Ng]:e,[wg]:hh}}function gN(e={}){var s;const t=(s=e.accessToken)!=null?s:doe(),n=OW();if(t==null){if(e.isAuthOptional===!0)return n;throw new $g("No access token when trying to use AuthHeader")}n.Authorization="Bearer ".concat(t);const r=we.getCookie(Ce.Workspace);return typeof r=="string"&&r!==Yi&&(n[Une]=encodeURIComponent(r)),n}function doe(){return _h(Bt())}function AW({method:e,body:t,authOption:n,accessToken:r,additionalHeaders:s,referrer:i,referrerPolicy:o,signal:a}){return{method:e==null?void 0:e.toUpperCase(),body:t,credentials:"include",referrer:i,referrerPolicy:o,signal:a,headers:b(b(b(b({},n===en.Anonymous?OW():gN({isAuthOptional:n===en.SendIfAvailable,accessToken:r})),t!=null&&!(t instanceof FormData||t instanceof File)?{"Content-Type":"application/json"}:null),t!=null&&t instanceof File?{"Content-Type":"application/octet-stream"}:null),s)}}function foe(e){return(t,n)=>{const r=(s,i)=>{if(s>=e.length)return n(i);const o=e[s];return o(i,a=>r(s+1,a))};return r(0,t)}}function wW(e,t){const n=foe(e);return r=>n(r,t)}async function NW(e,t){var r,s;let n=await t(e.clone());if(n.status===401){const o=await n.clone().json(),a=(r=n.headers.get("X-Request-Id"))!=null?r:void 0;if(new Gt(e.url,n.status,o,a,new Error(JSON.stringify(o))).code==="token_expired"){const l=as();await tre($s(Bt()),{reason:"token_expired",method:(s=e.method)!=null?s:"GET",path:new URL(e.url,location.origin).pathname});const u=gN(),d=e.clone();for(const[f,h]of Object.entries(u))d.headers.set(f,h);n=await t(d),n.status===200?K.addAction("Request succeeded after refresh.",{url:e.url,deviceId:l}):K.addAction("Request failed after refresh.",{url:e.url,deviceId:l})}}return n}async function IW(e,t){var r,s;let n;try{n=await t(e)}catch(i){throw i instanceof Error?Gt.createWithErrorMessage(e.url,"server",i.message,void 0,i):i}if(n.status>=400){const i=await n.text();let o;try{o=JSON.parse(i)}catch(l){o={detail:{code:"not_json_response",text:i==null?void 0:i.substring(0,1e3)}}}const a=(s=(r=n.headers.get("X-Request-Id"))!=null?r:n.headers.get("cf-ray"))!=null?s:void 0,c=new Gt(e.url,n.status,o,a,new Error(JSON.stringify(o)));throw ooe(c),aoe(c),c}return n}var lu,th,og,PW;class vN{constructor(t){kt(this,og);kt(this,lu);kt(this,th);const{baseUrl:n}=t;zt(this,th,typeof n=="string"?()=>n:n)}baseUrl(t,n){return pe(this,th).call(this,t,n)}async fetch(t,n={}){const r=await pe(this,og,PW).call(this,t);return n.skipJsonTransform?r:r.status===204?{}:r.json()}request(t,n,r){const s=r!=null&&r.parameters&&"query"in r.parameters?r.parameters.query:void 0,i=r!=null&&r.parameters&&"path"in r.parameters&&r.parameters.path?r.parameters.path:{},o=coe(n,i),a=loe(s),c=r&&"requestBody"in r?r.requestBody:void 0,l=c===void 0?void 0:typeof FormData<"u"&&c instanceof FormData||typeof File<"u"&&c instanceof File?c:JSON.stringify(c),u=AW(I(b({},r),{method:t,body:l})),d="".concat(this.baseUrl(u,n)).concat(o).concat(a),f=new globalThis.Request(d,u);return this.fetch(f,r)}safeGet(t,...n){return this.request("get",t,n[0])}safePost(t,...n){return this.request("post",t,n[0])}safeDelete(t,...n){return this.request("delete",t,n[0])}safePatch(t,...n){return this.request("patch",t,n[0])}safePut(t,...n){return this.request("put",t,n[0])}streamedJsonPost(t,n){return mp(this,null,function*(){n.skipJsonTransform=!0;const r=yield new To(this.request("post",t,n));if(!r.body)return;const s=r.body.getReader(),i=new TextDecoder;let o="";for(;;){const{value:a,done:c}=yield new To(s.read());a&&(o+=i.decode(a,{stream:!0}));let l;for(;(l=o.indexOf("\n"))!==-1;){const u=o.slice(0,l).trim();if(o=o.slice(l+1),u.length!==0)try{yield JSON.parse(u)}catch(d){o=u+"\n"+o;break}}if(c){const u=o.trim();u&&(yield JSON.parse(u));return}}})}}lu=new WeakMap,th=new WeakMap,og=new WeakSet,PW=function(){return pe(this,lu)||zt(this,lu,wW([IW,NW],fetch)),pe(this,lu)};function hoe(e,t){const n={[Ve]:Mw};if(t.headers.Authorization)return e;for(const[r,s]of Object.entries(n))if(e.startsWith(r))return e.replace(r,s);return e}var uu,ag,RW;class poe{constructor(){kt(this,ag);kt(this,uu)}async fetch(t,n={}){n.params&&(t+="?"+new URLSearchParams(n.params).toString());const r=AW(n),s=await pe(this,ag,RW).call(this,new globalThis.Request(hoe(t,r),r));return n.skipJsonTransform?s:s.status===204?{}:s.json()}get(t,n={}){return this.fetch(t,n)}post(t,n,r={}){return this.fetch(t,I(b({},r),{method:"post",body:n instanceof FormData?n:JSON.stringify(n)}))}streamedJsonPost(s,i){return mp(this,arguments,function*(t,n,r={}){const a=(yield new To(this.fetch(t,I(b({},r),{method:"post",body:JSON.stringify(n),skipJsonTransform:!0})))).body;if(!a)return;const c=a.getReader(),l=new TextDecoder;let u=!1,d="";for(;!u;){const f=yield new To(c.read());if(u=f.done,u&&f.value==null)break;const h=d+l.decode(f.value,{stream:!0});d="";const p=h.split("\n").filter(_=>!!_.trim());for(let _=0;_<p.length;_++)try{yield JSON.parse(p[_])}catch(m){d=p[_];break}}d.length>0&&(yield JSON.parse(d))})}streamedSsePost(s,i){return mp(this,arguments,function*(t,n,r={}){const a=(yield new To(this.fetch(t,I(b({},r),{method:"post",body:JSON.stringify(n),skipJsonTransform:!0,additionalHeaders:b({Accept:"text/event-stream"},r.additionalHeaders)})))).body;if(!a)return;const c=a.getReader(),l=new TextDecoder;let u="";for(;;){const{value:d,done:f}=yield new To(c.read());d&&(u+=l.decode(d,{stream:!0})),u=u.replace(/\r\n/g,"\n");let h;for(;(h=u.indexOf("\n\n"))!==-1;){const p=u.slice(0,h);u=u.slice(h+2);const _=[];for(const y of p.split("\n"))y.startsWith(":")||y.startsWith("data:")&&_.push(y.slice(5).trimStart());const m=_.join("\n").trim();if(m){if(m==="[DONE]")return;try{yield JSON.parse(m)}catch(y){}}}if(f){const p=u.trim();if(p.startsWith("data:")){const _=p.split("\n").filter(m=>m.startsWith("data:")).map(m=>m.slice(5).trimStart()).join("\n").trim();if(_&&_!=="[DONE]")try{yield JSON.parse(_)}catch(m){}}return}}})}}uu=new WeakMap,ag=new WeakSet,RW=function(){return pe(this,uu)||zt(this,uu,wW([IW,NW],fetch)),pe(this,uu)};const Y=new vN({baseUrl(e,t){return!!e.headers.Authorization?Ve:Mw}}),_oe=new vN({baseUrl:h_});new vN({baseUrl:Nse});const Ye=new poe;var y_=(e=>(e[e.DEV=0]="DEV",e[e.BETA=1]="BETA",e[e.CUSTOM=2]="CUSTOM",e))(y_||{});function xW(e){return e.map(t=>{var n,r,s,i,o,a,c,l,u,d,f,h;return{name:t.name,description:t.description,actionLabel:(n=t.action_label)!=null?n:void 0,shortLabel:(r=t.short_label)!=null?r:void 0,logo:t.logo,systemHint:t.system_hint,aliases:(s=t.aliases)!=null?s:[],requiredFeatures:(i=t.required_features)!=null?i:[],requiredModels:(o=t.required_models)!=null?o:[],requiredConversationModes:(a=t.required_conversation_modes)!=null?a:[],composerBarButtonInfo:t.composer_bar_button_info?{announcementKey:t.composer_bar_button_info.announcement_key,disabledText:t.composer_bar_button_info.disabled_text,nuxTitle:t.composer_bar_button_info.nux_title,nuxDescription:t.composer_bar_button_info.nux_description,tooltipText:t.composer_bar_button_info.tooltip_text,rateLimitReachedText:(c=t.composer_bar_button_info.rate_limit_reached_text)!=null?c:void 0}:void 0,suggestedPrompt:t.suggested_prompt?{theme:t.suggested_prompt.theme,title:t.suggested_prompt.title,subtitle:t.suggested_prompt.subtitle,sortOrder:t.suggested_prompt.sort_order,badge:(l=t.suggested_prompt.badge)!=null?l:void 0}:void 0,allowInTemporaryChat:t.allow_in_temporary_chat,disableTinting:(u=t.disable_tinting)!=null?u:!1,persistBetweenMessages:!!t.persist_between_messages,regexMatches:(d=t.regex_matches)!=null?d:void 0,isAuto:t.is_auto,category:t.category,requiresOptIn:!!t.requires_opt_in,isConnector:!!t.is_connector,keywordInvocations:(f=t.keyword_invocations)!=null?f:[],hideFromInitialSelection:!!t.hide_from_initial_selection,badgeText:(h=t.badge_text)!=null?h:void 0,isDangerous:!!t.is_dangerous,canConnect:!!t.can_connect}})}const Eu=Lg(e=>ln({queryKey:["system-hints",e],queryFn:async()=>{const t=await Y.safeGet("/system_hints",{authOption:en.SendIfAvailable,parameters:{query:{mode:e}}});return K.addFirstTiming("load.systemHints.".concat(e)),xW(t.system_hints)},staleTime:1/0})),xA=e=>e!=null?e:null,moe=(e,t)=>JSON.stringify([e,xA(t)]),MW=Lg((e,t)=>ln({queryKey:["system-hints",e,xA(t)],queryFn:async()=>{const n=xA(t),r={mode:e};n&&(r.gizmo_id=n);const s=await Y.safeGet("/system_hints",{authOption:en.SendIfAvailable,parameters:{query:r}});return K.addFirstTiming("load.systemHints.".concat(e).concat(n?".".concat(n):"")),xW(s.system_hints)},staleTime:1/0}),moe),kW=Ie(e=>qt(e,()=>Eu("basic"))),goe=Ie(e=>qt(e,()=>Eu("connectors"))),voe=Ks((e,t)=>qt(e,()=>MW("basic",t))),yoe=Ks((e,t)=>qt(e,()=>MW("connectors",t))),Eoe=Object.prototype.toString;function Coe(e,t){try{return e instanceof t}catch(n){return!1}}function Soe(e){switch(Eoe.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return Coe(e,Error)}}const VM={componentStack:null,error:null};function boe(e,t){const n=new WeakMap;function r(s,i){if(!n.has(s)){if(s.cause)return n.set(s,!0),r(s.cause,i);s.cause=i}}r(e,t)}const Toe=["The node to be removed is not a child of this node","The object can not be found here."];function Ooe(e){return Toe.some(t=>{var n;return(n=e.message)==null?void 0:n.includes(t)})}class Ah extends C.Component{constructor(n){super(n);U(this,"state");U(this,"resetErrorBoundary",()=>{const{onReset:n}=this.props,{error:r,componentStack:s}=this.state;n&&n(r,s!=null?s:""),this.setState(VM)});this.state=VM}componentDidCatch(n,{componentStack:r}){if(Soe(n)){const s=new Error(n.message);s.name="React ErrorBoundary ".concat(s.name),s.stack=r!=null?r:"",boe(n,s)}if(!Ooe(n)&&(this.props.logRequestErrors===!0||!(n instanceof Gt))){const s=new Error(n.message);s.name="ReactRenderingError",s.stack=r!=null?r:"",s.cause=n,K.addError(s,{error_boundary:this.props.name})}bW(),this.props.onError&&this.props.onError(n,r!=null?r:""),this.setState({error:n,componentStack:r})}render(){var i;const{fallback:n,children:r}=this.props,s=this.state;if(s.error){let o=null;return typeof n=="function"?o=n({error:s.error,componentStack:(i=s.componentStack)!=null?i:"",resetError:this.resetErrorBoundary}):o=n,C.isValidElement(o)?o:null}return typeof r=="function"?r():r}}const ht="/cdn/assets/sprites-core-i9agxugi.svg",ge=(e,t,n,r,s)=>{function i(o){"use forget";const a=W.c(4),l=o["aria-label"]!=null||o["aria-labelledby"]!=null?void 0:"true";let u;a[0]===Symbol.for("react.memo_cache_sentinel")?(u=g.jsx("use",{href:e+"#"+t,fill:"currentColor"}),a[0]=u):u=a[0];let d;return a[1]!==o||a[2]!==l?(d=g.jsx("svg",I(b({xmlns:"http://www.w3.org/2000/svg",width:n,height:r,"aria-hidden":l,"data-rtl-flip":s?"":void 0},o),{children:u})),a[1]=o,a[2]=l,a[3]=d):d=a[3],d}return i},Aoe=ge(ht,"23ce94",16,16);function LW(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=LW(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function ie(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=LW(e))&&(r&&(r+=" "),r+=t);return r}var sn=(e=>(e.info="info",e.neutral="neutral",e.success="success",e.successNeutral="successNeutral",e.warning="warning",e.danger="danger",e))(sn||{});const woe=At({closeButtonLabel:{id:"Alert.closeButtonLabel",defaultMessage:"Close"}}),Noe=It.memo(function(t){const n=ft(),{className:r,intent:s="info",fullWidth:i,children:o,icon:a,onRemove:c,testId:l}=t,u=ie({"px-3 py-2 rounded-lg inline-flex flex-row border pointer-events-auto gap-2":!0,flex:i,"popover shadow-lg bg-token-main-surface-primary text-token-text-secondary dark:border-black/20":s===sn.neutral||s===sn.info,"border-green-600 bg-green-600 text-white":s===sn.success,"border-orange-500 text-white bg-orange-500":s===sn.warning,"border-red-500 text-white bg-red-500":s===sn.danger,"bg-black text-white border-black dark:bg-white dark:text-black dark:border-white":s===sn.successNeutral},r);return g.jsxs("div",{className:u,role:"alert","data-testid":l,children:[a!=null&&g.jsx("div",{className:"mt-1 shrink-0 grow-0",children:g.jsx(a,{className:"icon-sm"})}),g.jsx("div",{className:"flex-1 justify-center gap-2",children:typeof o=="string"?g.jsx("div",{className:"font-semibold",children:o}):o}),c?g.jsx("div",{className:"flex shrink-0 grow-0",children:g.jsx("button",{onClick:c,"aria-label":n.formatMessage(woe.closeButtonLabel),className:"hover:opacity-80",children:g.jsx(Aoe,{className:"icon-sm"})})}):null]})}),zM=ge(ht,"a4763e",20,20),Of=ge(ht,"bc9381",20,20);function YM(){return YM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},YM.apply(null,arguments)}function Ioe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function MA(e,t){return MA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},MA(e,t)}function Poe(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,MA(e,t)}var wE={exports:{}},NE,KM;function Roe(){if(KM)return NE;KM=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return NE=e,NE}var IE,XM;function xoe(){if(XM)return IE;XM=1;var e=Roe();function t(){}function n(){}return n.resetWarningCache=t,IE=function(){function r(o,a,c,l,u,d){if(d!==e){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}r.isRequired=r;function s(){return r}var i={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:n,resetWarningCache:t};return i.PropTypes=i,i},IE}var JM;function Moe(){return JM||(JM=1,wE.exports=xoe()()),wE.exports}var koe=Moe();const M6e=$t(koe),QM={disabled:!1},DW=It.createContext(null);var Loe=function(t){return t.scrollTop},Md="unmounted",Ga="exited",Wa="entering",Il="entered",kA="exiting",uo=(function(e){Poe(t,e);function t(r,s){var i;i=e.call(this,r,s)||this;var o=s,a=o&&!o.isMounting?r.enter:r.appear,c;return i.appearStatus=null,r.in?a?(c=Ga,i.appearStatus=Wa):c=Il:r.unmountOnExit||r.mountOnEnter?c=Md:c=Ga,i.state={status:c},i.nextCallback=null,i}t.getDerivedStateFromProps=function(s,i){var o=s.in;return o&&i.status===Md?{status:Ga}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(s){var i=null;if(s!==this.props){var o=this.state.status;this.props.in?o!==Wa&&o!==Il&&(i=Wa):(o===Wa||o===Il)&&(i=kA)}this.updateStatus(!1,i)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var s=this.props.timeout,i,o,a;return i=o=a=s,s!=null&&typeof s!="number"&&(i=s.exit,o=s.enter,a=s.appear!==void 0?s.appear:o),{exit:i,enter:o,appear:a}},n.updateStatus=function(s,i){if(s===void 0&&(s=!1),i!==null)if(this.cancelNextCallback(),i===Wa){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Nd.findDOMNode(this);o&&Loe(o)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ga&&this.setState({status:Md})},n.performEnter=function(s){var i=this,o=this.props.enter,a=this.context?this.context.isMounting:s,c=this.props.nodeRef?[a]:[Nd.findDOMNode(this),a],l=c[0],u=c[1],d=this.getTimeouts(),f=a?d.appear:d.enter;if(!s&&!o||QM.disabled){this.safeSetState({status:Il},function(){i.props.onEntered(l)});return}this.props.onEnter(l,u),this.safeSetState({status:Wa},function(){i.props.onEntering(l,u),i.onTransitionEnd(f,function(){i.safeSetState({status:Il},function(){i.props.onEntered(l,u)})})})},n.performExit=function(){var s=this,i=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:Nd.findDOMNode(this);if(!i||QM.disabled){this.safeSetState({status:Ga},function(){s.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:kA},function(){s.props.onExiting(a),s.onTransitionEnd(o.exit,function(){s.safeSetState({status:Ga},function(){s.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(s,i){i=this.setNextCallback(i),this.setState(s,i)},n.setNextCallback=function(s){var i=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,i.nextCallback=null,s(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(s,i){this.setNextCallback(i);var o=this.props.nodeRef?this.props.nodeRef.current:Nd.findDOMNode(this),a=s==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var c=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],l=c[0],u=c[1];this.props.addEndListener(l,u)}s!=null&&setTimeout(this.nextCallback,s)},n.render=function(){var s=this.state.status;if(s===Md)return null;var i=this.props,o=i.children;i.in,i.mountOnEnter,i.unmountOnExit,i.appear,i.enter,i.exit,i.timeout,i.addEndListener,i.onEnter,i.onEntering,i.onEntered,i.onExit,i.onExiting,i.onExited,i.nodeRef;var a=Ioe(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return It.createElement(DW.Provider,{value:null},typeof o=="function"?o(s,a):It.cloneElement(It.Children.only(o),a))},t})(It.Component);uo.contextType=DW;uo.propTypes={};function vl(){}uo.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:vl,onEntering:vl,onEntered:vl,onExit:vl,onExiting:vl,onExited:vl};uo.UNMOUNTED=Md;uo.EXITED=Ga;uo.ENTERING=Wa;uo.ENTERED=Il;uo.EXITING=kA;function k6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Doe(e){const t=C.useRef(null);return C.useInsertionEffect(()=>{t.current=e},[e]),C.useCallback((...n)=>{const r=t.current;return r(...n)},[])}const Foe={liveRegionAssertive:"",liveRegionPolite:""},Ip=cr()(()=>b({},Foe));let PE,RE;const Uoe={setLiveRegionAssertive:e=>{window.clearTimeout(PE),Ip.setState({liveRegionAssertive:e}),PE=window.setTimeout(()=>{Ip.setState({liveRegionAssertive:""}),PE=void 0},5e3)},setLiveRegionPolite:e=>{window.clearTimeout(RE),Ip.setState({liveRegionPolite:e}),RE=window.setTimeout(()=>{Ip.setState({liveRegionPolite:""}),RE=void 0},5e3)}},joe={[sn.success]:zM,[sn.successNeutral]:zM,[sn.warning]:Of,[sn.danger]:Of};function Boe(e,t,n){let r,s;try{switch(n.intent){case sn.success:s={defaultMessage:"Success",description:"Prefix for success toast announcements",id:"toast.success"};break;case sn.warning:s={defaultMessage:"Warning",description:"Prefix for warning toast announcements",id:"toast.warning"};break;case sn.danger:s={defaultMessage:"Error",description:"Prefix for error toast announcements",id:"toast.error"};break;default:s=void 0}s?r=e.formatMessage({id:"SieQiR",defaultMessage:"{prefix}: {message}"},{prefix:e.formatMessage(s),message:typeof t=="string"?t:e.formatMessage(t)}):r=e.formatMessage({id:"opr5Yt",defaultMessage:"{message}"},{message:typeof t=="string"?t:e.formatMessage(t)}),Uoe.setLiveRegionPolite(r)}catch(i){K.addError(i)}}const Goe=({zIndex:e,duration:t,onRemove:n,intent:r=sn.info,title:s,description:i,hasCloseButton:o,isShown:a=!0,testId:c})=>{"use no forget";const[l,u]=C.useState(0),[d,f]=C.useState(a),h=C.useRef(null),p=C.useRef(null),_=()=>{p.current&&(clearTimeout(p.current),p.current=null)};function m(){n==null||n(),_(),f(!1)}const y=()=>{t&&(p.current=setTimeout(()=>{n==null||n(),_(),f(!1)},t*1e3))},v=Doe(()=>y());C.useEffect(()=>(v(),()=>{_()}),[d]);const O=()=>{_()},S=()=>{y()},E=A=>{if(A===null)return;const{height:w}=A.getBoundingClientRect();u(w)},T=ft();return C.useEffect(()=>{Boe(T,s,{intent:r})},[T,s,r]),g.jsx(uo,{appear:!0,unmountOnExit:!0,timeout:240,in:d,onExited:n,nodeRef:h,children:A=>{var w;return g.jsx("div",{ref:h,"data-state":A,className:"toast-root",onMouseEnter:O,onMouseLeave:S,style:{height:l,zIndex:e,marginBottom:d?0:-l},children:g.jsx("div",{ref:E,className:"w-full p-1 text-center md:w-auto md:text-justify",children:g.jsxs(Noe,{icon:(w=joe[r])!=null?w:void 0,intent:r,onRemove:o?()=>m():void 0,testId:c,children:[g.jsx("div",{className:ie("text-start whitespace-pre-wrap",{"font-semibold":i!=null&&i!==""}),children:typeof s=="string"?s:T.formatMessage(s)}),i&&g.jsx("div",{className:"line-clamp-3 text-start",children:i})]})})})}})},Woe="ext-oai-did",Hoe="ext-login-allow-phone",L6e="ext-whatsapp-al-flow",$oe=new Set(["google-oauth2","windowslive","apple"]),qoe="password";function Af(e){return{[Woe]:e}}function Voe(e){return e!=null&&e.idp&&$oe.has(e.idp)?b({connection:e.idp},e.email&&{login_hint:e.email}):(e==null?void 0:e.idp)==="auth0"?b({connection:qoe},e.email?{login_hint:e.email}:{[Hoe]:"true"}):e!=null&&e.email?{login_hint:e.email}:{}}function zoe(e){var t;return b(b(b({},Voe(e.user)),(t=e.params)!=null?t:{}),Af(e.deviceID))}function D6e(e){var t;return zoe({deviceID:e.deviceID,user:e.user,params:I(b({reauth:"password"},(t=e.params)!=null?t:{}),{max_age:"0"})})}const F6e=Wn(()=>ne(()=>import("./g4ad68php5ui004m.js"),__vite__mapDeps([4,1,5,6,2,3,7,8,9,10])).then(e=>e.NoAuthLoginModal)),FW=Wn(()=>ne(()=>import("./g4ad68php5ui004m.js"),__vite__mapDeps([4,1,5,6,2,3,7,8,9,10])).then(e=>e.AuthModal));function U6e(e,t){const n=Di(),r=I(b({},Af(as())),{[cm]:n});Xs(e,FW,{callbackUrl:window.location.href,authorizationParams:r,isUsernameOnTop:t})}function j6e(){"use forget";const e=W.c(2);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=Di(),e[0]=t):t=e[0];const n=t;let r;return e[1]===Symbol.for("react.memo_cache_sentinel")?(r=I(b({},Af(as())),{[cm]:n}),e[1]=r):r=e[1],r}function Di(e){const t=we.getCookie(Ce.AuthSessionLoggingId);if(t)return t;const n=yr();return we.setCookie(Ce.AuthSessionLoggingId,n),n}function Pp(){we.deleteCookie(Ce.AuthSessionLoggingId)}const ZM="_sli";function UW(){const e=sessionStorage.getItem(ZM);if(e)return e;const t=yr();return sessionStorage.setItem(ZM,t),t}function yN(){return we.getCookie(Ce.PunchOutInfoToken)}function B6e(){return yN()!=null}const Yoe=window.location.host+"/ces",Koe="https",Xoe="".concat(Koe,"://").concat(Yoe);function LA(e){return Array.isArray(e)?e.reduce((t,n)=>(t[n.key]=n.value,t),{}):e}var bn=(e=>(e.DEFAULT="default",e.INTERNAL="internal",e.CODEX="Wham",e.JAWBONE="jawbone",e.MOONSHINE="moonshine",e.GOLDEN_HOUR="golden_hour",e.CUSTOMIZE_CHATGPT="customize_chatgpt",e.WEB_SANDBOX="web_sandbox",e.ECOSYSTEM="ecosystem",e.CANVAS="canvas",e.COT_SUMMARIZER="cot_summarizer",e.CLASSMATES="classmates",e.REFERRALS="referrals",e.STUDENTS="students",e.TEACHERS="teachers",e.TEAMS="teams",e.WEBSOCKET="ws",e.TATERTOT="tatertot",e.PROJECTS="projects",e.WRITING_BLOCKS="writing_blocks",e.ATLAS="aura,",e.PULSE="pulse",e.COCOON="cocoon",e.SEGMENT="segment",e))(bn||{});class ek{constructor(){U(this,"counterMap",new Map);U(this,"histMap",new Map)}}class Joe{constructor(){U(this,"metrics",new ek);U(this,"postUrl","".concat(Xoe,"/statsc/flush"));U(this,"postInterval",3e4);U(this,"maxPostErrors",10);U(this,"isScheduled",!1);U(this,"numMetricPostErrors",0);U(this,"numLostMetrics",0)}count(t,n,r={},s=1){r=LA(r);const i=this.makeKey(t,n,r);var o=this.metrics.counterMap;const a=o.get(i);a?a.value+=s:o.set(i,{namespace:t,metric:n,tags:r,value:s}),this.scheduleIfNeeded()}hist(t,n,r={},s){r=LA(r);const i=this.makeKey(t,n,r);var o=this.metrics.histMap;const a=o.get(i);a?a.values.push(s):o.set(i,{namespace:t,metric:n,tags:r,values:[s]}),this.scheduleIfNeeded()}makeKey(t,n,r){const s=Object.entries(r).map(([i,o])=>"".concat(i,"=").concat(o)).sort().join(",");return"".concat(t,":").concat(n,":").concat(s)}scheduleIfNeeded(){this.isScheduled||(this.isScheduled=!0,this.schedule())}schedule(){setTimeout(()=>{this.postMetrics()},this.postInterval)}hasPendingMetrics(){return this.metrics.counterMap.size>0||this.metrics.histMap.size>0||this.numMetricPostErrors>0}async postMetrics(){var t=this.metrics;this.metrics=new ek;var n=t.counterMap.size+t.histMap.size,r=Array.from(t.counterMap.values());this.numMetricPostErrors>0&&(r.push({namespace:"internal",metric:"post_errors",tags:{},value:this.numMetricPostErrors}),r.push({namespace:"internal",metric:"lost_metrics",tags:{},value:this.numLostMetrics}));const s={counters:r,histograms:Array.from(t.histMap.values()),client_type:"web"},i=JSON.stringify(s);try{await Ye.post(this.postUrl,s,{authOption:en.Anonymous}),this.numMetricPostErrors=0}catch(o){o instanceof Gt||K.addError(o,{json:i}),this.numMetricPostErrors++,this.numLostMetrics+=n,this.numMetricPostErrors>this.maxPostErrors&&(K.addAction("Exceeded maximum number of post errors (".concat(this.maxPostErrors,"). Dropping ").concat(this.numLostMetrics," metrics.")),this.numMetricPostErrors=0,this.numLostMetrics=0)}this.hasPendingMetrics()?this.schedule():this.isScheduled=!1}}const xn=new Joe,G6e=Object.freeze(Object.defineProperty({__proto__:null,Namespace:bn,convertTagsToKV:LA,statsc:xn},Symbol.toStringTag,{value:"Module"})),W6e={$type:"protobuf_analytics_events.v1.AardvarkConnectGithubClicked"},H6e={$type:"protobuf_analytics_events.v1.AardvarkFiltersApplied"},$6e={$type:"protobuf_analytics_events.v1.AardvarkFiltersCleared"},q6e={$type:"protobuf_analytics_events.v1.AardvarkFindingOpened"},V6e={$type:"protobuf_analytics_events.v1.AardvarkScanConfigurationSaved"};var Qoe=(e=>(e.ACCESS_FLOW_CONNECTION_TYPE_UNSPECIFIED="ACCESS_FLOW_CONNECTION_TYPE_UNSPECIFIED",e.ACCESS_FLOW_CONNECTION_TYPE_PASSWORD="ACCESS_FLOW_CONNECTION_TYPE_PASSWORD",e.ACCESS_FLOW_CONNECTION_TYPE_GOOGLE="ACCESS_FLOW_CONNECTION_TYPE_GOOGLE",e.ACCESS_FLOW_CONNECTION_TYPE_MICROSOFT="ACCESS_FLOW_CONNECTION_TYPE_MICROSOFT",e.ACCESS_FLOW_CONNECTION_TYPE_APPLE="ACCESS_FLOW_CONNECTION_TYPE_APPLE",e.ACCESS_FLOW_CONNECTION_TYPE_SAMLP="ACCESS_FLOW_CONNECTION_TYPE_SAMLP",e.ACCESS_FLOW_CONNECTION_TYPE_OIDC="ACCESS_FLOW_CONNECTION_TYPE_OIDC",e.ACCESS_FLOW_CONNECTION_TYPE_SSO="ACCESS_FLOW_CONNECTION_TYPE_SSO",e.UNRECOGNIZED="UNRECOGNIZED",e))(Qoe||{}),kd=(e=>(e.ACCESS_FLOW_ENTRY_ACTION_TYPE_UNSPECIFIED="ACCESS_FLOW_ENTRY_ACTION_TYPE_UNSPECIFIED",e.ACCESS_FLOW_ENTRY_ACTION_TYPE_LOGIN="ACCESS_FLOW_ENTRY_ACTION_TYPE_LOGIN",e.ACCESS_FLOW_ENTRY_ACTION_TYPE_SIGNUP="ACCESS_FLOW_ENTRY_ACTION_TYPE_SIGNUP",e.ACCESS_FLOW_ENTRY_ACTION_TYPE_LOGIN_OR_SIGNUP="ACCESS_FLOW_ENTRY_ACTION_TYPE_LOGIN_OR_SIGNUP",e.ACCESS_FLOW_ENTRY_ACTION_TYPE_CONTINUE_WITH_SOCIAL="ACCESS_FLOW_ENTRY_ACTION_TYPE_CONTINUE_WITH_SOCIAL",e.ACCESS_FLOW_ENTRY_ACTION_TYPE_WELCOME_BACK_MODAL_AUTO_SHOWN="ACCESS_FLOW_ENTRY_ACTION_TYPE_WELCOME_BACK_MODAL_AUTO_SHOWN",e.ACCESS_FLOW_ENTRY_ACTION_TYPE_LOG_BACK_IN_MODAL_AUTO_SHOWN="ACCESS_FLOW_ENTRY_ACTION_TYPE_LOG_BACK_IN_MODAL_AUTO_SHOWN",e.ACCESS_FLOW_ENTRY_ACTION_TYPE_PAGE_LOADED="ACCESS_FLOW_ENTRY_ACTION_TYPE_PAGE_LOADED",e.UNRECOGNIZED="UNRECOGNIZED",e))(kd||{}),jW=(e=>(e.ACCESS_FLOW_ENTRY_POINT_UNSPECIFIED="ACCESS_FLOW_ENTRY_POINT_UNSPECIFIED",e.ACCESS_FLOW_ENTRY_POINT_LOGIN_MODAL="ACCESS_FLOW_ENTRY_POINT_LOGIN_MODAL",e.ACCESS_FLOW_ENTRY_POINT_LOG_BACK_IN_MODAL="ACCESS_FLOW_ENTRY_POINT_LOG_BACK_IN_MODAL",e.ACCESS_FLOW_ENTRY_POINT_MOBILE_FULL_SCREEN="ACCESS_FLOW_ENTRY_POINT_MOBILE_FULL_SCREEN",e.ACCESS_FLOW_ENTRY_POINT_MOBILE_BOTTOM_SHEET="ACCESS_FLOW_ENTRY_POINT_MOBILE_BOTTOM_SHEET",e.ACCESS_FLOW_ENTRY_POINT_MOBILE_LOGIN_PAGE="ACCESS_FLOW_ENTRY_POINT_MOBILE_LOGIN_PAGE",e.ACCESS_FLOW_ENTRY_POINT_MOBILE_LOGIN_PASSWORD_PAGE="ACCESS_FLOW_ENTRY_POINT_MOBILE_LOGIN_PASSWORD_PAGE",e.ACCESS_FLOW_ENTRY_POINT_MOBILE_ANONYMOUS_SIDE_BAR="ACCESS_FLOW_ENTRY_POINT_MOBILE_ANONYMOUS_SIDE_BAR",e.ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_TEMPLATE="ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_TEMPLATE",e.ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_PROGRESS_BANNER_GPT_5="ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_PROGRESS_BANNER_GPT_5",e.ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_IMAGE_GEN="ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_IMAGE_GEN",e.ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_SEND="ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_SEND",e.ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_GIZMO="ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_GIZMO",e.ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_GIZMO_TAG="ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_GIZMO_TAG",e.ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_DALLE="ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_DALLE",e.ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_ADAVANCED_DATA_ANALYSIS="ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_ADAVANCED_DATA_ANALYSIS",e.ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_GPT_4O="ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_GPT_4O",e.ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_GPT_5_AUTO="ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_GPT_5_AUTO",e.ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_UPGRADE_TO_GO_UPSELL="ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_UPGRADE_TO_GO_UPSELL",e.ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_GET_PLUS_UPSELL="ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_GET_PLUS_UPSELL",e.ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_GET_PRO_UPSELL="ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_GET_PRO_UPSELL",e.ACCESS_FLOW_ENTRY_POINT_NEW_CHAT_MODAL="ACCESS_FLOW_ENTRY_POINT_NEW_CHAT_MODAL",e.ACCESS_FLOW_ENTRY_POINT_SIDEBAR_BOTTOM_UNIT="ACCESS_FLOW_ENTRY_POINT_SIDEBAR_BOTTOM_UNIT",e.ACCESS_FLOW_ENTRY_POINT_NO_AUTH_WELCOME_BACK_MODAL="ACCESS_FLOW_ENTRY_POINT_NO_AUTH_WELCOME_BACK_MODAL",e.ACCESS_FLOW_ENTRY_POINT_MOBILE_CHAT_STAGE_HEADER="ACCESS_FLOW_ENTRY_POINT_MOBILE_CHAT_STAGE_HEADER",e.ACCESS_FLOW_ENTRY_POINT_CHAT_HEADER="ACCESS_FLOW_ENTRY_POINT_CHAT_HEADER",e.ACCESS_FLOW_ENTRY_POINT_LOGIN_PAGE="ACCESS_FLOW_ENTRY_POINT_LOGIN_PAGE",e.ACCESS_FLOW_ENTRY_POINT_SIGNUP_PAGE="ACCESS_FLOW_ENTRY_POINT_SIGNUP_PAGE",e.ACCESS_FLOW_ENTRY_POINT_LOGIN_OR_SIGNUP_PAGE="ACCESS_FLOW_ENTRY_POINT_LOGIN_OR_SIGNUP_PAGE",e.ACCESS_FLOW_ENTRY_POINT_LOGIN_PASSWORD_PAGE="ACCESS_FLOW_ENTRY_POINT_LOGIN_PASSWORD_PAGE",e.ACCESS_FLOW_ENTRY_POINT_SSO_SELECTION_PAGE="ACCESS_FLOW_ENTRY_POINT_SSO_SELECTION_PAGE",e.ACCESS_FLOW_ENTRY_POINT_START_PAGE="ACCESS_FLOW_ENTRY_POINT_START_PAGE",e.ACCESS_FLOW_ENTRY_POINT_FILE_PICKER_RATE_LIMIT_TOOLTIP="ACCESS_FLOW_ENTRY_POINT_FILE_PICKER_RATE_LIMIT_TOOLTIP",e.ACCESS_FLOW_ENTRY_POINT_FILE_UPLOAD_RATE_LIMIT_TOAST="ACCESS_FLOW_ENTRY_POINT_FILE_UPLOAD_RATE_LIMIT_TOAST",e.ACCESS_FLOW_ENTRY_POINT_CHAT_STAGE_SIGNUP_BANNER="ACCESS_FLOW_ENTRY_POINT_CHAT_STAGE_SIGNUP_BANNER",e.ACCESS_FLOW_ENTRY_POINT_CHAT_STAGE_LOGIN_BANNER="ACCESS_FLOW_ENTRY_POINT_CHAT_STAGE_LOGIN_BANNER",e.ACCESS_FLOW_ENTRY_POINT_NO_AUTH_PLAN_UPSELL_MODAL="ACCESS_FLOW_ENTRY_POINT_NO_AUTH_PLAN_UPSELL_MODAL",e.ACCESS_FLOW_ENTRY_POINT_NO_AUTH_PROMO_REDEMPTION_MODAL="ACCESS_FLOW_ENTRY_POINT_NO_AUTH_PROMO_REDEMPTION_MODAL",e.ACCESS_FLOW_ENTRY_POINT_NO_AUTH_IMAGEGEN_NUX_MODAL="ACCESS_FLOW_ENTRY_POINT_NO_AUTH_IMAGEGEN_NUX_MODAL",e.ACCESS_FLOW_ENTRY_POINT_NO_AUTH_SOFT_RATE_LIMIT_MODAL="ACCESS_FLOW_ENTRY_POINT_NO_AUTH_SOFT_RATE_LIMIT_MODAL",e.ACCESS_FLOW_ENTRY_POINT_VOICE_PICKER_PAGE="ACCESS_FLOW_ENTRY_POINT_VOICE_PICKER_PAGE",e.ACCESS_FLOW_ENTRY_POINT_NO_AUTH_PUNCH_OUT_SIGN_IN_AS_MODAL="ACCESS_FLOW_ENTRY_POINT_NO_AUTH_PUNCH_OUT_SIGN_IN_AS_MODAL",e.ACCESS_FLOW_ENTRY_POINT_MODEL_SWITCHER_GPT4_UPSELL="ACCESS_FLOW_ENTRY_POINT_MODEL_SWITCHER_GPT4_UPSELL",e.ACCESS_FLOW_ENTRY_POINT_MODEL_SWITCHER_GO_UPSELL="ACCESS_FLOW_ENTRY_POINT_MODEL_SWITCHER_GO_UPSELL",e.ACCESS_FLOW_ENTRY_POINT_REFERRAL_DISCOUNT_MODAL="ACCESS_FLOW_ENTRY_POINT_REFERRAL_DISCOUNT_MODAL",e.ACCESS_FLOW_ENTRY_POINT_PLUS_MENU_OPTION="ACCESS_FLOW_ENTRY_POINT_PLUS_MENU_OPTION",e.ACCESS_FLOW_ENTRY_POINT_PLUS_MENU_OPTION_ADD_FILES="ACCESS_FLOW_ENTRY_POINT_PLUS_MENU_OPTION_ADD_FILES",e.ACCESS_FLOW_ENTRY_POINT_PLUS_MENU_OPTION_PICTURE_V2="ACCESS_FLOW_ENTRY_POINT_PLUS_MENU_OPTION_PICTURE_V2",e.ACCESS_FLOW_ENTRY_POINT_PLUS_MENU_OPTION_GPT_5="ACCESS_FLOW_ENTRY_POINT_PLUS_MENU_OPTION_GPT_5",e.ACCESS_FLOW_ENTRY_POINT_PLUS_MENU_OPTION_RESEARCH="ACCESS_FLOW_ENTRY_POINT_PLUS_MENU_OPTION_RESEARCH",e.ACCESS_FLOW_ENTRY_POINT_PLUS_MENU_OPTION_REASON="ACCESS_FLOW_ENTRY_POINT_PLUS_MENU_OPTION_REASON",e.ACCESS_FLOW_ENTRY_POINT_COMPOSER_PLUS_LOGGED_OUT_UPSELL="ACCESS_FLOW_ENTRY_POINT_COMPOSER_PLUS_LOGGED_OUT_UPSELL",e.ACCESS_FLOW_ENTRY_POINT_CHAT_STAGE_SIDEBAR="ACCESS_FLOW_ENTRY_POINT_CHAT_STAGE_SIDEBAR",e.ACCESS_FLOW_ENTRY_POINT_NO_AUTH_UPSELL="ACCESS_FLOW_ENTRY_POINT_NO_AUTH_UPSELL",e.ACCESS_FLOW_ENTRY_POINT_NO_AUTH_UPSELL_ATTACH="ACCESS_FLOW_ENTRY_POINT_NO_AUTH_UPSELL_ATTACH",e.ACCESS_FLOW_ENTRY_POINT_NO_AUTH_UPSELL_MODEL_SWITCHER="ACCESS_FLOW_ENTRY_POINT_NO_AUTH_UPSELL_MODEL_SWITCHER",e.ACCESS_FLOW_ENTRY_POINT_MOBILE_DISPATCH_TO_WEB="ACCESS_FLOW_ENTRY_POINT_MOBILE_DISPATCH_TO_WEB",e.ACCESS_FLOW_ENTRY_POINT_MFA_SETTING="ACCESS_FLOW_ENTRY_POINT_MFA_SETTING",e.ACCESS_FLOW_ENTRY_POINT_RETRIGGER_SSO="ACCESS_FLOW_ENTRY_POINT_RETRIGGER_SSO",e.ACCESS_FLOW_ENTRY_POINT_ATLAS_LOGIN_WINDOW="ACCESS_FLOW_ENTRY_POINT_ATLAS_LOGIN_WINDOW",e.ACCESS_FLOW_ENTRY_POINT_NOFACE_LOGIN_VIEW="ACCESS_FLOW_ENTRY_POINT_NOFACE_LOGIN_VIEW",e.ACCESS_FLOW_ENTRY_POINT_NOFACE_LEGACY_LOGIN_VIEW="ACCESS_FLOW_ENTRY_POINT_NOFACE_LEGACY_LOGIN_VIEW",e.ACCESS_FLOW_ENTRY_POINT_AUTH_LOGIN_PAGE="ACCESS_FLOW_ENTRY_POINT_AUTH_LOGIN_PAGE",e.UNRECOGNIZED="UNRECOGNIZED",e))(jW||{}),No=(e=>(e.ACCESS_FLOW_USER_ACTION_TYPE_UNSPECIFIED="ACCESS_FLOW_USER_ACTION_TYPE_UNSPECIFIED",e.ACCESS_FLOW_USER_ACTION_TYPE_CONTINUE="ACCESS_FLOW_USER_ACTION_TYPE_CONTINUE",e.ACCESS_FLOW_USER_ACTION_TYPE_CONTINUE_WITH_GOOGLE="ACCESS_FLOW_USER_ACTION_TYPE_CONTINUE_WITH_GOOGLE",e.ACCESS_FLOW_USER_ACTION_TYPE_CONTINUE_WITH_MICROSOFT="ACCESS_FLOW_USER_ACTION_TYPE_CONTINUE_WITH_MICROSOFT",e.ACCESS_FLOW_USER_ACTION_TYPE_CONTINUE_WITH_APPLE="ACCESS_FLOW_USER_ACTION_TYPE_CONTINUE_WITH_APPLE",e.ACCESS_FLOW_USER_ACTION_TYPE_CONTINUE_WITH_SSO="ACCESS_FLOW_USER_ACTION_TYPE_CONTINUE_WITH_SSO",e.ACCESS_FLOW_USER_ACTION_TYPE_CONTINUE_WITH_PASSWORD="ACCESS_FLOW_USER_ACTION_TYPE_CONTINUE_WITH_PASSWORD",e.ACCESS_FLOW_USER_ACTION_TYPE_PREVIOUS_STEP="ACCESS_FLOW_USER_ACTION_TYPE_PREVIOUS_STEP",e.ACCESS_FLOW_USER_ACTION_TYPE_EDIT_USERNAME="ACCESS_FLOW_USER_ACTION_TYPE_EDIT_USERNAME",e.ACCESS_FLOW_USER_ACTION_TYPE_EXIT="ACCESS_FLOW_USER_ACTION_TYPE_EXIT",e.ACCESS_FLOW_USER_ACTION_TYPE_EXIT_STAY_LOGGED_OUT_LINK_CLICKED="ACCESS_FLOW_USER_ACTION_TYPE_EXIT_STAY_LOGGED_OUT_LINK_CLICKED",e.ACCESS_FLOW_USER_ACTION_TYPE_EXIT_CLOSE_BUTTON_CLICKED="ACCESS_FLOW_USER_ACTION_TYPE_EXIT_CLOSE_BUTTON_CLICKED",e.ACCESS_FLOW_USER_ACTION_TYPE_RESEND="ACCESS_FLOW_USER_ACTION_TYPE_RESEND",e.ACCESS_FLOW_USER_ACTION_TYPE_INPUT="ACCESS_FLOW_USER_ACTION_TYPE_INPUT",e.ACCESS_FLOW_USER_ACTION_TYPE_AUTOFILL="ACCESS_FLOW_USER_ACTION_TYPE_AUTOFILL",e.ACCESS_FLOW_USER_ACTION_TYPE_SWITCH_TO_EMAIL="ACCESS_FLOW_USER_ACTION_TYPE_SWITCH_TO_EMAIL",e.ACCESS_FLOW_USER_ACTION_TYPE_SWITCH_TO_PHONE="ACCESS_FLOW_USER_ACTION_TYPE_SWITCH_TO_PHONE",e.ACCESS_FLOW_USER_ACTION_TYPE_FORGOT_PASSWORD="ACCESS_FLOW_USER_ACTION_TYPE_FORGOT_PASSWORD",e.ACCESS_FLOW_USER_ACTION_TYPE_CONSUME_OTP_DEEPLINK="ACCESS_FLOW_USER_ACTION_TYPE_CONSUME_OTP_DEEPLINK",e.ACCESS_FLOW_USER_ACTION_TYPE_CONSUME_MFA_DEEPLINK="ACCESS_FLOW_USER_ACTION_TYPE_CONSUME_MFA_DEEPLINK",e.ACCESS_FLOW_USER_ACTION_TYPE_COPY_RECOVERY_CODE="ACCESS_FLOW_USER_ACTION_TYPE_COPY_RECOVERY_CODE",e.ACCESS_FLOW_USER_ACTION_TYPE_MFA_SELECT_TOTP_CODE="ACCESS_FLOW_USER_ACTION_TYPE_MFA_SELECT_TOTP_CODE",e.ACCESS_FLOW_USER_ACTION_TYPE_MFA_SELECT_SMS_CODE="ACCESS_FLOW_USER_ACTION_TYPE_MFA_SELECT_SMS_CODE",e.ACCESS_FLOW_USER_ACTION_TYPE_MFA_SELECT_EMAIL_CODE="ACCESS_FLOW_USER_ACTION_TYPE_MFA_SELECT_EMAIL_CODE",e.ACCESS_FLOW_USER_ACTION_TYPE_MFA_SELECT_RECOVERY_CODE="ACCESS_FLOW_USER_ACTION_TYPE_MFA_SELECT_RECOVERY_CODE",e.ACCESS_FLOW_USER_ACTION_TYPE_MFA_SELECT_PUSH_AUTH_CODE="ACCESS_FLOW_USER_ACTION_TYPE_MFA_SELECT_PUSH_AUTH_CODE",e.ACCESS_FLOW_USER_ACTION_TYPE_MFA_SELECT_UNKNOWN_FACTOR="ACCESS_FLOW_USER_ACTION_TYPE_MFA_SELECT_UNKNOWN_FACTOR",e.ACCESS_FLOW_USER_ACTION_TYPE_LOGIN_INSTEAD_LINK_CLICKED="ACCESS_FLOW_USER_ACTION_TYPE_LOGIN_INSTEAD_LINK_CLICKED",e.ACCESS_FLOW_USER_ACTION_TYPE_SIGNUP_INSTEAD_LINK_CLICKED="ACCESS_FLOW_USER_ACTION_TYPE_SIGNUP_INSTEAD_LINK_CLICKED",e.ACCESS_FLOW_USER_ACTION_TYPE_TERMS_OF_USE_CLICK="ACCESS_FLOW_USER_ACTION_TYPE_TERMS_OF_USE_CLICK",e.ACCESS_FLOW_USER_ACTION_TYPE_PRIVACY_POLICY_CLICK="ACCESS_FLOW_USER_ACTION_TYPE_PRIVACY_POLICY_CLICK",e.ACCESS_FLOW_USER_ACTION_TYPE_WORDMARK_CLICKED="ACCESS_FLOW_USER_ACTION_TYPE_WORDMARK_CLICKED",e.ACCESS_FLOW_USER_ACTION_TYPE_SEND_EMAIL_OTP="ACCESS_FLOW_USER_ACTION_TYPE_SEND_EMAIL_OTP",e.ACCESS_FLOW_USER_ACTION_TYPE_CANCEL_WEB_FLOW="ACCESS_FLOW_USER_ACTION_TYPE_CANCEL_WEB_FLOW",e.ACCESS_FLOW_USER_ACTION_TYPE_LOGIN_WITH_ONE_TIME_CODE="ACCESS_FLOW_USER_ACTION_TYPE_LOGIN_WITH_ONE_TIME_CODE",e.ACCESS_FLOW_USER_ACTION_TYPE_BACK_TO_LOGIN="ACCESS_FLOW_USER_ACTION_TYPE_BACK_TO_LOGIN",e.ACCESS_FLOW_USER_ACTION_TYPE_MFA_SELECT_PASSKEY="ACCESS_FLOW_USER_ACTION_TYPE_MFA_SELECT_PASSKEY",e.ACCESS_FLOW_USER_ACTION_TYPE_ACQUIRE_AUTOFILL_CREDENTIALS="ACCESS_FLOW_USER_ACTION_TYPE_ACQUIRE_AUTOFILL_CREDENTIALS",e.ACCESS_FLOW_USER_ACTION_TYPE_STORE_AUTOFILL_CREDENTIALS="ACCESS_FLOW_USER_ACTION_TYPE_STORE_AUTOFILL_CREDENTIALS",e.ACCESS_FLOW_USER_ACTION_TYPE_NATIVE_FOREGROUND="ACCESS_FLOW_USER_ACTION_TYPE_NATIVE_FOREGROUND",e.ACCESS_FLOW_USER_ACTION_TYPE_NATIVE_BACKGROUND="ACCESS_FLOW_USER_ACTION_TYPE_NATIVE_BACKGROUND",e.ACCESS_FLOW_USER_ACTION_TYPE_REMOVE_SAVED_ACCOUNT_CLICKED="ACCESS_FLOW_USER_ACTION_TYPE_REMOVE_SAVED_ACCOUNT_CLICKED",e.ACCESS_FLOW_USER_ACTION_TYPE_SWITCH_TO_GENERIC_LOGIN_CLICKED="ACCESS_FLOW_USER_ACTION_TYPE_SWITCH_TO_GENERIC_LOGIN_CLICKED",e.ACCESS_FLOW_USER_ACTION_TYPE_TRY_ANOTHER_WAY_FROM_PASSKEY="ACCESS_FLOW_USER_ACTION_TYPE_TRY_ANOTHER_WAY_FROM_PASSKEY",e.ACCESS_FLOW_USER_ACTION_TYPE_EXIT_ESCAPE_KEY_PRESSED="ACCESS_FLOW_USER_ACTION_TYPE_EXIT_ESCAPE_KEY_PRESSED",e.ACCESS_FLOW_USER_ACTION_TYPE_EXIT_CLOSE_LINK_CLICKED="ACCESS_FLOW_USER_ACTION_TYPE_EXIT_CLOSE_LINK_CLICKED",e.ACCESS_FLOW_USER_ACTION_TYPE_EXIT_BACKDROP_CLICKED="ACCESS_FLOW_USER_ACTION_TYPE_EXIT_BACKDROP_CLICKED",e.UNRECOGNIZED="UNRECOGNIZED",e))(No||{}),Ld=(e=>(e.ACCESS_FLOW_FIELD_UNSPECIFIED="ACCESS_FLOW_FIELD_UNSPECIFIED",e.ACCESS_FLOW_FIELD_EMAIL="ACCESS_FLOW_FIELD_EMAIL",e.ACCESS_FLOW_FIELD_PHONE="ACCESS_FLOW_FIELD_PHONE",e.ACCESS_FLOW_FIELD_COUNTRY_CODE="ACCESS_FLOW_FIELD_COUNTRY_CODE",e.ACCESS_FLOW_FIELD_PASSWORD="ACCESS_FLOW_FIELD_PASSWORD",e.ACCESS_FLOW_FIELD_OTP="ACCESS_FLOW_FIELD_OTP",e.ACCESS_FLOW_FIELD_NAME="ACCESS_FLOW_FIELD_NAME",e.ACCESS_FLOW_FIELD_BIRTHDAY="ACCESS_FLOW_FIELD_BIRTHDAY",e.ACCESS_FLOW_FIELD_CONFIRM_PASSWORD="ACCESS_FLOW_FIELD_CONFIRM_PASSWORD",e.UNRECOGNIZED="UNRECOGNIZED",e))(Ld||{}),Li=(e=>(e.ACCESS_FLOW_PAGE_TYPE_UNSPECIFIED="ACCESS_FLOW_PAGE_TYPE_UNSPECIFIED",e.ACCESS_FLOW_PAGE_TYPE_ABOUT_YOU="ACCESS_FLOW_PAGE_TYPE_ABOUT_YOU",e.ACCESS_FLOW_PAGE_TYPE_ADD_EMAIL="ACCESS_FLOW_PAGE_TYPE_ADD_EMAIL",e.ACCESS_FLOW_PAGE_TYPE_APPLE_INTELLIGENCE_START="ACCESS_FLOW_PAGE_TYPE_APPLE_INTELLIGENCE_START",e.ACCESS_FLOW_PAGE_TYPE_CONTACT_VERIFICATION="ACCESS_FLOW_PAGE_TYPE_CONTACT_VERIFICATION",e.ACCESS_FLOW_PAGE_TYPE_CREATE_ACCOUNT_LATER="ACCESS_FLOW_PAGE_TYPE_CREATE_ACCOUNT_LATER",e.ACCESS_FLOW_PAGE_TYPE_CREATE_ACCOUNT_LATER_QUEUED="ACCESS_FLOW_PAGE_TYPE_CREATE_ACCOUNT_LATER_QUEUED",e.ACCESS_FLOW_PAGE_TYPE_CREATE_ACCOUNT_PASSWORD="ACCESS_FLOW_PAGE_TYPE_CREATE_ACCOUNT_PASSWORD",e.ACCESS_FLOW_PAGE_TYPE_CREATE_ACCOUNT_START="ACCESS_FLOW_PAGE_TYPE_CREATE_ACCOUNT_START",e.ACCESS_FLOW_PAGE_TYPE_EMAIL_OTP_SEND="ACCESS_FLOW_PAGE_TYPE_EMAIL_OTP_SEND",e.ACCESS_FLOW_PAGE_TYPE_EMAIL_OTP_VERIFICATION="ACCESS_FLOW_PAGE_TYPE_EMAIL_OTP_VERIFICATION",e.ACCESS_FLOW_PAGE_TYPE_ERROR="ACCESS_FLOW_PAGE_TYPE_ERROR",e.ACCESS_FLOW_PAGE_TYPE_EXTERNAL_URL="ACCESS_FLOW_PAGE_TYPE_EXTERNAL_URL",e.ACCESS_FLOW_PAGE_TYPE_IDENTITY_VERIFICATION="ACCESS_FLOW_PAGE_TYPE_IDENTITY_VERIFICATION",e.ACCESS_FLOW_PAGE_TYPE_CHATGPT_WEB_LOGIN_MODAL="ACCESS_FLOW_PAGE_TYPE_CHATGPT_WEB_LOGIN_MODAL",e.ACCESS_FLOW_PAGE_TYPE_CHATGPT_WEB_LOG_BACK_IN_MODAL="ACCESS_FLOW_PAGE_TYPE_CHATGPT_WEB_LOG_BACK_IN_MODAL",e.ACCESS_FLOW_PAGE_TYPE_LOGIN_OR_SIGNUP_START="ACCESS_FLOW_PAGE_TYPE_LOGIN_OR_SIGNUP_START",e.ACCESS_FLOW_PAGE_TYPE_LOGIN_PASSWORD="ACCESS_FLOW_PAGE_TYPE_LOGIN_PASSWORD",e.ACCESS_FLOW_PAGE_TYPE_LOGIN_START="ACCESS_FLOW_PAGE_TYPE_LOGIN_START",e.ACCESS_FLOW_PAGE_TYPE_MFA_CHALLENGE="ACCESS_FLOW_PAGE_TYPE_MFA_CHALLENGE",e.ACCESS_FLOW_PAGE_TYPE_MFA_CHALLENGE_SELECTION="ACCESS_FLOW_PAGE_TYPE_MFA_CHALLENGE_SELECTION",e.ACCESS_FLOW_PAGE_TYPE_MFA_ENROLL="ACCESS_FLOW_PAGE_TYPE_MFA_ENROLL",e.ACCESS_FLOW_PAGE_TYPE_PHONE_OTP_SEND="ACCESS_FLOW_PAGE_TYPE_PHONE_OTP_SEND",e.ACCESS_FLOW_PAGE_TYPE_PUSH_AUTH_VERIFICATION="ACCESS_FLOW_PAGE_TYPE_PUSH_AUTH_VERIFICATION",e.ACCESS_FLOW_PAGE_TYPE_RESET_PASSWORD_START="ACCESS_FLOW_PAGE_TYPE_RESET_PASSWORD_START",e.ACCESS_FLOW_PAGE_TYPE_RESET_PASSWORD_NEW_PASSWORD="ACCESS_FLOW_PAGE_TYPE_RESET_PASSWORD_NEW_PASSWORD",e.ACCESS_FLOW_PAGE_TYPE_RESET_PASSWORD_SUCCESS="ACCESS_FLOW_PAGE_TYPE_RESET_PASSWORD_SUCCESS",e.ACCESS_FLOW_PAGE_TYPE_SIGN_IN_WITH_CHATGPT_CONSENT="ACCESS_FLOW_PAGE_TYPE_SIGN_IN_WITH_CHATGPT_CONSENT",e.ACCESS_FLOW_PAGE_TYPE_SIGN_IN_WITH_CHATGPT_ORG="ACCESS_FLOW_PAGE_TYPE_SIGN_IN_WITH_CHATGPT_ORG",e.ACCESS_FLOW_PAGE_TYPE_SSO="ACCESS_FLOW_PAGE_TYPE_SSO",e.ACCESS_FLOW_PAGE_TYPE_TOKEN_EXCHANGE="ACCESS_FLOW_PAGE_TYPE_TOKEN_EXCHANGE",e.ACCESS_FLOW_PAGE_TYPE_WORKSPACE="ACCESS_FLOW_PAGE_TYPE_WORKSPACE",e.ACCESS_FLOW_PAGE_TYPE_END="ACCESS_FLOW_PAGE_TYPE_END",e.ACCESS_FLOW_PAGE_TYPE_MOBILE_LEGACY_FINISH_ONBOARDING="ACCESS_FLOW_PAGE_TYPE_MOBILE_LEGACY_FINISH_ONBOARDING",e.ACCESS_FLOW_PAGE_TYPE_CHATGPT_WEB_LOGIN_PAGE="ACCESS_FLOW_PAGE_TYPE_CHATGPT_WEB_LOGIN_PAGE",e.ACCESS_FLOW_PAGE_TYPE_LOGIN_PASSKEY="ACCESS_FLOW_PAGE_TYPE_LOGIN_PASSKEY",e.UNRECOGNIZED="UNRECOGNIZED",e))(Li||{}),BW=(e=>(e.ACCESS_FLOW_VALIDATION_TYPE_UNSPECIFIED="ACCESS_FLOW_VALIDATION_TYPE_UNSPECIFIED",e.ACCESS_FLOW_VALIDATION_TYPE_BACKEND_API="ACCESS_FLOW_VALIDATION_TYPE_BACKEND_API",e.ACCESS_FLOW_VALIDATION_TYPE_CLIENT="ACCESS_FLOW_VALIDATION_TYPE_CLIENT",e.UNRECOGNIZED="UNRECOGNIZED",e))(BW||{}),Zoe=(e=>(e.ACCESS_LOGOUT_ACTION_LOCATION_UNSPECIFIED="ACCESS_LOGOUT_ACTION_LOCATION_UNSPECIFIED",e.ACCESS_LOGOUT_ACTION_LOCATION_SSO_CATCH_ALL_MODAL="ACCESS_LOGOUT_ACTION_LOCATION_SSO_CATCH_ALL_MODAL",e.ACCESS_LOGOUT_ACTION_LOCATION_INVALID_ACCOUNT_MODAL="ACCESS_LOGOUT_ACTION_LOCATION_INVALID_ACCOUNT_MODAL",e.ACCESS_LOGOUT_ACTION_LOCATION_PROFILE_DROP_DOWN="ACCESS_LOGOUT_ACTION_LOCATION_PROFILE_DROP_DOWN",e.ACCESS_LOGOUT_ACTION_LOCATION_SETTINGS_MODAL_LOG_OUT_ALL="ACCESS_LOGOUT_ACTION_LOCATION_SETTINGS_MODAL_LOG_OUT_ALL",e.UNRECOGNIZED="UNRECOGNIZED",e))(Zoe||{}),GW=(e=>(e.ACCESS_LOGOUT_TYPE_UNSPECIFIED="ACCESS_LOGOUT_TYPE_UNSPECIFIED",e.ACCESS_LOGOUT_TYPE_USER_INITIATED="ACCESS_LOGOUT_TYPE_USER_INITIATED",e.ACCESS_LOGOUT_TYPE_SYSTEM_FORCED_LOGOUT="ACCESS_LOGOUT_TYPE_SYSTEM_FORCED_LOGOUT",e.UNRECOGNIZED="UNRECOGNIZED",e))(GW||{}),eae=(e=>(e.ACCESS_FLOW_TYPE_UNSPECIFIED="ACCESS_FLOW_TYPE_UNSPECIFIED",e.ACCESS_FLOW_TYPE_LOGIN="ACCESS_FLOW_TYPE_LOGIN",e.ACCESS_FLOW_TYPE_SIGNUP="ACCESS_FLOW_TYPE_SIGNUP",e.UNRECOGNIZED="UNRECOGNIZED",e))(eae||{});const Rp={$type:"protobuf_analytics_events.v1.AccessFlowEntry"},yl={$type:"protobuf_analytics_events.v1.AccessFlowUserAction"},tae={$type:"protobuf_analytics_events.v1.AccessFlowPageLoad"},nae={$type:"protobuf_analytics_events.v1.AccessFlowValidationError"},rae={$type:"protobuf_analytics_events.v1.AccessLogoutAction"},z6e={$type:"protobuf_analytics_events.v1.AccessFlowSuccess"};var sae=(e=>(e.ATLAS_NAVLINKS_SOURCE_UNSPECIFIED="ATLAS_NAVLINKS_SOURCE_UNSPECIFIED",e.ATLAS_NAVLINKS_SOURCE_CHAT_CAROUSEL="ATLAS_NAVLINKS_SOURCE_CHAT_CAROUSEL",e.ATLAS_NAVLINKS_SOURCE_CHAT_LIST="ATLAS_NAVLINKS_SOURCE_CHAT_LIST",e.ATLAS_NAVLINKS_SOURCE_SEARCH_TAB="ATLAS_NAVLINKS_SOURCE_SEARCH_TAB",e.UNRECOGNIZED="UNRECOGNIZED",e))(sae||{}),iae=(e=>(e.ATLAS_NAVLINKS_ACTION_STEP_UNSPECIFIED="ATLAS_NAVLINKS_ACTION_STEP_UNSPECIFIED",e.ATLAS_NAVLINKS_ACTION_STEP_SHOW="ATLAS_NAVLINKS_ACTION_STEP_SHOW",e.ATLAS_NAVLINKS_ACTION_STEP_CLICK="ATLAS_NAVLINKS_ACTION_STEP_CLICK",e.ATLAS_NAVLINKS_ACTION_STEP_SEE_MORE="ATLAS_NAVLINKS_ACTION_STEP_SEE_MORE",e.UNRECOGNIZED="UNRECOGNIZED",e))(iae||{}),oae=(e=>(e.ATLAS_SUPER_WIDGET_TAB_UNSPECIFIED="ATLAS_SUPER_WIDGET_TAB_UNSPECIFIED",e.ATLAS_SUPER_WIDGET_TAB_HOME="ATLAS_SUPER_WIDGET_TAB_HOME",e.ATLAS_SUPER_WIDGET_TAB_SEARCH="ATLAS_SUPER_WIDGET_TAB_SEARCH",e.ATLAS_SUPER_WIDGET_TAB_IMAGES="ATLAS_SUPER_WIDGET_TAB_IMAGES",e.ATLAS_SUPER_WIDGET_TAB_VIDEOS="ATLAS_SUPER_WIDGET_TAB_VIDEOS",e.ATLAS_SUPER_WIDGET_TAB_NEWS="ATLAS_SUPER_WIDGET_TAB_NEWS",e.UNRECOGNIZED="UNRECOGNIZED",e))(oae||{}),aae=(e=>(e.ATLAS_SUPER_WIDGET_RESULTS_ACTION_STEP_UNSPECIFIED="ATLAS_SUPER_WIDGET_RESULTS_ACTION_STEP_UNSPECIFIED",e.ATLAS_SUPER_WIDGET_RESULTS_ACTION_STEP_SHOW="ATLAS_SUPER_WIDGET_RESULTS_ACTION_STEP_SHOW",e.ATLAS_SUPER_WIDGET_RESULTS_ACTION_STEP_CLICK="ATLAS_SUPER_WIDGET_RESULTS_ACTION_STEP_CLICK",e.UNRECOGNIZED="UNRECOGNIZED",e))(aae||{}),cae=(e=>(e.ATLAS_GOOGLE_SEARCH_IT_ACTION_STEP_UNSPECIFIED="ATLAS_GOOGLE_SEARCH_IT_ACTION_STEP_UNSPECIFIED",e.ATLAS_GOOGLE_SEARCH_IT_ACTION_STEP_SHOW="ATLAS_GOOGLE_SEARCH_IT_ACTION_STEP_SHOW",e.ATLAS_GOOGLE_SEARCH_IT_ACTION_STEP_CLICK="ATLAS_GOOGLE_SEARCH_IT_ACTION_STEP_CLICK",e.UNRECOGNIZED="UNRECOGNIZED",e))(cae||{}),WW=(e=>(e.ATLAS_SAFE_SEARCH_TOGGLE_ACTION_STEP_UNSPECIFIED="ATLAS_SAFE_SEARCH_TOGGLE_ACTION_STEP_UNSPECIFIED",e.ATLAS_SAFE_SEARCH_TOGGLE_ACTION_STEP_SHOW="ATLAS_SAFE_SEARCH_TOGGLE_ACTION_STEP_SHOW",e.ATLAS_SAFE_SEARCH_TOGGLE_ACTION_STEP_TOGGLE="ATLAS_SAFE_SEARCH_TOGGLE_ACTION_STEP_TOGGLE",e.UNRECOGNIZED="UNRECOGNIZED",e))(WW||{});const Y6e={$type:"protobuf_analytics_events.v1.AtlasNavlinksAction"},K6e={$type:"protobuf_analytics_events.v1.AtlasClickSuperWidgetTab"},X6e={$type:"protobuf_analytics_events.v1.AtlasSuperWidgetResultsAction"},J6e={$type:"protobuf_analytics_events.v1.AtlasGoogleSearchItAction"},lae={$type:"protobuf_analytics_events.v1.AtlasSafeSearchToggleAction"};var uae=(e=>(e.TURN_CLIENT_STATUS_UNSPECIFIED="TURN_CLIENT_STATUS_UNSPECIFIED",e.TURN_CLIENT_STATUS_INPROGRESS="TURN_CLIENT_STATUS_INPROGRESS",e.TURN_CLIENT_STATUS_SUCCESS="TURN_CLIENT_STATUS_SUCCESS",e.TURN_CLIENT_STATUS_ERROR="TURN_CLIENT_STATUS_ERROR",e.TURN_CLIENT_STATUS_CANCELLED="TURN_CLIENT_STATUS_CANCELLED",e.UNRECOGNIZED="UNRECOGNIZED",e))(uae||{}),dae=(e=>(e.CHATGPT_ONBOARDING_TOOLS_INTRO_SKIPPED_REASON_UNSPECIFIED="CHATGPT_ONBOARDING_TOOLS_INTRO_SKIPPED_REASON_UNSPECIFIED",e.CHATGPT_ONBOARDING_TOOLS_INTRO_SKIPPED_REASON_STEPS_NOT_READY="CHATGPT_ONBOARDING_TOOLS_INTRO_SKIPPED_REASON_STEPS_NOT_READY",e.UNRECOGNIZED="UNRECOGNIZED",e))(dae||{}),fae=(e=>(e.UPSELL_OR_MODAL_TYPE_UNSPECIFIED="UPSELL_OR_MODAL_TYPE_UNSPECIFIED",e.UPSELL_OR_MODAL_TYPE_BLOCKING_INITIAL_MODAL="UPSELL_OR_MODAL_TYPE_BLOCKING_INITIAL_MODAL",e.UPSELL_OR_MODAL_TYPE_CUSTOM_NUX_MODAL="UPSELL_OR_MODAL_TYPE_CUSTOM_NUX_MODAL",e.UPSELL_OR_MODAL_TYPE_NUX_BANNER="UPSELL_OR_MODAL_TYPE_NUX_BANNER",e.UPSELL_OR_MODAL_TYPE_NUX_TOOLTIP="UPSELL_OR_MODAL_TYPE_NUX_TOOLTIP",e.UNRECOGNIZED="UNRECOGNIZED",e))(fae||{}),hae=(e=>(e.CHATGPT_IMAGE_GEN_CLIENT_STAGE_TYPE_UNSPECIFIED="CHATGPT_IMAGE_GEN_CLIENT_STAGE_TYPE_UNSPECIFIED",e.CHATGPT_IMAGE_GEN_CLIENT_STAGE_TYPE_PLACEHOLDER_RENDERED="CHATGPT_IMAGE_GEN_CLIENT_STAGE_TYPE_PLACEHOLDER_RENDERED",e.CHATGPT_IMAGE_GEN_CLIENT_STAGE_TYPE_FIRST_TOKEN_RENDERED="CHATGPT_IMAGE_GEN_CLIENT_STAGE_TYPE_FIRST_TOKEN_RENDERED",e.CHATGPT_IMAGE_GEN_CLIENT_STAGE_TYPE_SEGMENT_RENDERED="CHATGPT_IMAGE_GEN_CLIENT_STAGE_TYPE_SEGMENT_RENDERED",e.CHATGPT_IMAGE_GEN_CLIENT_STAGE_TYPE_GENERATION_COMPLETED="CHATGPT_IMAGE_GEN_CLIENT_STAGE_TYPE_GENERATION_COMPLETED",e.UNRECOGNIZED="UNRECOGNIZED",e))(hae||{}),pae=(e=>(e.CHATGPT_SIDEBAR_MENU_ITEM_UNSPECIFIED="CHATGPT_SIDEBAR_MENU_ITEM_UNSPECIFIED",e.CHATGPT_SIDEBAR_MENU_ITEM_IMAGE_HOME="CHATGPT_SIDEBAR_MENU_ITEM_IMAGE_HOME",e.UNRECOGNIZED="UNRECOGNIZED",e))(pae||{}),_ae=(e=>(e.CHATGPT_TURN_COMPLETION_STATUS_UNSPECIFIED="CHATGPT_TURN_COMPLETION_STATUS_UNSPECIFIED",e.CHATGPT_TURN_COMPLETION_STATUS_SUCCESS="CHATGPT_TURN_COMPLETION_STATUS_SUCCESS",e.CHATGPT_TURN_COMPLETION_STATUS_CANCELED="CHATGPT_TURN_COMPLETION_STATUS_CANCELED",e.UNRECOGNIZED="UNRECOGNIZED",e))(_ae||{}),mae=(e=>(e.CHATGPT_TURN_ERROR_TYPE_UNSPECIFIED="CHATGPT_TURN_ERROR_TYPE_UNSPECIFIED",e.CHATGPT_TURN_ERROR_TYPE_NETWORK_ERROR="CHATGPT_TURN_ERROR_TYPE_NETWORK_ERROR",e.CHATGPT_TURN_ERROR_TYPE_TIMEOUT="CHATGPT_TURN_ERROR_TYPE_TIMEOUT",e.CHATGPT_TURN_ERROR_TYPE_EMPTY_RESPONSE="CHATGPT_TURN_ERROR_TYPE_EMPTY_RESPONSE",e.CHATGPT_TURN_ERROR_TYPE_REQUEST_FAILED="CHATGPT_TURN_ERROR_TYPE_REQUEST_FAILED",e.CHATGPT_TURN_ERROR_TYPE_UNKNOWN_ERROR="CHATGPT_TURN_ERROR_TYPE_UNKNOWN_ERROR",e.UNRECOGNIZED="UNRECOGNIZED",e))(mae||{}),ii=(e=>(e.GOOGLE_ONE_TAP_EVENT_TYPE_UNSPECIFIED="GOOGLE_ONE_TAP_EVENT_TYPE_UNSPECIFIED",e.GOOGLE_ONE_TAP_EVENT_TYPE_ACCOUNTS_UNAVAILABLE="GOOGLE_ONE_TAP_EVENT_TYPE_ACCOUNTS_UNAVAILABLE",e.GOOGLE_ONE_TAP_EVENT_TYPE_CREDENTIAL_DECODE_FAILED="GOOGLE_ONE_TAP_EVENT_TYPE_CREDENTIAL_DECODE_FAILED",e.GOOGLE_ONE_TAP_EVENT_TYPE_CREDENTIAL_DECODE_EXCEPTION="GOOGLE_ONE_TAP_EVENT_TYPE_CREDENTIAL_DECODE_EXCEPTION",e.GOOGLE_ONE_TAP_EVENT_TYPE_CLIENT_ID_MISSING="GOOGLE_ONE_TAP_EVENT_TYPE_CLIENT_ID_MISSING",e.GOOGLE_ONE_TAP_EVENT_TYPE_PROMPT_SHOWN="GOOGLE_ONE_TAP_EVENT_TYPE_PROMPT_SHOWN",e.GOOGLE_ONE_TAP_EVENT_TYPE_PROMPT_NOT_DISPLAYED="GOOGLE_ONE_TAP_EVENT_TYPE_PROMPT_NOT_DISPLAYED",e.GOOGLE_ONE_TAP_EVENT_TYPE_PROMPT_PROMPTED="GOOGLE_ONE_TAP_EVENT_TYPE_PROMPT_PROMPTED",e.GOOGLE_ONE_TAP_EVENT_TYPE_PROMPT_SKIPPED="GOOGLE_ONE_TAP_EVENT_TYPE_PROMPT_SKIPPED",e.GOOGLE_ONE_TAP_EVENT_TYPE_PROMPT_DISMISSED="GOOGLE_ONE_TAP_EVENT_TYPE_PROMPT_DISMISSED",e.GOOGLE_ONE_TAP_EVENT_TYPE_LOGIN="GOOGLE_ONE_TAP_EVENT_TYPE_LOGIN",e.UNRECOGNIZED="UNRECOGNIZED",e))(ii||{});const Q6e={$type:"protobuf_analytics_events.v1.CopyTurnToClipboard"},Z6e={$type:"protobuf_analytics_events.v1.ChatgptWritingBlockFullscreenOpened"},eWe={$type:"protobuf_analytics_events.v1.ChatgptWritingBlockInsertButtonClicked"},tWe={$type:"protobuf_analytics_events.v1.ChatgptWritingBlockCopyButtonClicked"},nWe={$type:"protobuf_analytics_events.v1.ChatgptWritingBlockEmailSendButtonClicked"},rWe={$type:"protobuf_analytics_events.v1.ChatgptWritingBlockInlineEditNuxShown"},sWe={$type:"protobuf_analytics_events.v1.ChatgptWritingBlockInlineEditNuxAdvanced"},iWe={$type:"protobuf_analytics_events.v1.ChatgptWritingBlockInlineEditNuxCompleted"},oWe={$type:"protobuf_analytics_events.v1.ChatgptWritingBlockMagicEditSubmitted"},aWe={$type:"protobuf_analytics_events.v1.ChatgptWritingBlockMagicEditFailed"},cWe={$type:"protobuf_analytics_events.v1.ChatgptWritingBlockMagicEditAccepted"},lWe={$type:"protobuf_analytics_events.v1.ChatgptWritingBlockMagicEditRejected"},uWe={$type:"protobuf_analytics_events.v1.ChatgptTurnComplete"},dWe={$type:"protobuf_analytics_events.v1.ChatgptVoiceSession"},fWe={$type:"protobuf_analytics_events.v1.ChatgptUpsellOrModalShown"},hWe={$type:"protobuf_analytics_events.v1.ChatgptOnboardingLoadingShown"},pWe={$type:"protobuf_analytics_events.v1.ChatgptOnboardingWrappingUpShown"},_We={$type:"protobuf_analytics_events.v1.ChatgptImageGenClientCheckpoint"},mWe={$type:"protobuf_analytics_events.v1.ChatgptSidebarMenuItemClicked"},gWe={$type:"protobuf_analytics_events.v1.ChatgptOnboardingUsageOptionToggled"},vWe={$type:"protobuf_analytics_events.v1.ChatgptOnboardingToolsSkipClicked"},yWe={$type:"protobuf_analytics_events.v1.ChatgptTurnStart"},EWe={$type:"protobuf_analytics_events.v1.ChatgptTurnTerminalError"},CWe={$type:"protobuf_analytics_events.v1.ChatgptTurnFinish"},SWe={$type:"protobuf_analytics_events.v1.ChatgptYougovSurveyLogin"},gae={$type:"protobuf_analytics_events.v1.ChatgptGoogleOneTapEvent"},bWe={$type:"protobuf_analytics_events.v1.ChatgptWebSkillShareModalOpenedFromUrl"},TWe={$type:"protobuf_analytics_events.v1.ChatgptWebSkillUpdateSuccess"},OWe={$type:"protobuf_analytics_events.v1.ChatgptWebSkillCreateRawSuccess"},AWe={$type:"protobuf_analytics_events.v1.ChatgptWebSkillCreateZipSuccess"};var vae=(e=>(e.CHATGPT_APP_DIRECTORY_ENTRYPOINT_UNSPECIFIED="CHATGPT_APP_DIRECTORY_ENTRYPOINT_UNSPECIFIED",e.CHATGPT_APP_DIRECTORY_ENTRYPOINT_ADD_SHEET="CHATGPT_APP_DIRECTORY_ENTRYPOINT_ADD_SHEET",e.CHATGPT_APP_DIRECTORY_ENTRYPOINT_SETTINGS="CHATGPT_APP_DIRECTORY_ENTRYPOINT_SETTINGS",e.CHATGPT_APP_DIRECTORY_ENTRYPOINT_UNIVERSAL_LINK="CHATGPT_APP_DIRECTORY_ENTRYPOINT_UNIVERSAL_LINK",e.CHATGPT_APP_DIRECTORY_ENTRYPOINT_PLUS_MENU="CHATGPT_APP_DIRECTORY_ENTRYPOINT_PLUS_MENU",e.CHATGPT_APP_DIRECTORY_ENTRYPOINT_SIDEBAR="CHATGPT_APP_DIRECTORY_ENTRYPOINT_SIDEBAR",e.UNRECOGNIZED="UNRECOGNIZED",e))(vae||{}),yae=(e=>(e.CHATGPT_APP_PAGE_NAME_UNSPECIFIED="CHATGPT_APP_PAGE_NAME_UNSPECIFIED",e.CHATGPT_APP_PAGE_NAME_APP_DIRECTORY="CHATGPT_APP_PAGE_NAME_APP_DIRECTORY",e.CHATGPT_APP_PAGE_NAME_APP_WORKSPACE="CHATGPT_APP_PAGE_NAME_APP_WORKSPACE",e.CHATGPT_APP_PAGE_NAME_APP_DETAILS="CHATGPT_APP_PAGE_NAME_APP_DETAILS",e.CHATGPT_APP_PAGE_NAME_SETTINGS_APPS="CHATGPT_APP_PAGE_NAME_SETTINGS_APPS",e.CHATGPT_APP_PAGE_NAME_SIDEBAR="CHATGPT_APP_PAGE_NAME_SIDEBAR",e.CHATGPT_APP_PAGE_NAME_PLUS_MENU="CHATGPT_APP_PAGE_NAME_PLUS_MENU",e.UNRECOGNIZED="UNRECOGNIZED",e))(yae||{}),Eae=(e=>(e.CHATGPT_APP_CLICK_TARGET_UNSPECIFIED="CHATGPT_APP_CLICK_TARGET_UNSPECIFIED",e.CHATGPT_APP_CLICK_TARGET_CONNECT="CHATGPT_APP_CLICK_TARGET_CONNECT",e.CHATGPT_APP_CLICK_TARGET_DISCONNECT="CHATGPT_APP_CLICK_TARGET_DISCONNECT",e.CHATGPT_APP_CLICK_TARGET_HEADER="CHATGPT_APP_CLICK_TARGET_HEADER",e.CHATGPT_APP_CLICK_TARGET_FILTER_CATEGORY="CHATGPT_APP_CLICK_TARGET_FILTER_CATEGORY",e.CHATGPT_APP_CLICK_TARGET_SUBMIT_SEARCH="CHATGPT_APP_CLICK_TARGET_SUBMIT_SEARCH",e.CHATGPT_APP_CLICK_TARGET_START_CHAT="CHATGPT_APP_CLICK_TARGET_START_CHAT",e.UNRECOGNIZED="UNRECOGNIZED",e))(Eae||{});const wWe={$type:"protobuf_analytics_events.v1.ChatgptAppDirectoryImpression"},NWe={$type:"protobuf_analytics_events.v1.ChatgptAppPageView"},IWe={$type:"protobuf_analytics_events.v1.ChatgptAppClick"};var Cae=(e=>(e.CHATGPT_IMAGE_PROMPT_GROUP_PRESENTATION_TYPE_UNSPECIFIED="CHATGPT_IMAGE_PROMPT_GROUP_PRESENTATION_TYPE_UNSPECIFIED",e.CHATGPT_IMAGE_PROMPT_GROUP_PRESENTATION_TYPE_IMAGE_CARD="CHATGPT_IMAGE_PROMPT_GROUP_PRESENTATION_TYPE_IMAGE_CARD",e.CHATGPT_IMAGE_PROMPT_GROUP_PRESENTATION_TYPE_TEXT_PILL="CHATGPT_IMAGE_PROMPT_GROUP_PRESENTATION_TYPE_TEXT_PILL",e.CHATGPT_IMAGE_PROMPT_GROUP_PRESENTATION_TYPE_PORTRAIT="CHATGPT_IMAGE_PROMPT_GROUP_PRESENTATION_TYPE_PORTRAIT",e.CHATGPT_IMAGE_PROMPT_GROUP_PRESENTATION_TYPE_ICON_PILL="CHATGPT_IMAGE_PROMPT_GROUP_PRESENTATION_TYPE_ICON_PILL",e.UNRECOGNIZED="UNRECOGNIZED",e))(Cae||{}),Sae=(e=>(e.CHATGPT_IMAGE_HOME_NAVIGATION_SOURCE_TYPE_UNSPECIFIED="CHATGPT_IMAGE_HOME_NAVIGATION_SOURCE_TYPE_UNSPECIFIED",e.CHATGPT_IMAGE_HOME_NAVIGATION_SOURCE_TYPE_SIDE_BAR="CHATGPT_IMAGE_HOME_NAVIGATION_SOURCE_TYPE_SIDE_BAR",e.CHATGPT_IMAGE_HOME_NAVIGATION_SOURCE_TYPE_DEEP_LINK="CHATGPT_IMAGE_HOME_NAVIGATION_SOURCE_TYPE_DEEP_LINK",e.CHATGPT_IMAGE_HOME_NAVIGATION_SOURCE_TYPE_HOME_NUX="CHATGPT_IMAGE_HOME_NAVIGATION_SOURCE_TYPE_HOME_NUX",e.UNRECOGNIZED="UNRECOGNIZED",e))(Sae||{}),bae=(e=>(e.CHATGPT_IMAGE_HOME_NUX_TYPE_UNSPECIFIED="CHATGPT_IMAGE_HOME_NUX_TYPE_UNSPECIFIED",e.CHATGPT_IMAGE_HOME_NUX_TYPE_CLICK="CHATGPT_IMAGE_HOME_NUX_TYPE_CLICK",e.CHATGPT_IMAGE_HOME_NUX_TYPE_IMPRESSION="CHATGPT_IMAGE_HOME_NUX_TYPE_IMPRESSION",e.UNRECOGNIZED="UNRECOGNIZED",e))(bae||{});const PWe={$type:"protobuf_analytics_events.v1.ChatgptImageHomeImpression"},RWe={$type:"protobuf_analytics_events.v1.ChatgptImagePromptImpression"},xWe={$type:"protobuf_analytics_events.v1.ChatgptImagePromptSelected"},MWe={$type:"protobuf_analytics_events.v1.ChatgptImagePromptSent"},kWe={$type:"protobuf_analytics_events.v1.ChatgptImageHomeNuxEvents"};var Tae=(e=>(e.CHATGPT_IMAGE_LIGHTBOX_SOURCE_TYPE_UNSPECIFIED="CHATGPT_IMAGE_LIGHTBOX_SOURCE_TYPE_UNSPECIFIED",e.CHATGPT_IMAGE_LIGHTBOX_SOURCE_TYPE_CONVERSATION="CHATGPT_IMAGE_LIGHTBOX_SOURCE_TYPE_CONVERSATION",e.CHATGPT_IMAGE_LIGHTBOX_SOURCE_TYPE_IMAGE_HOME_LIBRARY="CHATGPT_IMAGE_LIGHTBOX_SOURCE_TYPE_IMAGE_HOME_LIBRARY",e.CHATGPT_IMAGE_LIGHTBOX_SOURCE_TYPE_IMAGE_LIBRARY="CHATGPT_IMAGE_LIGHTBOX_SOURCE_TYPE_IMAGE_LIBRARY",e.CHATGPT_IMAGE_LIGHTBOX_SOURCE_TYPE_CONVERSATION_CALPICO="CHATGPT_IMAGE_LIGHTBOX_SOURCE_TYPE_CONVERSATION_CALPICO",e.CHATGPT_IMAGE_LIGHTBOX_SOURCE_TYPE_CONVERSATION_SHARED="CHATGPT_IMAGE_LIGHTBOX_SOURCE_TYPE_CONVERSATION_SHARED",e.UNRECOGNIZED="UNRECOGNIZED",e))(Tae||{});const LWe={$type:"protobuf_analytics_events.v1.ChatgptImageLightboxImpression"},DWe={$type:"protobuf_analytics_events.v1.ChatgptConnectorsNUXRecommendationCheck"},FWe={$type:"protobuf_analytics_events.v1.ChatgptConnectorsReconnect"},UWe={$type:"protobuf_analytics_events.v1.ChatgptConnectorsReconnectModalShown"},jWe={$type:"protobuf_analytics_events.v1.ChatgptPromptTilesDismissClicked"};var Oae=(e=>(e.CHATGPT_PULSE_ONBOARDING_EVENT_TYPE_UNSPECIFIED="CHATGPT_PULSE_ONBOARDING_EVENT_TYPE_UNSPECIFIED",e.CHATGPT_PULSE_ONBOARDING_EVENT_TYPE_HERO_SCREEN_SHOWN="CHATGPT_PULSE_ONBOARDING_EVENT_TYPE_HERO_SCREEN_SHOWN",e.CHATGPT_PULSE_ONBOARDING_EVENT_TYPE_HERO_SCREEN_CLOSED="CHATGPT_PULSE_ONBOARDING_EVENT_TYPE_HERO_SCREEN_CLOSED",e.CHATGPT_PULSE_ONBOARDING_EVENT_TYPE_HERO_SCREEN_GET_STARTED_CLICKED="CHATGPT_PULSE_ONBOARDING_EVENT_TYPE_HERO_SCREEN_GET_STARTED_CLICKED",e.CHATGPT_PULSE_ONBOARDING_EVENT_TYPE_INTEREST_SCREEN_SHOWN="CHATGPT_PULSE_ONBOARDING_EVENT_TYPE_INTEREST_SCREEN_SHOWN",e.CHATGPT_PULSE_ONBOARDING_EVENT_TYPE_INTEREST_SCREEN_CLOSED="CHATGPT_PULSE_ONBOARDING_EVENT_TYPE_INTEREST_SCREEN_CLOSED",e.CHATGPT_PULSE_ONBOARDING_EVENT_TYPE_INTEREST_SCREEN_NEXT_CLICKED="CHATGPT_PULSE_ONBOARDING_EVENT_TYPE_INTEREST_SCREEN_NEXT_CLICKED",e.CHATGPT_PULSE_ONBOARDING_EVENT_TYPE_INTEREST_SCREEN_DONE_CLICKED="CHATGPT_PULSE_ONBOARDING_EVENT_TYPE_INTEREST_SCREEN_DONE_CLICKED",e.CHATGPT_PULSE_ONBOARDING_EVENT_TYPE_INTEREST_SCREEN_ITEM_TAPPED="CHATGPT_PULSE_ONBOARDING_EVENT_TYPE_INTEREST_SCREEN_ITEM_TAPPED",e.CHATGPT_PULSE_ONBOARDING_EVENT_TYPE_CONNECTOR_SCREEN_SHOWN="CHATGPT_PULSE_ONBOARDING_EVENT_TYPE_CONNECTOR_SCREEN_SHOWN",e.CHATGPT_PULSE_ONBOARDING_EVENT_TYPE_CONNECTOR_SCREEN_CLOSED="CHATGPT_PULSE_ONBOARDING_EVENT_TYPE_CONNECTOR_SCREEN_CLOSED",e.CHATGPT_PULSE_ONBOARDING_EVENT_TYPE_CONNECTOR_SCREEN_SKIP_CLICKED="CHATGPT_PULSE_ONBOARDING_EVENT_TYPE_CONNECTOR_SCREEN_SKIP_CLICKED",e.CHATGPT_PULSE_ONBOARDING_EVENT_TYPE_CONNECTOR_SCREEN_CONNECT_CLICKED="CHATGPT_PULSE_ONBOARDING_EVENT_TYPE_CONNECTOR_SCREEN_CONNECT_CLICKED",e.CHATGPT_PULSE_ONBOARDING_EVENT_TYPE_CONNECTOR_SCREEN_CONNECT_SUCCESS="CHATGPT_PULSE_ONBOARDING_EVENT_TYPE_CONNECTOR_SCREEN_CONNECT_SUCCESS",e.CHATGPT_PULSE_ONBOARDING_EVENT_TYPE_LOADING_SCREEN_SHOWN="CHATGPT_PULSE_ONBOARDING_EVENT_TYPE_LOADING_SCREEN_SHOWN",e.CHATGPT_PULSE_ONBOARDING_EVENT_TYPE_LOADING_SCREEN_CLOSED="CHATGPT_PULSE_ONBOARDING_EVENT_TYPE_LOADING_SCREEN_CLOSED",e.CHATGPT_PULSE_ONBOARDING_EVENT_TYPE_LOADING_SCREEN_AUTO_REDIRECT_FEED="CHATGPT_PULSE_ONBOARDING_EVENT_TYPE_LOADING_SCREEN_AUTO_REDIRECT_FEED",e.CHATGPT_PULSE_ONBOARDING_EVENT_TYPE_LOADING_SCREEN_NOTIFICATION_SETTINGS_CLICKED="CHATGPT_PULSE_ONBOARDING_EVENT_TYPE_LOADING_SCREEN_NOTIFICATION_SETTINGS_CLICKED",e.UNRECOGNIZED="UNRECOGNIZED",e))(Oae||{});const BWe={$type:"protobuf_analytics_events.v1.ChatgptPulseOnboardingEvent"},GWe={$type:"protobuf_analytics_events.v1.CompliancePlatformLogsDocumentationViewed"},Aae={$type:"protobuf_analytics_events.v1.ClientEventCounter"},HW={getPunchOut:()=>{},count:(e,t)=>{},addError:(e,t)=>{},addAction:(e,t)=>{}};class wae{constructor({appName:t,appVersion:n,deviceId:r,browserLocale:s,options:i,settings:o,instrumentation:a=HW}){this.appName=t,this.appVersion=n,this.instrumentation=a,this.statscTags={app_name:this.appName,app_version:this.appVersion},this.analytics=new Promise(c=>{ne(()=>import("./ey3cs36253y5gcya.js").then(l=>l.v),__vite__mapDeps([11,1])).then(l=>{if(!l){this.instrumentation.count("AnalyticsLogger.segmentImport.failed",this.statscTags);return}const u=new l.AnalyticsBrowser;c([u])})}),this.deviceId=r,this.browserLocale=s,this.browserLocale,this.options=i,this.settings=o}async initialize({user:t,statsigClient:n}){this.instrumentation.count("AnalyticsLogger.initialize.start",this.statscTags),t&&(this.user=t),n&&(this.statsigClient=n);const[r]=await this.analytics;r.load(this.settings,this.options).catch(s=>{this.instrumentation.count("AnalyticsLogger.initialize.failed",this.statscTags)}),r.ready(()=>{this.instrumentation.count("AnalyticsLogger.initialize.success",this.statscTags)})}buildEnvelope(t,n){var l,u,d,f,h,p,_,m,y;const r=t.$type,s=(l=this.statsigClient)==null?void 0:l.getContext(),i=s==null?void 0:s.user;let o;if(i){let v;i.customIDs&&(v=Object.fromEntries(Object.entries(i.customIDs).filter(E=>typeof E[1]=="string")));let O;if(i.custom){const E=Object.entries(i.custom).flatMap(T=>{const[A,w]=T;if(w===void 0)return[];try{const N=JSON.stringify(w);return N===void 0?[]:[[A,N]]}catch(N){return[]}});E.length>0&&(O=Object.fromEntries(E))}const S={userId:i.userID,customIds:v,email:i.email,ip:i.ip,userAgent:i.userAgent,country:i.country,locale:i.locale,appVersion:i.appVersion,custom:O};o={sessionId:(d=(u=s==null?void 0:s.session)==null?void 0:u.data)==null?void 0:d.sessionID,user:S}}const a={userId:(h=(f=this.user)==null?void 0:f.userId)!=null?h:"",deviceId:this.deviceId,authStatus:this.user?"logged_in":"logged_out",planType:(_=(p=this.user)==null?void 0:p.traits)==null?void 0:_.plan_type,workspaceId:(y=(m=this.user)==null?void 0:m.traits)==null?void 0:y.workspace_id},c={};return{eventId:yr(),eventCreatedAt:new Date().toISOString(),eventType:"web",userParams:a,deviceParams:c,statsig:o,eventParams:b({"@type":"openai.buf.dev/openai/protobuf-analytics-events/".concat(r)},n),punchOutInfoToken:this.instrumentation.getPunchOut(),clientMetadata:{name:this.appName,version:this.appVersion}}}normalizeEventName(t){var r;return((r=t.split(".").pop())!=null?r:t).replace(/([a-z0-9])([A-Z])/g,"$1_$2").replace(/([A-Z])([A-Z][a-z])/g,"$1_$2").toLowerCase()}async trackStructuredEvent(t,n){const r=this.buildEnvelope(t,n),s=this.normalizeEventName(t.$type),[i]=await this.analytics;i.track("__protobuf_structured_event__",r);const o=b({platform:"web",event_name:s},this.statscTags);this.instrumentation.count("analytics_event_tracked",o)}async trackCounter(t,n){return this.trackStructuredEvent(Aae,{counterName:t,metricValue:n})}}function Nae(){we.deleteCookie(Ce.SegmentUserId),we.deleteCookie(Ce.SegmentUserTraits),an.removeItem(Wt.SegmentUserId),an.removeItem(Wt.SegmentUserTraits)}const $W=()=>({hash:window.location.hash,path:window.location.pathname,search:window.location.search,url:window.location.href});var EN=(e=>(e.WINDOW_VISIBILITY_STATE_CHANGED="WINDOW_VISIBILITY_STATE_CHANGED",e.WINDOW_FOCUS_CHANGED="WINDOW_FOCUS_CHANGED",e))(EN||{}),sa=(e=>(e.LOGIN_CHANGED="LOGIN_CHANGED",e.LOGOUT="LOGOUT",e.QUIT="QUIT",e.SET_COMPANION_WINDOW_VISIBILITY="SET_COMPANION_WINDOW_VISIBILITY",e.SET_WEB_RELEASE_PROPERTIES="WEB_RELEASE_PROPERTIES",e.ERROR_THROWN="ERROR_THROWN",e.ZOOM="ZOOM",e.DESKTOP_SETTING_CHANGED="DESKTOP_SETTING_CHANGED",e.HOTKEY_RECORDING_STATE="HOTKEY_RECORDING_STATE",e.ADD_BREADCRUMB="ADD_BREADCRUMB",e))(sa||{}),qg=(e=>(e.ZOOM_IN="ZOOM_IN",e.ZOOM_OUT="ZOOM_OUT",e.ZOOM_RESET="ZOOM_RESET",e))(qg||{}),qW=(e=>(e.MICROPHONE="MICROPHONE",e))(qW||{});function WWe(){ot==null||ot.publish(sa.ZOOM,{command:qg.ZOOM_IN})}function HWe(){ot==null||ot.publish(sa.ZOOM,{command:qg.ZOOM_OUT})}function $We(){ot==null||ot.publish(sa.ZOOM,{command:qg.ZOOM_RESET})}function tk(e){if(ug){const t=Date.now();ot==null||ot.publish(sa.ADD_BREADCRUMB,{message:e,epochTimestamp:t})}}class Iae{constructor({appName:t,appVersion:n,deviceId:r,browserLocale:s,options:i,settings:o,instrumentation:a=HW}){U(this,"analytics");U(this,"appName");U(this,"appVersion");U(this,"deviceId");U(this,"browserLocale");U(this,"options");U(this,"settings");U(this,"user");U(this,"isBusinessIp2");U(this,"instrumentation");this.instrumentation=a,this.analytics=new Promise(c=>{ne(()=>import("./ey3cs36253y5gcya.js").then(l=>l.v),__vite__mapDeps([11,1])).then(l=>{if(!l){this.instrumentation.addAction("ClientEventsServiceLogger.segmentImport.failed",{appName:t,appVersion:n}),this.instrumentation.count("ClientEventsServiceLogger.segmentImport.failed",{appName:t,appVersion:n});return}const u=new l.AnalyticsBrowser;u.addSourceMiddleware(Pae(this)),c([u])})}),this.appName=t,this.appVersion=n,this.deviceId=r,this.browserLocale=s,this.options=i,this.settings=o}async initialize({user:t}){const n={appName:this.appName,appVersion:this.appVersion};this.instrumentation.addAction("ClientEventsServiceLogger.initialize.start",n),this.instrumentation.count("ClientEventsServiceLogger.initialize.start",n),t&&this.identify(t);const[r]=await this.analytics;r.load(this.settings,this.options).catch(()=>{this.instrumentation.addAction("ClientEventsServiceLogger.initialize.failed",n),this.instrumentation.count("ClientEventsServiceLogger.initialize.failed",n)}),r.ready(()=>{this.instrumentation.addAction("ClientEventsServiceLogger.initialize.success",n),this.instrumentation.count("ClientEventsServiceLogger.initialize.success",n)})}async track(t,n){const[r]=await this.analytics,s=this.getSafePageViewParams();r.track(t,n,{page:s});const i={platform:"web",event_name:t,appName:this.appName,appVersion:this.appVersion};this.instrumentation.count("json_analytics_event_tracked",i);try{tk("Web Client Event: ".concat(t," with data: ").concat(JSON.stringify(n)))}catch(o){this.instrumentation.addError(new Error("ClientEventsServiceLogger.track.addDesktopBreadcrumb.failed",{cause:o}))}}async trackPageView(){const t=this.getSafePageViewParams(),[n]=await this.analytics;n.page(void 0,t,{page:t}),tk("Web Client Page View: ".concat(t.path))}async identify(t){this.user=t;const[n]=await this.analytics;n.identify(t.userId,t.traits)}setBusinessIpFlag(t){this.isBusinessIp2=t}getExtraContext(){var t;return{app_name:this.appName,app_version:this.appVersion,browser_locale:this.browserLocale,device_id:this.deviceId,auth_status:this.user?mu.LoggedIn:mu.LoggedOut,user_traits:(t=this.user)==null?void 0:t.traits,punch_out_info_token:yN(),is_business_ip2:String(!!this.isBusinessIp2)}}getSafePageViewParams(){try{return $W()}catch(t){return this.instrumentation.addError(new Error("ClientEventsServiceLogger.getPageViewParams.failed",{cause:t})),{}}}}function Pae(e){return({payload:t,next:n})=>{t.obj.context=b(b({},t.obj.context),e.getExtraContext()),n(t)}}const VW=as(),zW=navigator.language,gm="27708bcc2b52f2ffa559a947c7b032818dec0af9",YW={getPunchOut:()=>yN(),count:(e,t,n=1)=>xn.count(bn.SEGMENT,e,t,n),addError:(e,t)=>K.addError(e,t),addAction:(e,t)=>K.addAction(e,t)},pd=new Iae({appName:"chatgpt",appVersion:gm,deviceId:VW,browserLocale:zW,options:OG,settings:AG,instrumentation:YW}),_d=new wae({appName:"chatgpt",appVersion:gm,deviceId:VW,browserLocale:zW,options:OG,settings:AG,instrumentation:YW});function Rae(e){const t={};return Object.entries(e).forEach(([n,r])=>{(typeof r=="number"||typeof r=="string"||typeof r=="boolean")&&(t[n]=String(r))}),t}const ve={initialize({userInfo:e}={}){var s,i,o,a,c,l;const t=((s=e==null?void 0:e.currentAccount)==null?void 0:s.structure)===rr.WORKSPACE?e.currentAccount.id:null,n=e?{userId:e.sessionUser.id,traits:{plan_type:(o=(i=e.currentAccount)==null?void 0:i.planType)!=null?o:null,workspace_id:t,workspace_type:(c=(a=e.currentAccount)==null?void 0:a.workspaceType)!=null?c:null}}:null;pd.initialize({user:n});const r=Bt();if(r){const u=Br(r);_d.initialize({user:n!=null?n:void 0,statsigClient:u});const d=vt();pd.setBusinessIpFlag((l=d.isBusinessIp2)!=null?l:!1)}else _d.initialize({user:n!=null?n:void 0})},logEvent(e,t){pd.track(e,I(b({},t),{origin:"chat",app_version:gm}))},logEventWithStatsig(e,t,n){this.logValueEventWithStatsig({segmentEventName:e,statsigEventName:t,data:n})},logValueEventWithStatsig({segmentEventName:e,value:t,statsigEventName:n,data:r}){const s=I(b(b({},t!=null?{value:t}:{}),r),{origin:"chat",app_version:gm});pd.track(e,s);const i=Rae(s);ut.logEvent(n,t!=null?t:null,i)},logPageView(){pd.trackPageView()},logStructuredEvent(e,t){_d.trackStructuredEvent(e,t)},trackCounter(e,t){return _d.trackCounter(e,t)},logNewChatButtonClicked({location:e,gizmo_id:t}){this.logEvent("New Chat Button Clicked",{location:e,gizmo_id:t}),ut.logEvent("chatgpt_new_chat_button_clicked",null,{location:e})},logAuthErrorResponse(e,t){this.logEvent("Auth: Error",{error_code:e,providerId:t}),ut.logEvent("chatgpt_auth_error",e,{providerId:t})},logNoAuthAttachButtonClicked(e){this.logEvent("No Auth Attach Button Clicked",e),ut.logEvent("chatgpt_web_no_auth_attach_button_clicked",null,e)},logNoAuthVoiceButtonClicked(e){this.logEvent("No Auth Voice Button Clicked",e),ut.logEvent("chatgpt_web_no_auth_voice_button_clicked",null,e)},logLogInButtonClicked(e,t){this.logEvent("Auth: Login",e),ut.logEvent("chatgpt_auth_log_in",null,e),Pp(),this.logStructuredEvent(Rp,{authSessionLoggingId:Di(),actionType:kd.ACCESS_FLOW_ENTRY_ACTION_TYPE_LOGIN,entryPoint:t})},logSignUpButtonClicked(e,t){this.logEvent("Auth: Signup",e),ut.logEvent("chatgpt_auth_sign_up",null,e),Pp(),this.logStructuredEvent(Rp,{authSessionLoggingId:Di(),actionType:kd.ACCESS_FLOW_ENTRY_ACTION_TYPE_SIGNUP,entryPoint:t})},logLoginOrSignUpButtonClicked(e,t){this.logEvent("Auth: Login or Signup",e),ut.logEvent("chatgpt_auth_log_in_or_sign_up",null,e),Pp(),this.logStructuredEvent(Rp,{authSessionLoggingId:Di(),actionType:kd.ACCESS_FLOW_ENTRY_ACTION_TYPE_LOGIN_OR_SIGNUP,entryPoint:t})},logLoginModalContinueAction(e,t,n,r){this.logStructuredEvent(yl,{authSessionLoggingId:e,actionType:t,page:n,field:r})},logLogOutButtonClicked(e,t){this.logEvent("Auth: Logout",e),ut.logEvent("chatgpt_auth_log_out",null,e),this.logStructuredEvent(rae,{location:t,logoutType:GW.ACCESS_LOGOUT_TYPE_USER_INITIATED})},logAuthModalShown(e,t){if(t!=null&&t.isWelcomeBack){Pp();const n=Di();ve.logStructuredEvent(Rp,{authSessionLoggingId:n,actionType:kd.ACCESS_FLOW_ENTRY_ACTION_TYPE_WELCOME_BACK_MODAL_AUTO_SHOWN,entryPoint:jW.ACCESS_FLOW_ENTRY_POINT_LOGIN_MODAL,cta:"auto-triggerred"})}this.logStructuredEvent(tae,{authSessionLoggingId:e,page:Li.ACCESS_FLOW_PAGE_TYPE_CHATGPT_WEB_LOGIN_MODAL})},logAuthModalEmailTyped(e){ve.logStructuredEvent(yl,{authSessionLoggingId:e,actionType:No.ACCESS_FLOW_USER_ACTION_TYPE_INPUT,page:Li.ACCESS_FLOW_PAGE_TYPE_CHATGPT_WEB_LOGIN_MODAL,field:Ld.ACCESS_FLOW_FIELD_EMAIL})},logUsernameKindSwitched(e,t){ve.logStructuredEvent(yl,{authSessionLoggingId:e,actionType:t==="email"?No.ACCESS_FLOW_USER_ACTION_TYPE_SWITCH_TO_EMAIL:No.ACCESS_FLOW_USER_ACTION_TYPE_SWITCH_TO_PHONE,page:Li.ACCESS_FLOW_PAGE_TYPE_CHATGPT_WEB_LOGIN_MODAL})},logAuthModalPhoneNumberTyped(e){ve.logStructuredEvent(yl,{authSessionLoggingId:e,actionType:No.ACCESS_FLOW_USER_ACTION_TYPE_INPUT,page:Li.ACCESS_FLOW_PAGE_TYPE_CHATGPT_WEB_LOGIN_MODAL,field:Ld.ACCESS_FLOW_FIELD_PHONE})},logAuthModalInvalidUsername(e,t){this.logEventWithStatsig("Auth Modal Invalid Username",t.usernameKind==="email"?"chatgpt_auth_modal_invalid_email":"chatgpt_auth_modal_invalid_phone_number",t),this.logStructuredEvent(nae,{authSessionLoggingId:e,page:Li.ACCESS_FLOW_PAGE_TYPE_CHATGPT_WEB_LOGIN_MODAL,field:t.usernameKind==="email"?Ld.ACCESS_FLOW_FIELD_EMAIL:Ld.ACCESS_FLOW_FIELD_PHONE,validationType:BW.ACCESS_FLOW_VALIDATION_TYPE_CLIENT})},logAuthModalProfileCardLogin(e){this.logEventWithStatsig("Auth Modal Profile Card Login","chatgpt_auth_modal_profile_card_login",e),ve.logLoginModalContinueAction(Di(),No.ACCESS_FLOW_USER_ACTION_TYPE_CONTINUE,Li.ACCESS_FLOW_PAGE_TYPE_CHATGPT_WEB_LOG_BACK_IN_MODAL)},logAuthModalProfileCardRemoval(e){this.logEventWithStatsig("Auth Modal Profile Card Removal","chatgpt_auth_modal_profile_card_removal",e),ve.logStructuredEvent(yl,{authSessionLoggingId:Di(),actionType:No.ACCESS_FLOW_USER_ACTION_TYPE_REMOVE_SAVED_ACCOUNT_CLICKED,page:Li.ACCESS_FLOW_PAGE_TYPE_CHATGPT_WEB_LOG_BACK_IN_MODAL})},logSwitchToGenericLoginOrSignup(e){this.logEventWithStatsig("Auth Modal Switch to Generic Login or Signup","chatgpt_auth_modal_switch_to_generic_login_or_signup",e),ve.logStructuredEvent(yl,{authSessionLoggingId:Di(),actionType:No.ACCESS_FLOW_USER_ACTION_TYPE_SWITCH_TO_GENERIC_LOGIN_CLICKED,page:Li.ACCESS_FLOW_PAGE_TYPE_CHATGPT_WEB_LOG_BACK_IN_MODAL})},logRateLimitBannerShown(e){let t,n;switch(e.type){case"account_sharing_degrade":t="Account Sharing Degrade: Show Info",n="chatgpt_account_sharing_degrade_banner_shown";break;case"image-gen-multi-stream-banner":t="Image Gen Multi Stream: Show Multitasking Banner",n="chatgpt_image_gen_multi_stream_banner_shown";break;case"pro-mode-async-banner":t="Pro Mode Async Banner: Show Multitasking Banner",n="chatgpt_pro_mode_async_banner_shown";break;case"deep-research-banner":t="Deep Research Banner: Show Multitasking Banner",n="chatgpt_deep_research_banner_shown";break;case"tatertot-in-context-upsell":case"o3-mini-high-in-context-upsell-free":case"o3-mini-high-in-context-upsell-plus":case"deep-research-in-context-upsell":case"deep-research-in-context-upsell-free":case"codex-in-context-upsell":case"codex-in-context-upsell-plus":t="In-Context Upsell Banner: Show Info",n="chatgpt_in_context_upsell_banner_shown";break;case"agent-connector-in-context-upsell":t="Agent Connector In Context Upsell Banner: Show Info",n="chatgpt_agent_connector_in_context_upsell_banner_shown";break;default:t="Rate Limit: Show Info",n="chatgpt_rate_limit_banner_shown";break}this.logEvent(t,e);const o=e,{call_to_action:r}=o,i=G(o,["call_to_action"]);r==null||r.forEach((a,c)=>{i["call_to_action.".concat(c)]=a}),ut.logEvent(n,null,I(b({},i),{is_new_conversation:e.is_new_conversation.toString(),is_hard_block:e.is_hard_block.toString()}))},logRateLimitGetPlusButtonClicked(e){this.logEvent("Rate Limit: Click Upsell",e),ut.logEvent("chatgpt_rate_limit_get_plus_button_clicked",null,I(b({},e),{is_new_conversation:e.is_new_conversation?e.is_new_conversation.toString():"",is_hard_block:e.is_hard_block.toString()}))},logRateLimitUpgradePlanButtonClicked(e){this.logEvent("Rate Limit: Click Upsell",e),ut.logEvent("chatgpt_rate_limit_upgrade_plan_button_clicked",null,I(b({},e),{is_new_conversation:e.is_new_conversation.toString(),is_hard_block:e.is_hard_block.toString()}))},logPopoverHover(e){this.logEvent("Popover Hover",e),ut.logEvent("chatgpt_popover_hover",null,e)},logUpsellGetPlusButtonClicked(e){this.logEventWithStatsig("Upsell: Get Plus Clicked","chatgpt_upsell_get_plus_button_clicked",e)},logToggleShowRecents({isOnlyShowingRecents:e}){this.logEvent("Toggle Show Recents",{isOnlyShowingRecents:e}),ut.logEvent("chatgpt_toggle_show_recents",null,{isOnlyShowingRecents:String(e)})},logToggleShowGptList({isCollapsed:e}){this.logEvent("Toggle Show GPT List",{isCollapsed:e})},logToggleDesktopNavCollapsed({isDesktopNavCollapsed:e,action:t}){this.logEvent("Toggle Desktop Nav Collapsed",{isDesktopNavCollapsed:e}),ut.logEvent("chatgpt_toggle_desktop_nav_collapsed",null,{isDesktopNavCollapsed:String(e),action:t})},logTogglePlanManagementModal({isOpen:e}){const t="chatgpt_toggle_plan_management_modal";this.logEvent("Toggle Plan Management Modal",{isOpen:e}),ut.logEvent(t,null,{isOpen:String(e)})},logPaymentSuccess(e){this.logEvent("Subscription: Payment Success Page",e),ut.logEvent("chatgpt_plan_payment_success_page",null,e)},logNetworkError(e){this.logEvent("chatgpt_web_network_error",e),ut.logEvent("chatgpt_web_network_error",null,e)},logFailedToFetchError(e){this.logEvent("chatgpt_web_failed_to_fetch",e),ut.logEvent("chatgpt_web_failed_to_fetch",null,e)},logUpsellOrModalEvent(e,t){_d.trackStructuredEvent(e,I(b({},t),{sessionId:UW()}))}},nk=e=>Object.hasOwnProperty.call(e,"id");let xae=0;class Mae{constructor(){U(this,"toasts$",me([]))}notify(t,n){if(nk(n))for(const s of this.toasts$())String(s.id).startsWith(n.id)&&this.closeToast(s.id);const r=this.createToastInstance(t,n);return this.toasts$.set(s=>[r,...s]),r}createToastInstance(t,n){var i;const r=++xae,s=nk(n)?"".concat(n.id,"-").concat(r):r;return{id:s,title:t,description:n.description,hasCloseButton:!!n.hasCloseButton,duration:typeof n.duration=="number"?n.duration:5,close:()=>this.closeToast(s),onRemove:n.onRemove,intent:(i=n.intent)!=null?i:sn.info,isShown:!0,testId:n.testId}}closeToast(t){this.toasts$.set(n=>n.map(r=>r.id===t?I(b({},r),{isShown:!1}):r))}removeToast(t){gt(()=>{var n,r;(r=(n=this.toasts$().find(s=>s.id===t))==null?void 0:n.onRemove)==null||r.call(n)}),this.toasts$.set(n=>n.filter(r=>r.id!==t))}closeAll(){gt(()=>{this.toasts$().forEach(t=>t.close())})}info(t,n){return this.notify(t,I(b({},n),{intent:sn.info}))}success(t,n){return this.notify(t,I(b({},n),{intent:sn.success}))}successNeutral(t,n){return this.notify(t,I(b({},n),{intent:sn.successNeutral}))}warning(t,n){return this.notify(t,I(b({},n),{intent:sn.warning}))}danger(t,n){var o,a,c,l,u;const r=t;let s="",i="";return typeof t=="string"?s=t:(s=String((o=t.defaultMessage)!=null?o:""),i=String((a=t.description)!=null?a:"")),n!=null&&n.error&&!n.description&&(n=I(b({},n),{description:kae(n.error)})),ve.logEvent("error_toast_shown",{category:(c=n==null?void 0:n.toastId)!=null?c:"unknown",title:(l=n==null?void 0:n.loggingTitle)!=null?l:s,description:(u=n==null?void 0:n.loggingDescription)!=null?u:i}),this.notify(r,I(b({},n),{intent:sn.danger}))}}function kae(e){var t;if(typeof e=="string")return e;if(e instanceof Gt&&typeof((t=e.detail)==null?void 0:t.details)=="string")return e.detail.details;if(e instanceof Error)return e.message}const Vg=ct(()=>new Mae);function Hn(){"use forget";const e=W.c(2),t=ce();let n;return e[0]!==t?(n=Vg(t),e[0]=t,e[1]=n):n=e[1],n}function Lae(){"use forget";const e=W.c(5),t=ce(),n=Vg(t),s=Le(n.toasts$).filter(Dae);if(s.length===0)return null;const i=Ah,o="toaster_boundary_error",a="pointer-events-none fixed inset-0 z-60 mx-auto my-2 flex max-w-[728px] flex-col items-stretch justify-start md:pb-5",c=s.map(d=>{const p=d,{id:f}=p,h=G(p,["id"]);return g.jsx(Goe,I(b({},h),{onRemove:()=>n.removeToast(f)}),f)});let l;e[0]!==c?(l=g.jsx("span",{className:a,children:c}),e[0]=c,e[1]=l):l=e[1];let u;return e[2]!==i||e[3]!==l?(u=g.jsx(i,{name:o,children:l}),e[2]=i,e[3]=l,e[4]=u):u=e[4],u}function Dae(e){return e.isShown!==!1}function Hi(){return ln({queryKey:["userSettings"],queryFn:async()=>{const e=Y.safeGet("/settings/user",{authOption:en.SendIfAvailable});K.addFirstTiming("load.userSettings");const t=await e;return XW(JW(t)),t}})}function KW(e){const t=we.getCookie(Ce.LastUsedModelConfig);if(t)try{const r=JSON.parse(t);if(r&&typeof r=="object"&&(r.model===void 0||typeof r.model=="string")&&(r.effort===void 0||typeof r.effort=="string")){const s=r;return fm(e,s.model)?(we.deleteCookie(Ce.LastUsedModelConfig),{}):s}}catch(r){}const n=we.getCookie(Ce.LastUsedModel);if(n&&(we.deleteCookie(Ce.LastUsedModel),!fm(e,n))){const r={model:n};return XW(r),r}return{}}function XW(e){try{e.model?we.setCookie(Ce.LastUsedModelConfig,JSON.stringify(e),{path:"/",maxAge:3600*24*30}):we.deleteCookie(Ce.LastUsedModelConfig)}catch(t){}}function JW(e){var s,i,o,a,c;const t=(s=e.settings)==null?void 0:s[ro.LastUsedModelConfig],n=(i=t==null?void 0:t.slugs[Rd.WEB])!=null?i:t==null?void 0:t.slugs[Rd.DEFAULT],r=n?(c=(o=t==null?void 0:t.juices[Rd.WEB])==null?void 0:o[n])!=null?c:(a=t==null?void 0:t.juices[Rd.DEFAULT])==null?void 0:a[n]:void 0;return{model:n,effort:r}}const wh=Ie(e=>qt(e,()=>I(b({},Hi()),{enabled:yt()})));function Fae(){"use forget";const e=W.c(2),t=ce();let n;return e[0]!==t?(n=()=>wh(t),e[0]=t,e[1]=n):n=e[1],Le(n)}function Uae(e,t){var n,r;return(r=(n=wh(e).data)==null?void 0:n.settings)==null?void 0:r[t]}function jae(e){"use forget";var o;const t=W.c(3),{data:n,isLoading:r}=Fae(),s=(o=n==null?void 0:n.settings)==null?void 0:o[e];let i;return t[0]!==r||t[1]!==s?(i={data:s,isLoading:r},t[0]=r,t[1]=s,t[2]=i):i=t[2],i}const qWe=ct(e=>Og(e,{mutationFn:async({modelSlug:t,thinkingEffort:n})=>{if(!fm(e,t))return await Y.safePatch("/settings/user_last_used_model_config",{parameters:{query:{model_slug:t,thinking_effort:n}}})},onSuccess:()=>{on(e).invalidateQueries(Hi())}}));function QW(e=!1){const t=Kt(),n=Hn(),r=ft(),s=At({updatePermissionError:{id:"user.permissions.updatePermissionError",defaultMessage:"Unable to update permissions: {error}"}});return tn({mutationFn:({setting:i,value:o,account_id:a})=>{const c=typeof o=="string"||typeof o=="boolean"?o.toString():JSON.stringify(o),l=a?{"ChatGPT-Account-ID":a}:{};return Y.safePatch("/settings/account_user_setting",{additionalHeaders:l,parameters:{query:{feature:i,value:c}}})},onMutate:async({setting:i,value:o})=>{if(e){await t.cancelQueries(Hi());const a=t.getQueryData(Hi().queryKey);return t.setQueryData(Hi().queryKey,c=>c!=null&&c.settings?I(b({},c),{settings:I(b({},c.settings),{[i]:o})}):c),{previousValue:a}}},onError:(i,o,a)=>{e&&a!==void 0&&t.setQueryData(Hi().queryKey,a.previousValue);const c=i;c&&c.status===403&&c.code==="feature-locked-by-owner"&&n.danger(r.formatMessage(s.updatePermissionError,{error:c.message})),o.setting===ro.AtlasAdultSearchAllowed&&c&&c.status===403&&c.code==="immutable-setting"&&n.danger(r.formatMessage(s.updatePermissionError,{error:c.message}))},onSuccess:(i,{setting:o})=>{t.invalidateQueries(Hi()),o===ro.DeveloperMode&&t.invalidateQueries(Eu("connectors"))}})}const ZW=()=>ln({queryKey:["userIsAdult"],queryFn:async()=>await Y.safeGet("/settings/is_adult",{authOption:en.SendIfAvailable})}),Bae=Ie(e=>qt(e,()=>I(b({},ZW()),{enabled:yt()})));function VWe(e){return Bae(e).data}function zWe(){const e=Kt();return tn({mutationFn:()=>Y.safePost("/settings/clear_is_adult_caches",{}),onSuccess:()=>{e.invalidateQueries(Hi()),e.invalidateQueries(ZW())}})}const YWe=["USD","GBP","EUR","CLP","INR","IDR","PKR","THB","MYR","VND","PHP","NGN","ZAR","KZT","TZS","EGP","BRL","SEK","CZK","PLN","DKK","NOK","KRW","COP","MXN","PEN","HUF","QAR","RON"],Gae="USD",KWe="GBP",XWe="EUR",JWe="INR",QWe="IDR",ZWe="PKR",e9e="THB",t9e="MYR",n9e="VND",r9e="PHP",Wae={USD:"$",CLP:"$",GBP:"Â£",EUR:"â‚¬",INR:"â‚¹",IDR:"Rp",PKR:"â‚¨",THB:"à¸¿",MYR:"RM",VND:"â‚«",PHP:"â‚±",NGN:"â‚¦",ZAR:"R",KZT:"â‚¸",TZS:"TSh",EGP:"EÂ£",BRL:"R$",SEK:"kr",CZK:"KÄ",PLN:"zÅ‚",DKK:"kr",NOK:"kr",KRW:"â‚©",COP:"$",MXN:"$",PEN:"S/.",HUF:"Ft",QAR:"ï·¼",RON:"lei"},Hae={USD:2,CLP:0,GBP:2,EUR:2,INR:2,IDR:2,PKR:2,THB:2,MYR:2,VND:0,PHP:2,NGN:2,ZAR:2,KZT:2,TZS:2,EGP:2,BRL:2,SEK:2,CZK:2,PLN:2,DKK:2,NOK:2,KRW:0,COP:2,MXN:2,PEN:2,HUF:2,QAR:2,RON:2};function $ae(e){const t=Wae[e],n=e.toLowerCase();return{sign:{id:"currencyCodes.".concat(n,"Sign"),defaultMessage:t,description:"Currency sign/symbol for ".concat(e,".")},code:{id:"currencyCodes.".concat(n,"Code"),defaultMessage:e,description:"Abbreviated currency code for ".concat(e,".")}}}function s9e(e){return Hae[e.toUpperCase()]}$ae("USD");function Nh(e){return e===ae.EDUCATION_CBP||e===ae.DEPRECATED_EDU||e===ae.K12}function e9(e){return e===ae.ENTERPRISE_CBP||e===ae.ENTERPRISE_HC||e===ae.DEPRECATED_ENTERPRISE}function zg(e){return e9(e)||Nh(e)}function i9e(e){return e===ae.SELF_SERVE_BUSINESS||e===ae.ENTERPRISE_CBP||e===ae.ENTERPRISE_HC||e===ae.EDUCATION_CBP||e===ae.QUORUM||e===ae.DEPRECATED_ENTERPRISE||e===ae.DEPRECATED_EDU||e===ae.K12||e===ae.FREE_WORKSPACE}var xE,rk;function qae(){if(rk)return xE;rk=1;var e=Mg();function t(){this.__data__=new e,this.size=0}return xE=t,xE}var ME,sk;function Vae(){if(sk)return ME;sk=1;function e(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r}return ME=e,ME}var kE,ik;function zae(){if(ik)return kE;ik=1;function e(t){return this.__data__.get(t)}return kE=e,kE}var LE,ok;function Yae(){if(ok)return LE;ok=1;function e(t){return this.__data__.has(t)}return LE=e,LE}var DE,ak;function Kae(){if(ak)return DE;ak=1;var e=Mg(),t=eN(),n=tN(),r=200;function s(i,o){var a=this.__data__;if(a instanceof e){var c=a.__data__;if(!t||c.length<r-1)return c.push([i,o]),this.size=++a.size,this;a=this.__data__=new n(c)}return a.set(i,o),this.size=a.size,this}return DE=s,DE}var FE,ck;function CN(){if(ck)return FE;ck=1;var e=Mg(),t=qae(),n=Vae(),r=zae(),s=Yae(),i=Kae();function o(a){var c=this.__data__=new e(a);this.size=c.size}return o.prototype.clear=t,o.prototype.delete=n,o.prototype.get=r,o.prototype.has=s,o.prototype.set=i,FE=o,FE}var UE,lk;function Xae(){if(lk)return UE;lk=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return UE=t,UE}var jE,uk;function Jae(){if(uk)return jE;uk=1;function e(t){return this.__data__.has(t)}return jE=e,jE}var BE,dk;function t9(){if(dk)return BE;dk=1;var e=tN(),t=Xae(),n=Jae();function r(s){var i=-1,o=s==null?0:s.length;for(this.__data__=new e;++i<o;)this.add(s[i])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,BE=r,BE}var GE,fk;function Qae(){if(fk)return GE;fk=1;function e(t,n){for(var r=-1,s=t==null?0:t.length;++r<s;)if(n(t[r],r,t))return!0;return!1}return GE=e,GE}var WE,hk;function n9(){if(hk)return WE;hk=1;function e(t,n){return t.has(n)}return WE=e,WE}var HE,pk;function r9(){if(pk)return HE;pk=1;var e=t9(),t=Qae(),n=n9(),r=1,s=2;function i(o,a,c,l,u,d){var f=c&r,h=o.length,p=a.length;if(h!=p&&!(f&&p>h))return!1;var _=d.get(o),m=d.get(a);if(_&&m)return _==a&&m==o;var y=-1,v=!0,O=c&s?new e:void 0;for(d.set(o,a),d.set(a,o);++y<h;){var S=o[y],E=a[y];if(l)var T=f?l(E,S,y,a,o,d):l(S,E,y,o,a,d);if(T!==void 0){if(T)continue;v=!1;break}if(O){if(!t(a,function(A,w){if(!n(O,w)&&(S===A||u(S,A,c,l,d)))return O.push(w)})){v=!1;break}}else if(!(S===E||u(S,E,c,l,d))){v=!1;break}}return d.delete(o),d.delete(a),v}return HE=i,HE}var $E,_k;function s9(){if(_k)return $E;_k=1;var e=zs(),t=e.Uint8Array;return $E=t,$E}var qE,mk;function Zae(){if(mk)return qE;mk=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(s,i){r[++n]=[i,s]}),r}return qE=e,qE}var VE,gk;function SN(){if(gk)return VE;gk=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(s){r[++n]=s}),r}return VE=e,VE}var zE,vk;function ece(){if(vk)return zE;vk=1;var e=Fu(),t=s9(),n=Rg(),r=r9(),s=Zae(),i=SN(),o=1,a=2,c="[object Boolean]",l="[object Date]",u="[object Error]",d="[object Map]",f="[object Number]",h="[object RegExp]",p="[object Set]",_="[object String]",m="[object Symbol]",y="[object ArrayBuffer]",v="[object DataView]",O=e?e.prototype:void 0,S=O?O.valueOf:void 0;function E(T,A,w,N,P,x,D){switch(w){case v:if(T.byteLength!=A.byteLength||T.byteOffset!=A.byteOffset)return!1;T=T.buffer,A=A.buffer;case y:return!(T.byteLength!=A.byteLength||!x(new t(T),new t(A)));case c:case l:case f:return n(+T,+A);case u:return T.name==A.name&&T.message==A.message;case h:case _:return T==A+"";case d:var M=s;case p:var F=N&o;if(M||(M=i),T.size!=A.size&&!F)return!1;var j=D.get(T);if(j)return j==A;N|=a,D.set(T,A);var $=r(M(T),M(A),N,P,x,D);return D.delete(T),$;case m:if(S)return S.call(T)==S.call(A)}return!1}return zE=E,zE}var YE,yk;function bN(){if(yk)return YE;yk=1;function e(t,n){for(var r=-1,s=n.length,i=t.length;++r<s;)t[i+r]=n[r];return t}return YE=e,YE}var KE,Ek;function Wr(){if(Ek)return KE;Ek=1;var e=Array.isArray;return KE=e,KE}var XE,Ck;function i9(){if(Ck)return XE;Ck=1;var e=bN(),t=Wr();function n(r,s,i){var o=s(r);return t(r)?o:e(o,i(r))}return XE=n,XE}var JE,Sk;function tce(){if(Sk)return JE;Sk=1;function e(t,n){for(var r=-1,s=t==null?0:t.length,i=0,o=[];++r<s;){var a=t[r];n(a,r,t)&&(o[i++]=a)}return o}return JE=e,JE}var QE,bk;function o9(){if(bk)return QE;bk=1;function e(){return[]}return QE=e,QE}var ZE,Tk;function TN(){if(Tk)return ZE;Tk=1;var e=tce(),t=o9(),n=Object.prototype,r=n.propertyIsEnumerable,s=Object.getOwnPropertySymbols,i=s?function(o){return o==null?[]:(o=Object(o),e(s(o),function(a){return r.call(o,a)}))}:t;return ZE=i,ZE}var eC,Ok;function nce(){if(Ok)return eC;Ok=1;function e(t,n){for(var r=-1,s=Array(t);++r<t;)s[r]=n(r);return s}return eC=e,eC}var tC,Ak;function va(){if(Ak)return tC;Ak=1;function e(t){return t!=null&&typeof t=="object"}return tC=e,tC}var nC,wk;function rce(){if(wk)return nC;wk=1;var e=Uu(),t=va(),n="[object Arguments]";function r(s){return t(s)&&e(s)==n}return nC=r,nC}var rC,Nk;function ON(){if(Nk)return rC;Nk=1;var e=rce(),t=va(),n=Object.prototype,r=n.hasOwnProperty,s=n.propertyIsEnumerable,i=e((function(){return arguments})())?e:function(o){return t(o)&&r.call(o,"callee")&&!s.call(o,"callee")};return rC=i,rC}var Dd={exports:{}},sC,Ik;function sce(){if(Ik)return sC;Ik=1;function e(){return!1}return sC=e,sC}Dd.exports;var Pk;function AN(){return Pk||(Pk=1,(function(e,t){var n=zs(),r=sce(),s=t&&!t.nodeType&&t,i=s&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===s,a=o?n.Buffer:void 0,c=a?a.isBuffer:void 0,l=c||r;e.exports=l})(Dd,Dd.exports)),Dd.exports}var iC,Rk;function Yg(){if(Rk)return iC;Rk=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(r,s){var i=typeof r;return s=s==null?e:s,!!s&&(i=="number"||i!="symbol"&&t.test(r))&&r>-1&&r%1==0&&r<s}return iC=n,iC}var oC,xk;function wN(){if(xk)return oC;xk=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return oC=t,oC}var aC,Mk;function ice(){if(Mk)return aC;Mk=1;var e=Uu(),t=wN(),n=va(),r="[object Arguments]",s="[object Array]",i="[object Boolean]",o="[object Date]",a="[object Error]",c="[object Function]",l="[object Map]",u="[object Number]",d="[object Object]",f="[object RegExp]",h="[object Set]",p="[object String]",_="[object WeakMap]",m="[object ArrayBuffer]",y="[object DataView]",v="[object Float32Array]",O="[object Float64Array]",S="[object Int8Array]",E="[object Int16Array]",T="[object Int32Array]",A="[object Uint8Array]",w="[object Uint8ClampedArray]",N="[object Uint16Array]",P="[object Uint32Array]",x={};x[v]=x[O]=x[S]=x[E]=x[T]=x[A]=x[w]=x[N]=x[P]=!0,x[r]=x[s]=x[m]=x[i]=x[y]=x[o]=x[a]=x[c]=x[l]=x[u]=x[d]=x[f]=x[h]=x[p]=x[_]=!1;function D(M){return n(M)&&t(M.length)&&!!x[e(M)]}return aC=D,aC}var cC,kk;function Kg(){if(kk)return cC;kk=1;function e(t){return function(n){return t(n)}}return cC=e,cC}var Fd={exports:{}};Fd.exports;var Lk;function NN(){return Lk||(Lk=1,(function(e,t){var n=Q6(),r=t&&!t.nodeType&&t,s=r&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===r,o=i&&n.process,a=(function(){try{var c=s&&s.require&&s.require("util").types;return c||o&&o.binding&&o.binding("util")}catch(l){}})();e.exports=a})(Fd,Fd.exports)),Fd.exports}var lC,Dk;function a9(){if(Dk)return lC;Dk=1;var e=ice(),t=Kg(),n=NN(),r=n&&n.isTypedArray,s=r?t(r):e;return lC=s,lC}var uC,Fk;function c9(){if(Fk)return uC;Fk=1;var e=nce(),t=ON(),n=Wr(),r=AN(),s=Yg(),i=a9(),o=Object.prototype,a=o.hasOwnProperty;function c(l,u){var d=n(l),f=!d&&t(l),h=!d&&!f&&r(l),p=!d&&!f&&!h&&i(l),_=d||f||h||p,m=_?e(l.length,String):[],y=m.length;for(var v in l)(u||a.call(l,v))&&!(_&&(v=="length"||h&&(v=="offset"||v=="parent")||p&&(v=="buffer"||v=="byteLength"||v=="byteOffset")||s(v,y)))&&m.push(v);return m}return uC=c,uC}var dC,Uk;function IN(){if(Uk)return dC;Uk=1;var e=Object.prototype;function t(n){var r=n&&n.constructor,s=typeof r=="function"&&r.prototype||e;return n===s}return dC=t,dC}var fC,jk;function l9(){if(jk)return fC;jk=1;function e(t,n){return function(r){return t(n(r))}}return fC=e,fC}var hC,Bk;function oce(){if(Bk)return hC;Bk=1;var e=l9(),t=e(Object.keys,Object);return hC=t,hC}var pC,Gk;function ace(){if(Gk)return pC;Gk=1;var e=IN(),t=oce(),n=Object.prototype,r=n.hasOwnProperty;function s(i){if(!e(i))return t(i);var o=[];for(var a in Object(i))r.call(i,a)&&a!="constructor"&&o.push(a);return o}return pC=s,pC}var _C,Wk;function Bu(){if(Wk)return _C;Wk=1;var e=Z6(),t=wN();function n(r){return r!=null&&t(r.length)&&!e(r)}return _C=n,_C}var mC,Hk;function Gu(){if(Hk)return mC;Hk=1;var e=c9(),t=ace(),n=Bu();function r(s){return n(s)?e(s):t(s)}return mC=r,mC}var gC,$k;function u9(){if($k)return gC;$k=1;var e=i9(),t=TN(),n=Gu();function r(s){return e(s,n,t)}return gC=r,gC}var vC,qk;function cce(){if(qk)return vC;qk=1;var e=u9(),t=1,n=Object.prototype,r=n.hasOwnProperty;function s(i,o,a,c,l,u){var d=a&t,f=e(i),h=f.length,p=e(o),_=p.length;if(h!=_&&!d)return!1;for(var m=h;m--;){var y=f[m];if(!(d?y in o:r.call(o,y)))return!1}var v=u.get(i),O=u.get(o);if(v&&O)return v==o&&O==i;var S=!0;u.set(i,o),u.set(o,i);for(var E=d;++m<h;){y=f[m];var T=i[y],A=o[y];if(c)var w=d?c(A,T,y,o,i,u):c(T,A,y,i,o,u);if(!(w===void 0?T===A||l(T,A,a,c,u):w)){S=!1;break}E||(E=y=="constructor")}if(S&&!E){var N=i.constructor,P=o.constructor;N!=P&&"constructor"in i&&"constructor"in o&&!(typeof N=="function"&&N instanceof N&&typeof P=="function"&&P instanceof P)&&(S=!1)}return u.delete(i),u.delete(o),S}return vC=s,vC}var yC,Vk;function lce(){if(Vk)return yC;Vk=1;var e=Zc(),t=zs(),n=e(t,"DataView");return yC=n,yC}var EC,zk;function uce(){if(zk)return EC;zk=1;var e=Zc(),t=zs(),n=e(t,"Promise");return EC=n,EC}var CC,Yk;function d9(){if(Yk)return CC;Yk=1;var e=Zc(),t=zs(),n=e(t,"Set");return CC=n,CC}var SC,Kk;function dce(){if(Kk)return SC;Kk=1;var e=Zc(),t=zs(),n=e(t,"WeakMap");return SC=n,SC}var bC,Xk;function Xg(){if(Xk)return bC;Xk=1;var e=lce(),t=eN(),n=uce(),r=d9(),s=dce(),i=Uu(),o=eW(),a="[object Map]",c="[object Object]",l="[object Promise]",u="[object Set]",d="[object WeakMap]",f="[object DataView]",h=o(e),p=o(t),_=o(n),m=o(r),y=o(s),v=i;return(e&&v(new e(new ArrayBuffer(1)))!=f||t&&v(new t)!=a||n&&v(n.resolve())!=l||r&&v(new r)!=u||s&&v(new s)!=d)&&(v=function(O){var S=i(O),E=S==c?O.constructor:void 0,T=E?o(E):"";if(T)switch(T){case h:return f;case p:return a;case _:return l;case m:return u;case y:return d}return S}),bC=v,bC}var TC,Jk;function fce(){if(Jk)return TC;Jk=1;var e=CN(),t=r9(),n=ece(),r=cce(),s=Xg(),i=Wr(),o=AN(),a=a9(),c=1,l="[object Arguments]",u="[object Array]",d="[object Object]",f=Object.prototype,h=f.hasOwnProperty;function p(_,m,y,v,O,S){var E=i(_),T=i(m),A=E?u:s(_),w=T?u:s(m);A=A==l?d:A,w=w==l?d:w;var N=A==d,P=w==d,x=A==w;if(x&&o(_)){if(!o(m))return!1;E=!0,N=!1}if(x&&!N)return S||(S=new e),E||a(_)?t(_,m,y,v,O,S):n(_,m,A,y,v,O,S);if(!(y&c)){var D=N&&h.call(_,"__wrapped__"),M=P&&h.call(m,"__wrapped__");if(D||M){var F=D?_.value():_,j=M?m.value():m;return S||(S=new e),O(F,j,y,v,S)}}return x?(S||(S=new e),r(_,m,y,v,O,S)):!1}return TC=p,TC}var OC,Qk;function Jg(){if(Qk)return OC;Qk=1;var e=fce(),t=va();function n(r,s,i,o,a){return r===s?!0:r==null||s==null||!t(r)&&!t(s)?r!==r&&s!==s:e(r,s,i,o,n,a)}return OC=n,OC}var AC,Zk;function hce(){if(Zk)return AC;Zk=1;var e=Jg();function t(n,r){return e(n,r)}return AC=t,AC}var pce=hce();const f9=$t(pce);function h9(e){return e!==ae.GUEST&&e!==ae.FREE&&e!==ae.FREE_WORKSPACE}function o9e(e){try{const n=new Intl.Segmenter("en-US",{granularity:"grapheme"}).segment(e),r=[];for(const s of n)r.push(s.segment);return r}catch(t){return e.split("")}}function _ce(e){const t=[];for(let n=0;n<e.length;n++){const r=e.codePointAt(n);r!==void 0&&(t.push(r),r>65535&&n++)}return t}function mce(e){const t=e.trim();if("Intl"in window&&"Segmenter"in Intl){const n=navigator.language||"en-US",s=new Intl.Segmenter(n,{granularity:"word"}).segment(t);let i=0;for(const o of s)o.isWordLike&&i++;return i}return t.split(/\s+/).filter(n=>n.length>0).length}function wC(e){return String.fromCodePoint(...e)}function a9e(e){return e.replaceAll(/[\s_]+/g,"-").replaceAll(/([a-z0-9])([A-Z])/g,"$1-$2").replaceAll(/([A-Z]+)([A-Z][a-z0-9]+)/g,"$1-$2").replaceAll(/-+/g,"-").toLowerCase()}let DA;function gce(){let e;return{promise:new Promise(n=>{e=n}),resolve:e}}const{promise:vce,resolve:yce}=gce();function c9e(e){DA=e,yce(e)}const eL=1e4;async function Qg(){if(DA)return DA;try{return await Promise.race([vce,new Promise((t,n)=>setTimeout(()=>n(new Error("Aura host initialization timed out")),eL))])}catch(e){throw Ac.error("Aura host failed to initialize before whisper request",{timeout_ms:eL,error_message:e&&typeof e=="object"&&"message"in e?e.message:String(e)}),e instanceof Error?e:new Error(String(e))}}async function l9e(){try{return await(await Qg()).getHost().getToolNames()}catch(e){return null}}const vm=e=>e;class Ece{static async getTask({taskId:t}){return Y.safeGet("/task/{task_id}",{parameters:{path:{task_id:t}}})}static async cancelTask({taskId:t}){return Y.safePost("/task/cancel",{requestBody:{task_id:t}})}static async answerNowTask({taskId:t}){return Y.safePost("/task/answer_now",{requestBody:{task_id:t}})}static async getTasks({cursor:t}){return Y.safeGet("/tasks",{parameters:{query:{cursor:t!=null?t:null}}})}static async addResultMessage({taskId:t,parentConversationId:n,leafNodeToAppendTo:r}){return Y.safePost("/task/add_result_message",{requestBody:{task_id:t,parent_conversation_id:n,leaf_node_to_append_to:r}})}static async interruptTask({taskId:t,prompt:n}){return Y.safePost("/task/interrupt",{requestBody:{task_id:t,prompt:n}})}static async addResultMessageToCanvas({taskId:t,parentConversationId:n,leafNodeToAppendTo:r}){return Y.safePost("/task/add_result_message_to_canvas",{requestBody:{task_id:t,parent_conversation_id:n,leaf_node_to_append_to:r}})}}async function Cce(e,t){const n=e.getReader();let r;for(;!(r=await n.read()).done;)t(r.value)}function Sce(e){let t,n,r,s=!1;return function(o){t===void 0?(t=o,n=0,r=-1):t=Tce(t,o);const a=t.length;let c=0;for(;n<a;){s&&(t[n]===10&&(c=++n),s=!1);let l=-1;for(;n<a&&l===-1;++n)switch(t[n]){case 58:r===-1&&(r=n-c);break;case 13:s=!0;case 10:l=n;break}if(l===-1)break;e(t.subarray(c,l),r),c=n,r=-1}c===a?t=void 0:c!==0&&(t=t.subarray(c),n-=c)}}function bce(e,t,n){let r=tL();const s=new TextDecoder;return function(o,a){if(o.length===0)n==null||n(r),r=tL();else if(a>0){const c=s.decode(o.subarray(0,a)),l=a+(o[a+1]===32?2:1),u=s.decode(o.subarray(l));switch(c){case"data":r.data=r.data?r.data+"\n"+u:u;break;case"event":r.event=u;break;case"id":e(r.id=u);break;case"retry":const d=parseInt(u,10);isNaN(d)||t(r.retry=d);break}}}}function Tce(e,t){const n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}function tL(){return{data:"",event:"",id:"",retry:void 0}}var Oce=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const ym="text/event-stream",Ace=1e3,nL="last-event-id";function wce(e,t){var{signal:n,headers:r,onopen:s,onmessage:i,onclose:o,onerror:a,openWhenHidden:c,fetch:l}=t,u=Oce(t,["signal","headers","onopen","onmessage","onclose","onerror","openWhenHidden","fetch"]);return new Promise((d,f)=>{const h=Object.assign({},r);h.accept||(h.accept=ym);let p;function _(){p.abort(),document.hidden||E()}c||document.addEventListener("visibilitychange",_);let m=Ace,y=0;function v(){document.removeEventListener("visibilitychange",_),window.clearTimeout(y),p.abort()}n==null||n.addEventListener("abort",()=>{v(),d()});const O=l!=null?l:window.fetch,S=s!=null?s:Nce;async function E(){var T;p=new AbortController;try{const A=await O(e,Object.assign(Object.assign({},u),{headers:h,signal:p.signal}));await S(A),await Cce(A.body,Sce(bce(w=>{w?h[nL]=w:delete h[nL]},w=>{m=w},i))),o==null||o(),v(),d()}catch(A){if(!p.signal.aborted)try{const w=(T=a==null?void 0:a(A))!==null&&T!==void 0?T:m;window.clearTimeout(y),y=window.setTimeout(E,w)}catch(w){v(),f(w)}}}E()})}function Nce(e){const t=e.headers.get("content-type");if(!(t!=null&&t.startsWith(ym)))throw new Error("Expected content-type to be ".concat(ym,", Actual: ").concat(t))}var NC,rL;function Ice(){if(rL)return NC;rL=1;function e(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}return NC=e,NC}var Pce=Ice();const Os=$t(Pce);var IC,sL;function Rce(){if(sL)return IC;sL=1;var e=Fu(),t=ON(),n=Wr(),r=e?e.isConcatSpreadable:void 0;function s(i){return n(i)||t(i)||!!(r&&i&&i[r])}return IC=s,IC}var PC,iL;function p9(){if(iL)return PC;iL=1;var e=bN(),t=Rce();function n(r,s,i,o,a){var c=-1,l=r.length;for(i||(i=t),a||(a=[]);++c<l;){var u=r[c];s>0&&i(u)?s>1?n(u,s-1,i,o,a):e(a,u):o||(a[a.length]=u)}return a}return PC=n,PC}var RC,oL;function PN(){if(oL)return RC;oL=1;function e(t,n){for(var r=-1,s=t==null?0:t.length,i=Array(s);++r<s;)i[r]=n(t[r],r,t);return i}return RC=e,RC}var xC,aL;function Ih(){if(aL)return xC;aL=1;var e=Uu(),t=va(),n="[object Symbol]";function r(s){return typeof s=="symbol"||t(s)&&e(s)==n}return xC=r,xC}var MC,cL;function RN(){if(cL)return MC;cL=1;var e=Wr(),t=Ih(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function s(i,o){if(e(i))return!1;var a=typeof i;return a=="number"||a=="symbol"||a=="boolean"||i==null||t(i)?!0:r.test(i)||!n.test(i)||o!=null&&i in Object(o)}return MC=s,MC}var kC,lL;function xce(){if(lL)return kC;lL=1;var e=tW(),t=500;function n(r){var s=e(r,function(o){return i.size===t&&i.clear(),o}),i=s.cache;return s}return kC=n,kC}var LC,uL;function Mce(){if(uL)return LC;uL=1;var e=xce(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(s){var i=[];return s.charCodeAt(0)===46&&i.push(""),s.replace(t,function(o,a,c,l){i.push(c?l.replace(n,"$1"):a||o)}),i});return LC=r,LC}var DC,dL;function kce(){if(dL)return DC;dL=1;var e=Fu(),t=PN(),n=Wr(),r=Ih(),s=e?e.prototype:void 0,i=s?s.toString:void 0;function o(a){if(typeof a=="string")return a;if(n(a))return t(a,o)+"";if(r(a))return i?i.call(a):"";var c=a+"";return c=="0"&&1/a==-1/0?"-0":c}return DC=o,DC}var FC,fL;function Lce(){if(fL)return FC;fL=1;var e=kce();function t(n){return n==null?"":e(n)}return FC=t,FC}var UC,hL;function Zg(){if(hL)return UC;hL=1;var e=Wr(),t=RN(),n=Mce(),r=Lce();function s(i,o){return e(i)?i:t(i,o)?[i]:n(r(i))}return UC=s,UC}var jC,pL;function Ph(){if(pL)return jC;pL=1;var e=Ih();function t(n){if(typeof n=="string"||e(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return jC=t,jC}var BC,_L;function ev(){if(_L)return BC;_L=1;var e=Zg(),t=Ph();function n(r,s){s=e(s,r);for(var i=0,o=s.length;r!=null&&i<o;)r=r[t(s[i++])];return i&&i==o?r:void 0}return BC=n,BC}var GC,mL;function Dce(){if(mL)return GC;mL=1;var e=CN(),t=Jg(),n=1,r=2;function s(i,o,a,c){var l=a.length,u=l,d=!c;if(i==null)return!u;for(i=Object(i);l--;){var f=a[l];if(d&&f[2]?f[1]!==i[f[0]]:!(f[0]in i))return!1}for(;++l<u;){f=a[l];var h=f[0],p=i[h],_=f[1];if(d&&f[2]){if(p===void 0&&!(h in i))return!1}else{var m=new e;if(c)var y=c(p,_,h,i,o,m);if(!(y===void 0?t(_,p,n|r,c,m):y))return!1}}return!0}return GC=s,GC}var WC,gL;function _9(){if(gL)return WC;gL=1;var e=Ys();function t(n){return n===n&&!e(n)}return WC=t,WC}var HC,vL;function Fce(){if(vL)return HC;vL=1;var e=_9(),t=Gu();function n(r){for(var s=t(r),i=s.length;i--;){var o=s[i],a=r[o];s[i]=[o,a,e(a)]}return s}return HC=n,HC}var $C,yL;function m9(){if(yL)return $C;yL=1;function e(t,n){return function(r){return r==null?!1:r[t]===n&&(n!==void 0||t in Object(r))}}return $C=e,$C}var qC,EL;function Uce(){if(EL)return qC;EL=1;var e=Dce(),t=Fce(),n=m9();function r(s){var i=t(s);return i.length==1&&i[0][2]?n(i[0][0],i[0][1]):function(o){return o===s||e(o,s,i)}}return qC=r,qC}var VC,CL;function jce(){if(CL)return VC;CL=1;var e=ev();function t(n,r,s){var i=n==null?void 0:e(n,r);return i===void 0?s:i}return VC=t,VC}var zC,SL;function Bce(){if(SL)return zC;SL=1;function e(t,n){return t!=null&&n in Object(t)}return zC=e,zC}var YC,bL;function Gce(){if(bL)return YC;bL=1;var e=Zg(),t=ON(),n=Wr(),r=Yg(),s=wN(),i=Ph();function o(a,c,l){c=e(c,a);for(var u=-1,d=c.length,f=!1;++u<d;){var h=i(c[u]);if(!(f=a!=null&&l(a,h)))break;a=a[h]}return f||++u!=d?f:(d=a==null?0:a.length,!!d&&s(d)&&r(h,d)&&(n(a)||t(a)))}return YC=o,YC}var KC,TL;function g9(){if(TL)return KC;TL=1;var e=Bce(),t=Gce();function n(r,s){return r!=null&&t(r,s,e)}return KC=n,KC}var XC,OL;function Wce(){if(OL)return XC;OL=1;var e=Jg(),t=jce(),n=g9(),r=RN(),s=_9(),i=m9(),o=Ph(),a=1,c=2;function l(u,d){return r(u)&&s(d)?i(o(u),d):function(f){var h=t(f,u);return h===void 0&&h===d?n(f,u):e(d,h,a|c)}}return XC=l,XC}var JC,AL;function tv(){if(AL)return JC;AL=1;function e(t){return t}return JC=e,JC}var QC,wL;function Hce(){if(wL)return QC;wL=1;function e(t){return function(n){return n==null?void 0:n[t]}}return QC=e,QC}var ZC,NL;function $ce(){if(NL)return ZC;NL=1;var e=ev();function t(n){return function(r){return e(r,n)}}return ZC=t,ZC}var eS,IL;function qce(){if(IL)return eS;IL=1;var e=Hce(),t=$ce(),n=RN(),r=Ph();function s(i){return n(i)?e(r(i)):t(i)}return eS=s,eS}var tS,PL;function Wu(){if(PL)return tS;PL=1;var e=Uce(),t=Wce(),n=tv(),r=Wr(),s=qce();function i(o){return typeof o=="function"?o:o==null?n:typeof o=="object"?r(o)?t(o[0],o[1]):e(o):s(o)}return tS=i,tS}var nS,RL;function Vce(){if(RL)return nS;RL=1;function e(t){return function(n,r,s){for(var i=-1,o=Object(n),a=s(n),c=a.length;c--;){var l=a[t?c:++i];if(r(o[l],l,o)===!1)break}return n}}return nS=e,nS}var rS,xL;function zce(){if(xL)return rS;xL=1;var e=Vce(),t=e();return rS=t,rS}var sS,ML;function Yce(){if(ML)return sS;ML=1;var e=zce(),t=Gu();function n(r,s){return r&&e(r,s,t)}return sS=n,sS}var iS,kL;function Kce(){if(kL)return iS;kL=1;var e=Bu();function t(n,r){return function(s,i){if(s==null)return s;if(!e(s))return n(s,i);for(var o=s.length,a=r?o:-1,c=Object(s);(r?a--:++a<o)&&i(c[a],a,c)!==!1;);return s}}return iS=t,iS}var oS,LL;function v9(){if(LL)return oS;LL=1;var e=Yce(),t=Kce(),n=t(e);return oS=n,oS}var aS,DL;function Xce(){if(DL)return aS;DL=1;var e=v9(),t=Bu();function n(r,s){var i=-1,o=t(r)?Array(r.length):[];return e(r,function(a,c,l){o[++i]=s(a,c,l)}),o}return aS=n,aS}var cS,FL;function Jce(){if(FL)return cS;FL=1;function e(t,n){var r=t.length;for(t.sort(n);r--;)t[r]=t[r].value;return t}return cS=e,cS}var lS,UL;function Qce(){if(UL)return lS;UL=1;var e=Ih();function t(n,r){if(n!==r){var s=n!==void 0,i=n===null,o=n===n,a=e(n),c=r!==void 0,l=r===null,u=r===r,d=e(r);if(!l&&!d&&!a&&n>r||a&&c&&u&&!l&&!d||i&&c&&u||!s&&u||!o)return 1;if(!i&&!a&&!d&&n<r||d&&s&&o&&!i&&!a||l&&s&&o||!c&&o||!u)return-1}return 0}return lS=t,lS}var uS,jL;function Zce(){if(jL)return uS;jL=1;var e=Qce();function t(n,r,s){for(var i=-1,o=n.criteria,a=r.criteria,c=o.length,l=s.length;++i<c;){var u=e(o[i],a[i]);if(u){if(i>=l)return u;var d=s[i];return u*(d=="desc"?-1:1)}}return n.index-r.index}return uS=t,uS}var dS,BL;function ele(){if(BL)return dS;BL=1;var e=PN(),t=ev(),n=Wu(),r=Xce(),s=Jce(),i=Kg(),o=Zce(),a=tv(),c=Wr();function l(u,d,f){d.length?d=e(d,function(_){return c(_)?function(m){return t(m,_.length===1?_[0]:_)}:_}):d=[a];var h=-1;d=e(d,i(n));var p=r(u,function(_,m,y){var v=e(d,function(O){return O(_)});return{criteria:v,index:++h,value:_}});return s(p,function(_,m){return o(_,m,f)})}return dS=l,dS}var fS,GL;function tle(){if(GL)return fS;GL=1;function e(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)}return fS=e,fS}var hS,WL;function y9(){if(WL)return hS;WL=1;var e=tle(),t=Math.max;function n(r,s,i){return s=t(s===void 0?r.length-1:s,0),function(){for(var o=arguments,a=-1,c=t(o.length-s,0),l=Array(c);++a<c;)l[a]=o[s+a];a=-1;for(var u=Array(s+1);++a<s;)u[a]=o[a];return u[s]=i(l),e(r,this,u)}}return hS=n,hS}var pS,HL;function nle(){if(HL)return pS;HL=1;function e(t){return function(){return t}}return pS=e,pS}var _S,$L;function E9(){if($L)return _S;$L=1;var e=Zc(),t=(function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch(r){}})();return _S=t,_S}var mS,qL;function rle(){if(qL)return mS;qL=1;var e=nle(),t=E9(),n=tv(),r=t?function(s,i){return t(s,"toString",{configurable:!0,enumerable:!1,value:e(i),writable:!0})}:n;return mS=r,mS}var gS,VL;function sle(){if(VL)return gS;VL=1;var e=800,t=16,n=Date.now;function r(s){var i=0,o=0;return function(){var a=n(),c=t-(a-o);if(o=a,c>0){if(++i>=e)return arguments[0]}else i=0;return s.apply(void 0,arguments)}}return gS=r,gS}var vS,zL;function C9(){if(zL)return vS;zL=1;var e=rle(),t=sle(),n=t(e);return vS=n,vS}var yS,YL;function ile(){if(YL)return yS;YL=1;var e=tv(),t=y9(),n=C9();function r(s,i){return n(t(s,i,e),s+"")}return yS=r,yS}var ES,KL;function ole(){if(KL)return ES;KL=1;var e=Rg(),t=Bu(),n=Yg(),r=Ys();function s(i,o,a){if(!r(a))return!1;var c=typeof o;return(c=="number"?t(a)&&n(o,a.length):c=="string"&&o in a)?e(a[o],i):!1}return ES=s,ES}var CS,XL;function ale(){if(XL)return CS;XL=1;var e=p9(),t=ele(),n=ile(),r=ole(),s=n(function(i,o){if(i==null)return[];var a=o.length;return a>1&&r(i,o[0],o[1])?o=[]:a>2&&r(o[0],o[1],o[2])&&(o=[o[0]]),t(i,e(o,1),[])});return CS=s,CS}var cle=ale();const lle=$t(cle);var ule=(e=>(e.CANCELLED="cancelled",e.CREATED="created",e.RUNNING="running",e.COMPLETED="completed",e.FAILED="failed",e.FINALIZING="finalizing",e.SKIPPING="skipping",e.UNDETERMINED="undetermined",e))(ule||{}),S9=(e=>(e.UNKNOWN="unknown",e.RESEARCH="research",e.PRO_MODE="pro_mode",e.THINKING="thinking",e.IMAGE_GEN="image_gen",e.FRONTEND_ARTIFACT="frontend_artifact",e))(S9||{});function dle(e){return e.status==="completed"}function u9e(e){return e.status==="cancelled"||e.status==="failed"}function d9e(e){return e.status==="running"||e.status==="undetermined"||e.status==="created"||e.status==="finalizing"||e.status==="skipping"}function f9e(e){return e.taskId.startsWith("frontend_artifact_")?"frontend_artifact":e.taskId.startsWith("promode_")?"pro_mode":e.taskId.startsWith("thinking_")?"thinking":e.taskId.startsWith("deepresch_")||e.taskId.startsWith("shishito_")?"research":e.taskId.startsWith("imagegen_")?"image_gen":"unknown"}function fle(e,t){var i;if(!dle(e))return null;const n=(i=t.update_time)!=null?i:t.create_time,r=n?new Date(n*1e3):null,s=e.updatedAt?new Date(e.updatedAt):null;return s?r?+s>+r?s:r:s:r}const nv=cr(ju(()=>({tasks:{},taskIdsByConversationId:{},taskStreams:{},researchShareIntent:null}))),Ha=nv.getState,ur=nv.setState,Do={setTask:(e,t)=>{ur(n=>{var i;n.tasks[e]=t;const r=t.originalConversationId,s=(i=n.taskIdsByConversationId[r])!=null?i:new Set;s.add(e),n.taskIdsByConversationId[r]=s})},setTaskStatus:(e,t)=>{ur(n=>{if(n.tasks[e]){if(n.tasks[e].status==="cancelled")return;n.tasks[e].status=t}})},setTaskMetadataItems:({taskId:e,originalConversationId:t,responseMessageId:n,canvasTextdocId:r})=>{ur(s=>{s.tasks[e]&&(s.tasks[e].originalConversationId=t,s.tasks[e].responseMessageId=n,s.tasks[e].responseCanvasTextdocId=r)})},loadBulkTasks:e=>{ur(t=>{e.forEach(n=>{var o,a,c;const r=t.tasks[n.taskId];t.tasks[n.taskId]=I(b({},n),{rows:(o=r==null?void 0:r.rows)!=null?o:[],finalMessage:(a=r==null?void 0:r.finalMessage)!=null?a:Os(n.messages)});const s=n.originalConversationId,i=(c=t.taskIdsByConversationId[s])!=null?c:new Set;i.add(n.taskId),t.taskIdsByConversationId[s]=i})})},addTaskRow:(e,t)=>{ur(n=>{var i;const r=n.tasks[e];if(r==null)return;const s=[...(i=r.rows)!=null?i:[]];s.find(o=>o.id===t.id)||(s.push(t),r.rows=s)})},setTaskCompleted:(e,t)=>{ur(n=>{var s,i,o,a;const r=n.tasks[e];r!=null&&(r.status!=="completed"&&(r.collapsed=!0),r.status="completed",r.updatedAt=((s=fle(r,t))==null?void 0:s.toString())||r.updatedAt,r.finalMessage=t,r.responseMessageId=(o=(i=t.metadata)==null?void 0:i.response_message_id)!=null?o:t.id,r.imageGenMessage=t,(a=r.notificationStatus)!=null||(r.notificationStatus={recentlyCompleted:!0,notificationSent:!1}))})},setTaskRecentlyCompleted:e=>{ur(t=>{var r;const n=t.tasks[e];n!=null&&((r=n.notificationStatus)!=null||(n.notificationStatus={recentlyCompleted:!0,notificationSent:!1}),n.notificationStatus.recentlyCompleted=!0)})},setTaskNotificationSent:e=>{ur(t=>{var n;(n=t.tasks[e])!=null&&n.notificationStatus&&(t.tasks[e].notificationStatus.notificationSent=!0)})},setResearchShareIntent:e=>{ur(t=>{t.researchShareIntent=e})},setTaskTitle:(e,t)=>{ur(n=>{n.tasks[e]&&(n.tasks[e].title=t)})},setTaskImageGenMessage:(e,t)=>{ur(n=>{n.tasks[e]&&(n.tasks[e].imageGenMessage=t)})},async retainTaskStream(e){var o;const n=Ha().taskStreams[e],r=(o=n==null?void 0:n.refCount)!=null?o:0;let s,i=null;r===0&&(s=new AbortController,i=vle(e,s)),ur(a=>{var l;const c=s||((l=a.taskStreams[e])==null?void 0:l.abortController);if(!c)throw Error("Missing abort controller");a.taskStreams[e]=I(b({},a.taskStreams[e]),{refCount:r+1,abortController:c})}),i&&await i},releaseTaskStream(e){ur(t=>{const n=t.taskStreams[e];n&&(n.refCount-=1)})},abortTaskStream(e){ur(t=>{const n=t.taskStreams[e];!n||n.refCount||(n.abortController.abort(),delete t.taskStreams[e])})}},JL=[],Cu={getTask:(e,t=Ha())=>t.tasks[e],getAllTasks:(e=Ha())=>Object.values(e.tasks).filter(t=>!!t),getAllTasksOrdered:(e=Ha())=>lle(Cu.getAllTasks(e),t=>-new Date(t.createdAt)),hasTaskStreamEntry:(e,t=Ha())=>!!t.taskStreams[e],getTaskIdsByConversationId:(e,t=Ha())=>{if(!e)return JL;const n=t.taskIdsByConversationId[e];return!n||n.size===0?JL:Array.from(n)},getResearchShareIntent:(e=Ha())=>e.researchShareIntent};function hle(e){var r,s,i,o,a,c;const t=e.task_id;return{conversationId:(r=e.conversation_id)!=null?r:"",taskId:t,title:e.title,prompt:e.prompt,createdAt:e.created_at,updatedAt:e.updated_at,status:e.status,messages:(s=e.messages)!=null?s:[],rows:[],originalConversationId:e.original_conversation_id,responseMessageId:(i=e.response_message_id)!=null?i:void 0,responseCanvasTextdocId:(o=e.response_canvas_textdoc_id)!=null?o:void 0,originalConversationUserMessageId:(a=e.original_conversation_user_message_id)!=null?a:void 0,imageGenMessage:(c=e.image_gen_message)!=null?c:void 0}}function ple(e){var t,n,r,s,i,o,a,c,l,u,d;switch(e.type){case"website_open":return{id:e.id,type:"websiteOpen",url:e.url,rowText:e.row_text,activeRowText:e.active_row_text,sanitizedUrl:(t=e.sanitized_url)!=null?t:null,created_at:(n=e.created_at)!=null?n:null};case"summary":return{id:e.id,type:"summary",title:e.title,summary:(r=e.summary)!=null?r:null,message:(s=e.message)!=null?s:null,created_at:(i=e.created_at)!=null?i:null};case"search":return{id:e.id,type:"search",query:(o=e.query)!=null?o:null,created_at:(a=e.created_at)!=null?a:null,urls:(c=e.urls)!=null?c:null};case"python_analysis":return{id:e.id,type:"pythonAnalysis",analysisSummary:(l=e.analysis_summary)!=null?l:null,created_at:(u=e.created_at)!=null?u:null};case"file_open":return{id:e.id,type:"fileOpen",fileName:e.file_name,iconType:e.icon_type,fileExt:e.file_ext,rowText:e.row_text,activeRowText:e.active_row_text,created_at:(d=e.created_at)!=null?d:null}}}function _le(e){for(const t of e)if(t.author.role===je.Assistant&&(t.recipient==="xdeo6rao"||t.author.name==="xdeo6rao"))return t;return null}function h9e(e,{title:t,threadUpdateTimeMs:n}){var s,i,o;const r=[];for(const a of e){if(!a.messages.length)continue;const c=_le(a.messages);if(!c)continue;const l=a.messages[a.messages.length-1],u=!!l.end_turn&&l.author.role==je.Assistant,d=(s=c.update_time)!=null?s:c.create_time,f=(o=(i=d!=null?d*1e3:void 0)!=null?i:n)!=null?o:Date.now();r.push({id:"frontend_artifact_".concat(c.id),title:t,startedAt:f,scrollToMessageId:c.id,isTurnEnded:u})}return r}function p9e(){const e=zc({queryKey:["fetch-tasks"],queryFn:async({pageParam:t})=>{const n=await Ece.getTasks({cursor:t});return Do.loadBulkTasks(n.tasks.map(r=>hle(r)).filter(r=>r!==null)),n},initialPageParam:null,getNextPageParam:({cursor:t})=>t!=null?t:null,enabled:!0});return{isLoading:e.isLoading,isFetching:e.isFetching}}const mle=30,gle=30;async function vle(e,t){if(Cu.hasTaskStreamEntry(e))return!1;const r=gN();r["content-type"]="application/json";let s=0,i=0;return wce("".concat(Ve,"/tasks/").concat(e,"/stream"),{headers:r,signal:t.signal,openWhenHidden:!0,onopen:async o=>{if(!(o.ok&&o.headers.get("content-type")===ym))if(s<mle)s++;else throw new Error("Failure opening stream")},onmessage(o){const a=JSON.parse(o.data);if(a.task_status)Do.setTaskStatus(a.task_id,a.task_status);else if(a.final_message)Do.setTaskCompleted(e,a.final_message),a.was_recently_completed&&Do.setTaskRecentlyCompleted(e);else if(a.row){const c=ple(a.row);c&&Do.addTaskRow(e,c)}else a.title&&Do.setTaskTitle(e,a.title)},onerror(o){if(i<gle){i++;return}throw t.abort(),o},onclose(){}}),!0}function _9e(e){"use forget";const t=W.c(3);let n,r;t[0]!==e?(n=()=>{if(e)return Do.retainTaskStream(e),()=>{Do.releaseTaskStream(e)}},r=[e],t[0]=e,t[1]=n,t[2]=r):(n=t[1],r=t[2]),C.useEffect(n,r)}function m9e(e){"use forget";const t=W.c(2);let n;return t[0]!==e?(n=s=>Cu.getTaskIdsByConversationId(e,s).map(i=>Cu.getTask(i,s)).filter(Ele).filter(yle),t[0]=e,t[1]=n):n=t[1],nv(n)}function yle(e){return e.status==="created"||e.status==="running"||e.status==="finalizing"}function Ele(e){return e!==void 0}function g9e(e){"use forget";const t=W.c(2);let n;return t[0]!==e?(n=s=>Cu.getTaskIdsByConversationId(e,s).map(i=>Cu.getTask(i,s)).filter(Cle),t[0]=e,t[1]=n):n=t[1],nv(n)}function Cle(e){return e!==void 0}var Rh=(e=>(e.ContentOrTos="content_or_tos",e.ContentPolicy="content_policy",e.BioSafetyContentPolicy="bio_safety_content_policy",e.ModelIncompatibility="model_incompatibility",e.ContentRegurgitation="content_regurgitation",e))(Rh||{});const Sle={errType:"warning",errCode:"content_policy"},ble={errType:"danger",errCode:"model_incompatibility"},Tle={err:"Contents may violate our content policy",errType:"danger",errCode:"content_policy"},Ole={err:"Contents may violate our content policy",errType:"danger",errCode:"content_policy",shouldDisableConversation:!0},Ale={errType:"danger",errCode:"bio_safety_content_policy",canRetry:!1},wle={errType:"danger",errCode:"bio_safety_content_policy",canRetry:!1,shouldDisableConversation:!0},Nle=(e,t)=>!e.length||t?null:{disclaimers:e},Ile=({isSafetyLimited:e,shouldDisableConversation:t,isModelIncompatibility:n})=>e?t?wle:Ale:t?Ole:n?ble:Tle;class Ple{isMultimodalTextMessage(t){return t.content.content_type===Be.MultimodalText}isPartAssetPointer(t){return typeof t!="string"&&(t.content_type===Vn.ImageAssetPointer||t.content_type===Vn.AudioAssetPointer)}isBase64ImagePart(t){return typeof t!="string"&&t.content_type===Vn.Image}isPartRealTimeUserAudioVideoAssetPointer(t){return typeof t!="string"&&t.content_type===Vn.RealTimeUserAudioVideoAssetPointer}isPartAudioTranscription(t){return typeof t!="string"&&t.content_type===Vn.AudioTranscription}getAudio(t){return this.isMultimodalTextMessage(t)?t.content.parts.filter(n=>typeof n!="string"&&n.content_type===Vn.Audio):[]}getAssetPointers(t){return this.isMultimodalTextMessage(t)?t.content.parts.filter(n=>this.isPartAssetPointer(n)):[]}getImageAssetPointers(t){return this.isMultimodalTextMessage(t)?this.getImageAssetPointersFromParts(t.content.parts):[]}getImageAssetPointersFromParts(t){return t.filter(n=>this.isPartAssetPointer(n)&&n.content_type===Vn.ImageAssetPointer)}getFrameAssetPointers(t){return this.isMultimodalTextMessage(t)?t.content.parts.flatMap(n=>{if(typeof n!="string"&&n.content_type===Vn.RealTimeUserAudioVideoAssetPointer)return n.frames_asset_pointers}).filter(n=>!!n):[]}getAudioAssetPointers(t){return this.isMultimodalTextMessage(t)?t.content.parts.map(n=>{if(typeof n!="string")switch(n.content_type){case Vn.AudioAssetPointer:return n;case Vn.RealTimeUserAudioVideoAssetPointer:return n.audio_asset_pointer;default:return}}).filter(n=>!!n):[]}getVideoContainerAssetPointers(t){return this.isMultimodalTextMessage(t)?t.content.parts.flatMap(n=>typeof n!="string"&&n.content_type===Vn.RealTimeUserAudioVideoAssetPointer?n.video_container_asset_pointer:null).filter(n=>!!n):[]}getImageOperationFileIds(t){var r,s,i,o,a,c,l;const n=(l=(i=(s=(r=t.metadata)==null?void 0:r.dalle)==null?void 0:s.from_client)==null?void 0:i.operation)!=null?l:(c=(a=(o=t.metadata)==null?void 0:o.generation)==null?void 0:a.from_client)==null?void 0:c.operation;return(n==null?void 0:n.type)==="inpainting"?{operation:"inpainting",originalFileId:n.original_file_id,maskFileId:n.mask_file_id}:(n==null?void 0:n.type)==="transformation"?{operation:"transformation",originalFileId:n.original_file_id}:void 0}getPartsAsString(t,n=!0){return this.isMultimodalTextMessage(t)?t.content.parts.map(r=>{var s;if(typeof r=="string")return r;if(this.isPartAudioTranscription(r))return r.text;if(n){if(this.isPartAssetPointer(r))return'[media pointer="'.concat(r.asset_pointer,'"]');if(this.isPartRealTimeUserAudioVideoAssetPointer(r)){const i=(s=r.audio_asset_pointer)==null?void 0:s.asset_pointer;return i&&'[media pointer="'.concat(i,'"]')}else if(this.isBase64ImagePart(r))return r.payload}else return!1}).filter(Boolean).join("\n"):""}}const rv=new Ple,Rle=["image_gen"];var _e=(e=>(e[e.no_render=0]="no_render",e[e.BrowseTool=1]="BrowseTool",e[e.Browsing=2]="Browsing",e[e.CanmoreTool=3]="CanmoreTool",e[e.Container=4]="Container",e[e.CodeInterpreter=5]="CodeInterpreter",e[e.CodeInterpreterTool=6]="CodeInterpreterTool",e[e.Dalle=7]="Dalle",e[e.DalleTool=8]="DalleTool",e[e.GizmoEditor=9]="GizmoEditor",e[e.JITPlugin=10]="JITPlugin",e[e.JITPluginTool=11]="JITPluginTool",e[e.JITPluginGoogleTool=12]="JITPluginGoogleTool",e[e.DILWidget=13]="DILWidget",e[e.APIToolElicitation=14]="APIToolElicitation",e[e.ImagePreloadTool=15]="ImagePreloadTool",e[e.ModelEditableContext=16]="ModelEditableContext",e[e.MultimodalText=17]="MultimodalText",e[e.ParallelBrowsing=18]="ParallelBrowsing",e[e.ParallelBrowsingTool=19]="ParallelBrowsingTool",e[e.RetrievalBrowsing=20]="RetrievalBrowsing",e[e.RetrievalBrowsingTool=21]="RetrievalBrowsingTool",e[e.SearchResultTool=22]="SearchResultTool",e[e.SearchGPTQuery=23]="SearchGPTQuery",e[e.System=24]="System",e[e.SystemContent=25]="SystemContent",e[e.DeveloperContent=26]="DeveloperContent",e[e.Text=27]="Text",e[e.StructuredThoughts=28]="StructuredThoughts",e[e.ReasoningRecap=29]="ReasoningRecap",e[e.UserEditableContext=30]="UserEditableContext",e[e.UserModelBio=31]="UserModelBio",e[e.UserModelBioTool=32]="UserModelBioTool",e[e.Unknown=33]="Unknown",e[e.de1d73e=34]="de1d73e",e[e.a8km123=35]="a8km123",e[e.f959b8c=36]="f959b8c",e[e.b1de6e2_c=37]="b1de6e2_c",e[e.b1de6e2_s=38]="b1de6e2_s",e[e.b1de6e2_d=39]="b1de6e2_d",e[e.b1de6e2_rm=40]="b1de6e2_rm",e[e.l1p9k3u=41]="l1p9k3u",e[e.l1239dk1=42]="l1239dk1",e[e.l1239dk2=43]="l1239dk2",e[e.is_loading_message=44]="is_loading_message",e[e.b47u8ra0_t=45]="b47u8ra0_t",e[e.oiw209h=46]="oiw209h",e[e.oiw209h_c=47]="oiw209h_c",e[e.t2uay3k=48]="t2uay3k",e[e.t2uay3k_c=49]="t2uay3k_c",e[e.Oboe=50]="Oboe",e[e.UserSettings=51]="UserSettings",e[e.UserSettingsTool=52]="UserSettingsTool",e[e.q7dr546=53]="q7dr546",e[e.q7dr546_c=54]="q7dr546_c",e[e.CoTSearchToolCall=55]="CoTSearchToolCall",e[e.CoTSearchToolResult=56]="CoTSearchToolResult",e[e.n7jupd_c=57]="n7jupd_c",e[e.n7jupd_r=58]="n7jupd_r",e[e.n7jupd_t=59]="n7jupd_t",e[e.n7jupd_m=60]="n7jupd_m",e[e.n7jupd_x=61]="n7jupd_x",e[e.n7jupd_a=62]="n7jupd_a",e[e.n7jupd_n=63]="n7jupd_n",e[e.n7jupd_p=64]="n7jupd_p",e[e.n7jupd_image_gen=65]="n7jupd_image_gen",e[e.n7jupd_native_api_tool=66]="n7jupd_native_api_tool",e[e.Mercury=67]="Mercury",e[e.PIMBlock=68]="PIMBlock",e[e.Mochi=69]="Mochi",e[e.SuperWidget=70]="SuperWidget",e[e.xdeo6rao=71]="xdeo6rao",e[e.Croquette=72]="Croquette",e[e.HazelnutEnablePrompt=73]="HazelnutEnablePrompt",e[e.kaur1br5=74]="kaur1br5",e[e.e1ld0dvz=75]="e1ld0dvz",e[e.Glaux=76]="Glaux",e[e.Strix=77]="Strix",e[e.async_task_result_message=78]="async_task_result_message",e))(_e||{});function b9(e){var t;return"type"in e.content&&e.content.type==="hazelnut_enable_prompt"||((t=e.metadata)==null?void 0:t.is_hazelnut_enable_prompt)===!0}var hc=(e=>(e.BROWSER="browser",e.CANMORE="canmore",e.MTBROWSER="mtbrowser",e.WIKI_BROWSER="wiki_browser",e.MYFILES_BROWSER="myfiles_browser",e.FILE_SEARCH="file_search",e.GDRIVE_BROWSER="gdrive_browser",e.BROWSING_TEAM="browsing_team",e.BIO="bio",e.PYTHON="python",e.DALLE="dalle",e.GIZMO_EDITOR="gizmo_editor",e.JIT_PLUGIN="jit_plugin",e.SEARCH_RESULT="search_result",e.SEARCH_RESULTS="search_results",e.A8KM123="a8km123",e.SEARCHGPT="web",e.SEARCH_COT="web.run",e.DE1D73E="de1d73e",e.L1P9K3U="l1p9k3u",e.L1239DK1="l1239dk1",e.CONTAINER="container",e.COMPUTER="computer",e.MERCURY="mercury",e.OIW209H="oiw209h",e.T2UAY3K="t2uay3k",e.G9X2M5N="g9x2m5n",e.START_RESEARCH_TASK="research_kickoff_tool.start_research_task",e.CLARIFY_WITH_TEXT="research_kickoff_tool.clarify_with_text",e.ADVANCED_VOICE="advanced_voice",e.OBOE="oboe",e.IMAGE_GEN_HALLUCINATED="image_gen",e.USER_SETTINGS="user_settings",e.USER_SETTINGS_TOOL="user_settings_tool",e.Q7DR546="q7dr546",e.n7jupd_m="n7jupd.metadata",e.IMAGEGEN_MAKE_IMAGE="imagegen.make_image",e.SUPER_WIDGET="super_widget",e.E1LD0DVZ="e1ld0dvz",e.XDEO6RAO="xdeo6rao",e))(hc||{});function QL(e){return e&&[4202148095,653746659,45870204,111655449].some(t=>$o(t,e))}function xle(e){var s;const t=FA(e.author.name),n=t==null?void 0:t.namespace,r=["browser","container","computer"];return((s=e.metadata)==null?void 0:s.n7jupd_message)&&r.includes(n)&&e.content.content_type===Be.Text}function Mle(e,t){return e&&$o(t,e.split(".")[0])}function Ds(e){var n,r,s,i,o,a,c,l,u,d,f,h,p,_,m,y,v,O,S,E,T,A,w,N,P,x,D,M,F,j,$,q,k,Z,B,Q,se,fe,V,H,ee,z,te,Se,he,oe,be,ke,Xe,Pe,J,X;if(e.recipient==="api_tool")return 0;if((n=e.metadata)!=null&&n.elicitation_metadata)return 14;if(b9(e))return 73;if((r=e.metadata)!=null&&r.n7jupd_subtool&&((s=e.metadata.n7jupd_subtool.subtool)!=null&&s.includes("api_tool")||(i=e.metadata.n7jupd_subtool.result_of_subtool)!=null&&i.includes("api_tool")))return 62;if((o=e.metadata)!=null&&o.n7jupd_message&&((a=e.recipient)!=null&&a.includes("api_tool")||(l=(c=e.author)==null?void 0:c.name)!=null&&l.includes("api_tool"))&&!e.metadata.chatgpt_sdk&&!e.metadata.jit_plugin_data)return 66;if((u=e.metadata)!=null&&u.is_pim_warning)return 68;if((d=e.metadata)!=null&&d.n7jupd_message&&e.content.content_type===Be.StructuredThoughts)return 59;if((f=e.metadata)!=null&&f.is_auto_proceed_message)return 64;if((h=e.metadata)!=null&&h.is_takeover_ended_message)return 63;if((_=(p=e.metadata)==null?void 0:p.chatgpt_sdk)!=null&&_.dil||(v=(y=(m=e.metadata)==null?void 0:m.chatgpt_sdk)==null?void 0:y.tool_response_metadata)!=null&&v.kakao_widget)return 13;if(e.content.content_type===Be.StructuredThoughts)return e.author.name==="mercury"?67:28;if(e.content.content_type===Be.ReasoningRecap)return 29;if((O=e.metadata)!=null&&O.b1de6e2_c)return 37;if(e.recipient==="l1p9k3u"||e.author.name==="l1p9k3u")return 41;if(e.author.name==="l1239dk1"||e.recipient==="l1239dk1")return 42;if((S=e.author.name)!=null&&S.startsWith("container"))return $o(3061204740,e.author.name)&&((E=e==null?void 0:e.metadata)!=null&&E.n7jupd_message)?6:4;if(e.author.role===je.Assistant&&((T=e.metadata)==null?void 0:T.async_task_id)!=null&&((A=e.metadata)==null?void 0:A.async_task_turn_id)!=null)return 43;if((w=e.metadata)!=null&&w.b1de6e2_s||e.recipient==="research_kickoff_tool.start_research_task")return 38;if((N=e.metadata)!=null&&N.b1de6e2_d)return 39;if((P=e.metadata)!=null&&P.b1de6e2_rm)return 40;if((x=e.metadata)!=null&&x.is_async_task_result_message)return 78;if((D=e.metadata)!=null&&D.is_loading_message)return 44;if((M=e.metadata)!=null&&M.b47u8ra0_t)return 45;if((F=e.metadata)!=null&&F.f959b8c)return 36;if((j=e.recipient)!=null&&j.startsWith("e1ld0dvz")||($=e.author.name)!=null&&$.startsWith("e1ld0dvz"))return 75;if(QL(e.author.name)||QL(e.recipient)||xle(e))return 0;const t="kaur1br5";if((q=e.recipient)!=null&&q.startsWith(t)||(k=e.author.name)!=null&&k.startsWith(t))return 74;if(e.author.role===je.Assistant&&Mle(e.recipient,724319625))return 57;if(e.content.content_type===Be.ComputerOutput)return 58;if(e.author.role===je.Assistant){if(Rle.some(Ne=>{var nt;return(nt=e.recipient)==null?void 0:nt.startsWith(Ne)}))return 33;const L=FA(e.recipient);if(e.recipient==="browser"||e.recipient==="wiki_browser"||(L==null?void 0:L.namespace)==="mtbrowser")return 2;if(e.recipient==="web"||(Z=e.recipient)!=null&&Z.startsWith("web."))return 23;if(e.recipient==="web.run"&&((se=(Q=(B=e==null?void 0:e.metadata)==null?void 0:B.search_queries)==null?void 0:Q.length)!=null?se:0)>0)return 55;if(e.recipient==="myfiles_browser"||e.recipient==="gdrive_browser"||(L==null?void 0:L.namespace)==="file_search"||(L==null?void 0:L.namespace)==="myfiles_browser")return 20;if(e.recipient==="browsing_team")return 18;if(e.recipient==="bio")return 31;if(e.recipient==="python")return 5;if(e.recipient==="xdeo6rao")return 71;if((fe=e==null?void 0:e.metadata)!=null&&fe.n7jupd_message&&($o(3179801956,e.recipient)||$o(3061204740,e.recipient)))return 5;if((L==null?void 0:L.namespace)==="dalle"||e.recipient==="dalle")return 7;if((L==null?void 0:L.namespace)==="t2uay3k"||e.recipient==="t2uay3k")return 48;if((L==null?void 0:L.namespace)==="g9x2m5n")return 0;if((L==null?void 0:L.namespace)==="oiw209h"||e.recipient==="oiw209h")return 46;if((L==null?void 0:L.namespace)==="gizmo_editor")return 9;if((L==null?void 0:L.namespace)==="container")return 4;if((L==null?void 0:L.namespace)==="canmore")return 3;if((L==null?void 0:L.namespace)==="de1d73e")return 34;if((L==null?void 0:L.namespace)==="user_settings"||(L==null?void 0:L.namespace)==="user_settings_tool"||e.recipient==="user_settings"||e.recipient==="user_settings_tool")return 51;if((L==null?void 0:L.namespace)==="q7dr546"||e.recipient==="q7dr546")return 53;if(!SS(L==null?void 0:L.namespace)){if(xp(L==null?void 0:L.namespace)&&((V=e.metadata)==null?void 0:V.api_tool_type)==="glaux")return 76;if(ZL(L==null?void 0:L.namespace)||xp(L==null?void 0:L.namespace)||eD(L==null?void 0:L.namespace))return 10;if(L!=null)return 33;if(e.content.content_type===Be.ModelEditableContext)return 16}}else if(e.author.role===je.Tool){const L=FA(e.author.name);if(e.author.name==="browser"||e.author.name==="wiki_browser"||(L==null?void 0:L.namespace)==="mtbrowser")return 1;if(e.author.name==="myfiles_browser"||e.author.name==="gdrive_browser"||e.author.name==="file_search"||(L==null?void 0:L.namespace)==="file_search"||(L==null?void 0:L.namespace)==="myfiles_browser")return 21;if(e.author.name==="browsing_team")return 19;if(e.author.name==="web.run"&&((z=(ee=(H=e==null?void 0:e.metadata)==null?void 0:H.search_result_groups)==null?void 0:ee.length)!=null?z:0)>0)return 56;if(e.author.name==="search_result"&&e.content.content_type===Be.TetherQuote)return 22;if(e.author.name==="search_results"&&e.content.content_type===Be.TetherBrowsingDisplay)return 15;if(e.author.name==="bio")return 32;if(e.author.name==="a8km123")return 35;if(e.author.name==="python")return 6;if($o(3179801956,e.author.name))return 6;if((L==null?void 0:L.namespace)==="dalle"||e.author.name==="dalle")return 8;if((L==null?void 0:L.namespace)==="t2uay3k"||e.author.name==="image_gen")return 49;if((te=e.metadata)!=null&&te.image_gen_async)return 48;if((L==null?void 0:L.namespace)==="g9x2m5n")return 0;if((L==null?void 0:L.namespace)==="gizmo_editor")return 9;if((L==null?void 0:L.namespace)==="canmore")return 3;if((L==null?void 0:L.namespace)==="user_settings"||(L==null?void 0:L.namespace)==="user_settings_tool"||e.author.name==="user_settings"||e.author.name==="user_settings_tool")return 52;if((L==null?void 0:L.namespace)==="q7dr546"||e.author.name==="q7dr546")return 54;if(!(SS(L==null?void 0:L.namespace)||SS(e.author.name))){if(xp(L==null?void 0:L.namespace)&&((Se=e.metadata)==null?void 0:Se.api_tool_type)==="glaux")return 76;if(ZL(L==null?void 0:L.namespace)||xp(L==null?void 0:L.namespace)||(he=e.author.name)!=null&&he.startsWith("api_tool"))return 11;if(eD(L==null?void 0:L.namespace))return 12;if((L==null?void 0:L.namespace)==="de1d73e")return 34;if((L==null?void 0:L.namespace)==="oiw209h")return 47;if((oe=e.author.name)!=null&&oe.startsWith("web."))return 24;if(e.author.name==="research_kickoff_tool.start_research_task")return 38;if(e.author.name==="research_kickoff_tool.clarify_with_text")return 0;if(e.author.name==="n7jupd.metadata")return 60;if(e.author.name==="imagegen.make_image")return 65;if((L==null?void 0:L.namespace)==="browser")return 61;if(e.author.name==="mercury")return 67;if(e.author.name==="super_widget")return 70;if(e.author.name==="xdeo6rao")return 71;if(L!=null||e.author.name==="plugin_service")return kle(e)}}else{if(e.author.role===je.System||e.author.role===je.Developer)return(be=e.metadata)!=null&&be.n7jupd_message?24:(Xe=(ke=e.metadata)==null?void 0:ke.exclusive_key)!=null&&Xe.startsWith("widget_state")||(Pe=e.metadata)!=null&&Pe.rebase_system_message||e.content.content_type===Be.SystemMessage||e.content.content_type===Be.SystemContent?25:(J=e.metadata)!=null&&J.rebase_developer_message||e.content.content_type===Be.DeveloperContent?26:24;if(e.author.role===je.User&&(e.content.content_type===Be.UserEditableContext||(X=e.metadata)!=null&&X.is_user_system_message))return 30}return e.content.content_type===Be.Text||e.content.content_type===Be.MultimodalText?27:33}function kle(e){return e.create_time&&e.create_time>17172e5?K.addError("[Unknown tool] Encountered a message with an unknown tool. Rendering as Unknown message type, which is not visible.",{message:e}):K.addError("[Unknown tool] Encountered a message with an unknown tool, which is most likely an old plugin. Rendering as Unknown message type, which may not appear as expected.",{message:e}),33}function v9e(e){var t;return((t=e.metadata)==null?void 0:t.finish_details)!=null}function sv(e){return e.content.content_type===Be.Text?e.content.parts.some(t=>t.length>0):e.content.content_type===Be.MultimodalText?rv.getPartsAsString(e).length>0:!1}function Lle(e){const t=e.author.role===je.User,n=e.metadata&&"s2s_stream_sequence"in e.metadata,r=e.content.content_type===Be.MultimodalText&&e.content.parts.some(s=>typeof s!="string"&&s.content_type===Vn.AudioTranscription);return t&&n&&r}function T9(e){var t,n,r,s;return b9(e)||sv(e)||((r=(n=(t=e.metadata)==null?void 0:t.attachments)==null?void 0:n.length)!=null?r:0)>0?!0:"text"in e.content?e.content.text.length>0:"result"in e.content?e.content.result.length>0:!!((s=e.clientMetadata)!=null&&s.errCode&&Object.values(Rh).some(i=>{var o;return i===((o=e.clientMetadata)==null?void 0:o.errCode)}))}function y9e(e){var t,n;return e.author.name==="a8km123"||((t=e.metadata)==null?void 0:t.reasoning_status)||((n=e.metadata)==null?void 0:n.is_visually_hidden_from_conversation)}function Dle(e){var t,n,r,s,i,o,a;if(e.author.name==="a8km123"&&((t=e.metadata)!=null&&t.async_task_id))return!0;if(!xN(e))return!1;switch(e.content.content_type){case Be.StructuredThoughts:{const{thoughts:c}=e.content;return c.some(l=>{var u,d,f,h,p,_;return((f=(d=(u=l.summary)==null?void 0:u.trim())==null?void 0:d.length)!=null?f:0)>0||((_=(p=(h=l.content)==null?void 0:h.trim())==null?void 0:p.length)!=null?_:0)>0})}case Be.ReasoningRecap:{const{content:c}=e.content;return((r=(n=c==null?void 0:c.trim())==null?void 0:n.length)!=null?r:0)>0}case Be.Code:case Be.ExecutionOutput:case Be.TetherBrowsingCode:{const{text:c}=e.content;return((i=(s=c==null?void 0:c.trim())==null?void 0:s.length)!=null?i:0)>0}case Be.TetherBrowsingDisplay:{const{result:c}=e.content;return((a=(o=c==null?void 0:c.trim())==null?void 0:o.length)!=null?a:0)>0}case Be.ComputerOutput:return!0;case Be.Text:case Be.MultimodalText:return sv(e);default:return!1}}function E9e(e){var t,n;return((n=(t=e.metadata)==null?void 0:t.finish_details)==null?void 0:n.type)==="stop"}function Fle(e){var t,n;return((n=(t=e==null?void 0:e.metadata)==null?void 0:t.finish_details)==null?void 0:n.type)==="max_tokens"}function C9e(e){var t,n;return((n=(t=e.metadata)==null?void 0:t.finish_details)==null?void 0:n.type)==="interrupted"}function Ule(e){var t;return((t=e.metadata)==null?void 0:t.message_type)==="continue"}function FA(e){if(e==null||!e.includes("."))return null;const[t,n]=e.split(".");return{namespace:t,functionName:n}}function O9(e,t){return{id:yr(),author:{role:je.System},content:{content_type:Be.Text,parts:Array.isArray(e)?e:[e]},metadata:t}}function S9e(e,t,n,r=yr()){return{id:r,author:{role:je.Assistant},content:{content_type:Be.Text,parts:Array.isArray(e)?e:[e]},metadata:t,clientMetadata:n}}function jle(e,t,n){const r={role:je.User};return n&&(r.metadata=n),{id:yr(),author:r,create_time:Date.now()/1e3,content:typeof e=="string"?{content_type:Be.Text,parts:[e]}:e,metadata:t}}function b9e(e){return O9(["The user is referring to this in particular:\n".concat(e)],{exclude_after_next_user_message:!0})}function T9e(e,t){return O9(["The user is referring to this in particular:\n".concat(e,"\n\n---\n\nReply to user query using the following additional context:\n ").concat(t)],{exclude_after_next_user_message:!0})}function O9e(e){return jle(e,{is_visually_hidden_from_conversation:!0})}function A9e(e){return{id:yr(),author:{role:je.System},content:e,metadata:{rebase_system_message:!0},recipient:"all"}}function xp(e){return e==="api_tool"||e==="kanzi_app"||e==="context_scopes"||!!(e!=null&&e.startsWith("api_tool_"))}function SS(e){return!1}function ZL(e){if(!e)return!1;const t=e.split("__");return t.findIndex(n=>n==="jit_plugin")===t.length-1}function eD(e){return e==="gmail"||e==="gcal"||e==="gcontacts"}function tD(e){var t;return e.author.role===je.Assistant?(t=e.metadata)==null?void 0:t.gizmo_id:void 0}function Ja(e){var t;return e.author.role===je.User&&!((t=e.metadata)!=null&&t.is_user_system_message)}function Ble(e){var t;return(t=e.metadata)==null?void 0:t.is_contextual_retry_user_message}function A9(e){var t;return Ja(e)&&!Ble(e)||((t=e.author.metadata)==null?void 0:t.is_system_initiated_conversation)===!0}function xN(e){var t;return((t=e.metadata)==null?void 0:t.reasoning_status)!=null}function Lc(e){var s,i;const t=Ds(e);return t===24||t===25||t===26||t===31||t===32||t===16||t===30||t===33||!(t===48||t===49)&&!(t===63)&&!((s=e.metadata)!=null&&s.targeted_reply_label)&&((i=e.metadata)==null?void 0:i.is_visually_hidden_from_conversation)===!0}function w9e(e){return Ds(e)===70}function Em(e){switch(Ds(e)){case 25:case 26:case 30:case 16:return!0;default:return!1}}function Gle(e){return rv.isMultimodalTextMessage(e)&&e.content.parts.some(t=>typeof t!="string"&&(t.content_type===Vn.VideoAssetPointer||t.content_type===Vn.ImageAssetPointer))}function UA(e){return!!(Gle(e)||Lle(e)||w9(e)&&T9(e)||Dle(e))}function w9(e){var t,n,r,s,i,o,a,c;if(Lc(e))return!1;if(((r=(n=(t=e.metadata)==null?void 0:t.attachments)==null?void 0:n.length)!=null?r:0)>0||(s=e.metadata)!=null&&s.chatgpt_sdk||(i=e.metadata)!=null&&i.async_completion_id)return!0;if((o=e.metadata)!=null&&o.reasoning_status)return!1;if((a=e.clientMetadata)!=null&&a.errCode&&Object.values(Rh).some(l=>{var u;return l===((u=e.clientMetadata)==null?void 0:u.errCode)}))return!0;switch(Ds(e)){case 27:case 68:return sv(e);case 3:return T9(e);case 48:case 64:case 63:case 5:case 6:case 52:case 73:return!0;case 35:return!!((c=e.metadata)!=null&&c.async_task_id);default:return!1}}function Wle(e){var r;if(Lc(e))return!1;const t=Ds(e),n=sv(e);return t===27?n:!!(n&&t===78&&((r=e.metadata)==null?void 0:r.async_task_type)===S9.PRO_MODE)}function N9e(e){return Lc(e)?!1:Ds(e)===49&&e.status==="finished_successfully"&&e.recipient==="all"}function I9e(e){const t=e.recipient;return!!t&&(t.includes("image_gen")||t.includes("image_gen")||t.includes("t2uay3k"))}var bS,nD;function N9(){if(nD)return bS;nD=1;function e(t,n,r,s){for(var i=t.length,o=r+(s?1:-1);s?o--:++o<i;)if(n(t[o],o,t))return o;return-1}return bS=e,bS}var TS,rD;function Hle(){if(rD)return TS;rD=1;var e=/\s/;function t(n){for(var r=n.length;r--&&e.test(n.charAt(r)););return r}return TS=t,TS}var OS,sD;function $le(){if(sD)return OS;sD=1;var e=Hle(),t=/^\s+/;function n(r){return r&&r.slice(0,e(r)+1).replace(t,"")}return OS=n,OS}var AS,iD;function I9(){if(iD)return AS;iD=1;var e=$le(),t=Ys(),n=Ih(),r=NaN,s=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt;function c(l){if(typeof l=="number")return l;if(n(l))return r;if(t(l)){var u=typeof l.valueOf=="function"?l.valueOf():l;l=t(u)?u+"":u}if(typeof l!="string")return l===0?l:+l;l=e(l);var d=i.test(l);return d||o.test(l)?a(l.slice(2),d?2:8):s.test(l)?r:+l}return AS=c,AS}var wS,oD;function qle(){if(oD)return wS;oD=1;var e=I9(),t=1/0,n=17976931348623157e292;function r(s){if(!s)return s===0?s:0;if(s=e(s),s===t||s===-t){var i=s<0?-1:1;return i*n}return s===s?s:0}return wS=r,wS}var NS,aD;function Vle(){if(aD)return NS;aD=1;var e=qle();function t(n){var r=e(n),s=r%1;return r===r?s?r-s:r:0}return NS=t,NS}var IS,cD;function P9(){if(cD)return IS;cD=1;var e=N9(),t=Wu(),n=Vle(),r=Math.max,s=Math.min;function i(o,a,c){var l=o==null?0:o.length;if(!l)return-1;var u=l-1;return c!==void 0&&(u=n(c),u=c<0?r(l+u,0):s(u,l-1)),e(o,t(a,3),u,!0)}return IS=i,IS}var zle=P9();const R9=$t(zle),Mp="contentReference",Cm="writing",P9e=new Set([Cm,"contextList"]),R9e="f",x9e="dr",M9e="sandbox:",k9e="w",jA="â€‹",Yle="îˆ€",Kle="îˆ",lD="îˆ‚",Xle=e=>{var t,n;for(let r=e.length-1;r>=0;r-=1)if(!/\s/.test((t=e[r])!=null?t:""))return(n=e[r])!=null?n:null;return null};function uD(e){var l;const t="".concat(Yle).concat(Cm).concat(lD),n=e.indexOf(t);if(n===-1)return null;let r=e.slice(0,n)+":::".concat(Cm),s=n+t.length,i=!1,o=!0,a=0,c=!1;for(;s<e.length;s+=1){const u=(l=e[s])!=null?l:"";if(u===Kle){if(o&&!c||a<0||i)return null;r.endsWith("\n")||(r+="\n"),r+=":::",s+=1;break}if(u===lD){if(!o||c)return null;o&&a>0&&!r.trimEnd().endsWith("{")&&!r.trimEnd().endsWith("}")&&(r+="}"),r.endsWith("\n")||(r+="\n"),o=!1,c=!0;continue}if(!o){r+=u;continue}if(u==='"'){const d=Xle(r);i?(i=!1,r+=u):d==="="&&(i=!0,r+=u);continue}if(!(!i&&/\s/.test(u))){if(!i){if(u==="{")a+=1;else if(u==="}"){if(a-=1,a<0)return null}else if(u===":"){r+="=";continue}else if(u===","){r+=" ";continue}}r+=u}}return o&&a<0?null:r+e.slice(s)}const Jle=e=>{if("render_as"in e&&typeof e.render_as=="string")return e.render_as};function Qle(e,t=[]){const n=iv(t);return MN(n,e,{includeDirectives:!1,isStreaming:!1})}function L9e(e,t=[]){const n=iv(t);return MN(n,e,{includeDirectives:!0,isStreaming:!1})}function D9e(e,t=[],n,r,s=!0,i){var u;const o=iv(t,r);let a=0,c=o.filter(({index:d,displayType:f})=>d!=null&&f).reduce((d,{index:f,newContentReference:h})=>((h.type==="grouped_webpages"||h.type==="grouped_webpages_v2"||h.type==="grouped_webpages_model_predicted_fallback")&&(h.items=h.items.map(p=>I(b({},p),{section_index:a++}))),d[f]=h,d),[]),l=MN(o,e,{includeDirectives:!0,isStreaming:s});return s&&(l=Zle(l)),c=eue(i,c),n&&((u=i==null?void 0:i.length)!=null?u:0)===0&&({updatedText:l,updatedReferences:c}=tue(n,c,l)),{processedText:l,displayedContentReferences:c}}function iv(e=[],t){return[...e.entries()].sort(([,s],[,i])=>s.start_idx-i.start_idx||s.end_idx-i.end_idx).reduce((s,[i,o])=>{var l;let a,c;switch(o.type){case"invalid":case"hidden":a=I(b({},o),{type:"hidden",invalid:o.type==="invalid"});break;case"image_v2":case"nav_list":case"tldr":case"optimistic_image_citation":case"sources_footnote":case"sports_standings":case"sports_schedule":case"navigation":case"checkout_confirmation":case"video":case"file_navlist":o.type==="tldr"&&o.used_as_navigation||o.type==="navigation"?a=I(b({},o),{type:"hidden",invalid:!0}):(c="block",a=b({},o));break;case"file":case"python":case"container":case"title_citation":case"location_search":case"time":case"entity":case"map":case"product_entity":case"grouped_webpages":case"grouped_webpages_v2":case"grouped_webpages_model_predicted_fallback":case"attribution":case"image_inline":case"strix":c="inline",a=b({},o);break;case"webpage":case"webpage_extended":c="inline",a={type:"grouped_webpages",matched_text:o.matched_text,start_idx:o.start_idx,end_idx:o.end_idx,alt:o.alt,refs:o.refs,prompt_text:o.prompt_text,items:[b({},o)],safe_urls:o.safe_urls};break;case"entity_metadata":case"calculator":case"stock":case"forecast":case"businesses_map":case"products":case"product_reviews":case"product_rationale":case"image_group":case"dil":c="block",a=b({},o);break;case"product":{c=((l=Jle(o))!=null?l:"inline")==="table"?"inline":"block",a=b({},o);break}case"writing":c="block",a=b({},o);break;default:a=I(b({},o),{type:"hidden",invalid:!0}),c="alt";break}return s.push({originalContentReference:o,newContentReference:a,index:i,displayType:c}),t&&s.push({originalContentReference:o,newContentReference:b({type:"debug",matched_text:o.matched_text.replace(/(^ã€|ã€‘$)/g,"")},o.type==="webpage_extended"&&o.pub_date&&{pub_date:new Date(o.pub_date*1e3).toLocaleString()}),index:i}),s},[])}function MN(e,t,n={includeDirectives:!0,isStreaming:!1}){var o,a;let r="",s=0;const i=_ce(t);for(const c of e){const{originalContentReference:l,displayType:u,index:d}=c,{start_idx:f,end_idx:h}=l,p=i.slice(s,f);if(r+=wC(p),s=h,n.isStreaming&&c.newContentReference.type==="writing"){const _=uD(wC(i.slice(f,h)));if(_){r+=_;continue}}if(u)if(n.includeDirectives)switch(u){case"block":{if(c.newContentReference.type==="writing"){r+="\n"+uD(c.newContentReference.matched_text)+"\n";break}r+="\n"+BA(d,"leaf")+"\n";break}case"inline":{r.endsWith("```")&&(r+="\n"),r.length!==0&&r[r.length-1].match(/[:\\]/)&&(r+=jA),/https?:\/\/[^\s]*$/.test(r)&&(r+=" "),r+=BA(d,"inline");break}case"alt":r+=(o=l.alt)!=null?o:"";break}else r+=(a=l.alt)!=null?a:""}return r+=wC(i.slice(s)),r}function BA(e,t){switch(t){case"inline":return":".concat(Mp,"[oaicite:").concat(e,"]{index=").concat(e,"}");case"leaf":return"::".concat(Mp,"[oaicite:").concat(e,"]{index=").concat(e,"}");case"block":return":::".concat(Mp,"[oaicite:").concat(e,"]{index=").concat(e,"}");default:return":".concat(Mp,"[oaicite:").concat(e,"]{index=").concat(e,"}")}}function Zle(e){let t=e;t=t.replace(/ã€[^ã€‘]*$/g,"");const n=t.match(/(\n|^):::/g);return n&&n.length%2===1&&(t+="\n:::"),t=t.replace(/^\d+$/,""),t}function eue(e,t){return t.map(r=>{var s,i,o,a,c,l,u;if(r.type==="python"){const d=e==null?void 0:e.find(f=>{var h,p;return((p=(h=f.metadata)==null?void 0:h.python_citation)==null?void 0:p.citation_id)===r.citation_id});return I(b({},r),{cited_message:d,highlighted_text:dD((o=(i=(s=d==null?void 0:d.metadata)==null?void 0:s.python_citation)==null?void 0:i.annotated_text)!=null?o:"",r.starting_line,r.ending_line)})}else if(r.type==="container"){const d=e==null?void 0:e.find(f=>{var h,p;return((p=(h=f.metadata)==null?void 0:h.container_citation)==null?void 0:p.citation_id)===r.citation_id});return I(b({},r),{cited_message:d,highlighted_text:dD((u=(l=(c=(a=d==null?void 0:d.metadata)==null?void 0:a.container_citation)==null?void 0:c.annotated_parts)==null?void 0:l.join("\n"))!=null?u:"",r.starting_line,r.ending_line)})}return r})}function tue(e,t,n){const r=e.find(i=>Ds(i)===_e.CodeInterpreter),s=e.find(i=>Ds(i)===_e.CodeInterpreterTool);if(r!=null&&s!=null){const i=t.length;n.endsWith("```")&&(n+="\n"),n+=" "+jA+BA(i,"inline")+jA,t.push({type:"code_execution",codeMessage:r,codeExecutionOutputMessage:s})}return{updatedText:n,updatedReferences:t}}function dD(e,t,n){const r=e.split("\n"),s=r.findIndex(c=>c.startsWith("".concat(t,":"))),i=r.findIndex(c=>c.startsWith("".concat(n,":")));return s===-1||i===-1||i<s?null:r.slice(s,i+1).map(c=>c.replace(/^L\d+:\s*/,"").trim()).join("\n")}function nue(e,t){var s;if(!t||Object.keys(t).length===0)return e;const n=e.split("\n");let r=!1;for(let i=0;i<n.length;i++){const o=n[i];if(fD(o)){r=!r;continue}if(r)continue;const a=o.trim(),c=rue(a);if(!c)continue;const l=c.attributes,u=sue(l);if(!u)continue;const d=(s=t[u])==null?void 0:s.content;if(typeof d!="string")continue;let f=i+1;for(;f<n.length;){const _=n[f];if(fD(_)){r=!r,f++;continue}if(!r&&_.trim()===":::")break;f++}if(f>=n.length)continue;const h=d.split("\n"),p=f-(i+1);n.splice(i+1,p,...h),i=i+h.length}return n.join("\n")}function fD(e){return e.trimStart().startsWith("```")}function rue(e){var r;const t=new RegExp("^:::".concat(Cm,"\\{([^}]*)\\}$")),n=e.match(t);return n?{attributes:(r=n[1])!=null?r:""}:null}function sue(e){var r,s,i;const t=/(?:^|\s)id\s*=\s*(?:"([^"]*)"|'([^']*)'|([^\s}]+))/,n=e.match(t);if(n)return(i=(s=(r=n[1])!=null?r:n[2])!=null?s:n[3])!=null?i:void 0}function x9(e,t={shouldGetTextFromContentReferences:!1,shouldGetVisibleText:!1}){var n,r,s,i,o;if(t.shouldGetVisibleText&&!Wle(e))return"";switch(e.content.content_type){case Be.Text:{let a=e.content.parts.join("");return(n=e.metadata)!=null&&n.writing_blocks&&(a=nue(a,e.metadata.writing_blocks)),t.shouldGetTextFromContentReferences&&((r=e.metadata)!=null&&r.content_references)&&(a=Qle(a,e.metadata.content_references)),a}case Be.MultimodalText:return rv.getPartsAsString(e,!t.shouldGetVisibleText);case Be.TetherBrowsingDisplay:return e.content.result;case Be.TetherQuote:case Be.TetherBrowsingCode:case Be.Code:case Be.ExecutionOutput:case Be.SystemError:return e.content.text;case Be.SystemMessage:case Be.SystemContent:return(o=(i=(s=e==null?void 0:e.metadata)==null?void 0:s.__internal)==null?void 0:i.rendered_harmony_string)!=null?o:JSON.stringify(e.content,null,2);case Be.UserEditableContext:return"".concat(e.content.user_profile,"\n").concat(e.content.user_instructions);case Be.SonicWebpage:return"[".concat(e.content.ref_id,"] ").concat(e.content.title," (").concat(e.content.url,")");case Be.StructuredThoughts:return e.content.thoughts.map(a=>"**".concat(a.summary,"**\n\n").concat(a.content)).join("\n\n");case Be.ReasoningRecap:return e.content.content;default:return""}}var PS,hD;function iue(){if(hD)return PS;hD=1;var e=Wu(),t=Bu(),n=Gu();function r(s){return function(i,o,a){var c=Object(i);if(!t(i)){var l=e(o,3);i=n(i),o=function(d){return l(c[d],d,c)}}var u=s(i,o,a);return u>-1?c[l?i[u]:u]:void 0}}return PS=r,PS}var RS,pD;function oue(){if(pD)return RS;pD=1;var e=iue(),t=P9(),n=e(t);return RS=n,RS}var aue=oue();const Ud=$t(aue),xS=-1;var GA=(e=>(e[e.Text=0]="Text",e[e.MultiText=1]="MultiText",e[e.StructuredThoughts=2]="StructuredThoughts",e[e.ReasoningRecap=3]="ReasoningRecap",e[e.Browsing=4]="Browsing",e[e.CodeInterpreter=5]="CodeInterpreter",e[e.JITPlugin=6]="JITPlugin",e[e.DILWidget=7]="DILWidget",e[e.RetrievalBrowsing=8]="RetrievalBrowsing",e[e.ParallelBrowsing=9]="ParallelBrowsing",e[e.Dalle=10]="Dalle",e[e.Canmore=11]="Canmore",e[e.Container=12]="Container",e[e.GizmoEditor=13]="GizmoEditor",e[e.SearchResult=14]="SearchResult",e[e.Debug=15]="Debug",e[e.SearchGPTQuery=16]="SearchGPTQuery",e[e.l1p9k3u=17]="l1p9k3u",e[e.a8km123=18]="a8km123",e[e.f959b8c=19]="f959b8c",e[e.b1de6e2_c=20]="b1de6e2_c",e[e.b1de6e2_s=21]="b1de6e2_s",e[e.b1de6e2_d=22]="b1de6e2_d",e[e.b1de6e2_rm=23]="b1de6e2_rm",e[e.is_loading_message=24]="is_loading_message",e[e.b47u8ra0_t=25]="b47u8ra0_t",e[e.de1d73e=26]="de1d73e",e[e.oiw209h=27]="oiw209h",e[e.t2uay3k=28]="t2uay3k",e[e.Oboe=29]="Oboe",e[e.UserSettings=30]="UserSettings",e[e.q7dr546=31]="q7dr546",e[e.CoTSearchTool=32]="CoTSearchTool",e[e.n7jupd=33]="n7jupd",e[e.n7jupd_x=34]="n7jupd_x",e[e.n7jupd_a=35]="n7jupd_a",e[e.n7jupd_n=36]="n7jupd_n",e[e.n7jupd_p=37]="n7jupd_p",e[e.n7jupd_image_gen=38]="n7jupd_image_gen",e[e.n7jupd_native_api_tool=39]="n7jupd_native_api_tool",e[e.APIToolElicitation=40]="APIToolElicitation",e[e.PIMBlock=41]="PIMBlock",e[e.Mochi=42]="Mochi",e[e.HazelnutEnablePrompt=43]="HazelnutEnablePrompt",e[e.SuperWidget=44]="SuperWidget",e[e.Croquette=45]="Croquette",e[e.kaur1br5=46]="kaur1br5",e[e.e1ld0dvz=47]="e1ld0dvz",e[e.Glaux=48]="Glaux",e[e.Strix=49]="Strix",e[e.Mercury=50]="Mercury",e[e.async_task_result_message=51]="async_task_result_message",e[e.xdeo6rao=52]="xdeo6rao",e))(GA||{});const M9={[_e.StructuredThoughts]:2,[_e.ReasoningRecap]:3,[_e.Browsing]:4,[_e.BrowseTool]:4,[_e.SearchGPTQuery]:16,[_e.RetrievalBrowsing]:8,[_e.RetrievalBrowsingTool]:8,[_e.ParallelBrowsing]:9,[_e.ParallelBrowsingTool]:9,[_e.JITPlugin]:6,[_e.JITPluginTool]:6,[_e.JITPluginGoogleTool]:6,[_e.DILWidget]:7,[_e.Dalle]:10,[_e.DalleTool]:10,[_e.t2uay3k]:28,[_e.t2uay3k_c]:28,[_e.oiw209h]:27,[_e.oiw209h_c]:27,[_e.Container]:12,[_e.CodeInterpreter]:5,[_e.CodeInterpreterTool]:5,[_e.UserSettings]:30,[_e.UserSettingsTool]:30,[_e.q7dr546]:31,[_e.q7dr546_c]:31,[_e.a8km123]:18,[_e.f959b8c]:19,[_e.b1de6e2_c]:20,[_e.b1de6e2_s]:21,[_e.b1de6e2_d]:22,[_e.b1de6e2_rm]:23,[_e.async_task_result_message]:51,[_e.l1p9k3u]:17,[_e.is_loading_message]:24,[_e.b47u8ra0_t]:25,[_e.de1d73e]:26,[_e.GizmoEditor]:13,[_e.SearchResultTool]:14,[_e.ImagePreloadTool]:14,[_e.CanmoreTool]:11,[_e.CoTSearchToolCall]:32,[_e.CoTSearchToolResult]:32,[_e.n7jupd_c]:33,[_e.n7jupd_r]:33,[_e.n7jupd_t]:33,[_e.n7jupd_m]:33,[_e.n7jupd_x]:34,[_e.n7jupd_a]:35,[_e.n7jupd_native_api_tool]:39,[_e.n7jupd_n]:36,[_e.n7jupd_p]:37,[_e.kaur1br5]:46,[_e.Mercury]:50,[_e.PIMBlock]:41,[_e.HazelnutEnablePrompt]:43,[_e.Mochi]:42,[_e.SuperWidget]:44,[_e.Croquette]:45,[_e.n7jupd_image_gen]:38,[_e.e1ld0dvz]:47,[_e.Glaux]:48,[_e.Strix]:49,[_e.APIToolElicitation]:40,[_e.xdeo6rao]:52};function cue(e){switch(e){case _e.JITPlugin:case _e.Dalle:case _e.t2uay3k:case _e.oiw209h:case _e.DILWidget:case _e.CoTSearchToolCall:case _e.CodeInterpreter:case _e.UserSettings:case _e.q7dr546:case _e.PIMBlock:case _e.HazelnutEnablePrompt:return!0;default:return!1}}function _D(e,t,n){var r;return(e==null?void 0:e.type)===6&&Em(n)?!0:!e||e.type!==t||cue(Ds(n))||e.type===12&&!((r=n.author.name)!=null&&r.startsWith(hc.CONTAINER))?!1:e.type===t}function F9e(e){return M9[Ds(e)]}function mD(e,t,n){return Ss(t,r=>{var c,l;if(e===je.User&&!w9(n))return r;if(xN(n)){let u;const d=(c=n.metadata)==null?void 0:c.reasoning_group_id;d?u=Ud(r,h=>h.type===xS&&h.reasoningGroupId===d):u=Os(r);let f;(u==null?void 0:u.type)===xS?f=u:(f={type:xS,groups:[],reasoningGroupId:d},r.push(f)),r=f.groups}const s=Ds(n);if(s===_e.no_render)return;const i=M9[s],o=Os(r),a=(o==null?void 0:o.type)!==15?o:Ud(r,u=>u.type!==15);if(s===_e.Text&&((a==null?void 0:a.type)===1||(a==null?void 0:a.type)===0)&&x9(n)!=null&&(Ule(n)||Fle(a.messages[a.messages.length-1])))a.type=1,a.messages.push(n);else if(i===18&&r.some(u=>u.type===18))Ud(r,d=>d.type===18).messages.push(n);else if(i===28&&((l=n.metadata)!=null&&l.turn_exchange_id)){const u=Ud(r,d=>{var f,h,p;return d.type===28&&((h=(f=Os(d.messages))==null?void 0:f.metadata)==null?void 0:h.turn_exchange_id)===((p=n.metadata)==null?void 0:p.turn_exchange_id)});u?u.messages.push(n):_D(a,i,n)?a.messages.push(n):r.push({type:i!=null?i:Lc(n)?15:0,messages:[n]})}else _D(a,i,n)?a.messages.push(n):r.push({type:i!=null?i:Lc(n)?15:0,messages:[n]})})}function kN(e,t){const n=e.getNodeByIdOrMessageId(t),r=n.id!==e.rootId?kN(e,n.parentId):lue;return uue(r,n.message)}const lue=Object.freeze([]),uue=AQ(due);function due(e,t){var i,o,a;const n=[...e],r=Os(n),s=A9(t);if(r&&fue(r,t)){const c=[...r.messages,t],l=mD(r.role,r.messageGroups,t),u=r.role===je.System?gD(t):r.role,d=(i=tD(t))!=null?i:r.gizmoId;let f=r.authorId,h=r.modelSlug;n[n.length-1]=I(b({},r),{messages:c,messageGroups:l,role:u,isPrompt:r.isPrompt||s,gizmoId:d,authorId:f,modelSlug:h,hasDisplayableMessages:r.hasDisplayableMessages||UA(t),userContinuationRootTurnId:r.userContinuationRootTurnId,userContinuationParentTurnId:r.userContinuationParentTurnId,userContinuationSuccessorTurnId:r.userContinuationSuccessorTurnId})}else{const c=(o=t.clientMetadata)==null?void 0:o.requestId,l=gD(t),u=l===je.Assistant&&c&&c!==(r==null?void 0:r.id)?c:t.id,d=UA(t);let f=null,h=null;if(l===je.User&&d){const p=R9(n,_=>_.hasDisplayableMessages);if(p!==-1){const _=n[p];_.role===je.User?(f=(a=_.userContinuationRootTurnId)!=null?a:_.id,h=_.id,n[p]=I(b({},_),{userContinuationSuccessorTurnId:u})):(f=u,h=u)}}n.push({id:u,role:l,messages:[t],messageGroups:mD(l,[],t),isPrompt:s,gizmoId:tD(t),hasDisplayableMessages:d,userContinuationRootTurnId:f,userContinuationParentTurnId:h,userContinuationSuccessorTurnId:null})}return n}function gD(e){return Em(e)?je.System:e.author.role===je.Tool?je.Assistant:e.author.role===je.Developer?je.System:e.author.role}function fue(e,t){var n,r,s,i,o,a,c,l,u,d,f,h,p;if((n=t.metadata)!=null&&n.is_indepth_feedback)return!1;if((r=t.metadata)!=null&&r.async_completion_id){const _=Os(e.messages);return((s=_==null?void 0:_.metadata)==null?void 0:s.async_task_type)==="pro_mode"&&((i=_==null?void 0:_.metadata)!=null&&i.async_task_id)&&_.metadata.async_task_id===((o=t.metadata)==null?void 0:o.async_task_id)?!0:((a=_==null?void 0:_.metadata)==null?void 0:a.async_completion_id)===((c=t.metadata)==null?void 0:c.async_completion_id)}return(u=(l=Os(e.messages))==null?void 0:l.metadata)!=null&&u.reasoning_status&&((d=t.metadata)!=null&&d.reasoning_status)||e.role===t.author.role?!0:e.role===je.User&&t.recipient==="bio"?!1:(((f=Os(e.messageGroups))==null?void 0:f.type)===GA.Debug||((h=Os(e.messageGroups))==null?void 0:h.type)===GA.JITPlugin)&&Em(t)?!0:Em(t)?e.role===je.Root||e.role===je.System:Lc(t)?!((p=t.metadata)!=null&&p.reasoning_status&&e.role===je.User):(e.role===je.System||e.role===je.Developer)&&!e.isPrompt?!0:t.author.role===je.Tool?e.role===je.Assistant:!1}function hue(){"use forget";const e=W.c(2),t=nn();let n;return e[0]!==t.pathname?(n=L9(t.pathname),e[0]=t.pathname,e[1]=n):n=e[1],n}function k9(e){const n=new URL("http://example.com".concat(e)).pathname.match(/(?:\/gizmo)?\/g\/([^/]+)/);if(n)return n[1]}function pue(e){const t=e.split("-");return t.length>1&&t[0]==="g"?(t==null?void 0:t[1])==="p"?"g-p-".concat(t[2]):"g-".concat(t[1]):e}function L9(e){const t=k9(e);if(t)return pue(t)}const D9=e=>{var t,n;return["models",JSON.stringify({IIM:(t=e==null?void 0:e.IIM)!=null?t:!1,isGizmo:(n=e==null?void 0:e.isGizmo)!=null?n:!1})]},_ue=()=>["gizmo-models"],mue="models",gue=1,vue=e=>{var t;return ln({retry:5,enabled:(t=e==null?void 0:e.enabled)!=null?t:!0,queryKey:D9(e),queryFn:async()=>{const n=$s(await Y.safeGet("/models",{authOption:en.SendIfAvailable,parameters:{query:{iim:e==null?void 0:e.IIM,is_gizmo:e==null?void 0:e.isGizmo}}}));return Cue(n)},placeholderData:e==null?void 0:e.placeholderData})},yue=Ie(e=>qt(e,Eue));function Eue(e=!0){return ln({retry:5,enabled:e,queryKey:_ue(),queryFn:async()=>{const t=$s(await Y.safeGet("/models/gpts",{authOption:en.SendIfAvailable}));return Sue(t)}})}function Cue(e){var t,n,r;return{categories:e.categories.concat().reverse().map(bue),groups:(n=(t=e.internal_groups)==null?void 0:t.map(Tue))!=null?n:[],defaultModelSlug:(r=e.default_model_slug)!=null?r:null,modelPickerVersion:e.model_picker_version,models:new Map(e.models.map(s=>[s.slug,F9(s)])),title:e.title,secondaryTitle:e.secondary_title}}function Sue(e){return{editor:e.editor,model_override:e.model_override}}function F9(e){return{id:e.slug,maxTokens:e.max_tokens,title:e.title,description:e.description,tags:e.tags,enabledTools:e.enabled_tools,product_features:e.product_features,enableInfer:e.enable_infer,enableInferOptOut:e.enable_infer_opt_out,reasoningType:e.reasoning_type,thinkingEfforts:e.thinking_efforts,configurableThinkingEffort:e.configurable_thinking_effort}}function bue(T){var A=T,{default_model:e,tagline:t,color:n,human_category_name:r,category:s,human_category_short_name:i,human_category_shorter_name:o,subscription_level:a,short_explainer:c,subcategory:l,render_header_type:u,title:d,is_beta:f,is_alpha:h,model_badge:p,supported_features:_,supported_models:m,disabled_by_admin:y,date_updated:v,action_pill_short_name:O,slash_command_enabled:S}=A,E=G(A,["default_model","tagline","color","human_category_name","category","human_category_short_name","human_category_shorter_name","subscription_level","short_explainer","subcategory","render_header_type","title","is_beta","is_alpha","model_badge","supported_features","supported_models","disabled_by_admin","date_updated","action_pill_short_name","slash_command_enabled"]);return b({color:n,tagline:t,defaultModel:e,label:r,shortLabel:i,description:c,shorterLabel:o!=null?o:i,subscriptionLevel:a,categoryId:s,subcategory:l,renderHeaderType:u,isBeta:f,isAlpha:h,modelBadge:p,title:d,supportedFeatures:_,supportedModels:m!=null?m:[],dateUpdated:v,actionPillShortName:O,slashCommandEnabled:S,disabledByAdmin:y!=null?y:!1},E)}function Tue({group:e,human_group_name:t,human_group_short_name:n,model_ids:r}){return{group:e,label:t,shortLabel:n,modelIds:r}}const vD=new WeakMap;function Oue(e){let t=vD.get(e);if(!t){const n=new Map([...e.models.entries()].filter(([,r])=>r.tags.includes("history_off_approved")));t={models:n,defaultModelSlug:e.defaultModelSlug,categories:e.categories.filter(r=>n.has(r.defaultModel)),groups:e.groups.map(r=>I(b({},r),{modelIds:r.modelIds.filter(s=>n.has(s))})).filter(r=>r.modelIds.length>0)},vD.set(e,t)}return t}const E_=new BroadcastChannel("plugin_oauth_channel"),U9e=e=>{E_.postMessage(e)};function yD(){return g.jsx("div",{className:"border-token-text-quartenary text-token-text-secondary dark:border-token-border-heavy dark:text-token-text-tertiary items-center rounded-full border px-1 py-0.5 text-[8px] leading-3 font-semibold uppercase",children:g.jsx(Tt,{id:"PoPvGE",defaultMessage:"Alpha"})})}const Aue=ge(ht,"4944fe",20,20);function Su({className:e}){return g.jsx(Aue,{className:ie("motion-safe:animate-spin",e)})}function j9e({className:e}){return g.jsx("div",{className:"flex h-full w-full items-center justify-center",children:g.jsx(Su,{className:e})})}function Or(e){return e?"":void 0}function wue(e,t){return e.getAttribute(t)!=null}function B9e(e,t,n){U9(e,t,Or(n))}function U9(e,t,n){e&&(n!=null?e.setAttribute(t,n):e.removeAttribute(t))}const Nue=new Set(["primary"]);function fo(y){var v=y,{children:e,onClick:t,onPreclick:n,className:r,contentWrapperClassName:s,color:i="primary",label:o,disabled:a=!1,visuallyDisabled:c=!1,loading:l=!1,size:u="medium",fullWidth:d=!1,contentsFullWidth:f=!1,icon:h,iconClassName:p,style:_}=v,m=G(v,["children","onClick","onPreclick","className","contentWrapperClassName","color","label","disabled","visuallyDisabled","loading","size","fullWidth","contentsFullWidth","icon","iconClassName","style"]);var w;const O=c||a||l,S=l||a,E=ie(O&&!Nue.has(i)&&"opacity-50",S&&"cursor-not-allowed","btn relative",i==="primary"&&"btn-primary",i==="primary-inverse"&&"btn-primary-inverse",i==="green"&&"btn-green",i==="purple"&&"btn-purple",i==="accent"&&"btn-accent",i==="secondary"&&"btn-secondary",i==="custom"&&"btn-custom",i==="danger"&&"btn-danger",i==="danger-outline"&&"btn-danger-outline",i==="blue"&&"btn-blue",i==="ghost"&&"btn-ghost",u==="small"&&"btn-small",u==="large"&&"btn-large",d&&"w-full",r),T=h?g.jsxs("div",{className:ie("flex w-full","items-center justify-center",s,{"gap-1.5":u==="medium"||u==="large","gap-1":u==="small"}),children:[l?g.jsx(Su,{className:ie(e?"-ms-0.5":"-mx-1",u==="small"&&"icon-sm",(u==="medium"||u==="large")&&"icon")}):g.jsx(h,{"aria-label":"",className:ie(e?"-ms-0.5":"-mx-1",u==="small"&&"icon-sm",(u==="medium"||u==="large")&&"icon",p)}),e]}):g.jsxs("div",{className:ie("flex items-center justify-center",s,f&&"w-full"),children:[e,l&&g.jsx(Su,{className:ie(u==="small"&&"icon-sm ms-1",(u==="medium"||u==="large")&&"icon ms-1.5")})]});switch(m.as){case"link":case"a":{const A=m,{openNewTab:N}=A,P=G(A,["openNewTab"]);return g.jsx(bw,I(b({onPointerOver:n,onTouchStart:n,onFocus:n},P),{"aria-label":o,to:(w=m.to)!=null?w:"/",target:N===!0?"_blank":"_self",onClick:t,className:E,"data-visually-disabled":Or(O),style:_,children:T}))}default:return g.jsx("button",I(b({className:E,ref:m.ref,"aria-label":o,onClick:t,onPointerOver:n,onTouchStart:n,onFocus:n,disabled:S,"data-visually-disabled":Or(O)},m),{style:_,children:T}))}}fo.displayName="Button";const j9=ge(ht,"d3876b",16,16,!0),Iue=ge(ht,"b30c2a",16,16),Pue=ge(ht,"e51fba",16,16,!0);function Rue(){return Ow()?8:1}function B9(e){return(e.ctrlKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.metaKey?8:0)}function xue(e){return!ov(e)&&!B9(e)}function ov(e){const t="nativeEvent"in e?e.nativeEvent:e;return t.isComposing||t.keyCode===229}function Mue(e){const{key:t,currentTarget:n}=e,r=n instanceof HTMLInputElement;return xue(e)&&(t==="Tab"||t==="ArrowDown"||t==="ArrowUp"||t==="ArrowLeft"&&(!r||n.selectionStart===0||n.selectionEnd===0)||t==="ArrowRight"&&(!r||n.selectionEnd===n.selectionStart&&n.selectionStart===n.value.length))}const ho=e=>{"use forget";var Pe;const t=W.c(86),Xe=e,{as:n,icon:r,trailing:s,highlightTrailing:i,showHighlightTrailing:o,trailingColor:a,label:c,badge:l,secondary:u,className:d,color:f,size:h,active:p,highlighted:_,hasManagedFocus:m,subMenu:y,fillContainer:v,children:O}=Xe,S=G(Xe,["as","icon","trailing","highlightTrailing","showHighlightTrailing","trailingColor","label","badge","secondary","className","color","size","active","highlighted","hasManagedFocus","subMenu","fillContainer","children"]),E=o===void 0?!1:o,T=a===void 0?"tertiary":a,A=h===void 0?"default":h,w=p===void 0?!1:p,N=_===void 0?!1:_,P=m===void 0?!1:m,x=y===void 0?!1:y,D=v===void 0?!1:v;let M;if((!O||C.isValidElement(O))&&!c&&!l)M=O;else{let J;t[0]!==c?(J=c&&g.jsx(Lue,{children:c}),t[0]=c,t[1]=J):J=t[1];let X;t[2]!==l?(X=l&&g.jsx(Due,{children:l}),t[2]=l,t[3]=X):X=t[3];let L;t[4]!==O||t[5]!==X||t[6]!==J?(L=g.jsxs("div",{className:"flex min-w-0 grow items-center gap-2.5",children:[J,O,X]}),t[4]=O,t[5]=X,t[6]=J,t[7]=L):L=t[7],M=L}if(u){let J;t[8]!==u?(J=g.jsx("div",{className:"not-group-data-disabled:text-token-text-tertiary leading-dense mb-0.5 text-xs group-data-sheet-item:mt-0.5 group-data-sheet-item:mb-0",children:u}),t[8]=u,t[9]=J):J=t[9];let X;t[10]!==M||t[11]!==J?(X=g.jsxs("div",{className:"min-w-0",children:[M,J]}),t[10]=M,t[11]=J,t[12]=X):X=t[12],M=X}if(r){const J=A==="large"?"icon-lg":"icon";let X;t[13]!==J?(X=ie("flex items-center justify-center group-disabled:opacity-50 group-data-disabled:opacity-50",J),t[13]=J,t[14]=X):X=t[14];let L;t[15]!==r?(L=typeof r!="function"?r:g.jsx(r,{className:"icon","aria-hidden":"true"}),t[15]=r,t[16]=L):L=t[16];let Ne;t[17]!==X||t[18]!==L?(Ne=g.jsx("div",{className:X,children:L}),t[17]=X,t[18]=L,t[19]=Ne):Ne=t[19];let nt;t[20]!==M||t[21]!==Ne?(nt=g.jsxs(g.Fragment,{children:[Ne,M]}),t[20]=M,t[21]=Ne,t[22]=nt):nt=t[22],M=nt}let F;if(s){const J=T==="tertiary"&&"text-token-text-tertiary";let X;t[23]!==J?(X=ie("trailing",J),t[23]=J,t[24]=X):X=t[24];const L=i?-1:void 0;let Ne;t[25]!==s?(Ne=typeof s!="function"?s:g.jsx(s,{className:"icon","aria-hidden":"true"}),t[25]=s,t[26]=Ne):Ne=t[26];let nt;t[27]!==X||t[28]!==L||t[29]!==Ne?(nt=g.jsx("div",{className:X,tabIndex:L,children:Ne}),t[27]=X,t[28]=L,t[29]=Ne,t[30]=nt):nt=t[30],F=nt}if(i){const J=T==="tertiary"&&"text-token-text-tertiary";let X;t[31]!==J?(X=ie("trailing highlight",J),t[31]=J,t[32]=X):X=t[32];let L;t[33]!==i?(L=typeof i!="function"?i:g.jsx(i,{className:"icon","aria-hidden":"true"}),t[33]=i,t[34]=L):L=t[34];let Ne;t[35]!==X||t[36]!==L?(Ne=g.jsx("div",{className:X,children:L}),t[35]=X,t[36]=L,t[37]=Ne):Ne=t[37];const nt=Ne;let He;t[38]!==nt||t[39]!==F?(He=F?g.jsxs("div",{className:"trailing-pair",children:[nt,F]}):nt,t[38]=nt,t[39]=F,t[40]=He):He=t[40],F=He}if(x){let J;t[41]===Symbol.for("react.memo_cache_sentinel")?(J=g.jsx(j9,{className:"icon-sm -me-0.25"}),t[41]=J):J=t[41];const X=J;let L;t[42]!==F?(L=F?g.jsxs("div",{className:"flex items-center gap-1 self-stretch",children:[F,X]}):X,t[42]=F,t[43]=L):L=t[43],F=L}if(F){if(r){const X=A==="large"?"gap-2":"gap-1.5";let L;t[44]!==X?(L=ie("flex min-w-0 items-center",X),t[44]=X,t[45]=L):L=t[45];let Ne;t[46]!==M||t[47]!==L?(Ne=g.jsx("div",{className:L,children:M}),t[46]=M,t[47]=L,t[48]=Ne):Ne=t[48],M=Ne}let J;t[49]!==M||t[50]!==F?(J=g.jsxs(g.Fragment,{children:[M,F]}),t[49]=M,t[50]=F,t[51]=J):J=t[51],M=J}const j=n,$=C.useRef(null),q=C.useRef(!1);let k,Z;t[52]!==N?(Z=()=>{if(q.current){q.current=!1;return}N&&requestAnimationFrame(()=>{var J;(J=$.current)==null||J.scrollIntoView({block:"nearest"})})},k=[N],t[52]=N,t[53]=k,t[54]=Z):(k=t[53],Z=t[54]),C.useEffect(Z,k);const B=S.disabled?-1:0,Q=Or((Pe=S.disabled)!=null?Pe:!1);let se;t[55]!==w?(se=Or(w),t[55]=w,t[56]=se):se=t[56];let fe;t[57]!==N?(fe=Or(N),t[57]=N,t[58]=fe):fe=t[58];let V;t[59]!==x?(V=Or(x),t[59]=x,t[60]=V):V=t[60];let H;t[61]!==D?(H=Or(D),t[61]=D,t[62]=H):H=t[62];let ee;t[63]!==E?(ee=Or(E),t[63]=E,t[64]=ee):ee=t[64];const z=A==="large"?"large":void 0,te=f!=="default"?f:void 0,Se=!P&&"hoverable",he=r&&!F&&(A==="large"?"gap-2":"gap-1.5");let oe;t[65]!==d||t[66]!==Se||t[67]!==he?(oe=ie("group __menu-item",Se,he,d),t[65]=d,t[66]=Se,t[67]=he,t[68]=oe):oe=t[68];let be;t[69]!==S?(be=J=>{var X;q.current=!0,(X=S.onPointerMoveCapture)==null||X.call(S,J)},t[69]=S,t[70]=be):be=t[70];let ke;return t[71]!==j||t[72]!==M||t[73]!==S||t[74]!==B||t[75]!==Q||t[76]!==se||t[77]!==fe||t[78]!==V||t[79]!==H||t[80]!==ee||t[81]!==z||t[82]!==te||t[83]!==oe||t[84]!==be?(ke=g.jsx(j,I(b({ref:$,tabIndex:B,"data-disabled":Q,"data-active":se,"data-highlighted":fe,"data-has-submenu":V,"data-fill":H,"data-revealed":ee,"data-size":z,"data-color":te,className:oe},S),{onPointerMoveCapture:be,children:M})),t[71]=j,t[72]=M,t[73]=S,t[74]=B,t[75]=Q,t[76]=se,t[77]=fe,t[78]=V,t[79]=H,t[80]=ee,t[81]=z,t[82]=te,t[83]=oe,t[84]=be,t[85]=ke):ke=t[85],ke},kue=n=>{var r=n,{external:e}=r,t=G(r,["external"]);return g.jsx(ho,b(b({as:bw},e?{highlightTrailing:g.jsx(Pue,{className:"icon-sm"}),target:"_blank",rel:"noopener noreferrer"}:null),t))},LN=e=>{var o;const i=e,{row:t,className:n}=i,r=G(i,["row","className"]),s=(o=e.as)!=null?o:"button";return g.jsx(ho,I(b({"data-sheet-item":!0},r),{as:s,className:ie("bg-token-bg-tertiary dark:bg-token-bg-secondary mx-0 w-full py-4 leading-5",t?"justify-between px-4 text-start":"flex-col justify-center px-0",n)}))},Lue=C.memo(function({children:t}){return g.jsx("div",{className:"truncate",ref:n=>{n!=null&&n.textContent&&n.scrollWidth>n.clientWidth&&(n.title=n.textContent)},children:t})}),Due=({children:e,className:t})=>g.jsx("span",{className:ie("__menu-item-badge",t),children:e}),G9e=i=>{var o=i,{disabled:e,icon:t,children:n,className:r}=o,s=G(o,["disabled","icon","children","className"]);return g.jsx("button",I(b({disabled:e,tabIndex:e?void 0:0,"data-trailing-button":Or(!0),className:ie("__menu-item-trailing-btn",r)},s),{onClick:a=>{var c;a.preventDefault(),a.stopPropagation(),(c=s.onClick)==null||c.call(s,a)},onDoubleClick:a=>{var c;a.preventDefault(),a.stopPropagation(),(c=s.onDoubleClick)==null||c.call(s,a)},onPointerDown:a=>{var c;(c=s.onPointerDown)==null||c.call(s,a),a.preventDefault(),a.stopPropagation()},onMouseDown:a=>{var c;(c=s.onMouseDown)==null||c.call(s,a),a.preventDefault(),a.stopPropagation()},children:g.jsx("div",{children:t?g.jsx(t,{className:"icon","aria-hidden":"true"}):n})}))},W9e=r=>{var s=r,{children:e,className:t}=s,n=G(s,["children","className"]);return g.jsx(bw,I(b({"data-trailing-button":Or(!0),className:ie("__menu-item-trailing-lnk",t)},n),{onClick:i=>{var o;i.preventDefault(),i.stopPropagation(),(o=n.onClick)==null||o.call(n,i)},onDoubleClick:i=>{var o;i.preventDefault(),i.stopPropagation(),(o=n.onDoubleClick)==null||o.call(n,i)},children:e}))},Fue=r=>{var s=r,{as:e,className:t}=s,n=G(s,["as","className"]);const i=e;return g.jsx(i,b({className:ie("__menu-label",t)},n))};function Uue({size:e="long"}){const t=e==="long"?220:120,[n]=C.useState(()=>.75+.25*Math.random());return g.jsx(ho,{as:"div",disabled:!0,children:g.jsx("div",{className:"loading-results-shimmer h-4 rounded-sm",style:{width:Math.round(n*t)}})})}const jue=e=>{"use forget";var E;const t=W.c(32);let n,r,s,i,o,a,c,l,u;t[0]!==e?(E=e,{holdFocus:c,selectAllOnFocus:l,onClick:r,onFocus:s,onKeyDownCapture:i,onSubmit:o,border:u,className:n}=E,a=G(E,["holdFocus","selectAllOnFocus","onClick","onFocus","onKeyDownCapture","onSubmit","border","className"]),t[0]=e,t[1]=n,t[2]=r,t[3]=s,t[4]=i,t[5]=o,t[6]=a,t[7]=c,t[8]=l,t[9]=u):(n=t[1],r=t[2],s=t[3],i=t[4],o=t[5],a=t[6],c=t[7],l=t[8],u=t[9]);const d=c===void 0?!1:c,f=l===void 0?!0:l,h=u===void 0?!0:u;let p;t[10]!==n?(p=ie("text-token-text-primary bg-token-bg-primary data-border:border-token-border-default relative m-[-1px] mx-1.5 w-[calc(100%---spacing(3))] min-w-[200px] rounded-[10px] border-transparent px-2.5 py-2 text-sm focus:ring-0 focus:ring-offset-0 focus:outline-hidden disabled:opacity-50 data-border:border-1 dark:bg-transparent",n),t[10]=n,t[11]=p):p=t[11];let _;t[12]!==d?(_=Or(d),t[12]=d,t[13]=_):_=t[13];let m;t[14]!==h?(m=Or(h),t[14]=h,t[15]=m):m=t[15];let y;t[16]!==r?(y=T=>{r==null||r(T),T.preventDefault()},t[16]=r,t[17]=y):y=t[17];let v;t[18]!==s||t[19]!==f?(v=T=>{s==null||s(T),f&&T.currentTarget.select()},t[18]=s,t[19]=f,t[20]=v):v=t[20];let O;t[21]!==i||t[22]!==o?(O=T=>{i==null||i(T);const{key:A}=T;Mue(T)||(T.stopPropagation(),A==="Enter"&&(o==null||o(T)))},t[21]=i,t[22]=o,t[23]=O):O=t[23];let S;return t[24]!==a||t[25]!==p||t[26]!==_||t[27]!==m||t[28]!==y||t[29]!==v||t[30]!==O?(S=g.jsx("input",b({type:"text",className:p,"data-hold-focus":_,"data-border":m,autoComplete:"off",onClick:y,onFocus:v,onKeyDownCapture:O},a)),t[24]=a,t[25]=p,t[26]=_,t[27]=m,t[28]=y,t[29]=v,t[30]=O,t[31]=S):S=t[31],S};function Ge(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function Bue(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function av(...e){return t=>e.forEach(n=>Bue(n,t))}function pn(...e){return C.useCallback(av(...e),e)}function Gue(e,t){const n=C.createContext(t),r=i=>{const l=i,{children:o}=l,a=G(l,["children"]),c=C.useMemo(()=>a,Object.values(a));return g.jsx(n.Provider,{value:c,children:o})};r.displayName=e+"Provider";function s(i){const o=C.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error("`".concat(i,"` must be used within `").concat(e,"`"))}return[r,s]}function Hu(e,t=[]){let n=[];function r(i,o){const a=C.createContext(o),c=n.length;n=[...n,o];const l=d=>{var v;const y=d,{scope:f,children:h}=y,p=G(y,["scope","children"]),_=((v=f==null?void 0:f[e])==null?void 0:v[c])||a,m=C.useMemo(()=>p,Object.values(p));return g.jsx(_.Provider,{value:m,children:h})};l.displayName=i+"Provider";function u(d,f){var _;const h=((_=f==null?void 0:f[e])==null?void 0:_[c])||a,p=C.useContext(h);if(p)return p;if(o!==void 0)return o;throw new Error("`".concat(d,"` must be used within `").concat(i,"`"))}return[l,u]}const s=()=>{const i=n.map(o=>C.createContext(o));return function(a){const c=(a==null?void 0:a[e])||i;return C.useMemo(()=>({["__scope".concat(e)]:I(b({},a),{[e]:c})}),[a,c])}};return s.scopeName=e,[r,Wue(s,...t)]}function Wue(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:c,scopeName:l})=>{const d=c(i)["__scope".concat(l)];return b(b({},a),d)},{});return C.useMemo(()=>({["__scope".concat(t.scopeName)]:o}),[o])}};return n.scopeName=t.scopeName,n}function cs(e){const t=C.useRef(e);return C.useEffect(()=>{t.current=e}),C.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function el({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,s]=Hue({defaultProp:t,onChange:n}),i=e!==void 0,o=i?e:r,a=cs(n),c=C.useCallback(l=>{if(i){const d=typeof l=="function"?l(e):l;d!==e&&a(d)}else s(l)},[i,e,s,a]);return[o,c]}function Hue({defaultProp:e,onChange:t}){const n=C.useState(e),[r]=n,s=C.useRef(r),i=cs(t);return C.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}function $ue(e){const t=C.useRef({value:e,previous:e});return C.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Dc=globalThis!=null&&globalThis.document?C.useLayoutEffect:()=>{};function G9(e){const[t,n]=C.useState(void 0);return Dc(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const c=i.borderBoxSize,l=Array.isArray(c)?c[0]:c;o=l.inlineSize,a=l.blockSize}else o=e.offsetWidth,a=e.offsetHeight;n({width:o,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var bu=C.forwardRef((e,t)=>{const o=e,{children:n}=o,r=G(o,["children"]),s=C.Children.toArray(n),i=s.find(que);if(i){const a=i.props.children,c=s.map(l=>l===i?C.Children.count(a)>1?C.Children.only(null):C.isValidElement(a)?a.props.children:null:l);return g.jsx(WA,I(b({},r),{ref:t,children:C.isValidElement(a)?C.cloneElement(a,void 0,c):null}))}return g.jsx(WA,I(b({},r),{ref:t,children:n}))});bu.displayName="Slot";var WA=C.forwardRef((e,t)=>{const s=e,{children:n}=s,r=G(s,["children"]);if(C.isValidElement(n)){const i=zue(n);return C.cloneElement(n,I(b({},Vue(r,n.props)),{ref:t?av(t,i):i}))}return C.Children.count(n)>1?C.Children.only(null):null});WA.displayName="SlotClone";var W9=({children:e})=>g.jsx(g.Fragment,{children:e});function que(e){return C.isValidElement(e)&&e.type===W9}function Vue(e,t){const n=b({},t);for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]=b(b({},s),i):r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return b(b({},e),n)}function zue(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Yue=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],wt=Yue.reduce((e,t)=>{const n=C.forwardRef((r,s)=>{const c=r,{asChild:i}=c,o=G(c,["asChild"]),a=i?bu:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),g.jsx(a,I(b({},o),{ref:s}))});return n.displayName="Primitive.".concat(t),I(b({},e),{[t]:n})},{});function H9(e,t){e&&Sw.flushSync(()=>e.dispatchEvent(t))}var DN="Switch",[Kue]=Hu(DN),[Xue,Jue]=Kue(DN),$9=C.forwardRef((e,t)=>{const O=e,{__scopeSwitch:n,name:r,checked:s,defaultChecked:i,required:o,disabled:a,value:c="on",onCheckedChange:l,form:u}=O,d=G(O,["__scopeSwitch","name","checked","defaultChecked","required","disabled","value","onCheckedChange","form"]),[f,h]=C.useState(null),p=pn(t,S=>h(S)),_=C.useRef(!1),m=f?u||!!f.closest("form"):!0,[y=!1,v]=el({prop:s,defaultProp:i,onChange:l});return g.jsxs(Xue,{scope:n,checked:y,disabled:a,children:[g.jsx(wt.button,I(b({type:"button",role:"switch","aria-checked":y,"aria-required":o,"data-state":z9(y),"data-disabled":a?"":void 0,disabled:a,value:c},d),{ref:p,onClick:Ge(e.onClick,S=>{v(E=>!E),m&&(_.current=S.isPropagationStopped(),_.current||S.stopPropagation())})})),m&&g.jsx(Que,{control:f,bubbles:!_.current,name:r,value:c,checked:y,required:o,disabled:a,form:u,style:{transform:"translateX(-100%)"}})]})});$9.displayName=DN;var q9="SwitchThumb",V9=C.forwardRef((e,t)=>{const i=e,{__scopeSwitch:n}=i,r=G(i,["__scopeSwitch"]),s=Jue(q9,n);return g.jsx(wt.span,I(b({"data-state":z9(s.checked),"data-disabled":s.disabled?"":void 0},r),{ref:t}))});V9.displayName=q9;var Que=e=>{const c=e,{control:t,checked:n,bubbles:r=!0}=c,s=G(c,["control","checked","bubbles"]),i=C.useRef(null),o=$ue(n),a=G9(t);return C.useEffect(()=>{const l=i.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==n&&f){const h=new Event("click",{bubbles:r});f.call(l,n),l.dispatchEvent(h)}},[o,n,r]),g.jsx("input",I(b({type:"checkbox","aria-hidden":!0,defaultChecked:n},s),{tabIndex:-1,ref:i,style:I(b(b({},e.style),a),{position:"absolute",pointerEvents:"none",opacity:0,margin:0})}))};function z9(e){return e?"checked":"unchecked"}var Zue=$9,ede=V9;const Y9=i=>{var o=i,{size:e,className:t,icon:n,withinLabel:r}=o,s=G(o,["size","className","icon","withinLabel"]);return g.jsx(Zue,I(b({className:ie("radix-state-checked:bg-blue-400 focus-visible:ring-token-text-primary relative box-content aspect-7/4 shrink-0 rounded-full bg-gray-200 p-[2px] focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:outline-hidden disabled:opacity-50 dark:bg-gray-600",e==="small"?"h-3":"h-4",t)},s),{children:g.jsx(ede,{className:"radix-state-checked:translate-x-[calc(var(--to-end-unit,1)*100%*(7/4-1))] flex aspect-square h-full items-center justify-center rounded-full bg-white transition-transform duration-100",children:n})}))};function tde(e,t){const n=C.useLayoutEffect;n(e,t)}const nde=()=>{var e;return(e=document==null?void 0:document.body)!=null?e:null},K9=C.createContext(nde);function H9e(e){"use forget";const t=W.c(17),{children:n,className:r,open:s,onClose:i,closedBy:o}=e,a=C.useRef(null);let c;t[0]===Symbol.for("react.memo_cache_sentinel")?(c=()=>a.current,t[0]=c):c=t[0];const l=c;let u,d;t[1]!==s?(u=()=>{const O=a.current;if(!(!s||!O))return s==="modal"?O.showModal():O.show(),()=>{O.close()}},d=[s],t[1]=s,t[2]=u,t[3]=d):(u=t[2],d=t[3]),C.useEffect(u,d);let f;t[4]!==i?(f=O=>{O.target===O.currentTarget&&(i==null||i())},t[4]=i,t[5]=f):f=t[5];const h=f;let p;t[6]!==o||t[7]!==i?(p=O=>{o&&["any","closerequest"].includes(o)&&O.key==="Escape"&&(i==null||i())},t[6]=o,t[7]=i,t[8]=p):p=t[8];const _=p,m=s===!0;let y;t[9]!==n?(y=g.jsx(K9,{value:l,children:n}),t[9]=n,t[10]=y):y=t[10];let v;return t[11]!==r||t[12]!==h||t[13]!==_||t[14]!==m||t[15]!==y?(v=g.jsx("dialog",{className:r,open:m,ref:a,onClick:h,onKeyUp:_,children:y}),t[11]=r,t[12]=h,t[13]=_,t[14]=m,t[15]=y,t[16]=v):v=t[16],v}function X9(){"use forget";const e=W.c(7),[t,n]=C.useState(null),r=C.use(K9);let s;e[0]!==r?(s=r(),e[0]=r,e[1]=s):s=e[1];const i=s;let o,a;e[2]!==i?(o=()=>{n(i)},a=[i],e[2]=i,e[3]=o,e[4]=a):(o=e[3],a=e[4]),tde(o,a);let c;return e[5]!==t?(c=t!=null?{container:t}:{},e[5]=t,e[6]=c):c=e[6],c}const J9=ge(ht,"85f94b",20,20);function ED(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Q9(...e){return t=>{let n=!1;const r=e.map(s=>{const i=ED(s,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():ED(e[s],null)}}}}function $9e(...e){return C.useCallback(Q9(...e),e)}function rde(e){const t=sde(e),n=C.forwardRef((r,s)=>{const l=r,{children:i}=l,o=G(l,["children"]),a=C.Children.toArray(i),c=a.find(ode);if(c){const u=c.props.children,d=a.map(f=>f===c?C.Children.count(u)>1?C.Children.only(null):C.isValidElement(u)?u.props.children:null:f);return g.jsx(t,I(b({},o),{ref:s,children:C.isValidElement(u)?C.cloneElement(u,void 0,d):null}))}return g.jsx(t,I(b({},o),{ref:s,children:i}))});return n.displayName="".concat(e,".Slot"),n}var Z9=rde("Slot");function sde(e){const t=C.forwardRef((n,r)=>{const o=n,{children:s}=o,i=G(o,["children"]);if(C.isValidElement(s)){const a=cde(s),c=ade(i,s.props);return s.type!==C.Fragment&&(c.ref=r?Q9(r,a):a),C.cloneElement(s,c)}return C.Children.count(s)>1?C.Children.only(null):null});return t.displayName="".concat(e,".SlotClone"),t}var ide=Symbol("radix.slottable");function ode(e){return C.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ide}function ade(e,t){const n=b({},t);for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const c=i(...a);return s(...a),c}:s&&(n[r]=s):r==="style"?n[r]=b(b({},s),i):r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return b(b({},e),n)}function cde(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function lde(e,t=globalThis==null?void 0:globalThis.document){const n=cs(e);C.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var ude="DismissableLayer",HA="dismissableLayer.update",dde="dismissableLayer.pointerDownOutside",fde="dismissableLayer.focusOutside",CD,eH=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),xh=C.forwardRef((e,t)=>{var w;const A=e,{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a}=A,c=G(A,["disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss"]),l=C.useContext(eH),[u,d]=C.useState(null),f=(w=u==null?void 0:u.ownerDocument)!=null?w:globalThis==null?void 0:globalThis.document,[,h]=C.useState({}),p=pn(t,N=>d(N)),_=Array.from(l.layers),[m]=[...l.layersWithOutsidePointerEventsDisabled].slice(-1),y=_.indexOf(m),v=u?_.indexOf(u):-1,O=l.layersWithOutsidePointerEventsDisabled.size>0,S=v>=y,E=pde(N=>{const P=N.target,x=[...l.branches].some(D=>D.contains(P));!S||x||(s==null||s(N),o==null||o(N),N.defaultPrevented||a==null||a())},f),T=_de(N=>{const P=N.target;[...l.branches].some(D=>D.contains(P))||(i==null||i(N),o==null||o(N),N.defaultPrevented||a==null||a())},f);return lde(N=>{v===l.layers.size-1&&(r==null||r(N),!N.defaultPrevented&&a&&(N.preventDefault(),a()))},f),C.useEffect(()=>{if(u)return n&&(l.layersWithOutsidePointerEventsDisabled.size===0&&(CD=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),l.layersWithOutsidePointerEventsDisabled.add(u)),l.layers.add(u),SD(),()=>{n&&l.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=CD)}},[u,f,n,l]),C.useEffect(()=>()=>{u&&(l.layers.delete(u),l.layersWithOutsidePointerEventsDisabled.delete(u),SD())},[u,l]),C.useEffect(()=>{const N=()=>h({});return document.addEventListener(HA,N),()=>document.removeEventListener(HA,N)},[]),g.jsx(wt.div,I(b({},c),{ref:p,style:b({pointerEvents:O?S?"auto":"none":void 0},e.style),onFocusCapture:Ge(e.onFocusCapture,T.onFocusCapture),onBlurCapture:Ge(e.onBlurCapture,T.onBlurCapture),onPointerDownCapture:Ge(e.onPointerDownCapture,E.onPointerDownCapture)}))});xh.displayName=ude;var hde="DismissableLayerBranch",tH=C.forwardRef((e,t)=>{const n=C.useContext(eH),r=C.useRef(null),s=pn(t,r);return C.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),g.jsx(wt.div,I(b({},e),{ref:s}))});tH.displayName=hde;function pde(e,t=globalThis==null?void 0:globalThis.document){const n=cs(e),r=C.useRef(!1),s=C.useRef(()=>{});return C.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let c=function(){nH(dde,n,l,{discrete:!0})};const l={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function _de(e,t=globalThis==null?void 0:globalThis.document){const n=cs(e),r=C.useRef(!1);return C.useEffect(()=>{const s=i=>{i.target&&!r.current&&nH(fde,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function SD(){const e=new CustomEvent(HA);document.dispatchEvent(e)}function nH(e,t,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?H9(s,i):s.dispatchEvent(i)}var q9e=xh,V9e=tH,mde=sQ.useId||(()=>{}),gde=0;function mi(e){const[t,n]=C.useState(mde());return Dc(()=>{n(r=>r!=null?r:String(gde++))},[e]),e||(t?"radix-".concat(t):"")}const vde=["top","right","bottom","left"],ia=Math.min,Ar=Math.max,Sm=Math.round,kp=Math.floor,oa=e=>({x:e,y:e}),yde={left:"right",right:"left",bottom:"top",top:"bottom"},Ede={start:"end",end:"start"};function $A(e,t,n){return Ar(e,ia(t,n))}function io(e,t){return typeof e=="function"?e(t):e}function oo(e){return e.split("-")[0]}function $u(e){return e.split("-")[1]}function FN(e){return e==="x"?"y":"x"}function UN(e){return e==="y"?"height":"width"}function qu(e){return["top","bottom"].includes(oo(e))?"y":"x"}function jN(e){return FN(qu(e))}function Cde(e,t,n){n===void 0&&(n=!1);const r=$u(e),s=jN(e),i=UN(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=bm(o)),[o,bm(o)]}function Sde(e){const t=bm(e);return[qA(e),t,qA(t)]}function qA(e){return e.replace(/start|end/g,t=>Ede[t])}function bde(e,t,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?s:r:t?r:s;case"left":case"right":return t?i:o;default:return[]}}function Tde(e,t,n,r){const s=$u(e);let i=bde(oo(e),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map(qA)))),i}function bm(e){return e.replace(/left|right|bottom|top/g,t=>yde[t])}function Ode(e){return b({top:0,right:0,bottom:0,left:0},e)}function rH(e){return typeof e!="number"?Ode(e):{top:e,right:e,bottom:e,left:e}}function Tm(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function bD(e,t,n){let{reference:r,floating:s}=e;const i=qu(t),o=jN(t),a=UN(o),c=oo(t),l=i==="y",u=r.x+r.width/2-s.width/2,d=r.y+r.height/2-s.height/2,f=r[a]/2-s[a]/2;let h;switch(c){case"top":h={x:u,y:r.y-s.height};break;case"bottom":h={x:u,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:d};break;case"left":h={x:r.x-s.width,y:d};break;default:h={x:r.x,y:r.y}}switch($u(t)){case"start":h[o]-=f*(n&&l?-1:1);break;case"end":h[o]+=f*(n&&l?-1:1);break}return h}const Ade=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let l=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:u,y:d}=bD(l,r,c),f=r,h={},p=0;for(let _=0;_<a.length;_++){const{name:m,fn:y}=a[_],{x:v,y:O,data:S,reset:E}=await y({x:u,y:d,initialPlacement:r,placement:f,strategy:s,middlewareData:h,rects:l,platform:o,elements:{reference:e,floating:t}});u=v!=null?v:u,d=O!=null?O:d,h=I(b({},h),{[m]:b(b({},h[m]),S)}),E&&p<=50&&(p++,typeof E=="object"&&(E.placement&&(f=E.placement),E.rects&&(l=E.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):E.rects),{x:u,y:d}=bD(l,f,c)),_=-1)}return{x:u,y:d,placement:f,strategy:s,middlewareData:h}};async function wf(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:c}=e,{boundary:l="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:h=0}=io(t,e),p=rH(h),m=a[f?d==="floating"?"reference":"floating":d],y=Tm(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(m)))==null||n?m:m.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:l,rootBoundary:u,strategy:c})),v=d==="floating"?I(b({},o.floating),{x:r,y:s}):o.reference,O=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),S=await(i.isElement==null?void 0:i.isElement(O))?await(i.getScale==null?void 0:i.getScale(O))||{x:1,y:1}:{x:1,y:1},E=Tm(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:O,strategy:c}):v);return{top:(y.top-E.top+p.top)/S.y,bottom:(E.bottom-y.bottom+p.bottom)/S.y,left:(y.left-E.left+p.left)/S.x,right:(E.right-y.right+p.right)/S.x}}const wde=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:c}=t,{element:l,padding:u=0}=io(e,t)||{};if(l==null)return{};const d=rH(u),f={x:n,y:r},h=jN(s),p=UN(h),_=await o.getDimensions(l),m=h==="y",y=m?"top":"left",v=m?"bottom":"right",O=m?"clientHeight":"clientWidth",S=i.reference[p]+i.reference[h]-f[h]-i.floating[p],E=f[h]-i.reference[h],T=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l));let A=T?T[O]:0;(!A||!await(o.isElement==null?void 0:o.isElement(T)))&&(A=a.floating[O]||i.floating[p]);const w=S/2-E/2,N=A/2-_[p]/2-1,P=ia(d[y],N),x=ia(d[v],N),D=P,M=A-_[p]-x,F=A/2-_[p]/2+w,j=$A(D,F,M),$=!c.arrow&&$u(s)!=null&&F!==j&&i.reference[p]/2-(F<D?P:x)-_[p]/2<0,q=$?F<D?F-D:F-M:0;return{[h]:f[h]+q,data:b({[h]:j,centerOffset:F-j-q},$&&{alignmentOffset:q}),reset:$}}}),Nde=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:c,elements:l}=t,D=io(e,t),{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:_=!0}=D,m=G(D,["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"]);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const y=oo(s),v=oo(a)===a,O=await(c.isRTL==null?void 0:c.isRTL(l.floating)),S=f||(v||!_?[bm(a)]:Sde(a));!f&&p!=="none"&&S.push(...Tde(a,_,p,O));const E=[a,...S],T=await wf(t,m),A=[];let w=((r=i.flip)==null?void 0:r.overflows)||[];if(u&&A.push(T[y]),d){const M=Cde(s,o,O);A.push(T[M[0]],T[M[1]])}if(w=[...w,{placement:s,overflows:A}],!A.every(M=>M<=0)){var N,P;const M=(((N=i.flip)==null?void 0:N.index)||0)+1,F=E[M];if(F)return{data:{index:M,overflows:w},reset:{placement:F}};let j=(P=w.filter($=>$.overflows[0]<=0).sort(($,q)=>$.overflows[1]-q.overflows[1])[0])==null?void 0:P.placement;if(!j)switch(h){case"bestFit":{var x;const $=(x=w.map(q=>[q.placement,q.overflows.filter(k=>k>0).reduce((k,Z)=>k+Z,0)]).sort((q,k)=>q[1]-k[1])[0])==null?void 0:x[0];$&&(j=$);break}case"initialPlacement":j=a;break}if(s!==j)return{reset:{placement:j}}}return{}}}};function TD(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function OD(e){return vde.some(t=>e[t]>=0)}const Ide=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,i=io(e,t),{strategy:r="referenceHidden"}=i,s=G(i,["strategy"]);switch(r){case"referenceHidden":{const o=await wf(t,I(b({},s),{elementContext:"reference"})),a=TD(o,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:OD(a)}}}case"escaped":{const o=await wf(t,I(b({},s),{altBoundary:!0})),a=TD(o,n.floating);return{data:{escapedOffsets:a,escaped:OD(a)}}}default:return{}}}}};async function Pde(e,t){const{placement:n,platform:r,elements:s}=e,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=oo(n),a=$u(n),c=qu(n)==="y",l=["left","top"].includes(o)?-1:1,u=i&&c?-1:1,d=io(t,e);let{mainAxis:f,crossAxis:h,alignmentAxis:p}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:b({mainAxis:0,crossAxis:0,alignmentAxis:null},d);return a&&typeof p=="number"&&(h=a==="end"?p*-1:p),c?{x:h*u,y:f*l}:{x:f*l,y:h*u}}const Rde=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=t,c=await Pde(t,e);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:I(b({},c),{placement:o})}}}},xde=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,m=io(e,t),{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:y=>{let{x:v,y:O}=y;return{x:v,y:O}}}}=m,c=G(m,["mainAxis","crossAxis","limiter"]),l={x:n,y:r},u=await wf(t,c),d=qu(oo(s)),f=FN(d);let h=l[f],p=l[d];if(i){const y=f==="y"?"top":"left",v=f==="y"?"bottom":"right",O=h+u[y],S=h-u[v];h=$A(O,h,S)}if(o){const y=d==="y"?"top":"left",v=d==="y"?"bottom":"right",O=p+u[y],S=p-u[v];p=$A(O,p,S)}const _=a.fn(I(b({},t),{[f]:h,[d]:p}));return I(b({},_),{data:{x:_.x-n,y:_.y-r}})}}},Mde=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=t,{offset:a=0,mainAxis:c=!0,crossAxis:l=!0}=io(e,t),u={x:n,y:r},d=qu(s),f=FN(d);let h=u[f],p=u[d];const _=io(a,t),m=typeof _=="number"?{mainAxis:_,crossAxis:0}:b({mainAxis:0,crossAxis:0},_);if(c){const O=f==="y"?"height":"width",S=i.reference[f]-i.floating[O]+m.mainAxis,E=i.reference[f]+i.reference[O]-m.mainAxis;h<S?h=S:h>E&&(h=E)}if(l){var y,v;const O=f==="y"?"width":"height",S=["top","left"].includes(oo(s)),E=i.reference[d]-i.floating[O]+(S&&((y=o.offset)==null?void 0:y[d])||0)+(S?0:m.crossAxis),T=i.reference[d]+i.reference[O]+(S?0:((v=o.offset)==null?void 0:v[d])||0)-(S?m.crossAxis:0);p<E?p=E:p>T&&(p=T)}return{[f]:h,[d]:p}}}},kde=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:r,platform:s,elements:i}=t,T=io(e,t),{apply:o=()=>{}}=T,a=G(T,["apply"]),c=await wf(t,a),l=oo(n),u=$u(n),d=qu(n)==="y",{width:f,height:h}=r.floating;let p,_;l==="top"||l==="bottom"?(p=l,_=u===(await(s.isRTL==null?void 0:s.isRTL(i.floating))?"start":"end")?"left":"right"):(_=l,p=u==="end"?"top":"bottom");const m=h-c[p],y=f-c[_],v=!t.middlewareData.shift;let O=m,S=y;if(d){const A=f-c.left-c.right;S=u||v?ia(y,A):A}else{const A=h-c.top-c.bottom;O=u||v?ia(m,A):A}if(v&&!u){const A=Ar(c.left,0),w=Ar(c.right,0),N=Ar(c.top,0),P=Ar(c.bottom,0);d?S=f-2*(A!==0||w!==0?A+w:Ar(c.left,c.right)):O=h-2*(N!==0||P!==0?N+P:Ar(c.top,c.bottom))}await o(I(b({},t),{availableWidth:S,availableHeight:O}));const E=await s.getDimensions(i.floating);return f!==E.width||h!==E.height?{reset:{rects:!0}}:{}}}};function cv(){return typeof window<"u"}function Vu(e){return sH(e)?(e.nodeName||"").toLowerCase():"#document"}function kr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ti(e){var t;return(t=(sH(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function sH(e){return cv()?e instanceof Node||e instanceof kr(e).Node:!1}function Fs(e){return cv()?e instanceof Element||e instanceof kr(e).Element:!1}function Ei(e){return cv()?e instanceof HTMLElement||e instanceof kr(e).HTMLElement:!1}function AD(e){return!cv()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof kr(e).ShadowRoot}function Mh(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=Us(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(s)}function Lde(e){return["table","td","th"].includes(Vu(e))}function lv(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch(n){return!1}})}function BN(e){const t=GN(),n=Fs(e)?Us(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function Dde(e){let t=aa(e);for(;Ei(t)&&!Tu(t);){if(BN(t))return t;if(lv(t))return null;t=aa(t)}return null}function GN(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Tu(e){return["html","body","#document"].includes(Vu(e))}function Us(e){return kr(e).getComputedStyle(e)}function uv(e){return Fs(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function aa(e){if(Vu(e)==="html")return e;const t=e.assignedSlot||e.parentNode||AD(e)&&e.host||Ti(e);return AD(t)?t.host:t}function iH(e){const t=aa(e);return Tu(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ei(t)&&Mh(t)?t:iH(t)}function Nf(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=iH(e),i=s===((r=e.ownerDocument)==null?void 0:r.body),o=kr(s);if(i){const a=VA(o);return t.concat(o,o.visualViewport||[],Mh(s)?s:[],a&&n?Nf(a):[])}return t.concat(s,Nf(s,[],n))}function VA(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function oH(e){const t=Us(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Ei(e),i=s?e.offsetWidth:n,o=s?e.offsetHeight:r,a=Sm(n)!==i||Sm(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function WN(e){return Fs(e)?e:e.contextElement}function tu(e){const t=WN(e);if(!Ei(t))return oa(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:i}=oH(t);let o=(i?Sm(n.width):n.width)/r,a=(i?Sm(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const Fde=oa(0);function aH(e){const t=kr(e);return!GN()||!t.visualViewport?Fde:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Ude(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==kr(e)?!1:t}function Fc(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),i=WN(e);let o=oa(1);t&&(r?Fs(r)&&(o=tu(r)):o=tu(e));const a=Ude(i,n,r)?aH(i):oa(0);let c=(s.left+a.x)/o.x,l=(s.top+a.y)/o.y,u=s.width/o.x,d=s.height/o.y;if(i){const f=kr(i),h=r&&Fs(r)?kr(r):r;let p=f,_=VA(p);for(;_&&r&&h!==p;){const m=tu(_),y=_.getBoundingClientRect(),v=Us(_),O=y.left+(_.clientLeft+parseFloat(v.paddingLeft))*m.x,S=y.top+(_.clientTop+parseFloat(v.paddingTop))*m.y;c*=m.x,l*=m.y,u*=m.x,d*=m.y,c+=O,l+=S,p=kr(_),_=VA(p)}}return Tm({width:u,height:d,x:c,y:l})}function jde(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const i=s==="fixed",o=Ti(r),a=t?lv(t.floating):!1;if(r===o||a&&i)return n;let c={scrollLeft:0,scrollTop:0},l=oa(1);const u=oa(0),d=Ei(r);if((d||!d&&!i)&&((Vu(r)!=="body"||Mh(o))&&(c=uv(r)),Ei(r))){const f=Fc(r);l=tu(r),u.x=f.x+r.clientLeft,u.y=f.y+r.clientTop}return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-c.scrollLeft*l.x+u.x,y:n.y*l.y-c.scrollTop*l.y+u.y}}function Bde(e){return Array.from(e.getClientRects())}function zA(e,t){const n=uv(e).scrollLeft;return t?t.left+n:Fc(Ti(e)).left+n}function Gde(e){const t=Ti(e),n=uv(e),r=e.ownerDocument.body,s=Ar(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=Ar(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+zA(e);const a=-n.scrollTop;return Us(r).direction==="rtl"&&(o+=Ar(t.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function Wde(e,t){const n=kr(e),r=Ti(e),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,c=0;if(s){i=s.width,o=s.height;const l=GN();(!l||l&&t==="fixed")&&(a=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:a,y:c}}function Hde(e,t){const n=Fc(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,i=Ei(e)?tu(e):oa(1),o=e.clientWidth*i.x,a=e.clientHeight*i.y,c=s*i.x,l=r*i.y;return{width:o,height:a,x:c,y:l}}function wD(e,t,n){let r;if(t==="viewport")r=Wde(e,n);else if(t==="document")r=Gde(Ti(e));else if(Fs(t))r=Hde(t,n);else{const s=aH(e);r=I(b({},t),{x:t.x-s.x,y:t.y-s.y})}return Tm(r)}function cH(e,t){const n=aa(e);return n===t||!Fs(n)||Tu(n)?!1:Us(n).position==="fixed"||cH(n,t)}function $de(e,t){const n=t.get(e);if(n)return n;let r=Nf(e,[],!1).filter(a=>Fs(a)&&Vu(a)!=="body"),s=null;const i=Us(e).position==="fixed";let o=i?aa(e):e;for(;Fs(o)&&!Tu(o);){const a=Us(o),c=BN(o);!c&&a.position==="fixed"&&(s=null),(i?!c&&!s:!c&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Mh(o)&&!c&&cH(e,o))?r=r.filter(u=>u!==o):s=a,o=aa(o)}return t.set(e,r),r}function qde(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const o=[...n==="clippingAncestors"?lv(t)?[]:$de(t,this._c):[].concat(n),r],a=o[0],c=o.reduce((l,u)=>{const d=wD(t,u,s);return l.top=Ar(d.top,l.top),l.right=ia(d.right,l.right),l.bottom=ia(d.bottom,l.bottom),l.left=Ar(d.left,l.left),l},wD(t,a,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Vde(e){const{width:t,height:n}=oH(e);return{width:t,height:n}}function zde(e,t,n){const r=Ei(t),s=Ti(t),i=n==="fixed",o=Fc(e,!0,i,t);let a={scrollLeft:0,scrollTop:0};const c=oa(0);if(r||!r&&!i)if((Vu(t)!=="body"||Mh(s))&&(a=uv(t)),r){const h=Fc(t,!0,i,t);c.x=h.x+t.clientLeft,c.y=h.y+t.clientTop}else s&&(c.x=zA(s));let l=0,u=0;if(s&&!r&&!i){const h=s.getBoundingClientRect();u=h.top+a.scrollTop,l=h.left+a.scrollLeft-zA(s,h)}const d=o.left+a.scrollLeft-c.x-l,f=o.top+a.scrollTop-c.y-u;return{x:d,y:f,width:o.width,height:o.height}}function MS(e){return Us(e).position==="static"}function ND(e,t){if(!Ei(e)||Us(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Ti(e)===n&&(n=n.ownerDocument.body),n}function lH(e,t){const n=kr(e);if(lv(e))return n;if(!Ei(e)){let s=aa(e);for(;s&&!Tu(s);){if(Fs(s)&&!MS(s))return s;s=aa(s)}return n}let r=ND(e,t);for(;r&&Lde(r)&&MS(r);)r=ND(r,t);return r&&Tu(r)&&MS(r)&&!BN(r)?n:r||Dde(e)||n}const Yde=async function(e){const t=this.getOffsetParent||lH,n=this.getDimensions,r=await n(e.floating);return{reference:zde(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Kde(e){return Us(e).direction==="rtl"}const Xde={convertOffsetParentRelativeRectToViewportRelativeRect:jde,getDocumentElement:Ti,getClippingRect:qde,getOffsetParent:lH,getElementRects:Yde,getClientRects:Bde,getDimensions:Vde,getScale:tu,isElement:Fs,isRTL:Kde};function Jde(e,t){let n=null,r;const s=Ti(e);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),i();const{left:l,top:u,width:d,height:f}=e.getBoundingClientRect();if(a||t(),!d||!f)return;const h=kp(u),p=kp(s.clientWidth-(l+d)),_=kp(s.clientHeight-(u+f)),m=kp(l),v={rootMargin:-h+"px "+-p+"px "+-_+"px "+-m+"px",threshold:Ar(0,ia(1,c))||1};let O=!0;function S(E){const T=E[0].intersectionRatio;if(T!==c){if(!O)return o();T?o(!1,T):r=setTimeout(()=>{o(!1,1e-7)},1e3)}O=!1}try{n=new IntersectionObserver(S,I(b({},v),{root:s.ownerDocument}))}catch(E){n=new IntersectionObserver(S,v)}n.observe(e)}return o(!0),i}function Qde(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,l=WN(e),u=s||i?[...l?Nf(l):[],...Nf(t)]:[];u.forEach(y=>{s&&y.addEventListener("scroll",n,{passive:!0}),i&&y.addEventListener("resize",n)});const d=l&&a?Jde(l,n):null;let f=-1,h=null;o&&(h=new ResizeObserver(y=>{let[v]=y;v&&v.target===l&&h&&(h.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var O;(O=h)==null||O.observe(t)})),n()}),l&&!c&&h.observe(l),h.observe(t));let p,_=c?Fc(e):null;c&&m();function m(){const y=Fc(e);_&&(y.x!==_.x||y.y!==_.y||y.width!==_.width||y.height!==_.height)&&n(),_=y,p=requestAnimationFrame(m)}return n(),()=>{var y;u.forEach(v=>{s&&v.removeEventListener("scroll",n),i&&v.removeEventListener("resize",n)}),d==null||d(),(y=h)==null||y.disconnect(),h=null,c&&cancelAnimationFrame(p)}}const Zde=Rde,efe=xde,tfe=Nde,nfe=kde,rfe=Ide,ID=wde,sfe=Mde,ife=(e,t,n)=>{const r=new Map,s=b({platform:Xde},n),i=I(b({},s.platform),{_c:r});return Ade(e,t,I(b({},s),{platform:i}))};var C_=typeof document<"u"?C.useLayoutEffect:C.useEffect;function Om(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Om(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&e.$$typeof)&&!Om(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function uH(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function PD(e,t){const n=uH(e);return Math.round(t*n)/n}function kS(e){const t=C.useRef(e);return C_(()=>{t.current=e}),t}function ofe(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:c,open:l}=e,[u,d]=C.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,h]=C.useState(r);Om(f,r)||h(r);const[p,_]=C.useState(null),[m,y]=C.useState(null),v=C.useCallback(k=>{k!==T.current&&(T.current=k,_(k))},[]),O=C.useCallback(k=>{k!==A.current&&(A.current=k,y(k))},[]),S=i||p,E=o||m,T=C.useRef(null),A=C.useRef(null),w=C.useRef(u),N=c!=null,P=kS(c),x=kS(s),D=kS(l),M=C.useCallback(()=>{if(!T.current||!A.current)return;const k={placement:t,strategy:n,middleware:f};x.current&&(k.platform=x.current),ife(T.current,A.current,k).then(Z=>{const B=I(b({},Z),{isPositioned:D.current!==!1});F.current&&!Om(w.current,B)&&(w.current=B,Sw.flushSync(()=>{d(B)}))})},[f,t,n,x,D]);C_(()=>{l===!1&&w.current.isPositioned&&(w.current.isPositioned=!1,d(k=>I(b({},k),{isPositioned:!1})))},[l]);const F=C.useRef(!1);C_(()=>(F.current=!0,()=>{F.current=!1}),[]),C_(()=>{if(S&&(T.current=S),E&&(A.current=E),S&&E){if(P.current)return P.current(S,E,M);M()}},[S,E,M,P,N]);const j=C.useMemo(()=>({reference:T,floating:A,setReference:v,setFloating:O}),[v,O]),$=C.useMemo(()=>({reference:S,floating:E}),[S,E]),q=C.useMemo(()=>{const k={position:n,left:0,top:0};if(!$.floating)return k;const Z=PD($.floating,u.x),B=PD($.floating,u.y);return a?b(I(b({},k),{transform:"translate("+Z+"px, "+B+"px)"}),uH($.floating)>=1.5&&{willChange:"transform"}):{position:n,left:Z,top:B}},[n,a,$.floating,u.x,u.y]);return C.useMemo(()=>I(b({},u),{update:M,refs:j,elements:$,floatingStyles:q}),[u,M,j,$,q])}const afe=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?ID({element:r.current,padding:s}).fn(n):{}:r?ID({element:r,padding:s}).fn(n):{}}}},cfe=(e,t)=>I(b({},Zde(e)),{options:[e,t]}),lfe=(e,t)=>I(b({},efe(e)),{options:[e,t]}),ufe=(e,t)=>I(b({},sfe(e)),{options:[e,t]}),dfe=(e,t)=>I(b({},tfe(e)),{options:[e,t]}),ffe=(e,t)=>I(b({},nfe(e)),{options:[e,t]}),hfe=(e,t)=>I(b({},rfe(e)),{options:[e,t]}),pfe=(e,t)=>I(b({},afe(e)),{options:[e,t]});var _fe="Arrow",dH=C.forwardRef((e,t)=>{const o=e,{children:n,width:r=10,height:s=5}=o,i=G(o,["children","width","height"]);return g.jsx(wt.svg,I(b({},i),{ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:g.jsx("polygon",{points:"0,0 30,0 15,10"})}))});dH.displayName=_fe;var mfe=dH;function HN(e,t=[]){let n=[];function r(i,o){const a=C.createContext(o),c=n.length;n=[...n,o];function l(d){const y=d,{scope:f,children:h}=y,p=G(y,["scope","children"]),_=(f==null?void 0:f[e][c])||a,m=C.useMemo(()=>p,Object.values(p));return g.jsx(_.Provider,{value:m,children:h})}function u(d,f){const h=(f==null?void 0:f[e][c])||a,p=C.useContext(h);if(p)return p;if(o!==void 0)return o;throw new Error("`".concat(d,"` must be used within `").concat(i,"`"))}return l.displayName=i+"Provider",[l,u]}const s=()=>{const i=n.map(o=>C.createContext(o));return function(a){const c=(a==null?void 0:a[e])||i;return C.useMemo(()=>({["__scope".concat(e)]:I(b({},a),{[e]:c})}),[a,c])}};return s.scopeName=e,[r,gfe(s,...t)]}function gfe(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:c,scopeName:l})=>{const d=c(i)["__scope".concat(l)];return b(b({},a),d)},{});return C.useMemo(()=>({["__scope".concat(t.scopeName)]:o}),[o])}};return n.scopeName=t.scopeName,n}var $N="Popper",[fH,dv]=HN($N),[vfe,hH]=fH($N),pH=e=>{const{__scopePopper:t,children:n}=e,[r,s]=C.useState(null);return g.jsx(vfe,{scope:t,anchor:r,onAnchorChange:s,children:n})};pH.displayName=$N;var _H="PopperAnchor",mH=C.forwardRef((e,t)=>{const c=e,{__scopePopper:n,virtualRef:r}=c,s=G(c,["__scopePopper","virtualRef"]),i=hH(_H,n),o=C.useRef(null),a=pn(t,o);return C.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:g.jsx(wt.div,I(b({},s),{ref:a}))});mH.displayName=_H;var qN="PopperContent",[yfe,Efe]=fH(qN),gH=C.forwardRef((e,t)=>{var te,Se,he,oe,be,ke,Xe,Pe;const z=e,{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:l=[],collisionPadding:u=0,sticky:d="partial",hideWhenDetached:f=!1,updatePositionStrategy:h="optimized",onPlaced:p}=z,_=G(z,["__scopePopper","side","sideOffset","align","alignOffset","arrowPadding","avoidCollisions","collisionBoundary","collisionPadding","sticky","hideWhenDetached","updatePositionStrategy","onPlaced"]),m=hH(qN,n),[y,v]=C.useState(null),O=pn(t,J=>v(J)),[S,E]=C.useState(null),T=G9(S),A=(te=T==null?void 0:T.width)!=null?te:0,w=(Se=T==null?void 0:T.height)!=null?Se:0,N=r+(i!=="center"?"-"+i:""),P=typeof u=="number"?u:b({top:0,right:0,bottom:0,left:0},u),x=Array.isArray(l)?l:[l],D=x.length>0,M={padding:P,boundary:x.filter(Sfe),altBoundary:D},{refs:F,floatingStyles:j,placement:$,isPositioned:q,middlewareData:k}=ofe({strategy:"fixed",placement:N,whileElementsMounted:(...J)=>Qde(...J,{animationFrame:h==="always"}),elements:{reference:m.anchor},middleware:[cfe({mainAxis:s+w,alignmentAxis:o}),c&&lfe(b({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?ufe():void 0},M)),c&&dfe(b({},M)),ffe(I(b({},M),{apply:({elements:J,rects:X,availableWidth:L,availableHeight:Ne})=>{const{width:nt,height:He}=X.reference,tt=J.floating.style;tt.setProperty("--radix-popper-available-width","".concat(L,"px")),tt.setProperty("--radix-popper-available-height","".concat(Ne,"px")),tt.setProperty("--radix-popper-anchor-width","".concat(nt,"px")),tt.setProperty("--radix-popper-anchor-height","".concat(He,"px"))}})),S&&pfe({element:S,padding:a}),bfe({arrowWidth:A,arrowHeight:w}),f&&hfe(b({strategy:"referenceHidden"},M))]}),[Z,B]=EH($),Q=cs(p);Dc(()=>{q&&(Q==null||Q())},[q,Q]);const se=(he=k.arrow)==null?void 0:he.x,fe=(oe=k.arrow)==null?void 0:oe.y,V=((be=k.arrow)==null?void 0:be.centerOffset)!==0,[H,ee]=C.useState();return Dc(()=>{y&&ee(window.getComputedStyle(y).zIndex)},[y]),g.jsx("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:b(I(b({},j),{transform:q?j.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:H,"--radix-popper-transform-origin":[(ke=k.transformOrigin)==null?void 0:ke.x,(Xe=k.transformOrigin)==null?void 0:Xe.y].join(" ")}),((Pe=k.hide)==null?void 0:Pe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}),dir:e.dir,children:g.jsx(yfe,{scope:n,placedSide:Z,onArrowChange:E,arrowX:se,arrowY:fe,shouldHideArrow:V,children:g.jsx(wt.div,I(b({"data-side":Z,"data-align":B},_),{ref:O,style:I(b({},_.style),{animation:q?void 0:"none"})}))})})});gH.displayName=qN;var vH="PopperArrow",Cfe={top:"bottom",right:"left",bottom:"top",left:"right"},yH=C.forwardRef(function(t,n){const a=t,{__scopePopper:r}=a,s=G(a,["__scopePopper"]),i=Efe(vH,r),o=Cfe[i.placedSide];return g.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:g.jsx(mfe,I(b({},s),{ref:n,style:I(b({},s.style),{display:"block"})}))})});yH.displayName=vH;function Sfe(e){return e!==null}var bfe=e=>({name:"transformOrigin",options:e,fn(t){var m,y,v,O,S;const{placement:n,rects:r,middlewareData:s}=t,o=((m=s.arrow)==null?void 0:m.centerOffset)!==0,a=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[l,u]=EH(n),d={start:"0%",center:"50%",end:"100%"}[u],f=((v=(y=s.arrow)==null?void 0:y.x)!=null?v:0)+a/2,h=((S=(O=s.arrow)==null?void 0:O.y)!=null?S:0)+c/2;let p="",_="";return l==="bottom"?(p=o?d:"".concat(f,"px"),_="".concat(-c,"px")):l==="top"?(p=o?d:"".concat(f,"px"),_="".concat(r.floating.height+c,"px")):l==="right"?(p="".concat(-c,"px"),_=o?d:"".concat(h,"px")):l==="left"&&(p="".concat(r.floating.width+c,"px"),_=o?d:"".concat(h,"px")),{data:{x:p,y:_}}}});function EH(e){const[t,n="center"]=e.split("-");return[t,n]}var VN=pH,CH=mH,SH=gH,bH=yH,Tfe="Portal",kh=C.forwardRef((e,t)=>{var c;const a=e,{container:n}=a,r=G(a,["container"]),[s,i]=C.useState(!1);Dc(()=>i(!0),[]);const o=n||s&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return o?Nd.createPortal(g.jsx(wt.div,I(b({},r),{ref:t})),o):null});kh.displayName=Tfe;var z9e=kh;function Ofe(e,t){return C.useReducer((n,r)=>{const s=t[n][r];return s!=null?s:n},e)}var Js=e=>{const{present:t,children:n}=e,r=Afe(t),s=typeof n=="function"?n({present:r.isPresent}):C.Children.only(n),i=pn(r.ref,wfe(s));return typeof n=="function"||r.isPresent?C.cloneElement(s,{ref:i}):null};Js.displayName="Presence";function Afe(e){const[t,n]=C.useState(),r=C.useRef({}),s=C.useRef(e),i=C.useRef("none"),o=e?"mounted":"unmounted",[a,c]=Ofe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const l=Lp(r.current);i.current=a==="mounted"?l:"none"},[a]),Dc(()=>{const l=r.current,u=s.current;if(u!==e){const f=i.current,h=Lp(l);e?c("MOUNT"):h==="none"||(l==null?void 0:l.display)==="none"?c("UNMOUNT"):c(u&&f!==h?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Dc(()=>{var l;if(t){let u;const d=(l=t.ownerDocument.defaultView)!=null?l:window,f=p=>{const m=Lp(r.current).includes(p.animationName);if(p.target===t&&m&&(c("ANIMATION_END"),!s.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},h=p=>{p.target===t&&(i.current=Lp(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:C.useCallback(l=>{l&&(r.current=getComputedStyle(l)),n(l)},[])}}function Lp(e){return(e==null?void 0:e.animationName)||"none"}function wfe(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Nfe="VisuallyHidden",zN=C.forwardRef((e,t)=>g.jsx(wt.span,I(b({},e),{ref:t,style:b({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"},e.style)})));zN.displayName=Nfe;var Ife=zN,[fv]=Hu("Tooltip",[dv]),hv=dv(),TH="TooltipProvider",Pfe=700,YA="tooltip.open",[Rfe,YN]=fv(TH),OH=e=>{const{__scopeTooltip:t,delayDuration:n=Pfe,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=e,[o,a]=C.useState(!0),c=C.useRef(!1),l=C.useRef(0);return C.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),g.jsx(Rfe,{scope:t,isOpenDelayed:o,delayDuration:n,onOpen:C.useCallback(()=>{window.clearTimeout(l.current),a(!1)},[]),onClose:C.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:C.useCallback(u=>{c.current=u},[]),disableHoverableContent:s,children:i})};OH.displayName=TH;var pv="Tooltip",[xfe,Lh]=fv(pv),AH=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:s=!1,onOpenChange:i,disableHoverableContent:o,delayDuration:a}=e,c=YN(pv,e.__scopeTooltip),l=hv(t),[u,d]=C.useState(null),f=mi(),h=C.useRef(0),p=o!=null?o:c.disableHoverableContent,_=a!=null?a:c.delayDuration,m=C.useRef(!1),[y=!1,v]=el({prop:r,defaultProp:s,onChange:A=>{A?(c.onOpen(),document.dispatchEvent(new CustomEvent(YA))):c.onClose(),i==null||i(A)}}),O=C.useMemo(()=>y?m.current?"delayed-open":"instant-open":"closed",[y]),S=C.useCallback(()=>{window.clearTimeout(h.current),h.current=0,m.current=!1,v(!0)},[v]),E=C.useCallback(()=>{window.clearTimeout(h.current),h.current=0,v(!1)},[v]),T=C.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>{m.current=!0,v(!0),h.current=0},_)},[_,v]);return C.useEffect(()=>()=>{h.current&&(window.clearTimeout(h.current),h.current=0)},[]),g.jsx(VN,I(b({},l),{children:g.jsx(xfe,{scope:t,contentId:f,open:y,stateAttribute:O,trigger:u,onTriggerChange:d,onTriggerEnter:C.useCallback(()=>{c.isOpenDelayed?T():S()},[c.isOpenDelayed,T,S]),onTriggerLeave:C.useCallback(()=>{p?E():(window.clearTimeout(h.current),h.current=0)},[E,p]),onOpen:S,onClose:E,disableHoverableContent:p,children:n})}))};AH.displayName=pv;var KA="TooltipTrigger",wH=C.forwardRef((e,t)=>{const f=e,{__scopeTooltip:n}=f,r=G(f,["__scopeTooltip"]),s=Lh(KA,n),i=YN(KA,n),o=hv(n),a=C.useRef(null),c=pn(t,a,s.onTriggerChange),l=C.useRef(!1),u=C.useRef(!1),d=C.useCallback(()=>l.current=!1,[]);return C.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),g.jsx(CH,I(b({asChild:!0},o),{children:g.jsx(wt.button,I(b({"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute},r),{ref:c,onPointerMove:Ge(e.onPointerMove,h=>{h.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),u.current=!0)}),onPointerLeave:Ge(e.onPointerLeave,()=>{s.onTriggerLeave(),u.current=!1}),onPointerDown:Ge(e.onPointerDown,()=>{l.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:Ge(e.onFocus,()=>{l.current||s.onOpen()}),onBlur:Ge(e.onBlur,s.onClose),onClick:Ge(e.onClick,s.onClose)}))}))});wH.displayName=KA;var KN="TooltipPortal",[Mfe,kfe]=fv(KN,{forceMount:void 0}),NH=e=>{const{__scopeTooltip:t,forceMount:n,children:r,container:s}=e,i=Lh(KN,t);return g.jsx(Mfe,{scope:t,forceMount:n,children:g.jsx(Js,{present:n||i.open,children:g.jsx(kh,{asChild:!0,container:s,children:r})})})};NH.displayName=KN;var Ou="TooltipContent",IH=C.forwardRef((e,t)=>{const n=kfe(Ou,e.__scopeTooltip),a=e,{forceMount:r=n.forceMount,side:s="top"}=a,i=G(a,["forceMount","side"]),o=Lh(Ou,e.__scopeTooltip);return g.jsx(Js,{present:r||o.open,children:o.disableHoverableContent?g.jsx(PH,I(b({side:s},i),{ref:t})):g.jsx(Lfe,I(b({side:s},i),{ref:t}))})}),Lfe=C.forwardRef((e,t)=>{const n=Lh(Ou,e.__scopeTooltip),r=YN(Ou,e.__scopeTooltip),s=C.useRef(null),i=pn(t,s),[o,a]=C.useState(null),{trigger:c,onClose:l}=n,u=s.current,{onPointerInTransitChange:d}=r,f=C.useCallback(()=>{a(null),d(!1)},[d]),h=C.useCallback((p,_)=>{const m=p.currentTarget,y={x:p.clientX,y:p.clientY},v=Ufe(y,m.getBoundingClientRect()),O=jfe(y,v),S=Bfe(_.getBoundingClientRect()),E=Wfe([...O,...S]);a(E),d(!0)},[d]);return C.useEffect(()=>()=>f(),[f]),C.useEffect(()=>{if(c&&u){const p=m=>h(m,u),_=m=>h(m,c);return c.addEventListener("pointerleave",p),u.addEventListener("pointerleave",_),()=>{c.removeEventListener("pointerleave",p),u.removeEventListener("pointerleave",_)}}},[c,u,h,f]),C.useEffect(()=>{if(o){const p=_=>{const m=_.target,y={x:_.clientX,y:_.clientY},v=(c==null?void 0:c.contains(m))||(u==null?void 0:u.contains(m)),O=!Gfe(y,o);v?f():O&&(f(),l())};return document.addEventListener("pointermove",p),()=>document.removeEventListener("pointermove",p)}},[c,u,o,l,f]),g.jsx(PH,I(b({},e),{ref:i}))}),[Dfe,Ffe]=fv(pv,{isInside:!1}),PH=C.forwardRef((e,t)=>{const d=e,{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o}=d,a=G(d,["__scopeTooltip","children","aria-label","onEscapeKeyDown","onPointerDownOutside"]),c=Lh(Ou,n),l=hv(n),{onClose:u}=c;return C.useEffect(()=>(document.addEventListener(YA,u),()=>document.removeEventListener(YA,u)),[u]),C.useEffect(()=>{if(c.trigger){const f=h=>{const p=h.target;p!=null&&p.contains(c.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,u]),g.jsx(xh,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:u,children:g.jsxs(SH,I(b(b({"data-state":c.stateAttribute},l),a),{ref:t,style:I(b({},a.style),{"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"}),children:[g.jsx(W9,{children:r}),g.jsx(Dfe,{scope:n,isInside:!0,children:g.jsx(Ife,{id:c.contentId,role:"tooltip",children:s||r})})]}))})});IH.displayName=Ou;var RH="TooltipArrow",xH=C.forwardRef((e,t)=>{const o=e,{__scopeTooltip:n}=o,r=G(o,["__scopeTooltip"]),s=hv(n);return Ffe(RH,n).isInside?null:g.jsx(bH,I(b(b({},s),r),{ref:t}))});xH.displayName=RH;function Ufe(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function jfe(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function Bfe(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function Gfe(e,t){const{x:n,y:r}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const a=t[i].x,c=t[i].y,l=t[o].x,u=t[o].y;c>r!=u>r&&n<(l-a)*(r-c)/(u-c)+a&&(s=!s)}return s}function Wfe(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),Hfe(t)}function Hfe(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var $fe=OH,qfe=AH,Vfe=wH,zfe=NH,Yfe=IH,Kfe=xH;function Xfe(){for(var e=0,t,n,r="";e<arguments.length;)(t=arguments[e++])&&(n=MH(t))&&(r&&(r+=" "),r+=n);return r}function MH(e){if(typeof e=="string")return e;for(var t,n="",r=0;r<e.length;r++)e[r]&&(t=MH(e[r]))&&(n&&(n+=" "),n+=t);return n}function XA(){return XA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},XA.apply(this,arguments)}function Jfe(e){if(e<1)return{get:function(){},set:function(){}};var t=0,n=new Map,r=new Map;function s(i,o){n.set(i,o),t++,t>e&&(t=0,r=n,n=new Map)}return{get:function(o){var a=n.get(o);if(a!==void 0)return a;if((a=r.get(o))!==void 0)return s(o,a),a},set:function(o,a){n.has(o)?n.set(o,a):s(o,a)}}}var XN="-";function Qfe(e){var t=ehe(e);function n(s){var i=s.split(XN);return i[0]===""&&i.length!==1&&i.shift(),kH(i,t)||Zfe(s)}function r(s){return e.conflictingClassGroups[s]||[]}return{getClassGroupId:n,getConflictingClassGroupIds:r}}function kH(e,t){var n;if(e.length===0)return t.classGroupId;var r=e[0],s=t.nextPart.get(r),i=s?kH(e.slice(1),s):void 0;if(i)return i;if(t.validators.length!==0){var o=e.join(XN);return(n=t.validators.find(function(a){var c=a.validator;return c(o)}))==null?void 0:n.classGroupId}}var RD=/^\[(.+)\]$/;function Zfe(e){if(RD.test(e)){var t=RD.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}}function ehe(e){var t=e.theme,n=e.prefix,r={nextPart:new Map,validators:[]},s=nhe(Object.entries(e.classGroups),n);return s.forEach(function(i){var o=i[0],a=i[1];JA(a,r,o,t)}),r}function JA(e,t,n,r){e.forEach(function(s){if(typeof s=="string"){var i=s===""?t:xD(t,s);i.classGroupId=n;return}if(typeof s=="function"){if(the(s)){JA(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(function(o){var a=o[0],c=o[1];JA(c,xD(t,a),n,r)})})}function xD(e,t){var n=e;return t.split(XN).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function the(e){return e.isThemeGetter}function nhe(e,t){return t?e.map(function(n){var r=n[0],s=n[1],i=s.map(function(o){return typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(function(a){var c=a[0],l=a[1];return[t+c,l]})):o});return[r,i]}):e}var LH="!";function rhe(e){var t=e.separator||":";return function(r){for(var s=0,i=[],o=0,a=0;a<r.length;a++){var c=r[a];s===0&&c===t[0]&&(t.length===1||r.slice(a,a+t.length)===t)&&(i.push(r.slice(o,a)),o=a+t.length),c==="["?s++:c==="]"&&s--}var l=i.length===0?r:r.substring(o),u=l.startsWith(LH),d=u?l.substring(1):l;return{modifiers:i,hasImportantModifier:u,baseClassName:d}}}function she(e){if(e.length<=1)return e;var t=[],n=[];return e.forEach(function(r){var s=r[0]==="[";s?(t.push.apply(t,n.sort().concat([r])),n=[]):n.push(r)}),t.push.apply(t,n.sort()),t}function ihe(e){return XA({cache:Jfe(e.cacheSize),splitModifiers:rhe(e)},Qfe(e))}var ohe=/\s+/;function ahe(e,t){var n=t.splitModifiers,r=t.getClassGroupId,s=t.getConflictingClassGroupIds,i=new Set;return e.trim().split(ohe).map(function(o){var a=n(o),c=a.modifiers,l=a.hasImportantModifier,u=a.baseClassName,d=r(u);if(!d)return{isTailwindClass:!1,originalClassName:o};var f=she(c).join(":"),h=l?f+LH:f;return{isTailwindClass:!0,modifierId:h,classGroupId:d,originalClassName:o}}).reverse().filter(function(o){if(!o.isTailwindClass)return!0;var a=o.modifierId,c=o.classGroupId,l=a+c;return i.has(l)?!1:(i.add(l),s(c).forEach(function(u){return i.add(a+u)}),!0)}).reverse().map(function(o){return o.originalClassName}).join(" ")}function che(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,s,i,o=a;function a(l){var u=t[0],d=t.slice(1),f=d.reduce(function(h,p){return p(h)},u());return r=ihe(f),s=r.cache.get,i=r.cache.set,o=c,c(l)}function c(l){var u=s(l);if(u)return u;var d=ahe(l,r);return i(l,d),d}return function(){return o(Xfe.apply(null,arguments))}}function Dt(e){var t=function(r){return r[e]||[]};return t.isThemeGetter=!0,t}var ya=/^\[(.+)\]$/,lhe=/^\d+\/\d+$/,uhe=new Set(["px","full","screen"]),dhe=/^(\d+)?(xs|sm|md|lg|xl)$/,fhe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh)/,hhe=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function gs(e){return!Number.isNaN(Number(e))||uhe.has(e)||lhe.test(e)||$a(e)}function $a(e){var t,n=(t=ya.exec(e))==null?void 0:t[1];return n?n.startsWith("length:")||fhe.test(n):!1}function phe(e){var t,n=(t=ya.exec(e))==null?void 0:t[1];return n?n.startsWith("size:"):!1}function _he(e){var t,n=(t=ya.exec(e))==null?void 0:t[1];return n?n.startsWith("position:"):!1}function mhe(e){var t,n=(t=ya.exec(e))==null?void 0:t[1];return n?n.startsWith("url(")||n.startsWith("url:"):!1}function MD(e){var t,n=(t=ya.exec(e))==null?void 0:t[1];return n?!Number.isNaN(Number(n))||n.startsWith("number:"):!1}function tr(e){var t,n=(t=ya.exec(e))==null?void 0:t[1];return n?Number.isInteger(Number(n)):Number.isInteger(Number(e))}function Ln(e){return ya.test(e)}function md(){return!0}function Oo(e){return dhe.test(e)}function ghe(e){var t,n=(t=ya.exec(e))==null?void 0:t[1];return n?hhe.test(n):!1}function vhe(){var e=Dt("colors"),t=Dt("spacing"),n=Dt("blur"),r=Dt("brightness"),s=Dt("borderColor"),i=Dt("borderRadius"),o=Dt("borderSpacing"),a=Dt("borderWidth"),c=Dt("contrast"),l=Dt("grayscale"),u=Dt("hueRotate"),d=Dt("invert"),f=Dt("gap"),h=Dt("gradientColorStops"),p=Dt("inset"),_=Dt("margin"),m=Dt("opacity"),y=Dt("padding"),v=Dt("saturate"),O=Dt("scale"),S=Dt("sepia"),E=Dt("skew"),T=Dt("space"),A=Dt("translate"),w=function(){return["auto","contain","none"]},N=function(){return["auto","hidden","clip","visible","scroll"]},P=function(){return["auto",t]},x=function(){return["",gs]},D=function(){return["auto",tr]},M=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},F=function(){return["solid","dashed","dotted","double","none"]},j=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},$=function(){return["start","end","center","between","around","evenly"]},q=function(){return["","0",Ln]},k=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]};return{cacheSize:500,theme:{colors:[md],spacing:[gs],blur:["none","",Oo,$a],brightness:[tr],borderColor:[e],borderRadius:["none","","full",Oo,$a],borderSpacing:[t],borderWidth:x(),contrast:[tr],grayscale:q(),hueRotate:[tr],invert:q(),gap:[t],gradientColorStops:[e],inset:P(),margin:P(),opacity:[tr],padding:[t],saturate:[tr],scale:[tr],sepia:q(),skew:[tr,Ln],space:[t],translate:[t]},classGroups:{aspect:[{aspect:["auto","square","video",Ln]}],container:["container"],columns:[{columns:[Oo]}],"break-after":[{"break-after":k()}],"break-before":[{"break-before":k()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(M(),[Ln])}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:w()}],"overscroll-x":[{"overscroll-x":w()}],"overscroll-y":[{"overscroll-y":w()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:[tr]}],basis:[{basis:[t]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ln]}],grow:[{grow:q()}],shrink:[{shrink:q()}],order:[{order:["first","last","none",tr]}],"grid-cols":[{"grid-cols":[md]}],"col-start-end":[{col:["auto",{span:[tr]}]}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":[md]}],"row-start-end":[{row:["auto",{span:[tr]}]}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ln]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ln]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:$()}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:[].concat($(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat($(),["baseline","stretch"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",t]}],"min-w":[{"min-w":["min","max","fit",gs]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[Oo]},Oo,$a]}],h:[{h:[t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",gs]}],"max-h":[{"max-h":[t,"min","max","fit"]}],"font-size":[{text:["base",Oo,$a]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",MD]}],"font-family":[{font:[md]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",$a]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",gs]}],"list-style-type":[{list:["none","disc","decimal",Ln]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[m]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[m]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(F(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",gs]}],"underline-offset":[{"underline-offset":["auto",gs]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:[t]}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",$a]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap"]}],break:[{break:["normal","words","all","keep"]}],content:[{content:["none",Ln]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[m]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(M(),[_he])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",phe]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},mhe]}],"bg-color":[{bg:[e]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[m]}],"border-style":[{border:[].concat(F(),["hidden"])}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[m]}],"divide-style":[{divide:F()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:[""].concat(F())}],"outline-offset":[{"outline-offset":[gs]}],"outline-w":[{outline:[gs]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:x()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[m]}],"ring-offset-w":[{"ring-offset":[gs]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Oo,ghe]}],"shadow-color":[{shadow:[md]}],opacity:[{opacity:[m]}],"mix-blend":[{"mix-blend":j()}],"bg-blend":[{"bg-blend":j()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Oo,Ln]}],grayscale:[{grayscale:[l]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[v]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[l]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[m]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ln]}],duration:[{duration:[tr]}],ease:[{ease:["linear","in","out","in-out",Ln]}],delay:[{delay:[tr]}],animate:[{animate:["none","spin","ping","pulse","bounce",Ln]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[O]}],"scale-x":[{"scale-x":[O]}],"scale-y":[{"scale-y":[O]}],rotate:[{rotate:[tr,Ln]}],"translate-x":[{"translate-x":[A]}],"translate-y":[{"translate-y":[A]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ln]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ln]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":[t]}],"scroll-mx":[{"scroll-mx":[t]}],"scroll-my":[{"scroll-my":[t]}],"scroll-mt":[{"scroll-mt":[t]}],"scroll-mr":[{"scroll-mr":[t]}],"scroll-mb":[{"scroll-mb":[t]}],"scroll-ml":[{"scroll-ml":[t]}],"scroll-p":[{"scroll-p":[t]}],"scroll-px":[{"scroll-px":[t]}],"scroll-py":[{"scroll-py":[t]}],"scroll-pt":[{"scroll-pt":[t]}],"scroll-pr":[{"scroll-pr":[t]}],"scroll-pb":[{"scroll-pb":[t]}],"scroll-pl":[{"scroll-pl":[t]}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ln]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[gs,MD]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],"col-start-end":["col-start","col-end"],"row-start-end":["row-start","row-end"],gap:["gap-x","gap-y"],p:["px","py","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-t","rounded-r","rounded-b","rounded-l","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]}}}var yhe=che(vhe),Ehe=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Che=Ehe,DH=Symbol("isTwElement?"),She=(e,t)=>e.reduce((n,r,s)=>n.concat(r||[],t[s]||[]),[]),bhe=(e,t="")=>{let n=e.join(" ").trim().replace(/\n/g," ").replace(/\s{2,}/g," ").split(" ").filter(s=>s!==","),r=t?t.split(" "):[];return yhe(...n.concat(r).filter(s=>s!==" "))},The=([e])=>e.charAt(0)!=="$",LS=e=>e[DH]===!0,FH=e=>(t,...n)=>{let r=(s=[])=>{let i=It.forwardRef((o,a)=>{let p=o,{$as:c=e,style:l={}}=p,u=G(p,["$as","style"]),d=LS(e)?e:c,f=s?s.reduce((_,m)=>Object.assign(_,typeof m=="function"?m(o):m),{}):{},h=LS(d)?u:Object.fromEntries(Object.entries(u).filter(The));return It.createElement(d,b(I(b({},h),{style:b(b({},f),l),ref:a,className:bhe(She(t,n.map(_=>_(I(b({},u),{$as:c})))),u.className)}),LS(e)?{$as:c}:{}))});return i[DH]=!0,typeof e!="string"?i.displayName=e.displayName||e.name||"tw.Component":i.displayName="tw."+e,i.withStyle=o=>r(s.concat(o)),i};return r()},Ohe=Che.reduce((e,t)=>I(b({},e),{[t]:FH(t)}),{}),Ahe=Object.assign(FH,Ohe),po=Ahe;const _o=e=>{"use forget";const t=W.c(70),{ariaLive:n,triggerAs:r,disabled:s,label:i,secondaryLabel:o,contentClassName:a,customPaddingClassName:c,customBorderClassName:l,customBackgroundColorClassName:u,theme:d,cornerRadius:f,side:h,sideOffset:p,align:_,alignOffset:m,withArrow:y,wide:v,narrow:O,interactive:S,usePortal:E,className:T,children:A,delayDuration:w,closeOnOutsideClick:N,open:P,onOpenChange:x,onDismissClick:D,isLeftArrow:M,labelTextAlign:F,ignoreTriggerOnOutsideClick:j,labelOrientation:$,defaultOpen:q,labelClassName:k,secondaryLabelClassName:Z}=e,B=r===void 0?"span":r,Q=d===void 0?"default":d,se=f===void 0?"lg":f,fe=h===void 0?"bottom":h,V=p===void 0?8:p,H=_===void 0?"center":_,ee=m===void 0?0:m,z=y===void 0?!1:y,te=v===void 0?!1:v,Se=O===void 0?!1:O,he=S===void 0?!1:S,oe=E===void 0?!0:E,be=w===void 0?0:w,ke=N===void 0?!0:N,Xe=M===void 0?!1:M,Pe=F===void 0?"center":F,J=j===void 0?!1:j,X=$===void 0?"vertical":$,L=q===void 0?!1:q,Ne=ft(),nt=C.useRef(null);if(s){let yn;return t[0]!==A?(yn=g.jsx(g.Fragment,{children:A}),t[0]=A,t[1]=yn):yn=t[1],yn}if(!i){let yn;return t[2]!==B||t[3]!==A||t[4]!==T?(yn=B?g.jsx(B,{className:T,children:A}):A,t[2]=B,t[3]=A,t[4]=T,t[5]=yn):yn=t[5],yn}let He;e:switch(Q){case"white":{He="light bg-white";break e}case"primary":{He="bg-token-main-surface-primary";break e}case"default":He="dark bg-black"}u!=null&&(He=u);const tt=Pe==="left"?"text-start":"text-center";let it;t[6]!==ke||t[7]!==J?(it=ke?J?yn=>{var Ii;(Ii=nt.current)!=null&&Ii.contains(yn.target)&&yn.preventDefault()}:void 0:Dhe,t[6]=ke,t[7]=J,t[8]=it):it=t[8];const ue=c!=null?c:"px-2 py-1",De=Q==="white"&&"shadow-xs",et="rounded-".concat(se),Je=!z&&"overflow-hidden",Qe=te?"max-w-sm":Se?"max-w-2xs":"max-w-xs";let Vt;t[9]!==He||t[10]!==a||t[11]!==l||t[12]!==ue||t[13]!==De||t[14]!==et||t[15]!==Je||t[16]!==Qe?(Vt=ie("relative z-50 transition-opacity select-none",ue,De,et,Je,l,He,Qe,a),t[9]=He,t[10]=a,t[11]=l,t[12]=ue,t[13]=De,t[14]=et,t[15]=Je,t[16]=Qe,t[17]=Vt):Vt=t[17];const mn=X==="horizontal"?"flex gap-2":void 0;let gn;t[18]!==k||t[19]!==tt?(gn=ie("text-token-text-primary text-xs font-semibold whitespace-pre-wrap",tt,k),t[18]=k,t[19]=tt,t[20]=gn):gn=t[20];let un;t[21]!==i||t[22]!==gn?(un=g.jsx("div",{className:gn,children:i}),t[21]=i,t[22]=gn,t[23]=un):un=t[23];let Xt;t[24]!==o||t[25]!==Z||t[26]!==tt?(Xt=o&&g.jsx("div",{className:ie("text-token-text-tertiary text-xs font-medium whitespace-pre-wrap",tt,Z),children:o}),t[24]=o,t[25]=Z,t[26]=tt,t[27]=Xt):Xt=t[27];let vn;t[28]!==He||t[29]!==Xe||t[30]!==z?(vn=z&&g.jsx(Kfe,{asChild:!0,children:Xe?g.jsx(Ihe,{className:He}):g.jsx(Nhe,{className:He})}),t[28]=He,t[29]=Xe,t[30]=z,t[31]=vn):vn=t[31];let zr;t[32]!==mn||t[33]!==un||t[34]!==Xt||t[35]!==vn?(zr=g.jsxs("div",{className:mn,children:[un,Xt,vn]}),t[32]=mn,t[33]=un,t[34]=Xt,t[35]=vn,t[36]=zr):zr=t[36];let ps;t[37]!==Ne||t[38]!==D?(ps=D&&g.jsx(J9,{role:"button","aria-label":Ne.formatMessage(Phe.dismissTooltip),tabIndex:0,className:"icon -me-1 cursor-pointer text-gray-400",onClick:D}),t[37]=Ne,t[38]=D,t[39]=ps):ps=t[39];let Sr;t[40]!==zr||t[41]!==ps?(Sr=g.jsxs("div",{className:"flex items-center gap-1",children:[zr,ps]}),t[40]=zr,t[41]=ps,t[42]=Sr):Sr=t[42];let So;t[43]!==H||t[44]!==ee||t[45]!==n||t[46]!==fe||t[47]!==V||t[48]!==it||t[49]!==Vt||t[50]!==Sr?(So=g.jsx(Yfe,{onEscapeKeyDown:Lhe,collisionPadding:8,onPointerDownOutside:it,"aria-live":n,side:fe,sideOffset:V,alignOffset:ee,align:H,className:Vt,children:Sr}),t[43]=H,t[44]=ee,t[45]=n,t[46]=fe,t[47]=V,t[48]=it,t[49]=Vt,t[50]=Sr,t[51]=So):So=t[51];const bo=So,wa=!he,Na=J?Fhe:void 0;let ti;t[52]!==B||t[53]!==A||t[54]!==T?(ti=B?g.jsx(Rhe,{as:B,className:T,children:A}):A,t[52]=B,t[53]=A,t[54]=T,t[55]=ti):ti=t[55];let ni;t[56]!==Na||t[57]!==ti?(ni=g.jsx(Vfe,{asChild:!0,ref:nt,onClick:Na,children:ti}),t[56]=Na,t[57]=ti,t[58]=ni):ni=t[58];let br;t[59]!==bo||t[60]!==oe?(br=oe?g.jsx(whe,{children:g.jsx(kD,{children:bo})}):g.jsx(kD,{children:bo}),t[59]=bo,t[60]=oe,t[61]=br):br=t[61];let _s;return t[62]!==L||t[63]!==be||t[64]!==x||t[65]!==P||t[66]!==wa||t[67]!==ni||t[68]!==br?(_s=g.jsxs(qfe,{delayDuration:be,disableHoverableContent:wa,defaultOpen:L,open:P,onOpenChange:x,children:[ni,br]}),t[62]=L,t[63]=be,t[64]=x,t[65]=P,t[66]=wa,t[67]=ni,t[68]=br,t[69]=_s):_s=t[69],_s};function whe(e){"use forget";const t=W.c(3),{children:n}=e,r=X9();let s;return t[0]!==n||t[1]!==r?(s=g.jsx(zfe,I(b({},r),{children:n})),t[0]=n,t[1]=r,t[2]=s):s=t[2],s}var QB;const Nhe=po.div(QB||(QB=ri(["relative top-[-4px] h-2 w-2 rotate-45 transform shadow-xs dark:border-e dark:border-b border-white/10"])));var ZB;const Ihe=po.div(ZB||(ZB=ri(["relative top-[-4px] end-[-135px] h-2 w-2 rotate-45 transform shadow-xs dark:border-e dark:border-b border-white/10"]))),Phe=At({dismissTooltip:{id:"Tooltip.dismissTooltip",defaultMessage:"Close Tooltip"}}),Rhe=e=>{"use forget";var c;const t=W.c(15);let n,r,s;if(t[0]!==e?(c=e,{as:n,children:r}=c,s=G(c,["as","children"]),t[0]=e,t[1]=n,t[2]=r,t[3]=s):(n=t[1],r=t[2],s=t[3]),!C.isValidElement(r)){let l;return t[4]!==n||t[5]!==r||t[6]!==s?(l=g.jsx(n,I(b({},s),{children:r})),t[4]=n,t[5]=r,t[6]=s,t[7]=l):l=t[7],l}const i=s["aria-describedby"];let o;t[8]!==r||t[9]!==i?(o=g.jsx(Z9,{"aria-describedby":i,children:r}),t[8]=r,t[9]=i,t[10]=o):o=t[10];let a;return t[11]!==n||t[12]!==s||t[13]!==o?(a=g.jsx(n,I(b({},s),{onFocusCapture:s.onFocus,children:o})),t[11]=n,t[12]=s,t[13]=o,t[14]=a):a=t[14],a},Am=C.createContext(!1),kD=e=>{"use forget";const t=W.c(5),{children:n}=e,s=C.use(Am)&&"sr-only!";let i;t[0]!==s?(i=ie(s),t[0]=s,t[1]=i):i=t[1];let o;return t[2]!==n||t[3]!==i?(o=g.jsx(Z9,{className:i,children:n}),t[2]=n,t[3]=i,t[4]=o):o=t[4],o},xhe=e=>{"use forget";const t=W.c(2),{children:n}=e;let r;return t[0]!==n?(r=g.jsx(Am.Provider,{value:!1,children:n}),t[0]=n,t[1]=r):r=t[1],r},Mhe=e=>{"use forget";var d;const t=W.c(6),{children:n}=e,r=C.use(Am),[s,i]=C.useState(!1);let o;t[0]!==r||t[1]!==n?(o=r?n:C.cloneElement(n,{onOpenChange:f=>{var h,p;i(f),(p=(h=n.props).onOpenChange)==null||p.call(h,f)}}),t[0]=r,t[1]=n,t[2]=o):o=t[2];const a=o,c=(d=n.props.open)!=null?d:s,l=r===!0||c;let u;return t[3]!==a||t[4]!==l?(u=g.jsx(Am.Provider,{value:l,children:a}),t[3]=a,t[4]=l,t[5]=u):u=t[5],u};function khe(){document.dispatchEvent(new KeyboardEvent("keydown",{key:"Escape",bubbles:!0}))}function Lhe(e){e.preventDefault(),e.stopPropagation(),queueMicrotask(khe)}function Dhe(e){return e.preventDefault()}function Fhe(e){e.preventDefault()}function UH(e){const t=e+"CollectionProvider",[n,r]=HN(t),[s,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=h=>{const{scope:p,children:_}=h,m=It.useRef(null),y=It.useRef(new Map).current;return g.jsx(s,{scope:p,itemMap:y,collectionRef:m,children:_})};o.displayName=t;const a=e+"CollectionSlot",c=It.forwardRef((h,p)=>{const{scope:_,children:m}=h,y=i(a,_),v=pn(p,y.collectionRef);return g.jsx(bu,{ref:v,children:m})});c.displayName=a;const l=e+"CollectionItemSlot",u="data-radix-collection-item",d=It.forwardRef((h,p)=>{const E=h,{scope:_,children:m}=E,y=G(E,["scope","children"]),v=It.useRef(null),O=pn(p,v),S=i(l,_);return It.useEffect(()=>(S.itemMap.set(v,b({ref:v},y)),()=>void S.itemMap.delete(v))),g.jsx(bu,{[u]:"",ref:O,children:m})});d.displayName=l;function f(h){const p=i(e+"CollectionConsumer",h);return It.useCallback(()=>{const m=p.collectionRef.current;if(!m)return[];const y=Array.from(m.querySelectorAll("[".concat(u,"]")));return Array.from(p.itemMap.values()).sort((S,E)=>y.indexOf(S.ref.current)-y.indexOf(E.ref.current))},[p.collectionRef,p.itemMap])}return[{Provider:o,Slot:c,ItemSlot:d},f,r]}var jH=C.createContext(void 0),Uhe=e=>{const{dir:t,children:n}=e;return g.jsx(jH.Provider,{value:t,children:n})};function JN(e){const t=C.useContext(jH);return e||t||"ltr"}var DS="rovingFocusGroup.onEntryFocus",jhe={bubbles:!1,cancelable:!0},_v="RovingFocusGroup",[QA,BH,Bhe]=UH(_v),[Ghe,mv]=HN(_v,[Bhe]),[Whe,Hhe]=Ghe(_v),GH=C.forwardRef((e,t)=>g.jsx(QA.Provider,{scope:e.__scopeRovingFocusGroup,children:g.jsx(QA.Slot,{scope:e.__scopeRovingFocusGroup,children:g.jsx($he,I(b({},e),{ref:t}))})}));GH.displayName=_v;var $he=C.forwardRef((e,t)=>{const w=e,{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:c,onEntryFocus:l,preventScrollOnEntryFocus:u=!1}=w,d=G(w,["__scopeRovingFocusGroup","orientation","loop","dir","currentTabStopId","defaultCurrentTabStopId","onCurrentTabStopIdChange","onEntryFocus","preventScrollOnEntryFocus"]),f=C.useRef(null),h=pn(t,f),p=JN(i),[_=null,m]=el({prop:o,defaultProp:a,onChange:c}),[y,v]=C.useState(!1),O=cs(l),S=BH(n),E=C.useRef(!1),[T,A]=C.useState(0);return C.useEffect(()=>{const N=f.current;if(N)return N.addEventListener(DS,O),()=>N.removeEventListener(DS,O)},[O]),g.jsx(Whe,{scope:n,orientation:r,dir:p,loop:s,currentTabStopId:_,onItemFocus:C.useCallback(N=>m(N),[m]),onItemShiftTab:C.useCallback(()=>v(!0),[]),onFocusableItemAdd:C.useCallback(()=>A(N=>N+1),[]),onFocusableItemRemove:C.useCallback(()=>A(N=>N-1),[]),children:g.jsx(wt.div,I(b({tabIndex:y||T===0?-1:0,"data-orientation":r},d),{ref:h,style:b({outline:"none"},e.style),onMouseDown:Ge(e.onMouseDown,()=>{E.current=!0}),onFocus:Ge(e.onFocus,N=>{const P=!E.current;if(N.target===N.currentTarget&&P&&!y){const x=new CustomEvent(DS,jhe);if(N.currentTarget.dispatchEvent(x),!x.defaultPrevented){const D=S().filter(q=>q.focusable),M=D.find(q=>q.active),F=D.find(q=>q.id===_),$=[M,F,...D].filter(Boolean).map(q=>q.ref.current);$H($,u)}}E.current=!1}),onBlur:Ge(e.onBlur,()=>v(!1))}))})}),WH="RovingFocusGroupItem",HH=C.forwardRef((e,t)=>{const p=e,{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i}=p,o=G(p,["__scopeRovingFocusGroup","focusable","active","tabStopId"]),a=mi(),c=i||a,l=Hhe(WH,n),u=l.currentTabStopId===c,d=BH(n),{onFocusableItemAdd:f,onFocusableItemRemove:h}=l;return C.useEffect(()=>{if(r)return f(),()=>h()},[r,f,h]),g.jsx(QA.ItemSlot,{scope:n,id:c,focusable:r,active:s,children:g.jsx(wt.span,I(b({tabIndex:u?0:-1,"data-orientation":l.orientation},o),{ref:t,onMouseDown:Ge(e.onMouseDown,_=>{r?l.onItemFocus(c):_.preventDefault()}),onFocus:Ge(e.onFocus,()=>l.onItemFocus(c)),onKeyDown:Ge(e.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){l.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const m=zhe(_,l.orientation,l.dir);if(m!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let v=d().filter(O=>O.focusable).map(O=>O.ref.current);if(m==="last")v.reverse();else if(m==="prev"||m==="next"){m==="prev"&&v.reverse();const O=v.indexOf(_.currentTarget);v=l.loop?Yhe(v,O+1):v.slice(O+1)}setTimeout(()=>$H(v))}})}))})});HH.displayName=WH;var qhe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Vhe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function zhe(e,t,n){const r=Vhe(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return qhe[r]}function $H(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function Yhe(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var qH=GH,VH=HH,QN="Tabs",[Khe]=Hu(QN,[mv]),zH=mv(),[Xhe,ZN]=Khe(QN),YH=C.forwardRef((e,t)=>{const h=e,{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:c="automatic"}=h,l=G(h,["__scopeTabs","value","onValueChange","defaultValue","orientation","dir","activationMode"]),u=JN(a),[d,f]=el({prop:r,onChange:s,defaultProp:i});return g.jsx(Xhe,{scope:n,baseId:mi(),value:d,onValueChange:f,orientation:o,dir:u,activationMode:c,children:g.jsx(wt.div,I(b({dir:u,"data-orientation":o},l),{ref:t}))})});YH.displayName=QN;var KH="TabsList",XH=C.forwardRef((e,t)=>{const a=e,{__scopeTabs:n,loop:r=!0}=a,s=G(a,["__scopeTabs","loop"]),i=ZN(KH,n),o=zH(n);return g.jsx(qH,I(b({asChild:!0},o),{orientation:i.orientation,dir:i.dir,loop:r,children:g.jsx(wt.div,I(b({role:"tablist","aria-orientation":i.orientation},s),{ref:t}))}))});XH.displayName=KH;var JH="TabsTrigger",QH=C.forwardRef((e,t)=>{const d=e,{__scopeTabs:n,value:r,disabled:s=!1}=d,i=G(d,["__scopeTabs","value","disabled"]),o=ZN(JH,n),a=zH(n),c=t$(o.baseId,r),l=n$(o.baseId,r),u=r===o.value;return g.jsx(VH,I(b({asChild:!0},a),{focusable:!s,active:u,children:g.jsx(wt.button,I(b({type:"button",role:"tab","aria-selected":u,"aria-controls":l,"data-state":u?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c},i),{ref:t,onMouseDown:Ge(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:Ge(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:Ge(e.onFocus,()=>{const f=o.activationMode!=="manual";!u&&!s&&f&&o.onValueChange(r)})}))}))});QH.displayName=JH;var ZH="TabsContent",e$=C.forwardRef((e,t)=>{const f=e,{__scopeTabs:n,value:r,forceMount:s,children:i}=f,o=G(f,["__scopeTabs","value","forceMount","children"]),a=ZN(ZH,n),c=t$(a.baseId,r),l=n$(a.baseId,r),u=r===a.value,d=C.useRef(u);return C.useEffect(()=>{const h=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(h)},[]),g.jsx(Js,{present:s||u,children:({present:h})=>g.jsx(wt.div,I(b({"data-state":u?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:l,tabIndex:0},o),{ref:t,style:I(b({},e.style),{animationDuration:d.current?"0s":void 0}),children:h&&i}))})});e$.displayName=ZH;function t$(e,t){return"".concat(e,"-trigger-").concat(t)}function n$(e,t){return"".concat(e,"-content-").concat(t)}var Y9e=YH,K9e=XH,Jhe=QH,Qhe=e$,Zhe=(e=>(e.ArchivedChats="ArchivedChats",e))(Zhe||{}),gv=(e=>(e.General="General",e.Notifications="Notifications",e.Personalization="Personalization",e.Connectors="Connectors",e.ConnectorsAdvanced="Connectors/Advanced",e.DataControls="DataControls",e.Schedules="Schedules",e.Orders="Orders",e.Security="Security",e.ParentalControls="ParentalControls",e.Hazelnuts="Hazelnuts",e.Account="Account",e.Internal="Internal",e))(gv||{});function epe(e){return e.startsWith("#settings")}function X9e(e){return e.startsWith("#settings/Account")}function J9e(e){if(!epe(e))return null;const t=e.split("?")[0].split("/")[1];if(Object.values(gv).includes(t))return t;switch(t){case"Subscription":case"BuilderProfile":case"Referrals":return"Account";case"ConnectorSettings":return"Connectors";case"SecureSignIn":return"Security";case"Record":return"Personalization";case"AmphoraControls":return"ParentalControls"}return"General"}function Q9e(e,t={}){const{dataControlsRoute:n,parentalControlsMemberId:r}=t;let s=e&&e!=="General"?"settings/".concat(e):"settings";return e==="DataControls"&&n!=null&&(s+="/".concat(n)),e==="ParentalControls"&&typeof r=="string"&&r.length>0&&(s+="/member/".concat(encodeURIComponent(r))),vf({hash:s})}const Z9e=e=>g.jsx(ho,b({as:Jhe,fillContainer:!0},e));function eHe({value:e,children:t}){return g.jsx(Qhe,{className:"text-token-text-primary relative flex w-full flex-col overflow-y-auto px-4 text-sm max-md:max-h-[calc(100vh-150px)] md:min-h-[380px]",value:e,children:t})}const tpe=({title:e,description:t,learnMoreHref:n,children:r,noBorder:s=!1,headerTrailingContent:i,headerInteractable:o=!1,className:a})=>{let c;if(e){let l=o?e:g.jsx("div",{className:"truncate select-none",children:e});n&&(l=g.jsxs("div",{className:"flex items-center gap-2",children:[l,g.jsx(_o,{label:g.jsx(Tt,{id:"WbGW2C",defaultMessage:"Learn more"}),contentClassName:"touch:hidden",side:"right",triggerAs:null,children:g.jsx("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"text-token-text-tertiary not-touch:mt-0.5 flex shrink-0 items-center gap-1 text-sm",children:g.jsx(Iue,{className:"icon-sm"})})})]}));const u=t?g.jsx("div",{className:"text-token-text-tertiary mt-0.5 text-xs",children:t}):null;c=i?g.jsxs("div",{className:ie("min-h-header-height grid items-start gap-x-4 gap-y-1 py-3","grid-cols-[minmax(0,1fr)_auto]",!s&&"border-token-border-default border-b"),children:[g.jsxs("h3",{className:"min-w-0 text-lg font-normal",children:[l,u]}),g.jsx("div",{className:"justify-self-end",children:i})]}):g.jsx("div",{className:ie("min-h-header-height flex items-center py-3",!s&&"border-token-border-default border-b"),children:g.jsxs("h3",{className:"w-full text-lg font-normal",children:[l,u]})})}return g.jsxs("section",{className:ie("relative mb-4 not-has-[>div,>section,>h1,>h2,>h3,>h4,>h5,>h6]:hidden",a),children:[c,r]})};function npe({children:e}){return g.jsx("div",{className:"border-token-border-light flex min-h-15 items-center border-b py-2 last-of-type:border-none",children:g.jsx("div",{className:"w-full",children:e})})}function tHe(e){"use forget";const t=W.c(8),{labelMessage:n,value:r,testId:s}=e;let i;t[0]!==n?(i=g.jsx("div",{className:"text-token-text-primary text-sm",children:g.jsx(Tt,b({},n))}),t[0]=n,t[1]=i):i=t[1];let o;t[2]!==r?(o=g.jsx("div",{className:"text-token-text-secondary min-w-0 text-end text-sm break-words",children:r}),t[2]=r,t[3]=o):o=t[3];let a;return t[4]!==i||t[5]!==o||t[6]!==s?(a=g.jsxs("div",{className:"flex w-full items-start justify-between gap-4","data-testid":s,children:[i,o]}),t[4]=i,t[5]=o,t[6]=s,t[7]=a):a=t[7],a}var eG;const ZA=po.div(eG||(eG=ri(["text-xs text-token-text-tertiary pe-12 my-1"])));function nHe({label:e,disabled:t,enabled:n,onChange:r,description:s,toggleTooltip:i,isLoading:o=!1,testId:a,compactDescription:c=!1,centerToggleVertically:l=!1,showAlphaPill:u=!1,ariaLabel:d,toggleLeftAdornment:f}){const h=typeof e=="string"?e:d,p=h?{"aria-label":h}:{"aria-hidden":!0},_=g.jsx(Y9,b({disabled:t,checked:n,onCheckedChange:r,size:"normal","data-testid":a},p)),m=i?g.jsx(_o,{label:i,side:"top",children:_}):_;return l?g.jsxs("div",{className:"flex justify-between gap-2",children:[g.jsxs("div",{className:"flex flex-col",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[e,u&&g.jsx(yD,{})]}),s!=null&&g.jsx(ZA,{className:c?"mt-0.5":void 0,children:s})]}),g.jsxs("div",{className:"flex items-center gap-1",children:[f,o?g.jsx(Su,{}):m]})]}):g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"flex items-center justify-between gap-2",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[e,u&&g.jsx(yD,{})]}),g.jsxs("div",{className:"flex items-center gap-1",children:[f,o?g.jsx(Su,{}):m]})]}),s!=null&&g.jsx(ZA,{className:c?"mt-0.5":void 0,children:s})]})}function rHe({color:e="secondary",disabled:t,label:n,buttonLabel:r,onClick:s,description:i,testId:o}){const a=i?"items-start":"items-center";return g.jsxs("div",{className:ie("flex",a,"justify-between"),children:[g.jsxs("div",{children:[g.jsx("div",{children:n}),i!=null&&g.jsx(ZA,{children:i})]}),g.jsx(fo,{className:"shrink-0",color:e,disabled:!!t,onClick:s,"data-testid":o,children:r})]})}function sHe({onClick:e,label:t,stateLabel:n,testId:r}){return g.jsx("button",{className:"w-full",onClick:e,"data-testid":r,children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("div",{children:t}),g.jsxs("div",{className:"text-token-text-secondary flex min-h-[38px] items-center",children:[n&&g.jsx("div",{className:"me-1 flex items-center",children:n}),g.jsx(j9,{className:"icon-sm"})]})]})})}function iHe(e){return Y.safeDelete("/aip/connectors/{connector_id}",{parameters:{path:{connector_id:e}}})}function r$(){if(typeof window>"u")return;const{hash:e,search:t}=window.location,n=r=>{var o;const s=r.startsWith("?")?r.slice(1):r;return(o=new URLSearchParams(s).get("referrer"))!=null?o:void 0};if(e&&e.includes("?")){const r=e.substring(e.indexOf("?")+1),s=n(r);if(s)return s}return n(t)}const oHe=e=>(e==null?void 0:e.visibility)==="HIDDEN",aHe="connector_bd313622bce5485cb3d0b338715f7108",vv="connector_3f8d1a79f27c4c7ba1a897ab13bf37dc",rpe="slack_codex_oauth_client",yv="connector_8cbe1e9e357f4ec79fa9f1a8aa78f4c1",spe="slack_codex_bot_oauth_client",Ev="connector_fdb98b59c8d44f678b086d20e82bd316",ipe="linear_codex_bot_oauth_client",cHe=new Set([Ev,vv,yv]),e1={gdrive_sync_connector:"gdrive_sync_connector",slack_sync_connector:"slack_sync_connector",github_sync_connector:"github_sync_connector",notion_sync_connector:"notion_sync_connector",sharepoint_sync_connector:"sharepoint_sync_connector",sharepoint_admin_sync_connector:"sharepoint_admin_sync_connector",teams_sync_connector:"teams_sync_connector",teams_admin_sync_connector:"teams_admin_sync_connector",linear_sync_connector:"linear_sync_connector",jira_sync_connector:"jira_sync_connector",jira_servicemanagement_sync_connector:"jira_servicemanagement_sync_connector",intercom_sync_connector:"intercom_sync_connector",hubspot_sync_connector:"hubspot_sync_connector",salesforce_sync_connector:"salesforce_sync_connector",confluence_sync_connector:"confluence_sync_connector",dropbox_sync_connector:"dropbox_sync_connector",box_sync_connector:"box_sync_connector",aha_sync_connector:"aha_sync_connector",asana_sync_connector:"asana_sync_connector",azure_devops_sync_connector:"azure_devops_sync_connector",basecamp_sync_connector:"basecamp_sync_connector",clickup_sync_connector:"clickup_sync_connector",front_sync_connector:"front_sync_connector",gitlab_sync_connector:"gitlab_sync_connector",gorgias_sync_connector:"gorgias_sync_connector",helpscout_sync_connector:"helpscout_sync_connector",ironclad_sync_connector:"ironclad_sync_connector",pipedrive_sync_connector:"pipedrive_sync_connector",shortcut_sync_connector:"shortcut_sync_connector",teamwork_sync_connector:"teamwork_sync_connector",zendesk_sync_connector:"zendesk_sync_connector",zoho_sync_connector:"zoho_sync_connector",zoho_desk_sync_connector:"zoho_desk_sync_connector"},s$={google_drive_oauth:R.GDRIVE_ACTION_CONNECTOR,google_drive_dwd:R.GDRIVE_ACTION_CONNECTOR,slack:R.SLACK_CONNECTOR,github:R.GITHUB_CONNECTOR,notion:R.NOTION_CONNECTOR,sharepoint:R.SHAREPOINT_CONNECTOR,sharepoint_admin:R.SHAREPOINT_ADMIN_CONNECTOR,teams:R.TEAMS_CONNECTOR,teams_admin:R.TEAMS_ADMIN_CONNECTOR,linear:R.LINEAR_CONNECTOR,jira:R.JIRA_CONNECTOR,jira_servicemanagement:R.JIRA_SERVICEMANAGEMENT_CONNECTOR,intercom:R.INTERCOM_CONNECTOR,hubspot:R.HUBSPOT_CONNECTOR,salesforce:R.SALESFORCE_CONNECTOR,confluence:R.CONFLUENCE_CONNECTOR,dropbox:R.DROPBOX_CONNECTOR,box:R.BOX_CONNECTOR,aha:R.AHA_CONNECTOR,asana:R.ASANA_CONNECTOR,azure_devops:R.AZURE_DEVOPS_CONNECTOR,basecamp:R.BASECAMP_CONNECTOR,clickup:R.CLICKUP_CONNECTOR,front:R.FRONT_CONNECTOR,gitlab:R.GITLAB_CONNECTOR,gorgias:R.GORGIAS_CONNECTOR,help_scout:R.HELP_SCOUT_CONNECTOR,ironclad:R.IRONCLAD_CONNECTOR,pipedrive:R.PIPEDRIVE_CONNECTOR,shortcut:R.SHORTCUT_CONNECTOR,teamwork:R.TEAMWORK_CONNECTOR,zendesk:R.ZENDESK_CONNECTOR,zoho:R.ZOHO_CONNECTOR,zoho_desk:R.ZOHO_DESK_CONNECTOR},tl={[R.NOTION_CONNECTOR]:{access:"connector_37316be7febe4224b3d31465bae4dbd7",sync:"connector_1ee51bd730c272434e1b17c46f8a2397"},[R.INTERCOM_CONNECTOR]:{access:"connector_25f8569426254c019971d2481ddda775",sync:"connector_9f3d361ec84b4c6588a7129a2d4e3cb3"},[R.HUBSPOT_CONNECTOR]:{access:"connector_2a3c0c472f6f4238b47d41acfb317307",sync:"connector_6529c30f7e3590253d20626b8f971879"}},Nt={[R.GDRIVE_ACTION_CONNECTOR]:"connector_5f3c8c41a1e54ad7a76272c89e2554fa",[R.GITHUB_CONNECTOR]:"connector_76869538009648d5b282a4bb21c3d157",[R.LINEAR_CONNECTOR]:"connector_686fad9b54914a35b75be6d06a0f6f31",[R.DROPBOX_CONNECTOR]:"connector_14e85e16800b4e53bc6246019a83a307",[R.HUBSPOT_CONNECTOR]:"connector_2a3c0c472f6f4238b47d41acfb317307",[R.SALESFORCE_CONNECTOR]:"connector_6095bdb01e9482eb0cac719f6ba313cd",[R.AHA_CONNECTOR]:"connector_251970f16cb647d4b76fc445753f9276",[R.ASANA_CONNECTOR]:"connector_4886707321be47efb8b9369ebb877881",[R.AZURE_DEVOPS_CONNECTOR]:"connector_da257d66000a45c683fe44e411037409",[R.BASECAMP_CONNECTOR]:"connector_4d2f184d2773465f977823d8d03a059a",[R.CLICKUP_CONNECTOR]:"connector_f9447fe87aae4b598f8ca9dc03483c9a",[R.FRONT_CONNECTOR]:"connector_d38d1f35825b4ebebf977ff9fe20841e",[R.GITLAB_CONNECTOR]:"connector_0c9786b2f41f41558056126bdb46c9bd",[R.GORGIAS_CONNECTOR]:"connector_16ebbb3c9f7e449d94a61eb0473dd9dc",[R.HELP_SCOUT_CONNECTOR]:"connector_b969d12728c04baeb585eb9299be3b6d",[R.IRONCLAD_CONNECTOR]:"connector_f317b2c679f84ad5b6f2af12fb6f609a",[R.PIPEDRIVE_CONNECTOR]:"connector_36803b8cc4164d84aa3fbfc7ddb420e1",[R.SHORTCUT_CONNECTOR]:"connector_7a9cae0e3c7c4fadb98be0028af7d346",[R.SHAREPOINT_CONNECTOR]:"connector_1e4f6a44acf14e3ca1d96672f8c945bc",[R.SHAREPOINT_ADMIN_CONNECTOR]:"connector_5ae2fd76f08447718080f11bc2faac6c",[R.TEAMS_CONNECTOR]:"connector_246af0940da3457da0e751171dc1ce60",[R.TEAMS_ADMIN_CONNECTOR]:"connector_601cc22bb3b740599c7274cf7e8084e8",[R.TEAMWORK_CONNECTOR]:"connector_86de01a2aaf544b0a039013db9bcfae7",[R.ZENDESK_CONNECTOR]:"connector_30434c47d61341d69dc82aaffa23f5c6",[R.ZOHO_CONNECTOR]:"connector_fd0f007550a242459d6dd1f923668769",[R.ZOHO_DESK_CONNECTOR]:"connector_bc42113c21de4f94a5b5259c2aa914f6",[R.GCAL_CONNECTOR]:"connector_947e0d954944416db111db556030eea6",[R.GMAIL_CONNECTOR]:"connector_2128aebfecb84f64a069897515042a44",[R.GOOGLE_CONTACTS_CONNECTOR]:"connector_c0f748249d6a42aea4b00fd375570ded",[R.OUTLOOK_EMAIL_CONNECTOR]:"connector_4aaab2856305417b993eca9a216aaf6e",[R.OUTLOOK_CALENDAR_CONNECTOR]:"connector_e6a7394682e24467ac68c60696f275a4",[R.BOX_CONNECTOR]:"connector_2fc94c70cbb74b7caa6d07bf7231202e",[R.INTERCOM_CONNECTOR]:"connector_25f8569426254c019971d2481ddda775",[R.NOTION_CONNECTOR]:"connector_37316be7febe4224b3d31465bae4dbd7",[R.CANVA_CONNECTOR]:"connector_ef718304ffe64e31947b71887e3d51fa",[R.SLACK_CONNECTOR]:"connector_0f9c9d4592e54d0a9a12b3f44a1e2010",[R.SLACK_CODEX_CONNECTOR]:vv,[R.SLACK_CODEX_BOT_CONNECTOR]:yv,[R.LINEAR_CODEX_BOT_CONNECTOR]:Ev,[R.CONFLUENCE_CONNECTOR]:"connector_258b4e1b0cb61498ac3907daf4072fa7",[R.JIRA_CONNECTOR]:"connector_141ed0ff031248bb8e5b5584de945cef",[R.JIRA_SERVICEMANAGEMENT_CONNECTOR]:"connector_cfcd99fd238d43c888544acd294b3f31"},sr={connector_5f3c8c41a1e54ad7a76272c89e2554fa:R.GDRIVE_ACTION_CONNECTOR,connector_76869538009648d5b282a4bb21c3d157:R.GITHUB_CONNECTOR,connector_686fad9b54914a35b75be6d06a0f6f31:R.LINEAR_CONNECTOR,connector_14e85e16800b4e53bc6246019a83a307:R.DROPBOX_CONNECTOR,connector_2a3c0c472f6f4238b47d41acfb317307:R.HUBSPOT_CONNECTOR,connector_6095bdb01e9482eb0cac719f6ba313cd:R.SALESFORCE_CONNECTOR,connector_251970f16cb647d4b76fc445753f9276:R.AHA_CONNECTOR,connector_4886707321be47efb8b9369ebb877881:R.ASANA_CONNECTOR,connector_da257d66000a45c683fe44e411037409:R.AZURE_DEVOPS_CONNECTOR,connector_4d2f184d2773465f977823d8d03a059a:R.BASECAMP_CONNECTOR,connector_f9447fe87aae4b598f8ca9dc03483c9a:R.CLICKUP_CONNECTOR,connector_d38d1f35825b4ebebf977ff9fe20841e:R.FRONT_CONNECTOR,connector_0c9786b2f41f41558056126bdb46c9bd:R.GITLAB_CONNECTOR,connector_16ebbb3c9f7e449d94a61eb0473dd9dc:R.GORGIAS_CONNECTOR,connector_b969d12728c04baeb585eb9299be3b6d:R.HELP_SCOUT_CONNECTOR,connector_f317b2c679f84ad5b6f2af12fb6f609a:R.IRONCLAD_CONNECTOR,connector_36803b8cc4164d84aa3fbfc7ddb420e1:R.PIPEDRIVE_CONNECTOR,connector_7a9cae0e3c7c4fadb98be0028af7d346:R.SHORTCUT_CONNECTOR,connector_86de01a2aaf544b0a039013db9bcfae7:R.TEAMWORK_CONNECTOR,connector_30434c47d61341d69dc82aaffa23f5c6:R.ZENDESK_CONNECTOR,connector_fd0f007550a242459d6dd1f923668769:R.ZOHO_CONNECTOR,connector_bc42113c21de4f94a5b5259c2aa914f6:R.ZOHO_DESK_CONNECTOR,connector_1e4f6a44acf14e3ca1d96672f8c945bc:R.SHAREPOINT_CONNECTOR,connector_5ae2fd76f08447718080f11bc2faac6c:R.SHAREPOINT_ADMIN_CONNECTOR,connector_246af0940da3457da0e751171dc1ce60:R.TEAMS_CONNECTOR,connector_601cc22bb3b740599c7274cf7e8084e8:R.TEAMS_ADMIN_CONNECTOR,connector_947e0d954944416db111db556030eea6:R.GCAL_CONNECTOR,connector_2128aebfecb84f64a069897515042a44:R.GMAIL_CONNECTOR,connector_c0f748249d6a42aea4b00fd375570ded:R.GOOGLE_CONTACTS_CONNECTOR,connector_4aaab2856305417b993eca9a216aaf6e:R.OUTLOOK_EMAIL_CONNECTOR,connector_e6a7394682e24467ac68c60696f275a4:R.OUTLOOK_CALENDAR_CONNECTOR,connector_2fc94c70cbb74b7caa6d07bf7231202e:R.BOX_CONNECTOR,connector_25f8569426254c019971d2481ddda775:R.INTERCOM_CONNECTOR,connector_9f3d361ec84b4c6588a7129a2d4e3cb3:R.INTERCOM_CONNECTOR,connector_37316be7febe4224b3d31465bae4dbd7:R.NOTION_CONNECTOR,connector_1ee51bd730c272434e1b17c46f8a2397:R.NOTION_CONNECTOR,connector_ef718304ffe64e31947b71887e3d51fa:R.CANVA_CONNECTOR,connector_6887fff96c948190aa97fd69c3041dea:R.UAE_PASS_CONNECTOR,connector_0f9c9d4592e54d0a9a12b3f44a1e2010:R.SLACK_CONNECTOR,[vv]:R.SLACK_CODEX_CONNECTOR,[yv]:R.SLACK_CODEX_BOT_CONNECTOR,[Ev]:R.LINEAR_CODEX_BOT_CONNECTOR,connector_258b4e1b0cb61498ac3907daf4072fa7:R.CONFLUENCE_CONNECTOR,connector_141ed0ff031248bb8e5b5584de945cef:R.JIRA_CONNECTOR,connector_cfcd99fd238d43c888544acd294b3f31:R.JIRA_SERVICEMANAGEMENT_CONNECTOR,connector_6529c30f7e3590253d20626b8f971879:R.HUBSPOT_CONNECTOR},lHe=new Set([R.SHAREPOINT_ADMIN_CONNECTOR,R.TEAMS_ADMIN_CONNECTOR]);function ope(e){return Object.keys(sr).includes(e)}function ape(e){return!(e==="web"||e==="cloud"||e in Nt||e in e1)}function cpe(e){return typeof window<"u"?"".concat(window.location.origin,"/connector_platform_oauth_redirect"):""}const lpe="https://github.com/apps/chatgpt-codex-connector";function upe(e){return"".concat(lpe,"/").concat(e)}const uHe={[R.GITHUB_CONNECTOR]:rt.GitHub,[R.GDRIVE_ACTION_CONNECTOR]:rt.GoogleDrive,[R.DROPBOX_CONNECTOR]:rt.Dropbox,[R.LINEAR_CONNECTOR]:rt.Linear,[R.SHAREPOINT_CONNECTOR]:rt.Sharepoint,[R.TEAMS_CONNECTOR]:rt.Teams,[R.OUTLOOK_EMAIL_CONNECTOR]:rt.OutlookEmail,[R.OUTLOOK_CALENDAR_CONNECTOR]:rt.OutlookCalendar,[R.BOX_CONNECTOR]:rt.Box,[R.INTERCOM_CONNECTOR]:rt.Intercom,[R.GCAL_CONNECTOR]:rt.GoogleCalendar,[R.GMAIL_CONNECTOR]:rt.Gmail,[R.GOOGLE_CONTACTS_CONNECTOR]:rt.GoogleContacts,[R.HUBSPOT_CONNECTOR]:rt.Hubspot,[R.SALESFORCE_CONNECTOR]:rt.Salesforce,[R.AHA_CONNECTOR]:rt.Aha,[R.ASANA_CONNECTOR]:rt.Asana,[R.AZURE_DEVOPS_CONNECTOR]:rt.AzureDevOps,[R.BASECAMP_CONNECTOR]:rt.Basecamp,[R.CLICKUP_CONNECTOR]:rt.Clickup,[R.FRONT_CONNECTOR]:rt.Front,[R.GITLAB_CONNECTOR]:rt.Gitlab,[R.GORGIAS_CONNECTOR]:rt.Gorgias,[R.HELP_SCOUT_CONNECTOR]:rt.HelpScout,[R.IRONCLAD_CONNECTOR]:rt.Ironclad,[R.PIPEDRIVE_CONNECTOR]:rt.Pipedrive,[R.SHORTCUT_CONNECTOR]:rt.Shortcut,[R.TEAMWORK_CONNECTOR]:rt.Teamwork,[R.ZENDESK_CONNECTOR]:rt.Zendesk,[R.ZOHO_CONNECTOR]:rt.Zoho,[R.ZOHO_DESK_CONNECTOR]:rt.ZohoDesk,[R.CANVA_CONNECTOR]:rt.Canva,[R.NOTION_CONNECTOR]:rt.Notion,[R.SLACK_CONNECTOR]:rt.Slack,[R.SLACK_CODEX_CONNECTOR]:rt.Slack,[R.CONFLUENCE_CONNECTOR]:rt.Confluence,[R.JIRA_CONNECTOR]:rt.Jira,[R.JIRA_SERVICEMANAGEMENT_CONNECTOR]:rt.JiraServiceManagement,[R.SLACK_CODEX_BOT_CONNECTOR]:rt.Slack,[R.LINEAR_CODEX_BOT_CONNECTOR]:rt.Linear},dpe=e=>[...Object.values(R),...Object.values(dm)].includes(e)?e:null,dHe=e=>e.map(t=>dpe(t)).filter(t=>t!=null);async function fpe({redirectUri:e,connectorPlatformParams:t,redirectTo:n,onError:r,openPopup:s=!1,toaster:i,intl:o,productSku:a}){var f,h;ve.logEventWithStatsig("Connector OAuth Connect","chatgpt_connectors_oauth_connect_initiated",{event:"start",type:t.connectorId});const{ConnectorsAnalytics:c}=await ne(async()=>{const{ConnectorsAnalytics:p}=await Promise.resolve().then(()=>cDe);return{ConnectorsAnalytics:p}},void 0),l=Bt(),u=(f=r$())!=null?f:"unknown_referrer",d=c.createIdMetadataFromId(l,t.connectorId,u);c.logOAuthInitiated({connector_id_metadata:d,referrer:u,authType:"OAUTH",scopes:t.oauthClientScopes});try{const p={connector_id:t.connectorId,oauth_client_id:t.oauthClientId,name:t.name,action_names:t.actionNames,requested_scopes:t.oauthClientScopes,callback_url:e,post_auth_url:n,slack_team_id:(h=t.slackTeamId)!=null?h:void 0,link_params:t.linkParams&&Object.keys(t.linkParams).length>0?t.linkParams:void 0,tool_settings:t.toolSettings,action_param_schemas:t.actionParamSchemas};let _=await Y.safePost("/aip/connectors/links/oauth",{requestBody:p,additionalHeaders:a?{[jt]:a}:void 0});_.email_challenge_sent&&await new Promise((v,O)=>{const S=Bt();let E=!1;Xs(S,LD,{onVerify:async T=>{_=await Y.safePost("/aip/connectors/links/oauth",{requestBody:I(b({},p),{otp_code:T}),additionalHeaders:a?{[jt]:a}:void 0}),E=!0,nN(S,LD),v()},onResendOtp:async()=>{await Y.safePost("/aip/connectors/links/oauth",{requestBody:p,additionalHeaders:a?{[jt]:a}:void 0})},onClose:()=>{E||O(null)}})});let m=null;ope(t.connectorId)&&sr[t.connectorId]===R.HUBSPOT_CONNECTOR?m=_.redirect_url+"&utm_source=chatgpt":m=_.redirect_url;let y=null;if(s&&(y=window.open("about:blank","_blank")),!y)window.location.href=m;else if(y)return y.location.href=m,new Promise(v=>{const O=S=>{const{error:E,errorDesc:T,errorType:A,connectorId:w,success:N,linkId:P}=S.data;if(S.origin===window.location.origin&&!(w&&t.connectorId!==w)){if(N)ve.logEventWithStatsig("Connector OAuth Connect","chatgpt_connectors_oauth_connect_success",{success:!0,type:t.connectorId}),c.logOAuthCompleted({connector_id_metadata:d,referrer:u,authType:"OAUTH",scopes:t.oauthClientScopes,success:!0}),i==null||i.success(o.formatMessage(FS.createLinkSuccess,{connectorName:t.name})),v({success:!0,linkId:P,message:""});else{ve.logEventWithStatsig("Connector OAuth Connect","chatgpt_connectors_oauth_connect_error",{success:!1,type:t.connectorId,errorType:A}),A!=="oauth_failed_scope_mismatch"&&(i==null||i.danger(o.formatMessage(FS.createLinkError,{connectorName:t.name}),{toastId:"connector_oauth_connect",loggingTitle:FS.createLinkError.defaultMessage,loggingDescription:"Failed to link connector"}));const x="".concat(E).concat(T?": ".concat(T):"");c.logOAuthCompleted({connector_id_metadata:d,referrer:u,authType:"OAUTH",scopes:t.oauthClientScopes,success:!1,errorType:A,errorMessage:x}),v({errorType:A,success:N,message:x})}E_.removeEventListener("message",O,!1)}};E_.addEventListener("message",O,!1),y.addEventListener("beforeunload",()=>{E_.removeEventListener("message",O,!1)})})}catch(p){if(r)r(p);else throw p}}const fHe={box:R.BOX_CONNECTOR,dropbox:R.DROPBOX_CONNECTOR,github:R.GITHUB_CONNECTOR,gmail:R.GMAIL_CONNECTOR,"google drive":R.GDRIVE_ACTION_CONNECTOR,"google calendar":R.GCAL_CONNECTOR,outlook:R.OUTLOOK_EMAIL_CONNECTOR,"outlook email":R.OUTLOOK_EMAIL_CONNECTOR,"outlook calendar":R.OUTLOOK_CALENDAR_CONNECTOR,sharepoint:R.SHAREPOINT_CONNECTOR,linear:R.LINEAR_CONNECTOR,teams:R.TEAMS_CONNECTOR,intercom:R.INTERCOM_CONNECTOR,hubspot:R.HUBSPOT_CONNECTOR,salesforce:R.SALESFORCE_CONNECTOR,notion:R.NOTION_CONNECTOR,canva:R.CANVA_CONNECTOR,slack:R.SLACK_CONNECTOR,confluence:R.CONFLUENCE_CONNECTOR,jira:R.JIRA_CONNECTOR,"jira service management":R.JIRA_SERVICEMANAGEMENT_CONNECTOR,slack_codex_connector:R.SLACK_CODEX_CONNECTOR,slack_codex_bot_connector:R.SLACK_CODEX_BOT_CONNECTOR,linear_codex_bot_connector:R.LINEAR_CODEX_BOT_CONNECTOR},FS=At({createLinkSuccess:{id:"KVbj6o",defaultMessage:"{connectorName} is now connected."},createLinkError:{id:"Y6p1d0",defaultMessage:"There was a problem connecting {connectorName}. Try again later."}});function Dp(e){switch(e){case R.GOOGLE_CONTACTS_CONNECTOR:return"gcontacts";case R.GMAIL_CONNECTOR:return"gmail";case R.GCAL_CONNECTOR:return"gcal";default:return null}}function hpe(e){switch(e){case"gmail":return R.GMAIL_CONNECTOR;case"gcal":return R.GCAL_CONNECTOR;case"gcontacts":return R.GOOGLE_CONTACTS_CONNECTOR;default:return null}}function hHe(e,t){var n,r,s,i,o,a;switch(e){case"gmail":return Nt[R.GMAIL_CONNECTOR];case"gcal":return Nt[R.GCAL_CONNECTOR];case"gcontacts":return Nt[R.GOOGLE_CONTACTS_CONNECTOR];case"api_tool":{const c=(s=(r=(n=t==null?void 0:t[t.length-1])==null?void 0:n.metadata)==null?void 0:r.jit_plugin_data)==null?void 0:s.from_server;return(c==null?void 0:c.type)==="oauth_required"?(i=c.body.connector_id)!=null?i:null:(c==null?void 0:c.type)==="link_required"?(o=c.body.connector_id)!=null?o:null:(c==null?void 0:c.type)==="confirm_action"&&(a=c.body.connector_id)!=null?a:null}default:return null}}const ppe={aha_sync_connector:"Aha!",asana_sync_connector:"Asana",azure_devops_sync_connector:"Azure DevOps",basecamp_sync_connector:"Basecamp",box_sync_connector:"Box",dropbox_sync_connector:"Dropbox",github_sync_connector:"GitHub",gdrive_sync_connector:"Google Drive",clickup_sync_connector:"ClickUp",notion_sync_connector:"Notion",slack_sync_connector:"Slack",sharepoint_sync_connector:"SharePoint",sharepoint_admin_sync_connector:"SharePoint",teams_sync_connector:"Microsoft Teams",teams_admin_sync_connector:"Microsoft Teams",linear_sync_connector:"Linear",jira_sync_connector:"Jira",jira_servicemanagement_sync_connector:"Jira Service Management",confluence_sync_connector:"Confluence",intercom_sync_connector:"Intercom",hubspot_sync_connector:"HubSpot",salesforce_sync_connector:"Salesforce",front_sync_connector:"Front",gitlab_sync_connector:"GitLab",gorgias_sync_connector:"Gorgias",helpscout_sync_connector:"Help Scout",ironclad_sync_connector:"Ironclad",pipedrive_sync_connector:"Pipedrive",shortcut_sync_connector:"Shortcut",teamwork_sync_connector:"Teamwork",zendesk_sync_connector:"Zendesk",zoho_sync_connector:"Zoho",zoho_desk_sync_connector:"Zoho Desk"},_pe=e=>{var t;return(t=ppe[e.user_connection_details.connection_type])!=null?t:e.connection_display_info.display_name},LD=Wn(()=>ne(()=>import("./n3blwp27s38c9xr4.js"),__vite__mapDeps([12,1,13,14,2,3,15])).then(e=>e.ConnectorEmailVerifyModal)),mpe=[re.Slurm,re.Research,iN],DD="cloud",i$=e=>[...e.values()].some(r=>r==null?void 0:r.has(DD))?new Map([...e].map(([r,s])=>[r,new Set([...s].filter(i=>i!==DD))])):new Map(e),gpe=e=>{const t=new Map([[void 0,new Set(Object.keys(e1))],[re.Slurm,new Set(Object.keys(e1))],[re.Research,new Set(["web"])],[iN,new Set(["web"])]]);try{const n=vpe(e);n&&n.forEach((r,s)=>{mpe.includes(s)&&t.set(s,new Set(r))})}catch(n){}return t},o$="v1.1",a$=e=>{var n;const t=an.getItem(Wt.SelectedSources,e);if(!t)return{};try{const{version:r,data:s}=JSON.parse(t);if(r!==o$)return an.removeItem(Wt.SelectedSources),{};const i=new Map([...s.selected_sources].map(([a,c])=>[a,new Set(c)])),o=new Map(((n=s.selected_mcp_sources)!=null?n:[]).map(([a,c])=>[a,new Set(c)]));return{selectedSources:i,selectedMCPSources:o}}catch(r){return{}}},vpe=e=>{const t=a$(e).selectedSources;return i$(t!=null?t:new Map)},ype=e=>a$(e).selectedMCPSources,Epe=e=>{const t=ype(e);return t&&t.delete(re.Glaux),t!=null?t:new Map},pHe=({selectedSourcesMap:e,selectedMCPSourcesMap:t,scope:n})=>{if(!e&&!t){an.removeItem(Wt.SelectedSources);return}const r=i$(e!=null?e:new Map),s={selected_sources:[...r!=null?r:new Map].map(([o,a])=>[o,[...a]]),selected_mcp_sources:[...t!=null?t:new Map].map(([o,a])=>[o,[...a]])},i={version:o$,data:s};an.setItem(Wt.SelectedSources,JSON.stringify(i),n)},Cpe="placeholder-";function FD(e){return e.startsWith(Cpe)}var Ft;const ec=class ec{constructor(t){kt(this,Ft);U(this,"rootId");const n={};let r;for(const s of t)n[s.id]=s,!r&&s.message.author.role===je.Root&&(r=s.id);if(!r)throw new Error("Missing root node");zt(this,Ft,n),this.rootId=r}static emptyTree(){return new ec([ec.createRootNode("client-created-root")])}static createNode(t,n,r=[],s){const i=s!=null?s:t.id;if(i===n)throw new Error("createNode: parent.id and node.id cannot be the same: ".concat(i));return{id:i,parentId:n,children:r,message:t}}static createRootNode(t){const n={id:t,author:{role:je.Root},content:{content_type:Be.Text,parts:[]}};return ec.createNode(n,"")}get nodes(){return Object.values(pe(this,Ft))}messageIdToNodeId(t){var n;return(n=this.messageIdToExistingNodeId(t))!=null?n:t}messageIdToExistingNodeId(t){var n;if(pe(this,Ft)[t]!=null)return t;for(const r of Object.values(pe(this,Ft)))if(((n=r.message)==null?void 0:n.id)===t)return c$(r.id,r.message.id),r.id}containsNodeOrMessageId(t){return this.messageIdToExistingNodeId(t)!=null}getNodeByIdOrMessageId(t){const n=this.getNodeIfExists(t);if(n)return n;const r=FD(t);throw ve.logEventWithStatsig("chatgpt_conversation_tree__node_not_found","chatgpt_web_conversation_tree_node_not_found",{rootId:this.rootId,nodeOrMessageId:t,isNodeStartWithPlaceholder:r}),xn.count(bn.DEFAULT,"chatgpt_web_conversation_tree_node_not_found",[{key:"isNodeStartWithPlaceholder",value:r?"true":"false"}]),K.addError(new Error("web client getNodeByIdOrMessageId - no node found by id ".concat(t," isNodeStartWithPlaceholder: ").concat(r))),new Error("getNodeByIdOrMessageId - no node found by id: ".concat(t))}getNodeIfExists(t){const n=this.messageIdToExistingNodeId(t);if(n)return pe(this,Ft)[n]}findNode(t,n,r=this.rootId){const s=this.getNodeIfExists(r);let i=this.getNodeIfExists(n);for(;s&&i&&i!==s;){if(t(i))return i;i=this.getNodeIfExists(i.parentId)}}findFirst(t){let n=this.getNodeByIdOrMessageId(this.rootId);for(;n&&n.children.length===1;)if(n=this.getNodeByIdOrMessageId(n.children[0]),t(n))return n}findFirstFromLeaf(t,n){let r,s=this.getNodeByIdOrMessageId(n);for(;s;)t(s)&&(r=s),s=this.getNodeIfExists(s.parentId);return r}findFirstFromLeafToParent(t,n,r){let s,i=this.getNodeByIdOrMessageId(n);for(;i&&(t(i)&&(s=i),i.parentId!==r);)i=this.getNodeIfExists(i.parentId);return s}getLeafFromNode(t){let n=this.getNodeByIdOrMessageId(t);for(;n.children.length>0;)n=this.getNodeByIdOrMessageId(n.children[0]);return n}getLeafFromNodeAvoidingPlaceholders(t){let n=this.getNodeByIdOrMessageId(t);for(;n.children.length>0;){const r=n.children.find(s=>!FD(s));r?n=this.getNodeByIdOrMessageId(r):n=this.getNodeByIdOrMessageId(n.children[0])}return n}getDescendants(t){const n=[],r=[t];for(;r.length>0;){const s=r.shift();if(!s)break;const i=this.getNodeByIdOrMessageId(s);r.push(...i.children),n.push(...i.children)}return n}getParent(t){const n=this.getNodeByIdOrMessageId(t).parentId;return this.getNodeByIdOrMessageId(n)}getBranchFromLeaf(t){let n=[],r=this.getNodeByIdOrMessageId(t);for(;r!=null;){if(n.includes(r)){K.addError("Infinite loop detected in getBranchFromLeaf. Branch already contains node ".concat(r==null?void 0:r.id,". Parent id: ").concat(r==null?void 0:r.parentId,"."),{branch:n});break}if(n.push(r),r.message.author.role===je.Root)break;r=this.getNodeByIdOrMessageId(r.parentId)}return n=n.reverse(),n}addMessageNode(t,n){const r=this.messageIdToNodeId(n.id),s=this.getNodeByIdOrMessageId(t),i=ec.createNode(n,s.id,[],r);return zt(this,Ft,Ss(pe(this,Ft),o=>{o[i.id]=i;const a=o[i.parentId];a.children.includes(i.id)||a.children.push(i.id)})),i.id}prependNode(t,n){const r=this.messageIdToNodeId(n.id),s=this.getNodeByIdOrMessageId(t),i=ec.createNode(n,s.parentId,[s.id],r);zt(this,Ft,Ss(pe(this,Ft),o=>{o[i.id]=i;const a=o[i.parentId];a.children=a.children.filter(l=>l!==s.id),a.children.includes(i.id)||a.children.push(i.id);const c=o[s.id];c.parentId=i.id}))}deleteNode(t){const n=this.getNodeByIdOrMessageId(t);zt(this,Ft,Ss(pe(this,Ft),r=>{const s=n.parentId,i=n.children;for(const a of i){const c=r[this.messageIdToNodeId(a)];c.parentId=s}const o=r[this.messageIdToNodeId(s)];if(o==null){console.warn("Cannot deleteNode with nodeId: ".concat(t," - parent not found. Either this is root or in an orphaned branch"));return}o.children=o.children.flatMap(a=>this.messageIdToNodeId(a)===this.messageIdToNodeId(n.id)?i:[a]),delete r[n.id]}))}moveNode(t,n){zt(this,Ft,Ss(pe(this,Ft),r=>{const s=this.getDescendants(n);if(s.includes(t)){K.addError("Cannot moveNode with nodeId: ".concat(n," - new parent is already a descendant."),{parentId:t,descendants:s});return}const i=r[this.messageIdToNodeId(n)],o=r[this.messageIdToNodeId(i.parentId)];if(o==null){console.warn("Cannot moveNode with nodeId: ".concat(n," - old parent not found. Either this is root or in an orphaned branch"));return}o.children=o.children.filter(c=>c!==i.id);const a=r[this.messageIdToNodeId(t)];if(a==null){console.warn("Cannot moveNode with nodeId: ".concat(n," - new parent not found."));return}a.children.includes(i.id)||a.children.push(i.id),i.parentId=t}))}clearNodeMessageParts(t){zt(this,Ft,Ss(pe(this,Ft),n=>{const r=n[this.messageIdToNodeId(t)];r&&r.message&&"parts"in r.message.content&&(r.message.content.parts=[])}))}updateNodeMetadata(t,n){zt(this,Ft,Ss(pe(this,Ft),r=>{const s=r[this.messageIdToNodeId(t)];s&&(s.message.clientMetadata=b(b({},s==null?void 0:s.message.clientMetadata),n))}))}updateNodeMessage(t,n){zt(this,Ft,Ss(pe(this,Ft),r=>{const s=r[this.messageIdToNodeId(t)];if(s){const i=s.message.clientMetadata;s.message=i?I(b({},n),{clientMetadata:i}):n}}))}updateNodeMessageMetadata(t,n){zt(this,Ft,Ss(pe(this,Ft),r=>{const s=r[this.messageIdToNodeId(t)];s&&(s.message.metadata=b(b({},s.message.metadata),n))}))}prettyPrint(t=this.rootId,n=0){const r=this.getNodeByIdOrMessageId(t),s=x9(r.message);let i="".concat("	".repeat(n),"->").concat(t," - ").concat(s.replaceAll("\n","\\n"),"\n");const o=r.children.map(a=>this.getNodeByIdOrMessageId(a));for(const a of o)i+=this.prettyPrint(a.id,n+1);return i}};Ft=new WeakMap;let Uc=ec;const UD=new Set;function c$(e,t,n){const r=new Error("Found TreeNode where message.id ".concat(t," != node.id ").concat(e));console.warn(r),UD.has(e)||(UD.add(e),n?K.addAction("tree_node_id_mismatch_api",{nodeId:e,messageId:t,conversationId:n}):K.addAction("tree_node_id_mismatch_client",{nodeId:e,messageId:t}))}function Spe(e,t){var a;const n=new Set,r=new Set,s=new Set,i=new Map;return((a=e.moderation_results)!=null?a:[]).forEach(c=>{var l;i.set(c.message_id,c),c.blocked?r.add(c.message_id):c.flagged&&n.add(c.message_id),(l=c.disclaimers)!=null&&l.length&&!c.blocked&&s.add(c.message_id)}),{nodes:Object.values(e.mapping).map(({id:c,parent:l,children:u,message:d})=>{var m,y,v,O,S,E;if(!l)return Uc.createRootNode(c);if(!d)throw new Error("Missing message for node ".concat(c));c!==d.id&&c$(c,d.id,t);const f={},h=i.get(d.id);let p=!1;if(r.has(d.id)){const T=(m=h==null?void 0:h.should_disable_conversation)!=null?m:!1,A=(v=(y=h==null?void 0:h.metadata)==null?void 0:y.model_incompatibility)!=null?v:!1,w=(S=(O=h==null?void 0:h.metadata)==null?void 0:O.safety_limited)!=null?S:!1;Object.assign(f,{isSafetyLimited:w}),Object.assign(f,Ile({isSafetyLimited:w,shouldDisableConversation:T,isModelIncompatibility:A})),p=!0}else n.has(d.id)&&Object.assign(f,Sle);if(s.has(d.id)){const T=i.get(d.id);(E=T==null?void 0:T.disclaimers)!=null&&E.length&&Object.assign(f,Nle(T.disclaimers,p))}const _=I(b({},d),{clientMetadata:f});return Uc.createNode(_,l,u,c)},{}),initialCurrentLeafId:e.current_node}}var Fp={exports:{}},jD;function bpe(){if(jD)return Fp.exports;jD=1;var e=typeof Reflect=="object"?Reflect:null,t=e&&typeof e.apply=="function"?e.apply:function(E,T,A){return Function.prototype.apply.call(E,T,A)},n;e&&typeof e.ownKeys=="function"?n=e.ownKeys:Object.getOwnPropertySymbols?n=function(E){return Object.getOwnPropertyNames(E).concat(Object.getOwnPropertySymbols(E))}:n=function(E){return Object.getOwnPropertyNames(E)};function r(S){console&&console.warn&&console.warn(S)}var s=Number.isNaN||function(E){return E!==E};function i(){i.init.call(this)}Fp.exports=i,Fp.exports.once=y,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var o=10;function a(S){if(typeof S!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof S)}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(S){if(typeof S!="number"||S<0||s(S))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+S+".");o=S}}),i.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(E){if(typeof E!="number"||E<0||s(E))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+E+".");return this._maxListeners=E,this};function c(S){return S._maxListeners===void 0?i.defaultMaxListeners:S._maxListeners}i.prototype.getMaxListeners=function(){return c(this)},i.prototype.emit=function(E){for(var T=[],A=1;A<arguments.length;A++)T.push(arguments[A]);var w=E==="error",N=this._events;if(N!==void 0)w=w&&N.error===void 0;else if(!w)return!1;if(w){var P;if(T.length>0&&(P=T[0]),P instanceof Error)throw P;var x=new Error("Unhandled error."+(P?" ("+P.message+")":""));throw x.context=P,x}var D=N[E];if(D===void 0)return!1;if(typeof D=="function")t(D,this,T);else for(var M=D.length,F=p(D,M),A=0;A<M;++A)t(F[A],this,T);return!0};function l(S,E,T,A){var w,N,P;if(a(T),N=S._events,N===void 0?(N=S._events=Object.create(null),S._eventsCount=0):(N.newListener!==void 0&&(S.emit("newListener",E,T.listener?T.listener:T),N=S._events),P=N[E]),P===void 0)P=N[E]=T,++S._eventsCount;else if(typeof P=="function"?P=N[E]=A?[T,P]:[P,T]:A?P.unshift(T):P.push(T),w=c(S),w>0&&P.length>w&&!P.warned){P.warned=!0;var x=new Error("Possible EventEmitter memory leak detected. "+P.length+" "+String(E)+" listeners added. Use emitter.setMaxListeners() to increase limit");x.name="MaxListenersExceededWarning",x.emitter=S,x.type=E,x.count=P.length,r(x)}return S}i.prototype.addListener=function(E,T){return l(this,E,T,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(E,T){return l(this,E,T,!0)};function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(S,E,T){var A={fired:!1,wrapFn:void 0,target:S,type:E,listener:T},w=u.bind(A);return w.listener=T,A.wrapFn=w,w}i.prototype.once=function(E,T){return a(T),this.on(E,d(this,E,T)),this},i.prototype.prependOnceListener=function(E,T){return a(T),this.prependListener(E,d(this,E,T)),this},i.prototype.removeListener=function(E,T){var A,w,N,P,x;if(a(T),w=this._events,w===void 0)return this;if(A=w[E],A===void 0)return this;if(A===T||A.listener===T)--this._eventsCount===0?this._events=Object.create(null):(delete w[E],w.removeListener&&this.emit("removeListener",E,A.listener||T));else if(typeof A!="function"){for(N=-1,P=A.length-1;P>=0;P--)if(A[P]===T||A[P].listener===T){x=A[P].listener,N=P;break}if(N<0)return this;N===0?A.shift():_(A,N),A.length===1&&(w[E]=A[0]),w.removeListener!==void 0&&this.emit("removeListener",E,x||T)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(E){var T,A,w;if(A=this._events,A===void 0)return this;if(A.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):A[E]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete A[E]),this;if(arguments.length===0){var N=Object.keys(A),P;for(w=0;w<N.length;++w)P=N[w],P!=="removeListener"&&this.removeAllListeners(P);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(T=A[E],typeof T=="function")this.removeListener(E,T);else if(T!==void 0)for(w=T.length-1;w>=0;w--)this.removeListener(E,T[w]);return this};function f(S,E,T){var A=S._events;if(A===void 0)return[];var w=A[E];return w===void 0?[]:typeof w=="function"?T?[w.listener||w]:[w]:T?m(w):p(w,w.length)}i.prototype.listeners=function(E){return f(this,E,!0)},i.prototype.rawListeners=function(E){return f(this,E,!1)},i.listenerCount=function(S,E){return typeof S.listenerCount=="function"?S.listenerCount(E):h.call(S,E)},i.prototype.listenerCount=h;function h(S){var E=this._events;if(E!==void 0){var T=E[S];if(typeof T=="function")return 1;if(T!==void 0)return T.length}return 0}i.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function p(S,E){for(var T=new Array(E),A=0;A<E;++A)T[A]=S[A];return T}function _(S,E){for(;E+1<S.length;E++)S[E]=S[E+1];S.pop()}function m(S){for(var E=new Array(S.length),T=0;T<E.length;++T)E[T]=S[T].listener||S[T];return E}function y(S,E){return new Promise(function(T,A){function w(P){S.removeListener(E,N),A(P)}function N(){typeof S.removeListener=="function"&&S.removeListener("error",w),T([].slice.call(arguments))}O(S,E,N,{once:!0}),E!=="error"&&v(S,w,{once:!0})})}function v(S,E,T){typeof S.on=="function"&&O(S,"error",E,T)}function O(S,E,T,A){if(typeof S.on=="function")A.once?S.once(E,T):S.on(E,T);else if(typeof S.addEventListener=="function")S.addEventListener(E,function w(N){A.once&&S.removeEventListener(E,w),T(N)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof S)}return Fp.exports}var Tpe=bpe();const Ope=$t(Tpe);class eI{constructor(){U(this,"emitter",new Ope);this.emitter.setMaxListeners(1e3)}on(t,n){return this.emitter.on(t,n),()=>{this.emitter.off(t,n)}}off(t,n){this.emitter.off(t,n)}publish(t){this.emitter.emit(t.kind,t),this.emitter.emit("anyEvent",t)}}const Ape=new eI;function zu(e,t,n=Object.is){if(e===t)return!0;if(typeof e!="object"||e==null||typeof t!="object"||t==null)return n(e,t);if(Array.isArray(e)&&Array.isArray(t)){const s=e.length;if(t.length!==s)return!1;for(let i=0;i<s;i++)if(!n(e[i],t[i]))return!1;return!0}const r=Object.getPrototypeOf(e);if(Object.getPrototypeOf(t)!==r)return!1;if(e instanceof Map){const s=t;if(e.size!==s.size)return!1;for(const[i,o]of e.entries())if(!n(o,s.get(i)))return!1;return!0}if(Symbol.iterator in e&&Symbol.iterator in t){const s=e,o=t[Symbol.iterator]();for(const a of s){const c=o.next();if(c.done||!n(a,c.value))return!1}return o.next().done===!0}if(r===Object.prototype||r==null){const s=e,i=t,o=Object.keys(s),a=o.length;if(Object.keys(i).length!==a)return!1;for(let c=0;c<a;++c){const l=o[c];if(!Object.prototype.hasOwnProperty.call(i,l)||!n(s[l],i[l]))return!1}return!0}return!1}var US,BD;function wpe(){if(BD)return US;BD=1;function e(t){for(var n=-1,r=t==null?0:t.length,s=0,i=[];++n<r;){var o=t[n];o&&(i[s++]=o)}return i}return US=e,US}var Npe=wpe();const l$=$t(Npe),Ipe="text/plain",Ppe="us-ascii",jS=(e,t)=>t.some(n=>n instanceof RegExp?n.test(e):n===e),Rpe=new Set(["https:","http:","file:"]),xpe=e=>{try{const{protocol:t}=new URL(e);return t.endsWith(":")&&!t.includes(".")&&!Rpe.has(t)}catch(t){return!1}},Mpe=(e,{stripHash:t})=>{var d,f;const n=new RegExp("^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$").exec(e);if(!n)throw new Error("Invalid URL: ".concat(e));let{type:r,data:s,hash:i}=n.groups;const o=r.split(";");i=t?"":i;let a=!1;o[o.length-1]==="base64"&&(o.pop(),a=!0);const c=(f=(d=o.shift())==null?void 0:d.toLowerCase())!=null?f:"",u=[...o.map(h=>{let[p,_=""]=h.split("=").map(m=>m.trim());return p==="charset"&&(_=_.toLowerCase(),_===Ppe)?"":"".concat(p).concat(_?"=".concat(_):"")}).filter(Boolean)];return a&&u.push("base64"),(u.length>0||c&&c!==Ipe)&&u.unshift(c),"data:".concat(u.join(";"),",").concat(a?s.trim():s).concat(i?"#".concat(i):"")};function kpe(e,t){if(t=b({defaultProtocol:"http",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripTextFragment:!0,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeSingleSlash:!0,removeDirectoryIndex:!1,removeExplicitPort:!1,sortQueryParameters:!0},t),typeof t.defaultProtocol=="string"&&!t.defaultProtocol.endsWith(":")&&(t.defaultProtocol="".concat(t.defaultProtocol,":")),e=e.trim(),/^data:/i.test(e))return Mpe(e,t);if(xpe(e))return e;const n=e.startsWith("//");!n&&/^\.*\//.test(e)||(e=e.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,t.defaultProtocol));const s=new URL(e);if(t.forceHttp&&t.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");if(t.forceHttp&&s.protocol==="https:"&&(s.protocol="http:"),t.forceHttps&&s.protocol==="http:"&&(s.protocol="https:"),t.stripAuthentication&&(s.username="",s.password=""),t.stripHash?s.hash="":t.stripTextFragment&&(s.hash=s.hash.replace(/#?:~:text.*?$/i,"")),s.pathname){const o=/\b[a-z][a-z\d+\-.]{1,50}:\/\//g;let a=0,c="";for(;;){const u=o.exec(s.pathname);if(!u)break;const d=u[0],f=u.index,h=s.pathname.slice(a,f);c+=h.replace(/\/{2,}/g,"/"),c+=d,a=f+d.length}const l=s.pathname.slice(a,s.pathname.length);c+=l.replace(/\/{2,}/g,"/"),s.pathname=c}if(s.pathname)try{s.pathname=decodeURI(s.pathname).replace(/\\/g,"%5C")}catch(o){}if(t.removeDirectoryIndex===!0&&(t.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(t.removeDirectoryIndex)&&t.removeDirectoryIndex.length>0){let o=s.pathname.split("/");const a=o[o.length-1];jS(a,t.removeDirectoryIndex)&&(o=o.slice(0,-1),s.pathname=o.slice(1).join("/")+"/")}if(s.hostname&&(s.hostname=s.hostname.replace(/\.$/,""),t.stripWWW&&/^www\.(?!www\.)[a-z\-\d]{1,63}\.[a-z.\-\d]{2,63}$/.test(s.hostname)&&(s.hostname=s.hostname.replace(/^www\./,""))),Array.isArray(t.removeQueryParameters))for(const o of[...s.searchParams.keys()])jS(o,t.removeQueryParameters)&&s.searchParams.delete(o);if(!Array.isArray(t.keepQueryParameters)&&t.removeQueryParameters===!0&&(s.search=""),Array.isArray(t.keepQueryParameters)&&t.keepQueryParameters.length>0)for(const o of[...s.searchParams.keys()])jS(o,t.keepQueryParameters)||s.searchParams.delete(o);if(t.sortQueryParameters){s.searchParams.sort();try{s.search=decodeURIComponent(s.search)}catch(o){}}t.removeTrailingSlash&&(s.pathname=s.pathname.replace(/\/$/,"")),t.removeExplicitPort&&s.port&&(s.port="");const i=e;return e=s.toString(),!t.removeSingleSlash&&s.pathname==="/"&&!i.endsWith("/")&&s.hash===""&&(e=e.replace(/\/$/,"")),(t.removeTrailingSlash||s.pathname==="/")&&s.hash===""&&t.removeSingleSlash&&(e=e.replace(/\/$/,"")),n&&!t.normalizeProtocol&&(e=e.replace(/^http:\/\//,"//")),t.stripProtocol&&(e=e.replace(/^(?:https?:)?\/\//,"")),e}const Lpe={},Dpe=e=>(t,n,r)=>{const s=r.subscribe;return r.subscribe=(o,a,c)=>{let l=o;if(a){const u=(c==null?void 0:c.equalityFn)||Object.is;let d=o(r.getState());l=f=>{const h=o(f);if(!u(d,h)){const p=d;a(d=h,p)}},c!=null&&c.fireImmediately&&a(d,d)}return s(l)},e(t,n,r)},Fpe=Dpe;function Upe(e,t){let n;try{n=e()}catch(s){return}return{getItem:s=>{var i;const o=c=>c===null?null:JSON.parse(c,void 0),a=(i=n.getItem(s))!=null?i:null;return a instanceof Promise?a.then(o):o(a)},setItem:(s,i)=>n.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>n.removeItem(s)}}const If=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return If(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return If(r)(n)}}}},jpe=(e,t)=>(n,r,s)=>{let i=b({getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:m=>m,version:0,merge:(m,y)=>b(b({},y),m)},t),o=!1;const a=new Set,c=new Set;let l;try{l=i.getStorage()}catch(m){}if(!l)return e((...m)=>{console.warn("[zustand persist middleware] Unable to update item '".concat(i.name,"', the given storage is currently unavailable.")),n(...m)},r,s);const u=If(i.serialize),d=()=>{const m=i.partialize(b({},r()));let y;const v=u({state:m,version:i.version}).then(O=>l.setItem(i.name,O)).catch(O=>{y=O});if(y)throw y;return v},f=s.setState;s.setState=(m,y)=>{f(m,y),d()};const h=e((...m)=>{n(...m),d()},r,s);let p;const _=()=>{var m;if(!l)return;o=!1,a.forEach(v=>v(r()));const y=((m=i.onRehydrateStorage)==null?void 0:m.call(i,r()))||void 0;return If(l.getItem.bind(l))(i.name).then(v=>{if(v)return i.deserialize(v)}).then(v=>{if(v)if(typeof v.version=="number"&&v.version!==i.version){if(i.migrate)return i.migrate(v.state,v.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return v.state}).then(v=>{var O;return p=i.merge(v,(O=r())!=null?O:h),n(p,!0),d()}).then(()=>{y==null||y(p,void 0),o=!0,c.forEach(v=>v(p))}).catch(v=>{y==null||y(void 0,v)})};return s.persist={setOptions:m=>{i=b(b({},i),m),m.getStorage&&(l=m.getStorage())},clearStorage:()=>{l==null||l.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>_(),hasHydrated:()=>o,onHydrate:m=>(a.add(m),()=>{a.delete(m)}),onFinishHydration:m=>(c.add(m),()=>{c.delete(m)})},_(),p||h},Bpe=(e,t)=>(n,r,s)=>{let i=b({storage:Upe(()=>localStorage),partialize:_=>_,version:0,merge:(_,m)=>b(b({},m),_)},t),o=!1;const a=new Set,c=new Set;let l=i.storage;if(!l)return e((..._)=>{console.warn("[zustand persist middleware] Unable to update item '".concat(i.name,"', the given storage is currently unavailable.")),n(..._)},r,s);const u=()=>{const _=i.partialize(b({},r()));return l.setItem(i.name,{state:_,version:i.version})},d=s.setState;s.setState=(_,m)=>{d(_,m),u()};const f=e((..._)=>{n(..._),u()},r,s);s.getInitialState=()=>f;let h;const p=()=>{var _,m;if(!l)return;o=!1,a.forEach(v=>{var O;return v((O=r())!=null?O:f)});const y=((m=i.onRehydrateStorage)==null?void 0:m.call(i,(_=r())!=null?_:f))||void 0;return If(l.getItem.bind(l))(i.name).then(v=>{if(v)if(typeof v.version=="number"&&v.version!==i.version){if(i.migrate)return i.migrate(v.state,v.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return v.state}).then(v=>{var O;return h=i.merge(v,(O=r())!=null?O:f),n(h,!0),u()}).then(()=>{y==null||y(h,void 0),h=r(),o=!0,c.forEach(v=>v(h))}).catch(v=>{y==null||y(void 0,v)})};return s.persist={setOptions:_=>{i=b(b({},i),_),_.storage&&(l=_.storage)},clearStorage:()=>{l==null||l.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>p(),hasHydrated:()=>o,onHydrate:_=>(a.add(_),()=>{a.delete(_)}),onFinishHydration:_=>(c.add(_),()=>{c.delete(_)})},i.skipHydration||p(),h||f},Gpe=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((Lpe?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),jpe(e,t)):Bpe(e,t),Wpe=Gpe;function u$(e,t){var n,r;return(r=(n=e.findNode(s=>d$(s,t),t))==null?void 0:n.children)!=null?r:$pe}function Hpe(e,t){return u$(e,t).find(n=>{var r;return n===t||n===((r=e.findNode(s=>s.id===n||d$(s,t),t))==null?void 0:r.id)})}function d$(e,t){return e.id!==t&&(e.children.length>1||!Lc(e.message))}const $pe=Object.freeze([]);function qpe(){return"".concat(rN).concat(yr())}let Vpe=0;function _He(){return Vpe++}function Dh(e){return e.startsWith(rN)}const f$=()=>Uc.emptyTree(),zpe=new Set(Object.keys(sr)),h$=e=>{var n;const t=(n=e==null?void 0:e.metadata)==null?void 0:n.system_hints;return t!=null&&t.length?t.some(r=>typeof r=="string"&&zpe.has(r)):!1},p$=e=>e.nodes.some(t=>h$(t.message)),Ype=Object.freeze({});var Kpe=(e=>(e.NewChat="NewChat",e.Server="Server",e.User="User",e.Generated="Generated",e.Unknown="Unknown",e))(Kpe||{});const Es={};function Xpe(e,t){Es[e]&&(clearTimeout(Es[e]),delete Es[e]);const n=3e4;Es[e]=setTimeout(()=>{var i;const r=ci();if(r.threads[e]==null){clearTimeout(Es[e]),delete Es[e];return}if(((i=r.threadRetainCounts[e])!=null?i:0)>0){clearTimeout(Es[e]),delete Es[e];return}_$.deleteThread(e),clearTimeout(Es[e]),delete Es[e]},n)}function Jpe(e){return e}const Qpe=Jpe,Fh=cr(Qpe(ju(()=>({threads:{},clientNewThreadIdToServerIdMapping:{},threadRetainCounts:{}})))),ci=Fh.getState,qa=Fh.setState;function tI(e,t=ci()){return Dh(e)?t.clientNewThreadIdToServerIdMapping[e]:e}function mHe(e,t=ci()){var r;const n=(r=Object.entries(t.clientNewThreadIdToServerIdMapping).find(([s,i])=>i===e))==null?void 0:r[0];return n!=null?n:e}const gHe=e=>Fh(t=>e?tI(e,t):void 0);function t1(e,t=ci()){var n;return(n=t.clientNewThreadIdToServerIdMapping[e])!=null?n:e}function jc(e,t=ci()){const n=t1(e,t);return t.threads[n]}function Zpe(e,t){const n=C.useRef(void 0);return C.useMemo(()=>[],[t.clientThreadId]),r=>{const s=e(r);return zu(n.current,s)||(n.current=s),n.current}}function Uh(e,t,n){return Fh(Zpe(r=>t(e&&jc(e,r)),{disablePerfDetector:(n==null?void 0:n.disablePerfDetector)===!0,clientThreadId:e}))}function $i(e,t){qa(n=>{const r=jc(e,n);r&&t(r)})}const e_e=["utm_source"],GD=e=>{try{return kpe(e,{stripWWW:!1,removeTrailingSlash:!0,sortQueryParameters:!0,removeQueryParameters:e_e})}catch(t){return e}},t_e=e=>{var t;return((t=e==null?void 0:e.search_result_groups)!=null?t:[]).flatMap(n=>{var r;return(r=n.entries)!=null?r:[]}).map(n=>n==null?void 0:n.url)},Ae={getGizmoId:e=>(e==null?void 0:e.mode.kind)===Ls.GizmoInteraction||(e==null?void 0:e.mode.kind)===Ls.GizmoTest?e.mode.gizmo_id:void 0,getTree:e=>{var t;return(t=e==null?void 0:e.tree)!=null?t:f$()},getBranch:(e,t=Ae.getCurrentLeafId(e))=>{var n;return(n=e==null?void 0:e.tree.getBranchFromLeaf(t))!=null?n:[]},getThreadTitleSource:e=>{var t;return(t=e==null?void 0:e.titleSource)!=null?t:"Unknown"},getThreadCreateTime:e=>e==null?void 0:e.createTime,getIsNewConversation:e=>Ae.getCurrentLeafId(e)===Ae.getTree(e).rootId,getCurrentLeafId:e=>{var t;return(t=e==null?void 0:e.currentLeafId)!=null?t:Ae.getTree(e).rootId},getCurrentNode:e=>Ae.getNode(e,Ae.getCurrentLeafId(e)),getNode:(e,t)=>Ae.getTree(e).getNodeByIdOrMessageId(t),getParentNode:(e,t)=>Ae.getTree(e).getParent(t),getParentPromptNode:(e,t=Ae.getCurrentLeafId(e))=>Ae.findNode(e,n=>A9(n.message),t),getAsyncTurns:e=>{var t;return(t=e==null?void 0:e.asyncTurns)!=null?t:Ype},isThreadUrlSafe:(e,t)=>{var n;return(n=e==null?void 0:e.safeUrls.map(r=>GD(r)).includes(GD(t)))!=null?n:!1},getTurnContentReferences:(e,t)=>{var n;return l$((n=Ae.getConversationTurnAtIndex(e,t).messages.flatMap(r_e))!=null?n:[])},isArchived:e=>{var t;return(t=e==null?void 0:e.isArchived)!=null?t:!1},isStarred:e=>{var t;return(t=e==null?void 0:e.isStarred)!=null?t:!1},shouldRefetchConvoOnFinalize:e=>{var t;return(t=e==null?void 0:e.shouldRefetchConvoOnFinalize)!=null?t:!1},getUpdateTime:e=>{var t;return(t=e==null?void 0:e.update_time)!=null?t:e!=null&&e.createTime?e.createTime.getTime()/1e3:null},hasUserMessage:e=>Ae.findNode(e,t=>Ja(t.message))!=null,lastUserMessage:e=>{var t,n;return(n=(t=Ae.findNode(e,r=>Ja(r.message)))==null?void 0:t.message)!=null?n:null},firstUserMessage:e=>{var t,n;return(n=(t=Ae.findFirstFromLeaf(e,r=>Ja(r.message)))==null?void 0:t.message)!=null?n:null},isLastActorMessage:(e,t)=>Ae.getTree(e).findNode(n=>n.message.author.role===je.Assistant||n.message.author.role===je.User||n.message.author.role===je.Tool&&n.message.author.name===hc.A8KM123,Ae.getCurrentLeafId(e),t)==null,findNode:(e,t,n=Ae.getCurrentLeafId(e))=>Ae.getTree(e).findNode(t,n),findFirstFromLeaf(e,t,n=Ae.getCurrentLeafId(e)){return Ae.getTree(e).findFirstFromLeaf(t,n)},isMessageTurnEnded:(e,t=Ae.getCurrentLeafId(e))=>{var n;return(n=e==null?void 0:e.tree.getNodeByIdOrMessageId(t).message.end_turn)!=null?n:!1},getConversationTurns:(e,t=Ae.getCurrentLeafId(e))=>kN(Ae.getTree(e),t),getConversationTurnIds:e=>n_e(Ae.getConversationTurns(e)),getConversationTurnAtIndex:(e,t,n=Ae.getCurrentLeafId(e))=>{const r=Ae.getConversationTurns(e,n);if(t>=r.length)throw new Error("Turn index ".concat(t," out of bounds"));return r[t]},getConversationLastTurn:(e,t=Ae.getCurrentLeafId(e))=>Os(Ae.getConversationTurns(e,t)),getConversationSearchEntryUrls:(e,t=Ae.getCurrentLeafId(e))=>Ae.getConversationTurns(e,t).flatMap(n=>n.messages).flatMap(n=>t_e(n==null?void 0:n.metadata)),getConversationTurnIndex:(e,t=Ae.getCurrentLeafId(e))=>Ae.getConversationTurns(e).findIndex(r=>r.messages.some(s=>s.id===t)),hasUserContextPrompt:e=>{var t;return Ae.getTree(e).findFirst(n=>{var r;return((r=n.message.metadata)==null?void 0:r.is_user_system_message)!=null})!=null||((t=e==null?void 0:e.sharedConversationMetadata)==null?void 0:t.hasUserEditableContextFlag)!=null},hasModelEditableContext:e=>Ae.findNode(e,t=>t.message.content.content_type==="model_editable_context")!=null,mostRecentEcosystemMessage:(e,t)=>Ae.findNode(e,n=>{var r,s,i;return!!(n.message.author.name==="api_tool.call_tool"&&((i=(s=(r=n.message.metadata)==null?void 0:r.chatgpt_sdk)==null?void 0:s.resource_name)!=null&&i.includes(t)))}),hasRecentPIMWarning:e=>{var n;const t=e==null?void 0:e.tree.getBranchFromLeaf(e.currentLeafId);if(!t)return!1;for(let r=t.length-1;r>=0;r--){if(t[r].message.author.role===je.User)return!1;if((n=t[r].message.metadata)!=null&&n.is_pim_warning)return!0}return!1},getRequestId:(e,t=Ae.getCurrentLeafId(e))=>{var n,r;return(r=(n=Ae.findNode(e,s=>{var i;return((i=s.message.clientMetadata)==null?void 0:i.requestId)!=null},t))==null?void 0:n.message.clientMetadata)==null?void 0:r.requestId},getLastMessageSystemHints:e=>{var n,r;const t=Ae.findNode(e,s=>Ja(s.message));return(r=(n=t==null?void 0:t.message.metadata)==null?void 0:n.system_hints)!=null?r:[]},getVariantIds:(e,t=Ae.getCurrentLeafId(e))=>u$(Ae.getTree(e),t),getCurrentVariantId:(e,t=Ae.getCurrentLeafId(e))=>Hpe(Ae.getTree(e),t),getIsDoNotRemember:e=>{var t;return(t=e==null?void 0:e.is_do_not_remember)!=null?t:!1},getSuperWidgetMessages:(e,t)=>(t!=null?Ae.getConversationTurnAtIndex(e,t).messages:Ae.getConversationTurns(e).flatMap(r=>r.messages)).filter(r=>r.content.content_type==="super_widget"),getLastAssistantMessage:e=>Ae.getConversationTurns(e).flatMap(t=>t.messages).filter(t=>t.author.role===je.Assistant).at(-1),getUserMessages:e=>Ae.getConversationTurns(e).flatMap(t=>t.messages).filter(Ja),isReasoningResponseMessage:(e,t)=>{var r;const n=(r=Ae.getParentNode(e,t))==null?void 0:r.message;return n!=null&&xN(n)},getSteeringAsyncTaskId:e=>{var t;return(t=e==null?void 0:e.steeringAsyncTaskId)!=null?t:null},findAsyncTaskMetadataNode:(e,t)=>{if(t){const n=Ae.findNode(e,r=>{const s=r.message.metadata;return(s==null?void 0:s.b1de6e2_s)===!0&&(s==null?void 0:s.async_task_id)===t||r.message.author.name===hc.A8KM123&&(s==null?void 0:s.async_task_id)===t});if(n)return n}return Ae.findNode(e,n=>{const r=n.message.metadata;return(r==null?void 0:r.b1de6e2_s)===!0||n.message.author.name===hc.A8KM123&&(r==null?void 0:r.async_task_id)!=null})},hasContinuedFromAsyncTask:(e,t,n)=>{var i,o;const r=(o=(i=Ae.findFirstFromLeaf(e,a=>{var c;return((c=a.message.metadata)==null?void 0:c.async_task_id)===n}))==null?void 0:i.message)!=null?o:null;return r?Ae.getTree(e).findFirstFromLeafToParent(a=>UA(a.message)&&a.message.id!==t,t,r.id)!=null:!1},getIsReadOnly:e=>{var t;return(t=e==null?void 0:e.isReadOnly)!=null?t:!1}};let WD=0,HD,$D=[];function n_e(e){var r;const t=e.length,n=(r=Os(e))==null?void 0:r.id;return(WD!==t||HD!==n)&&(WD=t,HD=n,$D=e.map(s=>s.id)),$D}const BS={updateTree(e,t){const n=t(e.tree,Ae.getCurrentLeafId(e));e._treeVersion++,n&&(e.currentLeafId=n),!e.hasIKConvo&&p$(e.tree)&&(e.hasIKConvo=!0)},setCurrentBranch(e,t){BS.updateTree(e,n=>n.getLeafFromNode(t).id)},appendMessage(e,t){BS.updateTree(e,(n,r)=>n.addMessageNode(r,t)),!e.hasIKConvo&&h$(t)&&(e.hasIKConvo=!0)},setShouldRefetchConvoOnFinalize(e,t){e.shouldRefetchConvoOnFinalize=t},setRequestIdOnCurrentLeaf(e,t){BS.updateTree(e,(n,r)=>{n.updateNodeMetadata(r,{requestId:t})})}},_$={initThread:({clientThreadId:e,conversationMode:t,userId:n=void 0,accountId:r=void 0,disableConversationNavigation:s=void 0,skipFollowupMcpCheck:i=void 0,pulseCardId:o=void 0})=>{const a=t1(e);ci().threads[a]==null&&qa(c=>{const l=Uc.emptyTree();c.threads[a]={disableConversationNavigation:s,createTime:new Date,isArchived:!1,isStarred:!1,shouldRefetchConvoOnFinalize:!1,mode:vm(t),contextScopes:null,defaultModelId:null,tree:l,_treeVersion:0,title:null,conduitToken:null,prepareState:null,lastPrepareTimestamp:null,lastPrepareParentMessageId:null,stopConduitToken:null,titleSource:"NewChat",currentLeafId:l.rootId,safeUrls:[],selectedSources:gpe({userId:n,workspaceId:r}),selectedMCPSources:Epe({userId:n,workspaceId:r}),startedWithByoMcp:void 0,hasRemovedWebSource:!1,hasModifiedSources:!1,isLoading:!Dh(a),docsReferencedByURL:{},hasIKConvo:!1,conversationOrigin:null,selectedHazelnuts:null,selectedGithubRepos:new Map,hasModifiedGithubRepos:!1,disabledToolIds:null,is_do_not_remember:!1,prepareRequestBlocked:!1,lastCompletionFinishedTimestamp:null,interruptionInProgress:!1,asyncTurns:{},skipFollowupMcpCheck:i!=null?i:!1,steeringAsyncTaskId:null,isReadOnly:!1,pulseCardId:o!=null?o:null}})},setServerIdForNewThread:(e,t)=>{ci().clientNewThreadIdToServerIdMapping[e]===void 0&&qa(n=>{n.threads[t]=n.threads[e],delete n.threads[e],n.clientNewThreadIdToServerIdMapping[e]=t})},updateThreadFromServer:(e,t,n={})=>{var O,S,E,T,A,w,N,P,x,D,M,F,j,$;const r=t1(e),{skipIfExisting:s,continuingFromSharedConversationId:i,continuingFromSharedProjectConversationId:o,sharedProjectConversationOwnerId:a,continuingFromSharedPostId:c,forkFromSharedPost:l,branchingFromConversationId:u,branchingFromMessageId:d}=n;if(s&&((O=ci().threads[r])==null?void 0:O.isLoading)===!1)return;const f=Spe(t,r),h=new Uc(f.nodes),p=(S=f.initialCurrentLeafId)!=null?S:h.rootId,_="has_user_editable_context"in t?{hasUserEditableContextFlag:t.has_user_editable_context,authorName:t.author_name,model:"model"in t&&t.model!=null?F9(t.model):void 0}:void 0;let m;for(const q of h.getBranchFromLeaf(p)){const k=q.message;if(!(k.author.role!==je.User&&((E=k.metadata)==null?void 0:E.invoked_resource)===void 0)&&(((T=k.metadata)==null?void 0:T.invoked_resource)!==void 0||((N=(w=(A=k.metadata)==null?void 0:A.selected_sources)==null?void 0:w.length)!=null?N:0)>0||((D=(x=(P=k.metadata)==null?void 0:P.selected_mcp_sources)==null?void 0:x.length)!=null?D:0)>0)){m=((F=(M=k.metadata)==null?void 0:M.selected_mcp_sources)!=null?F:[]).some(B=>B.status==="ONLY_ME")||(($=(j=k.metadata)==null?void 0:j.invoked_resource)==null?void 0:$.publish_status)==="private";break}}const y=t.context_scopes,v=y&&y.length>0?Array.from(y):void 0;qa(q=>{var Z,B,Q,se,fe,V,H,ee,z,te,Se,he,oe,be,ke,Xe,Pe,J,X,L,Ne,nt,He,tt,it;const k=q.threads[r];q.threads[r]={createTime:"create_time"in t?new Date(t.create_time*1e3):void 0,isArchived:(Z=t.is_archived)!=null?Z:!1,isStarred:(B=t.is_starred)!=null?B:!1,shouldRefetchConvoOnFinalize:(Q=k==null?void 0:k.shouldRefetchConvoOnFinalize)!=null?Q:!1,is_do_not_remember:(se=t.is_do_not_remember)!=null?se:!1,selectedSources:k!=null&&k.hasModifiedSources?k.selectedSources:new Map,selectedMCPSources:k!=null&&k.hasModifiedSources?k.selectedMCPSources:new Map,mentionedSources:k==null?void 0:k.mentionedSources,selectedGithubRepos:(fe=k==null?void 0:k.selectedGithubRepos)!=null?fe:new Map,hasModifiedGithubRepos:(V=k==null?void 0:k.hasModifiedGithubRepos)!=null?V:!1,defaultModelId:(ee=(H=k==null?void 0:k.defaultModelId)!=null?H:t.default_model_slug)!=null?ee:null,conduitToken:null,prepareState:null,lastPrepareTimestamp:null,lastPrepareParentMessageId:(z=k==null?void 0:k.lastPrepareParentMessageId)!=null?z:null,stopConduitToken:null,mode:t.gizmo_id!=null?{kind:Ls.GizmoInteraction,gizmo_id:t.gizmo_id}:{kind:Ls.PrimaryAssistant},contextScopes:(te=v!=null?v:k==null?void 0:k.contextScopes)!=null?te:null,sharedConversationMetadata:vm(_),title:(Se=t.title)!=null?Se:null,titleSource:"Server",tree:h,_treeVersion:0,currentLeafId:p,isLoading:!1,continuingFromSharedProjectConversationId:o,sharedProjectConversationOwner:(()=>{var Je,Qe,Vt,mn;const ue=k==null?void 0:k.sharedProjectConversationOwner,De=(Qe=a!=null?a:(Je=t==null?void 0:t.owner)==null?void 0:Je.user_id)!=null?Qe:ue==null?void 0:ue.id,et=(mn=(Vt=t==null?void 0:t.owner)==null?void 0:Vt.name)!=null?mn:ue==null?void 0:ue.name;return De!=null||et!=null?{id:De,name:et}:void 0})(),continuingFromSharedConversationId:i,continuingFromSharedPostId:c,forkFromSharedPost:l,continuingSharedConversationLastMessageId:(i!=null||c!=null||l)&&!u?p:void 0,branchingFromConversationId:u,branchingFromMessageId:d,safeUrls:(he=t.safe_urls)!=null?he:[],hasRemovedWebSource:(oe=k==null?void 0:k.hasRemovedWebSource)!=null?oe:!1,hasModifiedSources:(be=k==null?void 0:k.hasModifiedSources)!=null?be:!1,docsReferencedByURL:(ke=k==null?void 0:k.docsReferencedByURL)!=null?ke:{},hasIKConvo:p$(h),conversationOrigin:(Pe=(Xe=k==null?void 0:k.conversationOrigin)!=null?Xe:t.conversation_origin)!=null?Pe:null,selectedHazelnuts:(J=k==null?void 0:k.selectedHazelnuts)!=null?J:null,disabledToolIds:(X=t.disabled_tool_ids)!=null?X:[],update_time:(L=t.update_time)!=null?L:null,scrollToMessageId:k==null?void 0:k.scrollToMessageId,scrollToMessageIsAssistant:k==null?void 0:k.scrollToMessageIsAssistant,prepareRequestBlocked:(Ne=k==null?void 0:k.prepareRequestBlocked)!=null?Ne:!1,lastCompletionFinishedTimestamp:(nt=k==null?void 0:k.lastCompletionFinishedTimestamp)!=null?nt:null,interruptionInProgress:!1,asyncTurns:{},pulseCardId:(He=t.sugar_item_id)!=null?He:null,steeringAsyncTaskId:(tt=k==null?void 0:k.steeringAsyncTaskId)!=null?tt:null,startedWithByoMcp:(k==null?void 0:k.startedWithByoMcp)||m,isReadOnly:(it=t.is_read_only)!=null?it:!1}}),Ape.publish({kind:"createConversation",clientThreadId:e})},deleteThread:e=>{qa(t=>{delete t.threads[e],delete t.clientNewThreadIdToServerIdMapping[e]})},retainThread:e=>{qa(t=>{var n;t.threadRetainCounts[e]=((n=t.threadRetainCounts[e])!=null?n:0)+1}),clearTimeout(Es[e])},releaseThread:e=>{ci().threads[e]!=null&&(qa(t=>{var n;t.threadRetainCounts[e]=Math.max(((n=t.threadRetainCounts[e])!=null?n:0)-1,0)}),!(ci().threadRetainCounts[e]>0)&&Xpe(e))},resetThread:e=>{$i(e,t=>{t.tree=f$(),t.currentLeafId=t.tree.rootId})}};function vHe(e){$i(e,t=>{t.steeringAsyncTaskId=null})}const yHe=e=>{const t=hue();return Uh(e,n=>n?Ae.getGizmoId(n):t)};function EHe({clientThreadId:e}){return Uh(e,t=>{if(!t)return!1;const n=t.tree.getBranchFromLeaf(t.currentLeafId);return n?n.some(r=>{var s;return((s=r.message.clientMetadata)==null?void 0:s.errCode)===Rh.ContentPolicy&&r.message.clientMetadata.shouldDisableConversation}):!1})}function CHe({clientThreadId:e}){return Uh(e,t=>{if(!t)return!1;const n=t.tree.getBranchFromLeaf(t.currentLeafId);return n?n.some(r=>{var s;return((s=r.message.clientMetadata)==null?void 0:s.errCode)===Rh.ContentPolicy&&r.message.clientMetadata.isSafetyLimited}):!1})}const SHe=e=>{var t,n;return(n=(t=e==null?void 0:e.metadata)==null?void 0:t.search_result_groups)!=null?n:[]},r_e=e=>{var t,n;return(n=(t=e==null?void 0:e.metadata)==null?void 0:t.content_references)!=null?n:[]},bHe=e=>{var n,r;const t=(r=(n=e==null?void 0:e.metadata)==null?void 0:n.search_model_queries)==null?void 0:r.queries;return Array.isArray(t)?t:[]};var GS,qD;function s_e(){if(qD)return GS;qD=1;var e=Jg();function t(n,r,s){s=typeof s=="function"?s:void 0;var i=s?s(n,r):void 0;return i===void 0?e(n,r,void 0,s):!!i}return GS=t,GS}var i_e=s_e();const o_e=$t(i_e),Cv="kaur1br5",m$="".concat(Cv,"_context");function a_e(e){const t=jc(e);if(!t)return;const n=Ae.getConversationTurns(t).flatMap(r=>r.messages);for(let r=n.length-1;r>=0;r--){const s=n[r];if(s.author.role===je.Tool&&s.author.name===m$)return s}}function wm(e,t=new WeakMap){if(Array.isArray(e)){if(t.has(e))return t.get(e);const r=[];t.set(e,r);for(const s of e)r.push(wm(s,t));return r}function n(r){if(r==null||typeof r!="object")return!1;const s=Object.getPrototypeOf(r);return s===Object.prototype||s==null}if(n(e)){if(t.has(e))return t.get(e);const r={};t.set(e,r);for(const[s,i]of Object.entries(e)){const o=wm(i,t);o!=null&&(r[s]=o)}return r}return e}function c_e(e,t){const n=wm(e),r=wm(t);return o_e(n,r,(s,i)=>s==null&&i==null?!0:void 0)}function VD(e){var r,s;const t=e.metadata;return{content:e.content,attachments:(r=t==null?void 0:t.attachments)!=null?r:[],browserContext:t==null?void 0:t[Cv],exclusiveKey:(s=t==null?void 0:t.exclusive_key)!=null?s:void 0}}function l_e(e,t){return c_e(VD(e),VD(t))}const zD=9e4;class u_e extends Error{constructor(n){super("sidebar whisper timed out after ".concat(n,"ms"));U(this,"timeoutMs");this.name="SidebarWhisperTimeoutError",this.timeoutMs=n}}const d_e="unqfp8es";let gi;Qn()&&Qg().then(e=>gi=e).catch(()=>{});function Ci(){return gi==null?void 0:gi.getHost()}function g$(){"use forget";const e=W.c(3),[t,n]=C.useState(h_e);let r,s;return e[0]!==t?(r=()=>{if(t||!Qn())return;let i=!0;return Qg().then(o=>{i&&n(o.getHost())}).catch(f_e),()=>{i=!1}},s=[t],e[0]=t,e[1]=r,e[2]=s):(r=e[1],s=e[2]),C.useEffect(r,s),t}function f_e(){}function h_e(){return Ci()}function THe(){return gi==null?void 0:gi.getLinkHandler()}function OHe(){return gi==null?void 0:gi.getProductEventHandler()}function v$(e){return(e==null?void 0:e.includes(re.Agent))===!0}async function AHe(e,t,n,r){const s=await Qg();return await new Promise((i,o)=>{const a=setTimeout(()=>o(new u_e(zD)),zD);p_e(e,t,n,r,s).then(c=>{clearTimeout(a),i(c)}).catch(c=>{clearTimeout(a),o(c)})})}async function p_e(e,t,n,r,s){if(v$(n))return;const i=await s.getSidebarWhisperContent();if(!i)throw new Error("Client didn't return whisper content");return await E$(i,y$(e==null?void 0:e.url),e,t,n,r)}function __e(e,t){return e.map(n=>b({id:n.fileid,name:n.name,size:n.size,mime_type:n.mimetype,source:"aura_tab_context"},t&&{[Cv]:{source:{url:t.url,host:t.url?new URL(t.url).hostname:void 0,title:t.title}}}))}function y$(e){if(e)try{const t=new URL(e);return t.search="",t.hash="","".concat(d_e," - ").concat(t.toString())}catch(t){return}}function m_e(e,t){const n=[];t!=null&&t.length&&n.push(...t);const r="-",s={content_type:"app_pairing_content",workspaces:[{id:r,content_type:"browser_window"}],context_parts:e.map(i=>{var o,a,c;return{content:(o=i.content)!=null?o:void 0,url:(a=i.url)!=null?a:void 0,title:(c=i.title)!=null?c:void 0,workspace_id:r,content_type:"browser_text"}}),custom_instructions:null};return n.push(s),{content_type:Be.MultimodalText,parts:n}}function g_e(e,t){if(t.length>0){const n=e;return{content_type:Be.MultimodalText,parts:[...t,n]}}return{content_type:Be.Text,parts:[e]}}async function E$(e,t,n,r,s,i){if(v$(s))return;const{imageAssetPointers:o,content:a,files:c,embeddedDocumentContexts:l,customInstructions:u}=e,d=l!=null?l:[],f=d.length>0;if(!a&&!f)throw new Error("Whisper content is missing content");const h=a!=null?a:"",p=(o!=null?o:[]).map(S=>({content_type:Vn.ImageAssetPointer,asset_pointer:S.assetPointer,size_bytes:S.sizeBytes,width:S.width,height:S.height})),_=f?m_e(d,p):g_e(h,p),m=d.reduce((S,E)=>{var T,A;return S+((A=(T=E.content)==null?void 0:T.length)!=null?A:0)},0);xn.hist(bn.DEFAULT,"aura-tab-context.web-whisper-content",{hasDocumentContent:f?"true":"false",hasAttachments:c&&c.length>0?"true":"false",hasImages:p.length>0?"true":"false"},m);const y=b(I(b({is_visually_hidden_from_conversation:!0},t&&{exclusive_key:t}),{attachments:__e(c!=null?c:[],n)}),await v_e(n,r,"context",s)),v={id:yr(),author:{role:je.Tool,name:m$},create_time:Date.now()/1e3,content:_,recipient:"all",metadata:y};if(i){const S=a_e(i);if(S&&l_e(S,v)){Ac.debug("Sidechat Context:Skipping duplicate context tool message",{clientThreadId:i,duplicateMessageId:S.id});return}else Ac.debug("Sidechat Context: Adding tool message",{clientThreadId:i,messageId:v.id})}const O=[v];if(u&&u.trim().length>0&&O.push({id:yr(),author:{role:je.Developer},recipient:"all",create_time:Date.now()/1e3,content:{content_type:Be.Text,parts:[u]},metadata:b({is_visually_hidden_from_conversation:!0},t&&{exclusive_key:"".concat(t,"-instructions")})}),O.length!==0)return O}async function wHe(e,t,n,r){if(!(!e||!Qn()||!ns.whisperContent))return await E$(ns.whisperContent,y$(e.url),e,t,n,r)}async function v_e(e,t,n,r){const s=(r==null?void 0:r.includes(re.Agent))===!0;let i,o;if(!s&&(e!=null&&e.selection)){const u=e.selection;o=mce(u),i=u.length>1e3?u.substring(0,1e3):u}let a;try{const u=Ci();u&&(a=await u.getClientID())}catch(u){}let c;try{const u=Ci();u&&(c=await u.getClientCapabilityVersion())}catch(u){}const l=I(b({origin:t,type:n,client_id:a,client_capability_version:c},(e==null?void 0:e.blocked)===!0?{client_bl_active:!0}:{}),{sources:e?[b(b({id:e.id,url:e.url,host:new URL(e.url).hostname,title:e.title},i&&{selection:i,selection_word_count:o}),e.base64favicon&&{base64favicon:e.base64favicon})]:[]});return{[Cv]:l}}const C$="fetchAccounts";async function S$({accessToken:e,eventPrefix:t=C$,acceptWorkspaceId:n}){try{await Y.safePost("/accounts/{account_id}/invites/accept",{parameters:{path:{account_id:n}},accessToken:e,authOption:en.SendIfAvailable}),we.deleteCookie(Ce.AcceptAccountId),K.addAction("".concat(t,".accept_invite.success"),{acceptWorkspaceId:n})}catch(r){K.addAction("".concat(t,".accept_invite.error"),{acceptWorkspaceId:n,error:r instanceof Error?r.message:String(r)})}}function y_e({accessToken:e,eventPrefix:t=C$}={}){const n=we.getCookie(Ce.AcceptAccountId);if(n)return S$({accessToken:e,eventPrefix:t,acceptWorkspaceId:n})}const E_e=Ie(()=>me(!1));function nI(e){var t;return(t=e==null?void 0:e.startsWith("referrals"))!=null?t:!1}function NHe(){const{hash:e}=nn(),t=nI(e.slice(1)),[n]=Yc(),r=n.get("program");return{isOpen:t,program:r}}function IHe(){const{hash:e}=nn(),t=nI(e.slice(1)),[n]=Yc(),r=n.get("code");return{isOpen:t,referralCode:r}}function C_e(){const{hash:e}=nn();return nI(e.slice(1))}const S_e=C.createContext({postWithProfile:null,setIsReportModalOpen:e=>{}});function b_e(){"use forget";const e=C.useContext(S_e);return!!(e!=null&&e.postWithProfile)}Ce.IntercomDeviceIdProd;function T_e(){return O_e()}function O_e(){var e;return(e=we.getBooleanCookie(Ce.HasLoggedInBefore))!=null?e:!1}const b$="has-dismissed-login-modal",A_e="slm",PHe=()=>{"use forget";const e=W.c(16),t=ce(),[n,r]=C.useState(P_e),s=C_e();let i;e[0]!==t?(i=yt(),e[0]=t,e[1]=i):i=e[1];const o=!i;let a;e[2]===Symbol.for("react.memo_cache_sentinel")?(a=T_e(),e[2]=a):a=e[2];const c=a,l=b_e();let u;e[3]===Symbol.for("react.memo_cache_sentinel")?(u=Qn(),e[3]=u):u=e[3];const d=u;let f;e[4]===Symbol.for("react.memo_cache_sentinel")?(f=()=>{r(!0),sessionStorage.setItem(b$,"true")},e[4]=f):f=e[4];const h=f;let p;if(e[5]!==t?(p=()=>E_e(t),e[5]=t,e[6]=p):p=e[6],Le(p)){let v;return e[7]===Symbol.for("react.memo_cache_sentinel")?(v={isOpen:!1},e[7]=v):v=e[7],v}let m;e[8]!==t||e[9]!==n||e[10]!==l||e[11]!==s||e[12]!==o?(m=o&&!n&&c&&!s&&!l&&!d&&!I_e()&&T$(t),e[8]=t,e[9]=n,e[10]=l,e[11]=s,e[12]=o,e[13]=m):m=e[13];let y;return e[14]!==m?(y={isOpen:m,onClose:h},e[14]=m,e[15]=y):y=e[15],y},T$=e=>Kc()?w_e(e):N_e(e),w_e=e=>Ot(e,"3233347819").get("enable_login_modal_for_mobile",!1),N_e=e=>Ot(e,"3233347819").get("is_no_auth_login_modal_enabled",!1),RHe=e=>Ot(e,"3233347819").get("is_login_modal_spinner_enabled",!1),I_e=()=>document.referrer===""?!1:new URL(document.referrer).pathname.startsWith("/auth/logout");function P_e(){return new URLSearchParams(window.location.search).has(A_e)||sessionStorage.getItem(b$)!=null}const YD=Ie(()=>me(null,{name:"anonConversationIdForHandoff",getServerFallback:()=>null})),R_e=Kw.OpenAISidetron;function x_e(e){if(vt().isElectron)return R_e}function M_e(e,t){const n=x_e();return n!=null?n:Kw.OpenAI}async function O$(e,{fallbackScreenHint:t="login_or_signup",useFallbackScreenHint:n=!1,callbackUrl:r,additionalAuthParams:s={},callback:i,shouldOpenPaymentModalOnAuth:o=!1,skipLoginModal:a=!0,loginModalSubtitleVariant:c}={}){var S,E;const l=M_e(e,new URL(window.location.href).searchParams),u=Ot(e,"2667897829"),d=vt().isBusinessIp2===!0,f=s!=null&&Object.entries(s).length>0,h=r!=null&&r!==window.location.href;if(d&&t==="signup"&&!n&&!o&&!f&&!h&&u.get("enabled_business_ip_targeting",!1)){i==null||i(l);try{await vx(e)}catch(A){}const T=new URL(window.location.href);T.pathname="/team-sign-up",window.location.assign(T.toString());return}let _=t;!n&&_!=="login_or_signup"&&Ot(e,"1803944755").get("enable_unified_login_or_signup_start_page_at_chatgpt_web",!1)&&(_="login_or_signup"),o&&we.setBooleanCookie(Ce.ShowPaymentModal,!0,{maxAge:360*60});const m=yr();if(we.setCookie(Ce.AuthSessionLoggingId,m),i==null||i(l),!r){const A=(E=(S=vt().flags)==null?void 0:S.includes(EG.NoAuthEnableConversationHandoff))!=null?E:!1,w=gt(()=>YD(e));A&&!yt()&&w?(r="/mac/".concat(w),YD.set(e,null)):r=window.location.href}const{login_hint:y,connection:v}=s;if(!T$(e)||a||y||v){try{await vx(e)}catch(T){}return cG.signIn(l,{callbackUrl:r},b(I(b({prompt:"login",screen_hint:_},Af(as())),{[cm]:m}),s))}Xs(e,FW,{callbackUrl:r,authorizationParams:b(I(b({},Af(as())),{[cm]:m}),s),subtitleVariant:c})}const k_e=ae.FREE,L_e=Jd.OWNER;function A$(e){return Date.parse(e)/1e3}function Pl(e){if(e==null)return;const t=A$(e);if(!isNaN(t))return t}class D_e{constructor(t){this.data=t}get id(){return this.data.id}get residencyRegion(){return this.data.residencyRegion}get computeResidency(){return this.data.computeResidency}get computeResidencyDisplayName(){return this.data.computeResidencyDisplayName}get computeResidencyDescription(){return this.data.computeResidencyDescription}get isHipaaCompliantWorkspace(){var t;return(t=this.data.isHipaaCompliantWorkspace)!=null?t:!1}get structure(){return this.data.structure}get workspaceType(){return this.data.workspaceType}get eligibleForReactivation(){return this.data.eligibleForReactivation}get organizationId(){return this.data.organizationId}get startedAsFreeWorkspace(){var t;return(t=this.data.startedAsFreeWorkspace)!=null?t:!1}get name(){return this.data.name}get features(){return this.data.features}get eligiblePromoCampaigns(){return this.data.eligiblePromoCampaigns}getEligiblePromoCampaign(t){var n;return(n=this.eligiblePromoCampaigns)==null?void 0:n[t]}getEligiblePromoCampaignId(t){var n;return(n=this.getEligiblePromoCampaign(t))==null?void 0:n.id}isEligibleForPlanPromo(t){return!!this.getEligiblePromoCampaignId(t)}isEqual(t){return f9(this.data,t.data)}get planType(){return this.data.subscriptionStatus.planType}get canAccessWithCurrentSession(){return this.data.canAccessWithCurrentSession}get ssoConnectionName(){return this.data.ssoConnectionName}get isDelinquent(){return this.data.subscriptionStatus.isDelinquent}get gracePeriodId(){return this.data.subscriptionStatus.gracePeriodId}get accountUserId(){return this.data.accountUserId}get normalizedAccountUserId(){return this.isPersonalAccount()?this.authUserId:this.data.accountUserId}get authUserId(){var t;return(t=this.data.accountUserId)==null?void 0:t.split("__")[0]}get subscriptionAnalyticsParams(){const{subscriptionStatus:t}=this.data;return{currentPlanType:t.planType,subscriptionStatus:{billingPeriod:t.billingPeriod,hasPaidSubscription:t.hasPaidSubscription,subscriptionPlan:t.subscriptionPlan,subscriptionExpiresAt:t.subscriptionExpiresAt,wasPaidCustomer:t.wasPaidCustomer}}}isResellerHosted(){return this.data.subscriptionStatus.isResellerHosted}isEnterprisey(){return zg(this.data.subscriptionStatus.planType)}isRBACEnabled(){return this.isEnterprisey()}isWorkspacePlan(){return this.isEnterprisey()||this.isSelfServeBusiness()||this.isFreeWorkspace()}isPro(){return this.data.subscriptionStatus.planType===ae.PRO}isEdu(){return Nh(this.data.subscriptionStatus.planType)}isQuorum(){return this.data.subscriptionStatus.planType===ae.QUORUM}isSelfServeBusiness(){return this.data.subscriptionStatus.planType===ae.SELF_SERVE_BUSINESS}isFreeWorkspace(){return this.data.subscriptionStatus.planType===ae.FREE_WORKSPACE}isK12(){return this.data.subscriptionStatus.planType===ae.K12}isGo(){return this.data.subscriptionStatus.planType===ae.GO}isPlus(){return this.data.subscriptionStatus.planType===ae.PLUS}isFree(){return this.data.subscriptionStatus.planType===ae.FREE}isCBP(){return this.data.subscriptionStatus.planType===ae.ENTERPRISE_CBP||this.data.subscriptionStatus.planType===ae.ENTERPRISE_HC||this.data.subscriptionStatus.planType===ae.EDUCATION_CBP}isWorkspaceAccount(){return this.data.structure===rr.WORKSPACE}getWorkspaceId(){if(this.isWorkspaceAccount())return this.id}getDaysUntilPlanRenews(){const t=this.data.subscriptionStatus.subscriptionRenewsAt;if(t==null)return null;const n=Math.floor(Date.now()/1e3);return Math.ceil((t-n)/(3600*24))}getDaysUntilSubscriptionCancelAt(){const t=this.data.subscriptionStatus.subscriptionCancelsAt;if(t==null)return null;const n=Math.floor(Date.now()/1e3);return Math.ceil((t-n)/(3600*24))}getDaysUntilPlanDiscountExpires(){var r;const t=Pl((r=this.data.subscriptionStatus.discount)==null?void 0:r.discount_expires_at);if(t==null)return null;const n=Math.floor(Date.now()/1e3);return Math.ceil((t-n)/(3600*24))}isPersonalAccount(){return this.data.structure===rr.PERSONAL}hasPaidSubscription(){return this.data.subscriptionStatus.hasPaidSubscription}isActiveSubscriptionGratis(){return this.data.subscriptionStatus.isActiveSubscriptionGratis}getSubscriptionBillingCurrency(){return this.data.subscriptionStatus.billingCurrency}mustGetSubscriptionBillingCurrency(t){const n=this.getSubscriptionBillingCurrency();return n!==void 0?(K.addAction("chatgpt_present_subscription_billing_currency",{subscriptionBillingCurrency:n,callLocation:t}),lA(Bt(),"chatgpt_present_subscription_billing_currency",void 0,{subscriptionBillingCurrency:n,callLocation:t}),n):(K.addError(new Error("chatgpt_missing_subscription_billing_currency"),{callLocation:t}),lA(Bt(),"chatgpt_missing_subscription_billing_currency",void 0,{callLocation:t}),Gae)}willRenewSubscription(){return this.data.subscriptionStatus.lastActiveSubscription.will_renew}willPlanChange(){return!!this.data.subscriptionStatus.scheduledPlanChange}getDaysUntilPlanChanges(){var r;const t=(r=this.data.subscriptionStatus.scheduledPlanChange)==null?void 0:r.changesAt;if(t==null)return null;const n=Math.floor(Date.now()/1e3);return Math.ceil((t-n)/(3600*24))}getNextPlanType(){var t,n;return(n=(t=this.data.subscriptionStatus.scheduledPlanChange)==null?void 0:t.planType)!=null?n:null}getLastActiveSubscription(){return this.data.subscriptionStatus.lastActiveSubscription}isDeactivated(){return this.data.deactivated}canInviteMembers(){return this.isSelfServeBusiness()||this.isFreeWorkspace()||this.isEnterprisey()&&(this.isOwnerOfAccount()||this.isAdminOfAccount())}isOwnerOfAccount(){return this.data.role===Jd.OWNER}isAdminOfAccount(){return this.data.role===Jd.ADMIN}isStandardUserOfAccount(){return this.data.role===Jd.STANDARD}hasPaidFeatures(){return this.hasPaidSubscription()||this.isEnterprisey()}hasCustomerObject(){return this.data.subscriptionStatus.hasCustomerObject}getProcessorEntity(){return this.data.subscriptionStatus.processorEntity}wasPaidCustomer(){return!this.data.subscriptionStatus.hasPaidSubscription&&this.data.subscriptionStatus.wasPaidCustomer}isOrWasPaidCustomer(){return this.data.subscriptionStatus.hasPaidSubscription||this.data.subscriptionStatus.wasPaidCustomer}isEligibleForCancellationPromotion(){return this.data.subscriptionStatus.isEligibleForCancellationPromotion}getEligiblePromoCampaigns(){return this.data.eligiblePromoCampaigns}}class rI{constructor(t){this.data=t}static fromLightAccount(t,n){return new rI({lightAccount:t,authUserId:n})}get id(){return this.data.lightAccount.id}get authUserId(){return this.data.authUserId}get structure(){return this.data.lightAccount.structure}get planType(){return this.data.lightAccount.planType}get isDelinquent(){return this.data.lightAccount.isDelinquent}get gracePeriodId(){return this.data.lightAccount.gracePeriodId}get accountUserId(){return this.data.authUserId?this.data.authUserId+"__"+this.data.lightAccount.id:void 0}get normalizedAccountUserId(){return this.isPersonalAccount()?this.data.authUserId:this.accountUserId}isEnterprise(){return e9(this.planType)}isEnterprisey(){return zg(this.planType)}isK12(){return this.planType===ae.K12}isRBACEnabled(){return this.isEnterprisey()}isWorkspacePlan(){return this.isEnterprisey()||this.isSelfServeBusiness()||this.isFreeWorkspace()}isGo(){return this.planType===ae.GO}isPro(){return this.planType===ae.PRO}isEdu(){return Nh(this.planType)}isSelfServeBusiness(){return this.planType===ae.SELF_SERVE_BUSINESS}isEnterpriseCBP(){return this.planType===ae.ENTERPRISE_CBP||this.planType===ae.ENTERPRISE_HC}isPlus(){return this.planType===ae.PLUS}isFree(){return this.planType===ae.FREE}isCBP(){return this.planType===ae.ENTERPRISE_CBP||this.planType===ae.ENTERPRISE_HC||this.planType===ae.EDUCATION_CBP}isFreeWorkspace(){return this.planType===ae.FREE_WORKSPACE}hasPaidSubscription(){return h9(this.planType)}hasPaidFeatures(){return this.hasPaidSubscription()||this.isEnterprisey()}isWorkspaceAccount(){return this.structure===rr.WORKSPACE}getWorkspaceId(){if(this.isWorkspaceAccount())return this.id}isPersonalAccount(){return this.structure===rr.PERSONAL}hasPlusFeatures(){return this.planType!==ae.FREE}}const F_e=lo(e=>{var t,n,r,s,i,o,a,c,l,u,d,f;return new D_e({id:e.account.account_id,residencyRegion:e.account.account_residency_region,computeResidency:e.account.account_compute_residency,computeResidencyDisplayName:e.account.account_compute_residency_display_name,computeResidencyDescription:e.account.account_compute_residency_description,accountUserId:e.account.account_user_id,name:(t=e.account.name)!=null?t:null,profilePictureId:e.account.profile_picture_id,profilePictureUrl:e.account.profile_picture_url,structure:e.account.structure,workspaceType:e.account.workspace_type,role:(n=e.account.account_user_role)!=null?n:L_e,organizationId:e.account.organization_id,deactivated:e.account.is_deactivated,eligibleForReactivation:e.account.eligible_for_reactivation,ekmConfig:e.account.ekm_config,isHipaaCompliantWorkspace:e.account.is_hipaa_compliant_workspace,isFedrampCompliantWorkspace:e.account.is_fedramp_compliant_workspace,startedAsFreeWorkspace:(r=e.account.started_as_free_workspace)!=null?r:!1,subscriptionStatus:{billingPeriod:e.entitlement.billing_period,hasPaidSubscription:e.entitlement.has_active_subscription||!1,isActiveSubscriptionGratis:e.entitlement.is_active_subscription_gratis||!1,billingCurrency:e.entitlement.billing_currency,subscriptionPlan:e.entitlement.subscription_plan,planType:(s=e.account.plan_type)!=null?s:k_e,subscriptionRenewsAt:Pl(e.entitlement.renews_at),subscriptionCancelsAt:Pl(e.entitlement.cancels_at),subscriptionExpiresAt:Pl(e.entitlement.expires_at),scheduledPlanChange:e.entitlement.scheduled_plan_change?{changesAt:A$(e.entitlement.scheduled_plan_change.changes_at),planType:e.entitlement.scheduled_plan_change.plan_type}:void 0,wasPaidCustomer:(i=e.account.has_previously_paid_subscription)!=null?i:!1,hasCustomerObject:(a=(o=e.account.processor)==null?void 0:o.a001.has_customer_object)!=null?a:!1,processorEntity:(c=e.account.processor)==null?void 0:c.a001.processor_entity,lastActiveSubscription:e.last_active_subscription,isResellerHosted:(l=e.account.reseller_hosted_account)!=null?l:!1,discount:e.entitlement.discount,isEligibleForCancellationPromotion:(u=e.entitlement.is_eligible_for_cp)!=null?u:!1,isDelinquent:e.entitlement.is_delinquent,becameDelinquentAt:Pl(e.entitlement.became_delinquent_timestamp),gracePeriodEndAt:Pl(e.entitlement.grace_period_end_timestamp),gracePeriodId:e.entitlement.grace_period_id},features:[...e.features].sort(),canAccessWithCurrentSession:e.can_access_with_session!==!1,ssoConnectionName:(d=e.sso_connection_name)!=null?d:null,eligiblePromoCampaigns:(f=e.eligible_promo_campaigns)!=null?f:{}})});function U_e(e){return e.account_ordering.map(t=>F_e(e.accounts[t]))}function j_e(e,t){const n=e.filter(s=>s.canAccessWithCurrentSession);if(typeof t=="string"){const s=n.find(i=>i.id===t);if(s!==void 0)return s;if(t===Yi){const i=n.find(o=>o.structure===rr.PERSONAL);if(i!==void 0)return i}}if(n.length===1||!n.some(s=>s.structure===rr.WORKSPACE))return n[0]}function B_e(e,t){if(e){if(e.structure===rr.WORKSPACE)return e.id;if(t.some(r=>r.structure===rr.WORKSPACE))return Yi}}async function G_e(){return await y_e({eventPrefix:"fetchAccountState"}),await Y.safeGet("/accounts/check/{version}",{parameters:{path:{version:bZ},query:{timezone_offset_min:new Date().getTimezoneOffset().toString()}},authOption:en.SendIfAvailable})}const KD=e=>e!=null&&typeof e=="object"&&"account"in e&&typeof e.account=="object"&&e.account!=null&&"account_id"in e.account;function W_e(e,t){return KD(e)&&KD(t)&&e.isEqual(t)?e:iQ(e,t)}const H_e=ln({queryKey:["account-status"],queryFn:G_e,structuralSharing:W_e,staleTime:1/0});function w$(){return H_e}const $_e=Ie(e=>qt(e,w$)),q_e=e=>{var s;const t=(s=we.getCookie(Ce.Workspace))!=null?s:void 0,n=U_e(e),r=j_e(n,t);return{accountItems:n,currentAccount:r,currentAccountId:r==null?void 0:r.id}},sI=Ie(()=>me({}));Ie(()=>me(null));const ef=Ie(e=>ye(()=>{sI(e);const t=$_e(e);return t.isLoading||t.data==null?t:I(b({},t),{data:q_e(t.data)})})),jh=Ie(e=>ye(()=>{if(Tg()){const n=ef(e),{data:r}=n,s=G(n,["data"]);return I(b({},s),{isLoading:!0,data:void 0})}return ef(e)}));function N$(e){var t;return(t=e==null?void 0:e.accountItems.find(n=>n.id===e.currentAccountId))!=null?t:null}const Hr=Ie(e=>ye(()=>N$(jh(e).data)));function V_e(e){return gt(()=>Hr(e))}function n1(e){e!=null?we.setCookie(Ce.Workspace,e,{maxAge:sW}):we.deleteCookie(Ce.Workspace)}function z_e(e){we.setCookie(Ce.WorkspaceResidencyRegion,e,{maxAge:sW})}function I$(e,t){var r;const n=we.getCookie(Ce.Workspace);return e.structure===rr.WORKSPACE?(n1(e.id),z_e(e.residencyRegion)):e.structure===rr.PERSONAL&&t&&n1(Yi),we.deleteCookie(Ce.DowngradeAccountEnabled),we.deleteCookie(Ce.DogfoodingAccountType),{accountCookieChanged:(n!=null?n:Yi)!==((r=we.getCookie(Ce.Workspace))!=null?r:Yi)}}function xHe(e,t,n,r=!0){const s=gt(()=>jh(e).data);if(s==null)return{updatedAccount:!1};const i=s.accountItems.find(o=>o.id===n);return i==null?{updatedAccount:!1}:(I$(i,r),sI.set(e,{}),{updatedAccount:!0})}function MHe(e,t,n,r,s,i=!0){const o=gt(()=>jh(n).data);if(o==null)return{willRedirect:!1,updatedAccount:!1};const a=o.accountItems.find(f=>f.id===t);if(a==null)return{willRedirect:!1,updatedAccount:!1};const c=Qn(),l=gt(()=>V6(n)),u=Vs(n)&&!yt();if(c&&!(l||u)){const f=Ci();return f==null||f.onSwitchAccount(t),{willRedirect:!0,updatedAccount:!1}}const{accountCookieChanged:d}=I$(a,i);if(!a.canAccessWithCurrentSession){const f=a.ssoConnectionName?{connection:a.ssoConnectionName}:void 0,h=r.formatMessage(XD.workspacePlaceholder),p=a.data.name||h;return s.info(r.formatMessage(XD.authenticateNotice,{workspaceName:p})),O$(n,{fallbackScreenHint:"login",additionalAuthParams:f}),{willRedirect:!0,updatedAccount:!0}}return d?mN():sI.set(n,{}),{willRedirect:!1,updatedAccount:!0}}function kHe(){"use forget";const e=W.c(2),t=ce();let n;return e[0]!==t?(n=()=>jh(t),e[0]=t,e[1]=n):n=e[1],Le(n)}function mo(){"use forget";const e=W.c(2),t=ce();let n;return e[0]!==t?(n=()=>Hr(t),e[0]=t,e[1]=n):n=e[1],Le(n)}const st=ct(e=>{var s,i;const t=_a(e),n=(s=t==null?void 0:t.user)==null?void 0:s.id,r=(i=t==null?void 0:t.account)!=null?i:null;return r?rI.fromLightAccount(r,n):null}),Y_e=Ie(e=>ye(()=>{var t,n;return(n=(t=Hr(e))==null?void 0:t.isHipaaCompliantWorkspace)!=null?n:!1}));function LHe(){"use forget";const e=W.c(2),t=ce();let n;return e[0]!==t?(n=()=>Y_e(t),e[0]=t,e[1]=n):n=e[1],Le(n)}const P$=Ie(e=>ye(()=>{var t,n;return(n=(t=Hr(e))==null?void 0:t.features)!=null?n:[]}));function K_e(){"use forget";const e=W.c(2),t=ce();let n;return e[0]!==t?(n=()=>P$(t),e[0]=t,e[1]=n):n=e[1],Le(n)}function DHe(e){"use forget";const t=W.c(3),n=ce();let r;return t[0]!==n||t[1]!==e?(r=()=>{var s,i;return(i=(s=P$(n))==null?void 0:s.includes(e))!=null?i:!1},t[0]=n,t[1]=e,t[2]=r):r=t[2],Le(r)}function FHe(e){return e.accountItems.some(t=>t.hasPaidFeatures())}function UHe(e){return!(e==null?void 0:e.accountItems.every(n=>n.isPlus()||n.isFree()||n.isGo()||n.isFreeWorkspace()))}function jHe(e,t){const n=Hr(e);if(!(n==null?void 0:n.isRBACEnabled()))return!0;const{data:s}=kW(e);return s!=null&&s.some(i=>i.systemHint===t)}const XD=At({authenticateNotice:{id:"zALe8U",defaultMessage:"You need to authenticate to access {workspaceName}. Redirecting..."},workspacePlaceholder:{id:"IIY4N4",defaultMessage:"this workspace"}});function iI(e,t){return rn({queryKey:["workspace-settings",e],queryFn:e?()=>Y.safeGet("/accounts/{account_id}/settings",{parameters:{path:{account_id:e}}}):lG,select:n=>n&&t?t(n):n,enabled:!!e})}function X_e(e){return ln({queryKey:["workspace-settings",e],queryFn:e!=null?()=>Y.safeGet("/accounts/{account_id}/settings",{parameters:{path:{account_id:e}}}):lG})}const oI=Ie(e=>{var n;const t=(n=st(e))==null?void 0:n.getWorkspaceId();return qt(e,()=>X_e(t))});function J_e(e,t){var r,s;const{data:n}=oI(e);if(n)return(s=(r=n.permissions)==null?void 0:r.includes(t))!=null?s:!1}const Q_e=["default","blue","green","yellow","pink","orange","custom"],Z_e=["purple"],eme=["black"],tme=e=>{var a;const t=(a=st(e))==null?void 0:a.planType,n=t===ae.PLUS,r=t===ae.PRO,s=t===ae.SELF_SERVE_BUSINESS||zg(t),o=!Nh(t)&&(n||r||s)||Qn();return[...Q_e,...o?Z_e:[],...r?eme:[]]};function R$(e){return Qn()?!0:Ot(e,"1187049270").get("themes_enabled",!1)}const x$=ct(e=>cr(()=>{var t,n;return(n=an.getItem(Sv(),{userId:(t=st(e))==null?void 0:t.normalizedAccountUserId}))!=null?n:"default"})),aI=(e,t)=>{var n;x$(e).setState(t),an.setItem(Sv(),t,{userId:(n=st(e))==null?void 0:n.normalizedAccountUserId})},nme=(e,t)=>{Qn()&&(M$(t),aI(e,t))};function BHe(){const e=ce(),t=R$(e),n=x$(e)(),r=QW();return t?{isLoading:!1,value:n,setValue:s=>{r.mutate({setting:ro.ChatTheme,value:s}),aI(e,s)}}:{isLoading:!1,value:"default",setValue:()=>{}}}const rme=()=>{var n;const e=ce();if(!R$(e))return null;const t=v_(Sv(),{userId:(n=st(e))==null?void 0:n.normalizedAccountUserId});return g.jsx("script",{nonce:vt().cspScriptNonce,suppressHydrationWarning:!0,children:"!function(){try{const t=localStorage.getItem(".concat(JSON.stringify(t),');document.documentElement.dataset.chatTheme="string"==typeof t?JSON.parse(t):void 0}catch(e){}}();')})};function sme(e){const t=tme(e),n=st(e),r=ye(()=>{var o,a,c,l,u;if(Qn()){const d=an.getItem(Sv(),{userId:n==null?void 0:n.normalizedAccountUserId});return{theme:OA(d,t,"default")}}const s=(c=(a=(o=wh(e).data)==null?void 0:o.settings)==null?void 0:a[ro.ChatTheme])!=null?c:an.getItem(Wt.ChatTheme,{userId:n==null?void 0:n.normalizedAccountUserId});let i;if(s==="custom"&&Vre(e)&&(n!=null&&n.isWorkspacePlan())&&(n!=null&&n.id)){const d=oI(e).data,f=an.getItem(Wt.ChatThemeCustomWorkspace,{userId:n==null?void 0:n.normalizedAccountUserId});i={light:(l=d==null?void 0:d.beta_settings_dict.workspace_chat_theme_light)!=null?l:f==null?void 0:f.light,dark:(u=d==null?void 0:d.beta_settings_dict.workspace_chat_theme_dark)!=null?u:f==null?void 0:f.dark}}return{theme:OA(s,t,"default"),customTheme:i}});return one(()=>{var o,a;const{theme:s,customTheme:i}=r();M$(s),s==="custom"&&i&&ime({light:(o=i.light)!=null?o:null,dark:(a=i.dark)!=null?a:null}),aI(e,s)})}function Sv(){return Qn()?Wt.ChatThemeOverride:Wt.ChatTheme}function M$(e){document.documentElement.dataset.chatTheme=e}const GHe=["user-msg-bg","user-msg-text","submit-btn-bg","submit-btn-text","secondary-btn-bg","secondary-btn-text","user-selection-bg","entity-accent","attribution-highlight-bg"],JD="workspace-chat-theme";function xi(e){return e?e.replace(/[;}]/g,"").trim():""}function QD(e,t,n){const r=t==="light"?'[data-chat-theme="'.concat(e,'"]'):'[data-chat-theme="'.concat(e,'"].dark, [data-chat-theme="').concat(e,'"] .dark');return"".concat(r," {\n  --theme-user-msg-bg: ").concat(xi(n["user-msg-bg"]),";\n  --theme-user-msg-text: ").concat(xi(n["user-msg-text"]),";\n  --theme-submit-btn-bg: ").concat(xi(n["submit-btn-bg"]),";\n  --theme-submit-btn-text: ").concat(xi(n["submit-btn-text"]),";\n  --theme-secondary-btn-bg: ").concat(xi(n["secondary-btn-bg"]),";\n  --theme-secondary-btn-text: ").concat(xi(n["secondary-btn-text"]),";\n  --theme-user-selection-bg: ").concat(xi(n["user-selection-bg"]),";\n  --theme-attribution-highlight-bg: ").concat(xi(n["attribution-highlight-bg"]),";\n  --theme-entity-accent: ").concat(xi(n["entity-accent"]),";\n}")}function ime(e){if(typeof document>"u")return;const{light:t,dark:n}=e;if(!t&&!n)return;const r=document.getElementById(JD);let s;r&&r instanceof HTMLStyleElement?s=r:(s=document.createElement("style"),s.id=JD,document.head.appendChild(s));const i=[];t&&i.push(QD("custom","light",t)),n&&i.push(QD("custom","dark",n)),s.textContent=i.join("\n\n")}var ome=(e=>(e.Small="small",e.Medium="medium",e.Large="large",e.XLarge="xlarge",e.XXLarge="xxlarge",e))(ome||{});const Bh={small:640,medium:768,large:1024,xlarge:1280,xxlarge:1536};function Oi(e,t){const n=di(()=>window.matchMedia(e));return us(()=>n().matches,r=>ra(n(),{change:r}),{name:"@media ".concat(e),getServerFallback:t})}function Gh(e){return[()=>Le(e),()=>gt(e)]}const k$=Oi("(prefers-reduced-motion: reduce)",()=>!1),[WHe]=Gh(k$),bv=Oi("(min-width: ".concat(Bh.small,"px)"),()=>!xQ()),[HHe]=Gh(bv),$He=()=>!bv(),L$=Oi("(min-width: ".concat(Bh.medium,"px)"),()=>Aw()||ww()),[ame,cme]=Gh(L$),lme=Oi("(min-width: ".concat(Bh.large,"px)"),ww),[qHe]=Gh(lme),VHe=Oi("(min-width: ".concat(Bh.xlarge,"px)"),()=>!1),zHe=Oi("(min-width: ".concat(Bh.xxlarge,"px)"),()=>!1);Oi("(pointer: coarse)",()=>Kc());Oi("(pointer: coarse)",()=>lg());const YHe=Ie(()=>ye(()=>aA()||Ow())),ume=Oi("(pointer: coarse)",_G),[KHe,D$]=Gh(ume),dme=Oi("(hover: hover)",ww);function XHe(){return!Le(L$)}function fme(){const e={composer:{autofocusDisabled$:me(Kc()||aA()),reset:()=>{e.composer.autofocusDisabled$.set(D$()||aA())}},projects:{createOrUpdateProject$:me(void 0),moveConversationToProject$:me(void 0),renamingProjectId$:me(void 0),reset:()=>{e.projects.renamingProjectId$.set(void 0)}}};return e}const hme=ct(fme),pme="/cdn/assets/favicon-180x180-od45eci6.webp",_me={src:pme},mme="data:image/x-icon;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAVfSURBVHgB5VuLUeMwEJWZKyBUgK8Cch2khHRwpgJCBQkVJFSQpAKggtBBuAocKiBUsKcX24wtZHlXlpIwvJkdYyLJ2q/WKzlRkUFEqb6MNF1rSksalNc6dpr25fWfpldQkiQ79d2gmR5pmmvKqT+2mpYYU50z9AQHmqaBmG5DrimjwqrOAzXG3+l4yMtnpuqU0BO4PTLjNkFk6tiA5DVt6HyQ07GsgU6v9TZgThMVE1RE9nPHVMUAFUvRd8GSy1fCaaQH3OrLUH0vIIn609WoUwClNDMVCPv9Xu12u88rkKbp4TocDtVgMFABsdJCuFG+oGKt7Y3NZkOTyYQ0o4RhXYQ24/GYVqsVvb8HibVz5QMqor03MPnZbEZao51MuyjLMsrznHpCtjpQsc57iT8U44EFAV5SxQV55vMwda6Zj0ajA1Mg/K39n9UPruGJDZf5jDywWCxaJw5rQAyAgLr8mhMvYGGemHQxD9PPSQhMqE1jy+WSfIG+bYJAoPQIkugwcAlgSkK0MT+dTkNFcZrP59aYAtfxwCyY9m3MQ2Pb7ZZCAwHQZg1wFyHsVkBC34ev2pgPsGS1AhZlC5aIP0LMbALIub1t2ojNfAWbEOAewmfnJvMiZ8LSZWohhtm3AcyaMcEjHozqAlhye+HhtoB3bDw+Pn6ZB9xSgEVdAGz1mdqH6Z8K0HoPK8jr0Z/Xw6J91zqP37BSxIoNtkAstIIUAhhzW4MhrvbrSyTahcoJTJhWIMwSswslKHQ8Pz837nU21tr25eXl82+89z88PKgY0PGnca/fFZQAQ1jAI1dcZuR1RX5kb6rfUsUCLMucl8DantgBEMyaDHXBXK8RQGPAdAOsEExs4QKsGhRKWA3bGXZ7jraCxj3Ms+4aoVCV1Cq8vb0pJgYQQMppWdXvPnsyandaM1/ixP39vQoNUwCmslxdL5QnuMVLWEG9LSwgtBVcXV017k1lueAtAAlMYQk0FB3RBQCTr2sE5upaPn3w8fHRuJeU1iGAHafh5eVl456jRTBursvmuh0CPvGp6vpLFcdSOnF9fd24f3197exzc9Pck9DL4IEaM9CTv7u76xwPAdWMJ/UxXHN1YN8rEXIlHGbaDLIlQrZXayUshkoSNANPcAH2ommu/WZqXMd6vW7c397eflmuDioQBERbW1hO/f+wEE6OUnUXlcLMGqDr9RO1OsWoFkFb3L0EjgUJs82x6HXYTIeVw9zgHhACytcckwRzLmqDKTxBGnzofrADEtQDzbw7Vn7PgWmRwuLM9tMR9A27rBqgCBEEtrqgcBNmWReAqJZkWkHMgodkDtIhGuGQBG5gswL4+rFg25ARaj9XJjCuZIR6lK/IY5dGDBvzHnEoswkAFQ6RHZtm6DkZNtq24qSbItR2VoCEVgC/t63hoXeJMJZN2J7Pmak2kIcVtG1aqjJ17SMI12kT/M9jNyqnrpMiuoHYkcFk2wkPCAduIZksxnMds+lhYZnJb9IihI0qPnIQAW91eqe29Xe8CyBPB6GKU73ZIZfHOz3yelSLXBUdvBXqbM/nON0uSZLfrJbU45CU61RHH4I1oNTuCdkhqVIIvda0UIIA4wFOm/gdoiZBiuwSBJIkybE5tEXUh8YDZJgzF4+co7IrffmrAgD+DT9H3R5+D6p8GVfEhSpGBDoyu9Z+n7ka/PjD0qyqcDnQWn0frDnMi0HCTPFEWKiYoGJ1+JmfzNSE4HWiNCI2dIpP6KgoqOZ0OhxP6w4hwBpmRxbEe/nMoJ+X9EIpiNgWkZ8d4zZQUWNckeD4XQfTyEhHKgJYiVAfUBGchiVVn9B3fT6P3SpsFr7E/nz+P3T08cw43Z8wAAAAAElFTkSuQmCC",gme="data:image/svg+xml,%3csvg%20width='64'%20height='64'%20viewBox='0%200%2064%2064'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20%3e%3crect%20width='64'%20height='64'%20rx='32'%20fill='white'%20/%3e%3cpath%20d='M34.2043%2037.0916H41.6359'%20stroke='black'%20stroke-width='3.42172'%20stroke-linecap='round'%20/%3e%3cpath%20d='M32.089%2053.6889C28.2099%2053.6889%2024.6248%2052.7289%2021.3334%2050.809C18.0421%2048.8499%2015.4169%2046.2247%2013.4578%2042.9334C11.5378%2039.642%2010.5779%2036.0569%2010.5779%2032.1778C10.5779%2028.2987%2011.5378%2024.7136%2013.4578%2021.4222C15.4169%2018.1309%2018.0421%2015.5253%2021.3334%2013.6054C24.6248%2011.6462%2028.2099%2010.6667%2032.089%2010.6667C35.968%2010.6667%2039.5532%2011.6462%2042.8445%2013.6054C46.1359%2015.5253%2048.7415%2018.1309%2050.6614%2021.4222C52.6205%2024.7136%2053.6001%2028.2987%2053.6001%2032.1778C53.6001%2036.0569%2052.6205%2039.642%2050.6614%2042.9334C48.7415%2046.2247%2046.1359%2048.8499%2042.8445%2050.809C39.5532%2052.7289%2035.968%2053.6889%2032.089%2053.6889ZM32.089%2049.6923C35.2628%2049.6923%2038.1818%2048.9087%2040.8462%2047.3414C43.5498%2045.7741%2045.6853%2043.6582%2047.2526%2040.9938C48.8199%2038.2902%2049.6035%2035.3516%2049.6035%2032.1778C49.6035%2029.004%2048.8199%2026.0849%2047.2526%2023.4205C45.6853%2020.717%2043.5498%2018.5815%2040.8462%2017.0142C38.1818%2015.4469%2035.2628%2014.6633%2032.089%2014.6633C28.9152%2014.6633%2025.9765%2015.4469%2023.273%2017.0142C20.6086%2018.5815%2018.4927%2020.717%2016.9254%2023.4205C15.3581%2026.0849%2014.5745%2029.004%2014.5745%2032.1778C14.5745%2035.3516%2015.3581%2038.2902%2016.9254%2040.9938C18.4927%2043.6582%2020.6086%2045.7741%2023.273%2047.3414C25.9765%2048.9087%2028.9152%2049.6923%2032.089%2049.6923ZM24.2133%2039.7008C23.6648%2039.7008%2023.1946%2039.5049%2022.8028%2039.1131C22.411%2038.7212%2022.215%2038.2511%2022.215%2037.7025C22.215%2037.3499%2022.313%2037.0364%2022.5089%2036.7621L25.2713%2032.0602L22.6265%2027.5935C22.3522%2027.1625%2022.215%2026.7706%2022.215%2026.418C22.215%2025.9086%2022.411%2025.458%2022.8028%2025.0662C23.1946%2024.6744%2023.6648%2024.4785%2024.2133%2024.4785C24.9186%2024.4785%2025.4672%2024.7919%2025.859%2025.4188L29.0328%2030.8848C29.2679%2031.2766%2029.3854%2031.6684%2029.3854%2032.0602C29.3854%2032.4521%2029.2679%2032.8439%2029.0328%2033.2357L25.859%2038.7017C25.4672%2039.3678%2024.9186%2039.7008%2024.2133%2039.7008ZM34.2048%2039.1131C33.6563%2039.1131%2033.1861%2038.9172%2032.7943%2038.5253C32.4025%2038.1335%2032.2065%2037.6633%2032.2065%2037.1148C32.2065%2036.6054%2032.4025%2036.1548%2032.7943%2035.763C33.1861%2035.3712%2033.6563%2035.1752%2034.2048%2035.1752H41.7279C42.2372%2035.1752%2042.6878%2035.3712%2043.0796%2035.763C43.4715%2036.1548%2043.6674%2036.6054%2043.6674%2037.1148C43.6674%2037.6633%2043.4715%2038.1335%2043.0796%2038.5253C42.6878%2038.9172%2042.2372%2039.1131%2041.7279%2039.1131H34.2048Z'%20fill='black'%20/%3e%3c/svg%3e",vme="/cdn/assets/favicon-eex17e9e.ico",yme="/cdn/assets/favicon-l4nq08hd.svg";function Eme(e){if(typeof document>"u")throw new Error("not supported in SSR");const t=document.createElement("template");return t.innerHTML=e,t.innerHTML}function Cme(e){return"data:image/svg+xml;utf8,".concat(encodeURIComponent(e))}const JHe=n=>{var r=n,{svgString:e}=r,t=G(r,["svgString"]);const s=C.useMemo(()=>Eme(e),[e]);return s?g.jsx("img",b({src:Cme(s)},t)):null},QHe=({svgString:e,className:t,color:n})=>g.jsx(Ah,{name:"StringToSVG",fallback:g.jsx("div",{className:t}),children:g.jsx("div",{className:ie("[&_svg]:h-full [&_svg]:w-full",t),dangerouslySetInnerHTML:{__html:e},style:{color:n}})}),Sme={prices:{"chatgpt.free":{brl:0,cop:0,clp:0,czk:0,dkk:0,egp:0,eur:0,gbp:0,huf:0,idr:0,inr:0,krw:0,kzt:0,mxn:0,myr:0,ngn:0,nok:0,pen:0,php:0,pkr:0,pln:0,qar:0,ron:0,sek:0,thb:0,tzs:0,usd:0,vnd:0,zar:0},"chatgpt.go":{brl:3999,cop:209e4,clp:799e3,czk:24900,dkk:6900,egp:22e3,eur:850,"eur-at":799,"eur-ax":800,"eur-be":800,"eur-bg":650,"eur-cy":800,"eur-de":800,"eur-ee":800,"eur-es":999,"eur-fi":800,"eur-fr":800,"eur-gf":800,"eur-gp":800,"eur-gr":800,"eur-hr":800,"eur-ie":800,"eur-is":800,"eur-it":800,"eur-lt":800,"eur-lu":800,"eur-lv":800,"eur-mq":800,"eur-mt":800,"eur-nl":800,"eur-pf":800,"eur-pt":799,"eur-rs":500,"eur-si":800,"eur-sk":800,huf:299e3,idr:75e5,inr:39900,kzt:475e3,mxn:11e3,myr:3899,ngn:7e5,nok:12900,pen:1990,php:3e4,pkr:14e4,pln:3499,qar:2900,ron:2999,sek:12900,thb:25900,tzs:145e4,usd:500,"usd-al":700,"usd-am":700,"usd-ar":600,"usd-az":600,"usd-ba":600,"usd-bh":725,"usd-bl":800,"usd-bm":800,"usd-bn":850,"usd-bs":725,"usd-bw":600,"usd-bz":600,"usd-cr":600,"usd-cv":750,"usd-do":600,"usd-ec":600,"usd-fj":600,"usd-fo":800,"usd-ga":550,"usd-ge":700,"usd-gl":800,"usd-gt":600,"usd-gy":600,"usd-jm":600,"usd-kw":800,"usd-ky":800,"usd-lb":600,"usd-ly":550,"usd-ma":550,"usd-md":700,"usd-mf":700,"usd-mk":600,"usd-mu":850,"usd-mv":850,"usd-na":550,"usd-nc":800,"usd-om":800,"usd-pa":800,"usd-pm":800,"usd-py":600,"usd-re":1e3,"usd-sc":1e3,"usd-sh":750,"usd-sr":450,"usd-tm":750,"usd-tr":600,"usd-tt":800,"usd-ua":700,"usd-uy":750,"usd-wf":800,"usd-yt":1e3,vnd:132e5,zar:14900},"chatgpt.plus":{brl:9990,cop:999e4,clp:1999e3,czk:49900,dkk:17900,egp:99999,eur:2300,gbp:2e3,huf:899e3,idr:349e5,inr:199900,krw:29e5,kzt:999e3,mxn:39900,myr:9990,ngn:315e4,nok:24900,pen:7990,php:11e4,pkr:57e4,pln:9999,qar:7e3,ron:9999,sek:24900,thb:69900,tzs:499e4,usd:2e3,vnd:5225e4,zar:39900},"chatgpt.pro":{brl:99990,cop:9999e4,clp:19999e3,czk:499e3,dkk:179900,egp:999999,eur:22900,gbp:2e4,huf:8999e3,idr:3499e5,inr:199e4,krw:299e5,kzt:9999e3,mxn:399900,myr:99990,ngn:2999e4,nok:249e3,pen:79990,php:999e3,pkr:499e4,pln:99999,qar:7e4,ron:99999,sek:249500,thb:699900,tzs:5999e4,usd:2e4,vnd:5225e5,zar:399999},"chatgpt.team.monthly":{brl:15999,cop:11e6,clp:2799e3,czk:62499,dkk:18999,egp:145e3,eur:3400,gbp:3e3,huf:125e4,idr:469e5,inr:259900,krw:439e4,kzt:165e4,mxn:54900,myr:12900,ngn:45e5,nok:29900,pen:9900,php:169900,pkr:849900,pln:10999,qar:11e3,ron:13e3,sek:27999,thb:99900,tzs:74e5,usd:3e3,vnd:799e5,zar:49900},"chatgpt.team.yearly":{brl:13499,cop:935e4,clp:229e4,czk:52499,dkk:15999,egp:12e4,eur:2900,gbp:2500,huf:105e4,idr:389e5,inr:209900,krw:365e4,kzt:1375e3,mxn:45900,myr:10500,ngn:375e4,nok:24900,pen:8500,php:139900,pkr:699900,pln:8999,qar:9e3,ron:11e3,sek:23499,thb:79900,tzs:615e4,usd:2500,vnd:649e5,zar:42500}}},ZHe=["ID","PH","VN","TH","PK","MY","NG","ZA","KZ","TZ","EG","BR","SE","CZ","PL","DK","NO","KR","CO","CL","HU","RO"],e$e={"es-419":{CO:"es-CO",CL:"es-CL",MX:"es-MX",PE:"es-PE"},ar:{QA:"en-US"},"hu-HU":{HU:"en-ZA"}};function t$e(e){return e?Array.isArray(e)?e:[e]:[]}const bme=e=>(e.endsWith("/")||(e=e+"/"),e.startsWith("/")||(e="/"+e),e),n$e=(e,t)=>{var n;return(n=e==null?void 0:e.replace(":","/"))!=null?n:t},r1=e=>e!=null&&e.startsWith("//")?"https:".concat(e):e,r$e=e=>{if(e){const t=e.endsWith(".svg")?"":"&fm=webp";return"".concat(e,"?q=90").concat(t)}return e},s$e=(e,t,n)=>{var o;const r=t.toLowerCase(),s=n.toLowerCase(),i=Sme.prices[e];return(o=i["".concat(r,"-").concat(s)])!=null?o:i[r]},Nm={url:"https://cdn.openai.com/chatgpt/share-og.png",width:1600,height:900,alt:"Abstract art featuring a striking contrast of orange gradients on a blue canvas, overlaid with the white ChatGPT logo."};function i$e(e,t){var f,h,p,_,m,y,v,O,S,E,T,A,w,N,P,x,D,M,F,j,$,q,k,Z,B,Q,se,fe,V,H,ee,z,te;const r=((_=(p=(h=(f=e==null?void 0:e.coverImage)==null?void 0:f.file)==null?void 0:h.contentType)==null?void 0:p.startsWith("image/"))!=null?_:!1)?(y=(m=e==null?void 0:e.coverImage)==null?void 0:m.file)==null?void 0:y.url:void 0,s=e==null?void 0:e.coverImageAlt,i=(E=(S=(O=(v=e==null?void 0:e.seoFields)==null?void 0:v.openGraphImage)==null?void 0:O.file)==null?void 0:S.url)!=null?E:r,o=(A=(T=e==null?void 0:e.seoFields)==null?void 0:T.openGraphImageAlt)!=null?A:s,a=i?{url:r1("".concat(i,"?w=1600&h=900&fit=fill")),width:1600,height:900,alt:o}:Nm,c=(x=(P=(N=(w=e==null?void 0:e.seoFields)==null?void 0:w.twitterImage)==null?void 0:N.file)==null?void 0:P.url)!=null?x:i,l=(M=(D=e==null?void 0:e.seoFields)==null?void 0:D.twitterImageAlt)!=null?M:o,u=c?{url:r1("".concat(c,"?w=1600&h=900&fit=fill")),alt:l}:Nm,d=[(F=e==null?void 0:e.seoFields)!=null&&F.preventIndexing?"noindex":"index",(j=e==null?void 0:e.seoFields)!=null&&j.preventFollowingLinks?"nofollow":"follow"].join(", ");return[{title:e==null?void 0:e.title},{name:"description",content:($=e==null?void 0:e.seoFields)==null?void 0:$.metaDescription},{name:"robots",content:d},{property:"og:type",content:"website"},{property:"og:title",content:(k=(q=e==null?void 0:e.seoFields)==null?void 0:q.openGraphTitle)!=null?k:e==null?void 0:e.title},{property:"og:description",content:(Q=(Z=e==null?void 0:e.seoFields)==null?void 0:Z.openGraphDescription)!=null?Q:(B=e==null?void 0:e.seoFields)==null?void 0:B.metaDescription},{property:"og:image",content:a.url},{property:"og:image:width",content:(se=a.width)==null?void 0:se.toString()},{property:"og:image:height",content:(fe=a.height)==null?void 0:fe.toString()},{property:"og:image:alt",content:a.alt},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:site",content:"@ChatGPTapp"},{name:"twitter:title",content:(H=(V=e==null?void 0:e.seoFields)==null?void 0:V.twitterTitle)!=null?H:e==null?void 0:e.title},{name:"twitter:description",content:(te=(ee=e==null?void 0:e.seoFields)==null?void 0:ee.twitterDescription)!=null?te:(z=e==null?void 0:e.seoFields)==null?void 0:z.metaDescription},{name:"twitter:image",content:u.url},{name:"twitter:image:alt",content:u.alt},F$(t)]}function o$e(e,t){var o,a,c,l,u,d,f,h;const r=((l=(c=(a=(o=e==null?void 0:e.seoImage)==null?void 0:o.file)==null?void 0:a.contentType)==null?void 0:c.startsWith("image/"))!=null?l:!1)?(d=(u=e==null?void 0:e.seoImage)==null?void 0:u.file)==null?void 0:d.url:void 0,s=e==null?void 0:e.seoImageAlt,i=r?{url:r1("".concat(r,"?w=1600&h=900&fit=fill")),width:1600,height:900,alt:s}:Nm;return[{title:e==null?void 0:e.seoTitle},{name:"description",content:e==null?void 0:e.seoDescription},{property:"og:type",content:"website"},{property:"og:title",content:e==null?void 0:e.seoTitle},{property:"og:description",content:e==null?void 0:e.seoDescription},{property:"og:image",content:i.url},{property:"og:image:width",content:(f=i.width)==null?void 0:f.toString()},{property:"og:image:height",content:(h=i.height)==null?void 0:h.toString()},{property:"og:image:alt",content:i.alt},{name:"twitter:site",content:"@ChatGPTapp"},{name:"twitter:title",content:e==null?void 0:e.seoTitle},{name:"twitter:description",content:e==null?void 0:e.seoDescription},{name:"twitter:image",content:i.url},{name:"twitter:image:alt",content:i.alt},F$(t)]}function F$(e){const t=window.location.origin;if(/^https?:\/\//i.test(e))return{tagName:"link",rel:"canonical",href:e};const n=e.indexOf("#"),r=n>=0?e.slice(0,n):e,s=r.indexOf("?"),i=s>=0?r.slice(0,s):r;return{tagName:"link",rel:"canonical",href:"".concat(t).concat(bme(i))}}const WS=At({description:{id:"meta.description.Oct2025Update",defaultMessage:"ChatGPT is your AI chatbot for everyday use. Chat with the most advanced AI to explore ideas, solve problems, and learn faster."},keywords:{id:"meta.keywords",defaultMessage:"ai chat,ai,chap gpt,chat gbt,chat gpt 3,chat gpt login,chat gpt website,chat gpt,chat gtp,chat openai,chat,chatai,chatbot gpt,chatg,chatgpt login,chatgpt,gpt chat,open ai,openai chat,openai chatgpt,openai"},ogDescription:{id:"meta.ogDescription.Nov2025Update",defaultMessage:"ChatGPT helps you get answers, find inspiration, and be more productive."}}),Tme=[{property:"og:title",content:"ChatGPT"},{property:"og:image",content:Nm.url}];function Ome(e){const t=new URL(e,window.location.origin);return Hg(U$(t.pathname))!=null?window.location.origin:t.toString()}function U$(e){return e.replace(/\//g,"")}function HS(e,t){const n=new URL(e,window.location.origin),r=e==="/",s=Hg(U$(n.pathname))!=null;return t===Oh?s?window.location.origin:n.toString():((r||s)&&t?n.pathname="/".concat(t,"/"):!s&&t&&n.searchParams.set("locale",t),n.toString())}function Ame(){const e=ft(),t=nn();return uG().some(s=>{var i;return(i=s.handle)==null?void 0:i.hasRouteMeta})||t.pathname.startsWith("/gg/")?null:g.jsxs(g.Fragment,{children:[g.jsx("meta",{name:"description",content:e.formatMessage(WS.description)}),g.jsx("meta",{name:"keyword",content:e.formatMessage(WS.keywords)}),g.jsx("meta",{property:"og:description",content:e.formatMessage(WS.ogDescription)}),g.jsx("meta",{property:"og:url",content:HS("/",vt().locale)}),g.jsx("meta",{property:"og:site_name",content:"ChatGPT"}),kie().map(s=>g.jsx("link",{rel:"alternate",hrefLang:s,href:HS(t.pathname,s)},s)),g.jsx("link",{rel:"alternate",hrefLang:"x-default",href:Ome(t.pathname)}),g.jsx("link",{rel:"canonical",href:HS(t.pathname)})]})}function wme(){"use forget";const e=W.c(6),t=ce();let n;e[0]!==t?(n=Ot(t,"3927927759").get("enable_mobile_app_upsell_banner",!1),e[0]=t,e[1]=n):n=e[1];const r=n;let s;e[2]!==r?(s=r&&g.jsx("link",{rel:"manifest",href:"/manifest.json"}),e[2]=r,e[3]=s):s=e[3];let i;return e[4]!==s?(i=g.jsx(g.Fragment,{children:s}),e[4]=s,e[5]=i):i=e[5],i}function Nme(){"use forget";const e=W.c(5),{pathname:t}=nn();if(t!=="/")return null;let n,r,s;if(e[0]===Symbol.for("react.memo_cache_sentinel")){const o={"@context":"https://schema.org","@graph":[{"@type":"Organization",name:"ChatGPT",description:"ChatGPT is your AI chatbot for everyday use. Chat with the most advanced AI to explore ideas, solve problems, and learn faster.",url:window.location.origin,logo:window.location.origin+"/favicon.ico",sameAs:["https://x.com/ChatGPTapp","https://www.linkedin.com/company/openai/","https://github.com/openai","https://www.youtube.com/OpenAI"],parentOrganization:{"@type":"Organization",name:"OpenAI",url:"https://openai.com"}}]};n="organization-ld",r="application/ld+json",s=JSON.stringify(o),e[0]=n,e[1]=r,e[2]=s}else n=e[0],r=e[1],s=e[2];let i;return e[3]!==s?(i=g.jsx("script",{id:n,type:r,children:s}),e[3]=s,e[4]=i):i=e[4],i}function Ime(){"use forget";const e=W.c(5),{pathname:t}=nn();if(t!=="/")return null;let n,r,s;if(e[0]===Symbol.for("react.memo_cache_sentinel")){const o={"@context":"https://schema.org","@type":"WebSite",url:window.location.origin+"/",name:"ChatGPT"};n="website-ld",r="application/ld+json",s=JSON.stringify(o),e[0]=n,e[1]=r,e[2]=s}else n=e[0],r=e[1],s=e[2];let i;return e[3]!==s?(i=g.jsx("script",{id:n,type:r,children:s}),e[3]=s,e[4]=i):i=e[4],i}function Pme(){"use forget";const e=W.c(5),{pathname:t}=nn();if(t!=="/")return null;let n,r,s;if(e[0]===Symbol.for("react.memo_cache_sentinel")){const o={"@context":"https://schema.org","@type":"WebPage",url:window.location.origin+"/",name:"ChatGPT â€“ AI Chat & AI Chatbot",description:"Explore ChatGPT, the AI chat platform that helps with content generation, problem-solving, and interactive AI conversations.",publisher:{"@type":"Organization",name:"ChatGPT",logo:{"@type":"ImageObject",url:window.location.origin+"/favicon.ico"}}};n="webpage-ld",r="application/ld+json",s=JSON.stringify(o),e[0]=n,e[1]=r,e[2]=s}else n=e[0],r=e[1],s=e[2];let i;return e[3]!==s?(i=g.jsx("script",{id:n,type:r,children:s}),e[3]=s,e[4]=i):i=e[4],i}function Rme(){"use forget";const e=W.c(15),t=ce(),n="/cdn";let r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r=/^https?:\/\//i.test(n),e[0]=r):r=e[0];const s=r,{pathname:i}=nn();let o;e[1]!==i?(o=!i.startsWith("/share")&&!i.startsWith("/s")&&!i.startsWith("/canvas/shared")&&!i.startsWith("/gg"),e[1]=i,e[2]=o):o=e[2];const a=o;let c;e[3]!==t?(c=Ot(t,"3927927759").get("enable_mobile_app_upsell_banner",!1),e[3]=t,e[4]=c):c=e[4];const l=c;let u,d;e[5]===Symbol.for("react.memo_cache_sentinel")?(u=s?g.jsx("link",{rel:"preconnect",href:n}):null,d=g.jsx("link",{rel:"preconnect",href:window.location.origin}),e[5]=u,e[6]=d):(u=e[5],d=e[6]);let f;e[7]!==a?(f=a&&g.jsx("meta",{name:"robots",content:"index, follow"}),e[7]=a,e[8]=f):f=e[8];let h;e[9]===Symbol.for("react.memo_cache_sentinel")?(h=g.jsx("meta",{httpEquiv:"Content-Type",content:"text/html; charset=utf-8"}),e[9]=h):h=e[9];let p;e[10]!==l?(p=l&&g.jsx("meta",{name:"apple-itunes-app",content:"app-id=6448311069"}),e[10]=l,e[11]=p):p=e[11];let _;return e[12]!==f||e[13]!==p?(_=g.jsxs(g.Fragment,{children:[u,d,f,h,p]}),e[12]=f,e[13]=p,e[14]=_):_=e[14],_}function ZD({href:e}){return g.jsxs(g.Fragment,{children:[g.jsx("link",{rel:"icon",href:e,type:"image/svg+xml"}),g.jsx("link",{rel:"icon",href:e,type:"image/svg+xml",media:"(prefers-color-scheme: dark)"})]})}function xme(){"use forget";const e=W.c(5),{pathname:t}=nn();let n;e[0]!==t?(n=t.startsWith("/codex")?g.jsxs(g.Fragment,{children:[g.jsx("link",{rel:"icon",href:mme,sizes:"32x32"}),g.jsx(ZD,{href:gme})]}):g.jsxs(g.Fragment,{children:[g.jsx("link",{rel:"icon",href:vme,sizes:"32x32"}),g.jsx(ZD,{href:yme})]}),e[0]=t,e[1]=n):n=e[1];let r;e[2]===Symbol.for("react.memo_cache_sentinel")?(r=g.jsx("link",{rel:"apple-touch-icon",sizes:"180x180",href:_me.src}),e[2]=r):r=e[2];let s;return e[3]!==n?(s=g.jsxs(g.Fragment,{children:[n,r]}),e[3]=n,e[4]=s):s=e[4],s}function Mme(e,t,n){return Y.safePatch("/user_system_messages",{requestBody:{conversation_id:t,message_id:n,personality_type_selection:e,enabled:!0}})}function kme(d){var f=d,{conversationId:e=null,messageId:t=null,aboutUserMessage:n,aboutModelMessage:r,nameUserMessage:s="",roleUserMessage:i="",traitsModelMessage:o="",otherUserMessage:a="",disabledTools:c,enabled:l}=f,u=G(f,["conversationId","messageId","aboutUserMessage","aboutModelMessage","nameUserMessage","roleUserMessage","traitsModelMessage","otherUserMessage","disabledTools","enabled"]);const h=I(b({about_user_message:n,about_model_message:r,name_user_message:s,role_user_message:i,traits_model_message:o,other_user_message:a,disabled_tools:c,enabled:l},u),{conversation_id:e,message_id:t});return Y.safePatch("/user_system_messages",{requestBody:h})}function Lme(e,t,n){return Y.safePatch("/user_system_messages",{requestBody:{conversation_id:t,message_id:n,personality_traits:e,enabled:!0}})}function Au(){return ln({queryKey:["userContext"],queryFn:()=>Y.safeGet("/user_system_messages"),select:Dme})}function Dme(e){var f;const d=e,{about_user_message:t,about_model_message:n,name_user_message:r,role_user_message:s,traits_model_message:i,other_user_message:o,disabled_tools:a,enabled:c,object:l}=d,u=G(d,["about_user_message","about_model_message","name_user_message","role_user_message","traits_model_message","other_user_message","disabled_tools","enabled","object"]);return I(b({},u),{aboutUserMessage:t!=null?t:"",aboutModelMessage:n!=null?n:"",nameUserMessage:r!=null?r:"",roleUserMessage:s!=null?s:"",personality_type_selection:(f=e.personality_type_selection)!=null?f:"",traitsModelMessage:i!=null?i:"",otherUserMessage:o!=null?o:"",disabledTools:a!=null?a:[],enabled:c!=null?c:!0})}const Yu=Ie(e=>qt(e,()=>I(b({},Au()),{enabled:yt()}))),a$e=Ie(e=>ye(()=>{var t,n;return(n=(t=Yu(e).data)==null?void 0:t.personality_type_selection)!=null?n:"default"})),Fme=Ie(e=>ye(()=>{var t,n,r;return(r=(n=(t=Yu(e).data)==null?void 0:t.disabledTools)==null?void 0:n.includes(hc.ADVANCED_VOICE))!=null?r:!1})),c$e=Ie(e=>ye(()=>{const t=Yu(e);if(!t||!t.data||!("personality_traits"in t.data))return new Map;const r=t.data.personality_traits;return new Map(Object.entries(r).map(([s,i])=>[s,i||"default"]))})),l$e=Ie(e=>ye(()=>{var t,n;return(n=(t=Yu(e).data)==null?void 0:t.enabled)!=null?n:!1})),Ume=ct(e=>Og(e,{mutationFn:async({personalityType:t,conversationId:n,messageId:r})=>(K.addAction("chatgpt_settings_update_personality_type",{personality_type:t}),await Mme(t,n,r)),onSettled:(t,n)=>{const r=on(e);t!=null&&!n?r.setQueryData(Au().queryKey,t):r.invalidateQueries(Au())}}));function u$e({ctx:e,personalityType:t,conversationId:n,messageId:r,opts:s}){const i=on(e);s!=null&&s.optimistic&&i.setQueryData(Au().queryKey,c=>c&&I(b({},c),{personality_type_selection:t}));const{mutate:o,result$:a}=Ume(e);return o({personalityType:t,conversationId:n,messageId:r}),a}const jme=ct(e=>Og(e,{mutationFn:async({traits:t,conversationId:n,messageId:r})=>(K.addAction("chatgpt_settings_update_personality_traits",{traits:t}),await Lme(t,n,r)),onSettled:(t,n)=>{const r=on(e);(t==null||n)&&r.invalidateQueries(Au())}}));function d$e(e,t,n,r,s){const i={};t.forEach((l,u)=>{i[u]=l!=null?l:"default"});const o=on(e);s!=null&&s.optimistic&&o.setQueryData(Au().queryKey,l=>l&&I(b({},l),{personality_traits:i}));const{mutate:a,result$:c}=jme(e);return a({traits:i,conversationId:n,messageId:r}),c}const Bme=me(!1),f$e=()=>Le(Bme),j$=CW(Wt.SeparateMode,()=>!1);function B$(e,t=!1){const n=yt(),r=typeof location<"u"&&k9(location.pathname)!==void 0;return!n||r?!1:Ot(e,"790459319",{disableExposureLog:t}).get("voice_integrated_ux")}function h$e(){const e=An(),n=Ot(e,"3116403051").get("start-talking-prompt"),r=Me(e,"3681767742");return{layerParam:n,statsigEnabled:r}}function p$e(e){"use forget";const t=W.c(6),n=Le(Gme);let r;t[0]!==e?(r=()=>Fme(e),t[0]=e,t[1]=r):r=t[1];const s=Le(r);let i;return t[2]!==s||t[3]!==e||t[4]!==n?(i=B$(e)&&!n&&!s,t[2]=s,t[3]=e,t[4]=n,t[5]=i):i=t[5],i}function Gme(){return j$()}function _$e(){const e=Bt();Ot(e,"790459319").get("voice_integrated_ux")}const Wme=me({type:"unrequested",granted:!1,active:!1,forceMuted:!1,label:""}),m$e=()=>Le(Wme),G$=me(null);function g$e(){return G$()}const v$e=()=>Le(G$),y$e=me(!1),Hme=me(null),E$e=()=>Le(Hme),$me=me(!1),C$e=()=>Le($me),pc=Qc(()=>({activeRequests:{}})),cI=Ie(()=>Ag(pc)),S$e=(e,t)=>{var n;return(n=cI(e).activeRequests[t])!=null?n:null};function b$e(e){"use forget";const t=W.c(2);let n;return t[0]!==e?(n=r=>W$(e,r),t[0]=e,t[1]=n):n=t[1],ph(pc,n)}const qme=(e,t)=>W$(t,cI(e));function W$(e,t=pc.getState()){return e!=null&&t.activeRequests[e]!=null}const Vme=()=>!1;function T$e(){"use forget";const e=ph(pc,zme),t=Vme();return e||t}function zme(e){return Object.keys(e.activeRequests).length>0}const O$e=e=>Object.keys(cI(e).activeRequests).length>0,Yme={addRequest(e,t,n){pc.setState(r=>({activeRequests:I(b({},r.activeRequests),{[e]:{id:e,abortController:t,turnTracker:n}})}))},removeRequest(e){pc.setState(t=>{const n=b({},t.activeRequests);return delete n[e],{activeRequests:n}})},abortRequest(e){const{activeRequests:t}=pc.getState();return t[e]!=null?(t[e].abortController.abort(),Yme.removeRequest(e),!0):!1}},H$=cg("Conversation"),lr=Yw(H$),Wh=ct(()=>({conversations:{},newClientIdToServerId:{},allKnownConversationIds$:me([])}));function $$(e,t,n){const{conversations:r}=Wh(e),s=b({ctx:e,id:t,serverId$:me(tI(t))},n);return r[t]=s,Kme(e),s}function A$e(e,t){return $$(e,qpe(),t)}function Tv(e,t,n){const{conversations:r,newClientIdToServerId:s}=Wh(e);if(r[t]!=null)return r[t];if(Dh(t)){const i=s[t];if(i!=null&&r[i]!=null)return r[i]}return $$(e,t,n)}function w$e(e,t,n){const r=Tv(e,t);r.serverId$.set(n);const{conversations:s,newClientIdToServerId:i}=Wh(e);delete s[t],s[n]=r,Dh(t)&&(i[t]=n,_$.setServerIdForNewThread(t,n))}function N$e(e){const{conversations:t,allKnownConversationIds$:n}=Wh(e);return n(),Object.values(t)}let $S;function Kme(e){$S==null&&($S=window.setTimeout(()=>{const{conversations:t,allKnownConversationIds$:n}=Wh(e);n.set(Object.keys(t)),$S=void 0},100))}const Xme=C.createContext(void 0);function Jme(){"use forget";return C.use(Xme)}var Qme=(e=>(e.Unavailable="unavailable",e.Thinking="thinking",e.Generating="generating",e.AsyncGenerating="async_generating",e.AsyncHanging="async_hanging",e.Complete="complete",e.Errored="errored",e.Empty="empty",e))(Qme||{});const I$e=["generating","async_generating","async_hanging","thinking"],Zme="sj1i4kz",ege="".concat(hc.T2UAY3K,".").concat(Zme);function tge(e){return e.author.role==="tool"&&e.author.name===ege&&e.content.content_type===Be.MultimodalText}function nge(e,{skipSort:t}={skipSort:!1}){let n=e.filter(i=>{var o;return tge(i)&&!((o=i.metadata)!=null&&o.is_visually_hidden_from_conversation)});t||(n=[...n].sort((i,o)=>{var a,c,l,u;return((c=(a=i.metadata)==null?void 0:a.generation_index)!=null?c:0)-((u=(l=o.metadata)==null?void 0:l.generation_index)!=null?u:0)}));const r=n.flatMap(i=>rv.getImageAssetPointers(i)),s=n.map(i=>i.id);return{imageMessages:n,imageAssetPointers:r,messageIds:s}}const Hh=lr(e=>Ag(Fh,{selector:t=>jc(e.id,t)}));function go(e,t){return lr(n=>ye(()=>e(Hh(n)),t))}go(e=>e==null?void 0:e.title);const rge=go(Ae.getIsNewConversation),sge=go(e=>e==null?void 0:e.defaultModelId),q$=go(Ae.getTree),V$=go(Ae.getCurrentLeafId),P$e=lr(e=>ye(()=>kN(q$(e),V$(e)))),ige=(e,t,n=V$(e))=>q$(e).findNode(t,n),R$e=go(e=>e==null?void 0:e.mode),Ov=lr(e=>ye(()=>{var t;return(t=Ae.getGizmoId(Hh(e)))!=null?t:e.urlGizmoId}));lr(e=>ye(()=>{var t,n;return(n=(t=Hh(e))==null?void 0:t.isLoading)!=null?n:!Dh(e.id)}));const oge=go(Ae.getRequestId),x$e=lr(e=>ye(()=>qme(e.ctx,oge(e)))),M$e=go(e=>e==null?void 0:e.startedWithByoMcp),k$e=go(e=>{if(!e)return!1;const n=Ae.getConversationTurns(e).flatMap(s=>s.messages),{imageAssetPointers:r}=nge(n);return r.some(s=>{var i;return(i=s.metadata)==null?void 0:i.is_no_auth_placeholder})});function z$(e){var t;return e.author.role===je.Assistant&&!!((t=e.metadata)!=null&&t.thinking_effort)}function age(e,t){var r;const n=Ae.getNode(e,t);return n!=null&&n.message&&z$(n.message)?(r=n.message.metadata)==null?void 0:r.thinking_effort:void 0}function cge(e){return Ae.findNode(e,t=>z$(t.message))}const Y$=Ie(e=>ye(()=>{const{data:t}=wh(e);return t?JW(t):KW(e)})),lge=(e,t,n,r)=>{var s,i;if(e.value){const o=(i=(s=t.marks.startend)==null?void 0:s.create(n))!=null?i:null;return t.text(e.value,o?[o,...r!=null?r:[]]:r)}return null};function Dn(e){this.content=e}Dn.prototype={constructor:Dn,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return t==-1?void 0:this.content[t+1]},update:function(e,t,n){var r=n&&n!=e?this.remove(n):this,s=r.find(e),i=r.content.slice();return s==-1?i.push(n||e,t):(i[s+1]=t,n&&(i[s]=n)),new Dn(i)},remove:function(e){var t=this.find(e);if(t==-1)return this;var n=this.content.slice();return n.splice(t,2),new Dn(n)},addToStart:function(e,t){return new Dn([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new Dn(n)},addBefore:function(e,t,n){var r=this.remove(t),s=r.content.slice(),i=r.find(e);return s.splice(i==-1?s.length:i,0,t,n),new Dn(s)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return e=Dn.from(e),e.size?new Dn(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=Dn.from(e),e.size?new Dn(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=Dn.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach(function(t,n){e[t]=n}),e},get size(){return this.content.length>>1}};Dn.from=function(e){if(e instanceof Dn)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new Dn(t)};function K$(e,t,n){for(let r=0;;r++){if(r==e.childCount||r==t.childCount)return e.childCount==t.childCount?null:n;let s=e.child(r),i=t.child(r);if(s==i){n+=s.nodeSize;continue}if(!s.sameMarkup(i))return n;if(s.isText&&s.text!=i.text){for(let o=0;s.text[o]==i.text[o];o++)n++;return n}if(s.content.size||i.content.size){let o=K$(s.content,i.content,n+1);if(o!=null)return o}n+=s.nodeSize}}function X$(e,t,n,r){for(let s=e.childCount,i=t.childCount;;){if(s==0||i==0)return s==i?null:{a:n,b:r};let o=e.child(--s),a=t.child(--i),c=o.nodeSize;if(o==a){n-=c,r-=c;continue}if(!o.sameMarkup(a))return{a:n,b:r};if(o.isText&&o.text!=a.text){let l=0,u=Math.min(o.text.length,a.text.length);for(;l<u&&o.text[o.text.length-l-1]==a.text[a.text.length-l-1];)l++,n--,r--;return{a:n,b:r}}if(o.content.size||a.content.size){let l=X$(o.content,a.content,n-1,r-1);if(l)return l}n-=c,r-=c}}class de{constructor(t,n){if(this.content=t,this.size=n||0,n==null)for(let r=0;r<t.length;r++)this.size+=t[r].nodeSize}nodesBetween(t,n,r,s=0,i){for(let o=0,a=0;a<n;o++){let c=this.content[o],l=a+c.nodeSize;if(l>t&&r(c,s+a,i||null,o)!==!1&&c.content.size){let u=a+1;c.nodesBetween(Math.max(0,t-u),Math.min(c.content.size,n-u),r,s+u)}a=l}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,n,r,s){let i="",o=!0;return this.nodesBetween(t,n,(a,c)=>{let l=a.isText?a.text.slice(Math.max(t,c)-c,n-c):a.isLeaf?s?typeof s=="function"?s(a):s:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&l||a.isTextblock)&&r&&(o?o=!1:i+=r),i+=l},0),i}append(t){if(!t.size)return this;if(!this.size)return t;let n=this.lastChild,r=t.firstChild,s=this.content.slice(),i=0;for(n.isText&&n.sameMarkup(r)&&(s[s.length-1]=n.withText(n.text+r.text),i=1);i<t.content.length;i++)s.push(t.content[i]);return new de(s,this.size+t.size)}cut(t,n=this.size){if(t==0&&n==this.size)return this;let r=[],s=0;if(n>t)for(let i=0,o=0;o<n;i++){let a=this.content[i],c=o+a.nodeSize;c>t&&((o<t||c>n)&&(a.isText?a=a.cut(Math.max(0,t-o),Math.min(a.text.length,n-o)):a=a.cut(Math.max(0,t-o-1),Math.min(a.content.size,n-o-1))),r.push(a),s+=a.nodeSize),o=c}return new de(r,s)}cutByIndex(t,n){return t==n?de.empty:t==0&&n==this.content.length?this:new de(this.content.slice(t,n))}replaceChild(t,n){let r=this.content[t];if(r==n)return this;let s=this.content.slice(),i=this.size+n.nodeSize-r.nodeSize;return s[t]=n,new de(s,i)}addToStart(t){return new de([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new de(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(t.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let n=this.content[t];if(!n)throw new RangeError("Index "+t+" out of range for "+this);return n}maybeChild(t){return this.content[t]||null}forEach(t){for(let n=0,r=0;n<this.content.length;n++){let s=this.content[n];t(s,r,n),r+=s.nodeSize}}findDiffStart(t,n=0){return K$(this,t,n)}findDiffEnd(t,n=this.size,r=t.size){return X$(this,t,n,r)}findIndex(t,n=-1){if(t==0)return Up(0,t);if(t==this.size)return Up(this.content.length,t);if(t>this.size||t<0)throw new RangeError("Position ".concat(t," outside of fragment (").concat(this,")"));for(let r=0,s=0;;r++){let i=this.child(r),o=s+i.nodeSize;if(o>=t)return o==t||n>0?Up(r+1,o):Up(r,s);s=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,n){if(!n)return de.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new de(n.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return de.empty;let n,r=0;for(let s=0;s<t.length;s++){let i=t[s];r+=i.nodeSize,s&&i.isText&&t[s-1].sameMarkup(i)?(n||(n=t.slice(0,s)),n[n.length-1]=i.withText(n[n.length-1].text+i.text)):n&&n.push(i)}return new de(n||t,r)}static from(t){if(!t)return de.empty;if(t instanceof de)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new de([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}de.empty=new de([],0);const qS={index:0,offset:0};function Up(e,t){return qS.index=e,qS.offset=t,qS}function Im(e,t){if(e===t)return!0;if(!(e&&typeof e=="object")||!(t&&typeof t=="object"))return!1;let n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!Im(e[r],t[r]))return!1}else{for(let r in e)if(!(r in t)||!Im(e[r],t[r]))return!1;for(let r in t)if(!(r in e))return!1}return!0}class pt{constructor(t,n){this.type=t,this.attrs=n}addToSet(t){let n,r=!1;for(let s=0;s<t.length;s++){let i=t[s];if(this.eq(i))return t;if(this.type.excludes(i.type))n||(n=t.slice(0,s));else{if(i.type.excludes(this.type))return t;!r&&i.type.rank>this.type.rank&&(n||(n=t.slice(0,s)),n.push(this),r=!0),n&&n.push(i)}}return n||(n=t.slice()),r||n.push(this),n}removeFromSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return t.slice(0,n).concat(t.slice(n+1));return t}isInSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return!0;return!1}eq(t){return this==t||this.type==t.type&&Im(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=t.marks[n.type];if(!r)throw new RangeError("There is no mark type ".concat(n.type," in this schema"));let s=r.create(n.attrs);return r.checkAttrs(s.attrs),s}static sameSet(t,n){if(t==n)return!0;if(t.length!=n.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].eq(n[r]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&t.length==0)return pt.none;if(t instanceof pt)return[t];let n=t.slice();return n.sort((r,s)=>r.type.rank-s.type.rank),n}}pt.none=[];class Pm extends Error{}class Oe{constructor(t,n,r){this.content=t,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,n){let r=Q$(this.content,t+this.openStart,n);return r&&new Oe(r,this.openStart,this.openEnd)}removeBetween(t,n){return new Oe(J$(this.content,t+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,n){if(!n)return Oe.empty;let r=n.openStart||0,s=n.openEnd||0;if(typeof r!="number"||typeof s!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Oe(de.fromJSON(t,n.content),r,s)}static maxOpen(t,n=!0){let r=0,s=0;for(let i=t.firstChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.firstChild)r++;for(let i=t.lastChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.lastChild)s++;return new Oe(t,r,s)}}Oe.empty=new Oe(de.empty,0,0);function J$(e,t,n){let{index:r,offset:s}=e.findIndex(t),i=e.maybeChild(r),{index:o,offset:a}=e.findIndex(n);if(s==t||i.isText){if(a!=n&&!e.child(o).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(r!=o)throw new RangeError("Removing non-flat range");return e.replaceChild(r,i.copy(J$(i.content,t-s-1,n-s-1)))}function Q$(e,t,n,r){let{index:s,offset:i}=e.findIndex(t),o=e.maybeChild(s);if(i==t||o.isText)return e.cut(0,t).append(n).append(e.cut(t));let a=Q$(o.content,t-i-1,n);return a&&e.replaceChild(s,o.copy(a))}function uge(e,t,n){if(n.openStart>e.depth)throw new Pm("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new Pm("Inconsistent open depths");return Z$(e,t,n,0)}function Z$(e,t,n,r){let s=e.index(r),i=e.node(r);if(s==t.index(r)&&r<e.depth-n.openStart){let o=Z$(e,t,n,r+1);return i.copy(i.content.replaceChild(s,o))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&e.depth==r&&t.depth==r){let o=e.parent,a=o.content;return mc(o,a.cut(0,e.parentOffset).append(n.content).append(a.cut(t.parentOffset)))}else{let{start:o,end:a}=dge(n,e);return mc(i,tq(e,o,a,t,r))}else return mc(i,Rm(e,t,r))}function eq(e,t){if(!t.type.compatibleContent(e.type))throw new Pm("Cannot join "+t.type.name+" onto "+e.type.name)}function s1(e,t,n){let r=e.node(n);return eq(r,t.node(n)),r}function _c(e,t){let n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function tf(e,t,n,r){let s=(t||e).node(n),i=0,o=t?t.index(n):s.childCount;e&&(i=e.index(n),e.depth>n?i++:e.textOffset&&(_c(e.nodeAfter,r),i++));for(let a=i;a<o;a++)_c(s.child(a),r);t&&t.depth==n&&t.textOffset&&_c(t.nodeBefore,r)}function mc(e,t){return e.type.checkContent(t),e.copy(t)}function tq(e,t,n,r,s){let i=e.depth>s&&s1(e,t,s+1),o=r.depth>s&&s1(n,r,s+1),a=[];return tf(null,e,s,a),i&&o&&t.index(s)==n.index(s)?(eq(i,o),_c(mc(i,tq(e,t,n,r,s+1)),a)):(i&&_c(mc(i,Rm(e,t,s+1)),a),tf(t,n,s,a),o&&_c(mc(o,Rm(n,r,s+1)),a)),tf(r,null,s,a),new de(a)}function Rm(e,t,n){let r=[];if(tf(null,e,n,r),e.depth>n){let s=s1(e,t,n+1);_c(mc(s,Rm(e,t,n+1)),r)}return tf(t,null,n,r),new de(r)}function dge(e,t){let n=t.depth-e.openStart,s=t.node(n).copy(e.content);for(let i=n-1;i>=0;i--)s=t.node(i).copy(de.from(s));return{start:s.resolveNoCache(e.openStart+n),end:s.resolveNoCache(s.content.size-e.openEnd-n)}}class Pf{constructor(t,n,r){this.pos=t,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(t){return t==null?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[this.resolveDepth(t)*3]}index(t){return this.path[this.resolveDepth(t)*3+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t==this.depth&&!this.textOffset?0:1)}start(t){return t=this.resolveDepth(t),t==0?0:this.path[t*3-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]}after(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]+this.path[t*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,n=this.index(this.depth);if(n==t.childCount)return null;let r=this.pos-this.path[this.path.length-1],s=t.child(n);return r?t.child(n).cut(r):s}get nodeBefore(){let t=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(t).cut(0,n):t==0?null:this.parent.child(t-1)}posAtIndex(t,n){n=this.resolveDepth(n);let r=this.path[n*3],s=n==0?0:this.path[n*3-1]+1;for(let i=0;i<t;i++)s+=r.child(i).nodeSize;return s}marks(){let t=this.parent,n=this.index();if(t.content.size==0)return pt.none;if(this.textOffset)return t.child(n).marks;let r=t.maybeChild(n-1),s=t.maybeChild(n);if(!r){let a=r;r=s,s=a}let i=r.marks;for(var o=0;o<i.length;o++)i[o].type.spec.inclusive===!1&&(!s||!i[o].isInSet(s.marks))&&(i=i[o--].removeFromSet(i));return i}marksAcross(t){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,s=t.parent.maybeChild(t.index());for(var i=0;i<r.length;i++)r[i].type.spec.inclusive===!1&&(!s||!r[i].isInSet(s.marks))&&(r=r[i--].removeFromSet(r));return r}sharedDepth(t){for(let n=this.depth;n>0;n--)if(this.start(n)<=t&&this.end(n)>=t)return n;return 0}blockRange(t=this,n){if(t.pos<this.pos)return t.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);r>=0;r--)if(t.pos<=this.end(r)&&(!n||n(this.node(r))))return new pge(this,t,r);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let n=1;n<=this.depth;n++)t+=(t?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return t+":"+this.parentOffset}static resolve(t,n){if(!(n>=0&&n<=t.content.size))throw new RangeError("Position "+n+" out of range");let r=[],s=0,i=n;for(let o=t;;){let{index:a,offset:c}=o.content.findIndex(i),l=i-c;if(r.push(o,a,s+c),!l||(o=o.child(a),o.isText))break;i=l-1,s+=c+1}return new Pf(n,r,i)}static resolveCached(t,n){let r=e3.get(t);if(r)for(let i=0;i<r.elts.length;i++){let o=r.elts[i];if(o.pos==n)return o}else e3.set(t,r=new fge);let s=r.elts[r.i]=Pf.resolve(t,n);return r.i=(r.i+1)%hge,s}}class fge{constructor(){this.elts=[],this.i=0}}const hge=12,e3=new WeakMap;class pge{constructor(t,n,r){this.$from=t,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const _ge=Object.create(null);let gc=class i1{constructor(t,n,r,s=pt.none){this.type=t,this.attrs=n,this.marks=s,this.content=r||de.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,n,r,s=0){this.content.nodesBetween(t,n,r,s,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,n,r,s){return this.content.textBetween(t,n,r,s)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,n,r){return this.type==t&&Im(this.attrs,n||t.defaultAttrs||_ge)&&pt.sameSet(this.marks,r||pt.none)}copy(t=null){return t==this.content?this:new i1(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new i1(this.type,this.attrs,this.content,t)}cut(t,n=this.content.size){return t==0&&n==this.content.size?this:this.copy(this.content.cut(t,n))}slice(t,n=this.content.size,r=!1){if(t==n)return Oe.empty;let s=this.resolve(t),i=this.resolve(n),o=r?0:s.sharedDepth(n),a=s.start(o),l=s.node(o).content.cut(s.pos-a,i.pos-a);return new Oe(l,s.depth-o,i.depth-o)}replace(t,n,r){return uge(this.resolve(t),this.resolve(n),r)}nodeAt(t){for(let n=this;;){let{index:r,offset:s}=n.content.findIndex(t);if(n=n.maybeChild(r),!n)return null;if(s==t||n.isText)return n;t-=s+1}}childAfter(t){let{index:n,offset:r}=this.content.findIndex(t);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(t){if(t==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(t);if(r<t)return{node:this.content.child(n),index:n,offset:r};let s=this.content.child(n-1);return{node:s,index:n-1,offset:r-s.nodeSize}}resolve(t){return Pf.resolveCached(this,t)}resolveNoCache(t){return Pf.resolve(this,t)}rangeHasMark(t,n,r){let s=!1;return n>t&&this.nodesBetween(t,n,i=>(r.isInSet(i.marks)&&(s=!0),!s)),s}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),nq(this.marks,t)}contentMatchAt(t){let n=this.type.contentMatch.matchFragment(this.content,0,t);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(t,n,r=de.empty,s=0,i=r.childCount){let o=this.contentMatchAt(t).matchFragment(r,s,i),a=o&&o.matchFragment(this.content,n);if(!a||!a.validEnd)return!1;for(let c=s;c<i;c++)if(!this.type.allowsMarks(r.child(c).marks))return!1;return!0}canReplaceWith(t,n,r,s){if(s&&!this.type.allowsMarks(s))return!1;let i=this.contentMatchAt(t).matchType(r),o=i&&i.matchFragment(this.content,n);return o?o.validEnd:!1}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let t=pt.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),t=r.addToSet(t)}if(!pt.sameSet(t,this.marks))throw new RangeError("Invalid collection of marks for node ".concat(this.type.name,": ").concat(this.marks.map(n=>n.type.name)));this.content.forEach(n=>n.check())}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(n=>n.toJSON())),t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(t.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return t.text(n.text,r)}let s=de.fromJSON(t,n.content),i=t.nodeType(n.type).create(n.attrs,s,r);return i.type.checkAttrs(i.attrs),i}};gc.prototype.text=void 0;class xm extends gc{constructor(t,n,r,s){if(super(t,n,null,s),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):nq(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,n){return this.text.slice(t,n)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new xm(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new xm(this.type,this.attrs,t,this.marks)}cut(t=0,n=this.text.length){return t==0&&n==this.text.length?this:this.withText(this.text.slice(t,n))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}}function nq(e,t){for(let n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}class Bc{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,n){let r=new mge(t,n);if(r.next==null)return Bc.empty;let s=rq(r);r.next&&r.err("Unexpected trailing text");let i=bge(Sge(s));return Tge(i,r),i}matchType(t){for(let n=0;n<this.next.length;n++)if(this.next[n].type==t)return this.next[n].next;return null}matchFragment(t,n=0,r=t.childCount){let s=this;for(let i=n;s&&i<r;i++)s=s.matchType(t.child(i).type);return s}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:n}=this.next[t];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(t){for(let n=0;n<this.next.length;n++)for(let r=0;r<t.next.length;r++)if(this.next[n].type==t.next[r].type)return!0;return!1}fillBefore(t,n=!1,r=0){let s=[this];function i(o,a){let c=o.matchFragment(t,r);if(c&&(!n||c.validEnd))return de.from(a.map(l=>l.createAndFill()));for(let l=0;l<o.next.length;l++){let{type:u,next:d}=o.next[l];if(!(u.isText||u.hasRequiredAttrs())&&s.indexOf(d)==-1){s.push(d);let f=i(d,a.concat(u));if(f)return f}}return null}return i(this,[])}findWrapping(t){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==t)return this.wrapCache[r+1];let n=this.computeWrapping(t);return this.wrapCache.push(t,n),n}computeWrapping(t){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let s=r.shift(),i=s.match;if(i.matchType(t)){let o=[];for(let a=s;a.type;a=a.via)o.push(a.type);return o.reverse()}for(let o=0;o<i.next.length;o++){let{type:a,next:c}=i.next[o];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in n)&&(!s.type||c.validEnd)&&(r.push({match:a.contentMatch,type:a,via:s}),n[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError("There's no ".concat(t,"th edge in this content match"));return this.next[t]}toString(){let t=[];function n(r){t.push(r);for(let s=0;s<r.next.length;s++)t.indexOf(r.next[s].next)==-1&&n(r.next[s].next)}return n(this),t.map((r,s)=>{let i=s+(r.validEnd?"*":" ")+" ";for(let o=0;o<r.next.length;o++)i+=(o?", ":"")+r.next[o].type.name+"->"+t.indexOf(r.next[o].next);return i}).join("\n")}}Bc.empty=new Bc(!0);class mge{constructor(t,n){this.string=t,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}}function rq(e){let t=[];do t.push(gge(e));while(e.eat("|"));return t.length==1?t[0]:{type:"choice",exprs:t}}function gge(e){let t=[];do t.push(vge(e));while(e.next&&e.next!=")"&&e.next!="|");return t.length==1?t[0]:{type:"seq",exprs:t}}function vge(e){let t=Cge(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else if(e.eat("{"))t=yge(e,t);else break;return t}function t3(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function yge(e,t){let n=t3(e),r=n;return e.eat(",")&&(e.next!="}"?r=t3(e):r=-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}function Ege(e,t){let n=e.nodeTypes,r=n[t];if(r)return[r];let s=[];for(let i in n){let o=n[i];o.groups.indexOf(t)>-1&&s.push(o)}return s.length==0&&e.err("No node type or group '"+t+"' found"),s}function Cge(e){if(e.eat("(")){let t=rq(e);return e.eat(")")||e.err("Missing closing paren"),t}else if(/\W/.test(e.next))e.err("Unexpected token '"+e.next+"'");else{let t=Ege(e,e.next).map(n=>(e.inline==null?e.inline=n.isInline:e.inline!=n.isInline&&e.err("Mixing inline and block content"),{type:"name",value:n}));return e.pos++,t.length==1?t[0]:{type:"choice",exprs:t}}}function Sge(e){let t=[[]];return s(i(e,0),n()),t;function n(){return t.push([])-1}function r(o,a,c){let l={term:c,to:a};return t[o].push(l),l}function s(o,a){o.forEach(c=>c.to=a)}function i(o,a){if(o.type=="choice")return o.exprs.reduce((c,l)=>c.concat(i(l,a)),[]);if(o.type=="seq")for(let c=0;;c++){let l=i(o.exprs[c],a);if(c==o.exprs.length-1)return l;s(l,a=n())}else if(o.type=="star"){let c=n();return r(a,c),s(i(o.expr,c),c),[r(c)]}else if(o.type=="plus"){let c=n();return s(i(o.expr,a),c),s(i(o.expr,c),c),[r(c)]}else{if(o.type=="opt")return[r(a)].concat(i(o.expr,a));if(o.type=="range"){let c=a;for(let l=0;l<o.min;l++){let u=n();s(i(o.expr,c),u),c=u}if(o.max==-1)s(i(o.expr,c),c);else for(let l=o.min;l<o.max;l++){let u=n();r(c,u),s(i(o.expr,c),u),c=u}return[r(c)]}else{if(o.type=="name")return[r(a,void 0,o.value)];throw new Error("Unknown expr type")}}}}function sq(e,t){return t-e}function n3(e,t){let n=[];return r(t),n.sort(sq);function r(s){let i=e[s];if(i.length==1&&!i[0].term)return r(i[0].to);n.push(s);for(let o=0;o<i.length;o++){let{term:a,to:c}=i[o];!a&&n.indexOf(c)==-1&&r(c)}}}function bge(e){let t=Object.create(null);return n(n3(e,0));function n(r){let s=[];r.forEach(o=>{e[o].forEach(({term:a,to:c})=>{if(!a)return;let l;for(let u=0;u<s.length;u++)s[u][0]==a&&(l=s[u][1]);n3(e,c).forEach(u=>{l||s.push([a,l=[]]),l.indexOf(u)==-1&&l.push(u)})})});let i=t[r.join(",")]=new Bc(r.indexOf(e.length-1)>-1);for(let o=0;o<s.length;o++){let a=s[o][1].sort(sq);i.next.push({type:s[o][0],next:t[a.join(",")]||n(a)})}return i}}function Tge(e,t){for(let n=0,r=[e];n<r.length;n++){let s=r[n],i=!s.validEnd,o=[];for(let a=0;a<s.next.length;a++){let{type:c,next:l}=s.next[a];o.push(c.name),i&&!(c.isText||c.hasRequiredAttrs())&&(i=!1),r.indexOf(l)==-1&&r.push(l)}i&&t.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function iq(e){let t=Object.create(null);for(let n in e){let r=e[n];if(!r.hasDefault)return null;t[n]=r.default}return t}function oq(e,t){let n=Object.create(null);for(let r in e){let s=t&&t[r];if(s===void 0){let i=e[r];if(i.hasDefault)s=i.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=s}return n}function aq(e,t,n,r){for(let s in t)if(!(s in e))throw new RangeError("Unsupported attribute ".concat(s," for ").concat(n," of type ").concat(s));for(let s in e){let i=e[s];i.validate&&i.validate(t[s])}}function cq(e,t){let n=Object.create(null);if(t)for(let r in t)n[r]=new Age(e,r,t[r]);return n}let r3=class lq{constructor(t,n,r){this.name=t,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=cq(t,r.attrs),this.defaultAttrs=iq(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||t=="text"),this.isText=t=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Bc.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:oq(this.attrs,t)}create(t=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new gc(this,this.computeAttrs(t),de.from(n),pt.setFrom(r))}createChecked(t=null,n,r){return n=de.from(n),this.checkContent(n),new gc(this,this.computeAttrs(t),n,pt.setFrom(r))}createAndFill(t=null,n,r){if(t=this.computeAttrs(t),n=de.from(n),n.size){let o=this.contentMatch.fillBefore(n);if(!o)return null;n=o.append(n)}let s=this.contentMatch.matchFragment(n),i=s&&s.fillBefore(de.empty,!0);return i?new gc(this,t,n.append(i),pt.setFrom(r)):null}validContent(t){let n=this.contentMatch.matchFragment(t);if(!n||!n.validEnd)return!1;for(let r=0;r<t.childCount;r++)if(!this.allowsMarks(t.child(r).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw new RangeError("Invalid content for node ".concat(this.name,": ").concat(t.toString().slice(0,50)))}checkAttrs(t){aq(this.attrs,t,"node",this.name)}allowsMarkType(t){return this.markSet==null||this.markSet.indexOf(t)>-1}allowsMarks(t){if(this.markSet==null)return!0;for(let n=0;n<t.length;n++)if(!this.allowsMarkType(t[n].type))return!1;return!0}allowedMarks(t){if(this.markSet==null)return t;let n;for(let r=0;r<t.length;r++)this.allowsMarkType(t[r].type)?n&&n.push(t[r]):n||(n=t.slice(0,r));return n?n.length?n:pt.none:t}static compile(t,n){let r=Object.create(null);t.forEach((i,o)=>r[i]=new lq(i,n,o));let s=n.spec.topNode||"doc";if(!r[s])throw new RangeError("Schema is missing its top node type ('"+s+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let i in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function Oge(e,t,n){let r=n.split("|");return s=>{let i=s===null?"null":typeof s;if(r.indexOf(i)<0)throw new RangeError("Expected value of type ".concat(r," for attribute ").concat(t," on type ").concat(e,", got ").concat(i))}}class Age{constructor(t,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?Oge(t,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class Av{constructor(t,n,r,s){this.name=t,this.rank=n,this.schema=r,this.spec=s,this.attrs=cq(t,s.attrs),this.excluded=null;let i=iq(this.attrs);this.instance=i?new pt(this,i):null}create(t=null){return!t&&this.instance?this.instance:new pt(this,oq(this.attrs,t))}static compile(t,n){let r=Object.create(null),s=0;return t.forEach((i,o)=>r[i]=new Av(i,s++,n,o)),r}removeFromSet(t){for(var n=0;n<t.length;n++)t[n].type==this&&(t=t.slice(0,n).concat(t.slice(n+1)),n--);return t}isInSet(t){for(let n=0;n<t.length;n++)if(t[n].type==this)return t[n]}checkAttrs(t){aq(this.attrs,t,"mark",this.name)}excludes(t){return this.excluded.indexOf(t)>-1}}class wge{constructor(t){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let s in t)n[s]=t[s];n.nodes=Dn.from(t.nodes),n.marks=Dn.from(t.marks||{}),this.nodes=r3.compile(this.spec.nodes,this),this.marks=Av.compile(this.spec.marks,this);let r=Object.create(null);for(let s in this.nodes){if(s in this.marks)throw new RangeError(s+" can not be both a node and a mark");let i=this.nodes[s],o=i.spec.content||"",a=i.spec.marks;if(i.contentMatch=r[o]||(r[o]=Bc.parse(o,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!i.isInline||!i.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=i}i.markSet=a=="_"?null:a?s3(this,a.split(" ")):a==""||!i.inlineContent?[]:null}for(let s in this.marks){let i=this.marks[s],o=i.spec.excludes;i.excluded=o==null?[i]:o==""?[]:s3(this,o.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,n=null,r,s){if(typeof t=="string")t=this.nodeType(t);else if(t instanceof r3){if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}else throw new RangeError("Invalid node type: "+t);return t.createChecked(n,r,s)}text(t,n){let r=this.nodes.text;return new xm(r,r.defaultAttrs,t,pt.setFrom(n))}mark(t,n){return typeof t=="string"&&(t=this.marks[t]),t.create(n)}nodeFromJSON(t){return gc.fromJSON(this,t)}markFromJSON(t){return pt.fromJSON(this,t)}nodeType(t){let n=this.nodes[t];if(!n)throw new RangeError("Unknown node type: "+t);return n}}function s3(e,t){let n=[];for(let r=0;r<t.length;r++){let s=t[r],i=e.marks[s],o=i;if(i)n.push(i);else for(let a in e.marks){let c=e.marks[a];(s=="_"||c.spec.group&&c.spec.group.split(" ").indexOf(s)>-1)&&n.push(o=c)}if(!o)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}function Nge(e){return e.tag!=null}function Ige(e){return e.style!=null}class Rf{constructor(t,n){this.schema=t,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(s=>{if(Nge(s))this.tags.push(s);else if(Ige(s)){let i=/[^=]*/.exec(s.style)[0];r.indexOf(i)<0&&r.push(i),this.styles.push(s)}}),this.normalizeLists=!this.tags.some(s=>{if(!/^(ul|ol)\b/.test(s.tag)||!s.node)return!1;let i=t.nodes[s.node];return i.contentMatch.matchType(i)})}parse(t,n={}){let r=new o3(this,n,!1);return r.addAll(t,n.from,n.to),r.finish()}parseSlice(t,n={}){let r=new o3(this,n,!0);return r.addAll(t,n.from,n.to),Oe.maxOpen(r.finish())}matchTag(t,n,r){for(let s=r?this.tags.indexOf(r)+1:0;s<this.tags.length;s++){let i=this.tags[s];if(xge(t,i.tag)&&(i.namespace===void 0||t.namespaceURI==i.namespace)&&(!i.context||n.matchesContext(i.context))){if(i.getAttrs){let o=i.getAttrs(t);if(o===!1)continue;i.attrs=o||void 0}return i}}}matchStyle(t,n,r,s){for(let i=s?this.styles.indexOf(s)+1:0;i<this.styles.length;i++){let o=this.styles[i],a=o.style;if(!(a.indexOf(t)!=0||o.context&&!r.matchesContext(o.context)||a.length>t.length&&(a.charCodeAt(t.length)!=61||a.slice(t.length+1)!=n))){if(o.getAttrs){let c=o.getAttrs(n);if(c===!1)continue;o.attrs=c||void 0}return o}}}static schemaRules(t){let n=[];function r(s){let i=s.priority==null?50:s.priority,o=0;for(;o<n.length;o++){let a=n[o];if((a.priority==null?50:a.priority)<i)break}n.splice(o,0,s)}for(let s in t.marks){let i=t.marks[s].spec.parseDOM;i&&i.forEach(o=>{r(o=a3(o)),o.mark||o.ignore||o.clearMark||(o.mark=s)})}for(let s in t.nodes){let i=t.nodes[s].spec.parseDOM;i&&i.forEach(o=>{r(o=a3(o)),o.node||o.ignore||o.mark||(o.node=s)})}return n}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new Rf(t,Rf.schemaRules(t)))}}const uq={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Pge={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},dq={ol:!0,ul:!0},Mm=1,km=2,nf=4;function i3(e,t,n){return t!=null?(t?Mm:0)|(t==="full"?km:0):e&&e.whitespace=="pre"?Mm|km:n&~nf}class jp{constructor(t,n,r,s,i,o,a){this.type=t,this.attrs=n,this.marks=r,this.pendingMarks=s,this.solid=i,this.options=a,this.content=[],this.activeMarks=pt.none,this.stashMarks=[],this.match=o||(a&nf?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(de.from(t));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,s;return(s=r.findWrapping(t.type))?(this.match=r,s):null}}return this.match.findWrapping(t.type)}finish(t){if(!(this.options&Mm)){let r=this.content[this.content.length-1],s;if(r&&r.isText&&(s=/[ \t\r\n\u000c]+$/.exec(r.text))){let i=r;r.text.length==s[0].length?this.content.pop():this.content[this.content.length-1]=i.withText(i.text.slice(0,i.text.length-s[0].length))}}let n=de.from(this.content);return!t&&this.match&&(n=n.append(this.match.fillBefore(de.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}popFromStashMark(t){for(let n=this.stashMarks.length-1;n>=0;n--)if(t.eq(this.stashMarks[n]))return this.stashMarks.splice(n,1)[0]}applyPending(t){for(let n=0,r=this.pendingMarks;n<r.length;n++){let s=r[n];(this.type?this.type.allowsMarkType(s.type):Mge(s.type,t))&&!s.isInSet(this.activeMarks)&&(this.activeMarks=s.addToSet(this.activeMarks),this.pendingMarks=s.removeFromSet(this.pendingMarks))}}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!uq.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class o3{constructor(t,n,r){this.parser=t,this.options=n,this.isOpen=r,this.open=0;let s=n.topNode,i,o=i3(null,n.preserveWhitespace,0)|(r?nf:0);s?i=new jp(s.type,s.attrs,pt.none,pt.none,!0,n.topMatch||s.type.contentMatch,o):r?i=new jp(null,null,pt.none,pt.none,!0,null,o):i=new jp(t.schema.topNodeType,null,pt.none,pt.none,!0,null,o),this.nodes=[i],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t){t.nodeType==3?this.addTextNode(t):t.nodeType==1&&this.addElement(t)}withStyleRules(t,n){let r=t.style;if(!r||!r.length)return n();let s=this.readStyles(t.style);if(!s)return;let[i,o]=s,a=this.top;for(let c=0;c<o.length;c++)this.removePendingMark(o[c],a);for(let c=0;c<i.length;c++)this.addPendingMark(i[c]);n();for(let c=0;c<i.length;c++)this.removePendingMark(i[c],a);for(let c=0;c<o.length;c++)this.addPendingMark(o[c])}addTextNode(t){let n=t.nodeValue,r=this.top;if(r.options&km||r.inlineContext(t)||/[^ \t\r\n\u000c]/.test(n)){if(r.options&Mm)r.options&km?n=n.replace(/\r\n?/g,"\n"):n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let s=r.content[r.content.length-1],i=t.previousSibling;(!s||i&&i.nodeName=="BR"||s.isText&&/[ \t\r\n\u000c]$/.test(s.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n)),this.findInText(t)}else this.findInside(t)}addElement(t,n){let r=t.nodeName.toLowerCase(),s;dq.hasOwnProperty(r)&&this.parser.normalizeLists&&Rge(t);let i=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(s=this.parser.matchTag(t,this,n));if(i?i.ignore:Pge.hasOwnProperty(r))this.findInside(t),this.ignoreFallback(t);else if(!i||i.skip||i.closeParent){i&&i.closeParent?this.open=Math.max(0,this.open-1):i&&i.skip.nodeType&&(t=i.skip);let o,a=this.top,c=this.needsBlock;if(uq.hasOwnProperty(r))a.content.length&&a.content[0].isInline&&this.open&&(this.open--,a=this.top),o=!0,a.type||(this.needsBlock=!0);else if(!t.firstChild){this.leafFallback(t);return}i&&i.skip?this.addAll(t):this.withStyleRules(t,()=>this.addAll(t)),o&&this.sync(a),this.needsBlock=c}else this.withStyleRules(t,()=>{this.addElementByRule(t,i,i.consuming===!1?s:void 0)})}leafFallback(t){t.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode("\n"))}ignoreFallback(t){t.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(t){let n=pt.none,r=pt.none;if(t.length)for(let s=0;s<this.parser.matchedStyles.length;s++){let i=this.parser.matchedStyles[s],o=t.getPropertyValue(i);if(o)for(let a=void 0;;){let c=this.parser.matchStyle(i,o,this,a);if(!c)break;if(c.ignore)return null;if(c.clearMark?this.top.pendingMarks.concat(this.top.activeMarks).forEach(l=>{c.clearMark(l)&&(r=l.addToSet(r))}):n=this.parser.schema.marks[c.mark].create(c.attrs).addToSet(n),c.consuming===!1)a=c;else break}}return[n,r]}addElementByRule(t,n,r){let s,i,o;n.node?(i=this.parser.schema.nodes[n.node],i.isLeaf?this.insertNode(i.create(n.attrs))||this.leafFallback(t):s=this.enter(i,n.attrs||null,n.preserveWhitespace)):(o=this.parser.schema.marks[n.mark].create(n.attrs),this.addPendingMark(o));let a=this.top;if(i&&i.isLeaf)this.findInside(t);else if(r)this.addElement(t,r);else if(n.getContent)this.findInside(t),n.getContent(t,this.parser.schema).forEach(c=>this.insertNode(c));else{let c=t;typeof n.contentElement=="string"?c=t.querySelector(n.contentElement):typeof n.contentElement=="function"?c=n.contentElement(t):n.contentElement&&(c=n.contentElement),this.findAround(t,c,!0),this.addAll(c)}s&&this.sync(a)&&this.open--,o&&this.removePendingMark(o,a)}addAll(t,n,r){let s=n||0;for(let i=n?t.childNodes[n]:t.firstChild,o=r==null?null:t.childNodes[r];i!=o;i=i.nextSibling,++s)this.findAtPoint(t,s),this.addDOM(i);this.findAtPoint(t,s)}findPlace(t){let n,r;for(let s=this.open;s>=0;s--){let i=this.nodes[s],o=i.findWrapping(t);if(o&&(!n||n.length>o.length)&&(n=o,r=i,!o.length)||i.solid)break}if(!n)return!1;this.sync(r);for(let s=0;s<n.length;s++)this.enterInner(n[s],null,!1);return!0}insertNode(t){if(t.isInline&&this.needsBlock&&!this.top.type){let n=this.textblockFromContext();n&&this.enterInner(n)}if(this.findPlace(t)){this.closeExtra();let n=this.top;n.applyPending(t.type),n.match&&(n.match=n.match.matchType(t.type));let r=n.activeMarks;for(let s=0;s<t.marks.length;s++)(!n.type||n.type.allowsMarkType(t.marks[s].type))&&(r=t.marks[s].addToSet(r));return n.content.push(t.mark(r)),!0}return!1}enter(t,n,r){let s=this.findPlace(t.create(n));return s&&this.enterInner(t,n,!0,r),s}enterInner(t,n=null,r=!1,s){this.closeExtra();let i=this.top;i.applyPending(t),i.match=i.match&&i.match.matchType(t);let o=i3(t,s,i.options);i.options&nf&&i.content.length==0&&(o|=nf),this.nodes.push(new jp(t,n,i.activeMarks,i.pendingMarks,r,null,o)),this.open++}closeExtra(t=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(t){for(let n=this.open;n>=0;n--)if(this.nodes[n]==t)return this.open=n,!0;return!1}get currentPos(){this.closeExtra();let t=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let s=r.length-1;s>=0;s--)t+=r[s].nodeSize;n&&t++}return t}findAtPoint(t,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==t&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&t.nodeType==1&&t.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(t,n,r){if(t!=n&&this.find)for(let s=0;s<this.find.length;s++)this.find[s].pos==null&&t.nodeType==1&&t.contains(this.find[s].node)&&n.compareDocumentPosition(this.find[s].node)&(r?2:4)&&(this.find[s].pos=this.currentPos)}findInText(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==t&&(this.find[n].pos=this.currentPos-(t.nodeValue.length-this.find[n].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let n=t.split("/"),r=this.options.context,s=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),i=-(r?r.depth+1:0)+(s?0:1),o=(a,c)=>{for(;a>=0;a--){let l=n[a];if(l==""){if(a==n.length-1||a==0)continue;for(;c>=i;c--)if(o(a-1,c))return!0;return!1}else{let u=c>0||c==0&&s?this.nodes[c].type:r&&c>=i?r.node(c-i).type:null;if(!u||u.name!=l&&u.groups.indexOf(l)==-1)return!1;c--}}return!0};return o(n.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let n=t.depth;n>=0;n--){let r=t.node(n).contentMatchAt(t.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}addPendingMark(t){let n=kge(t,this.top.pendingMarks);n&&this.top.stashMarks.push(n),this.top.pendingMarks=t.addToSet(this.top.pendingMarks)}removePendingMark(t,n){for(let r=this.open;r>=0;r--){let s=this.nodes[r];if(s.pendingMarks.lastIndexOf(t)>-1)s.pendingMarks=t.removeFromSet(s.pendingMarks);else{s.activeMarks=t.removeFromSet(s.activeMarks);let o=s.popFromStashMark(t);o&&s.type&&s.type.allowsMarkType(o.type)&&(s.activeMarks=o.addToSet(s.activeMarks))}if(s==n)break}}}function Rge(e){for(let t=e.firstChild,n=null;t;t=t.nextSibling){let r=t.nodeType==1?t.nodeName.toLowerCase():null;r&&dq.hasOwnProperty(r)&&n?(n.appendChild(t),t=n):r=="li"?n=t:r&&(n=null)}}function xge(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function a3(e){let t={};for(let n in e)t[n]=e[n];return t}function Mge(e,t){let n=t.schema.nodes;for(let r in n){let s=n[r];if(!s.allowsMarkType(e))continue;let i=[],o=a=>{i.push(a);for(let c=0;c<a.edgeCount;c++){let{type:l,next:u}=a.edge(c);if(l==t||i.indexOf(u)<0&&o(u))return!0}};if(o(s.contentMatch))return!0}}function kge(e,t){for(let n=0;n<t.length;n++)if(e.eq(t[n]))return t[n]}class Ku{constructor(t,n){this.nodes=t,this.marks=n}serializeFragment(t,n={},r){r||(r=VS(n).createDocumentFragment());let s=r,i=[];return t.forEach(o=>{if(i.length||o.marks.length){let a=0,c=0;for(;a<i.length&&c<o.marks.length;){let l=o.marks[c];if(!this.marks[l.type.name]){c++;continue}if(!l.eq(i[a][0])||l.type.spec.spanning===!1)break;a++,c++}for(;a<i.length;)s=i.pop()[1];for(;c<o.marks.length;){let l=o.marks[c++],u=this.serializeMark(l,o.isInline,n);u&&(i.push([l,s]),s.appendChild(u.dom),s=u.contentDOM||u.dom)}}s.appendChild(this.serializeNodeInner(o,n))}),r}serializeNodeInner(t,n){let{dom:r,contentDOM:s}=S_(VS(n),this.nodes[t.type.name](t),null,t.attrs);if(s){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,n,s)}return r}serializeNode(t,n={}){let r=this.serializeNodeInner(t,n);for(let s=t.marks.length-1;s>=0;s--){let i=this.serializeMark(t.marks[s],t.isInline,n);i&&((i.contentDOM||i.dom).appendChild(r),r=i.dom)}return r}serializeMark(t,n,r={}){let s=this.marks[t.type.name];return s&&S_(VS(r),s(t,n),null,t.attrs)}static renderSpec(t,n,r=null,s){return S_(t,n,r,s)}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new Ku(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let n=c3(t.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(t){return c3(t.marks)}}function c3(e){let t={};for(let n in e){let r=e[n].spec.toDOM;r&&(t[n]=r)}return t}function VS(e){return e.document||window.document}const l3=new WeakMap;function Lge(e){let t=l3.get(e);return t===void 0&&l3.set(e,t=Dge(e)),t}function Dge(e){let t=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")t||(t=[]),t.push(r);else for(let s=0;s<r.length;s++)n(r[s]);else for(let s in r)n(r[s])}return n(e),t}function S_(e,t,n,r){if(typeof t=="string")return{dom:e.createTextNode(t)};if(t.nodeType!=null)return{dom:t};if(t.dom&&t.dom.nodeType!=null)return t;let s=t[0],i;if(typeof s!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(i=Lge(r))&&i.indexOf(t)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=s.indexOf(" ");o>0&&(n=s.slice(0,o),s=s.slice(o+1));let a,c=n?e.createElementNS(n,s):e.createElement(s),l=t[1],u=1;if(l&&typeof l=="object"&&l.nodeType==null&&!Array.isArray(l)){u=2;for(let d in l)if(l[d]!=null){let f=d.indexOf(" ");f>0?c.setAttributeNS(d.slice(0,f),d.slice(f+1),l[d]):c.setAttribute(d,l[d])}}for(let d=u;d<t.length;d++){let f=t[d];if(f===0){if(d<t.length-1||d>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:c,contentDOM:c}}else{let{dom:h,contentDOM:p}=S_(e,f,n,r);if(c.appendChild(h),p){if(a)throw new RangeError("Multiple content holes");a=p}}}return{dom:c,contentDOM:a}}const fq=65535,hq=Math.pow(2,16);function Fge(e,t){return e+t*hq}function u3(e){return e&fq}function Uge(e){return(e-(e&fq))/hq}const pq=1,_q=2,b_=4,mq=8;class o1{constructor(t,n,r){this.pos=t,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&mq)>0}get deletedBefore(){return(this.delInfo&(pq|b_))>0}get deletedAfter(){return(this.delInfo&(_q|b_))>0}get deletedAcross(){return(this.delInfo&b_)>0}}class Rr{constructor(t,n=!1){if(this.ranges=t,this.inverted=n,!t.length&&Rr.empty)return Rr.empty}recover(t){let n=0,r=u3(t);if(!this.inverted)for(let s=0;s<r;s++)n+=this.ranges[s*3+2]-this.ranges[s*3+1];return this.ranges[r*3]+n+Uge(t)}mapResult(t,n=1){return this._map(t,n,!1)}map(t,n=1){return this._map(t,n,!0)}_map(t,n,r){let s=0,i=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let c=this.ranges[a]-(this.inverted?s:0);if(c>t)break;let l=this.ranges[a+i],u=this.ranges[a+o],d=c+l;if(t<=d){let f=l?t==c?-1:t==d?1:n:n,h=c+s+(f<0?0:u);if(r)return h;let p=t==(n<0?c:d)?null:Fge(a/3,t-c),_=t==c?_q:t==d?pq:b_;return(n<0?t!=c:t!=d)&&(_|=mq),new o1(h,_,p)}s+=u-l}return r?t+s:new o1(t+s,0,null)}touches(t,n){let r=0,s=u3(n),i=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let c=this.ranges[a]-(this.inverted?r:0);if(c>t)break;let l=this.ranges[a+i],u=c+l;if(t<=u&&a==s*3)return!0;r+=this.ranges[a+o]-l}return!1}forEach(t){let n=this.inverted?2:1,r=this.inverted?1:2;for(let s=0,i=0;s<this.ranges.length;s+=3){let o=this.ranges[s],a=o-(this.inverted?i:0),c=o+(this.inverted?0:i),l=this.ranges[s+n],u=this.ranges[s+r];t(a,a+l,c,c+u),i+=u-l}}invert(){return new Rr(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return t==0?Rr.empty:new Rr(t<0?[0,-t,0]:[0,0,t])}}Rr.empty=new Rr([]);class nu{constructor(t=[],n,r=0,s=t.length){this.maps=t,this.mirror=n,this.from=r,this.to=s}slice(t=0,n=this.maps.length){return new nu(this.maps,this.mirror,t,n)}copy(){return new nu(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(t,n){this.to=this.maps.push(t),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(t){for(let n=0,r=this.maps.length;n<t.maps.length;n++){let s=t.getMirror(n);this.appendMap(t.maps[n],s!=null&&s<n?r+s:void 0)}}getMirror(t){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==t)return this.mirror[n+(n%2?-1:1)]}}setMirror(t,n){this.mirror||(this.mirror=[]),this.mirror.push(t,n)}appendMappingInverted(t){for(let n=t.maps.length-1,r=this.maps.length+t.maps.length;n>=0;n--){let s=t.getMirror(n);this.appendMap(t.maps[n].invert(),s!=null&&s>n?r-s-1:void 0)}}invert(){let t=new nu;return t.appendMappingInverted(this),t}map(t,n=1){if(this.mirror)return this._map(t,n,!0);for(let r=this.from;r<this.to;r++)t=this.maps[r].map(t,n);return t}mapResult(t,n=1){return this._map(t,n,!1)}_map(t,n,r){let s=0;for(let i=this.from;i<this.to;i++){let o=this.maps[i],a=o.mapResult(t,n);if(a.recover!=null){let c=this.getMirror(i);if(c!=null&&c>i&&c<this.to){i=c,t=this.maps[c].recover(a.recover);continue}}s|=a.delInfo,t=a.pos}return r?t:new o1(t,s,null)}}const zS=Object.create(null);class Zn{getMap(){return Rr.empty}merge(t){return null}static fromJSON(t,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=zS[n.stepType];if(!r)throw new RangeError("No step type ".concat(n.stepType," defined"));return r.fromJSON(t,n)}static jsonID(t,n){if(t in zS)throw new RangeError("Duplicate use of step JSON ID "+t);return zS[t]=n,n.prototype.jsonID=t,n}}class fn{constructor(t,n){this.doc=t,this.failed=n}static ok(t){return new fn(t,null)}static fail(t){return new fn(null,t)}static fromReplace(t,n,r,s){try{return fn.ok(t.replace(n,r,s))}catch(i){if(i instanceof Pm)return fn.fail(i.message);throw i}}}function lI(e,t,n){let r=[];for(let s=0;s<e.childCount;s++){let i=e.child(s);i.content.size&&(i=i.copy(lI(i.content,t,i))),i.isInline&&(i=t(i,n,s)),r.push(i)}return de.fromArray(r)}class qo extends Zn{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=t.resolve(this.from),s=r.node(r.sharedDepth(this.to)),i=new Oe(lI(n.content,(o,a)=>!o.isAtom||!a.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),s),n.openStart,n.openEnd);return fn.fromReplace(t,this.from,this.to,i)}invert(){return new hi(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new qo(n.pos,r.pos,this.mark)}merge(t){return t instanceof qo&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new qo(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new qo(n.from,n.to,t.markFromJSON(n.mark))}}Zn.jsonID("addMark",qo);class hi extends Zn{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=new Oe(lI(n.content,s=>s.mark(this.mark.removeFromSet(s.marks)),t),n.openStart,n.openEnd);return fn.fromReplace(t,this.from,this.to,r)}invert(){return new qo(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new hi(n.pos,r.pos,this.mark)}merge(t){return t instanceof hi&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new hi(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new hi(n.from,n.to,t.markFromJSON(n.mark))}}Zn.jsonID("removeMark",hi);class Vo extends Zn{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return fn.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return fn.fromReplace(t,this.pos,this.pos+1,new Oe(de.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let s=0;s<n.marks.length;s++)if(!n.marks[s].isInSet(r))return new Vo(this.pos,n.marks[s]);return new Vo(this.pos,this.mark)}}return new wu(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new Vo(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Vo(n.pos,t.markFromJSON(n.mark))}}Zn.jsonID("addNodeMark",Vo);class wu extends Zn{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return fn.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return fn.fromReplace(t,this.pos,this.pos+1,new Oe(de.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Vo(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new wu(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new wu(n.pos,t.markFromJSON(n.mark))}}Zn.jsonID("removeNodeMark",wu);class Yn extends Zn{constructor(t,n,r,s=!1){super(),this.from=t,this.to=n,this.slice=r,this.structure=s}apply(t){return this.structure&&a1(t,this.from,this.to)?fn.fail("Structure replace would overwrite content"):fn.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new Rr([this.from,this.to-this.from,this.slice.size])}invert(t){return new Yn(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new Yn(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(t){if(!(t instanceof Yn)||t.structure||this.structure)return null;if(this.from+this.slice.size==t.from&&!this.slice.openEnd&&!t.slice.openStart){let n=this.slice.size+t.slice.size==0?Oe.empty:new Oe(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new Yn(this.from,this.to+(t.to-t.from),n,this.structure)}else if(t.to==this.from&&!this.slice.openStart&&!t.slice.openEnd){let n=this.slice.size+t.slice.size==0?Oe.empty:new Oe(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new Yn(t.from,this.to,n,this.structure)}else return null}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Yn(n.from,n.to,Oe.fromJSON(t,n.slice),!!n.structure)}}Zn.jsonID("replace",Yn);class Lr extends Zn{constructor(t,n,r,s,i,o,a=!1){super(),this.from=t,this.to=n,this.gapFrom=r,this.gapTo=s,this.slice=i,this.insert=o,this.structure=a}apply(t){if(this.structure&&(a1(t,this.from,this.gapFrom)||a1(t,this.gapTo,this.to)))return fn.fail("Structure gap-replace would overwrite content");let n=t.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return fn.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?fn.fromReplace(t,this.from,this.to,r):fn.fail("Content does not fit in gap")}getMap(){return new Rr([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let n=this.gapTo-this.gapFrom;return new Lr(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1),s=this.from==this.gapFrom?n.pos:t.map(this.gapFrom,-1),i=this.to==this.gapTo?r.pos:t.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||s<n.pos||i>r.pos?null:new Lr(n.pos,r.pos,s,i,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Lr(n.from,n.to,n.gapFrom,n.gapTo,Oe.fromJSON(t,n.slice),n.insert,!!n.structure)}}Zn.jsonID("replaceAround",Lr);function a1(e,t,n){let r=e.resolve(t),s=n-t,i=r.depth;for(;s>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,s--;if(s>0){let o=r.node(i).maybeChild(r.indexAfter(i));for(;s>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,s--}}return!1}function jge(e,t,n,r){let s=[],i=[],o,a;e.doc.nodesBetween(t,n,(c,l,u)=>{if(!c.isInline)return;let d=c.marks;if(!r.isInSet(d)&&u.type.allowsMarkType(r.type)){let f=Math.max(l,t),h=Math.min(l+c.nodeSize,n),p=r.addToSet(d);for(let _=0;_<d.length;_++)d[_].isInSet(p)||(o&&o.to==f&&o.mark.eq(d[_])?o.to=h:s.push(o=new hi(f,h,d[_])));a&&a.to==f?a.to=h:i.push(a=new qo(f,h,r))}}),s.forEach(c=>e.step(c)),i.forEach(c=>e.step(c))}function Bge(e,t,n,r){let s=[],i=0;e.doc.nodesBetween(t,n,(o,a)=>{if(!o.isInline)return;i++;let c=null;if(r instanceof Av){let l=o.marks,u;for(;u=r.isInSet(l);)(c||(c=[])).push(u),l=u.removeFromSet(l)}else r?r.isInSet(o.marks)&&(c=[r]):c=o.marks;if(c&&c.length){let l=Math.min(a+o.nodeSize,n);for(let u=0;u<c.length;u++){let d=c[u],f;for(let h=0;h<s.length;h++){let p=s[h];p.step==i-1&&d.eq(s[h].style)&&(f=p)}f?(f.to=l,f.step=i):s.push({style:d,from:Math.max(a,t),to:l,step:i})}}}),s.forEach(o=>e.step(new hi(o.from,o.to,o.style)))}function gq(e,t,n,r=n.contentMatch,s=!0){let i=e.doc.nodeAt(t),o=[],a=t+1;for(let c=0;c<i.childCount;c++){let l=i.child(c),u=a+l.nodeSize,d=r.matchType(l.type);if(!d)o.push(new Yn(a,u,Oe.empty));else{r=d;for(let f=0;f<l.marks.length;f++)n.allowsMarkType(l.marks[f].type)||e.step(new hi(a,u,l.marks[f]));if(s&&l.isText&&n.whitespace!="pre"){let f,h=/\r?\n|\r/g,p;for(;f=h.exec(l.text);)p||(p=new Oe(de.from(n.schema.text(" ",n.allowedMarks(l.marks))),0,0)),o.push(new Yn(a+f.index,a+f.index+f[0].length,p))}}a=u}if(!r.validEnd){let c=r.fillBefore(de.empty,!0);e.replace(a,a,new Oe(c,0,0))}for(let c=o.length-1;c>=0;c--)e.step(o[c])}function Gge(e,t,n){return(t==0||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function uI(e){let n=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let r=e.depth;;--r){let s=e.$from.node(r),i=e.$from.index(r),o=e.$to.indexAfter(r);if(r<e.depth&&s.canReplace(i,o,n))return r;if(r==0||s.type.spec.isolating||!Gge(s,i,o))break}return null}function Wge(e,t,n){let{$from:r,$to:s,depth:i}=t,o=r.before(i+1),a=s.after(i+1),c=o,l=a,u=de.empty,d=0;for(let p=i,_=!1;p>n;p--)_||r.index(p)>0?(_=!0,u=de.from(r.node(p).copy(u)),d++):c--;let f=de.empty,h=0;for(let p=i,_=!1;p>n;p--)_||s.after(p+1)<s.end(p)?(_=!0,f=de.from(s.node(p).copy(f)),h++):l++;e.step(new Lr(c,l,o,a,new Oe(u.append(f),d,h),u.size-d,!0))}function Hge(e,t,n=null,r=e){let s=$ge(e,t),i=s&&qge(r,t);return i?s.map(d3).concat({type:t,attrs:n}).concat(i.map(d3)):null}function d3(e){return{type:e,attrs:null}}function $ge(e,t){let{parent:n,startIndex:r,endIndex:s}=e,i=n.contentMatchAt(r).findWrapping(t);if(!i)return null;let o=i.length?i[0]:t;return n.canReplaceWith(r,s,o)?i:null}function qge(e,t){let{parent:n,startIndex:r,endIndex:s}=e,i=n.child(r),o=t.contentMatch.findWrapping(i.type);if(!o)return null;let c=(o.length?o[o.length-1]:t).contentMatch;for(let l=r;c&&l<s;l++)c=c.matchType(n.child(l).type);return!c||!c.validEnd?null:o}function Vge(e,t,n){let r=de.empty;for(let o=n.length-1;o>=0;o--){if(r.size){let a=n[o].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=de.from(n[o].type.create(n[o].attrs,r))}let s=t.start,i=t.end;e.step(new Lr(s,i,s,i,new Oe(r,0,0),n.length,!0))}function zge(e,t,n,r,s){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let i=e.steps.length;e.doc.nodesBetween(t,n,(o,a)=>{if(o.isTextblock&&!o.hasMarkup(r,s)&&Xge(e.doc,e.mapping.slice(i).map(a),r)){let c=null;if(r.schema.linebreakReplacement){let f=r.whitespace=="pre",h=!!r.contentMatch.matchType(r.schema.linebreakReplacement);f&&!h?c=!1:!f&&h&&(c=!0)}c===!1&&Kge(e,o,a,i),gq(e,e.mapping.slice(i).map(a,1),r,void 0,c===null);let l=e.mapping.slice(i),u=l.map(a,1),d=l.map(a+o.nodeSize,1);return e.step(new Lr(u,d,u+1,d-1,new Oe(de.from(r.create(s,null,o.marks)),0,0),1,!0)),c===!0&&Yge(e,o,a,i),!1}})}function Yge(e,t,n,r){t.forEach((s,i)=>{if(s.isText){let o,a=/\r?\n|\r/g;for(;o=a.exec(s.text);){let c=e.mapping.slice(r).map(n+1+i+o.index);e.replaceWith(c,c+1,t.type.schema.linebreakReplacement.create())}}})}function Kge(e,t,n,r){t.forEach((s,i)=>{if(s.type==s.type.schema.linebreakReplacement){let o=e.mapping.slice(r).map(n+1+i);e.replaceWith(o,o+1,t.type.schema.text("\n"))}})}function Xge(e,t,n){let r=e.resolve(t),s=r.index();return r.parent.canReplaceWith(s,s+1,n)}function Jge(e,t,n,r,s){let i=e.doc.nodeAt(t);if(!i)throw new RangeError("No node at given position");n||(n=i.type);let o=n.create(r,null,s||i.marks);if(i.isLeaf)return e.replaceWith(t,t+i.nodeSize,o);if(!n.validContent(i.content))throw new RangeError("Invalid content for node type "+n.name);e.step(new Lr(t,t+i.nodeSize,t+1,t+i.nodeSize-1,new Oe(de.from(o),0,0),1,!0))}function T_(e,t,n=1,r){let s=e.resolve(t),i=s.depth-n,o=r&&r[r.length-1]||s.parent;if(i<0||s.parent.type.spec.isolating||!s.parent.canReplace(s.index(),s.parent.childCount)||!o.type.validContent(s.parent.content.cutByIndex(s.index(),s.parent.childCount)))return!1;for(let l=s.depth-1,u=n-2;l>i;l--,u--){let d=s.node(l),f=s.index(l);if(d.type.spec.isolating)return!1;let h=d.content.cutByIndex(f,d.childCount),p=r&&r[u+1];p&&(h=h.replaceChild(0,p.type.create(p.attrs)));let _=r&&r[u]||d;if(!d.canReplace(f+1,d.childCount)||!_.type.validContent(h))return!1}let a=s.indexAfter(i),c=r&&r[0];return s.node(i).canReplaceWith(a,a,c?c.type:s.node(i+1).type)}function Qge(e,t,n=1,r){let s=e.doc.resolve(t),i=de.empty,o=de.empty;for(let a=s.depth,c=s.depth-n,l=n-1;a>c;a--,l--){i=de.from(s.node(a).copy(i));let u=r&&r[l];o=de.from(u?u.type.create(u.attrs,o):s.node(a).copy(o))}e.step(new Yn(t,t,new Oe(i.append(o),n,n),!0))}function vq(e,t){let n=e.resolve(t),r=n.index();return Zge(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function Zge(e,t){return!!(e&&t&&!e.isLeaf&&e.canAppend(t))}function eve(e,t,n){let r=new Yn(t-n,t+n,Oe.empty,!0);e.step(r)}function tve(e,t,n){let r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(r.parentOffset==0)for(let s=r.depth-1;s>=0;s--){let i=r.index(s);if(r.node(s).canReplaceWith(i,i,n))return r.before(s+1);if(i>0)return null}if(r.parentOffset==r.parent.content.size)for(let s=r.depth-1;s>=0;s--){let i=r.indexAfter(s);if(r.node(s).canReplaceWith(i,i,n))return r.after(s+1);if(i<r.node(s).childCount)return null}return null}function nve(e,t,n){let r=e.resolve(t);if(!n.content.size)return t;let s=n.content;for(let i=0;i<n.openStart;i++)s=s.firstChild.content;for(let i=1;i<=(n.openStart==0&&n.size?2:1);i++)for(let o=r.depth;o>=0;o--){let a=o==r.depth?0:r.pos<=(r.start(o+1)+r.end(o+1))/2?-1:1,c=r.index(o)+(a>0?1:0),l=r.node(o),u=!1;if(i==1)u=l.canReplace(c,c,s);else{let d=l.contentMatchAt(c).findWrapping(s.firstChild.type);u=d&&l.canReplaceWith(c,c,d[0])}if(u)return a==0?r.pos:a<0?r.before(o+1):r.after(o+1)}return null}function dI(e,t,n=t,r=Oe.empty){if(t==n&&!r.size)return null;let s=e.resolve(t),i=e.resolve(n);return yq(s,i,r)?new Yn(t,n,r):new rve(s,i,r).fit()}function yq(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}class rve{constructor(t,n,r){this.$from=t,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=de.empty;for(let s=0;s<=t.depth;s++){let i=t.node(s);this.frontier.push({type:i.type,match:i.contentMatchAt(t.indexAfter(s))})}for(let s=t.depth;s>0;s--)this.placed=de.from(t.node(s).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let l=this.findFittable();l?this.placeNodes(l):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,s=this.close(t<0?this.$to:r.doc.resolve(t));if(!s)return null;let i=this.placed,o=r.depth,a=s.depth;for(;o&&a&&i.childCount==1;)i=i.firstChild.content,o--,a--;let c=new Oe(i,o,a);return t>-1?new Lr(r.pos,t,this.$to.pos,this.$to.end(),c,n):c.size||r.pos!=this.$to.pos?new Yn(r.pos,s.pos,c):null}findFittable(){let t=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,s=this.unplaced.openEnd;r<t;r++){let i=n.firstChild;if(n.childCount>1&&(s=0),i.type.spec.isolating&&s<=r){t=r;break}n=i.content}for(let n=1;n<=2;n++)for(let r=n==1?t:this.unplaced.openStart;r>=0;r--){let s,i=null;r?(i=YS(this.unplaced.content,r-1).firstChild,s=i.content):s=this.unplaced.content;let o=s.firstChild;for(let a=this.depth;a>=0;a--){let{type:c,match:l}=this.frontier[a],u,d=null;if(n==1&&(o?l.matchType(o.type)||(d=l.fillBefore(de.from(o),!1)):i&&c.compatibleContent(i.type)))return{sliceDepth:r,frontierDepth:a,parent:i,inject:d};if(n==2&&o&&(u=l.findWrapping(o.type)))return{sliceDepth:r,frontierDepth:a,parent:i,wrap:u};if(i&&l.matchType(i.type))break}}}openMore(){let{content:t,openStart:n,openEnd:r}=this.unplaced,s=YS(t,n);return!s.childCount||s.firstChild.isLeaf?!1:(this.unplaced=new Oe(t,n+1,Math.max(r,s.size+n>=t.size-r?n+1:0)),!0)}dropNode(){let{content:t,openStart:n,openEnd:r}=this.unplaced,s=YS(t,n);if(s.childCount<=1&&n>0){let i=t.size-n<=n+s.size;this.unplaced=new Oe(jd(t,n-1,1),n-1,i?n-1:r)}else this.unplaced=new Oe(jd(t,n,1),n,r)}placeNodes({sliceDepth:t,frontierDepth:n,parent:r,inject:s,wrap:i}){for(;this.depth>n;)this.closeFrontierNode();if(i)for(let _=0;_<i.length;_++)this.openFrontierNode(i[_]);let o=this.unplaced,a=r?r.content:o.content,c=o.openStart-t,l=0,u=[],{match:d,type:f}=this.frontier[n];if(s){for(let _=0;_<s.childCount;_++)u.push(s.child(_));d=d.matchFragment(s)}let h=a.size+t-(o.content.size-o.openEnd);for(;l<a.childCount;){let _=a.child(l),m=d.matchType(_.type);if(!m)break;l++,(l>1||c==0||_.content.size)&&(d=m,u.push(Eq(_.mark(f.allowedMarks(_.marks)),l==1?c:0,l==a.childCount?h:-1)))}let p=l==a.childCount;p||(h=-1),this.placed=Bd(this.placed,n,de.from(u)),this.frontier[n].match=d,p&&h<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let _=0,m=a;_<h;_++){let y=m.lastChild;this.frontier.push({type:y.type,match:y.contentMatchAt(y.childCount)}),m=y.content}this.unplaced=p?t==0?Oe.empty:new Oe(jd(o.content,t-1,1),t-1,h<0?o.openEnd:t-1):new Oe(jd(o.content,t,l),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t=this.frontier[this.depth],n;if(!t.type.isTextblock||!KS(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,s=this.$to.after(r);for(;r>1&&s==this.$to.end(--r);)++s;return s}findCloseLevel(t){e:for(let n=Math.min(this.depth,t.depth);n>=0;n--){let{match:r,type:s}=this.frontier[n],i=n<t.depth&&t.end(n+1)==t.pos+(t.depth-(n+1)),o=KS(t,n,s,r,i);if(o){for(let a=n-1;a>=0;a--){let{match:c,type:l}=this.frontier[a],u=KS(t,a,l,c,!0);if(!u||u.childCount)continue e}return{depth:n,fit:o,move:i?t.doc.resolve(t.after(n+1)):t}}}}close(t){let n=this.findCloseLevel(t);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Bd(this.placed,n.depth,n.fit)),t=n.move;for(let r=n.depth+1;r<=t.depth;r++){let s=t.node(r),i=s.type.contentMatch.fillBefore(s.content,!0,t.index(r));this.openFrontierNode(s.type,s.attrs,i)}return t}openFrontierNode(t,n=null,r){let s=this.frontier[this.depth];s.match=s.match.matchType(t),this.placed=Bd(this.placed,this.depth,de.from(t.create(n,r))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(de.empty,!0);n.childCount&&(this.placed=Bd(this.placed,this.frontier.length,n))}}function jd(e,t,n){return t==0?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy(jd(e.firstChild.content,t-1,n)))}function Bd(e,t,n){return t==0?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(Bd(e.lastChild.content,t-1,n)))}function YS(e,t){for(let n=0;n<t;n++)e=e.firstChild.content;return e}function Eq(e,t,n){if(t<=0)return e;let r=e.content;return t>1&&(r=r.replaceChild(0,Eq(r.firstChild,t-1,r.childCount==1?n-1:0))),t>0&&(r=e.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(e.type.contentMatch.matchFragment(r).fillBefore(de.empty,!0)))),e.copy(r)}function KS(e,t,n,r,s){let i=e.node(t),o=s?e.indexAfter(t):e.index(t);if(o==i.childCount&&!n.compatibleContent(i.type))return null;let a=r.fillBefore(i.content,!0,o);return a&&!sve(n,i.content,o)?a:null}function sve(e,t,n){for(let r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}function ive(e){return e.spec.defining||e.spec.definingForContent}function ove(e,t,n,r){if(!r.size)return e.deleteRange(t,n);let s=e.doc.resolve(t),i=e.doc.resolve(n);if(yq(s,i,r))return e.step(new Yn(t,n,r));let o=Sq(s,e.doc.resolve(n));o[o.length-1]==0&&o.pop();let a=-(s.depth+1);o.unshift(a);for(let f=s.depth,h=s.pos-1;f>0;f--,h--){let p=s.node(f).type.spec;if(p.defining||p.definingAsContext||p.isolating)break;o.indexOf(f)>-1?a=f:s.before(f)==h&&o.splice(1,0,-f)}let c=o.indexOf(a),l=[],u=r.openStart;for(let f=r.content,h=0;;h++){let p=f.firstChild;if(l.push(p),h==r.openStart)break;f=p.content}for(let f=u-1;f>=0;f--){let h=l[f],p=ive(h.type);if(p&&!h.sameMarkup(s.node(Math.abs(a)-1)))u=f;else if(p||!h.type.isTextblock)break}for(let f=r.openStart;f>=0;f--){let h=(f+u+1)%(r.openStart+1),p=l[h];if(p)for(let _=0;_<o.length;_++){let m=o[(_+c)%o.length],y=!0;m<0&&(y=!1,m=-m);let v=s.node(m-1),O=s.index(m-1);if(v.canReplaceWith(O,O,p.type,p.marks))return e.replace(s.before(m),y?i.after(m):n,new Oe(Cq(r.content,0,r.openStart,h),h,r.openEnd))}}let d=e.steps.length;for(let f=o.length-1;f>=0&&(e.replace(t,n,r),!(e.steps.length>d));f--){let h=o[f];h<0||(t=s.before(h),n=i.after(h))}}function Cq(e,t,n,r,s){if(t<n){let i=e.firstChild;e=e.replaceChild(0,i.copy(Cq(i.content,t+1,n,r,i)))}if(t>r){let i=s.contentMatchAt(0),o=i.fillBefore(e).append(e);e=o.append(i.matchFragment(o).fillBefore(de.empty,!0))}return e}function ave(e,t,n,r){if(!r.isInline&&t==n&&e.doc.resolve(t).parent.content.size){let s=tve(e.doc,t,r.type);s!=null&&(t=n=s)}e.replaceRange(t,n,new Oe(de.from(r),0,0))}function cve(e,t,n){let r=e.doc.resolve(t),s=e.doc.resolve(n),i=Sq(r,s);for(let o=0;o<i.length;o++){let a=i[o],c=o==i.length-1;if(c&&a==0||r.node(a).type.contentMatch.validEnd)return e.delete(r.start(a),s.end(a));if(a>0&&(c||r.node(a-1).canReplace(r.index(a-1),s.indexAfter(a-1))))return e.delete(r.before(a),s.after(a))}for(let o=1;o<=r.depth&&o<=s.depth;o++)if(t-r.start(o)==r.depth-o&&n>r.end(o)&&s.end(o)-n!=s.depth-o)return e.delete(r.before(o),n);e.delete(t,n)}function Sq(e,t){let n=[],r=Math.min(e.depth,t.depth);for(let s=r;s>=0;s--){let i=e.start(s);if(i<e.pos-(e.depth-s)||t.end(s)>t.pos+(t.depth-s)||e.node(s).type.spec.isolating||t.node(s).type.spec.isolating)break;(i==t.start(s)||s==e.depth&&s==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&s&&t.start(s-1)==i-1)&&n.push(s)}return n}class ru extends Zn{constructor(t,n,r){super(),this.pos=t,this.attr=n,this.value=r}apply(t){let n=t.nodeAt(this.pos);if(!n)return fn.fail("No node at attribute step's position");let r=Object.create(null);for(let i in n.attrs)r[i]=n.attrs[i];r[this.attr]=this.value;let s=n.type.create(r,null,n.marks);return fn.fromReplace(t,this.pos,this.pos+1,new Oe(de.from(s),0,n.isLeaf?0:1))}getMap(){return Rr.empty}invert(t){return new ru(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new ru(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new ru(n.pos,n.attr,n.value)}}Zn.jsonID("attr",ru);class xf extends Zn{constructor(t,n){super(),this.attr=t,this.value=n}apply(t){let n=Object.create(null);for(let s in t.attrs)n[s]=t.attrs[s];n[this.attr]=this.value;let r=t.type.create(n,t.content,t.marks);return fn.ok(r)}getMap(){return Rr.empty}invert(t){return new xf(this.attr,t.attrs[this.attr])}map(t){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new xf(n.attr,n.value)}}Zn.jsonID("docAttr",xf);let Nu=class extends Error{};Nu=function e(t){let n=Error.call(this,t);return n.__proto__=e.prototype,n};Nu.prototype=Object.create(Error.prototype);Nu.prototype.constructor=Nu;Nu.prototype.name="TransformError";class lve{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new nu}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let n=this.maybeStep(t);if(n.failed)throw new Nu(n.failed);return this}maybeStep(t){let n=t.apply(this.doc);return n.failed||this.addStep(t,n.doc),n}get docChanged(){return this.steps.length>0}addStep(t,n){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=n}replace(t,n=t,r=Oe.empty){let s=dI(this.doc,t,n,r);return s&&this.step(s),this}replaceWith(t,n,r){return this.replace(t,n,new Oe(de.from(r),0,0))}delete(t,n){return this.replace(t,n,Oe.empty)}insert(t,n){return this.replaceWith(t,t,n)}replaceRange(t,n,r){return ove(this,t,n,r),this}replaceRangeWith(t,n,r){return ave(this,t,n,r),this}deleteRange(t,n){return cve(this,t,n),this}lift(t,n){return Wge(this,t,n),this}join(t,n=1){return eve(this,t,n),this}wrap(t,n){return Vge(this,t,n),this}setBlockType(t,n=t,r,s=null){return zge(this,t,n,r,s),this}setNodeMarkup(t,n,r=null,s){return Jge(this,t,n,r,s),this}setNodeAttribute(t,n,r){return this.step(new ru(t,n,r)),this}setDocAttribute(t,n){return this.step(new xf(t,n)),this}addNodeMark(t,n){return this.step(new Vo(t,n)),this}removeNodeMark(t,n){if(!(n instanceof pt)){let r=this.doc.nodeAt(t);if(!r)throw new RangeError("No node at position "+t);if(n=n.isInSet(r.marks),!n)return this}return this.step(new wu(t,n)),this}split(t,n=1,r){return Qge(this,t,n,r),this}addMark(t,n,r){return jge(this,t,n,r),this}removeMark(t,n,r){return Bge(this,t,n,r),this}clearIncompatible(t,n,r){return gq(this,t,n,r),this}}const XS=Object.create(null);class lt{constructor(t,n,r){this.$anchor=t,this.$head=n,this.ranges=r||[new uve(t.min(n),t.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let n=0;n<t.length;n++)if(t[n].$from.pos!=t[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,n=Oe.empty){let r=n.content.lastChild,s=null;for(let a=0;a<n.openEnd;a++)s=r,r=r.lastChild;let i=t.steps.length,o=this.ranges;for(let a=0;a<o.length;a++){let{$from:c,$to:l}=o[a],u=t.mapping.slice(i);t.replaceRange(u.map(c.pos),u.map(l.pos),a?Oe.empty:n),a==0&&p3(t,i,(r?r.isInline:s&&s.isTextblock)?-1:1)}}replaceWith(t,n){let r=t.steps.length,s=this.ranges;for(let i=0;i<s.length;i++){let{$from:o,$to:a}=s[i],c=t.mapping.slice(r),l=c.map(o.pos),u=c.map(a.pos);i?t.deleteRange(l,u):(t.replaceRangeWith(l,u,n),p3(t,r,n.isInline?-1:1))}}static findFrom(t,n,r=!1){let s=t.parent.inlineContent?new at(t):Rl(t.node(0),t.parent,t.pos,t.index(),n,r);if(s)return s;for(let i=t.depth-1;i>=0;i--){let o=n<0?Rl(t.node(0),t.node(i),t.before(i+1),t.index(i),n,r):Rl(t.node(0),t.node(i),t.after(i+1),t.index(i)+1,n,r);if(o)return o}return null}static near(t,n=1){return this.findFrom(t,n)||this.findFrom(t,-n)||new Dr(t.node(0))}static atStart(t){return Rl(t,t,0,0,1)||new Dr(t)}static atEnd(t){return Rl(t,t,t.content.size,t.childCount,-1)||new Dr(t)}static fromJSON(t,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=XS[n.type];if(!r)throw new RangeError("No selection type ".concat(n.type," defined"));return r.fromJSON(t,n)}static jsonID(t,n){if(t in XS)throw new RangeError("Duplicate use of selection JSON ID "+t);return XS[t]=n,n.prototype.jsonID=t,n}getBookmark(){return at.between(this.$anchor,this.$head).getBookmark()}}lt.prototype.visible=!0;class uve{constructor(t,n){this.$from=t,this.$to=n}}let f3=!1;function h3(e){!f3&&!e.parent.inlineContent&&(f3=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}class at extends lt{constructor(t,n=t){h3(t),h3(n),super(t,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,n){let r=t.resolve(n.map(this.head));if(!r.parent.inlineContent)return lt.near(r);let s=t.resolve(n.map(this.anchor));return new at(s.parent.inlineContent?s:r,r)}replace(t,n=Oe.empty){if(super.replace(t,n),n==Oe.empty){let r=this.$from.marksAcross(this.$to);r&&t.ensureMarks(r)}}eq(t){return t instanceof at&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new wv(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new at(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,r=n){let s=t.resolve(n);return new this(s,r==n?s:t.resolve(r))}static between(t,n,r){let s=t.pos-n.pos;if((!r||s)&&(r=s>=0?1:-1),!n.parent.inlineContent){let i=lt.findFrom(n,r,!0)||lt.findFrom(n,-r,!0);if(i)n=i.$head;else return lt.near(n,r)}return t.parent.inlineContent||(s==0?t=n:(t=(lt.findFrom(t,-r,!0)||lt.findFrom(t,r,!0)).$anchor,t.pos<n.pos!=s<0&&(t=n))),new at(t,n)}}lt.jsonID("text",at);class wv{constructor(t,n){this.anchor=t,this.head=n}map(t){return new wv(t.map(this.anchor),t.map(this.head))}resolve(t){return at.between(t.resolve(this.anchor),t.resolve(this.head))}}class ze extends lt{constructor(t){let n=t.nodeAfter,r=t.node(0).resolve(t.pos+n.nodeSize);super(t,r),this.node=n}map(t,n){let{deleted:r,pos:s}=n.mapResult(this.anchor),i=t.resolve(s);return r?lt.near(i):new ze(i)}content(){return new Oe(de.from(this.node),0,0)}eq(t){return t instanceof ze&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new fI(this.anchor)}static fromJSON(t,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new ze(t.resolve(n.anchor))}static create(t,n){return new ze(t.resolve(n))}static isSelectable(t){return!t.isText&&t.type.spec.selectable!==!1}}ze.prototype.visible=!1;lt.jsonID("node",ze);class fI{constructor(t){this.anchor=t}map(t){let{deleted:n,pos:r}=t.mapResult(this.anchor);return n?new wv(r,r):new fI(r)}resolve(t){let n=t.resolve(this.anchor),r=n.nodeAfter;return r&&ze.isSelectable(r)?new ze(n):lt.near(n)}}class Dr extends lt{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,n=Oe.empty){if(n==Oe.empty){t.delete(0,t.doc.content.size);let r=lt.atStart(t.doc);r.eq(t.selection)||t.setSelection(r)}else super.replace(t,n)}toJSON(){return{type:"all"}}static fromJSON(t){return new Dr(t)}map(t){return new Dr(t)}eq(t){return t instanceof Dr}getBookmark(){return dve}}lt.jsonID("all",Dr);const dve={map(){return this},resolve(e){return new Dr(e)}};function Rl(e,t,n,r,s,i=!1){if(t.inlineContent)return at.create(e,n);for(let o=r-(s>0?0:1);s>0?o<t.childCount:o>=0;o+=s){let a=t.child(o);if(a.isAtom){if(!i&&ze.isSelectable(a))return ze.create(e,n-(s<0?a.nodeSize:0))}else{let c=Rl(e,a,n+s,s<0?a.childCount:0,s,i);if(c)return c}n+=a.nodeSize*s}return null}function p3(e,t,n){let r=e.steps.length-1;if(r<t)return;let s=e.steps[r];if(!(s instanceof Yn||s instanceof Lr))return;let i=e.mapping.maps[r],o;i.forEach((a,c,l,u)=>{o==null&&(o=u)}),e.setSelection(lt.near(e.doc.resolve(o),n))}const _3=1,Bp=2,m3=4;class fve extends lve{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(this.updated|_3)&~Bp,this.storedMarks=null,this}get selectionSet(){return(this.updated&_3)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=Bp,this}ensureMarks(t){return pt.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Bp)>0}addStep(t,n){super.addStep(t,n),this.updated=this.updated&~Bp,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,n=!0){let r=this.selection;return n&&(t=t.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||pt.none))),r.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,n,r){let s=this.doc.type.schema;if(n==null)return t?this.replaceSelectionWith(s.text(t),!0):this.deleteSelection();{if(r==null&&(r=n),r=r==null?n:r,!t)return this.deleteRange(n,r);let i=this.storedMarks;if(!i){let o=this.doc.resolve(n);i=r==n?o.marks():o.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,s.text(t,i)),this.selection.empty||this.setSelection(lt.near(this.selection.$to)),this}}setMeta(t,n){return this.meta[typeof t=="string"?t:t.key]=n,this}getMeta(t){return this.meta[typeof t=="string"?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=m3,this}get scrolledIntoView(){return(this.updated&m3)>0}}function g3(e,t){return!t||!e?e:e.bind(t)}class Gd{constructor(t,n,r){this.name=t,this.init=g3(n.init,r),this.apply=g3(n.apply,r)}}const hve=[new Gd("doc",{init(e){return e.doc||e.schema.topNodeType.createAndFill()},apply(e){return e.doc}}),new Gd("selection",{init(e,t){return e.selection||lt.atStart(t.doc)},apply(e){return e.selection}}),new Gd("storedMarks",{init(e){return e.storedMarks||null},apply(e,t,n,r){return r.selection.$cursor?e.storedMarks:null}}),new Gd("scrollToSelection",{init(){return 0},apply(e,t){return e.scrolledIntoView?t+1:t}})];class JS{constructor(t,n){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=hve.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Gd(r.key,r.spec.state,r))})}}class Bl{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let s=this.config.plugins[r];if(s.spec.filterTransaction&&!s.spec.filterTransaction.call(s,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let n=[t],r=this.applyInner(t),s=null;for(;;){let i=!1;for(let o=0;o<this.config.plugins.length;o++){let a=this.config.plugins[o];if(a.spec.appendTransaction){let c=s?s[o].n:0,l=s?s[o].state:this,u=c<n.length&&a.spec.appendTransaction.call(a,c?n.slice(c):n,l,r);if(u&&r.filterTransaction(u,o)){if(u.setMeta("appendedTransaction",t),!s){s=[];for(let d=0;d<this.config.plugins.length;d++)s.push(d<o?{state:r,n:n.length}:{state:this,n:0})}n.push(u),r=r.applyInner(u),i=!0}s&&(s[o]={state:r,n:n.length})}}if(!i)return{state:r,transactions:n}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Bl(this.config),r=this.config.fields;for(let s=0;s<r.length;s++){let i=r[s];n[i.name]=i.apply(t,this[i.name],this,n)}return n}get tr(){return new fve(this)}static create(t){let n=new JS(t.doc?t.doc.type.schema:t.schema,t.plugins),r=new Bl(n);for(let s=0;s<n.fields.length;s++)r[n.fields[s].name]=n.fields[s].init(t,r);return r}reconfigure(t){let n=new JS(this.schema,t.plugins),r=n.fields,s=new Bl(n);for(let i=0;i<r.length;i++){let o=r[i].name;s[o]=this.hasOwnProperty(o)?this[o]:r[i].init(t,s)}return s}toJSON(t){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),t&&typeof t=="object")for(let r in t){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let s=t[r],i=s.spec.state;i&&i.toJSON&&(n[r]=i.toJSON.call(s,this[s.key]))}return n}static fromJSON(t,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let s=new JS(t.schema,t.plugins),i=new Bl(s);return s.fields.forEach(o=>{if(o.name=="doc")i.doc=gc.fromJSON(t.schema,n.doc);else if(o.name=="selection")i.selection=lt.fromJSON(i.doc,n.selection);else if(o.name=="storedMarks")n.storedMarks&&(i.storedMarks=n.storedMarks.map(t.schema.markFromJSON));else{if(r)for(let a in r){let c=r[a],l=c.spec.state;if(c.key==o.name&&l&&l.fromJSON&&Object.prototype.hasOwnProperty.call(n,a)){i[o.name]=l.fromJSON.call(c,t,n[a],i);return}}i[o.name]=o.init(t,i)}}),i}}function bq(e,t,n){for(let r in e){let s=e[r];s instanceof Function?s=s.bind(t):r=="handleDOMEvents"&&(s=bq(s,t,{})),n[r]=s}return n}class $r{constructor(t){this.spec=t,this.props={},t.props&&bq(t.props,this,this.props),this.key=t.key?t.key.key:Tq("plugin")}getState(t){return t[this.key]}}const QS=Object.create(null);function Tq(e){return e in QS?e+"$"+ ++QS[e]:(QS[e]=0,e+"$")}class ds{constructor(t="key"){this.key=Tq(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}const Oq=new ds("contentReference"),L$e=e=>{const t=iv(e).map(({newContentReference:n})=>n);return new $r({key:Oq,state:{init:(n,{doc:r})=>({displayedContentReferences:t}),apply:(n,r)=>r},props:{}})},v3=30,pve=["p",0],_ve=["br"],Aq={paragraph:{content:"inline*",group:"block",parseDOM:[{tag:"p",preserveWhitespace:"full"}],toDOM(){return pve}},text:{group:"inline"},hard_break:{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM(){return _ve}},doc:{content:"block+"}};Aq.template_variable={group:"inline",inline:!0,atom:!0,attrs:{key:{default:""},id:{default:""},value:{default:""}},toDOM:e=>{const t=e.attrs.value||e.attrs.key,n=t.length>v3?t.slice(0,v3)+"...":t;return["span",{"data-bracket-tag-id":e.attrs.id,class:"pm-bracket-tag","data-template-key":e.attrs.key},n]},parseDOM:[{tag:"span[data-bracket-tag-id]",getAttrs:e=>({id:e.getAttribute("data-bracket-tag-id"),key:e.getAttribute("data-template-key"),value:e.textContent})}]};const mve={ecosystemMentionMark:{attrs:{id:{default:null},kind:{default:null},keyword:{default:null}},inclusive:!1,excludes:"",parseDOM:[{tag:"span.ecosystem-mention",getAttrs:e=>({id:e.dataset.id||null,keyword:e.dataset.keyword||null,kind:e.dataset.kind||null})}],toDOM(e){const{id:t,kind:n,keyword:r}=e.attrs;return["span",{class:"ecosystem-mention","data-id":t!=null?t:"","data-keyword":r!=null?r:"","data-kind":n!=null?n:""},0]}}},Lm=new wge({nodes:Aq,marks:mve}),wq=(e,t)=>e.selection.empty?!1:(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function gve(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("backward",e):n.parentOffset>0)?null:n}const hI=(e,t,n)=>{let r=gve(e,n);if(!r)return!1;let s=Nq(r);if(!s){let o=r.blockRange(),a=o&&uI(o);return a==null?!1:(t&&t(e.tr.lift(o,a).scrollIntoView()),!0)}let i=s.nodeBefore;if(!i.type.spec.isolating&&Mq(e,s,t))return!0;if(r.parent.content.size==0&&(Iu(i,"end")||ze.isSelectable(i))){let o=dI(e.doc,r.before(),r.after(),Oe.empty);if(o&&o.slice.size<o.to-o.from){if(t){let a=e.tr.step(o);a.setSelection(Iu(i,"end")?lt.findFrom(a.doc.resolve(a.mapping.map(s.pos,-1)),-1):ze.create(a.doc,s.pos-i.nodeSize)),t(a.scrollIntoView())}return!0}}return i.isAtom&&s.depth==r.depth-1?(t&&t(e.tr.delete(s.pos-i.nodeSize,s.pos).scrollIntoView()),!0):!1};function Iu(e,t,n=!1){for(let r=e;r;r=t=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const vve=(e,t,n)=>{let{$head:r,empty:s}=e.selection,i=r;if(!s)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):r.parentOffset>0)return!1;i=Nq(r)}let o=i&&i.nodeBefore;return!o||!ze.isSelectable(o)?!1:(t&&t(e.tr.setSelection(ze.create(e.doc,i.pos-o.nodeSize)).scrollIntoView()),!0)};function Nq(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function yve(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("forward",e):n.parentOffset<n.parent.content.size)?null:n}const Eve=(e,t,n)=>{let r=yve(e,n);if(!r)return!1;let s=Iq(r);if(!s)return!1;let i=s.nodeAfter;if(Mq(e,s,t))return!0;if(r.parent.content.size==0&&(Iu(i,"start")||ze.isSelectable(i))){let o=dI(e.doc,r.before(),r.after(),Oe.empty);if(o&&o.slice.size<o.to-o.from){if(t){let a=e.tr.step(o);a.setSelection(Iu(i,"start")?lt.findFrom(a.doc.resolve(a.mapping.map(s.pos)),1):ze.create(a.doc,a.mapping.map(s.pos))),t(a.scrollIntoView())}return!0}}return i.isAtom&&s.depth==r.depth-1?(t&&t(e.tr.delete(s.pos,s.pos+i.nodeSize).scrollIntoView()),!0):!1},Cve=(e,t,n)=>{let{$head:r,empty:s}=e.selection,i=r;if(!s)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)return!1;i=Iq(r)}let o=i&&i.nodeAfter;return!o||!ze.isSelectable(o)?!1:(t&&t(e.tr.setSelection(ze.create(e.doc,i.pos)).scrollIntoView()),!0)};function Iq(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}const Sve=(e,t)=>{let{$head:n,$anchor:r}=e.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(t&&t(e.tr.insertText("\n").scrollIntoView()),!0)};function pI(e){for(let t=0;t<e.edgeCount;t++){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const bve=(e,t)=>{let{$head:n,$anchor:r}=e.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let s=n.node(-1),i=n.indexAfter(-1),o=pI(s.contentMatchAt(i));if(!o||!s.canReplaceWith(i,i,o))return!1;if(t){let a=n.after(),c=e.tr.replaceWith(a,a,o.createAndFill());c.setSelection(lt.near(c.doc.resolve(a),1)),t(c.scrollIntoView())}return!0},Pq=(e,t)=>{let n=e.selection,{$from:r,$to:s}=n;if(n instanceof Dr||r.parent.inlineContent||s.parent.inlineContent)return!1;let i=pI(s.parent.contentMatchAt(s.indexAfter()));if(!i||!i.isTextblock)return!1;if(t){let o=(!r.parentOffset&&s.index()<s.parent.childCount?r:s).pos,a=e.tr.insert(o,i.createAndFill());a.setSelection(at.create(a.doc,o+1)),t(a.scrollIntoView())}return!0},Rq=(e,t)=>{let{$cursor:n}=e.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let i=n.before();if(T_(e.doc,i))return t&&t(e.tr.split(i).scrollIntoView()),!0}let r=n.blockRange(),s=r&&uI(r);return s==null?!1:(t&&t(e.tr.lift(r,s).scrollIntoView()),!0)};function Tve(e){return(t,n)=>{let{$from:r,$to:s}=t.selection;if(t.selection instanceof ze&&t.selection.node.isBlock)return!r.parentOffset||!T_(t.doc,r.pos)?!1:(n&&n(t.tr.split(r.pos).scrollIntoView()),!0);if(!r.parent.isBlock)return!1;if(n){let i=s.parentOffset==s.parent.content.size,o=t.tr;(t.selection instanceof at||t.selection instanceof Dr)&&o.deleteSelection();let a=r.depth==0?null:pI(r.node(-1).contentMatchAt(r.indexAfter(-1))),c=i&&a?[{type:a}]:void 0,l=T_(o.doc,o.mapping.map(r.pos),1,c);if(!c&&!l&&T_(o.doc,o.mapping.map(r.pos),1,a?[{type:a}]:void 0)&&(a&&(c=[{type:a}]),l=!0),l&&(o.split(o.mapping.map(r.pos),1,c),!i&&!r.parentOffset&&r.parent.type!=a)){let u=o.mapping.map(r.before()),d=o.doc.resolve(u);a&&r.node(-1).canReplaceWith(d.index(),d.index()+1,a)&&o.setNodeMarkup(o.mapping.map(r.before()),a)}n(o.scrollIntoView())}return!0}}const xq=Tve(),Ove=(e,t)=>(t&&t(e.tr.setSelection(new Dr(e.doc))),!0);function Ave(e,t,n){let r=t.nodeBefore,s=t.nodeAfter,i=t.index();return!r||!s||!r.type.compatibleContent(s.type)?!1:!r.content.size&&t.parent.canReplace(i-1,i)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),!0):!t.parent.canReplace(i,i+1)||!(s.isTextblock||vq(e.doc,t.pos))?!1:(n&&n(e.tr.clearIncompatible(t.pos,r.type,r.contentMatchAt(r.childCount)).join(t.pos).scrollIntoView()),!0)}function Mq(e,t,n){let r=t.nodeBefore,s=t.nodeAfter,i,o;if(r.type.spec.isolating||s.type.spec.isolating)return!1;if(Ave(e,t,n))return!0;let a=t.parent.canReplace(t.index(),t.index()+1);if(a&&(i=(o=r.contentMatchAt(r.childCount)).findWrapping(s.type))&&o.matchType(i[0]||s.type).validEnd){if(n){let d=t.pos+s.nodeSize,f=de.empty;for(let _=i.length-1;_>=0;_--)f=de.from(i[_].create(null,f));f=de.from(r.copy(f));let h=e.tr.step(new Lr(t.pos-1,d,t.pos,d,new Oe(f,1,0),i.length,!0)),p=d+2*i.length;vq(h.doc,p)&&h.join(p),n(h.scrollIntoView())}return!0}let c=lt.findFrom(t,1),l=c&&c.$from.blockRange(c.$to),u=l&&uI(l);if(u!=null&&u>=t.depth)return n&&n(e.tr.lift(l,u).scrollIntoView()),!0;if(a&&Iu(s,"start",!0)&&Iu(r,"end")){let d=r,f=[];for(;f.push(d),!d.isTextblock;)d=d.lastChild;let h=s,p=1;for(;!h.isTextblock;h=h.firstChild)p++;if(d.canReplace(d.childCount,d.childCount,h.content)){if(n){let _=de.empty;for(let y=f.length-1;y>=0;y--)_=de.from(f[y].copy(_));let m=e.tr.step(new Lr(t.pos-f.length,t.pos+s.nodeSize,t.pos+p,t.pos+s.nodeSize-p,new Oe(_,f.length,0),0,!0));n(m.scrollIntoView())}return!0}}return!1}function kq(e){return function(t,n){let r=t.selection,s=e<0?r.$from:r.$to,i=s.depth;for(;s.node(i).isInline;){if(!i)return!1;i--}return s.node(i).isTextblock?(n&&n(t.tr.setSelection(at.create(t.doc,e<0?s.start(i):s.end(i)))),!0):!1}}const wve=kq(-1),Nve=kq(1);function D$e(e,t=null){return function(n,r){let{$from:s,$to:i}=n.selection,o=s.blockRange(i),a=o&&Hge(o,e,t);return a?(r&&r(n.tr.wrap(o,a).scrollIntoView()),!0):!1}}function F$e(e,t=null){return function(n,r){let s=!1;for(let i=0;i<n.selection.ranges.length&&!s;i++){let{$from:{pos:o},$to:{pos:a}}=n.selection.ranges[i];n.doc.nodesBetween(o,a,(c,l)=>{if(s)return!1;if(!(!c.isTextblock||c.hasMarkup(e,t)))if(c.type==e)s=!0;else{let u=n.doc.resolve(l),d=u.index();s=u.parent.canReplaceWith(d,d+1,e)}})}if(!s)return!1;if(r){let i=n.tr;for(let o=0;o<n.selection.ranges.length;o++){let{$from:{pos:a},$to:{pos:c}}=n.selection.ranges[o];i.setBlockType(a,c,e,t)}r(i.scrollIntoView())}return!0}}function Ive(e,t,n){for(let r=0;r<t.length;r++){let{$from:s,$to:i}=t[r],o=s.depth==0?e.inlineContent&&e.type.allowsMarkType(n):!1;if(e.nodesBetween(s.pos,i.pos,a=>{if(o)return!1;o=a.inlineContent&&a.type.allowsMarkType(n)}),o)return!0}return!1}function U$e(e,t=null){return function(n,r){let{empty:s,$cursor:i,ranges:o}=n.selection;if(s&&!i||!Ive(n.doc,o,e))return!1;if(r)if(i)e.isInSet(n.storedMarks||i.marks())?r(n.tr.removeStoredMark(e)):r(n.tr.addStoredMark(e.create(t)));else{let a=!1,c=n.tr;for(let l=0;!a&&l<o.length;l++){let{$from:u,$to:d}=o[l];a=n.doc.rangeHasMark(u.pos,d.pos,e)}for(let l=0;l<o.length;l++){let{$from:u,$to:d}=o[l];if(a)c.removeMark(u.pos,d.pos,e);else{let f=u.pos,h=d.pos,p=u.nodeAfter,_=d.nodeBefore,m=p&&p.isText?/^\s*/.exec(p.text)[0].length:0,y=_&&_.isText?/\s*$/.exec(_.text)[0].length:0;f+m<h&&(f+=m,h-=y),c.addMark(f,h,e.create(t))}}r(c.scrollIntoView())}return!0}}function Nv(...e){return function(t,n,r){for(let s=0;s<e.length;s++)if(e[s](t,n,r))return!0;return!1}}let ZS=Nv(wq,hI,vve),y3=Nv(wq,Eve,Cve);const ji={Enter:Nv(Sve,Pq,Rq,xq),"Mod-Enter":bve,Backspace:ZS,"Mod-Backspace":ZS,"Shift-Backspace":ZS,Delete:y3,"Mod-Delete":y3,"Mod-a":Ove},Lq={"Ctrl-h":ji.Backspace,"Alt-Backspace":ji["Mod-Backspace"],"Ctrl-d":ji.Delete,"Ctrl-Alt-Backspace":ji["Mod-Delete"],"Alt-Delete":ji["Mod-Delete"],"Alt-d":ji["Mod-Delete"],"Ctrl-a":wve,"Ctrl-e":Nve};for(let e in ji)Lq[e]=ji[e];const Pve=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform?os.platform()=="darwin":!1,E3=Pve?Lq:ji;function Dq(e){var t,n,r;if(e.childCount===0)return!0;if(e.childCount===1&&((t=e.firstChild)!=null&&t.isTextblock)){const s=e.firstChild.content;if(s.size===0)return!0;if(s.childCount===1&&((n=s.firstChild)!=null&&n.isText))return/^\s*$/.test((r=s.firstChild.text)!=null?r:"")}return!1}function Rve(e){let t="",n=!1;const r=[];function s(i){if(n=!1,i.type.name==="paragraph")return i.descendants(o=>s(o)),t+="\n",n=!0,!1;if(i.marks.find(o=>o.type===Lm.marks.ecosystemMentionMark))return r.push({symbol:AA.EcosystemMention,startIndex:t.length,endIndex:t.length+i.textContent.length}),t+=i.textContent,!1;if(i.type.name==="command_token"){const o=xve(i.textContent);return r.push({symbol:AA.SystemHint,startIndex:t.length,endIndex:t.length+o.length}),t+=o,!1}else{if(i.type.name==="template_variable")return t+=i.attrs.value||i.attrs.key,!1;i.isText&&i.text!==void 0&&(t+=i.text)}}return e.descendants(i=>s(i)),n&&t.endsWith("\n")&&(t=t.slice(0,-1)),{content:t,metadata:{custom_symbol_offsets:r}}}function xve(e){return e.replace(new RegExp("[\\u{E0000}-\\u{E007F}]+","gu"),"")}const _I=Nv(Pq,Rq,xq);function j$e(e,t){const{schema:n}=e.state,r=t.split(/\r?\n/),s=de.fromArray(r.map(i=>i===""?n.nodes.paragraph.create():n.nodes.paragraph.create(null,n.text(i))));e.dispatch(e.state.tr.replaceWith(0,e.state.doc.content.size,s)),e.hasFocus()&&e.dispatch(e.state.tr.setSelection(at.atEnd(e.state.doc)).scrollIntoView())}function B$e(e){e.hasFocus()?e.dispatch(e.state.tr.scrollIntoView()):(e.focus(),e.dispatch(e.state.tr.setSelection(at.atEnd(e.state.doc)).scrollIntoView()))}function G$e(e){return Mve(e,0,e.state.doc.content.size)}function Mve(e,t,n){e.dispatch(e.state.tr.delete(t,n))}function W$e(e,t){Fq(e,t,!1,!1)}function H$e(e,t){e.dispatch(e.state.tr.setSelection(at.create(e.state.doc,0))),_I(e.state,e.dispatch),e.dispatch(e.state.tr.insertText(t,0))}function Fq(e,t,n=!1,r=!0){if(n){Lve(e,t);return}const{schema:s}=e.state,i=t.split("\n");if(r&&e.dispatch(e.state.tr.deleteSelection()),e.dispatch(e.state.tr.insertText(i[0])),i.length>1){_I(e.state,e.dispatch);const o=i.slice(1),a=de.fromArray(o.map(l=>s.nodes.paragraph.create(null,l===""?null:s.text(l)))),c=new Oe(a,0,0);e.dispatch(e.state.tr.replaceSelection(c)),hI(e.state,e.dispatch,e)}}const kve=/oaicite:(\d+)/g;function Lve(e,t){const{schema:n}=e.state,r=t.split("\n");e.dispatch(e.state.tr.deleteSelection());const{tr:s}=e.state,{$from:i}=s.selection;i.parent.isTextblock||(s.insert(i.pos,n.nodes.paragraph.create()),e.dispatch(s),e.focus());const{selection:o}=e.state,{$from:a}=o,c=r[0],l=C3(c,n,e),u=de.fromArray(l);let d=u;a.parent.type.validContent(u)||(d=n.nodes.paragraph.create(null,u));const f=new Oe(de.from(d),0,0);if(e.dispatch(e.state.tr.replaceSelection(f)),r.length>1){_I(e.state,e.dispatch);const p=r.slice(1).map(y=>{const v=C3(y,n,e);return n.nodes.paragraph.create(null,v)}),_=de.fromArray(p),m=new Oe(_,0,0);e.dispatch(e.state.tr.replaceSelection(m)),hI(e.state,e.dispatch,e)}}function C3(e,t,n){const r=[];let s=0,i;if(!!!Oq.get(n.state))return[t.text(e)];for(;(i=kve.exec(e))!=null;){if(i.index>s){const l=e.slice(s,i.index);r.push(t.text(l))}const a=i[1],c=Dve(a,t);r.push(c),s=i.index+i[0].length}if(s<e.length){const a=e.slice(s);r.push(t.text(a))}return r}function Dve(e,t){const n=lge({value:"oaicite:"+e},t);if(n==null)throw new Error("Failed to create text node for content reference");const r={index:e,displayLayout:"inline"},s=de.fromArray([n]);return t.nodes.contentReference.create(r,s)}const $$e=e=>Br(e).checkGate("223382091");function q$e(e,t){const r=e.state.tr;let s=0;return r.doc.descendants((i,o)=>{if(i.isText&&i.text){if(typeof t=="string"&&i.text.startsWith(t))s=t.length;else if(t instanceof RegExp){const a=i.text.match(t);(a==null?void 0:a.index)===0&&(s=a[0].length)}if(s){const a=i.text.substring(s).trimStart();s=i.text.length-a.length,r.delete(o,o+s)}}return!i.isLeaf}),s>0?(e.dispatch(r),!0):!1}function V$e(e,t,n){const s=e.state.tr,i=[];s.doc.descendants((o,a)=>{!o.isText||o.text===void 0||i.push({node:o,pos:a})}),i.reverse(),i.forEach(({node:o,pos:a})=>{!o.isText||o.text===void 0||o.text.includes(t)&&s.insertText(o.text.replaceAll(t,n),a,a+o.text.length)}),e.dispatch(s)}const Uq=new ds("transactionEventPlugin"),c1="prosemirrorDispatchTransaction";function jq(e,t){const{eventTarget:n}=Uq.getState(e.state);return n.addEventListener(c1,t),()=>{n.removeEventListener(c1,t)}}function Fve(e){return new $r({key:Uq,state:{init(){return{eventTarget:e}},apply(t,n){return n}}})}function Uve(e,t){let n=!1;return ye(()=>n=!t()&&(n||e()))}var eb,S3;function jve(){if(S3)return eb;S3=1;var e=zs(),t=function(){return e.Date.now()};return eb=t,eb}var tb,b3;function Bq(){if(b3)return tb;b3=1;var e=Ys(),t=jve(),n=I9(),r="Expected a function",s=Math.max,i=Math.min;function o(a,c,l){var u,d,f,h,p,_,m=0,y=!1,v=!1,O=!0;if(typeof a!="function")throw new TypeError(r);c=n(c)||0,e(l)&&(y=!!l.leading,v="maxWait"in l,f=v?s(n(l.maxWait)||0,c):f,O="trailing"in l?!!l.trailing:O);function S(M){var F=u,j=d;return u=d=void 0,m=M,h=a.apply(j,F),h}function E(M){return m=M,p=setTimeout(w,c),y?S(M):h}function T(M){var F=M-_,j=M-m,$=c-F;return v?i($,f-j):$}function A(M){var F=M-_,j=M-m;return _===void 0||F>=c||F<0||v&&j>=f}function w(){var M=t();if(A(M))return N(M);p=setTimeout(w,T(M))}function N(M){return p=void 0,O&&u?S(M):(u=d=void 0,h)}function P(){p!==void 0&&clearTimeout(p),m=0,u=_=d=p=void 0}function x(){return p===void 0?h:N(t())}function D(){var M=t(),F=A(M);if(u=arguments,d=this,_=M,F){if(p===void 0)return E(_);if(v)return clearTimeout(p),p=setTimeout(w,c),S(_)}return p===void 0&&(p=setTimeout(w,c)),h}return D.cancel=P,D.flush=x,D}return tb=o,tb}var Bve=Bq();const Gve=$t(Bve);var nb,T3;function Wve(){if(T3)return nb;T3=1;var e=Bq(),t=Ys(),n="Expected a function";function r(s,i,o){var a=!0,c=!0;if(typeof s!="function")throw new TypeError(n);return t(o)&&(a="leading"in o?!!o.leading:a,c="trailing"in o?!!o.trailing:c),e(s,i,{leading:a,maxWait:i,trailing:c})}return nb=r,nb}var Hve=Wve();const Gq=$t(Hve),O_=new ds("contextConnectorPaste");function $ve(){return new $r({key:O_,state:{init:()=>({}),apply(e,t){const n=e.getMeta(O_);return n!=null?n:t}},props:{transformPasted(e,t){var r;const n=(r=O_.getState(t.state))==null?void 0:r.transformPasted;return n?n(e,t):e}}})}function z$e(e,t){e.dispatch(e.state.tr.setMeta(O_,t))}const qve=20,Y$e=({enabled:e=!0,includeAll:t=!1,limit:n=qve})=>zc({queryKey:["prompt-templates",{includeAll:t,limit:n}],enabled:e,initialPageParam:void 0,getNextPageParam:r=>{var s;return(s=r.query_continuation)!=null?s:void 0},queryFn:({pageParam:r})=>{const s={include_all:t,limit:n};return r&&(s.query_continuation=r),Y.safeGet("/templated_prompts/",{parameters:{query:s}})}});function Vve(e){var o;const t="3058946295",n="2236370269";return((o=Me(e,"46455729"))!=null?o:!1)?!0:(Ot(e,n),X_(e,t).get("enabled",!1))}const K$e=({onError:e,onSuccess:t})=>tn({mutationFn:n=>Y.safePost("/templated_prompts/",{requestBody:n}),onError:e,onSuccess:t}),X$e=({onError:e,onSuccess:t})=>tn({mutationFn:({promptId:n,prompt:r})=>Y.safePatch("/templated_prompts/{prompt_id}",{parameters:{path:{prompt_id:n}},requestBody:r}),onError:e,onSuccess:t}),J$e=({onError:e,onSuccess:t,share:n})=>tn({mutationFn:r=>Y.safePost("/templated_prompts/{prompt_id}/toggle_share",{parameters:{path:{prompt_id:r}},requestBody:{shared_to_workspace:n}}),onError:e,onSuccess:t}),Q$e=({onError:e,onSuccess:t})=>tn({mutationFn:({promptId:n,relationship:r})=>Y.safePost("/templated_prompts/{prompt_id}/update_subscription",{parameters:{path:{prompt_id:n}},requestBody:{relationship:r}}),onError:e,onSuccess:t}),Z$e=({onError:e,onSuccess:t})=>tn({mutationFn:n=>Y.safePost("/templated_prompts/{prompt_id}/increment_invocation",{parameters:{path:{prompt_id:n}}}),onError:e,onSuccess:t});var ca={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Dm={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},zve=typeof navigator<"u"&&/Mac/.test(navigator.platform),Yve=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Fn=0;Fn<10;Fn++)ca[48+Fn]=ca[96+Fn]=String(Fn);for(var Fn=1;Fn<=24;Fn++)ca[Fn+111]="F"+Fn;for(var Fn=65;Fn<=90;Fn++)ca[Fn]=String.fromCharCode(Fn+32),Dm[Fn]=String.fromCharCode(Fn);for(var rb in ca)Dm.hasOwnProperty(rb)||(Dm[rb]=ca[rb]);function Kve(e){var t=zve&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||Yve&&e.shiftKey&&e.key&&e.key.length==1||e.key=="Unidentified",n=!t&&e.key||(e.shiftKey?Dm:ca)[e.keyCode]||e.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const Xve=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function Jve(e){let t=e.split(/-(?!$)/),n=t[t.length-1];n=="Space"&&(n=" ");let r,s,i,o;for(let a=0;a<t.length-1;a++){let c=t[a];if(/^(cmd|meta|m)$/i.test(c))o=!0;else if(/^a(lt)?$/i.test(c))r=!0;else if(/^(c|ctrl|control)$/i.test(c))s=!0;else if(/^s(hift)?$/i.test(c))i=!0;else if(/^mod$/i.test(c))Xve?o=!0:s=!0;else throw new Error("Unrecognized modifier name: "+c)}return r&&(n="Alt-"+n),s&&(n="Ctrl-"+n),o&&(n="Meta-"+n),i&&(n="Shift-"+n),n}function Qve(e){let t=Object.create(null);for(let n in e)t[Jve(n)]=e[n];return t}function sb(e,t,n=!0){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),n&&t.shiftKey&&(e="Shift-"+e),e}function Wq(e){return new $r({props:{handleKeyDown:Hq(e)}})}function Hq(e){let t=Qve(e);return function(n,r){let s=Kve(r),i,o=t[sb(s,r)];if(o&&o(n.state,n.dispatch,n))return!0;if(s.length==1&&s!=" "){if(r.shiftKey){let a=t[sb(s,r,!1)];if(a&&a(n.state,n.dispatch,n))return!0}if((r.shiftKey||r.altKey||r.metaKey||s.charCodeAt(0)>127)&&(i=ca[r.keyCode])&&i!=s){let a=t[sb(i,r)];if(a&&a(n.state,n.dispatch,n))return!0}}return!1}}const Un=function(e){for(var t=0;;t++)if(e=e.previousSibling,!e)return t},Mf=function(e){let t=e.assignedSlot||e.parentNode;return t&&t.nodeType==11?t.host:t};let l1=null;const Fi=function(e,t,n){let r=l1||(l1=document.createRange());return r.setEnd(e,n==null?e.nodeValue.length:n),r.setStart(e,t||0),r},Zve=function(){l1=null},Gc=function(e,t,n,r){return n&&(O3(e,t,n,r,-1)||O3(e,t,n,r,1))},eye=/^(img|br|input|textarea|hr)$/i;function O3(e,t,n,r,s){for(;;){if(e==n&&t==r)return!0;if(t==(s<0?0:li(e))){let i=e.parentNode;if(!i||i.nodeType!=1||$h(e)||eye.test(e.nodeName)||e.contentEditable=="false")return!1;t=Un(e)+(s<0?0:1),e=i}else if(e.nodeType==1){if(e=e.childNodes[t+(s<0?-1:0)],e.contentEditable=="false")return!1;t=s<0?li(e):0}else return!1}}function li(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function tye(e,t){for(;;){if(e.nodeType==3&&t)return e;if(e.nodeType==1&&t>0){if(e.contentEditable=="false")return null;e=e.childNodes[t-1],t=li(e)}else if(e.parentNode&&!$h(e))t=Un(e),e=e.parentNode;else return null}}function nye(e,t){for(;;){if(e.nodeType==3&&t<e.nodeValue.length)return e;if(e.nodeType==1&&t<e.childNodes.length){if(e.contentEditable=="false")return null;e=e.childNodes[t],t=0}else if(e.parentNode&&!$h(e))t=Un(e)+1,e=e.parentNode;else return null}}function rye(e,t,n){for(let r=t==0,s=t==li(e);r||s;){if(e==n)return!0;let i=Un(e);if(e=e.parentNode,!e)return!1;r=r&&i==0,s=s&&i==li(e)}}function $h(e){let t;for(let n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}const Iv=function(e){return e.focusNode&&Gc(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function Qa(e,t){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function sye(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}function iye(e,t,n){if(e.caretPositionFromPoint)try{let r=e.caretPositionFromPoint(t,n);if(r)return{node:r.offsetNode,offset:r.offset}}catch(r){}if(e.caretRangeFromPoint){let r=e.caretRangeFromPoint(t,n);if(r)return{node:r.startContainer,offset:r.startOffset}}}const Si=typeof navigator<"u"?navigator:null,A3=typeof document<"u"?document:null,Ea=Si&&Si.userAgent||"",u1=/Edge\/(\d+)/.exec(Ea),$q=/MSIE \d/.exec(Ea),d1=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Ea),gr=!!($q||d1||u1),Xo=$q?document.documentMode:d1?+d1[1]:u1?+u1[1]:0,js=!gr&&/gecko\/(\d+)/i.test(Ea);js&&+(/Firefox\/(\d+)/.exec(Ea)||[0,0])[1];const f1=!gr&&/Chrome\/(\d+)/.exec(Ea),Xn=!!f1,qq=f1?+f1[1]:0,ir=!gr&&!!Si&&/Apple Computer/.test(Si.vendor),Pu=ir&&(/Mobile\/\w+/.test(Ea)||!!Si&&Si.maxTouchPoints>2),Qr=Pu||(Si?/Mac/.test(Si.platform):!1),oye=Si?/Win/.test(Si.platform):!1,bs=/Android \d/.test(Ea),qh=!!A3&&"webkitFontSmoothing"in A3.documentElement.style,aye=qh?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function cye(e){let t=e.defaultView&&e.defaultView.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function Mi(e,t){return typeof e=="number"?e:e[t]}function lye(e){let t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*r}}function w3(e,t,n){let r=e.someProp("scrollThreshold")||0,s=e.someProp("scrollMargin")||5,i=e.dom.ownerDocument;for(let o=n||e.dom;o;o=Mf(o)){if(o.nodeType!=1)continue;let a=o,c=a==i.body,l=c?cye(i):lye(a),u=0,d=0;if(t.top<l.top+Mi(r,"top")?d=-(l.top-t.top+Mi(s,"top")):t.bottom>l.bottom-Mi(r,"bottom")&&(d=t.bottom-t.top>l.bottom-l.top?t.top+Mi(s,"top")-l.top:t.bottom-l.bottom+Mi(s,"bottom")),t.left<l.left+Mi(r,"left")?u=-(l.left-t.left+Mi(s,"left")):t.right>l.right-Mi(r,"right")&&(u=t.right-l.right+Mi(s,"right")),u||d)if(c)i.defaultView.scrollBy(u,d);else{let f=a.scrollLeft,h=a.scrollTop;d&&(a.scrollTop+=d),u&&(a.scrollLeft+=u);let p=a.scrollLeft-f,_=a.scrollTop-h;t={left:t.left-p,top:t.top-_,right:t.right-p,bottom:t.bottom-_}}if(c||/^(fixed|sticky)$/.test(getComputedStyle(o).position))break}}function uye(e){let t=e.dom.getBoundingClientRect(),n=Math.max(0,t.top),r,s;for(let i=(t.left+t.right)/2,o=n+1;o<Math.min(innerHeight,t.bottom);o+=5){let a=e.root.elementFromPoint(i,o);if(!a||a==e.dom||!e.dom.contains(a))continue;let c=a.getBoundingClientRect();if(c.top>=n-20){r=a,s=c.top;break}}return{refDOM:r,refTop:s,stack:Vq(e.dom)}}function Vq(e){let t=[],n=e.ownerDocument;for(let r=e;r&&(t.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),e!=n);r=Mf(r));return t}function dye({refDOM:e,refTop:t,stack:n}){let r=e?e.getBoundingClientRect().top:0;zq(n,r==0?0:r-t)}function zq(e,t){for(let n=0;n<e.length;n++){let{dom:r,top:s,left:i}=e[n];r.scrollTop!=s+t&&(r.scrollTop=s+t),r.scrollLeft!=i&&(r.scrollLeft=i)}}let El=null;function fye(e){if(e.setActive)return e.setActive();if(El)return e.focus(El);let t=Vq(e);e.focus(El==null?{get preventScroll(){return El={preventScroll:!0},!0}}:void 0),El||(El=!1,zq(t,0))}function Yq(e,t){let n,r=2e8,s,i=0,o=t.top,a=t.top,c,l;for(let u=e.firstChild,d=0;u;u=u.nextSibling,d++){let f;if(u.nodeType==1)f=u.getClientRects();else if(u.nodeType==3)f=Fi(u).getClientRects();else continue;for(let h=0;h<f.length;h++){let p=f[h];if(p.top<=o&&p.bottom>=a){o=Math.max(p.bottom,o),a=Math.min(p.top,a);let _=p.left>t.left?p.left-t.left:p.right<t.left?t.left-p.right:0;if(_<r){n=u,r=_,s=_&&n.nodeType==3?{left:p.right<t.left?p.right:p.left,top:t.top}:t,u.nodeType==1&&_&&(i=d+(t.left>=(p.left+p.right)/2?1:0));continue}}else p.top>t.top&&!c&&p.left<=t.left&&p.right>=t.left&&(c=u,l={left:Math.max(p.left,Math.min(p.right,t.left)),top:p.top});!n&&(t.left>=p.right&&t.top>=p.top||t.left>=p.left&&t.top>=p.bottom)&&(i=d+1)}}return!n&&c&&(n=c,s=l,r=0),n&&n.nodeType==3?hye(n,s):!n||r&&n.nodeType==1?{node:e,offset:i}:Yq(n,s)}function hye(e,t){let n=e.nodeValue.length,r=document.createRange();for(let s=0;s<n;s++){r.setEnd(e,s+1),r.setStart(e,s);let i=Io(r,1);if(i.top!=i.bottom&&mI(t,i))return{node:e,offset:s+(t.left>=(i.left+i.right)/2?1:0)}}return{node:e,offset:0}}function mI(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function pye(e,t){let n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}function _ye(e,t,n){let{node:r,offset:s}=Yq(t,n),i=-1;if(r.nodeType==1&&!r.firstChild){let o=r.getBoundingClientRect();i=o.left!=o.right&&n.left>(o.left+o.right)/2?1:-1}return e.docView.posFromDOM(r,s,i)}function mye(e,t,n,r){let s=-1;for(let i=t,o=!1;i!=e.dom;){let a=e.docView.nearestDesc(i,!0);if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)){let c=a.dom.getBoundingClientRect();if(a.node.isBlock&&a.parent&&(!o&&c.left>r.left||c.top>r.top?s=a.posBefore:(!o&&c.right<r.left||c.bottom<r.top)&&(s=a.posAfter),o=!0),!a.contentDOM&&s<0&&!a.node.isText)return(a.node.isBlock?r.top<(c.top+c.bottom)/2:r.left<(c.left+c.right)/2)?a.posBefore:a.posAfter}i=a.dom.parentNode}return s>-1?s:e.docView.posFromDOM(t,n,-1)}function Kq(e,t,n){let r=e.childNodes.length;if(r&&n.top<n.bottom)for(let s=Math.max(0,Math.min(r-1,Math.floor(r*(t.top-n.top)/(n.bottom-n.top))-2)),i=s;;){let o=e.childNodes[i];if(o.nodeType==1){let a=o.getClientRects();for(let c=0;c<a.length;c++){let l=a[c];if(mI(t,l))return Kq(o,t,l)}}if((i=(i+1)%r)==s)break}return e}function gye(e,t){let n=e.dom.ownerDocument,r,s=0,i=iye(n,t.left,t.top);i&&({node:r,offset:s}=i);let o=(e.root.elementFromPoint?e.root:n).elementFromPoint(t.left,t.top),a;if(!o||!e.dom.contains(o.nodeType!=1?o.parentNode:o)){let l=e.dom.getBoundingClientRect();if(!mI(t,l)||(o=Kq(e.dom,t,l),!o))return null}if(ir)for(let l=o;r&&l;l=Mf(l))l.draggable&&(r=void 0);if(o=pye(o,t),r){if(js&&r.nodeType==1&&(s=Math.min(s,r.childNodes.length),s<r.childNodes.length)){let u=r.childNodes[s],d;u.nodeName=="IMG"&&(d=u.getBoundingClientRect()).right<=t.left&&d.bottom>t.top&&s++}let l;qh&&s&&r.nodeType==1&&(l=r.childNodes[s-1]).nodeType==1&&l.contentEditable=="false"&&l.getBoundingClientRect().top>=t.top&&s--,r==e.dom&&s==r.childNodes.length-1&&r.lastChild.nodeType==1&&t.top>r.lastChild.getBoundingClientRect().bottom?a=e.state.doc.content.size:(s==0||r.nodeType!=1||r.childNodes[s-1].nodeName!="BR")&&(a=mye(e,r,s,t))}a==null&&(a=_ye(e,o,t));let c=e.docView.nearestDesc(o,!0);return{pos:a,inside:c?c.posAtStart-c.border:-1}}function N3(e){return e.top<e.bottom||e.left<e.right}function Io(e,t){let n=e.getClientRects();if(n.length){let r=n[t<0?0:n.length-1];if(N3(r))return r}return Array.prototype.find.call(n,N3)||e.getBoundingClientRect()}const vye=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function Xq(e,t,n){let{node:r,offset:s,atom:i}=e.docView.domFromPos(t,n<0?-1:1),o=qh||js;if(r.nodeType==3)if(o&&(vye.test(r.nodeValue)||(n<0?!s:s==r.nodeValue.length))){let c=Io(Fi(r,s,s),n);if(js&&s&&/\s/.test(r.nodeValue[s-1])&&s<r.nodeValue.length){let l=Io(Fi(r,s-1,s-1),-1);if(l.top==c.top){let u=Io(Fi(r,s,s+1),-1);if(u.top!=c.top)return gd(u,u.left<l.left)}}return c}else{let c=s,l=s,u=n<0?1:-1;return n<0&&!s?(l++,u=-1):n>=0&&s==r.nodeValue.length?(c--,u=1):n<0?c--:l++,gd(Io(Fi(r,c,l),u),u<0)}if(!e.state.doc.resolve(t-(i||0)).parent.inlineContent){if(i==null&&s&&(n<0||s==li(r))){let c=r.childNodes[s-1];if(c.nodeType==1)return ib(c.getBoundingClientRect(),!1)}if(i==null&&s<li(r)){let c=r.childNodes[s];if(c.nodeType==1)return ib(c.getBoundingClientRect(),!0)}return ib(r.getBoundingClientRect(),n>=0)}if(i==null&&s&&(n<0||s==li(r))){let c=r.childNodes[s-1],l=c.nodeType==3?Fi(c,li(c)-(o?0:1)):c.nodeType==1&&(c.nodeName!="BR"||!c.nextSibling)?c:null;if(l)return gd(Io(l,1),!1)}if(i==null&&s<li(r)){let c=r.childNodes[s];for(;c.pmViewDesc&&c.pmViewDesc.ignoreForCoords;)c=c.nextSibling;let l=c?c.nodeType==3?Fi(c,0,o?0:1):c.nodeType==1?c:null:null;if(l)return gd(Io(l,-1),!0)}return gd(Io(r.nodeType==3?Fi(r):r,-n),n>=0)}function gd(e,t){if(e.width==0)return e;let n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function ib(e,t){if(e.height==0)return e;let n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function Jq(e,t,n){let r=e.state,s=e.root.activeElement;r!=t&&e.updateState(t),s!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r),s!=e.dom&&s&&s.focus()}}function yye(e,t,n){let r=t.selection,s=n=="up"?r.$from:r.$to;return Jq(e,t,()=>{let{node:i}=e.docView.domFromPos(s.pos,n=="up"?-1:1);for(;;){let a=e.docView.nearestDesc(i,!0);if(!a)break;if(a.node.isBlock){i=a.contentDOM||a.dom;break}i=a.dom.parentNode}let o=Xq(e,s.pos,1);for(let a=i.firstChild;a;a=a.nextSibling){let c;if(a.nodeType==1)c=a.getClientRects();else if(a.nodeType==3)c=Fi(a,0,a.nodeValue.length).getClientRects();else continue;for(let l=0;l<c.length;l++){let u=c[l];if(u.bottom>u.top+1&&(n=="up"?o.top-u.top>(u.bottom-o.top)*2:u.bottom-o.bottom>(o.bottom-u.top)*2))return!1}}return!0})}const Eye=/[\u0590-\u08ac]/;function Cye(e,t,n){let{$head:r}=t.selection;if(!r.parent.isTextblock)return!1;let s=r.parentOffset,i=!s,o=s==r.parent.content.size,a=e.domSelection();return!Eye.test(r.parent.textContent)||!a.modify?n=="left"||n=="backward"?i:o:Jq(e,t,()=>{let{focusNode:c,focusOffset:l,anchorNode:u,anchorOffset:d}=e.domSelectionRange(),f=a.caretBidiLevel;a.modify("move",n,"character");let h=r.depth?e.docView.domAfterPos(r.before()):e.dom,{focusNode:p,focusOffset:_}=e.domSelectionRange(),m=p&&!h.contains(p.nodeType==1?p:p.parentNode)||c==p&&l==_;try{a.collapse(u,d),c&&(c!=u||l!=d)&&a.extend&&a.extend(c,l)}catch(y){}return f!=null&&(a.caretBidiLevel=f),m})}let I3=null,P3=null,R3=!1;function Sye(e,t,n){return I3==t&&P3==n?R3:(I3=t,P3=n,R3=n=="up"||n=="down"?yye(e,t,n):Cye(e,t,n))}const ss=0,x3=1,tc=2,bi=3;class Vh{constructor(t,n,r,s){this.parent=t,this.children=n,this.dom=r,this.contentDOM=s,this.dirty=ss,r.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,n,r){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let n=0;n<this.children.length;n++)t+=this.children[n].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let n=0,r=this.posAtStart;;n++){let s=this.children[n];if(s==t)return r;r+=s.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,n,r){if(this.contentDOM&&this.contentDOM.contains(t.nodeType==1?t:t.parentNode))if(r<0){let i,o;if(t==this.contentDOM)i=t.childNodes[n-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;i=t.previousSibling}for(;i&&!((o=i.pmViewDesc)&&o.parent==this);)i=i.previousSibling;return i?this.posBeforeChild(o)+o.size:this.posAtStart}else{let i,o;if(t==this.contentDOM)i=t.childNodes[n];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;i=t.nextSibling}for(;i&&!((o=i.pmViewDesc)&&o.parent==this);)i=i.nextSibling;return i?this.posBeforeChild(o):this.posAtEnd}let s;if(t==this.dom&&this.contentDOM)s=n>Un(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=t.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let i=t;;i=i.parentNode){if(i==this.dom){s=!1;break}if(i.previousSibling)break}if(s==null&&n==t.childNodes.length)for(let i=t;;i=i.parentNode){if(i==this.dom){s=!0;break}if(i.nextSibling)break}}return(s==null?r>0:s)?this.posAtEnd:this.posAtStart}nearestDesc(t,n=!1){for(let r=!0,s=t;s;s=s.parentNode){let i=this.getDesc(s),o;if(i&&(!n||i.node))if(r&&(o=i.nodeDOM)&&!(o.nodeType==1?o.contains(t.nodeType==1?t:t.parentNode):o==t))r=!1;else return i}}getDesc(t){let n=t.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(t,n,r){for(let s=t;s;s=s.parentNode){let i=this.getDesc(s);if(i)return i.localPosFromDOM(t,n,r)}return-1}descAt(t){for(let n=0,r=0;n<this.children.length;n++){let s=this.children[n],i=r+s.size;if(r==t&&i!=r){for(;!s.border&&s.children.length;)s=s.children[0];return s}if(t<i)return s.descAt(t-r-s.border);r=i}}domFromPos(t,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let r=0,s=0;for(let i=0;r<this.children.length;r++){let o=this.children[r],a=i+o.size;if(a>t||o instanceof Zq){s=t-i;break}i=a}if(s)return this.children[r].domFromPos(s-this.children[r].border,n);for(let i;r&&!(i=this.children[r-1]).size&&i instanceof Qq&&i.side>=0;r--);if(n<=0){let i,o=!0;for(;i=r?this.children[r-1]:null,!(!i||i.dom.parentNode==this.contentDOM);r--,o=!1);return i&&n&&o&&!i.border&&!i.domAtom?i.domFromPos(i.size,n):{node:this.contentDOM,offset:i?Un(i.dom)+1:0}}else{let i,o=!0;for(;i=r<this.children.length?this.children[r]:null,!(!i||i.dom.parentNode==this.contentDOM);r++,o=!1);return i&&o&&!i.border&&!i.domAtom?i.domFromPos(0,n):{node:this.contentDOM,offset:i?Un(i.dom):this.contentDOM.childNodes.length}}}parseRange(t,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:t,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let s=-1,i=-1;for(let o=r,a=0;;a++){let c=this.children[a],l=o+c.size;if(s==-1&&t<=l){let u=o+c.border;if(t>=u&&n<=l-c.border&&c.node&&c.contentDOM&&this.contentDOM.contains(c.contentDOM))return c.parseRange(t,n,u);t=o;for(let d=a;d>0;d--){let f=this.children[d-1];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(1)){s=Un(f.dom)+1;break}t-=f.size}s==-1&&(s=0)}if(s>-1&&(l>n||a==this.children.length-1)){n=l;for(let u=a+1;u<this.children.length;u++){let d=this.children[u];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){i=Un(d.dom);break}n+=d.size}i==-1&&(i=this.contentDOM.childNodes.length);break}o=l}return{node:this.contentDOM,from:t,to:n,fromOffset:s,toOffset:i}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[t<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(t)}domAfterPos(t){let{node:n,offset:r}=this.domFromPos(t,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+t);return n.childNodes[r]}setSelection(t,n,r,s=!1){let i=Math.min(t,n),o=Math.max(t,n);for(let f=0,h=0;f<this.children.length;f++){let p=this.children[f],_=h+p.size;if(i>h&&o<_)return p.setSelection(t-h-p.border,n-h-p.border,r,s);h=_}let a=this.domFromPos(t,t?-1:1),c=n==t?a:this.domFromPos(n,n?-1:1),l=r.getSelection(),u=!1;if((js||ir)&&t==n){let{node:f,offset:h}=a;if(f.nodeType==3){if(u=!!(h&&f.nodeValue[h-1]=="\n"),u&&h==f.nodeValue.length)for(let p=f,_;p;p=p.parentNode){if(_=p.nextSibling){_.nodeName=="BR"&&(a=c={node:_.parentNode,offset:Un(_)+1});break}let m=p.pmViewDesc;if(m&&m.node&&m.node.isBlock)break}}else{let p=f.childNodes[h-1];u=p&&(p.nodeName=="BR"||p.contentEditable=="false")}}if(js&&l.focusNode&&l.focusNode!=c.node&&l.focusNode.nodeType==1){let f=l.focusNode.childNodes[l.focusOffset];f&&f.contentEditable=="false"&&(s=!0)}if(!(s||u&&ir)&&Gc(a.node,a.offset,l.anchorNode,l.anchorOffset)&&Gc(c.node,c.offset,l.focusNode,l.focusOffset))return;let d=!1;if((l.extend||t==n)&&!u){l.collapse(a.node,a.offset);try{t!=n&&l.extend(c.node,c.offset),d=!0}catch(f){}}if(!d){if(t>n){let h=a;a=c,c=h}let f=document.createRange();f.setEnd(c.node,c.offset),f.setStart(a.node,a.offset),l.removeAllRanges(),l.addRange(f)}}ignoreMutation(t){return!this.contentDOM&&t.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,n){for(let r=0,s=0;s<this.children.length;s++){let i=this.children[s],o=r+i.size;if(r==o?t<=o&&n>=r:t<o&&n>r){let a=r+i.border,c=o-i.border;if(t>=a&&n<=c){this.dirty=t==r||n==o?tc:x3,t==a&&n==c&&(i.contentLost||i.dom.parentNode!=this.contentDOM)?i.dirty=bi:i.markDirty(t-a,n-a);return}else i.dirty=i.dom==i.contentDOM&&i.dom.parentNode==this.contentDOM&&!i.children.length?tc:bi}r=o}this.dirty=tc}markParentsDirty(){let t=1;for(let n=this.parent;n;n=n.parent,t++){let r=t==1?tc:x3;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(t){return!1}}class Qq extends Vh{constructor(t,n,r,s){let i,o=n.type.toDOM;if(typeof o=="function"&&(o=o(r,()=>{if(!i)return s;if(i.parent)return i.parent.posBeforeChild(i)})),!n.type.spec.raw){if(o.nodeType!=1){let a=document.createElement("span");a.appendChild(o),o=a}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(t,[],o,null),this.widget=n,this.widget=n,i=this}matchesWidget(t){return this.dirty==ss&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let n=this.widget.spec.stopEvent;return n?n(t):!1}ignoreMutation(t){return t.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class bye extends Vh{constructor(t,n,r,s){super(t,[],n,null),this.textDOM=r,this.text=s}get size(){return this.text.length}localPosFromDOM(t,n){return t!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return t.type==="characterData"&&t.target.nodeValue==t.oldValue}}class Wc extends Vh{constructor(t,n,r,s){super(t,[],r,s),this.mark=n}static create(t,n,r,s){let i=s.nodeViews[n.type.name],o=i&&i(n,s,r);return(!o||!o.dom)&&(o=Ku.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new Wc(t,n,o.dom,o.contentDOM||o.dom)}parseRule(){return this.dirty&bi||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(t){return this.dirty!=bi&&this.mark.eq(t)}markDirty(t,n){if(super.markDirty(t,n),this.dirty!=ss){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=ss}}slice(t,n,r){let s=Wc.create(this.parent,this.mark,!0,r),i=this.children,o=this.size;n<o&&(i=_1(i,n,o,r)),t>0&&(i=_1(i,0,t,r));for(let a=0;a<i.length;a++)i[a].parent=s;return s.children=i,s}}class Jo extends Vh{constructor(t,n,r,s,i,o,a,c,l){super(t,[],i,o),this.node=n,this.outerDeco=r,this.innerDeco=s,this.nodeDOM=a}static create(t,n,r,s,i,o){let a=i.nodeViews[n.type.name],c,l=a&&a(n,i,()=>{if(!c)return o;if(c.parent)return c.parent.posBeforeChild(c)},r,s),u=l&&l.dom,d=l&&l.contentDOM;if(n.isText){if(!u)u=document.createTextNode(n.text);else if(u.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else u||({dom:u,contentDOM:d}=Ku.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!d&&!n.isText&&u.nodeName!="BR"&&(u.hasAttribute("contenteditable")||(u.contentEditable="false"),n.type.spec.draggable&&(u.draggable=!0));let f=u;return u=n7(u,r,n),l?c=new Tye(t,n,r,s,u,d||null,f,l,i,o+1):n.isText?new Pv(t,n,r,s,u,f,i):new Jo(t,n,r,s,u,d||null,f,i,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(t.preserveWhitespace="full"),!this.contentDOM)t.getContent=()=>this.node.content;else if(!this.contentLost)t.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){t.contentElement=r.dom.parentNode;break}}t.contentElement||(t.getContent=()=>de.empty)}return t}matchesNode(t,n,r){return this.dirty==ss&&t.eq(this.node)&&p1(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,n){let r=this.node.inlineContent,s=n,i=t.composing?this.localCompositionInfo(t,n):null,o=i&&i.pos>-1?i:null,a=i&&i.pos<0,c=new Aye(this,o&&o.node,t);Iye(this.node,this.innerDeco,(l,u,d)=>{l.spec.marks?c.syncToMarks(l.spec.marks,r,t):l.type.side>=0&&!d&&c.syncToMarks(u==this.node.childCount?pt.none:this.node.child(u).marks,r,t),c.placeWidget(l,t,s)},(l,u,d,f)=>{c.syncToMarks(l.marks,r,t);let h;c.findNodeMatch(l,u,d,f)||a&&t.state.selection.from>s&&t.state.selection.to<s+l.nodeSize&&(h=c.findIndexWithChild(i.node))>-1&&c.updateNodeAt(l,u,d,h,t)||c.updateNextNode(l,u,d,t,f,s)||c.addNode(l,u,d,t,s),s+=l.nodeSize}),c.syncToMarks([],r,t),this.node.isTextblock&&c.addTextblockHacks(),c.destroyRest(),(c.changed||this.dirty==tc)&&(o&&this.protectLocalComposition(t,o),e7(this.contentDOM,this.children,t),Pu&&Pye(this.dom))}localCompositionInfo(t,n){let{from:r,to:s}=t.state.selection;if(!(t.state.selection instanceof at)||r<n||s>n+this.node.content.size)return null;let i=t.input.compositionNode;if(!i||!this.dom.contains(i.parentNode))return null;if(this.node.inlineContent){let o=i.nodeValue,a=Rye(this.node.content,o,r-n,s-n);return a<0?null:{node:i,pos:a,text:o}}else return{node:i,pos:-1,text:""}}protectLocalComposition(t,{node:n,pos:r,text:s}){if(this.getDesc(n))return;let i=n;for(;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=void 0)}let o=new bye(this,i,n,s);t.input.compositionNodes.push(o),this.children=_1(this.children,r,r+s.length,t,o)}update(t,n,r,s){return this.dirty==bi||!t.sameMarkup(this.node)?!1:(this.updateInner(t,n,r,s),!0)}updateInner(t,n,r,s){this.updateOuterDeco(n),this.node=t,this.innerDeco=r,this.contentDOM&&this.updateChildren(s,this.posAtStart),this.dirty=ss}updateOuterDeco(t){if(p1(t,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=t7(this.dom,this.nodeDOM,h1(this.outerDeco,this.node,n),h1(t,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function M3(e,t,n,r,s){n7(r,t,e);let i=new Jo(void 0,e,t,n,r,r,r,s,0);return i.contentDOM&&i.updateChildren(s,0),i}class Pv extends Jo{constructor(t,n,r,s,i,o,a){super(t,n,r,s,i,null,o,a,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,n,r,s){return this.dirty==bi||this.dirty!=ss&&!this.inParent()||!t.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=ss||t.text!=this.node.text)&&t.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=t.text,s.trackWrites==this.nodeDOM&&(s.trackWrites=null)),this.node=t,this.dirty=ss,!0)}inParent(){let t=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,n,r){return t==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(t,n,r)}ignoreMutation(t){return t.type!="characterData"&&t.type!="selection"}slice(t,n,r){let s=this.node.cut(t,n),i=document.createTextNode(s.text);return new Pv(this.parent,s,this.outerDeco,this.innerDeco,i,i,r)}markDirty(t,n){super.markDirty(t,n),this.dom!=this.nodeDOM&&(t==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=bi)}get domAtom(){return!1}isText(t){return this.node.text==t}}class Zq extends Vh{parseRule(){return{ignore:!0}}matchesHack(t){return this.dirty==ss&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class Tye extends Jo{constructor(t,n,r,s,i,o,a,c,l,u){super(t,n,r,s,i,o,a,l,u),this.spec=c}update(t,n,r,s){if(this.dirty==bi)return!1;if(this.spec.update){let i=this.spec.update(t,n,r);return i&&this.updateInner(t,n,r,s),i}else return!this.contentDOM&&!t.isLeaf?!1:super.update(t,n,r,s)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,n,r,s){this.spec.setSelection?this.spec.setSelection(t,n,r):super.setSelection(t,n,r,s)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return this.spec.stopEvent?this.spec.stopEvent(t):!1}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}}function e7(e,t,n){let r=e.firstChild,s=!1;for(let i=0;i<t.length;i++){let o=t[i],a=o.dom;if(a.parentNode==e){for(;a!=r;)r=k3(r),s=!0;r=r.nextSibling}else s=!0,e.insertBefore(a,r);if(o instanceof Wc){let c=r?r.previousSibling:e.lastChild;e7(o.contentDOM,o.children,n),r=c?c.nextSibling:e.firstChild}}for(;r;)r=k3(r),s=!0;s&&n.trackWrites==e&&(n.trackWrites=null)}const rf=function(e){e&&(this.nodeName=e)};rf.prototype=Object.create(null);const nc=[new rf];function h1(e,t,n){if(e.length==0)return nc;let r=n?nc[0]:new rf,s=[r];for(let i=0;i<e.length;i++){let o=e[i].type.attrs;if(o){o.nodeName&&s.push(r=new rf(o.nodeName));for(let a in o){let c=o[a];c!=null&&(n&&s.length==1&&s.push(r=new rf(t.isInline?"span":"div")),a=="class"?r.class=(r.class?r.class+" ":"")+c:a=="style"?r.style=(r.style?r.style+";":"")+c:a!="nodeName"&&(r[a]=c))}}}return s}function t7(e,t,n,r){if(n==nc&&r==nc)return t;let s=t;for(let i=0;i<r.length;i++){let o=r[i],a=n[i];if(i){let c;a&&a.nodeName==o.nodeName&&s!=e&&(c=s.parentNode)&&c.nodeName.toLowerCase()==o.nodeName||(c=document.createElement(o.nodeName),c.pmIsDeco=!0,c.appendChild(s),a=nc[0]),s=c}Oye(s,a||nc[0],o)}return s}function Oye(e,t,n){for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&e.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=t[r]&&e.setAttribute(r,n[r]);if(t.class!=n.class){let r=t.class?t.class.split(" ").filter(Boolean):[],s=n.class?n.class.split(" ").filter(Boolean):[];for(let i=0;i<r.length;i++)s.indexOf(r[i])==-1&&e.classList.remove(r[i]);for(let i=0;i<s.length;i++)r.indexOf(s[i])==-1&&e.classList.add(s[i]);e.classList.length==0&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,s;for(;s=r.exec(t.style);)e.style.removeProperty(s[1])}n.style&&(e.style.cssText+=n.style)}}function n7(e,t,n){return t7(e,e,nc,h1(t,n,e.nodeType!=1))}function p1(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function k3(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class Aye{constructor(t,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=wye(t.node.content,t)}destroyBetween(t,n){if(t!=n){for(let r=t;r<n;r++)this.top.children[r].destroy();this.top.children.splice(t,n-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,n,r){let s=0,i=this.stack.length>>1,o=Math.min(i,t.length);for(;s<o&&(s==i-1?this.top:this.stack[s+1<<1]).matchesMark(t[s])&&t[s].type.spec.spanning!==!1;)s++;for(;s<i;)this.destroyRest(),this.top.dirty=ss,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<t.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let c=this.index;c<Math.min(this.index+3,this.top.children.length);c++){let l=this.top.children[c];if(l.matchesMark(t[i])&&!this.isLocked(l.dom)){a=c;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let c=Wc.create(this.top,t[i],n,r);this.top.children.splice(this.index,0,c),this.top=c,this.changed=!0}this.index=0,i++}}findNodeMatch(t,n,r,s){let i=-1,o;if(s>=this.preMatch.index&&(o=this.preMatch.matches[s-this.preMatch.index]).parent==this.top&&o.matchesNode(t,n,r))i=this.top.children.indexOf(o,this.index);else for(let a=this.index,c=Math.min(this.top.children.length,a+5);a<c;a++){let l=this.top.children[a];if(l.matchesNode(t,n,r)&&!this.preMatch.matched.has(l)){i=a;break}}return i<0?!1:(this.destroyBetween(this.index,i),this.index++,!0)}updateNodeAt(t,n,r,s,i){let o=this.top.children[s];return o.dirty==bi&&o.dom==o.contentDOM&&(o.dirty=tc),o.update(t,n,r,i)?(this.destroyBetween(this.index,s),this.index++,!0):!1}findIndexWithChild(t){for(;;){let n=t.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=t.pmViewDesc;if(r){for(let s=this.index;s<this.top.children.length;s++)if(this.top.children[s]==r)return s}return-1}t=n}}updateNextNode(t,n,r,s,i,o){for(let a=this.index;a<this.top.children.length;a++){let c=this.top.children[a];if(c instanceof Jo){let l=this.preMatch.matched.get(c);if(l!=null&&l!=i)return!1;let u=c.dom,d,f=this.isLocked(u)&&!(t.isText&&c.node&&c.node.isText&&c.nodeDOM.nodeValue==t.text&&c.dirty!=bi&&p1(n,c.outerDeco));if(!f&&c.update(t,n,r,s))return this.destroyBetween(this.index,a),c.dom!=u&&(this.changed=!0),this.index++,!0;if(!f&&(d=this.recreateWrapper(c,t,n,r,s,o)))return this.top.children[this.index]=d,d.contentDOM&&(d.dirty=tc,d.updateChildren(s,o+1),d.dirty=ss),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(t,n,r,s,i,o){if(t.dirty||n.isAtom||!t.children.length||!t.node.content.eq(n.content))return null;let a=Jo.create(this.top,n,r,s,i,o);if(a.contentDOM){a.children=t.children,t.children=[];for(let c of a.children)c.parent=a}return t.destroy(),a}addNode(t,n,r,s,i){let o=Jo.create(this.top,t,n,r,s,i);o.contentDOM&&o.updateChildren(s,i+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(t,n,r){let s=this.index<this.top.children.length?this.top.children[this.index]:null;if(s&&s.matchesWidget(t)&&(t==s.widget||!s.widget.type.toDOM.parentNode))this.index++;else{let i=new Qq(this.top,t,n,r);this.top.children.splice(this.index++,0,i),this.changed=!0}}addTextblockHacks(){let t=this.top.children[this.index-1],n=this.top;for(;t instanceof Wc;)n=t,t=n.children[n.children.length-1];(!t||!(t instanceof Pv)||/\n$/.test(t.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(t.node.text))&&((ir||Xn)&&t&&t.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(t,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(t))this.index++;else{let r=document.createElement(t);t=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),t=="BR"&&(r.className="ProseMirror-trailingBreak");let s=new Zq(this.top,[],r,null);n!=this.top?n.children.push(s):n.children.splice(this.index++,0,s),this.changed=!0}}isLocked(t){return this.lock&&(t==this.lock||t.nodeType==1&&t.contains(this.lock.parentNode))}}function wye(e,t){let n=t,r=n.children.length,s=e.childCount,i=new Map,o=[];e:for(;s>0;){let a;for(;;)if(r){let l=n.children[r-1];if(l instanceof Wc)n=l,r=l.children.length;else{a=l,r--;break}}else{if(n==t)break e;r=n.parent.children.indexOf(n),n=n.parent}let c=a.node;if(c){if(c!=e.child(s-1))break;--s,i.set(a,s),o.push(a)}}return{index:s,matched:i,matches:o.reverse()}}function Nye(e,t){return e.type.side-t.type.side}function Iye(e,t,n,r){let s=t.locals(e),i=0;if(s.length==0){for(let l=0;l<e.childCount;l++){let u=e.child(l);r(u,s,t.forChild(i,u),l),i+=u.nodeSize}return}let o=0,a=[],c=null;for(let l=0;;){let u,d;for(;o<s.length&&s[o].to==i;){let m=s[o++];m.widget&&(u?(d||(d=[u])).push(m):u=m)}if(u)if(d){d.sort(Nye);for(let m=0;m<d.length;m++)n(d[m],l,!!c)}else n(u,l,!!c);let f,h;if(c)h=-1,f=c,c=null;else if(l<e.childCount)h=l,f=e.child(l++);else break;for(let m=0;m<a.length;m++)a[m].to<=i&&a.splice(m--,1);for(;o<s.length&&s[o].from<=i&&s[o].to>i;)a.push(s[o++]);let p=i+f.nodeSize;if(f.isText){let m=p;o<s.length&&s[o].from<m&&(m=s[o].from);for(let y=0;y<a.length;y++)a[y].to<m&&(m=a[y].to);m<p&&(c=f.cut(m-i),f=f.cut(0,m-i),p=m,h=-1)}else for(;o<s.length&&s[o].to<p;)o++;let _=f.isInline&&!f.isLeaf?a.filter(m=>!m.inline):a.slice();r(f,_,t.forChild(i,f),h),i=p}}function Pye(e){if(e.nodeName=="UL"||e.nodeName=="OL"){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}function Rye(e,t,n,r){for(let s=0,i=0;s<e.childCount&&i<=r;){let o=e.child(s++),a=i;if(i+=o.nodeSize,!o.isText)continue;let c=o.text;for(;s<e.childCount;){let l=e.child(s++);if(i+=l.nodeSize,!l.isText)break;c+=l.text}if(i>=n){if(i>=r&&c.slice(r-t.length-a,r-a)==t)return r-t.length;let l=a<r?c.lastIndexOf(t,r-a-1):-1;if(l>=0&&l+t.length+a>=n)return a+l;if(n==r&&c.length>=r+t.length-a&&c.slice(r-a,r-a+t.length)==t)return r}}return-1}function _1(e,t,n,r,s){let i=[];for(let o=0,a=0;o<e.length;o++){let c=e[o],l=a,u=a+=c.size;l>=n||u<=t?i.push(c):(l<t&&i.push(c.slice(0,t-l,r)),s&&(i.push(s),s=void 0),u>n&&i.push(c.slice(n-l,c.size,r)))}return i}function gI(e,t=null){let n=e.domSelectionRange(),r=e.state.doc;if(!n.focusNode)return null;let s=e.docView.nearestDesc(n.focusNode),i=s&&s.size==0,o=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(o<0)return null;let a=r.resolve(o),c,l;if(Iv(n)){for(c=a;s&&!s.node;)s=s.parent;let u=s.node;if(s&&u.isAtom&&ze.isSelectable(u)&&s.parent&&!(u.isInline&&rye(n.focusNode,n.focusOffset,s.dom))){let d=s.posBefore;l=new ze(o==d?a:r.resolve(d))}}else{let u=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(u<0)return null;c=r.resolve(u)}if(!l){let u=t=="pointer"||e.state.selection.head<a.pos&&!i?1:-1;l=vI(e,c,a,u)}return l}function r7(e){return e.editable?e.hasFocus():i7(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function Ki(e,t=!1){let n=e.state.selection;if(s7(e,n),!!r7(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&Xn){let r=e.domSelectionRange(),s=e.domObserver.currentSelection;if(r.anchorNode&&s.anchorNode&&Gc(r.anchorNode,r.anchorOffset,s.anchorNode,s.anchorOffset)){e.input.mouseDown.delayedSelectionSync=!0,e.domObserver.setCurSelection();return}}if(e.domObserver.disconnectSelection(),e.cursorWrapper)Mye(e);else{let{anchor:r,head:s}=n,i,o;L3&&!(n instanceof at)&&(n.$from.parent.inlineContent||(i=D3(e,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(o=D3(e,n.to))),e.docView.setSelection(r,s,e.root,t),L3&&(i&&F3(i),o&&F3(o)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&xye(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const L3=ir||Xn&&qq<63;function D3(e,t){let{node:n,offset:r}=e.docView.domFromPos(t,0),s=r<n.childNodes.length?n.childNodes[r]:null,i=r?n.childNodes[r-1]:null;if(ir&&s&&s.contentEditable=="false")return ob(s);if((!s||s.contentEditable=="false")&&(!i||i.contentEditable=="false")){if(s)return ob(s);if(i)return ob(i)}}function ob(e){return e.contentEditable="true",ir&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function F3(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function xye(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let n=e.domSelectionRange(),r=n.anchorNode,s=n.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=s)&&(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout(()=>{(!r7(e)||e.state.selection.visible)&&e.dom.classList.remove("ProseMirror-hideselection")},20))})}function Mye(e){let t=e.domSelection(),n=document.createRange(),r=e.cursorWrapper.dom,s=r.nodeName=="IMG";s?n.setEnd(r.parentNode,Un(r)+1):n.setEnd(r,0),n.collapse(!1),t.removeAllRanges(),t.addRange(n),!s&&!e.state.selection.visible&&gr&&Xo<=11&&(r.disabled=!0,r.disabled=!1)}function s7(e,t){if(t instanceof ze){let n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(U3(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else U3(e)}function U3(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function vI(e,t,n,r){return e.someProp("createSelectionBetween",s=>s(e,t,n))||at.between(t,n,r)}function j3(e){return e.editable&&!e.hasFocus()?!1:i7(e)}function i7(e){let t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(t.anchorNode.nodeType==3?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(t.focusNode.nodeType==3?t.focusNode.parentNode:t.focusNode))}catch(n){return!1}}function kye(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),n=e.domSelectionRange();return Gc(t.node,t.offset,n.anchorNode,n.anchorOffset)}function m1(e,t){let{$anchor:n,$head:r}=e.selection,s=t>0?n.max(r):n.min(r),i=s.parent.inlineContent?s.depth?e.doc.resolve(t>0?s.after():s.before()):null:s;return i&&lt.findFrom(i,t)}function Mo(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function B3(e,t,n){let r=e.state.selection;if(r instanceof at)if(n.indexOf("s")>-1){let{$head:s}=r,i=s.textOffset?null:t<0?s.nodeBefore:s.nodeAfter;if(!i||i.isText||!i.isLeaf)return!1;let o=e.state.doc.resolve(s.pos+i.nodeSize*(t<0?-1:1));return Mo(e,new at(r.$anchor,o))}else if(r.empty){if(e.endOfTextblock(t>0?"forward":"backward")){let s=m1(e.state,t);return s&&s instanceof ze?Mo(e,s):!1}else if(!(Qr&&n.indexOf("m")>-1)){let s=r.$head,i=s.textOffset?null:t<0?s.nodeBefore:s.nodeAfter,o;if(!i||i.isText)return!1;let a=t<0?s.pos-i.nodeSize:s.pos;return i.isAtom||(o=e.docView.descAt(a))&&!o.contentDOM?ze.isSelectable(i)?Mo(e,new ze(t<0?e.state.doc.resolve(s.pos-i.nodeSize):s)):qh?Mo(e,new at(e.state.doc.resolve(t<0?a:a+i.nodeSize))):!1:!1}}else return!1;else{if(r instanceof ze&&r.node.isInline)return Mo(e,new at(t>0?r.$to:r.$from));{let s=m1(e.state,t);return s?Mo(e,s):!1}}}function Fm(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function sf(e,t){let n=e.pmViewDesc;return n&&n.size==0&&(t<0||e.nextSibling||e.nodeName!="BR")}function Cl(e,t){return t<0?Lye(e):Dye(e)}function Lye(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let s,i,o=!1;for(js&&n.nodeType==1&&r<Fm(n)&&sf(n.childNodes[r],-1)&&(o=!0);;)if(r>0){if(n.nodeType!=1)break;{let a=n.childNodes[r-1];if(sf(a,-1))s=n,i=--r;else if(a.nodeType==3)n=a,r=n.nodeValue.length;else break}}else{if(o7(n))break;{let a=n.previousSibling;for(;a&&sf(a,-1);)s=n.parentNode,i=Un(a),a=a.previousSibling;if(a)n=a,r=Fm(n);else{if(n=n.parentNode,n==e.dom)break;r=0}}}o?g1(e,n,r):s&&g1(e,s,i)}function Dye(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let s=Fm(n),i,o;for(;;)if(r<s){if(n.nodeType!=1)break;let a=n.childNodes[r];if(sf(a,1))i=n,o=++r;else break}else{if(o7(n))break;{let a=n.nextSibling;for(;a&&sf(a,1);)i=a.parentNode,o=Un(a)+1,a=a.nextSibling;if(a)n=a,r=0,s=Fm(n);else{if(n=n.parentNode,n==e.dom)break;r=s=0}}}i&&g1(e,i,o)}function o7(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function Fye(e,t){for(;e&&t==e.childNodes.length&&!$h(e);)t=Un(e)+1,e=e.parentNode;for(;e&&t<e.childNodes.length;){let n=e.childNodes[t];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=0}}function Uye(e,t){for(;e&&!t&&!$h(e);)t=Un(e),e=e.parentNode;for(;e&&t;){let n=e.childNodes[t-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=e.childNodes.length}}function g1(e,t,n){if(t.nodeType!=3){let i,o;(o=Fye(t,n))?(t=o,n=0):(i=Uye(t,n))&&(t=i,n=i.nodeValue.length)}let r=e.domSelection();if(Iv(r)){let i=document.createRange();i.setEnd(t,n),i.setStart(t,n),r.removeAllRanges(),r.addRange(i)}else r.extend&&r.extend(t,n);e.domObserver.setCurSelection();let{state:s}=e;setTimeout(()=>{e.state==s&&Ki(e)},50)}function G3(e,t){let n=e.state.doc.resolve(t);if(!(Xn||oye)&&n.parent.inlineContent){let s=e.coordsAtPos(t);if(t>n.start()){let i=e.coordsAtPos(t-1),o=(i.top+i.bottom)/2;if(o>s.top&&o<s.bottom&&Math.abs(i.left-s.left)>1)return i.left<s.left?"ltr":"rtl"}if(t<n.end()){let i=e.coordsAtPos(t+1),o=(i.top+i.bottom)/2;if(o>s.top&&o<s.bottom&&Math.abs(i.left-s.left)>1)return i.left>s.left?"ltr":"rtl"}}return getComputedStyle(e.dom).direction=="rtl"?"rtl":"ltr"}function W3(e,t,n){let r=e.state.selection;if(r instanceof at&&!r.empty||n.indexOf("s")>-1||Qr&&n.indexOf("m")>-1)return!1;let{$from:s,$to:i}=r;if(!s.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let o=m1(e.state,t);if(o&&o instanceof ze)return Mo(e,o)}if(!s.parent.inlineContent){let o=t<0?s:i,a=r instanceof Dr?lt.near(o,t):lt.findFrom(o,t);return a?Mo(e,a):!1}return!1}function H3(e,t){if(!(e.state.selection instanceof at))return!0;let{$head:n,$anchor:r,empty:s}=e.state.selection;if(!n.sameParent(r))return!0;if(!s)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let i=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter);if(i&&!i.isText){let o=e.state.tr;return t<0?o.delete(n.pos-i.nodeSize,n.pos):o.delete(n.pos,n.pos+i.nodeSize),e.dispatch(o),!0}return!1}function $3(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function jye(e){if(!ir||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(t&&t.nodeType==1&&n==0&&t.firstChild&&t.firstChild.contentEditable=="false"){let r=t.firstChild;$3(e,r,"true"),setTimeout(()=>$3(e,r,"false"),20)}return!1}function Bye(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}function Gye(e,t){let n=t.keyCode,r=Bye(t);if(n==8||Qr&&n==72&&r=="c")return H3(e,-1)||Cl(e,-1);if(n==46&&!t.shiftKey||Qr&&n==68&&r=="c")return H3(e,1)||Cl(e,1);if(n==13||n==27)return!0;if(n==37||Qr&&n==66&&r=="c"){let s=n==37?G3(e,e.state.selection.from)=="ltr"?-1:1:-1;return B3(e,s,r)||Cl(e,s)}else if(n==39||Qr&&n==70&&r=="c"){let s=n==39?G3(e,e.state.selection.from)=="ltr"?1:-1:1;return B3(e,s,r)||Cl(e,s)}else{if(n==38||Qr&&n==80&&r=="c")return W3(e,-1,r)||Cl(e,-1);if(n==40||Qr&&n==78&&r=="c")return jye(e)||W3(e,1,r)||Cl(e,1);if(r==(Qr?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function a7(e,t){e.someProp("transformCopied",h=>{t=h(t,e)});let n=[],{content:r,openStart:s,openEnd:i}=t;for(;s>1&&i>1&&r.childCount==1&&r.firstChild.childCount==1;){s--,i--;let h=r.firstChild;n.push(h.type.name,h.attrs!=h.type.defaultAttrs?h.attrs:null),r=h.content}let o=e.someProp("clipboardSerializer")||Ku.fromSchema(e.state.schema),a=h7(),c=a.createElement("div");c.appendChild(o.serializeFragment(r,{document:a}));let l=c.firstChild,u,d=0;for(;l&&l.nodeType==1&&(u=f7[l.nodeName.toLowerCase()]);){for(let h=u.length-1;h>=0;h--){let p=a.createElement(u[h]);for(;c.firstChild;)p.appendChild(c.firstChild);c.appendChild(p),d++}l=c.firstChild}l&&l.nodeType==1&&l.setAttribute("data-pm-slice","".concat(s," ").concat(i).concat(d?" -".concat(d):""," ").concat(JSON.stringify(n)));let f=e.someProp("clipboardTextSerializer",h=>h(t,e))||t.content.textBetween(0,t.content.size,"\n\n");return{dom:c,text:f,slice:t}}function c7(e,t,n,r,s){let i=s.parent.type.spec.code,o,a;if(!n&&!t)return null;let c=t&&(r||i||!n);if(c){if(e.someProp("transformPastedText",f=>{t=f(t,i||r,e)}),i)return t?new Oe(de.from(e.state.schema.text(t.replace(/\r\n?/g,"\n"))),0,0):Oe.empty;let d=e.someProp("clipboardTextParser",f=>f(t,s,r,e));if(d)a=d;else{let f=s.marks(),{schema:h}=e.state,p=Ku.fromSchema(h);o=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(_=>{let m=o.appendChild(document.createElement("p"));_&&m.appendChild(p.serializeNode(h.text(_,f)))})}}else e.someProp("transformPastedHTML",d=>{n=d(n,e)}),o=$ye(n),qh&&qye(o);let l=o&&o.querySelector("[data-pm-slice]"),u=l&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(l.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let d=+u[3];d>0;d--){let f=o.firstChild;for(;f&&f.nodeType!=1;)f=f.nextSibling;if(!f)break;o=f}if(a||(a=(e.someProp("clipboardParser")||e.someProp("domParser")||Rf.fromSchema(e.state.schema)).parseSlice(o,{preserveWhitespace:!!(c||u),context:s,ruleFromNode(f){return f.nodeName=="BR"&&!f.nextSibling&&f.parentNode&&!Wye.test(f.parentNode.nodeName)?{ignore:!0}:null}})),u)a=Vye(q3(a,+u[1],+u[2]),u[4]);else if(a=Oe.maxOpen(Hye(a.content,s),!0),a.openStart||a.openEnd){let d=0,f=0;for(let h=a.content.firstChild;d<a.openStart&&!h.type.spec.isolating;d++,h=h.firstChild);for(let h=a.content.lastChild;f<a.openEnd&&!h.type.spec.isolating;f++,h=h.lastChild);a=q3(a,d,f)}return e.someProp("transformPasted",d=>{a=d(a,e)}),a}const Wye=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function Hye(e,t){if(e.childCount<2)return e;for(let n=t.depth;n>=0;n--){let s=t.node(n).contentMatchAt(t.index(n)),i,o=[];if(e.forEach(a=>{if(!o)return;let c=s.findWrapping(a.type),l;if(!c)return o=null;if(l=o.length&&i.length&&u7(c,i,a,o[o.length-1],0))o[o.length-1]=l;else{o.length&&(o[o.length-1]=d7(o[o.length-1],i.length));let u=l7(a,c);o.push(u),s=s.matchType(u.type),i=c}}),o)return de.from(o)}return e}function l7(e,t,n=0){for(let r=t.length-1;r>=n;r--)e=t[r].create(null,de.from(e));return e}function u7(e,t,n,r,s){if(s<e.length&&s<t.length&&e[s]==t[s]){let i=u7(e,t,n,r.lastChild,s+1);if(i)return r.copy(r.content.replaceChild(r.childCount-1,i));if(r.contentMatchAt(r.childCount).matchType(s==e.length-1?n.type:e[s+1]))return r.copy(r.content.append(de.from(l7(n,e,s+1))))}}function d7(e,t){if(t==0)return e;let n=e.content.replaceChild(e.childCount-1,d7(e.lastChild,t-1)),r=e.contentMatchAt(e.childCount).fillBefore(de.empty,!0);return e.copy(n.append(r))}function v1(e,t,n,r,s,i){let o=t<0?e.firstChild:e.lastChild,a=o.content;return e.childCount>1&&(i=0),s<r-1&&(a=v1(a,t,n,r,s+1,i)),s>=n&&(a=t<0?o.contentMatchAt(0).fillBefore(a,i<=s).append(a):a.append(o.contentMatchAt(o.childCount).fillBefore(de.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,o.copy(a))}function q3(e,t,n){return t<e.openStart&&(e=new Oe(v1(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new Oe(v1(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}const f7={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let V3=null;function h7(){return V3||(V3=document.implementation.createHTMLDocument("title"))}function $ye(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let n=h7().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(e),s;if((s=r&&f7[r[1].toLowerCase()])&&(e=s.map(i=>"<"+i+">").join("")+e+s.map(i=>"</"+i+">").reverse().join("")),n.innerHTML=e,s)for(let i=0;i<s.length;i++)n=n.querySelector(s[i])||n;return n}function qye(e){let t=e.querySelectorAll(Xn?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<t.length;n++){let r=t[n];r.childNodes.length==1&&r.textContent=="Â "&&r.parentNode&&r.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),r)}}function Vye(e,t){if(!e.size)return e;let n=e.content.firstChild.type.schema,r;try{r=JSON.parse(t)}catch(a){return e}let{content:s,openStart:i,openEnd:o}=e;for(let a=r.length-2;a>=0;a-=2){let c=n.nodes[r[a]];if(!c||c.hasRequiredAttrs())break;s=de.from(c.create(r[a+1],s)),i++,o++}return new Oe(s,i,o)}const or={},ar={},zye={touchstart:!0,touchmove:!0};class Yye{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function Kye(e){for(let t in or){let n=or[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=r=>{Jye(e,r)&&!yI(e,r)&&(e.editable||!(r.type in ar))&&n(e,r)},zye[t]?{passive:!0}:void 0)}ir&&e.dom.addEventListener("input",()=>null),y1(e)}function zo(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function Xye(e){e.domObserver.stop();for(let t in e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}function y1(e){e.someProp("handleDOMEvents",t=>{for(let n in t)e.input.eventHandlers[n]||e.dom.addEventListener(n,e.input.eventHandlers[n]=r=>yI(e,r))})}function yI(e,t){return e.someProp("handleDOMEvents",n=>{let r=n[t.type];return r?r(e,t)||t.defaultPrevented:!1})}function Jye(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n=t.target;n!=e.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}function Qye(e,t){!yI(e,t)&&or[t.type]&&(e.editable||!(t.type in ar))&&or[t.type](e,t)}ar.keydown=(e,t)=>{let n=t;if(e.input.shiftKey=n.keyCode==16||n.shiftKey,!_7(e,n)&&(e.input.lastKeyCode=n.keyCode,e.input.lastKeyCodeTime=Date.now(),!(bs&&Xn&&n.keyCode==13)))if(n.keyCode!=229&&e.domObserver.forceFlush(),Pu&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();e.input.lastIOSEnter=r,e.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{e.input.lastIOSEnter==r&&(e.someProp("handleKeyDown",s=>s(e,Qa(13,"Enter"))),e.input.lastIOSEnter=0)},200)}else e.someProp("handleKeyDown",r=>r(e,n))||Gye(e,n)?n.preventDefault():zo(e,"key")};ar.keyup=(e,t)=>{t.keyCode==16&&(e.input.shiftKey=!1)};ar.keypress=(e,t)=>{let n=t;if(_7(e,n)||!n.charCode||n.ctrlKey&&!n.altKey||Qr&&n.metaKey)return;if(e.someProp("handleKeyPress",s=>s(e,n))){n.preventDefault();return}let r=e.state.selection;if(!(r instanceof at)||!r.$from.sameParent(r.$to)){let s=String.fromCharCode(n.charCode);!/[\r\n]/.test(s)&&!e.someProp("handleTextInput",i=>i(e,r.$from.pos,r.$to.pos,s))&&e.dispatch(e.state.tr.insertText(s).scrollIntoView()),n.preventDefault()}};function Rv(e){return{left:e.clientX,top:e.clientY}}function Zye(e,t){let n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}function EI(e,t,n,r,s){if(r==-1)return!1;let i=e.state.doc.resolve(r);for(let o=i.depth+1;o>0;o--)if(e.someProp(t,a=>o>i.depth?a(e,n,i.nodeAfter,i.before(o),s,!0):a(e,n,i.node(o),i.before(o),s,!1)))return!0;return!1}function su(e,t,n){e.focused||e.focus();let r=e.state.tr.setSelection(t);r.setMeta("pointer",!0),e.dispatch(r)}function eEe(e,t){if(t==-1)return!1;let n=e.state.doc.resolve(t),r=n.nodeAfter;return r&&r.isAtom&&ze.isSelectable(r)?(su(e,new ze(n)),!0):!1}function tEe(e,t){if(t==-1)return!1;let n=e.state.selection,r,s;n instanceof ze&&(r=n.node);let i=e.state.doc.resolve(t);for(let o=i.depth+1;o>0;o--){let a=o>i.depth?i.nodeAfter:i.node(o);if(ze.isSelectable(a)){r&&n.$from.depth>0&&o>=n.$from.depth&&i.before(n.$from.depth+1)==n.$from.pos?s=i.before(n.$from.depth):s=i.before(o);break}}return s!=null?(su(e,ze.create(e.state.doc,s)),!0):!1}function nEe(e,t,n,r,s){return EI(e,"handleClickOn",t,n,r)||e.someProp("handleClick",i=>i(e,t,r))||(s?tEe(e,n):eEe(e,n))}function rEe(e,t,n,r){return EI(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",s=>s(e,t,r))}function sEe(e,t,n,r){return EI(e,"handleTripleClickOn",t,n,r)||e.someProp("handleTripleClick",s=>s(e,t,r))||iEe(e,n,r)}function iEe(e,t,n){if(n.button!=0)return!1;let r=e.state.doc;if(t==-1)return r.inlineContent?(su(e,at.create(r,0,r.content.size)),!0):!1;let s=r.resolve(t);for(let i=s.depth+1;i>0;i--){let o=i>s.depth?s.nodeAfter:s.node(i),a=s.before(i);if(o.inlineContent)su(e,at.create(r,a+1,a+1+o.content.size));else if(ze.isSelectable(o))su(e,ze.create(r,a));else continue;return!0}}function CI(e){return Um(e)}const p7=Qr?"metaKey":"ctrlKey";or.mousedown=(e,t)=>{let n=t;e.input.shiftKey=n.shiftKey;let r=CI(e),s=Date.now(),i="singleClick";s-e.input.lastClick.time<500&&Zye(n,e.input.lastClick)&&!n[p7]&&(e.input.lastClick.type=="singleClick"?i="doubleClick":e.input.lastClick.type=="doubleClick"&&(i="tripleClick")),e.input.lastClick={time:s,x:n.clientX,y:n.clientY,type:i};let o=e.posAtCoords(Rv(n));o&&(i=="singleClick"?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new oEe(e,o,n,!!r)):(i=="doubleClick"?rEe:sEe)(e,o.pos,o.inside,n)?n.preventDefault():zo(e,"pointer"))};class oEe{constructor(t,n,r,s){this.view=t,this.pos=n,this.event=r,this.flushed=s,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!r[p7],this.allowDefault=r.shiftKey;let i,o;if(n.inside>-1)i=t.state.doc.nodeAt(n.inside),o=n.inside;else{let u=t.state.doc.resolve(n.pos);i=u.parent,o=u.depth?u.before():0}const a=s?null:r.target,c=a?t.docView.nearestDesc(a,!0):null;this.target=c&&c.dom.nodeType==1?c.dom:null;let{selection:l}=t.state;(r.button==0&&i.type.spec.draggable&&i.type.spec.selectable!==!1||l instanceof ze&&l.from<=o&&l.to>o)&&(this.mightDrag={node:i,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&js&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),zo(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Ki(this.view)),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Rv(t))),this.updateAllowDefault(t),this.allowDefault||!n?zo(this.view,"pointer"):nEe(this.view,n.pos,n.inside,t,this.selectNode)?t.preventDefault():t.button==0&&(this.flushed||ir&&this.mightDrag&&!this.mightDrag.node.isAtom||Xn&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(su(this.view,lt.near(this.view.state.doc.resolve(n.pos))),t.preventDefault()):zo(this.view,"pointer")}move(t){this.updateAllowDefault(t),zo(this.view,"pointer"),t.buttons==0&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}}or.touchstart=e=>{e.input.lastTouch=Date.now(),CI(e),zo(e,"pointer")};or.touchmove=e=>{e.input.lastTouch=Date.now(),zo(e,"pointer")};or.contextmenu=e=>CI(e);function _7(e,t){return e.composing?!0:ir&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500?(e.input.compositionEndedAt=-2e8,!0):!1}const aEe=bs?5e3:-1;ar.compositionstart=ar.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,n=t.selection.$from;if(t.selection.empty&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))e.markCursor=e.state.storedMarks||n.marks(),Um(e,!0),e.markCursor=null;else if(Um(e),js&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=e.domSelectionRange();for(let s=r.focusNode,i=r.focusOffset;s&&s.nodeType==1&&i!=0;){let o=i<0?s.lastChild:s.childNodes[i-1];if(!o)break;if(o.nodeType==3){e.domSelection().collapse(o,o.nodeValue.length);break}else s=o,i=-1}}e.input.composing=!0}m7(e,aEe)};ar.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,e.input.compositionPendingChanges=e.domObserver.pendingRecords().length?e.input.compositionID:0,e.input.compositionNode=null,e.input.compositionPendingChanges&&Promise.resolve().then(()=>e.domObserver.flush()),e.input.compositionID++,m7(e,20))};function m7(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout(()=>Um(e),t))}function g7(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=lEe());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function cEe(e){let t=e.domSelectionRange();if(!t.focusNode)return null;let n=tye(t.focusNode,t.focusOffset),r=nye(t.focusNode,t.focusOffset);if(n&&r&&n!=r){let s=r.pmViewDesc,i=e.domObserver.lastChangedTextNode;if(n==i||r==i)return i;if(!s||!s.isText(r.nodeValue))return r;if(e.input.compositionNode==r){let o=n.pmViewDesc;if(!(!o||!o.isText(n.nodeValue)))return r}}return n||r}function lEe(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}function Um(e,t=!1){if(!(bs&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),g7(e),t||e.docView&&e.docView.dirty){let n=gI(e);return n&&!n.eq(e.state.selection)?e.dispatch(e.state.tr.setSelection(n)):e.updateState(e.state),!0}return!1}}function uEe(e,t){if(!e.dom.parentNode)return;let n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),s=document.createRange();s.selectNodeContents(t),e.dom.blur(),r.removeAllRanges(),r.addRange(s),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),e.focus()},50)}const kf=gr&&Xo<15||Pu&&aye<604;or.copy=ar.cut=(e,t)=>{let n=t,r=e.state.selection,s=n.type=="cut";if(r.empty)return;let i=kf?null:n.clipboardData,o=r.content(),{dom:a,text:c}=a7(e,o);i?(n.preventDefault(),i.clearData(),i.setData("text/html",a.innerHTML),i.setData("text/plain",c)):uEe(e,a),s&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function dEe(e){return e.openStart==0&&e.openEnd==0&&e.content.childCount==1?e.content.firstChild:null}function fEe(e,t){if(!e.dom.parentNode)return;let n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,r=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let s=e.input.shiftKey&&e.input.lastKeyCode!=45;setTimeout(()=>{e.focus(),r.parentNode&&r.parentNode.removeChild(r),n?Lf(e,r.value,null,s,t):Lf(e,r.textContent,r.innerHTML,s,t)},50)}function Lf(e,t,n,r,s){let i=c7(e,t,n,r,e.state.selection.$from);if(e.someProp("handlePaste",c=>c(e,s,i||Oe.empty)))return!0;if(!i)return!1;let o=dEe(i),a=o?e.state.tr.replaceSelectionWith(o,r):e.state.tr.replaceSelection(i);return e.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function v7(e){let t=e.getData("text/plain")||e.getData("Text");if(t)return t;let n=e.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}ar.paste=(e,t)=>{let n=t;if(e.composing&&!bs)return;let r=kf?null:n.clipboardData,s=e.input.shiftKey&&e.input.lastKeyCode!=45;r&&Lf(e,v7(r),r.getData("text/html"),s,n)?n.preventDefault():fEe(e,n)};class y7{constructor(t,n,r){this.slice=t,this.move=n,this.node=r}}const E7=Qr?"altKey":"ctrlKey";or.dragstart=(e,t)=>{let n=t,r=e.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let s=e.state.selection,i=s.empty?null:e.posAtCoords(Rv(n)),o;if(!(i&&i.pos>=s.from&&i.pos<=(s instanceof ze?s.to-1:s.to))){if(r&&r.mightDrag)o=ze.create(e.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let d=e.docView.nearestDesc(n.target,!0);d&&d.node.type.spec.draggable&&d!=e.docView&&(o=ze.create(e.state.doc,d.posBefore))}}let a=(o||e.state.selection).content(),{dom:c,text:l,slice:u}=a7(e,a);(!n.dataTransfer.files.length||!Xn||qq>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(kf?"Text":"text/html",c.innerHTML),n.dataTransfer.effectAllowed="copyMove",kf||n.dataTransfer.setData("text/plain",l),e.dragging=new y7(u,!n[E7],o)};or.dragend=e=>{let t=e.dragging;window.setTimeout(()=>{e.dragging==t&&(e.dragging=null)},50)};ar.dragover=ar.dragenter=(e,t)=>t.preventDefault();ar.drop=(e,t)=>{let n=t,r=e.dragging;if(e.dragging=null,!n.dataTransfer)return;let s=e.posAtCoords(Rv(n));if(!s)return;let i=e.state.doc.resolve(s.pos),o=r&&r.slice;o?e.someProp("transformPasted",p=>{o=p(o,e)}):o=c7(e,v7(n.dataTransfer),kf?null:n.dataTransfer.getData("text/html"),!1,i);let a=!!(r&&!n[E7]);if(e.someProp("handleDrop",p=>p(e,n,o||Oe.empty,a))){n.preventDefault();return}if(!o)return;n.preventDefault();let c=o?nve(e.state.doc,i.pos,o):i.pos;c==null&&(c=i.pos);let l=e.state.tr;if(a){let{node:p}=r;p?p.replace(l):l.deleteSelection()}let u=l.mapping.map(c),d=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,f=l.doc;if(d?l.replaceRangeWith(u,u,o.content.firstChild):l.replaceRange(u,u,o),l.doc.eq(f))return;let h=l.doc.resolve(u);if(d&&ze.isSelectable(o.content.firstChild)&&h.nodeAfter&&h.nodeAfter.sameMarkup(o.content.firstChild))l.setSelection(new ze(h));else{let p=l.mapping.map(c);l.mapping.maps[l.mapping.maps.length-1].forEach((_,m,y,v)=>p=v),l.setSelection(vI(e,h,l.doc.resolve(p)))}e.focus(),e.dispatch(l.setMeta("uiEvent","drop"))};or.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout(()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&Ki(e)},20))};or.blur=(e,t)=>{let n=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),n.relatedTarget&&e.dom.contains(n.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)};or.beforeinput=(e,t)=>{if(Xn&&bs&&t.inputType=="deleteContentBackward"){e.domObserver.flushSoon();let{domChangeCount:r}=e.input;setTimeout(()=>{if(e.input.domChangeCount!=r||(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",i=>i(e,Qa(8,"Backspace")))))return;let{$cursor:s}=e.state.selection;s&&s.pos>0&&e.dispatch(e.state.tr.delete(s.pos-1,s.pos).scrollIntoView())},50)}};for(let e in ar)or[e]=ar[e];function Df(e,t){if(e==t)return!0;for(let n in e)if(e[n]!==t[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}class jm{constructor(t,n){this.toDOM=t,this.spec=n||vc,this.side=this.spec.side||0}map(t,n,r,s){let{pos:i,deleted:o}=t.mapResult(n.from+s,this.side<0?-1:1);return o?null:new jn(i-r,i-r,this)}valid(){return!0}eq(t){return this==t||t instanceof jm&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&Df(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}}class Qo{constructor(t,n){this.attrs=t,this.spec=n||vc}map(t,n,r,s){let i=t.map(n.from+s,this.spec.inclusiveStart?-1:1)-r,o=t.map(n.to+s,this.spec.inclusiveEnd?1:-1)-r;return i>=o?null:new jn(i,o,this)}valid(t,n){return n.from<n.to}eq(t){return this==t||t instanceof Qo&&Df(this.attrs,t.attrs)&&Df(this.spec,t.spec)}static is(t){return t.type instanceof Qo}destroy(){}}class SI{constructor(t,n){this.attrs=t,this.spec=n||vc}map(t,n,r,s){let i=t.mapResult(n.from+s,1);if(i.deleted)return null;let o=t.mapResult(n.to+s,-1);return o.deleted||o.pos<=i.pos?null:new jn(i.pos-r,o.pos-r,this)}valid(t,n){let{index:r,offset:s}=t.content.findIndex(n.from),i;return s==n.from&&!(i=t.child(r)).isText&&s+i.nodeSize==n.to}eq(t){return this==t||t instanceof SI&&Df(this.attrs,t.attrs)&&Df(this.spec,t.spec)}destroy(){}}class jn{constructor(t,n,r){this.from=t,this.to=n,this.type=r}copy(t,n){return new jn(t,n,this.type)}eq(t,n=0){return this.type.eq(t.type)&&this.from+n==t.from&&this.to+n==t.to}map(t,n,r){return this.type.map(t,this,n,r)}static widget(t,n,r){return new jn(t,t,new jm(n,r))}static inline(t,n,r,s){return new jn(t,n,new Qo(r,s))}static node(t,n,r,s){return new jn(t,n,new SI(r,s))}get spec(){return this.type.spec}get inline(){return this.type instanceof Qo}get widget(){return this.type instanceof jm}}const xl=[],vc={};class Pt{constructor(t,n){this.local=t.length?t:xl,this.children=n.length?n:xl}static create(t,n){return n.length?Bm(n,t,0,vc):zn}find(t,n,r){let s=[];return this.findInner(t==null?0:t,n==null?1e9:n,s,0,r),s}findInner(t,n,r,s,i){for(let o=0;o<this.local.length;o++){let a=this.local[o];a.from<=n&&a.to>=t&&(!i||i(a.spec))&&r.push(a.copy(a.from+s,a.to+s))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<n&&this.children[o+1]>t){let a=this.children[o]+1;this.children[o+2].findInner(t-a,n-a,r,s+a,i)}}map(t,n,r){return this==zn||t.maps.length==0?this:this.mapInner(t,n,0,0,r||vc)}mapInner(t,n,r,s,i){let o;for(let a=0;a<this.local.length;a++){let c=this.local[a].map(t,r,s);c&&c.type.valid(n,c)?(o||(o=[])).push(c):i.onRemove&&i.onRemove(this.local[a].spec)}return this.children.length?hEe(this.children,o||[],t,n,r,s,i):o?new Pt(o.sort(yc),xl):zn}add(t,n){return n.length?this==zn?Pt.create(t,n):this.addInner(t,n,0):this}addInner(t,n,r){let s,i=0;t.forEach((a,c)=>{let l=c+r,u;if(u=S7(n,a,l)){for(s||(s=this.children.slice());i<s.length&&s[i]<c;)i+=3;s[i]==c?s[i+2]=s[i+2].addInner(a,u,l+1):s.splice(i,0,c,c+a.nodeSize,Bm(u,a,l+1,vc)),i+=3}});let o=C7(i?b7(n):n,-r);for(let a=0;a<o.length;a++)o[a].type.valid(t,o[a])||o.splice(a--,1);return new Pt(o.length?this.local.concat(o).sort(yc):this.local,s||this.children)}remove(t){return t.length==0||this==zn?this:this.removeInner(t,0)}removeInner(t,n){let r=this.children,s=this.local;for(let i=0;i<r.length;i+=3){let o,a=r[i]+n,c=r[i+1]+n;for(let u=0,d;u<t.length;u++)(d=t[u])&&d.from>a&&d.to<c&&(t[u]=null,(o||(o=[])).push(d));if(!o)continue;r==this.children&&(r=this.children.slice());let l=r[i+2].removeInner(o,a+1);l!=zn?r[i+2]=l:(r.splice(i,3),i-=3)}if(s.length){for(let i=0,o;i<t.length;i++)if(o=t[i])for(let a=0;a<s.length;a++)s[a].eq(o,n)&&(s==this.local&&(s=this.local.slice()),s.splice(a--,1))}return r==this.children&&s==this.local?this:s.length||r.length?new Pt(s,r):zn}forChild(t,n){if(this==zn)return this;if(n.isLeaf)return Pt.empty;let r,s;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=t){this.children[a]==t&&(r=this.children[a+2]);break}let i=t+1,o=i+n.content.size;for(let a=0;a<this.local.length;a++){let c=this.local[a];if(c.from<o&&c.to>i&&c.type instanceof Qo){let l=Math.max(i,c.from)-i,u=Math.min(o,c.to)-i;l<u&&(s||(s=[])).push(c.copy(l,u))}}if(s){let a=new Pt(s.sort(yc),xl);return r?new Fo([a,r]):a}return r||zn}eq(t){if(this==t)return!0;if(!(t instanceof Pt)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(t.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=t.children[n]||this.children[n+1]!=t.children[n+1]||!this.children[n+2].eq(t.children[n+2]))return!1;return!0}locals(t){return bI(this.localsInner(t))}localsInner(t){if(this==zn)return xl;if(t.inlineContent||!this.local.some(Qo.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Qo||n.push(this.local[r]);return n}}Pt.empty=new Pt([],[]);Pt.removeOverlap=bI;const zn=Pt.empty;class Fo{constructor(t){this.members=t}map(t,n){const r=this.members.map(s=>s.map(t,n,vc));return Fo.from(r)}forChild(t,n){if(n.isLeaf)return Pt.empty;let r=[];for(let s=0;s<this.members.length;s++){let i=this.members[s].forChild(t,n);i!=zn&&(i instanceof Fo?r=r.concat(i.members):r.push(i))}return Fo.from(r)}eq(t){if(!(t instanceof Fo)||t.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(t.members[n]))return!1;return!0}locals(t){let n,r=!0;for(let s=0;s<this.members.length;s++){let i=this.members[s].localsInner(t);if(i.length)if(!n)n=i;else{r&&(n=n.slice(),r=!1);for(let o=0;o<i.length;o++)n.push(i[o])}}return n?bI(r?n:n.sort(yc)):xl}static from(t){switch(t.length){case 0:return zn;case 1:return t[0];default:return new Fo(t.every(n=>n instanceof Pt)?t:t.reduce((n,r)=>n.concat(r instanceof Pt?r:r.members),[]))}}}function hEe(e,t,n,r,s,i,o){let a=e.slice();for(let l=0,u=i;l<n.maps.length;l++){let d=0;n.maps[l].forEach((f,h,p,_)=>{let m=_-p-(h-f);for(let y=0;y<a.length;y+=3){let v=a[y+1];if(v<0||f>v+u-d)continue;let O=a[y]+u-d;h>=O?a[y+1]=f<=O?-2:-1:f>=u&&m&&(a[y]+=m,a[y+1]+=m)}d+=m}),u=n.maps[l].map(u,-1)}let c=!1;for(let l=0;l<a.length;l+=3)if(a[l+1]<0){if(a[l+1]==-2){c=!0,a[l+1]=-1;continue}let u=n.map(e[l]+i),d=u-s;if(d<0||d>=r.content.size){c=!0;continue}let f=n.map(e[l+1]+i,-1),h=f-s,{index:p,offset:_}=r.content.findIndex(d),m=r.maybeChild(p);if(m&&_==d&&_+m.nodeSize==h){let y=a[l+2].mapInner(n,m,u+1,e[l]+i+1,o);y!=zn?(a[l]=d,a[l+1]=h,a[l+2]=y):(a[l+1]=-2,c=!0)}else c=!0}if(c){let l=pEe(a,e,t,n,s,i,o),u=Bm(l,r,0,o);t=u.local;for(let d=0;d<a.length;d+=3)a[d+1]<0&&(a.splice(d,3),d-=3);for(let d=0,f=0;d<u.children.length;d+=3){let h=u.children[d];for(;f<a.length&&a[f]<h;)f+=3;a.splice(f,0,u.children[d],u.children[d+1],u.children[d+2])}}return new Pt(t.sort(yc),a)}function C7(e,t){if(!t||!e.length)return e;let n=[];for(let r=0;r<e.length;r++){let s=e[r];n.push(new jn(s.from+t,s.to+t,s.type))}return n}function pEe(e,t,n,r,s,i,o){function a(c,l){for(let u=0;u<c.local.length;u++){let d=c.local[u].map(r,s,l);d?n.push(d):o.onRemove&&o.onRemove(c.local[u].spec)}for(let u=0;u<c.children.length;u+=3)a(c.children[u+2],c.children[u]+l+1)}for(let c=0;c<e.length;c+=3)e[c+1]==-1&&a(e[c+2],t[c]+i+1);return n}function S7(e,t,n){if(t.isLeaf)return null;let r=n+t.nodeSize,s=null;for(let i=0,o;i<e.length;i++)(o=e[i])&&o.from>n&&o.to<r&&((s||(s=[])).push(o),e[i]=null);return s}function b7(e){let t=[];for(let n=0;n<e.length;n++)e[n]!=null&&t.push(e[n]);return t}function Bm(e,t,n,r){let s=[],i=!1;t.forEach((a,c)=>{let l=S7(e,a,c+n);if(l){i=!0;let u=Bm(l,a,n+c+1,r);u!=zn&&s.push(c,c+a.nodeSize,u)}});let o=C7(i?b7(e):e,-n).sort(yc);for(let a=0;a<o.length;a++)o[a].type.valid(t,o[a])||(r.onRemove&&r.onRemove(o[a].spec),o.splice(a--,1));return o.length||s.length?new Pt(o,s):zn}function yc(e,t){return e.from-t.from||e.to-t.to}function bI(e){let t=e;for(let n=0;n<t.length-1;n++){let r=t[n];if(r.from!=r.to)for(let s=n+1;s<t.length;s++){let i=t[s];if(i.from==r.from){i.to!=r.to&&(t==e&&(t=e.slice()),t[s]=i.copy(i.from,r.to),z3(t,s+1,i.copy(r.to,i.to)));continue}else{i.from<r.to&&(t==e&&(t=e.slice()),t[n]=r.copy(r.from,i.from),z3(t,s,r.copy(i.from,r.to)));break}}}return t}function z3(e,t,n){for(;t<e.length&&yc(n,e[t])>0;)t++;e.splice(t,0,n)}function ab(e){let t=[];return e.someProp("decorations",n=>{let r=n(e.state);r&&r!=zn&&t.push(r)}),e.cursorWrapper&&t.push(Pt.create(e.state.doc,[e.cursorWrapper.deco])),Fo.from(t)}const _Ee={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},mEe=gr&&Xo<=11;class gEe{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}}class vEe{constructor(t,n){this.view=t,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new gEe,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let s=0;s<r.length;s++)this.queue.push(r[s]);gr&&Xo<=11&&r.some(s=>s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():this.flush()}),mEe&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,_Ee)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let n=0;n<t.length;n++)this.queue.push(t[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(j3(this.view)){if(this.suppressingSelectionUpdates)return Ki(this.view);if(gr&&Xo<=11&&!this.view.state.selection.empty){let t=this.view.domSelectionRange();if(t.focusNode&&Gc(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(t){if(!t.focusNode)return!0;let n=new Set,r;for(let i=t.focusNode;i;i=Mf(i))n.add(i);for(let i=t.anchorNode;i;i=Mf(i))if(n.has(i)){r=i;break}let s=r&&this.view.docView.nearestDesc(r);if(s&&s.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}flush(){let{view:t}=this;if(!t.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=t.domSelectionRange(),s=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&j3(t)&&!this.ignoreSelectionChange(r),i=-1,o=-1,a=!1,c=[];if(t.editable)for(let u=0;u<n.length;u++){let d=this.registerMutation(n[u],c);d&&(i=i<0?d.from:Math.min(d.from,i),o=o<0?d.to:Math.max(d.to,o),d.typeOver&&(a=!0))}if(js&&c.length){let u=c.filter(d=>d.nodeName=="BR");if(u.length==2){let[d,f]=u;d.parentNode&&d.parentNode.parentNode==f.parentNode?f.remove():d.remove()}else{let{focusNode:d}=this.currentSelection;for(let f of u){let h=f.parentNode;h&&h.nodeName=="LI"&&(!d||CEe(t,d)!=h)&&f.remove()}}}let l=null;i<0&&s&&t.input.lastFocus>Date.now()-200&&Math.max(t.input.lastTouch,t.input.lastClick.time)<Date.now()-300&&Iv(r)&&(l=gI(t))&&l.eq(lt.near(t.state.doc.resolve(0),1))?(t.input.lastFocus=0,Ki(t),this.currentSelection.set(r),t.scrollToSelection()):(i>-1||s)&&(i>-1&&(t.docView.markDirty(i,o),yEe(t)),this.handleDOMChange(i,o,a,c),t.docView&&t.docView.dirty?t.updateState(t.state):this.currentSelection.eq(r)||Ki(t),this.currentSelection.set(r))}registerMutation(t,n){if(n.indexOf(t.target)>-1)return null;let r=this.view.docView.nearestDesc(t.target);if(t.type=="attributes"&&(r==this.view.docView||t.attributeName=="contenteditable"||t.attributeName=="style"&&!t.oldValue&&!t.target.getAttribute("style"))||!r||r.ignoreMutation(t))return null;if(t.type=="childList"){for(let u=0;u<t.addedNodes.length;u++){let d=t.addedNodes[u];n.push(d),d.nodeType==3&&(this.lastChangedTextNode=d)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(t.target))return{from:r.posBefore,to:r.posAfter};let s=t.previousSibling,i=t.nextSibling;if(gr&&Xo<=11&&t.addedNodes.length)for(let u=0;u<t.addedNodes.length;u++){let{previousSibling:d,nextSibling:f}=t.addedNodes[u];(!d||Array.prototype.indexOf.call(t.addedNodes,d)<0)&&(s=d),(!f||Array.prototype.indexOf.call(t.addedNodes,f)<0)&&(i=f)}let o=s&&s.parentNode==t.target?Un(s)+1:0,a=r.localPosFromDOM(t.target,o,-1),c=i&&i.parentNode==t.target?Un(i):t.target.childNodes.length,l=r.localPosFromDOM(t.target,c,1);return{from:a,to:l}}else return t.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=t.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:t.target.nodeValue==t.oldValue})}}let Y3=new WeakMap,K3=!1;function yEe(e){if(!Y3.has(e)&&(Y3.set(e,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace)!==-1)){if(e.requiresGeckoHackNode=js,K3)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),K3=!0}}function X3(e,t){let n=t.startContainer,r=t.startOffset,s=t.endContainer,i=t.endOffset,o=e.domAtPos(e.state.selection.anchor);return Gc(o.node,o.offset,s,i)&&([n,r,s,i]=[s,i,n,r]),{anchorNode:n,anchorOffset:r,focusNode:s,focusOffset:i}}function EEe(e,t){if(t.getComposedRanges){let s=t.getComposedRanges(e.root)[0];if(s)return X3(e,s)}let n;function r(s){s.preventDefault(),s.stopImmediatePropagation(),n=s.getTargetRanges()[0]}return e.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",r,!0),n?X3(e,n):null}function CEe(e,t){for(let n=t.parentNode;n&&n!=e.dom;n=n.parentNode){let r=e.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function SEe(e,t,n){let{node:r,fromOffset:s,toOffset:i,from:o,to:a}=e.docView.parseRange(t,n),c=e.domSelectionRange(),l,u=c.anchorNode;if(u&&e.dom.contains(u.nodeType==1?u:u.parentNode)&&(l=[{node:u,offset:c.anchorOffset}],Iv(c)||l.push({node:c.focusNode,offset:c.focusOffset})),Xn&&e.input.lastKeyCode===8)for(let m=i;m>s;m--){let y=r.childNodes[m-1],v=y.pmViewDesc;if(y.nodeName=="BR"&&!v){i=m;break}if(!v||v.size)break}let d=e.state.doc,f=e.someProp("domParser")||Rf.fromSchema(e.state.schema),h=d.resolve(o),p=null,_=f.parse(r,{topNode:h.parent,topMatch:h.parent.contentMatchAt(h.index()),topOpen:!0,from:s,to:i,preserveWhitespace:h.parent.type.whitespace=="pre"?"full":!0,findPositions:l,ruleFromNode:bEe,context:h});if(l&&l[0].pos!=null){let m=l[0].pos,y=l[1]&&l[1].pos;y==null&&(y=m),p={anchor:m+o,head:y+o}}return{doc:_,sel:p,from:o,to:a}}function bEe(e){let t=e.pmViewDesc;if(t)return t.parseRule();if(e.nodeName=="BR"&&e.parentNode){if(ir&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(e.parentNode.lastChild==e||ir&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if(e.nodeName=="IMG"&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}const TEe=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function OEe(e,t,n,r,s){let i=e.input.compositionPendingChanges||(e.composing?e.input.compositionID:0);if(e.input.compositionPendingChanges=0,t<0){let N=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,P=gI(e,N);if(P&&!e.state.selection.eq(P)){if(Xn&&bs&&e.input.lastKeyCode===13&&Date.now()-100<e.input.lastKeyCodeTime&&e.someProp("handleKeyDown",D=>D(e,Qa(13,"Enter"))))return;let x=e.state.tr.setSelection(P);N=="pointer"?x.setMeta("pointer",!0):N=="key"&&x.scrollIntoView(),i&&x.setMeta("composition",i),e.dispatch(x)}return}let o=e.state.doc.resolve(t),a=o.sharedDepth(n);t=o.before(a+1),n=e.state.doc.resolve(n).after(a+1);let c=e.state.selection,l=SEe(e,t,n),u=e.state.doc,d=u.slice(l.from,l.to),f,h;e.input.lastKeyCode===8&&Date.now()-100<e.input.lastKeyCodeTime?(f=e.state.selection.to,h="end"):(f=e.state.selection.from,h="start"),e.input.lastKeyCode=null;let p=NEe(d.content,l.doc.content,l.from,f,h);if((Pu&&e.input.lastIOSEnter>Date.now()-225||bs)&&s.some(N=>N.nodeType==1&&!TEe.test(N.nodeName))&&(!p||p.endA>=p.endB)&&e.someProp("handleKeyDown",N=>N(e,Qa(13,"Enter")))){e.input.lastIOSEnter=0;return}if(!p)if(r&&c instanceof at&&!c.empty&&c.$head.sameParent(c.$anchor)&&!e.composing&&!(l.sel&&l.sel.anchor!=l.sel.head))p={start:c.from,endA:c.to,endB:c.to};else{if(l.sel){let N=J3(e,e.state.doc,l.sel);if(N&&!N.eq(e.state.selection)){let P=e.state.tr.setSelection(N);i&&P.setMeta("composition",i),e.dispatch(P)}}return}e.input.domChangeCount++,e.state.selection.from<e.state.selection.to&&p.start==p.endB&&e.state.selection instanceof at&&(p.start>e.state.selection.from&&p.start<=e.state.selection.from+2&&e.state.selection.from>=l.from?p.start=e.state.selection.from:p.endA<e.state.selection.to&&p.endA>=e.state.selection.to-2&&e.state.selection.to<=l.to&&(p.endB+=e.state.selection.to-p.endA,p.endA=e.state.selection.to)),gr&&Xo<=11&&p.endB==p.start+1&&p.endA==p.start&&p.start>l.from&&l.doc.textBetween(p.start-l.from-1,p.start-l.from+1)==" Â "&&(p.start--,p.endA--,p.endB--);let _=l.doc.resolveNoCache(p.start-l.from),m=l.doc.resolveNoCache(p.endB-l.from),y=u.resolve(p.start),v=_.sameParent(m)&&_.parent.inlineContent&&y.end()>=p.endA,O;if((Pu&&e.input.lastIOSEnter>Date.now()-225&&(!v||s.some(N=>N.nodeName=="DIV"||N.nodeName=="P"))||!v&&_.pos<l.doc.content.size&&!_.sameParent(m)&&(O=lt.findFrom(l.doc.resolve(_.pos+1),1,!0))&&O.head==m.pos)&&e.someProp("handleKeyDown",N=>N(e,Qa(13,"Enter")))){e.input.lastIOSEnter=0;return}if(e.state.selection.anchor>p.start&&wEe(u,p.start,p.endA,_,m)&&e.someProp("handleKeyDown",N=>N(e,Qa(8,"Backspace")))){bs&&Xn&&e.domObserver.suppressSelectionUpdates();return}Xn&&bs&&p.endB==p.start&&(e.input.lastAndroidDelete=Date.now()),bs&&!v&&_.start()!=m.start()&&m.parentOffset==0&&_.depth==m.depth&&l.sel&&l.sel.anchor==l.sel.head&&l.sel.head==p.endA&&(p.endB-=2,m=l.doc.resolveNoCache(p.endB-l.from),setTimeout(()=>{e.someProp("handleKeyDown",function(N){return N(e,Qa(13,"Enter"))})},20));let S=p.start,E=p.endA,T,A,w;if(v){if(_.pos==m.pos)gr&&Xo<=11&&_.parentOffset==0&&(e.domObserver.suppressSelectionUpdates(),setTimeout(()=>Ki(e),20)),T=e.state.tr.delete(S,E),A=u.resolve(p.start).marksAcross(u.resolve(p.endA));else if(p.endA==p.endB&&(w=AEe(_.parent.content.cut(_.parentOffset,m.parentOffset),y.parent.content.cut(y.parentOffset,p.endA-y.start()))))T=e.state.tr,w.type=="add"?T.addMark(S,E,w.mark):T.removeMark(S,E,w.mark);else if(_.parent.child(_.index()).isText&&_.index()==m.index()-(m.textOffset?0:1)){let N=_.parent.textBetween(_.parentOffset,m.parentOffset);if(e.someProp("handleTextInput",P=>P(e,S,E,N)))return;T=e.state.tr.insertText(N,S,E)}}if(T||(T=e.state.tr.replace(S,E,l.doc.slice(p.start-l.from,p.endB-l.from))),l.sel){let N=J3(e,T.doc,l.sel);N&&!(Xn&&bs&&e.composing&&N.empty&&(p.start!=p.endB||e.input.lastAndroidDelete<Date.now()-100)&&(N.head==S||N.head==T.mapping.map(E)-1)||gr&&N.empty&&N.head==S)&&T.setSelection(N)}A&&T.ensureMarks(A),i&&T.setMeta("composition",i),e.dispatch(T.scrollIntoView())}function J3(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:vI(e,t.resolve(n.anchor),t.resolve(n.head))}function AEe(e,t){let n=e.firstChild.marks,r=t.firstChild.marks,s=n,i=r,o,a,c;for(let u=0;u<r.length;u++)s=r[u].removeFromSet(s);for(let u=0;u<n.length;u++)i=n[u].removeFromSet(i);if(s.length==1&&i.length==0)a=s[0],o="add",c=u=>u.mark(a.addToSet(u.marks));else if(s.length==0&&i.length==1)a=i[0],o="remove",c=u=>u.mark(a.removeFromSet(u.marks));else return null;let l=[];for(let u=0;u<t.childCount;u++)l.push(c(t.child(u)));if(de.from(l).eq(e))return{mark:a,type:o}}function wEe(e,t,n,r,s){if(n-t<=s.pos-r.pos||cb(r,!0,!1)<s.pos)return!1;let i=e.resolve(t);if(!r.parent.isTextblock){let a=i.nodeAfter;return a!=null&&n==t+a.nodeSize}if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;let o=e.resolve(cb(i,!0,!0));return!o.parent.isTextblock||o.pos>n||cb(o,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(o.parent.content)}function cb(e,t,n){let r=e.depth,s=t?e.end():e.pos;for(;r>0&&(t||e.indexAfter(r)==e.node(r).childCount);)r--,s++,t=!1;if(n){let i=e.node(r).maybeChild(e.indexAfter(r));for(;i&&!i.isLeaf;)i=i.firstChild,s++}return s}function NEe(e,t,n,r,s){let i=e.findDiffStart(t,n);if(i==null)return null;let{a:o,b:a}=e.findDiffEnd(t,n+e.size,n+t.size);if(s=="end"){let c=Math.max(0,i-Math.min(o,a));r-=o+c-i}if(o<i&&e.size<t.size){let c=r<=i&&r>=o?i-r:0;i-=c,i&&i<t.size&&Q3(t.textBetween(i-1,i+1))&&(i+=c?1:-1),a=i+(a-o),o=i}else if(a<i){let c=r<=i&&r>=a?i-r:0;i-=c,i&&i<e.size&&Q3(e.textBetween(i-1,i+1))&&(i+=c?1:-1),o=i+(o-a),a=i}return{start:i,endA:o,endB:a}}function Q3(e){if(e.length!=2)return!1;let t=e.charCodeAt(0),n=e.charCodeAt(1);return t>=56320&&t<=57343&&n>=55296&&n<=56319}class IEe{constructor(t,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new Yye,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(rF),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):typeof t=="function"?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=tF(this),eF(this),this.nodeViews=nF(this),this.docView=M3(this.state.doc,Z3(this),ab(this),this.dom,this),this.domObserver=new vEe(this,(r,s,i,o)=>OEe(this,r,s,i,o)),this.domObserver.start(),Kye(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let n in t)this._props[n]=t[n];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&y1(this);let n=this._props;this._props=t,t.plugins&&(t.plugins.forEach(rF),this.directPlugins=t.plugins),this.updateStateInner(t.state,n)}setProps(t){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in t)n[r]=t[r];this.update(n)}updateState(t){this.updateStateInner(t,this._props)}updateStateInner(t,n){var r;let s=this.state,i=!1,o=!1;t.storedMarks&&this.composing&&(g7(this),o=!0),this.state=t;let a=s.plugins!=t.plugins||this._props.plugins!=n.plugins;if(a||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let h=nF(this);REe(h,this.nodeViews)&&(this.nodeViews=h,i=!0)}(a||n.handleDOMEvents!=this._props.handleDOMEvents)&&y1(this),this.editable=tF(this),eF(this);let c=ab(this),l=Z3(this),u=s.plugins!=t.plugins&&!s.doc.eq(t.doc)?"reset":t.scrollToSelection>s.scrollToSelection?"to selection":"preserve",d=i||!this.docView.matchesNode(t.doc,l,c);(d||!t.selection.eq(s.selection))&&(o=!0);let f=u=="preserve"&&o&&this.dom.style.overflowAnchor==null&&uye(this);if(o){this.domObserver.stop();let h=d&&(gr||Xn)&&!this.composing&&!s.selection.empty&&!t.selection.empty&&PEe(s.selection,t.selection);if(d){let p=Xn?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=cEe(this)),(i||!this.docView.update(t.doc,l,c,this))&&(this.docView.updateOuterDeco(l),this.docView.destroy(),this.docView=M3(t.doc,l,c,this.dom,this)),p&&!this.trackWrites&&(h=!0)}h||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&kye(this))?Ki(this,h):(s7(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(s),!((r=this.dragging)===null||r===void 0)&&r.node&&!s.doc.eq(t.doc)&&this.updateDraggedNode(this.dragging,s),u=="reset"?this.dom.scrollTop=0:u=="to selection"?this.scrollToSelection():f&&dye(f)}scrollToSelection(){let t=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof ze){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&w3(this,n.getBoundingClientRect(),t)}else w3(this,this.coordsAtPos(this.state.selection.head,1),t)}destroyPluginViews(){let t;for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(!t||t.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,t)}}updateDraggedNode(t,n){let r=t.node,s=-1;if(this.state.doc.nodeAt(r.from)==r.node)s=r.from;else{let i=r.from+(this.state.doc.content.size-n.doc.content.size);(i>0&&this.state.doc.nodeAt(i))==r.node&&(s=i)}this.dragging=new y7(t.slice,t.move,s<0?void 0:ze.create(this.state.doc,s))}someProp(t,n){let r=this._props&&this._props[t],s;if(r!=null&&(s=n?n(r):r))return s;for(let o=0;o<this.directPlugins.length;o++){let a=this.directPlugins[o].props[t];if(a!=null&&(s=n?n(a):a))return s}let i=this.state.plugins;if(i)for(let o=0;o<i.length;o++){let a=i[o].props[t];if(a!=null&&(s=n?n(a):a))return s}}hasFocus(){if(gr){let t=this.root.activeElement;if(t==this.dom)return!0;if(!t||!this.dom.contains(t))return!1;for(;t&&this.dom!=t&&this.dom.contains(t);){if(t.contentEditable=="false")return!1;t=t.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&fye(this.dom),Ki(this),this.domObserver.start()}get root(){let t=this._root;if(t==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return t||document}updateRoot(){this._root=null}posAtCoords(t){return gye(this,t)}coordsAtPos(t,n=1){return Xq(this,t,n)}domAtPos(t,n=0){return this.docView.domFromPos(t,n)}nodeDOM(t){let n=this.docView.descAt(t);return n?n.nodeDOM:null}posAtDOM(t,n,r=-1){let s=this.docView.posFromDOM(t,n,r);if(s==null)throw new RangeError("DOM position not inside the editor");return s}endOfTextblock(t,n){return Sye(this,n||this.state,t)}pasteHTML(t,n){return Lf(this,"",t,!1,n||new ClipboardEvent("paste"))}pasteText(t,n){return Lf(this,t,null,!0,n||new ClipboardEvent("paste"))}destroy(){this.docView&&(Xye(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],ab(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,Zve())}get isDestroyed(){return this.docView==null}dispatchEvent(t){return Qye(this,t)}dispatch(t){let n=this._props.dispatchTransaction;n?n.call(this,t):this.updateState(this.state.apply(t))}domSelectionRange(){let t=this.domSelection();return ir&&this.root.nodeType===11&&sye(this.dom.ownerDocument)==this.dom&&EEe(this,t)||t}domSelection(){return this.root.getSelection()}}function Z3(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(e.state)),n)for(let r in n)r=="class"?t.class+=" "+n[r]:r=="style"?t.style=(t.style?t.style+";":"")+n[r]:!t[r]&&r!="contenteditable"&&r!="nodeName"&&(t[r]=String(n[r]))}),t.translate||(t.translate="no"),[jn.node(0,e.state.doc.content.size,t)]}function eF(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:jn.widget(e.state.selection.head,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function tF(e){return!e.someProp("editable",t=>t(e.state)===!1)}function PEe(e,t){let n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}function nF(e){let t=Object.create(null);function n(r){for(let s in r)Object.prototype.hasOwnProperty.call(t,s)||(t[s]=r[s])}return e.someProp("nodeViews",n),e.someProp("markViews",n),t}function REe(e,t){let n=0,r=0;for(let s in e){if(e[s]!=t[s])return!0;n++}for(let s in t)r++;return n!=r}function rF(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}const xEe=lr(()=>me(!1)),T7=Ie(()=>me(null));function eqe({ctx:e,prompt:t,referer:n,conversationId:r}){var s,i,o,a,c,l;ve.logEventWithStatsig("chatgpt_web_prompt_used","chatgpt_web_prompt_used",{referer:n,hint:(s=t.system_hint)!=null?s:"none",sources:((i=t.sources)!=null?i:[]).join(","),hasSources:((a=(o=t.sources)==null?void 0:o.length)!=null?a:0)>0,sourceCount:(l=(c=t.sources)==null?void 0:c.length)!=null?l:0}),T7.set(e,{prompt:t,skipConversationId:r})}function tqe(e){T7.set(e,null)}function MEe({id:e,label:t,value:n,className:r,onCommit:s,onExit:i,maxChars:o=30}){const a=C.useRef(null),[c,l]=C.useState(n!=null?n:""),u=C.useRef(!1),d=C.useRef(-1),f=C.useRef(!1),h=150,_=Math.min(Math.max(1,(c||t||"").length),o);return g.jsx("input",{ref:a,type:"text",value:c,placeholder:t,size:_,"data-template-input-id":e,className:[r!=null?r:""].join(" "),onMouseDownCapture:m=>{f.current=!0,m.stopPropagation()},onPointerDownCapture:m=>m.stopPropagation(),onClickCapture:m=>m.stopPropagation(),onFocusCapture:m=>m.stopPropagation(),onMouseDown:m=>{},onFocus:m=>{const y=performance.now();if(!(f.current||y<window.__tmpl_last_pointerdown_at+200)&&y-d.current<h){m.currentTarget.blur();return}f.current=!1,u.current&&(m.currentTarget.select(),u.current=!1)},onChange:m=>l(m.target.value),onKeyDown:m=>{m.key==="Enter"||m.key==="Tab"?(m.preventDefault(),m.stopPropagation(),s(c),setTimeout(()=>{i==null||i(),m.currentTarget.blur()},0)):m.key==="Escape"&&(m.preventDefault(),m.stopPropagation(),i==null||i(),m.currentTarget.blur())},onBlur:()=>{d.current=performance.now(),f.current=!1,s(c)}})}const Gp=/(\[[^\]]+\]|\{[^\}]+\})/g,sF="pm-bracket-tag",iF=30;function kEe(e,t){if(!e.length)return null;let n=0,r=Number.POSITIVE_INFINITY;for(let s=0;s<e.length;s++){const i=Math.abs(e[s].from-t);i<r&&(r=i,n=s)}return n}const Ml=new ds("bracketTag"),LEe="pm-bracket-tag--hidden",DEe="pm-template-input";let Jr=null;const lb=new WeakMap;let kl=null,O7=0;function FEe(){var n;const e=performance.now();if(e<O7)return!1;const t=(n=window.__tmpl_last_blur_at)!=null?n:-1;return e-t<150}function UEe(e){if(!e.isConnected||e.disabled)return!1;const t=getComputedStyle(e);return!(t.visibility==="hidden"||t.display==="none"||!(e.offsetWidth||e.offsetHeight||e.getClientRects().length))}function oF(e){var r;return((r=e.getRootNode().activeElement)!=null?r:document.activeElement)===e||e.matches(":focus")}function TI(e,t=5,n=5){let r=0;const s=n,i=()=>{if(FEe())return;const o=document.querySelector('input[data-template-input-id="'.concat(e,'"]'));if(!o||!UEe(o))return r++<t?setTimeout(i,s):void 0;if(!oF(o))try{o.focus({preventScroll:!0}),requestAnimationFrame(()=>{if(oF(o)){try{o.select()}catch(a){}return}})}catch(a){r++<t&&setTimeout(i,s)}};requestAnimationFrame(i)}function jEe(e,t,n){const r=[];for(let s=0;s<t.length;s++){const i=t[s],o=i.id===n?"".concat(sF," ").concat(LEe):sF;r.push(jn.inline(i.from,i.to,{class:o,"data-bracket-tag-id":i.id,"data-bracket-tag-index":String(s),"data-label":i.label},{tagId:i.id,index:s})),i.id===n&&(r.push(jn.widget(i.from,()=>{const a=document.createElement("span");a.setAttribute("data-template-input-container",i.id),a.setAttribute("contenteditable","false"),a.className="inline-block min-w-0 align-baseline";const c=d=>{Jr&&aF(Jr,i.id,d)},l=()=>{window.__tmpl_last_blur_at=performance.now(),Jr&&BEe(Jr,i.id)},u=oQ.createRoot(a);return lb.set(a,u),u.render(g.jsx(MEe,{id:i.id,label:i.label,value:i.value,className:DEe,onCommit:c,onExit:l})),requestAnimationFrame(()=>{TI(i.id)}),a},{key:"input-".concat(i.id),side:-1,ignoreSelection:!0,stopEvent:a=>{const c=a.target;return a.type==="blur"||a.type==="focusout"?!1:!!(c!=null&&c.closest("[data-template-input-container]")||c!=null&&c.closest("input[data-template-input-id]"))},destroy:a=>{var u,d;const c=document.querySelector('input[data-template-input-id="'.concat(i.id,'"]'));if(c&&Jr){const f=OI(Jr.state.doc,i.id),h=f!=null?Jr.state.doc.nodeAt(f):null,p=(d=(u=h==null?void 0:h.attrs)==null?void 0:u.value)!=null?d:"",_=c.value;_!==p&&aF(Jr,i.id,_)}const l=lb.get(a);l&&(l.unmount(),lb.delete(a))}})),r.push(jn.widget(i.to,()=>{const a=document.createElement("span");return a.setAttribute("data-template-spacer",i.id),a.style.display="inline-block",a.style.width="0",a.style.lineHeight="inherit",a.contentEditable="false",a},{side:1,ignoreSelection:!0,key:"spacer-".concat(i.id)})))}return Pt.create(e,r)}function OI(e,t){let n=null;return e.descendants((r,s)=>r.type.name==="template_variable"&&r.attrs.id===t?(n=s,!1):!0),n}function aF(e,t,n){const r=OI(e.state.doc,t);if(r==null)return;const s=e.state.doc.nodeAt(r);if(!s||s.type.name!=="template_variable")return;const i=s.type.create(I(b({},s.attrs),{value:n})),o=e.state.tr.replaceWith(r,r+s.nodeSize,i);setTimeout(()=>{e.dispatch(o)},0)}function BEe(e,t){const n=OI(e.state.doc,t);if(n==null)return;const r=e.state.doc.nodeAt(n);if(!r)return;const s=n+r.nodeSize,i=at.create(e.state.doc,s);e.dispatch(e.state.tr.setSelection(i).scrollIntoView()),e.focus()}function cF(e,t){const n=Ml.getState(e.state);if(!n)return!1;const r=n.tags;if(r.length===0)return!1;let s=n.activeId?r.findIndex(a=>a.id===n.activeId):-1;if(s===-1){const a=e.state.selection.from;if(s=r.findIndex(c=>c.from<=a&&c.to>a),s===-1){const c=kEe(r.map(l=>({from:l.from,to:l.to,text:l.label,id:l.id,key:l.key,label:l.label})),a);s=c!=null?c:t===1?-1:r.length}}const i=s+t;if(i<0||i>=r.length)return!1;const o=r[i];return e.dispatch(e.state.tr.setSelection(at.create(e.state.doc,o.from,o.to))),!0}function ub(e){const t=()=>{kl=null,TI(e)};window.addEventListener("pointerup",()=>requestAnimationFrame(t),{once:!0,passive:!0})}function GEe(e){const t=()=>e!=null&&gt(()=>xEe(e)),n=new $r({key:Ml,appendTransaction(s,i,o){if(!t())return;if(!s.some(u=>u.docChanged))return null;const c=[];if(o.doc.descendants((u,d)=>{if(!u||!u.isText)return!0;const f=u.text||"",h=new RegExp(Gp.source,Gp.flags.includes("g")?Gp.flags:Gp.flags+"g");let p;for(;p=h.exec(f);){const _=d+p.index,m=_+p[0].length,y=p[0].length>=2?p[0].slice(1,-1):p[0];c.push({from:_,to:m,label:y})}return!0}),c.length===0)return null;let l=o.tr;for(let u=c.length-1;u>=0;u--){const d=c[u];l=l.delete(d.from,d.to);const f=o.schema.nodes.template_variable.create({key:d.label,id:"".concat(d.from,"-").concat(d.to),value:""});l=l.insert(d.from,f)}return l},state:{init:()=>({decorations:Pt.empty,tags:[],activeIndex:null,activeId:null}),apply:(s,i,o,a)=>{if(!t())return i;const c=[];a.doc.descendants((h,p)=>{var _;if(h.type.name==="template_variable"){const m=(_=h.attrs.value)!=null?_:"",y=m||h.attrs.key,v=y.length>iF?y.slice(0,iF)+"...":y;c.push({from:p,to:p+h.nodeSize,label:h.attrs.key,id:h.attrs.id,key:h.attrs.key,text:v,value:m})}return!0});const l=a.selection.from,u=c.findIndex(h=>l>=h.from&&l<h.to);let d=u!==-1?c[u].id:null;!d&&kl&&c.some(h=>h.id===kl)&&(d=kl);const f=jEe(a.doc,c,d);return I(b({},i),{decorations:f,tags:c,activeIndex:u!==-1?u:i.activeIndex,activeId:d})}},props:{decorations(s){const i=Ml.getState(s);return i?i.decorations:null},handleDOMEvents:{mousedown(s,i){var f;if(!t())return!1;const o=performance.now();window.__tmpl_last_pointerdown_at=o,O7=o+700;const a=i.target;if(a!=null&&a.closest("[data-template-input-container]")||a!=null&&a.closest("input[data-template-input-id]")){i.preventDefault(),i.stopPropagation();const h=(f=Ml.getState(s.state))==null?void 0:f.activeId;return h&&(kl=h,ub(h)),!0}const c=a==null?void 0:a.closest("[data-bracket-tag-id]");if(!c)return!1;i.preventDefault(),i.stopPropagation();const l=c.getAttribute("data-bracket-tag-id"),u=Ml.getState(s.state);if(!u||!l)return!0;kl=l;const d=u.tags.find(h=>h.id===l);return d&&(s.dispatch(s.state.tr.setSelection(at.create(s.state.doc,d.from,d.to))),ub(l)),!0},mouseup(s,i){const o=i.target;return o!=null&&o.closest("[data-bracket-tag-id]")||o!=null&&o.closest("[data-template-input-container]")||o!=null&&o.closest("input[data-template-input-id]")?(i.preventDefault(),i.stopPropagation(),!0):!1},click(s,i){const o=i.target;return o!=null&&o.closest("[data-bracket-tag-id]")||o!=null&&o.closest("[data-template-input-container]")||o!=null&&o.closest("input[data-template-input-id]")?(i.preventDefault(),i.stopPropagation(),!0):!1}}},view(s){Jr=s;let i=null;return{update(o){var c,l;Jr=o;const a=(l=(c=Ml.getState(o.state))==null?void 0:c.activeId)!=null?l:null;a&&a!==i&&(TI(a),ub(a)),i=a},destroy(){Jr===s&&(Jr=null)}}}}),r=Wq({Tab:(s,i,o)=>o?cF(o,1):!1,"Shift-Tab":(s,i,o)=>o?cF(o,-1):!1});return[n,r]}const WEe=10,HEe=4,E1={duration:20,hasCloseButton:!0},$Ee=512,nqe=$Ee*1024*1024,$e="/cdn/assets/sprites-external-dgqq2xh6.svg",qEe=ge($e,"057430",24,24),VEe=ge($e,"165b4c",24,24),zEe=ge($e,"629568",24,24),YEe="application/vnd.google-apps.spreadsheet",KEe="application/vnd.google-apps.presentation",XEe="application/vnd.google-apps.document",JEe=["xlsx","pptx","docx","page","issue"],QEe={[YEe]:"xlsx",[KEe]:"pptx",[XEe]:"docx"};function rqe(e){var t;return e&&(t=QEe[e.split(";")[0]])!=null?t:null}function ZEe(e){return JEe.includes(e)}function eCe(e){return e&&ZEe(e)?e:null}var Sn=(e=>(e[e.None=0]="None",e[e.Multimodal=1]="Multimodal",e[e.Interpreter=2]="Interpreter",e[e.Retrieval=3]="Retrieval",e[e.ContextConnector=4]="ContextConnector",e[e.ProfilePicture=5]="ProfilePicture",e[e.Codex=6]="Codex",e))(Sn||{});function sqe(e){if(e)return{contextConnector:e.context_connector,sourceUrl:e.source_url,syntheticExtension:eCe(e.synthetic_extension),type:e.type}}var Bi=(e=>(e.Uploading="uploading",e.Ready="ready",e))(Bi||{});function A7(e){return e===Sn.Multimodal?HEe:WEe}function w7(e,t){return t==null?e:Math.max(0,Math.min(e,t))}function tCe(){"use forget";var t;const e=wie(nCe);return(t=e==null?void 0:e.remaining)!=null?t:null}function nCe(e){return e.feature_name===mr.FILE_UPLOAD}function rCe(){var n;const{limitsProgress:e}=Mr.getState(),t=e.find(r=>r.feature_name===mr.FILE_UPLOAD);return(n=t==null?void 0:t.remaining)!=null?n:null}function sCe(){var n;const{limitsProgress:e}=Mr.getState(),t=e.find(r=>r.feature_name===mr.PASTE_TEXT_TO_FILE);return(n=t==null?void 0:t.remaining)!=null?n:null}function iCe(e){"use forget";const t=W.c(9),n=tCe();let r,s,i;if(t[0]!==n||t[1]!==e){const a=A7(e);r=a,s=n,i=w7(a,n),t[0]=n,t[1]=e,t[2]=r,t[3]=s,t[4]=i}else r=t[2],s=t[3],i=t[4];let o;return t[5]!==r||t[6]!==s||t[7]!==i?(o={baseLimit:r,remaining:s,maxUploads:i},t[5]=r,t[6]=s,t[7]=i,t[8]=o):o=t[8],o}function oCe(e){const t=rCe(),n=A7(e);return{baseLimit:n,remaining:t,maxUploads:w7(n,t)}}function iqe(e){"use forget";return iCe(e).maxUploads}function aCe(e){return oCe(e).maxUploads}const N7={shift:!1,ctrl:!1,meta:!1},C1=cr(()=>N7),cCe=C1.getState;function lCe(e){var n;return st(e)&&yt()?((n=st(e))==null?void 0:n.planType)===ae.FREE?X_(e,"1535340810"):X_(e,"4147197039"):null}const uCe=5e3;function dCe(){const e=sCe();if(e!=null&&e<=0)return!1;const{blockedFeatures:t}=Mr.getState(),n=t.find(({name:r})=>r===mr.FILE_UPLOAD);return!(n&&yi(n))}function fCe(e,t){var o;if(cCe().shift||!t||t.length<uCe||!dCe())return!1;const r=lCe(e),s=(o=r==null?void 0:r.get("paste_threshold",0))!=null?o:0;return s>0?t.length>=s:!1}function oqe(){return{ext:"txt",mime:"text/plain"}}async function aqe(e){const t=await ne(()=>import("./opfre1tfio4pl0k0.js"),__vite__mapDeps([16,1,17]));await new Promise(r=>setTimeout(r,0));const n=t.getFileTypeGuess(e);return await new Promise(r=>setTimeout(r,0)),n}class Zt extends lt{constructor(t){super(t,t)}map(t,n){let r=t.resolve(n.map(this.head));return Zt.valid(r)?new Zt(r):lt.near(r)}content(){return Oe.empty}eq(t){return t instanceof Zt&&t.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Zt(t.resolve(n.pos))}getBookmark(){return new AI(this.anchor)}static valid(t){let n=t.parent;if(n.isTextblock||!hCe(t)||!pCe(t))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let s=n.contentMatchAt(t.index()).defaultType;return s&&s.isTextblock}static findGapCursorFrom(t,n,r=!1){e:for(;;){if(!r&&Zt.valid(t))return t;let s=t.pos,i=null;for(let o=t.depth;;o--){let a=t.node(o);if(n>0?t.indexAfter(o)<a.childCount:t.index(o)>0){i=a.child(n>0?t.indexAfter(o):t.index(o)-1);break}else if(o==0)return null;s+=n;let c=t.doc.resolve(s);if(Zt.valid(c))return c}for(;;){let o=n>0?i.firstChild:i.lastChild;if(!o){if(i.isAtom&&!i.isText&&!ze.isSelectable(i)){t=t.doc.resolve(s+i.nodeSize*n),r=!1;continue e}break}i=o,s+=n;let a=t.doc.resolve(s);if(Zt.valid(a))return a}return null}}}Zt.prototype.visible=!1;Zt.findFrom=Zt.findGapCursorFrom;lt.jsonID("gapcursor",Zt);class AI{constructor(t){this.pos=t}map(t){return new AI(t.map(this.pos))}resolve(t){let n=t.resolve(this.pos);return Zt.valid(n)?new Zt(n):lt.near(n)}}function hCe(e){for(let t=e.depth;t>=0;t--){let n=e.index(t),r=e.node(t);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let s=r.child(n-1);;s=s.lastChild){if(s.childCount==0&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}function pCe(e){for(let t=e.depth;t>=0;t--){let n=e.indexAfter(t),r=e.node(t);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let s=r.child(n);;s=s.firstChild){if(s.childCount==0&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}function _Ce(){return new $r({props:{decorations:yCe,createSelectionBetween(e,t,n){return t.pos==n.pos&&Zt.valid(n)?new Zt(n):null},handleClick:gCe,handleKeyDown:mCe,handleDOMEvents:{beforeinput:vCe}}})}const mCe=Hq({ArrowLeft:Wp("horiz",-1),ArrowRight:Wp("horiz",1),ArrowUp:Wp("vert",-1),ArrowDown:Wp("vert",1)});function Wp(e,t){const n=e=="vert"?t>0?"down":"up":t>0?"right":"left";return function(r,s,i){let o=r.selection,a=t>0?o.$to:o.$from,c=o.empty;if(o instanceof at){if(!i.endOfTextblock(n)||a.depth==0)return!1;c=!1,a=r.doc.resolve(t>0?a.after():a.before())}let l=Zt.findGapCursorFrom(a,t,c);return l?(s&&s(r.tr.setSelection(new Zt(l))),!0):!1}}function gCe(e,t,n){if(!e||!e.editable)return!1;let r=e.state.doc.resolve(t);if(!Zt.valid(r))return!1;let s=e.posAtCoords({left:n.clientX,top:n.clientY});return s&&s.inside>-1&&ze.isSelectable(e.state.doc.nodeAt(s.inside))?!1:(e.dispatch(e.state.tr.setSelection(new Zt(r))),!0)}function vCe(e,t){if(t.inputType!="insertCompositionText"||!(e.state.selection instanceof Zt))return!1;let{$from:n}=e.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(e.state.schema.nodes.text);if(!r)return!1;let s=de.empty;for(let o=r.length-1;o>=0;o--)s=de.from(r[o].createAndFill(null,s));let i=e.state.tr.replace(n.pos,n.pos,new Oe(s,0,0));return i.setSelection(at.near(i.doc.resolve(n.pos+1))),e.dispatch(i),!1}function yCe(e){if(!(e.selection instanceof Zt))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",Pt.create(e.doc,[jn.widget(e.selection.head,t,{key:"gapcursor"})])}var Gm=200,Mn=function(){};Mn.prototype.append=function(t){return t.length?(t=Mn.from(t),!this.length&&t||t.length<Gm&&this.leafAppend(t)||this.length<Gm&&t.leafPrepend(this)||this.appendInner(t)):this};Mn.prototype.prepend=function(t){return t.length?Mn.from(t).append(this):this};Mn.prototype.appendInner=function(t){return new ECe(this,t)};Mn.prototype.slice=function(t,n){return t===void 0&&(t=0),n===void 0&&(n=this.length),t>=n?Mn.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,n))};Mn.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)};Mn.prototype.forEach=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(t,n,r,0):this.forEachInvertedInner(t,n,r,0)};Mn.prototype.map=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var s=[];return this.forEach(function(i,o){return s.push(t(i,o))},n,r),s};Mn.from=function(t){return t instanceof Mn?t:t&&t.length?new I7(t):Mn.empty};var I7=(function(e){function t(r){e.call(this),this.values=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(s,i){return s==0&&i==this.length?this:new t(this.values.slice(s,i))},t.prototype.getInner=function(s){return this.values[s]},t.prototype.forEachInner=function(s,i,o,a){for(var c=i;c<o;c++)if(s(this.values[c],a+c)===!1)return!1},t.prototype.forEachInvertedInner=function(s,i,o,a){for(var c=i-1;c>=o;c--)if(s(this.values[c],a+c)===!1)return!1},t.prototype.leafAppend=function(s){if(this.length+s.length<=Gm)return new t(this.values.concat(s.flatten()))},t.prototype.leafPrepend=function(s){if(this.length+s.length<=Gm)return new t(s.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t})(Mn);Mn.empty=new I7([]);var ECe=(function(e){function t(n,r){e.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},t.prototype.forEachInner=function(r,s,i,o){var a=this.left.length;if(s<a&&this.left.forEachInner(r,s,Math.min(i,a),o)===!1||i>a&&this.right.forEachInner(r,Math.max(s-a,0),Math.min(this.length,i)-a,o+a)===!1)return!1},t.prototype.forEachInvertedInner=function(r,s,i,o){var a=this.left.length;if(s>a&&this.right.forEachInvertedInner(r,s-a,Math.max(i,a)-a,o+a)===!1||i<a&&this.left.forEachInvertedInner(r,Math.min(s,a),i,o)===!1)return!1},t.prototype.sliceInner=function(r,s){if(r==0&&s==this.length)return this;var i=this.left.length;return s<=i?this.left.slice(r,s):r>=i?this.right.slice(r-i,s-i):this.left.slice(r,i).append(this.right.slice(0,s-i))},t.prototype.leafAppend=function(r){var s=this.right.leafAppend(r);if(s)return new t(this.left,s)},t.prototype.leafPrepend=function(r){var s=this.left.leafPrepend(r);if(s)return new t(s,this.right)},t.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new t(this.left,new t(this.right,r)):new t(this,r)},t})(Mn);const CCe=500;class Ts{constructor(t,n){this.items=t,this.eventCount=n}popEvent(t,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let s,i;n&&(s=this.remapping(r,this.items.length),i=s.maps.length);let o=t.tr,a,c,l=[],u=[];return this.items.forEach((d,f)=>{if(!d.step){s||(s=this.remapping(r,f+1),i=s.maps.length),i--,u.push(d);return}if(s){u.push(new oi(d.map));let h=d.step.map(s.slice(i)),p;h&&o.maybeStep(h).doc&&(p=o.mapping.maps[o.mapping.maps.length-1],l.push(new oi(p,void 0,void 0,l.length+u.length))),i--,p&&s.appendMap(p,i)}else o.maybeStep(d.step);if(d.selection)return a=s?d.selection.map(s.slice(i)):d.selection,c=new Ts(this.items.slice(0,r).append(u.reverse().concat(l)),this.eventCount-1),!1},this.items.length,0),{remaining:c,transform:o,selection:a}}addTransform(t,n,r,s){let i=[],o=this.eventCount,a=this.items,c=!s&&a.length?a.get(a.length-1):null;for(let u=0;u<t.steps.length;u++){let d=t.steps[u].invert(t.docs[u]),f=new oi(t.mapping.maps[u],d,n),h;(h=c&&c.merge(f))&&(f=h,u?i.pop():a=a.slice(0,a.length-1)),i.push(f),n&&(o++,n=void 0),s||(c=f)}let l=o-r.depth;return l>bCe&&(a=SCe(a,l),o-=l),new Ts(a.append(i),o)}remapping(t,n){let r=new nu;return this.items.forEach((s,i)=>{let o=s.mirrorOffset!=null&&i-s.mirrorOffset>=t?r.maps.length-s.mirrorOffset:void 0;r.appendMap(s.map,o)},t,n),r}addMaps(t){return this.eventCount==0?this:new Ts(this.items.append(t.map(n=>new oi(n))),this.eventCount)}rebased(t,n){if(!this.eventCount)return this;let r=[],s=Math.max(0,this.items.length-n),i=t.mapping,o=t.steps.length,a=this.eventCount;this.items.forEach(f=>{f.selection&&a--},s);let c=n;this.items.forEach(f=>{let h=i.getMirror(--c);if(h==null)return;o=Math.min(o,h);let p=i.maps[h];if(f.step){let _=t.steps[h].invert(t.docs[h]),m=f.selection&&f.selection.map(i.slice(c+1,h));m&&a++,r.push(new oi(p,_,m))}else r.push(new oi(p))},s);let l=[];for(let f=n;f<o;f++)l.push(new oi(i.maps[f]));let u=this.items.slice(0,s).append(l).append(r),d=new Ts(u,a);return d.emptyItemCount()>CCe&&(d=d.compress(this.items.length-r.length)),d}emptyItemCount(){let t=0;return this.items.forEach(n=>{n.step||t++}),t}compress(t=this.items.length){let n=this.remapping(0,t),r=n.maps.length,s=[],i=0;return this.items.forEach((o,a)=>{if(a>=t)s.push(o),o.selection&&i++;else if(o.step){let c=o.step.map(n.slice(r)),l=c&&c.getMap();if(r--,l&&n.appendMap(l,r),c){let u=o.selection&&o.selection.map(n.slice(r));u&&i++;let d=new oi(l.invert(),c,u),f,h=s.length-1;(f=s.length&&s[h].merge(d))?s[h]=f:s.push(d)}}else o.map&&r--},this.items.length,0),new Ts(Mn.from(s.reverse()),i)}}Ts.empty=new Ts(Mn.empty,0);function SCe(e,t){let n;return e.forEach((r,s)=>{if(r.selection&&t--==0)return n=s,!1}),e.slice(n)}class oi{constructor(t,n,r,s){this.map=t,this.step=n,this.selection=r,this.mirrorOffset=s}merge(t){if(this.step&&t.step&&!t.selection){let n=t.step.merge(this.step);if(n)return new oi(n.getMap().invert(),n,this.selection)}}}class ko{constructor(t,n,r,s,i){this.done=t,this.undone=n,this.prevRanges=r,this.prevTime=s,this.prevComposition=i}}const bCe=20;function TCe(e,t,n,r){let s=n.getMeta(Ec),i;if(s)return s.historyState;n.getMeta(wCe)&&(e=new ko(e.done,e.undone,null,0,-1));let o=n.getMeta("appendedTransaction");if(n.steps.length==0)return e;if(o&&o.getMeta(Ec))return o.getMeta(Ec).redo?new ko(e.done.addTransform(n,void 0,r,A_(t)),e.undone,lF(n.mapping.maps),e.prevTime,e.prevComposition):new ko(e.done,e.undone.addTransform(n,void 0,r,A_(t)),null,e.prevTime,e.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let a=n.getMeta("composition"),c=e.prevTime==0||!o&&e.prevComposition!=a&&(e.prevTime<(n.time||0)-r.newGroupDelay||!OCe(n,e.prevRanges)),l=o?db(e.prevRanges,n.mapping):lF(n.mapping.maps);return new ko(e.done.addTransform(n,c?t.selection.getBookmark():void 0,r,A_(t)),Ts.empty,l,n.time,a==null?e.prevComposition:a)}else return(i=n.getMeta("rebased"))?new ko(e.done.rebased(n,i),e.undone.rebased(n,i),db(e.prevRanges,n.mapping),e.prevTime,e.prevComposition):new ko(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),db(e.prevRanges,n.mapping),e.prevTime,e.prevComposition)}function OCe(e,t){if(!t)return!1;if(!e.docChanged)return!0;let n=!1;return e.mapping.maps[0].forEach((r,s)=>{for(let i=0;i<t.length;i+=2)r<=t[i+1]&&s>=t[i]&&(n=!0)}),n}function lF(e){let t=[];for(let n=e.length-1;n>=0&&t.length==0;n--)e[n].forEach((r,s,i,o)=>t.push(i,o));return t}function db(e,t){if(!e)return null;let n=[];for(let r=0;r<e.length;r+=2){let s=t.map(e[r],1),i=t.map(e[r+1],-1);s<=i&&n.push(s,i)}return n}function ACe(e,t,n){let r=A_(t),s=Ec.get(t).spec.config,i=(n?e.undone:e.done).popEvent(t,r);if(!i)return null;let o=i.selection.resolve(i.transform.doc),a=(n?e.done:e.undone).addTransform(i.transform,t.selection.getBookmark(),s,r),c=new ko(n?a:i.remaining,n?i.remaining:a,null,0,-1);return i.transform.setSelection(o).setMeta(Ec,{redo:n,historyState:c})}let fb=!1,uF=null;function A_(e){let t=e.plugins;if(uF!=t){fb=!1,uF=t;for(let n=0;n<t.length;n++)if(t[n].spec.historyPreserveItems){fb=!0;break}}return fb}const Ec=new ds("history"),wCe=new ds("closeHistory");function NCe(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new $r({key:Ec,state:{init(){return new ko(Ts.empty,Ts.empty,null,0,-1)},apply(t,n,r){return TCe(n,r,t,e)}},config:e,props:{handleDOMEvents:{beforeinput(t,n){let r=n.inputType,s=r=="historyUndo"?R7:r=="historyRedo"?S1:null;return s?(n.preventDefault(),s(t.state,t.dispatch)):!1}}}})}function P7(e,t){return(n,r)=>{let s=Ec.getState(n);if(!s||(e?s.undone:s.done).eventCount==0)return!1;if(r){let i=ACe(s,n,e);i&&r(t?i.scrollIntoView():i)}return!0}}const R7=P7(!1,!0),S1=P7(!0,!0),iu=new ds("customKeymapPlugin");function cqe(e,t){var r;const{allHandlers:n=[]}=(r=iu.getState(e.state))!=null?r:{};return e.dispatch(e.state.tr.setMeta(iu,{allHandlers:[t,...n]})),()=>{e.dispatch(e.state.tr.setMeta(iu,{allHandlers:n.filter(s=>s!==t)}))}}function ICe(e={allHandlers:[]}){return new $r({key:iu,state:{init(){return b({},e)},apply(t,n){const r=t.getMeta(iu);return r?b(b({},n),r):n}},props:{handleKeyDown(t,n){var s;if(ov(n))return!1;const{allHandlers:r=[]}=(s=iu.getState(t.state))!=null?s:{};for(const i of r){const o=i[n.key];if(o&&o(n))return!0}}}})}const PCe=e=>Me(e,"1605274664"),dF=new ds("ecosystemSuggestionsPluginBetter"),Va={SELF_APPLIED:"eco/self-applied",UPDATE_CONFIG:"eco/update-config"};function RCe(){return{activeSystemHintType:null,activeConnectorSystemTypes:new Set,keywordToSystemHintMap:{},matches:new Set,regex:void 0}}function xCe(e){const{markType:t}=e;return new $r({key:dF,state:{init(){return RCe()},apply(n,r){var o;const s=(o=n.getMeta(Va.UPDATE_CONFIG))!=null?o:{};return b(b({},r),s)}},appendTransaction(n,r,s){var m,y;if(!n.some(v=>v.getMeta(Va.UPDATE_CONFIG))&&(!n.some(v=>v.docChanged)||n.some(v=>v.getMeta(Va.SELF_APPLIED))))return null;const{regex:i,activeSystemHintType:o,activeConnectorSystemTypes:a,keywordToSystemHintMap:c,matches:l}=(m=dF.getState(s))!=null?m:{},u=s.tr,{node:d,pos:f}=(y=kCe(s.doc))!=null?y:{};if(!d||f===void 0)return null;const p=Lm.topNodeType.createChecked(null,de.from(d));if(!i||!c||o&&!eu(o))return u.removeMark(0,p.content.size,t).scrollIntoView(),u.steps.length&&u.setMeta(Va.SELF_APPLIED,!0),u;const _=new Set;return p.descendants((v,O,S,E)=>{var T;if(v.marks.find(A=>A.type===t)){const A=(T=v.textContent)!=null?T:"";return(!i.test(A)||E!==0)&&u.removeMark(f+O,f+O+v.nodeSize,t).scrollIntoView(),!1}return!0}),p.descendants((v,O)=>{var T;if(!v.isTextblock)return;const S=v.textBetween(0,v.content.size);if(!S)return;i.lastIndex=0;let E;for(;E=i.exec(S);){const A=fF(v,f+O,E.index),w=fF(v,f+O,E.index+E[0].length),N=(T=c[E[1].toLowerCase()])!=null?T:{},{systemHint:P,name:x}=N;P&&_.add({systemHintType:P,keyword:E[1]});const D=MCe(u.doc,A,w,t);if(o&&eu(o)&&(a!=null&&a.has(P))){if(!D){const M=t.create({id:x,kind:"app",keyword:E[1]});u.addMark(A,w,M).scrollIntoView()}}else D&&u.removeMark(A,w,t).scrollIntoView();i.lastIndex=E.index+E[0].length}}),u.steps.length||!LCe(_,l)?(u.setMeta(Va.SELF_APPLIED,!0),u.setMeta(Va.UPDATE_CONFIG,{matches:_}),u):null},view(n){return{destroy(){}}}})}function lqe(e,t){const n=e.state.tr.setMeta(Va.UPDATE_CONFIG,t);e.dispatch(n)}function fF(e,t,n){var i,o,a,c;let r=t+1,s=0;for(let l=0;l<e.childCount;l++){const u=e.child(l),d=u.isText&&(c=(a=(i=u.text)==null?void 0:i.length)!=null?a:(o=u.textContent)==null?void 0:o.length)!=null?c:0;if(s+d>=n)return u.isText?r+(n-s):r;s+=d,r+=u.nodeSize}return r}function MCe(e,t,n,r){let s=!1;return e.nodesBetween(t,n,i=>i.marks.find(o=>o.type===r)?(s=!0,!1):!0),s}function kCe(e){let t=null;return e.descendants((n,r)=>n.isTextblock&&!t?(t={node:n,pos:r},!1):!0),t}function LCe(e,t){if(!e||!t||e.size!==t.size)return!1;const n=[...t];for(const r of e)if(!n.some(s=>s.systemHintType===r.systemHintType&&s.keyword===r.keyword))return!1;return!0}var hb,hF;function DCe(){if(hF)return hb;hF=1;function e(t,n){for(var r=-1,s=t==null?0:t.length;++r<s&&n(t[r],r,t)!==!1;);return t}return hb=e,hb}var pb,pF;function wI(){if(pF)return pb;pF=1;var e=E9();function t(n,r,s){r=="__proto__"&&e?e(n,r,{configurable:!0,enumerable:!0,value:s,writable:!0}):n[r]=s}return pb=t,pb}var _b,_F;function NI(){if(_F)return _b;_F=1;var e=wI(),t=Rg(),n=Object.prototype,r=n.hasOwnProperty;function s(i,o,a){var c=i[o];(!(r.call(i,o)&&t(c,a))||a===void 0&&!(o in i))&&e(i,o,a)}return _b=s,_b}var mb,mF;function xv(){if(mF)return mb;mF=1;var e=NI(),t=wI();function n(r,s,i,o){var a=!i;i||(i={});for(var c=-1,l=s.length;++c<l;){var u=s[c],d=o?o(i[u],r[u],u,i,r):void 0;d===void 0&&(d=r[u]),a?t(i,u,d):e(i,u,d)}return i}return mb=n,mb}var gb,gF;function FCe(){if(gF)return gb;gF=1;var e=xv(),t=Gu();function n(r,s){return r&&e(s,t(s),r)}return gb=n,gb}var vb,vF;function UCe(){if(vF)return vb;vF=1;function e(t){var n=[];if(t!=null)for(var r in Object(t))n.push(r);return n}return vb=e,vb}var yb,yF;function jCe(){if(yF)return yb;yF=1;var e=Ys(),t=IN(),n=UCe(),r=Object.prototype,s=r.hasOwnProperty;function i(o){if(!e(o))return n(o);var a=t(o),c=[];for(var l in o)l=="constructor"&&(a||!s.call(o,l))||c.push(l);return c}return yb=i,yb}var Eb,EF;function II(){if(EF)return Eb;EF=1;var e=c9(),t=jCe(),n=Bu();function r(s){return n(s)?e(s,!0):t(s)}return Eb=r,Eb}var Cb,CF;function BCe(){if(CF)return Cb;CF=1;var e=xv(),t=II();function n(r,s){return r&&e(s,t(s),r)}return Cb=n,Cb}var Wd={exports:{}};Wd.exports;var SF;function GCe(){return SF||(SF=1,(function(e,t){var n=zs(),r=t&&!t.nodeType&&t,s=r&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===r,o=i?n.Buffer:void 0,a=o?o.allocUnsafe:void 0;function c(l,u){if(u)return l.slice();var d=l.length,f=a?a(d):new l.constructor(d);return l.copy(f),f}e.exports=c})(Wd,Wd.exports)),Wd.exports}var Sb,bF;function WCe(){if(bF)return Sb;bF=1;function e(t,n){var r=-1,s=t.length;for(n||(n=Array(s));++r<s;)n[r]=t[r];return n}return Sb=e,Sb}var bb,TF;function HCe(){if(TF)return bb;TF=1;var e=xv(),t=TN();function n(r,s){return e(r,t(r),s)}return bb=n,bb}var Tb,OF;function x7(){if(OF)return Tb;OF=1;var e=l9(),t=e(Object.getPrototypeOf,Object);return Tb=t,Tb}var Ob,AF;function M7(){if(AF)return Ob;AF=1;var e=bN(),t=x7(),n=TN(),r=o9(),s=Object.getOwnPropertySymbols,i=s?function(o){for(var a=[];o;)e(a,n(o)),o=t(o);return a}:r;return Ob=i,Ob}var Ab,wF;function $Ce(){if(wF)return Ab;wF=1;var e=xv(),t=M7();function n(r,s){return e(r,t(r),s)}return Ab=n,Ab}var wb,NF;function k7(){if(NF)return wb;NF=1;var e=i9(),t=M7(),n=II();function r(s){return e(s,n,t)}return wb=r,wb}var Nb,IF;function qCe(){if(IF)return Nb;IF=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r){var s=r.length,i=new r.constructor(s);return s&&typeof r[0]=="string"&&t.call(r,"index")&&(i.index=r.index,i.input=r.input),i}return Nb=n,Nb}var Ib,PF;function PI(){if(PF)return Ib;PF=1;var e=s9();function t(n){var r=new n.constructor(n.byteLength);return new e(r).set(new e(n)),r}return Ib=t,Ib}var Pb,RF;function VCe(){if(RF)return Pb;RF=1;var e=PI();function t(n,r){var s=r?e(n.buffer):n.buffer;return new n.constructor(s,n.byteOffset,n.byteLength)}return Pb=t,Pb}var Rb,xF;function zCe(){if(xF)return Rb;xF=1;var e=/\w*$/;function t(n){var r=new n.constructor(n.source,e.exec(n));return r.lastIndex=n.lastIndex,r}return Rb=t,Rb}var xb,MF;function YCe(){if(MF)return xb;MF=1;var e=Fu(),t=e?e.prototype:void 0,n=t?t.valueOf:void 0;function r(s){return n?Object(n.call(s)):{}}return xb=r,xb}var Mb,kF;function KCe(){if(kF)return Mb;kF=1;var e=PI();function t(n,r){var s=r?e(n.buffer):n.buffer;return new n.constructor(s,n.byteOffset,n.length)}return Mb=t,Mb}var kb,LF;function XCe(){if(LF)return kb;LF=1;var e=PI(),t=VCe(),n=zCe(),r=YCe(),s=KCe(),i="[object Boolean]",o="[object Date]",a="[object Map]",c="[object Number]",l="[object RegExp]",u="[object Set]",d="[object String]",f="[object Symbol]",h="[object ArrayBuffer]",p="[object DataView]",_="[object Float32Array]",m="[object Float64Array]",y="[object Int8Array]",v="[object Int16Array]",O="[object Int32Array]",S="[object Uint8Array]",E="[object Uint8ClampedArray]",T="[object Uint16Array]",A="[object Uint32Array]";function w(N,P,x){var D=N.constructor;switch(P){case h:return e(N);case i:case o:return new D(+N);case p:return t(N,x);case _:case m:case y:case v:case O:case S:case E:case T:case A:return s(N,x);case a:return new D;case c:case d:return new D(N);case l:return n(N);case u:return new D;case f:return r(N)}}return kb=w,kb}var Lb,DF;function JCe(){if(DF)return Lb;DF=1;var e=Ys(),t=Object.create,n=(function(){function r(){}return function(s){if(!e(s))return{};if(t)return t(s);r.prototype=s;var i=new r;return r.prototype=void 0,i}})();return Lb=n,Lb}var Db,FF;function QCe(){if(FF)return Db;FF=1;var e=JCe(),t=x7(),n=IN();function r(s){return typeof s.constructor=="function"&&!n(s)?e(t(s)):{}}return Db=r,Db}var Fb,UF;function ZCe(){if(UF)return Fb;UF=1;var e=Xg(),t=va(),n="[object Map]";function r(s){return t(s)&&e(s)==n}return Fb=r,Fb}var Ub,jF;function eSe(){if(jF)return Ub;jF=1;var e=ZCe(),t=Kg(),n=NN(),r=n&&n.isMap,s=r?t(r):e;return Ub=s,Ub}var jb,BF;function tSe(){if(BF)return jb;BF=1;var e=Xg(),t=va(),n="[object Set]";function r(s){return t(s)&&e(s)==n}return jb=r,jb}var Bb,GF;function nSe(){if(GF)return Bb;GF=1;var e=tSe(),t=Kg(),n=NN(),r=n&&n.isSet,s=r?t(r):e;return Bb=s,Bb}var Gb,WF;function rSe(){if(WF)return Gb;WF=1;var e=CN(),t=DCe(),n=NI(),r=FCe(),s=BCe(),i=GCe(),o=WCe(),a=HCe(),c=$Ce(),l=u9(),u=k7(),d=Xg(),f=qCe(),h=XCe(),p=QCe(),_=Wr(),m=AN(),y=eSe(),v=Ys(),O=nSe(),S=Gu(),E=II(),T=1,A=2,w=4,N="[object Arguments]",P="[object Array]",x="[object Boolean]",D="[object Date]",M="[object Error]",F="[object Function]",j="[object GeneratorFunction]",$="[object Map]",q="[object Number]",k="[object Object]",Z="[object RegExp]",B="[object Set]",Q="[object String]",se="[object Symbol]",fe="[object WeakMap]",V="[object ArrayBuffer]",H="[object DataView]",ee="[object Float32Array]",z="[object Float64Array]",te="[object Int8Array]",Se="[object Int16Array]",he="[object Int32Array]",oe="[object Uint8Array]",be="[object Uint8ClampedArray]",ke="[object Uint16Array]",Xe="[object Uint32Array]",Pe={};Pe[N]=Pe[P]=Pe[V]=Pe[H]=Pe[x]=Pe[D]=Pe[ee]=Pe[z]=Pe[te]=Pe[Se]=Pe[he]=Pe[$]=Pe[q]=Pe[k]=Pe[Z]=Pe[B]=Pe[Q]=Pe[se]=Pe[oe]=Pe[be]=Pe[ke]=Pe[Xe]=!0,Pe[M]=Pe[F]=Pe[fe]=!1;function J(X,L,Ne,nt,He,tt){var it,ue=L&T,De=L&A,et=L&w;if(Ne&&(it=He?Ne(X,nt,He,tt):Ne(X)),it!==void 0)return it;if(!v(X))return X;var Je=_(X);if(Je){if(it=f(X),!ue)return o(X,it)}else{var Qe=d(X),Vt=Qe==F||Qe==j;if(m(X))return i(X,ue);if(Qe==k||Qe==N||Vt&&!He){if(it=De||Vt?{}:p(X),!ue)return De?c(X,s(it,X)):a(X,r(it,X))}else{if(!Pe[Qe])return He?X:{};it=h(X,Qe,ue)}}tt||(tt=new e);var mn=tt.get(X);if(mn)return mn;tt.set(X,it),O(X)?X.forEach(function(Xt){it.add(J(Xt,L,Ne,Xt,X,tt))}):y(X)&&X.forEach(function(Xt,vn){it.set(vn,J(Xt,L,Ne,vn,X,tt))});var gn=et?De?u:l:De?E:S,un=Je?void 0:gn(X);return t(un||X,function(Xt,vn){un&&(vn=Xt,Xt=X[vn]),n(it,vn,J(Xt,L,Ne,vn,X,tt))}),it}return Gb=J,Gb}var Wb,HF;function sSe(){if(HF)return Wb;HF=1;var e=rSe(),t=1,n=4;function r(s){return e(s,t|n)}return Wb=r,Wb}var iSe=sSe();const rc=$t(iSe),RI=ct(e=>{var i,o;const t=(i=cn(e,"463092697"))==null?void 0:i.value,n=rc(t);let r=(o=n==null?void 0:n.enabledConnectors)!=null?o:[];return Me(e,"3881721129")||(r=r.filter(a=>a!==R.GITHUB_CONNECTOR)),n&&(n.enabledConnectors=r),n}),L7=()=>{const e=ce();return C.useMemo(()=>RI(e),[e])},oSe=e=>{const t=RI(e);return{enabled:!!(t!=null&&t.softmentionEnabled)}};function aSe(){return{trackingKeywordsRegex:void 0,decorations:Pt.empty,highlightedKeywords:new Set,matchedKeywords:new Set}}const D7=({tr:e,regex:t,prevHighlightedKeywords:n,prevMatchedKeywords:r})=>{const s=[],i=new Set,o=new Set;return t?(e.doc.descendants((a,c)=>{if(!a.isText||!a.text)return;const l=a.text;for(const u of l.matchAll(t)){if(i.add(u[1]),!n.has(u[1])&&r.has(u[1]))continue;o.add(u[1]);const d=c+u.index,f=d+u[0].length;s.push(jn.inline(d,f,{class:"hint-pill"},{keyword:u[1]}))}}),{decorations:Pt.create(e.doc,s),matchedKeywords:i,highlightedKeywords:o}):{decorations:Pt.empty,matchedKeywords:i,highlightedKeywords:o}};function uqe(e){var n;const t=Zo.getState(e);return[...(n=t==null?void 0:t.matchedKeywords)!=null?n:[]]}const dqe=(e,t)=>{const{state:n,dispatch:r}=t,s=n.tr,i=Zo.getState(n);if(i){const o=e.length>0?new RegExp("\\b(".concat(e.join("|"),")\\b"),"gi"):void 0,{decorations:a,highlightedKeywords:c,matchedKeywords:l}=D7({tr:s,regex:o,prevHighlightedKeywords:i.highlightedKeywords,prevMatchedKeywords:i.matchedKeywords});s.setMeta(Zo,I(b({},i),{trackingKeywordsRegex:o,decorations:a,highlightedKeywords:c,matchedKeywords:l}))}r(s)},fqe=(e,t)=>{if(e.length===0)return;const{state:n,dispatch:r}=t,s=n.tr,i=Zo.getState(n);if(i){const o=i.decorations.remove(i.decorations.find(void 0,void 0,a=>a.keyword&&e.includes(a.keyword)));s.setMeta(Zo,I(b({},i),{decorations:o,highlightedKeywords:new Set([...i.highlightedKeywords].filter(a=>!e.includes(a)))}))}r(s)},Zo=new ds("keywordPlugin");function cSe(){return new $r({key:Zo,state:{init(){return aSe()},apply(e,t){if(e.getMeta(Zo))return b(b({},t),e.getMeta(Zo));if(!e.docChanged)return t;const{decorations:n,matchedKeywords:r,highlightedKeywords:s}=D7({tr:e,regex:t.trackingKeywordsRegex,prevHighlightedKeywords:t.highlightedKeywords,prevMatchedKeywords:t.matchedKeywords});return I(b({},t),{decorations:n,highlightedKeywords:s,matchedKeywords:r})}},props:{decorations(e){const t=this.getState(e);return t?t.decorations:Pt.empty}}})}const sc=new ds("menuSelectorPlugin");function $F(e){e.dispatch(e.state.tr.setMeta(sc,{active:!1,onMenuAction:void 0}))}function hqe(e,t){e.dispatch(e.state.tr.setMeta(sc,{active:!0,onMenuAction:t}))}const pqe=lo(e=>us(()=>{var t,n;return(n=(t=sc.getState(e.state))==null?void 0:t.active)!=null?n:!1},t=>jq(e,t),{getServerFallback:()=>!1}));function lSe(e={submitKeys:["Enter","Tab"],cancelKeys:["Escape"],checkStrictMatchKeys:[" "]}){return new $r({key:sc,state:{init(){return I(b({},e),{active:!1})},apply(t,n){const r=t.getMeta(sc);return r?b(b({},n),r):n}},props:{handleKeyDown(t,n){var s,i,o,a,c,l;const r=sc.getState(t.state);if(!(r!=null&&r.active))return!1;if(!n.isComposing)return r.submitKeys.includes(n.key)?(n.preventDefault(),n.stopPropagation(),n.stopImmediatePropagation(),$F(t),(i=(s=r.onMenuAction)==null?void 0:s.call(r,"submit"))!=null?i:!0):r.cancelKeys.includes(n.key)?(n.preventDefault(),(o=r.onMenuAction)==null||o.call(r,"cancel"),$F(t),!0):n.key==="ArrowUp"?(n.preventDefault(),(a=r.onMenuAction)==null||a.call(r,"up"),!0):n.key==="ArrowDown"?(n.preventDefault(),(c=r.onMenuAction)==null||c.call(r,"down"),!0):r.checkStrictMatchKeys.includes(n.key)&&(l=r.onMenuAction)!=null&&l.call(r,"checkMatch")?(n.preventDefault(),!0):!1},handleDOMEvents:{blur:t=>{var r;const n=sc.getState(t.state);(r=n==null?void 0:n.onMenuAction)==null||r.call(n,"cancel")}}}})}const Hd=new ds("placeholderPlugin");function _qe(e,t){e.dispatch(e.state.tr.setMeta(Hd,{placeholder:t}))}function uSe(e){return new $r({key:Hd,state:{init(){return{placeholder:e}},apply(t,n){return t.getMeta(Hd)?{placeholder:t.getMeta(Hd).placeholder}:n}},props:{decorations(t){var s;const{doc:n}=t;if(n.childCount===1&&((s=n.firstChild)==null?void 0:s.isTextblock)&&n.firstChild.content.size===0){const i=[],{placeholder:o}=Hd.getState(t);return t.doc.descendants((a,c)=>{const l=jn.node(c,c+a.nodeSize,{class:"placeholder","data-placeholder":o});i.push(l)}),Pt.create(n,i)}}}})}let b1;try{b1=new RegExp("^(\\/|@)([\\p{L}\\p{N}\\p{M}.:_-]*)$|\\s(\\/|@)([\\p{L}\\p{N}\\p{M}.:_-]+)$","u")}catch(e){b1=/^(\/|@)([\w.:_-]*)$|\s(\/|@)([\w.:_-]+)$/}function dSe(e,t){var r,s,i,o;if(e.depth===0)return;const n=(s=(r=e.nodeBefore)==null?void 0:r.text)==null?void 0:s.match(b1);if(n){const a=(i=n[1])!=null?i:n[3],c=(o=n[2])!=null?o:n[4],l=e.pos-c.length-1,u=e.pos;return c.length>0&&t?void 0:{triggerSymbol:a,queryText:c,range:{from:l,to:u}}}}const $d=new ds("systemHintPlugin");function fSe(e,t){return e.setMeta($d,t),e}function mqe(e){e.dispatch(fSe(e.state.tr,I(b({},T1()),{isDismissed:!0})))}function T1(){return{triggerSymbol:"",queryText:"",active:!1,range:void 0,isDismissed:!1}}function qF(e){const{active:t,range:n,triggerSymbol:r,queryText:s,onHintMatch:i}=e;if(i)return i(!t||!n?void 0:{triggerSymbol:r,text:s,range:n})}function hSe(){return new $r({key:$d,state:{init(){return T1()},apply(e,t,n,r){const s=e.getMeta($d),i=b(b(b({},T1()),t),s),o=e.selection;if(o.from!==o.to||r.doc.eq(n.doc))return qF(i),i;const a=o.$from,c=dSe(a,t.isDismissed);return i.active=c!=null,c&&(i.triggerSymbol=c.triggerSymbol,i.queryText=c.queryText,i.range=c.range,i.isDismissed=!1),qF(i),i}},view(){return{update(e,t){var i,o,a,c;const n=$d.getState(t),r=$d.getState(e.state);if(n.active===r.active&&((i=n.range)==null?void 0:i.from)===((o=r.range)==null?void 0:o.from)&&n.setReferencePosition===r.setReferencePosition)return;const s=r.range;!r.active||!s?(a=r.setReferencePosition)==null||a.call(r,null):(c=r.setReferencePosition)==null||c.call(r,{getBoundingClientRect:()=>pSe(e.coordsAtPos(s.from))})}}}})}function pSe({left:e,right:t,top:n,bottom:r}){return new DOMRect(e,n,t-e,r-n)}function _Se(e,t){const n=new EventTarget,r=oSe(e).enabled,s=PCe(e),i=Vve(e),o=new IEe(null,{state:Bl.create({schema:Lm,plugins:[NCe(),lSe(),hSe(),...s?[xCe({markType:Lm.marks.ecosystemMentionMark})]:[],...r?[cSe()]:[],...i?[...GEe(t)]:[],ICe(),Wq(I(b({},E3),{"Shift-Enter":E3.Enter,"Mod-z":R7,"Mod-y":S1,"Mod-Shift-z":S1})),Fve(n),uSe(""),_Ce(),$ve()]}),dispatchTransaction(c){const l=o.state.apply(c);o.updateState(l),c.docChanged&&n.dispatchEvent(new Event(c1))},handlePaste(c,l){var d;const u=(d=l.clipboardData)==null?void 0:d.getData("text/plain");return u===void 0?!1:(l.defaultPrevented||fCe(e,u)||Fq(c,u),!0)},clipboardTextSerializer(c){return Rve(c.content).content}}),a=t&&Hie(t);return a!=null&&Dq(o.state.doc)&&o.dispatch(o.state.tr.insertText(a)),o}class mSe{constructor(t,n){this.ctx=t,this.conversation=n}}const Mv=cg("Composer"),Ca=Yw(Mv),O1=Mv(()=>({current:null})),Ru=Mv(e=>_Se(e.ctx,e.conversation)),F7=Ca(e=>us(()=>Ru(e).state,t=>jq(Ru(e),Gq(t,50)))),gqe=Ca(e=>ye(()=>F7(e).doc.content.size,{getServerFallback:()=>0})),gSe=Ca(e=>ye(()=>Dq(F7(e).doc),{getServerFallback:()=>!0})),vSe=Ca(()=>me(!1)),vqe=Ca(e=>Uve(()=>vSe(e),()=>gSe(e))),ySe=Ca(e=>us(()=>Ru(e).hasFocus(),t=>ra(Ru(e).dom,{focus:t,blur:t}),{getServerFallback:()=>!1})),yqe=Ca(e=>{const t=us(()=>{const n=O1(e);return n.current!=null&&(n.current.contains(document.activeElement)||n.current.querySelector('[data-state="open"]')!=null)},n=>{const r=Gve(n,150);return ra(document,{focusin:r,focusout:r})},{getServerFallback:()=>!1});return ye(()=>t()||ySe(e))}),Eqe=Ca(e=>us(()=>{const t=O1(e);return t.current!=null&&t.current.matches(":hover")},t=>{var r;const n=O1(e);return ra((r=n.current)!=null?r:Ru(e).dom,{pointerenter:t,pointerleave:t})},{getServerFallback:()=>!1})),Cqe=Mv(e=>{const t=me(void 0),n=ye(()=>{var i,o,a;if(!yt(e.ctx))return;const r=e.conversation;if(!r)return;const s=(o=(i=cge(Hh(r)))==null?void 0:i.message.metadata)==null?void 0:o.thinking_effort;return(a=s!=null?s:Y$(e.ctx).effort)!=null?a:"standard"},{getServerFallback:()=>KW(e.ctx).effort});return{composerThinkingEffort$:ye(()=>{var r;return(r=t())!=null?r:n()}),setThinkingEffort:r=>{t.set(r)}}}),A1=C.createContext(null),Sqe=e=>{"use forget";const t=W.c(7),{children:n,conversation:r,ignoreParentComposerController:s}=e,i=s===void 0?!1:s,o=ce(),a=i?null:C.use(A1);let c;t[0]!==r||t[1]!==o||t[2]!==a?(c=a!=null?a:new mSe(o,r),t[0]=r,t[1]=o,t[2]=a,t[3]=c):c=t[3];const l=c;let u;return t[4]!==n||t[5]!==l?(u=g.jsx(A1.Provider,{value:l,children:n}),t[4]=n,t[5]=l,t[6]=u):u=t[6],u},ESe=()=>{"use forget";const e=W.c(2),t=C.use(A1);let n;return e[0]!==t?(n=$s(t),e[0]=t,e[1]=n):n=e[1],n},bqe="g-2fkFE8rbu",Xi={UNSET:"unset",GLOBAL:"global",PROJECT:"project",PROJECT_V2:"project_v2"};var Yt=(e=>(e[e.USER=1]="USER",e[e.GROUP=2]="GROUP",e[e.WORKSPACE=3]="WORKSPACE",e[e.ALL=4]="ALL",e[e.PROJECT=5]="PROJECT",e[e.ORGANIZATION=6]="ORGANIZATION",e[e.SYSTEM=7]="SYSTEM",e[e.AGENT=8]="AGENT",e[e.EMAIL=10]="EMAIL",e))(Yt||{});const U7={can_read:!0,can_view_config:!1,can_write:!1,can_delete:!1,can_export:!1,can_share:!1},Tqe={can_read:!0,can_view_config:!0,can_write:!1,can_delete:!1,can_export:!1,can_share:!1},Oqe={can_read:!0,can_view_config:!0,can_write:!0,can_delete:!1,can_export:!1,can_share:!1},_t={Private:"private",User:"user",Group:"group",WorkspaceLink:"workspace_link",Workspace:"workspace",Link:"link",Marketplace:"marketplace"};var CSe=(e=>(e.FirstParty="first_party",e.UsesFunctionCalls="uses_function_calls",e.Reportable="reportable",e.Private="private",e.Workspace="workspace",e.Public="public",e.Beta="beta",e.Pinned="pinned",e.WorkspaceDisabled="workspace_disabled",e.Unreviewable="unreviewable",e))(CSe||{});const Aqe=e=>{var t;return(t=e.gizmo.tags)==null?void 0:t.includes("first_party")},wqe=e=>{var t;return e.gizmo.gizmo_type!=="snorlax"&&!((t=e.gizmo.tags)!=null&&t.includes("unreviewable"))};var Wm=(e=>(e.PROJECT="snorlax",e.GPT="gpt",e))(Wm||{}),xI=(e=>(e.FILE_SERVICE="fs",e))(xI||{});function SSe(e){return e.type===10||e.type===1||e.type===2}const VF=[1,2,3,4];function Nqe(e){return e.length===0?null:e.reduce((t,n)=>VF.indexOf(n.type)<VF.indexOf(t.type)?t:n,e[0])}function Iqe(e,t,n){return t=t.filter(r=>r.type===_t.User||r.type===_t.Group),e===_t.Private||e===_t.User||e===_t.Group?[{type:_t.Private,capabilities:U7},...t]:[...t,{type:e,capabilities:n}]}class j7{constructor(t){this.response=t}}var Gl=(e=>(e.FirstParty="first_party",e.SidebarKeep="sidebar_keep",e.Mine="mine",e.Recent="recent",e.Workspace="workspace",e))(Gl||{}),Sa=(e=>(e.GPT52ReasoningAccess="chatgpt.workspace.model.GPT-5.2-reasoning.access",e.GPT52ProAccess="chatgpt.workspace.model.GPT-5.2-pro.access",e.GPT51Access="chatgpt.workspace.model.GPT-5.1.access",e.GPT51ReasoningAccess="chatgpt.workspace.model.GPT-5.1-reasoning.access",e.GPT51ProAccess="chatgpt.workspace.model.GPT-5.1-pro.access",e.GPT5ThinkingAccess="chatgpt.workspace.model.GPT-5-reasoning.access",e.GPT5ThinkingProAccess="chatgpt.workspace.model.GPT-5-pro.access",e.GPT5ThinkingMiniAccess="chatgpt.workspace.model.GPT-5-reasoning-mini.access",e.GPT41Access="chatgpt.workspace.model.GPT-4.1.access",e.GPT45Access="chatgpt.workspace.model.GPT-4.5.access",e.GPTO3Access="chatgpt.workspace.model.o3.access",e.GPTO3ProAccess="chatgpt.workspace.model.o3-pro.access",e.GPTO4MiniAccess="chatgpt.workspace.model.o4-mini.access",e.GPTO4MiniHighAccess="chatgpt.workspace.model.o4-mini-high.access",e.CrudGPT="chatgpt.workspace.gpt.crud",e.ShareWorkspaceGPT="chatgpt.workspace.gpt.share_workspace",e.ShareExternalGPT="chatgpt.workspace.gpt.share_external",e.AllowAllThirdPartyGPT="chatgpt.workspace.gpt.allow_all_third_party",e.AllowSpecificThirdPartyGPT="chatgpt.workspace.gpt.allow_specific_third_party",e.CrudProject="chatgpt.workspace.project.crud",e.ShareProject="chatgpt.workspace.project.share",e.MemberRoleView="chatgpt.workspace.member.role.view",e.ShareChatWithWorkspace="chatgpt.workspace.feature.share-chat-with-workspace.access",e.AllowCodexAccess="chatgpt.workspace.feature.allow-codex-access.access",e.AllowCodexLocalAccess="chatgpt.workspace.feature.allow-codex-local-access.access",e.CodexAdminAccess="chatgpt.workspace.feature.codex-admin.access",e.CodexAgentNetworkAccess="chatgpt.workspace.feature.codex-agent-network-access.access",e.CodexDeviceCodeAuthAccess="chatgpt.workspace.feature.codex-device-code-auth.access",e.CodexSlackPostingAccess="chatgpt.workspace.feature.codex-slack-posting.access",e.ImageGenAccess="chatgpt.workspace.feature.image-gen.access",e.SearchAccess="chatgpt.workspace.feature.search.access",e.DeepResearchAccess="chatgpt.workspace.feature.deep-research.access",e.VoiceAccess="chatgpt.workspace.feature.voice.access",e.HiveAccess="chatgpt.workspace.feature.hive.access",e.HiveKnowledgeRetrievalAccess="chatgpt.workspace.feature.hive-knowledge-retrieval.access",e.MemoryAccess="chatgpt.workspace.feature.memory.access",e.CanvasCodeExecutionAccess="chatgpt.workspace.feature.canvas-code-execution.access",e.CanvasCodeNetworkAccess="chatgpt.workspace.feature.canvas-code-network-access.access",e.VideoScreenSharingAccess="chatgpt.workspace.feature.video-screen-sharing.access",e.AppPairingAccess="chatgpt.workspace.feature.app-pairing.access",e.ClientApplicationAppleAccess="chatgpt.workspace.feature.client-application-apple.access",e.AuraAccess="chatgpt.workspace.feature.aura.access",e.BrowserMemoriesAccess="chatgpt.workspace.feature.aura-browser-memories.access",e.AgentModeAccess="chatgpt.workspace.feature.agent-mode.access",e.CreateMcpConnector="chatgpt.workspace.connector.mcp.create",e.DeveloperModeConnector="chatgpt.workspace.connector.dev_mode",e.UseConnector="chatgpt.workspace_connector.use",e.EnhancedCitations="chatgpt.workspace.feature.enhanced-citations.access",e))(Sa||{});const Pqe=e=>Me(e,"1355972088"),fs=e=>cn(e,"2826703856"),Rqe=e=>fs(e).get("self_serve_page_enabled",!1),xqe=e=>fs(e).get("models_display_in_rbac_page",!1),Mqe=e=>fs(e).get("features_display_in_rbac_page",!1),kqe=e=>fs(e).get("beta_settings_display_in_rbac_page",!1),Lqe=e=>fs(e).get("beta_settings_display_in_rbac_page_advanced",!1),Dqe=e=>fs(e).get("gpt_settings_display_in_rbac_page",!1),bSe=e=>fs(e).get("enable_gpt_fe_controls",!1),TSe=e=>fs(e).get("enable_project_fe_controls",!1),Fqe=e=>Me(e,"1277555238"),Uqe=e=>fs(e).get("enable_agent_mode",!1),jqe=e=>fs(e).get("enable_aura",!1),Bqe=e=>fs(e).get("enable_browser_memories",!1),Gqe=e=>fs(e).get("enable_thinking_mini",!1),Wqe=e=>Me(e,"2401070674"),OSe=e=>Me(e,"1627064618"),Hqe=e=>Me(e,"1513410899"),$qe=e=>Me(e,"544603680"),ASe="o4-mini",MI=e=>{var c,l;const t=ce(),n=mo(),r=n==null?void 0:n.getWorkspaceId(),s=TSe(t),{data:i,isLoading:o}=iI(r);if(!(n!=null&&n.isWorkspaceAccount()))return{hasWorkspacePermission:!0,isLoading:!1};const a=(l=(c=i==null?void 0:i.permissions)==null?void 0:c.includes(e))!=null?l:!1;return{hasWorkspacePermission:s?a:!0,isLoading:o}},qqe=()=>{const{hasWorkspacePermission:e,isLoading:t}=MI(Sa.CrudProject);return{canCreate:e,isLoading:t}},Vqe=e=>{var s,i;const{hasWorkspacePermission:t,isLoading:n}=MI(Sa.CrudProject);return{canEdit:(i=t&&((s=e==null?void 0:e.gizmo.current_user_permission)==null?void 0:s.can_write))!=null?i:!1,isLoading:n}},zqe=e=>{var s,i;const{hasWorkspacePermission:t,isLoading:n}=MI(Sa.CrudProject);return{canDelete:(i=t&&((s=e==null?void 0:e.gizmo.current_user_permission)==null?void 0:s.can_delete))!=null?i:!1,isLoading:n}};function Yqe(e,t){return null}function kI(e,t){return!1}function Kqe(e,t){return!1}function Xqe(e,t){return!1}function Jqe(e,t){if(t!=null)return wSe(e,t)?Wm.PROJECT:Wm.GPT}function wSe(e,t){return Qs(t)&&B7(e)}function B7(e){return Me(e,"491279851")}function Qs(e){return(e==null?void 0:e.slice(0,4))==="g-p-"}function LI(e){return e!=null&&!Qs(e)}function Qqe(e,t){return!LI(e)&&!t}function kv(e){return Qs(e.gizmo.id)}function NSe(e){return kv(e)&&e.gizmo.share_recipient===_t.Private&&e.gizmo.sharing.subjects.length===0}function ISe(e){return kv(e)&&!NSe(e)}function Zqe(e,t){return!(an.getItem(Wt.TasksHasSeenProjectDisclaimerBanner)!=null)&&e===ASe&&kv(t)&&t.files.length>0}const PSe=lr(()=>me(void 0));function e7e({gizmo:e,user_id:t}){return e.gizmo.author.user_id===t?!0:e.gizmo.sharing.subjects.some(n=>n.type===Yt.USER&&n.user_id===t)}const t7e=e=>Me(e,"3769650838"),w1={},RSe=["added","updated","removed"];let zF=!1;function xSe(e,t){zF||(zF=!0,t.getQueryCache().subscribe(n=>{var s,i;const r=n.query.queryHash;if(n.query.state.status==="success"&&r in w1&&RSe.includes(n.type)){const{cacheKey:o,cacheVersion:a}=w1[r];toe((i=(s=V_e(e))==null?void 0:s.id)!=null?i:null,o,n.query.state.data,a)}}))}function MSe(e,t,n,r,s){xSe(e,t),w1[dg(n)]={cacheKey:r,cacheVersion:s}}function Lv(e,t,n){"use forget";const r=W.c(5),s=Fg(),i=ce();if(!s)return;let o;return r[0]!==e||r[1]!==t||r[2]!==i||r[3]!==n?(o=G7(i,e,t,n),r[0]=e,r[1]=t,r[2]=i,r[3]=n,r[4]=o):o=r[4],o}function G7(e,t,n,r){const s=st(e),i=on(e);return MSe(e,i,r,t,n),()=>{var a;const o=eoe((a=s==null?void 0:s.id)!=null?a:null,t,n);if(o!=null)return o}}function kSe(e,t){var r,s,i;const n=(i=(s=(r=_a(e))==null?void 0:r.account)==null?void 0:s.id)!=null?i:null;noe(n,t)}const LSe="q",n7e="disable_auto_send",r7e="author",W7="owner_user_id",YF="tab";function s7e(e,t={}){const{gizmo:n,project:r,ownerUserId:s,accountUserId:i,superWidgetTab:o}=t;if(n&&r)throw new Error("Cannot provide both GPT and project");if(n&&!LI(n.gizmo.id))throw new Error("Invalid gizmo ID");if(r&&!Qs(r.id))throw new Error("Invalid project ID ".concat(r.id));const a=new URLSearchParams;if(r&&s&&s!==i){a.set(W7,s),o&&a.set(YF,o);const d="".concat(Cc(KF(r)),"/shared/c/").concat(e,"?").concat(a.toString());return vf(d).toString()}let c="/c/".concat(e);r?c="".concat(Cc(KF(r)),"/c/").concat(e):n&&(c="".concat(Cc(Ff(n)),"/c/").concat(e)),o&&a.set(YF,o);const l=a.toString(),u=l?"".concat(c,"?").concat(l):c;return vf(u).toString()}function i7e(e,t,n){const r="".concat(Cc(Ff(t)),"/shared/c/").concat(e,"?").concat(W7,"=").concat(n);returnwindow.location.origin.concat(r)}function Ff(e){var t,n;return(n=(t=e.gizmo.short_url)!=null?t:e.gizmo.id)!=null?n:"-"}function KF(e){var t,n;return(n=(t=e.short_url)!=null?t:e.id)!=null?n:"-"}function Cc(e){return"/g/".concat(e)}function o7e(){return"/gpts"}function a7e(){return"/schedules"}function c7e(){return"/gpts/mine"}function H7(e){return e?"/gpts/editor/".concat(e):"/gpts/editor"}function l7e(e){const t=DSe();return e==null?t:H7(e)}function DSe(e){return H7(e)}function FSe(e){if(!e)return null;try{return new URL(e).hostname}catch(t){return null}}function u7e(e){const t=FSe(e);return t?t.replace(/^www\./,""):e}const Dv="client-correlated-secret";function XF(){const e=localStorage.getItem(Dv);return e==null?e:crypto.subtle.importKey("jwk",JSON.parse(e),{name:"HMAC",hash:{name:"SHA-512"}},!0,["sign","verify"])}async function $7(){XF()==null&&localStorage.setItem(Dv,JSON.stringify(await crypto.subtle.exportKey("jwk",await crypto.subtle.generateKey({name:"HMAC",hash:{name:"SHA-512"}},!0,["sign","verify"]))));const t=XF();if(t==null)throw new Error("Failed to get key from storage");return t}function USe(e){const t=new Uint8Array(e.length/2);for(let n=0;n<t.length;n++)t[n]=parseInt(e.substr(n*2,2),16);return t.buffer}function jSe(e){return[...new Uint8Array(e)].map(t=>t.toString(16).padStart(2,"0")).join("")}function BSe(e){const t=new URL(e),n=rn({queryKey:[Dv,"generate-challenge",e.search],queryFn:async()=>jSe(await crypto.subtle.sign("HMAC",await $7(),new TextEncoder().encode(e.search))),staleTime:0});if(n.data!==void 0)return t.hash=n.data,t}function d7e(){const e=location==null?void 0:location.search,t=location==null?void 0:location.hash;return rn({queryKey:[Dv,"verify-challenge",e,t],queryFn:async()=>typeof e!="string"||typeof t!="string"?!1:crypto.subtle.verify("HMAC",await $7(),USe(t.slice(1)),new TextEncoder().encode(e))}).data?new URLSearchParams(e):void 0}class Ht{static getMyGizmos(){return Ze("gizmo_api.get_my_gizmos",()=>Ye.get("".concat(Ve,"/gizmos?mine=true")))}static getGizmosByUser(t){return Ze("gizmo_api.get_gizmos_by_user",()=>Ye.get("".concat(Ve,"/gizmos/u/").concat(t)))}static getGizmo(t,n){const r=n?"?draft=true":"";return Ze("gizmo_api.get_gizmo",()=>Ye.get("".concat(Ve,"/gizmos/").concat(t).concat(r)))}static getGizmoPublic(t){return Ze("gizmo_api.get_gizmo_public",()=>_oe.safeGet("/gizmos/{gizmo_id_or_short_url}",{parameters:{path:{gizmo_id_or_short_url:t}},authOption:en.Anonymous}))}static shareGizmo(t,n){return Ze("gizmo_api.share",()=>Ye.post("".concat(Ve,"/gizmos/").concat(t,"/share"),n))}static getGizmoDiscovery(t,n){const r=new URLSearchParams;return t!=null&&r.set("locale",t),Ze("gizmo_api.discovery",()=>Ye.get(n?"".concat(h_,"/gizmos/discovery_anon?").concat(r):"".concat(h_,"/gizmos/discovery?").concat(r),{authOption:en.SendIfAvailable}))}static async getGizmoDiscoveryCut(t,n){const r=i=>{const o={};i!=null&&(o.cursor=i),(n==null?void 0:n.limit)!=null&&(o.limit="".concat(n.limit)),(n==null?void 0:n.locale)!=null&&(o.locale=n.locale);const a="".concat(h_,"/gizmos/discovery/").concat(t);return Ze("gizmo_api.discovery",()=>Ye.get(a,{params:o,authOption:en.SendIfAvailable}))},s=await r(n==null?void 0:n.cursor);return s.list.items.length===0&&s.list.cursor!=null?(await new Promise(i=>setTimeout(i,Math.random()*30)),await r(s.list.cursor)):s}static getGizmoBootstrap(t){return Ze("gizmo_api.bootstrap",()=>Ye.get("".concat(Ve,"/gizmos/bootstrap?limit=").concat(t)))}static getGizmoPinned(){return Ze("gizmo_api.pinned",()=>Ye.get("".concat(Ve,"/gizmos/pinned")))}static getGizmoSearch(t,n=null){return n?Ze("gizmo_api.search_with_cursor",()=>Ye.get("".concat(Ve,"/gizmos/search?q=").concat(t,"&cursor=").concat(n," "))):Ze("gizmo_api.search",()=>Ye.get("".concat(Ve,"/gizmos/search?q=").concat(t)))}static getGizmoSearchForWorkspace(t,n=null){return n?Ze("gizmo_api.search_workspace_cursor",()=>Ye.get("".concat(Ve,"/gizmos/search?q=").concat(t,"&workspace_only=true&cursor=").concat(n))):Ze("gizmo_api.search_workspace",()=>Ye.get("".concat(Ve,"/gizmos/search?q=").concat(t,"&workspace_only=true")))}static async postGizmoAppeal(t,n,r,s,i){await Ze("gizmo_api.appeal",()=>Ye.post("".concat(Ve,"/gizmos/").concat(n,"/appeal"),{reason:r,share_recipient:s,categories:i})),await t.invalidateQueries({queryKey:["gizmo",{gizmoId:n}]})}static async postGizmoCancelAppeal(t,n){await Ze("gizmo_api.cancel_appeal",()=>Ye.post("".concat(Ve,"/gizmos/").concat(n,"/cancel_appeal"),{})),await t.invalidateQueries({queryKey:["gizmo",{gizmoId:n}]})}static upsertDraft(t,n){return n!==void 0?Ze("gizmo_api.upsert_gizmo",()=>Ye.post("".concat(Ve,"/gizmos?gizmo_id=").concat(n),t)):Ze("gizmo_api.upsert_gizmo",()=>Ye.post("".concat(Ve,"/gizmos"),t))}static promoteDraft(t,n){return Ze("gizmo_api.promote",()=>Ye.post("".concat(Ve,"/gizmos/").concat(n,"/promote"),t))}static deleteGizmo(t){return Ze("gizmo_api.delete_gizmos",()=>Y.safeDelete("/gizmos/{gizmo_id}",{parameters:{path:{gizmo_id:t}}}))}static getBuilderProfile(){return Ze("gizmo_api.gizmo_creator_profile",()=>Ye.get("".concat(Ve,"/gizmo_creator_profile")))}static updateBuilderProfile(t){return Ze("gizmo_api.gizmo_creator_profile",()=>Ye.post("".concat(Ve,"/gizmo_creator_profile"),t))}static unverifySocialAuth(t){return Ze("gizmo_api.delete_socials",()=>Y.safeDelete("/gizmo_creator_profile/socials/{verifier_type}",{parameters:{path:{verifier_type:t}}}))}static async updateGizmoSidebar(t,n,r,s,i){const o=await Ze("gizmo_api.update_sidebar",()=>Ye.post("".concat(Ve,"/gizmos/").concat(r,"/sidebar"),{action:s}));switch(s){case"keep":ve.logEvent("Sidebar Gizmo Keep",{location:i}),n.handleGizmoSidebarKeep(t,r);break;case"hide":ve.logEvent("Sidebar Gizmo Hide",{location:i}),n.handleGizmoSidebarHide(t,r);break}return o}static async removeFromRecent(t,n){const r=await Ze("gizmo_api.remove_recent",()=>Ye.post("".concat(Ve,"/gizmos/").concat(n,"/remove_recent"),{}));return t.invalidateQueries({queryKey:["gizmos","bootstrap"]}),t.invalidateQueries({queryKey:["gizmos","discovery"]}),r}static fetchOpenAPISpec(t){return Ze("gizmo_api.fetch_openapi",()=>Ye.post("".concat(Ve,"/gizmos/fetch_openapi"),{url:t}))}static validateOpenAPISpec(t){return Ze("gizmo_api.validate_openapi",()=>Ye.post("".concat(Ve,"/gizmos/validate_openapi"),{raw_spec:t}))}static transformToOpenAPISpec(t,n){return Ze("gizmo_api.transform_openapi",()=>Ye.post("".concat(Ve,"/gizmos/transform_openapi"),I(b({},t),{auth:n})))}static async doOAuthRedirect(t,n,r,s,i){const o=await Ze("gizmo_api.oauth_redirect",()=>Ye.post("".concat(Ve,"/gizmos/oauth_redirect"),{gizmo_id:t,gizmo_action_id:n,domain:r,redirect_to:s,draft:i}));window.location.href=o.redirect_uri}static async upsertUserActionSettings(t,n,r){return Ze("gizmo_api.action_settings",()=>Ye.post("".concat(Ve,"/gizmos/action_settings"),{gizmo_action_id:t,domain:n,action_settings:r}))}static async getUserActionSettings(t){return Ze("gizmo_api.user_action_settings",()=>Ye.get("".concat(Ve,"/gizmos/user_action_settings?gizmo_id=").concat(t)))}static async generateCategory(t,n){return Ze("gizmo_api.gen_category",()=>Ye.post("".concat(Ve,"/gizmos/gen_category"),{name:t,instructions:n}))}static async getConversations(t,n=null){return Ze("gizmo_api.conversations",()=>Ye.get("".concat(Ve,"/gizmos/").concat(t,"/conversations"),{params:b({},n?{cursor:n}:{})}))}static async getProjectConversations(t,n=null){return Ze("gizmo_api.conversations",()=>Ye.get("".concat(Ve,"/gizmos/").concat(t,"/conversations"),{params:b({},n?{cursor:n}:{})}))}static async getCategories(){return Ze("gizmo_api.categories",()=>Ye.get("".concat(Ve,"/gizmos/categories")))}static async getUserReview(t){return Ze("gizmo_api.get_gizmo_reviews",()=>Ye.get("".concat(Ve,"/gizmo_reviews/").concat(t)))}static async upsertUserReview(t,n,r,s){return Ze("gizmo_api.upsert_gizmo_reviews",()=>Ye.post("".concat(Ve,"/gizmo_reviews/").concat(t),{rating:n,message:r,include_from:s}))}static async sendFeedbackEmail(t,n,r){return Ze("gizmo_api.feedback",()=>Ye.post("".concat(Ve,"/gizmos/").concat(t,"/feedback"),{message:n,include_from:r}))}static async getAbout(t){return Ze("gizmo_api.about",()=>Ye.get("".concat(Ve,"/gizmos/").concat(t,"/about")))}static async getCreatorSlice({creatorId:t}){return Ze("gizmo_api.gizmo_creators",()=>Ye.get("".concat(Ve,"/gizmo_creators/").concat(t,"/gizmos")))}static async getVersion({gizmoId:t,version:n}){return n==null?Ze("gizmo_api.latest_version",()=>Ye.get("".concat(Ve,"/gizmos/").concat(t,"/version/latest"))):Ze("gizmo_api.version",()=>Ye.get("".concat(Ve,"/gizmos/").concat(t,"/version/").concat(n)))}static async listVersions({gizmoId:t,limit:n,cursor:r}){const s={};return n&&(s.limit=n),r&&(s.cursor=r),Ze("gizmo_api.versions",()=>Ye.get("".concat(Ve,"/gizmos/").concat(t,"/versions"),{params:s}))}static async copyGizmo({gizmoId:t}){return Ze("gizmo_api.copy",()=>Ye.post("".concat(Ve,"/gizmos/").concat(t,"/copy")))}}async function Ze(e,t){return K.addAction("".concat(e,".start")),t().catch(n=>{throw K.addAction("".concat(e,".failure"),{error:n}),n})}async function GSe(){const e=await Y.safeGet("/me",{authOption:en.SendIfAvailable});return{id:e.id,email:e.email,name:e.name,picture:e.picture,created:e.created,phone_number:e.phone_number,first_name:e.first_name,email_domain_type:["government","professional","education","social","unknown","missing"].includes(e.email_domain_type)?e.email_domain_type:"unknown"}}const DI=ln({queryKey:["user"],queryFn:GSe,staleTime:1/0}),WSe=Ie(e=>qt(e,()=>DI));function f7e(){"use forget";const e=W.c(2),t=ce();let n;return e[0]!==t?(n=()=>WSe(t).data,e[0]=t,e[1]=n):n=e[1],Le(n)}const HSe={currentWorkspace:null,subscriptionStatus:null,workspaces:[]};function $Se(e){"use forget";const t=W.c(3),n=ce();let r;return t[0]!==n||t[1]!==e?(r=()=>{const s=(()=>{var a,c;const{data:i}=jh(n);if(i==null)return HSe;const o=Hr(n);return{currentWorkspace:(a=o==null?void 0:o.data)!=null?a:null,subscriptionStatus:(c=o==null?void 0:o.data.subscriptionStatus)!=null?c:null,workspaces:i.accountItems.map(qSe)}})();return e?e(s):s},t[0]=n,t[1]=e,t[2]=r):r=t[2],Le(r)}function qSe(e){return e.data}const h7e={isBusinessWorkspace:({currentWorkspace:e})=>e!=null?e.structure===rr.WORKSPACE:void 0,isEduPlan:({subscriptionStatus:e})=>Nh(e==null?void 0:e.planType),isEnterpriseyPlan:({subscriptionStatus:e})=>e!=null&&zg(e.planType),isTeamPlan:({subscriptionStatus:e})=>(e==null?void 0:e.planType)===ae.SELF_SERVE_BUSINESS,workspaceId:({currentWorkspace:e})=>e!=null?e.id:null,businessWorkspaceId:({currentWorkspace:e})=>(e==null?void 0:e.structure)===rr.WORKSPACE?e.id:void 0,workspaces:({workspaces:e})=>e,accountUserId:({currentWorkspace:e})=>e==null?void 0:e.accountUserId};function p7e(){"use forget";var e;return(e=mo())==null?void 0:e.data.subscriptionStatus.lastActiveSubscription}function _7e(e){return e.email_domain_type==="professional"||e.email_domain_type==="government"||e.email_domain_type==="unknown"}function m7e(e){return e.email_domain_type==="professional"||e.email_domain_type==="unknown"}const FI=e=>{var c,l;const t=ce(),n=mo(),r=n==null?void 0:n.getWorkspaceId(),s=bSe(t),{data:i,isLoading:o}=iI(r);if(!(n!=null&&n.isWorkspaceAccount()))return{hasWorkspacePermission:!0,isLoading:!1};const a=(l=(c=i==null?void 0:i.permissions)==null?void 0:c.includes(e))!=null?l:!1;return{hasWorkspacePermission:s?a:!0,isLoading:o}},g7e=()=>{const e=mo(),{hasWorkspacePermission:t,isLoading:n}=FI(Sa.CrudGPT);return{canCreate:((e==null?void 0:e.hasPaidFeatures())||(e==null?void 0:e.isFreeWorkspace()))&&t,isLoading:n}};function v7e(e){var s,i;const{hasWorkspacePermission:t,isLoading:n}=FI(Sa.CrudGPT);return{canDelete:(i=t&&((s=e==null?void 0:e.gizmo.current_user_permission)==null?void 0:s.can_delete))!=null?i:!1,isLoading:n}}function y7e(e){var s,i;const{hasWorkspacePermission:t,isLoading:n}=FI(Sa.CrudGPT);return{canEdit:(i=t&&((s=e==null?void 0:e.gizmo.current_user_permission)==null?void 0:s.can_write))!=null?i:!1,isLoading:n}}function E7e(e){var t,n;return{canViewConfig:(n=(t=e.gizmo.current_user_permission)==null?void 0:t.can_view_config)!=null?n:!1}}function VSe(e,t,n){const r=t==null?void 0:t.name;switch(e){case _t.Link:return n.formatMessage(Hp.privacyAnyoneWithLink);case _t.Private:return n.formatMessage(Hp.privacyOnlyMe);case _t.Group:case _t.User:return n.formatMessage({id:"B9pJ5o",defaultMessage:"Invite only"});case _t.Marketplace:return n.formatMessage(Hp.privacyMarketplace);case _t.Workspace:return n.formatMessage(Hp.privacyWorkspace,{workspaceName:r});case _t.WorkspaceLink:return n.formatMessage({id:"T5Eek0",defaultMessage:"Anyone at {workspaceName} with the link"},{workspaceName:r})}}function C7e(e){const t=ft(),n=$Se(r=>r.currentWorkspace);return VSe(e,n,t)}function zSe(e){return"gizmo"in e}function YSe(e){return"id"in e}function S7e(e){return"".concat(e.replaceAll(".","_").replaceAll("-","_"),"__jit_plugin")}const Hp=At({privacyOnlyMe:{id:"gizmo.privacyOnlyMe",defaultMessage:"Only me"},privacyAnyoneWithLink:{id:"gizmo.privacyAnyoneWithLink",defaultMessage:"Anyone with a link"},privacyWorkspace:{id:"gizmo.privacyWorkspace",defaultMessage:"Anyone at {workspaceName}"},privacyMarketplace:{id:"gizmo.privacyMarketplace",defaultMessage:"Everyone"}}),b7e="GPT Builder",q7="gizmo-bootstrap",V7=1;function T7e(e){if(e)return"ChatGPT - ".concat(e)}function O7e(e){returnwindow.location.origin.concat(Cc(e))}function z7(e,t){return Me(e,"491279851")&&Qs(t.gizmo.id)?vf("".concat(Cc(Ff(t)),"/project")):vf(Cc(Ff(t)))}function A7e(e,t,n){"use forget";const r=W.c(4);let s;if(r[0]!==e||r[1]!==t||r[2]!==n){const i=z7(e,t);s=new URL(i,window.location.origin),n!=null&&s.searchParams.set(LSe,n),r[0]=e,r[1]=t,r[2]=n,r[3]=s}else s=r[3];return BSe(s)}function w7e(e){return"/g/".concat(Ff(e))}function N7e(e){return zSe(e)&&e.gizmo.live_version===0||YSe(e)&&e.liveVersion===0}function I7e(e,t){"use forget";const n=W.c(3);let r;return n[0]!==t||n[1]!==e?(r={queryKey:["gizmos","discovery",{locale:e,isAnon:t}],queryFn:()=>Ht.getGizmoDiscovery(e,t)},n[0]=t,n[1]=e,n[2]=r):r=n[2],rn(r)}function P7e(e){"use forget";const t=W.c(10),{cutId:n,locale:r,limit:s,cursor:i,enabled:o}=e,a=o===void 0?!0:o;let c,l;t[0]!==n||t[1]!==s||t[2]!==r?(c=["gizmos","discovery",{cutId:n,locale:r,limit:s}],l=d=>{const{pageParam:f}=d;return Ht.getGizmoDiscoveryCut(n,{locale:r,cursor:f,limit:s})},t[0]=n,t[1]=s,t[2]=r,t[3]=c,t[4]=l):(c=t[3],l=t[4]);let u;return t[5]!==i||t[6]!==a||t[7]!==c||t[8]!==l?(u={queryKey:c,queryFn:l,initialPageParam:i,getNextPageParam:KSe,enabled:a},t[5]=i,t[6]=a,t[7]=c,t[8]=l,t[9]=u):u=t[9],zc(u)}function KSe(e){var t;return(t=e.list.cursor)!=null?t:void 0}const R7e=Ie(e=>qt(e,()=>ln({queryKey:["gizmos","discovery",{cutId:"recent",limit:20}],queryFn:()=>Ht.getGizmoDiscoveryCut("recent",{limit:20}),enabled:yt()}))),x7e=Ie(e=>qt(e,()=>ln({queryKey:["gizmos","pinned"],enabled:yt(),queryFn:Ht.getGizmoPinned})));function Sc(e=2){return ln({queryKey:["gizmos","bootstrap"],experimental_prefetchInRender:!0,queryFn:async()=>Ht.getGizmoBootstrap(e).then(t=>(K.addFirstTiming("load.gizmoBootstrap"),{gizmos:Object.values(t).flat().filter(r=>r).filter(r=>{var s;return((s=r.resource.gizmo)==null?void 0:s.gizmo_type)!==Wm.PROJECT}).map(r=>({resource:r.resource,flair:r.flair}))}))})}const M7e=Ie(e=>qt(e,Sc));function k7e(){"use forget";const e=W.c(5),t=ce(),r=Me(t,"1524046265")?20:2;let s;e[0]!==r?(s=Sc(r),e[0]=r,e[1]=s):s=e[1];const i=s,o=Lv(q7,V7,i.queryKey);let a;return e[2]!==o||e[3]!==i?(a=I(b({},i),{initialData:o}),e[2]=o,e[3]=i,e[4]=a):a=e[4],rn(a)}function L7e(){"use forget";const e=W.c(5),t=ce(),r=Me(t,"1524046265")?20:2;let s;e[0]!==r?(s=Sc(r),e[0]=r,e[1]=s):s=e[1];const i=s,o=Lv(q7,V7,i.queryKey);let a;return e[2]!==o||e[3]!==i?(a=I(b({},i),{initialData:o}),e[2]=o,e[3]=i,e[4]=a):a=e[4],dG(a)}function JF(e,t){const n=e.filter(s=>s.resource.gizmo.id!==t.resource.gizmo.id);let r=n.findIndex(s=>s.flair.kind===Gl.Recent);return r===-1&&(r=n.length),n.splice(r,0,t),n}const D7e={handleGizmoInteracted(e,t){const n=e.getQueryData(_n(e,t).queryKey);n==null||Qs(t)||e.setQueryData(Sc().queryKey,r=>{if(r==null)return r;const s=r.gizmos.find(i=>i.resource.gizmo.id===t);return(s==null?void 0:s.flair.kind)===Gl.FirstParty||(s==null?void 0:s.flair.kind)===Gl.SidebarKeep?r:{gizmos:JF(r.gizmos,{resource:n,flair:{kind:Gl.Recent}})}})},handleGizmoSidebarKeep(e,t){const n=e.getQueryData(_n(e,t).queryKey);n!=null&&e.setQueryData(Sc().queryKey,r=>r==null?r:{gizmos:JF(r.gizmos,{resource:n,flair:{kind:Gl.SidebarKeep}})})},handleGizmoSidebarHide(e,t){e.setQueryData(Sc().queryKey,n=>n!=null&&n.gizmos.some(r=>r.resource.gizmo.id===t)?{gizmos:n.gizmos.filter(r=>r.resource.gizmo.id!==t)}:n)}},XSe=Ks((e,t)=>qt(e,()=>_n(on(e),t,!1,!yt()))),F7e=Ks((e,t)=>qt(e,()=>_n(on(e),t,!0,!yt())));function U7e(e,t){"use forget";const n=W.c(7),r=t===void 0?!1:t,s=Kt(),i=ce();let o;n[0]!==i?(o=yt(),n[0]=i,n[1]=o):o=n[1];const a=!o;let c;return n[2]!==r||n[3]!==e||n[4]!==a||n[5]!==s?(c=_n(s,e,r,a),n[2]=r,n[3]=e,n[4]=a,n[5]=s,n[6]=c):c=n[6],rn(c)}function j7e(e){"use forget";const t=W.c(3),n=Kt();let r;return t[0]!==e||t[1]!==n?(r=_n(n,e),t[0]=e,t[1]=n,t[2]=r):r=t[2],rn(r)}const B7e=e=>{"use forget";const t=W.c(9),{gizmoId:n,limit:r,cursor:s}=e;let i;t[0]!==s||t[1]!==n||t[2]!==r?(i=["gizmo","versions",{gizmoId:n,limit:r,cursor:s}],t[0]=s,t[1]=n,t[2]=r,t[3]=i):i=t[3];let o;t[4]!==n?(o=()=>Ht.listVersions({gizmoId:n}),t[4]=n,t[5]=o):o=t[5];let a;return t[6]!==i||t[7]!==o?(a={queryKey:i,queryFn:o},t[6]=i,t[7]=o,t[8]=a):a=t[8],rn(a)};function G7e(e){"use forget";const t=W.c(5),{gizmoId:n,draft:r,version:s}=e,i=Kt();let o;return t[0]!==r||t[1]!==n||t[2]!==i||t[3]!==s?(o=s?{queryKey:["gizmo","version",{gizmoId:n,version:s}],queryFn:()=>Ht.getVersion({gizmoId:n,version:s}),enabled:n!=null}:_n(i,n,r),t[0]=r,t[1]=n,t[2]=i,t[3]=s,t[4]=o):o=t[4],rn(o)}function W7e(e,t){"use forget";const n=W.c(7);let r,s;n[0]!==e?(r=["gizmo","userActionSettings",{gizmoId:e}],s=()=>Ht.getUserActionSettings(e),n[0]=e,n[1]=r,n[2]=s):(r=n[1],s=n[2]);const i=e!=null&&t;let o;return n[3]!==r||n[4]!==s||n[5]!==i?(o={queryKey:r,queryFn:s,enabled:i},n[3]=r,n[4]=s,n[5]=i,n[6]=o):o=n[6],rn(o)}function _n(e,t,n=!1,r=!1){return ln({queryKey:["gizmo",{gizmoId:t},{draft:n}],queryFn:async()=>r?Ht.getGizmoPublic(t):Ht.getGizmo(t,n),enabled:t!=null,initialData:()=>{var o,a;if(n===!0)return;const s=e.getQueryData(Sc().queryKey);if(s!=null)return(o=s.gizmos.find(c=>c.resource.gizmo.id===t))==null?void 0:o.resource;const i=e.getQueryData(["gizmos","discovery"]);if(i!=null)for(const c of i.cuts){const l=(a=c.list.items.find(u=>u.resource.gizmo.id===t))==null?void 0:a.resource;if(l!=null)return l}}})}function H7e(e,t){return e.fetchQuery(_n(e,t))}function $7e(e){"use forget";const t=W.c(7);let n,r;t[0]!==e?(n=["gizmo",{search:e}],r=()=>Ht.getGizmoSearch(e),t[0]=e,t[1]=n,t[2]=r):(n=t[1],r=t[2]);const s=e.length>0;let i;return t[3]!==n||t[4]!==r||t[5]!==s?(i={queryKey:n,queryFn:r,enabled:s},t[3]=n,t[4]=r,t[5]=s,t[6]=i):i=t[6],rn(i)}function q7e(e,t){"use forget";const n=W.c(7);let r,s;n[0]!==e?(r=["gizmo-search-workspace",{search:e}],s=()=>Ht.getGizmoSearchForWorkspace(e),n[0]=e,n[1]=r,n[2]=s):(r=n[1],s=n[2]);const i=e.length>0&&t;let o;return n[3]!==r||n[4]!==s||n[5]!==i?(o={queryKey:r,queryFn:s,enabled:i},n[3]=r,n[4]=s,n[5]=i,n[6]=o):o=n[6],rn(o)}function V7e(e,t,n,r){"use forget";const s=W.c(14),i=t===void 0?!1:t,o=n===void 0?!1:n,a=r===void 0?null:r,c=o?"gizmo-search-workspace":"gizmo";let l;s[0]!==a||s[1]!==e?(l={query:e,cursor:a},s[0]=a,s[1]=e,s[2]=l):l=s[2];let u;s[3]!==c||s[4]!==l?(u=[c,l],s[3]=c,s[4]=l,s[5]=u):u=s[5];let d;s[6]!==e||s[7]!==o?(d=h=>{const{pageParam:p}=h;return o?Ht.getGizmoSearchForWorkspace(e,p):Ht.getGizmoSearch(e,p)},s[6]=e,s[7]=o,s[8]=d):d=s[8];let f;return s[9]!==a||s[10]!==i||s[11]!==u||s[12]!==d?(f={queryKey:u,queryFn:d,initialPageParam:a,getNextPageParam:JSe,enabled:i},s[9]=a,s[10]=i,s[11]=u,s[12]=d,s[13]=f):f=s[13],zc(f)}function JSe(e){var t;return(t=e.cursor)!=null?t:void 0}function z7e(){"use forget";const e=W.c(2),t=Kt();let n;return e[0]!==t?(n={mutationFn:QSe,onSettled:r=>{r&&(t.setQueryData(_n(t,r.gizmo.id,!0).queryKey,r),t.invalidateQueries({queryKey:["gizmos","mine"],refetchType:"none"}))}},e[0]=t,e[1]=n):n=e[1],tn(n)}function QSe(e){const{gizmoId:t,editorData:n}=e,{instructions:r,name:s,description:i,emoji:o,theme:a,profilePictureId:c,profilePictureUrl:l,promptStarters:u,tools:d,files:f,defaultModel:h,trainingDisabled:p}=n,_={instructions:r,display:{name:s,description:i,emoji:o,theme:a,profile_pic_id:c,profile_picture_url:l,prompt_starters:u},tools:d,files:f.map(ZSe),training_disabled:p,default_model:h!=null?h:void 0};return Ht.upsertDraft(_,t)}function ZSe(e){return I(b({},e),{location:xI.FILE_SERVICE})}function Y7e(){"use forget";const e=W.c(2),t=Kt();let n;return e[0]!==t?(n={mutationFn:ebe,onSettled:r=>{t.invalidateQueries({queryKey:["gizmos"],refetchType:"all"}),t.invalidateQueries({queryKey:["gizmos","pinned"],refetchType:"none"}),r&&t.setQueryData(_n(t,r.gizmo.id,!1).queryKey,r)}},e[0]=t,e[1]=n):n=e[1],tn(n)}async function ebe(e){const{gizmoId:t,data:n}=e,{sharingRecipient:r,categories:s}=n,i=await Ht.promoteDraft({sharing:n.sharingSubjects&&n.sharingSubjects.length>0?n.sharingSubjects:{recipient:r},categories:s},t);if(i.error)throw new j7(i);return i.resource}function K7e(){"use forget";const e=W.c(2),t=Kt();let n;return e[0]!==t?(n={mutationFn:tbe,onSettled:()=>{t.invalidateQueries({queryKey:["gizmos"],refetchType:"all"})}},e[0]=t,e[1]=n):n=e[1],tn(n)}async function tbe(e){const{gizmoId:t}=e;return Ht.deleteGizmo(t)}function X7e(){"use forget";const e=W.c(7),t=Kt(),n=Hn();let r;e[0]!==t?(r=o=>{t.setQueryData(["builderProfile"],o)},e[0]=t,e[1]=r):r=e[1];let s;e[2]!==n?(s=o=>{n.warning(o.message)},e[2]=n,e[3]=s):s=e[3];let i;return e[4]!==r||e[5]!==s?(i={mutationFn:nbe,onSuccess:r,onError:s},e[4]=r,e[5]=s,e[6]=i):i=e[6],tn(i)}function nbe(e){const{name:t,hideName:n,websiteUrl:r,willReceiveSupportEmails:s}=e;return Ht.updateBuilderProfile({name:t,hide_name:n,website_url:r,will_receive_support_emails:s})}function J7e(){"use forget";const e=W.c(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t={queryKey:["builderProfile"],queryFn:rbe},e[0]=t):t=e[0],rn(t)}function rbe(){return Ht.getBuilderProfile()}function Q7e(){"use forget";const e=W.c(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t={mutationFn:sbe},e[0]=t):t=e[0],tn(t)}function sbe(e){const{gizmoId:t}=e;return Ht.copyGizmo({gizmoId:t})}function Z7e(){"use forget";const e=W.c(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t={queryKey:["gizmoCategories"],queryFn:ibe},e[0]=t):t=e[0],rn(t)}function ibe(){return Ht.getCategories()}function e8e(e,t,n){const r=Me(e,"2632917233");return!!(n!=null&&[Ls.PrimaryAssistant,Ls.GizmoInteraction].includes(n)&&(r||t!=null&&t.includes(iW.GPT_4)))}function t8e(e,t){"use forget";const n=W.c(12),r=Kt(),s=Hn();let i;n[0]!==e?(i=async l=>{const{rating:u,message:d,includeFrom:f}=l;await Ht.upsertUserReview(e,u,d,f)},n[0]=e,n[1]=i):i=n[1];let o;n[2]!==e||n[3]!==t||n[4]!==r?(o=()=>{r.invalidateQueries({queryKey:["gizmo","review",{gizmoId:e}]})},n[2]=e,n[3]=t,n[4]=r,n[5]=o):o=n[5];let a;n[6]!==s?(a=l=>{s.danger(l.message,{toastId:"gizmo_review_error",loggingTitle:"useUpsertUserReviewMutation",loggingDescription:l.message})},n[6]=s,n[7]=a):a=n[7];let c;return n[8]!==i||n[9]!==o||n[10]!==a?(c={mutationFn:i,onSuccess:o,onError:a},n[8]=i,n[9]=o,n[10]=a,n[11]=c):c=n[11],tn(c)}function UI(e,t){if(t!=null)return e.models.get(t)}function obe(e){return UI(e,e.defaultModelSlug)}const w_=ct(e=>{var o;const t=yt(),n=(o=st(e))==null?void 0:o.hasPaidFeatures(),r=!1,s=["5.1","5"],i=t?n?[QF(e,s[0]),...s.flatMap((a,c)=>[ube(a,c===0),dbe(a,c===0),fbe(a,c===0)]),hbe()]:[lbe(),QF(e,"5.1")]:[cbe()];return{title:n?r?"GPT-5.2":"GPT-5.1":"ChatGPT",secondaryTitle:"",modelPickerVersion:t?2:1,defaultModelSlug:Y7(e),categories:i,groups:[],models:abe(pbe(e),...s.flatMap(a=>[_be(e,a),mbe(e,a),gbe(e,a),Ebe(a)]),vbe(e),ybe(e),Cbe(e),Sbe(e),bbe(e),Tbe(e),Obe(e))}});function Bs(e){return e.replace(".","-")}function jI(e){return e.replace(".","_")}function Y7(e){var r;return((r=st(e))==null?void 0:r.hasPaidFeatures())?!1?"gpt-5-2":"gpt-5-1":"auto"}function abe(...e){return new Map(e.map(t=>[t.id,t]))}const cbe=()=>({categoryId:"auto",color:"#000000",defaultModel:"auto",description:"",label:"Auto",shortLabel:"",shorterLabel:"",tagline:"",subscriptionLevel:ma.FREE,renderHeaderType:ga.SHORT_LABEL,supportedFeatures:[Fe.ATTACHMENT,Fe.AUDIO,Fe.CUSTOM_INSTRUCTIONS,Fe.GIZMO_PROJECT,Fe.IMAGE,Fe.TARGETED_REPLY,Fe.TOOL_SEARCH,Fe.TOOL_USE],supportedModels:[],slashCommandEnabled:!0,disabledByAdmin:!1}),lbe=()=>({categoryId:"auto_acd64",color:"#000000",defaultModel:"auto",description:"",label:"Auto",shortLabel:"",shorterLabel:"",tagline:"",subscriptionLevel:ma.FREE,renderHeaderType:ga.SHORT_LABEL,supportedFeatures:[Fe.AUDIO,Fe.CUSTOM_INSTRUCTIONS,Fe.GIZMO_PROJECT,Fe.TARGETED_REPLY,Fe.TOOL_SEARCH,Fe.TOOL_USE],supportedModels:[],slashCommandEnabled:!0,disabledByAdmin:!1}),QF=(e,t)=>{var n;return{categoryId:"gpt_5_auto",color:"#5B41F9",defaultModel:"gpt-".concat(Bs(t)),description:"",label:(n=st(e))!=null&&n.hasPaidFeatures()?"Auto":"GPT-".concat(t),shortLabel:t,shorterLabel:t,tagline:"",subscriptionLevel:ma.FREE,renderHeaderType:ga.SHORT_LABEL,supportedFeatures:[Fe.ATTACHMENT,Fe.CANVAS_SUPPORTED,Fe.CUSTOM_INSTRUCTIONS,Fe.GIZMO_PROJECT,Fe.IMAGE,Fe.TARGETED_REPLY,Fe.TOOL_SEARCH,Fe.TOOL_USE],supportedModels:["gpt-".concat(Bs(t))],slashCommandEnabled:!1,disabledByAdmin:!1}},ube=(e,t)=>({categoryId:"gpt_".concat(jI(e),"_instant"),color:"#5B41F9",defaultModel:"gpt-".concat(Bs(e),"-instant"),description:"",label:t?"Instant":"GPT-".concat(e," Instant"),shortLabel:"".concat(e," Instant"),shorterLabel:"".concat(e," Instant"),subcategory:t?void 0:"Legacy models",tagline:"",subscriptionLevel:ma.PLUS,renderHeaderType:ga.SHORT_LABEL,supportedFeatures:[Fe.ATTACHMENT,Fe.CANVAS_SUPPORTED,Fe.CUSTOM_INSTRUCTIONS,Fe.GIZMO_PROJECT,Fe.IMAGE,Fe.TARGETED_REPLY,Fe.TOOL_SEARCH,Fe.TOOL_USE],supportedModels:["gpt-".concat(Bs(e),"-instant")],slashCommandEnabled:!1,disabledByAdmin:!1}),dbe=(e,t)=>({categoryId:"gpt_".concat(jI(e),"_reasoning"),color:"#5B41F9",defaultModel:"gpt-".concat(Bs(e),"-thinking"),description:"",label:t?"Thinking":"GPT-".concat(e," Thinking"),shortLabel:"".concat(e," Thinking"),shorterLabel:"".concat(e," Thinking"),subcategory:t?void 0:"Legacy models",tagline:"",subscriptionLevel:ma.PLUS,renderHeaderType:ga.SHORT_LABEL,supportedFeatures:[Fe.ATTACHMENT,Fe.CANVAS_SUPPORTED,Fe.CUSTOM_INSTRUCTIONS,Fe.GIZMO_PROJECT,Fe.IMAGE,Fe.TARGETED_REPLY,Fe.TOOL_SEARCH,Fe.TOOL_USE],supportedModels:["gpt-".concat(Bs(e),"-thinking")],slashCommandEnabled:!0,disabledByAdmin:!1}),fbe=(e,t)=>({categoryId:"gpt_".concat(jI(e),"_pro"),color:"#5B41F9",defaultModel:"gpt-".concat(Bs(e),"-pro"),description:"",label:t?"Pro":"GPT-".concat(e," Pro"),shortLabel:"".concat(e," Pro"),shorterLabel:"".concat(e," Pro"),subcategory:t?void 0:"Legacy models",tagline:"",subscriptionLevel:ma.PLUS,renderHeaderType:ga.SHORT_LABEL,supportedFeatures:[Fe.ATTACHMENT,Fe.CUSTOM_INSTRUCTIONS,Fe.GIZMO_PROJECT,Fe.IMAGE,Fe.TARGETED_REPLY,Fe.TOOL_USE],supportedModels:[],slashCommandEnabled:!0,disabledByAdmin:!1}),hbe=()=>({categoryId:"AG8PqS2q",color:"#00BCE5",defaultModel:"gpt-4o",description:"",label:"GPT-4o",shortLabel:"4o",shorterLabel:"4o",subcategory:"Legacy models",tagline:"",subscriptionLevel:ma.PLUS,renderHeaderType:ga.SHORT_LABEL,supportedFeatures:[Fe.ATTACHMENT,Fe.AUDIO,Fe.CANVAS_SUPPORTED,Fe.CUSTOM_INSTRUCTIONS,Fe.GIZMO_PROJECT,Fe.IMAGE,Fe.TARGETED_REPLY,Fe.TOOL_SEARCH,Fe.TOOL_USE],supportedModels:[],slashCommandEnabled:!0,disabledByAdmin:!1}),K7=(e,t)=>({id:t,maxTokens:10240,title:t,description:"",tags:[],product_features:{attachments:qr},enableInfer:!1,enableInferOptOut:!1,reasoningType:Jn.OFF,enabledTools:hs(e)}),pbe=e=>({id:"auto",maxTokens:yt()?16384:10240,title:"Auto",description:"",tags:["history_off_approved","gpt4","gpt4o"],product_features:{attachments:qr},enableInfer:!1,enableInferOptOut:!1,reasoningType:Jn.OFF,enabledTools:hs(e)}),_be=(e,t)=>{var n;return{id:"gpt-".concat(Bs(t)),maxTokens:(n=st(e))!=null&&n.hasPaidFeatures()?128e3:16384,title:"GPT ".concat(t),description:"",tags:["gpt4","history_off_approved"],product_features:{attachments:qr,contextual_answers:{is_eligible_for_contextual_answers:!0}},enableInfer:!1,enableInferOptOut:!1,reasoningType:Jn.AUTO,enabledTools:hs(e)}},mbe=(e,t)=>{var n;return{id:"gpt-".concat(Bs(t),"-instant"),maxTokens:(n=st(e))!=null&&n.hasPaidFeatures()?128e3:16384,title:"GPT ".concat(t," Instant"),description:"",tags:["gpt4","history_off_approved"],product_features:{attachments:qr,contextual_answers:{is_eligible_for_contextual_answers:!0}},enableInfer:!1,enableInferOptOut:!1,reasoningType:Jn.OFF,enabledTools:hs(e)}},gbe=(e,t)=>{var n;return{id:"gpt-".concat(Bs(t),"-thinking"),maxTokens:(n=st(e))!=null&&n.hasPaidFeatures()?4e5:16384,title:"GPT ".concat(t," Thinking"),description:"",tags:["history_off_approved"],product_features:{attachments:qr,contextual_answers:{is_eligible_for_contextual_answers:!0}},enableInfer:!1,enableInferOptOut:!1,reasoningType:Jn.ON,enabledTools:hs(e),configurableThinkingEffort:!0}},vbe=e=>{var t;return{id:"gpt-5-mini",maxTokens:(t=st(e))!=null&&t.hasPaidFeatures()?128e3:16384,title:"GPT-5-mini",description:"",tags:["gpt4o","gpt3.5","gpt4","history_off_approved"],product_features:{attachments:qr},enableInfer:!1,enableInferOptOut:!1,reasoningType:Jn.OFF,enabledTools:hs(e)}},ybe=e=>{var t;return{id:"gpt-5-t-mini",maxTokens:(t=st(e))!=null&&t.hasPaidFeatures()?196608:16384,title:"GPT-5 Thinking Mini",description:"",tags:["history_off_approved"],product_features:{attachments:qr,contextual_answers:{is_eligible_for_contextual_answers:!0}},enableInfer:!1,enableInferOptOut:!1,reasoningType:Jn.ON,enabledTools:hs(e)}},Ebe=e=>({id:"gpt-".concat(Bs(e),"-pro"),maxTokens:209608,title:"GPT ".concat(e," Pro"),description:"",tags:["history_off_approved"],product_features:{attachments:qr},enableInfer:!1,enableInferOptOut:!1,reasoningType:Jn.PRO,enabledTools:["tools","tools2","search"],configurableThinkingEffort:!0}),Cbe=e=>{var t;return{id:"gpt-4o",maxTokens:(t=st(e))!=null&&t.hasPaidFeatures()?128e3:10240,title:"GPT-4o",description:"",tags:["history_off_approved","gpt4","gpt4o"],product_features:{attachments:qr,contextual_answers:{is_eligible_for_contextual_answers:!0}},enableInfer:!1,enableInferOptOut:!1,reasoningType:Jn.OFF,enabledTools:hs(e)}},Sbe=e=>{var t;return{id:"gpt-4-1",maxTokens:(t=st(e))!=null&&t.hasPaidFeatures()?128e3:10240,title:"GPT-4.1",description:"",tags:["history_off_approved","gpt4"],product_features:{attachments:qr,contextual_answers:{is_eligible_for_contextual_answers:!0}},enableInfer:!1,enableInferOptOut:!1,reasoningType:Jn.OFF,enabledTools:hs(e)}},bbe=e=>({id:"gpt-4-1-mini",maxTokens:8191,title:"GPT-4.1-mini",description:"",tags:["gpt3.5","history_off_approved","gpt4","gpt4o"],product_features:{attachments:qr},enableInfer:!1,enableInferOptOut:!1,reasoningType:Jn.OFF,enabledTools:hs(e,{noCanvas:!0})}),Tbe=e=>({id:"o3",maxTokens:196608,title:"o3",description:"",tags:["history_off_approved"],product_features:{attachments:qr,contextual_answers:{is_eligible_for_contextual_answers:!0}},enableInfer:!1,enableInferOptOut:!1,reasoningType:Jn.ON,enabledTools:hs(e)}),Obe=e=>{var t;return{id:"o4-mini",maxTokens:(t=st(e))!=null&&t.hasPaidFeatures()?196608:16384,title:"o4-mini",description:"",tags:["history_off_approved"],product_features:{attachments:qr,contextual_answers:{is_eligible_for_contextual_answers:!0}},enableInfer:!1,enableInferOptOut:!1,reasoningType:Jn.ON,enabledTools:hs(e)}};function hs(e,t){var n;return["tools","tools2","search",t!=null&&t.noCanvas?null:"canvas",yt()?"image_gen_tool_enabled":"dalle_3",(n=st(e))!=null&&n.hasPaidFeatures()?"app_pairing":null].filter(r=>r!=null)}const qr={type:Ho.Retrieval,can_accept_all_mime_types:!0,image_mime_types:["image/png","image/gif","image/webp","image/jpeg"],accepted_mime_types:["application/javascript","application/json","application/msword","application/pdf","application/rtf","application/toml","application/vnd.apple.keynote","application/vnd.apple.pages","application/vnd.ms-powerpoint","application/vnd.oasis.opendocument.text","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/x-powershell","application/x-rust","application/x-scala","application/x-sql","application/x-yaml","message/rfc822","text/calendar","text/css","text/html","text/javascript","text/jsx","text/markdown","text/plain","text/rtf","text/tsx","text/vbscript","text/x-asm","text/x-astro","text/x-c","text/x-c++","text/x-clojure","text/x-csharp","text/x-dart","text/x-diff","text/x-ejs","text/x-elixir","text/x-erb","text/x-erlang","text/x-go","text/x-groovy","text/x-handlebars","text/x-haskell","text/x-jade","text/x-java","text/x-jinja2","text/x-julia","text/x-kotlin","text/x-liquid","text/x-lisp","text/x-lua","text/x-makefile","text/x-mustache","text/x-objectivec","text/x-objectivec++","text/x-perl","text/x-php","text/x-pug","text/x-python","text/x-r","text/x-rst","text/x-ruby","text/x-rust","text/x-scala","text/x-script.python","text/x-sh","text/x-shellscript","text/x-swift","text/x-tex","text/x-tmpl","text/x-twig","text/x-typescript","text/x-vcard","text/xml"]},BI=e=>X7(e.ctx,{isGizmo:Ov(e)!=null}),X7=(e,{isGizmo:t})=>{var n;return(n=J7(e,t).data)!=null?n:w_(e)},Abe=lr(e=>ye(()=>{const t=J7(e.ctx,Ov(e)!=null);return t.isSuccess&&!t.isStale})),J7=(e,t)=>t?Nbe(e):wbe(e),wbe=Ie(e=>Q7(e,!1)),Nbe=Ie(e=>Q7(e,!0));function Q7(e,t){let n;if(t)n=()=>w_(e);else{const s=G7(e,mue,gue,D9());n=()=>{var i;return(i=s())!=null?i:w_(e)}}const r=qt(e,()=>vue({isGizmo:t,IIM:!1,placeholderData:n}),{getServerData:()=>w_(e)});return Ibe(e,r)}function Ibe(e,t){return ye(()=>{const n=t();return Bie(e)&&n.data?I(b({},n),{data:Oue(n.data)}):n})}const Hb="model",Z7=lr(e=>me(()=>{const t=uN();if(t.searchParams.has(Hb)){const n=t.searchParams.get(Hb);if(t.searchParams.delete(Hb),window.history.replaceState(window.history.state,"",t.toString()),n&&!fm(e.ctx,n))return n}return null}));function n8e(e,t){Z7.set(e,t)}const Pbe=lr(e=>ye(()=>{var n,r,s,i,o;const t=yh(e.ctx);return(o=(i=ZF(e,Z7(e)))!=null?i:ZF(e,(s=(r=(n=sge(e))!=null?n:Rbe(e))!=null?r:!t&&rge(e)?Y$(e.ctx).model:null)!=null?s:BI(e).defaultModelSlug))!=null?o:xbe(e.ctx)}));function Rbe(e){var s,i,o,a;const{ctx:t}=e,n=Ov(e);if(!n||!LI(n))return;const r=(s=XSe(t,n).data)==null?void 0:s.gizmo;if((i=st(t))!=null&&i.hasPaidFeatures()){const c=(o=yue(t).data)==null?void 0:o.model_override;if(r!=null&&r.default_model)return(a=c==null?void 0:c[r.default_model])!=null?a:r.default_model}if(r!=null&&r.created_at&&new Date(r.created_at)<new Date("2025-08-13"))return"gpt-4o"}const xbe=Ie(e=>ye(()=>{const t=X7(e,{isGizmo:!1}),n=obe(t);if(n)return n;const{defaultModelSlug:r}=t;return K.addError(new Error("[models] Could not create default model"),{defaultModelSlug:r}),K7(e,r!=null?r:Y7(e))}));function ZF(e,t){if(!t||Aie(e.ctx).some(r=>r.model_slug===t))return;const n=UI(BI(e),t);return!n&&!Abe(e)?K7(e.ctx,t):n}function Mbe(e){return(e==null?void 0:e.data.residencyRegion)!==""&&(e==null?void 0:e.data.residencyRegion)!=="no_constraint"}function Xu(){const e=ce();return Le(()=>e8(e))}function e8(e){const t=Hr(e);return Mbe(t)?cn(e,"3131667714").get("regions",[]).includes(t==null?void 0:t.data.residencyRegion):!0}var t8=(e=>(e.DOGFOODING="dogfooding",e.ALPHA="alpha",e.SB_1B9A6CB4="sb_1b9a6cb4",e))(t8||{});function Ju(){const e=ce();return Le(()=>GI(e))}function GI(e){return!yt()||!e8(e)?!1:cn(e,"1001765573").get("ca_enabled",!1)}function kbe(e){return cn(e,"1001765573").get("onboarding_paused",!1)}function r8e(){const e=Xu(),t=ce(),n=cn(t,"1001765573");return e?{isEnabled:n.get("ca_enabled",!1),isComingSoon:n.get("ca_coming_soon",!1)}:{isEnabled:!1,isComingSoon:!1}}function s8e(){const e=Xu(),t=ce(),n=cn(t,"1001765573");return e?n.get("ca_enabled",!1)&&n.get("ca_sk_enabled",!1):!1}function i8e(){const e=Xu(),t=ce(),n=cn(t,"1001765573");if(!e)return!1;const r=Me(t,"3881721129");return n.get("ca_enabled",!1)&&n.get("ca_github_sync_enabled",!1)&&r}function o8e(){const e=Xu(),t=ce(),n=cn(t,"1001765573");return e?n.get("ca_enabled",!1)&&n.get("ca_sharepoint_sync_enabled",!1):!1}function Lbe(e){const t=Xu(),n=ce(),r=cn(n,"1001765573");return t?r.get("ca_enabled",!1)&&r.get("ca_".concat(e,"_sync_enabled"),!1):!1}function a8e(e){return cn(e,"1001765573").get("github_onboarding_paused",!1)}function c8e(){const e=Xu(),t=ce(),n=cn(t,"1001765573");return e?n.get("ca_personal_enabled",!1):!1}function l8e(e){const t=cn(e,"1001765573");if(!t.get("ca_enabled",!1))return null;const r=t.get("feedback_format",null);return r&&Object.values(t8).includes(r)?r:null}const u8e=e=>Uh(e,t=>Ae.getConversationTurns(t).some(n=>n.messages.some(Dbe))),Dbe=e=>!!(e.author.role===je.Tool&&e.author.name==="file_search"&&e.metadata&&e.metadata.command===cW.Spinner&&e.metadata.retrieval_search_sources&&e.metadata.retrieval_search_sources.some(t=>t.product_type==="contextual_answers"||t.product_type==="slurm"));function d8e(e){return Me(e,"4147309512")}class la{static async admin_list_knowledge_connectors(t){return await Y.safeGet("/ca/v2/admin/list_knowledge_connectors",{parameters:{query:{account_id:t}}})}static async admin_list_connection_instances(t){return await Y.safeGet("/ca/v2/admin/list_connection_instances",{parameters:{query:{account_id:t}}})}static async admin_get_connection_instance(t,n){return await Y.safeGet("/ca/v2/admin/connection_instance/{connection_id}",{parameters:{query:{account_id:t},path:{connection_id:n}}})}static async admin_create_connection_instance(t,n,r){return r===""&&(r=null),await Y.safePost("/ca/v2/admin/create_connection_instance",{requestBody:{connection_config:n,connection_name:r!=null?r:null},parameters:{query:{account_id:t}}})}static async admin_request_connect_quickstart(t,n,r){return await Y.safeGet("/ca/v2/admin/request_connect_quickstart",{parameters:{query:{account_id:t,connection_id:n,after_flow_redirect_to:r}}})}static async admin_connect_and_quickstart(t,n,r,s){return await Y.safePost("/ca/v2/admin/connect_and_quickstart",{parameters:{query:{account_id:t}},requestBody:{plugin_id:n,code:r,state:s}})}static async admin_edit_name_connection_instance(t,n,r){return await Y.safePost("/ca/v2/admin/connection_instance/{connection_id}/update_name",{requestBody:r,parameters:{path:{connection_id:n},query:{account_id:t}}})}static async admin_activate_connection_instance(t,n){return await Y.safePost("/ca/v2/admin/connection_instance/{connection_id}/activate",{requestBody:{},parameters:{path:{connection_id:n},query:{account_id:t}}})}static async admin_delete_connection_instance(t,n){return await Y.safeDelete("/ca/v2/admin/connection_instance/{connection_id}",{parameters:{query:{account_id:t},path:{connection_id:n}}})}static async admin_connection_allow_user(t,n,r){return await Y.safePost("/ca/v2/admin/connection_instance/{connection_id}/allow_user",{parameters:{query:{account_id:t},path:{connection_id:n}},requestBody:{user_id:r}})}static async admin_connection_disallow_user(t,n,r){return await Y.safePost("/ca/v2/admin/connection_instance/{connection_id}/disallow_user",{parameters:{query:{account_id:t},path:{connection_id:n}},requestBody:{user_id:r}})}static async admin_connection_get_access_policy(t,n){return await Y.safeGet("/ca/v2/admin/connection_instance/{connection_id}/get_access_policy",{parameters:{query:{account_id:t},path:{connection_id:n}}})}static async admin_connection_update_access_policy(t,n,r){return await Y.safePost("/ca/v2/admin/connection_instance/{connection_id}/update_access_policy",{parameters:{query:{account_id:t},path:{connection_id:n}},requestBody:{allow_all_in_workspace:r}})}static async admin_connection_update_credential(t,n,{admin_email:r,credential_id:s,new_service_credential_content:i}){return await Y.safePost("/ca/v2/admin/connection_instance/{connection_id}/update_credential",{parameters:{query:{account_id:t},path:{connection_id:n}},requestBody:{admin_email:r,credential_id:s,new_service_credential_content:i}})}static async admin_connection_list_item_scopes(t,n,r,s=null){return await Y.safeGet("/ca/v2/admin/connection_instance/{connection_id}/list_item_scopes",{parameters:{path:{connection_id:n},query:{page_token:s,account_id:t,object_type:r}}})}static async admin_connection_update_item_default_scope(t,n,r,s){return await Y.safePost("/ca/v2/admin/connection_instance/{connection_id}/update_item_default_scope",{parameters:{path:{connection_id:n},query:{account_id:t}},requestBody:{object_type:r,default_selection:s}})}static async admin_connection_block_items(t,n,r,s){return await Y.safePost("/ca/v2/admin/connection_instance/{connection_id}/block_items",{parameters:{path:{connection_id:n},query:{account_id:t}},requestBody:{object_type:r,object_handles:s}})}static async admin_connection_unblock_items(t,n,r,s){return await Y.safePost("/ca/v2/admin/connection_instance/{connection_id}/unblock_items",{parameters:{path:{connection_id:n},query:{account_id:t}},requestBody:{object_type:r,object_handles:s}})}static async user_activate_workspace_connection_and_user({link_id:t,user_extension:n}){return await Y.safePost("/ca/v2/user/activate_workspace_connection_and_user",{requestBody:n?{link_id:t,user_extension:n}:{link_id:t}})}static async user_connection_status(){return await Y.safeGet("/ca/v2/user/connection_status",{})}static async user_connection_list_item_scopes(t,n,r=null){return await Y.safeGet("/ca/v2/user/connection_instance/{connection_id}/list_item_scopes",{parameters:{path:{connection_id:t},query:{page_token:r,object_type:n}}})}static async user_connection_block_items(t,n,r){return await Y.safePost("/ca/v2/user/connection_instance/{connection_id}/block_items",{parameters:{path:{connection_id:t}},requestBody:{object_type:n,object_handles:r}})}static async user_connection_unblock_items(t,n,r){return await Y.safePost("/ca/v2/user/connection_instance/{connection_id}/unblock_items",{parameters:{path:{connection_id:t}},requestBody:{object_type:n,object_handles:r}})}static async user_connection_sync_configuration(t){return await Y.safeGet("/ca/v2/user/connection_instance/{connection_id}/user_configuration",{parameters:{path:{connection_id:t}}})}static async user_connection_update_sync_configuration(t,n){return await Y.safePost("/ca/v2/user/connection_instance/{synced_knowledge_store_id}/user_configuration",{parameters:{path:{synced_knowledge_store_id:t}},requestBody:{extension:n}})}static async user_get_file_picker_token(t){return await Y.safePost("/ca/v2/user/connection_instance/{synced_knowledge_store_id}/file_picker_token",{parameters:{path:{synced_knowledge_store_id:t}}})}static async user_request_connect(t,n,r){return await Y.safeGet("/ca/v2/user/request_connect",{parameters:{query:b({connection_id:t,after_flow_redirect_to:n},r?{use_connectors_platform_flow:r}:{})}})}static async user_request_connect_upgrade_to_sync({link_id:t,user_extension:n}){return await Y.safePost("/ca/v2/user/upgrade_to_sync",{requestBody:{link_id:t,user_extension:n}})}static async user_connection_oauth_callback(t,n,r){return await Y.safePost("/ca/v2/user/connect_and_activate",{requestBody:{plugin_id:t,code:n,state:r}})}static async user_delete_sync(t){return await Y.safePost("/ca/v2/user/delete_synced",{requestBody:{link_id:t}})}static async user_disconnect(t){return await Y.safePost("/ca/v2/user/disconnect",{requestBody:{connection_id:t}})}}const f8e=({skip:e=!1}={})=>{const t=ce(),{data:n,isLoading:r}=Le(()=>Hc.if$(t,!e));return{gDriveOAuthConnectionId:C.useMemo(()=>{const i=n==null?void 0:n.connection_statuses;return i&&i.length===1&&i[0].user_connection_details.auth_status==="not_connected"&&i[0].user_connection_details.knowledge_connector_type==="google_drive_oauth"?i[0].user_connection_details.connection_instance_id:null},[n]),refetch:()=>Hc.refetch(t),isLoading:r}},n8=e=>{const{data:t}=Hc(e);return t?r8(t):!1};function r8(e){return e.connection_statuses.some(t=>["partially_activated","activated"].includes(t.user_connection_details.activation_status))}const Fbe=1.5,Ube=120*1e3;let s8=0;function eU(e){return Math.min(e*Fbe**(s8-1),Ube)}const Hc=Ie(e=>qt(e,()=>ln({queryKey:["user_connection_status"],queryFn:()=>(s8++,la.user_connection_status()),refetchInterval:t=>{const n=t.state.status==="success"&&t.state.data&&!t.state.data.connection_statuses.some(s=>s.user_connection_details.activation_status==="activating"||s.user_connection_details.activation_status==="partially_activated");return t.state.status==="success"&&t.state.data&&t.state.data.connection_statuses.some(s=>(s.user_connection_details.auth_status==="user_connected"||s.user_connection_details.auth_status==="admin_connected")&&!(s.user_connection_details.activation_status==="activating"||s.user_connection_details.activation_status==="partially_activated"||s.user_connection_details.activation_status==="activated"))?eU(2*1e3):n?!1:eU(30*1e3)}}),{enabled$:()=>GI(e)}));function WI(e){return Hc.refetch(e)}const zh=e=>e!=null;function Uf(e=!1){return["fetchConnectorLinkData",e]}function i8(e,t,n){const r=["fetchPlatformConnectorData",e,!!t];return n!==void 0&&r.push(!!n),r}const h8e=(e,t)=>["connectors",e,t].filter(zh),p8e=(e,t)=>["roles",e,t].filter(zh),_8e=(e,t,n)=>["permissions",e,t,n].filter(zh),m8e=(e,t)=>["connectorTos",e,t].filter(zh),g8e=e=>["admin:knowledge_connectors_with_connections",e].filter(zh),jbe=e=>Me(e,"3999836663");function Fv(e){var i,o,a,c;const t=!!((o=(i=cn(e,"463092697"))==null?void 0:i.value)!=null&&o.enabled),n=!!((c=(a=cn(e,"1001765573"))==null?void 0:a.value)!=null&&c.ca_enabled),r=Me(e,"3544641259"),s=Me(e,"3933797510");return t||n||r||s||jbe(e)}function o8(e){return Me(e,"1694249257")}function Bbe(e){return Me(e,"3292039316")}var $b,tU;function Gbe(){if(tU)return $b;tU=1;function e(t,n,r,s){for(var i=-1,o=t==null?0:t.length;++i<o;){var a=t[i];n(s,a,r(a),t)}return s}return $b=e,$b}var qb,nU;function Wbe(){if(nU)return qb;nU=1;var e=v9();function t(n,r,s,i){return e(n,function(o,a,c){r(i,o,s(o),c)}),i}return qb=t,qb}var Vb,rU;function Hbe(){if(rU)return Vb;rU=1;var e=Gbe(),t=Wbe(),n=Wu(),r=Wr();function s(i,o){return function(a,c){var l=r(a)?e:t,u=o?o():{};return l(a,i,n(c,2),u)}}return Vb=s,Vb}var zb,sU;function $be(){if(sU)return zb;sU=1;var e=wI(),t=Hbe(),n=Object.prototype,r=n.hasOwnProperty,s=t(function(i,o,a){r.call(i,a)?i[a].push(o):e(i,a,[o])});return zb=s,zb}var qbe=$be();const Vbe=$t(qbe),zbe=async(e,t,n,r,s)=>{var o,a;const i=await Y.safePost("/aip/connectors/list_accessible",{requestBody:{principals:[{type:"USER",id:e}],purpose:n},parameters:{query:{skip_actions:r,external_logos:s}},additionalHeaders:t?{[jt]:t}:void 0});return{connectors:(o=i.connectors)!=null?o:[],templates:(a=i.app_templates)!=null?a:[]}};function v8e(e,t,n,r,s){"use forget";const i=W.c(14),o=e===void 0?!0:e,a=t===void 0?void 0:t,c=n===void 0?void 0:n,l=r===void 0?!1:r,u=void 0,d=ce();let f;i[0]!==d||i[1]!==o||i[2]!==a||i[3]!==c||i[4]!==u?(f=()=>ua.if$(d,{productSku:a,purpose:c,skipLogos:u},o),i[0]=d,i[1]=o,i[2]=a,i[3]=c,i[4]=u,i[5]=f):f=i[5];const{data:h,isLoading:p,isFetching:_,error:m}=Le(f);let y;i[6]!==h||i[7]!==l?(y=Uv(h,l),i[6]=h,i[7]=l,i[8]=y):y=i[8];let v;return i[9]!==m||i[10]!==_||i[11]!==p||i[12]!==y?(v={platformConnectors:y,isLoading:p,isFetching:_,error:m},i[9]=m,i[10]=_,i[11]=p,i[12]=y,i[13]=v):v=i[13],v}const ua=Ks((e,t)=>qt(e,()=>Ybe(e,t)),e=>JSON.stringify([e==null?void 0:e.productSku,e==null?void 0:e.purpose,e==null?void 0:e.skipLogos,e==null?void 0:e.skipActions])),a8=(e,t)=>{const{data:n}=ua(e,t);return n&&Uv(n)};function Ybe(e,t){var i,o,a;const n=(i=t==null?void 0:t.skipLogos)!=null?i:Bbe(e),r=(o=t==null?void 0:t.skipActions)!=null?o:o8(e),s=(a=st(e))==null?void 0:a.normalizedAccountUserId;return ln({queryKey:i8(t==null?void 0:t.purpose,n,r),queryFn:async()=>await zbe($s(s),t==null?void 0:t.productSku,t==null?void 0:t.purpose,r,n),enabled:s!=null&&Fv(e)})}const Kbe=new Map,y8e=e=>{var t;return(t=e==null?void 0:e.templates)!=null?t:[]};function Uv(e,t=!1){return e?t?Xbe(e.connectors):Jbe(e.connectors):Kbe}const Xbe=lo(e=>new Map(e.map(t=>[t.id,t]))),Jbe=lo(e=>{const t=e.filter(n=>{var r;return((r=n.labels)==null?void 0:r.admin_only_connector)!=="true"});return new Map(t.map(n=>[n.id,n]))}),Qbe=async(e,t=!1,n=void 0)=>{const r=await Y.safePost("/aip/connectors/links/list_accessible",{requestBody:{principals:[{type:"USER",id:e}],link_refresh_strategy:t?"BLOCKING":"NONE"},additionalHeaders:n?{[jt]:n}:void 0});return Vbe(r.links,({connector_id:s})=>s)};function HI({skip:e=!1,fetchValidLinksOnly:t=!1,productSku:n}={}){const r=ce(),s=u8(r,t,n);e&&(s.enabled=!1);const{data:i,isLoading:o,isFetching:a,error:c,refetch:l}=rn(s);return{connectorLinks:C.useMemo(()=>i!=null?i:new Map,[i]),isLoading:o,isFetching:a,error:c,refetch:l}}const c8=(e,{fetchValidLinksOnly:t=!1,productSku:n}={})=>l8(e,t,n),l8=Ks((e,t,n)=>qt(e,()=>u8(e,t,n)));function u8(e,t,n){const r=st(e),s=r==null?void 0:r.normalizedAccountUserId,i=Fv(e);return ln({queryKey:Uf(t),enabled:s!=null&&i,queryFn:()=>Qbe($s(s),t,n),select:o=>new Map(Object.entries(o))})}function E8e({skip:e=!1,productSku:t}={}){const n=ce();C.useEffect(()=>{e||(ua.prefetch(n,{productSku:t}),l8.prefetch(n,!1,t))},[n,e,t])}const d8=ge($e,"fa83d1",24,24),f8=ge($e,"20ede7",24,24),h8=ge($e,"8ed6b8",24,24),p8=ge($e,"4a8c4b",24,24),_8=ge($e,"df22b4",24,24),Zbe=ge($e,"52c172",24,24),m8=ge($e,"ef32dd",24,24),jv=ge($e,"41af4e",24,24),g8=ge($e,"e457bf",24,24),v8=ge($e,"df0da1",24,24),y8=ge($e,"1a6f23",24,24),E8=ge($e,"b9c3bd",24,24),iU=ge($e,"9b4410",24,24),oU=ge($e,"b4ae2d",24,24),aU=ge($e,"d2ee17",24,24),$c=ge($e,"030f5c",24,24),C8=ge($e,"d70f08",24,24),S8=ge($e,"3bc305",24,24),N_=ge($e,"b6d04a",24,24),b8=ge($e,"2cdfa2",24,24),T8=ge($e,"06f6b1",24,24),O8=ge($e,"e6f334",24,24),Bv=ge($e,"a95857",24,24),N1=ge($e,"f237f0",24,24),e0e=ge($e,"162f25"),I1=ge($e,"de6e9f",20,20),t0e=ge($e,"6ab6f2",0,0),A8=ge($e,"90dd0a",24,24),Gv=ge($e,"eef8f4",24,24),w8=ge($e,"786ce1",24,24),N8=ge($e,"9f82ec",24,24),ic=ge($e,"b5a8d1",24,24),I8=ge($e,"f78799",24,24),P8=ge($e,"b9b8ee",24,24),n0e=ge(ht,"a18104",20,20),C8e=Object.freeze(Object.defineProperty({__proto__:null,default:n0e},Symbol.toStringTag,{value:"Module"}));var xt=(e=>(e.CODEX="CODEX",e.PROMPT_TEXT_AREA="PROMPT_TEXT_AREA",e.CONNECTOR_SETTING="CONNECTOR_SETTING",e.ADMIN_SETTING="ADMIN_SETTING",e.SLURM="SLURM",e.DEEP_RESEARCH="DEEP_RESEARCH",e.JIT_PLUGIN="JIT_PLUGIN",e.N7JUPD="N7JUPD",e))(xt||{});const r0e=At({github:{id:"platformConnectors.github",defaultMessage:"GitHub"},hubspot:{id:"platformConnectors.hubspot",defaultMessage:"HubSpot"},googleDrive:{id:"platformConnectors.googleDrive",defaultMessage:"Google Drive"},gmail:{id:"platformConnectors.gmail",defaultMessage:"Gmail"},googleContacts:{id:"platformConnectors.googleContacts",defaultMessage:"Google Contacts"},gcal:{id:"platformConnectors.gcal",defaultMessage:"Google Calendar"},dropbox:{id:"platformConnectors.dropbox",defaultMessage:"Dropbox"},linear:{id:"platformConnectors.linear",defaultMessage:"Linear"},sharepoint:{id:"platformConnectors.sharepoint",defaultMessage:"SharePoint"},outlookEmail:{id:"GJeJu+",defaultMessage:"Outlook Email"},outlookCalendar:{id:"ZaCgzD",defaultMessage:"Outlook Calendar"},teams:{id:"1F0GKN",defaultMessage:"Teams"},box:{id:"l5cshA",defaultMessage:"Box"},intercom:{id:"IeKzI2",defaultMessage:"Intercom"},notion:{id:"ewTDRt",defaultMessage:"Notion"},canva:{id:"2oFmyl",defaultMessage:"Canva"},confluence:{id:"9OL98Q",defaultMessage:"Confluence"},jira:{id:"Nm71Up",defaultMessage:"Jira"},jiraServiceManagement:{id:"cjC5DU",defaultMessage:"Jira Service Management"},slack:{id:"Do199+",defaultMessage:"Slack"},aha:{id:"MJ13Xc",defaultMessage:"Aha!"},asana:{id:"b+LuOp",defaultMessage:"Asana"},azureDevops:{id:"EMGnXy",defaultMessage:"Azure DevOps"},basecamp:{id:"WtFh36",defaultMessage:"Basecamp"},clickup:{id:"pP1J7F",defaultMessage:"ClickUp"},front:{id:"bP9Vhb",defaultMessage:"Front"},gitlab:{id:"U3zBPE",defaultMessage:"GitLab"},gorgias:{id:"TwMCWh",defaultMessage:"Gorgias"},helpScout:{id:"7ST8TO",defaultMessage:"Help Scout"},ironclad:{id:"EgicM8",defaultMessage:"Ironclad"},pipedrive:{id:"PZc8St",defaultMessage:"Pipedrive"},salesforceServiceCloud:{id:"p3e7aq",defaultMessage:"Salesforce Service Cloud"},shortcut:{id:"fMr0j2",defaultMessage:"Shortcut"},teamwork:{id:"NC9s7t",defaultMessage:"Teamwork"},zendesk:{id:"eAbTKh",defaultMessage:"Zendesk"},zoho:{id:"2Xpxq+",defaultMessage:"Zoho"},zohoDesk:{id:"QWma/o",defaultMessage:"Zoho Desk"},disabledByAdmin:{id:"2+q1p8",defaultMessage:"Your admin has not enabled this connector."}}),s0e={},i0e={},qe=b(b(b({},r0e),s0e),i0e),S8e={[R.GITHUB_CONNECTOR]:{title:qe.github,icon:y8},[R.GDRIVE_ACTION_CONNECTOR]:{title:qe.googleDrive,icon:$c},[dm.GDRIVE_SYNC_CONNECTOR]:{title:qe.googleDrive,icon:$c},[R.DROPBOX_CONNECTOR]:{title:qe.dropbox,icon:g8},[R.HUBSPOT_CONNECTOR]:{title:qe.hubspot,icon:N_},[R.AHA_CONNECTOR]:{title:qe.aha,icon:d8},[R.ASANA_CONNECTOR]:{title:qe.asana,icon:f8},[R.AZURE_DEVOPS_CONNECTOR]:{title:qe.azureDevops,icon:h8},[R.BASECAMP_CONNECTOR]:{title:qe.basecamp,icon:p8},[R.CLICKUP_CONNECTOR]:{title:qe.clickup,icon:m8},[R.LINEAR_CONNECTOR]:{title:qe.linear,icon:N1},[R.SHAREPOINT_CONNECTOR]:{title:qe.sharepoint,icon:I1},[R.SHAREPOINT_ADMIN_CONNECTOR]:{title:qe.sharepoint,icon:I1},[R.TEAMS_CONNECTOR]:{title:qe.teams,icon:A8},[R.OUTLOOK_EMAIL_CONNECTOR]:{title:qe.outlookEmail,icon:t0e},[R.OUTLOOK_CALENDAR_CONNECTOR]:{title:qe.outlookCalendar,icon:e0e},[R.BOX_CONNECTOR]:{title:qe.box,icon:_8},[R.INTERCOM_CONNECTOR]:{title:qe.intercom,icon:b8},[R.FRONT_CONNECTOR]:{title:qe.front,icon:v8},[R.GITLAB_CONNECTOR]:{title:qe.gitlab,icon:E8},[R.GORGIAS_CONNECTOR]:{title:qe.gorgias,icon:C8},[R.HELP_SCOUT_CONNECTOR]:{title:qe.helpScout,icon:S8},[R.NOTION_CONNECTOR]:{title:qe.notion,icon:Gv},[R.GOOGLE_CONTACTS_CONNECTOR]:{title:qe.googleContacts,icon:aU},[g_.GOOGLE_CONTACTS_CONNECTOR]:{title:qe.googleContacts,icon:aU},[R.GCAL_CONNECTOR]:{title:qe.gcal,icon:oU},[g_.GCAL_CONNECTOR]:{title:qe.gcal,icon:oU},[R.GMAIL_CONNECTOR]:{title:qe.gmail,icon:iU},[g_.GMAIL_CONNECTOR]:{title:qe.gmail,icon:iU},[R.CANVA_CONNECTOR]:{title:qe.canva,icon:Zbe},[R.CONFLUENCE_CONNECTOR]:{title:qe.confluence,icon:jv},[R.JIRA_CONNECTOR]:{title:qe.jira,icon:Bv},[R.JIRA_SERVICEMANAGEMENT_CONNECTOR]:{title:qe.jiraServiceManagement,icon:O8},[R.SLACK_CONNECTOR]:{title:qe.slack,icon:ic},[R.SLACK_CODEX_CONNECTOR]:{title:qe.slack,icon:ic},[R.SLACK_CODEX_BOT_CONNECTOR]:{title:qe.slack,icon:ic},[R.LINEAR_CODEX_BOT_CONNECTOR]:{title:qe.linear,icon:N1},[R.IRONCLAD_CONNECTOR]:{title:qe.ironclad,icon:T8},[R.PIPEDRIVE_CONNECTOR]:{title:qe.pipedrive,icon:w8},[R.SHORTCUT_CONNECTOR]:{title:qe.shortcut,icon:N8},[R.TEAMWORK_CONNECTOR]:{title:qe.teamwork,icon:I8},[R.ZENDESK_CONNECTOR]:{title:qe.zendesk,icon:P8},[R.ZOHO_CONNECTOR]:{title:qe.zoho,icon:N_},[R.ZOHO_DESK_CONNECTOR]:{title:qe.zohoDesk,icon:N_},[dm.SLACK_SYNC_CONNECTOR]:{title:qe.slack,icon:ic}},o0e={github:R.GITHUB_CONNECTOR,google_drive:R.GDRIVE_ACTION_CONNECTOR,dropbox:R.DROPBOX_CONNECTOR,linear:R.LINEAR_CONNECTOR,hubspot:R.HUBSPOT_CONNECTOR,sharepoint:R.SHAREPOINT_CONNECTOR,google_calendar:R.GCAL_CONNECTOR,gmail:R.GMAIL_CONNECTOR,google_contacts:R.GOOGLE_CONTACTS_CONNECTOR,teams:R.TEAMS_CONNECTOR,outlook_email:R.OUTLOOK_EMAIL_CONNECTOR,outlook_calendar:R.OUTLOOK_CALENDAR_CONNECTOR,box:R.BOX_CONNECTOR,intercom:R.INTERCOM_CONNECTOR,notion:R.NOTION_CONNECTOR,canva:R.CANVA_CONNECTOR,slack:R.SLACK_CONNECTOR,slack_codex:R.SLACK_CODEX_CONNECTOR},R8=[];function Yh(e,{includeDisabledByAdmin:t=!1,productSku:n,purpose:r,skipLogos:s}={}){const{data:i,isLoading:o}=ua(e,{productSku:n,purpose:r,skipLogos:s});if(o)return;if(!i)return R8;const a=a0e(i);return t?a:c0e(a)}const a0e=lo(e=>{const t=e.connectors.filter(r=>r.connector_type!=="MCP"&&sr[r.id]).map(r=>I(b({},r),{type:sr[r.id]})),n=e.connectors.filter(r=>r.connector_type==="MCP").map(r=>I(b({},r),{type:Rs.MCP_CONNECTOR}));return[...t,...n]}),c0e=lo(e=>e.filter(t=>t.status!=="DISABLED_BY_ADMIN"));function l0e(e){return x8(e)&&Me(e,"3544641259")}const u0e=ct(e=>{const t=cn(e,"3747383021"),n=l0e(e),r=Object.entries(o0e).reduce((o,[a,c])=>(t.get(a,!1)&&o.push(c),o),[]),i=t.get("mcp",!1)?[...r,Rs.MCP_CONNECTOR]:r;return{enabled:n,availableConnectorsType:n?i:[]}});function x8(e){return Me(e,"733205176")}function b8e(e){return Me(e,"3207737252")}function d0e(e){return Me(e,"3927245414")}const $I=ct(e=>{var n,r;const t=cn(e,"463092697");return(r=(n=t==null?void 0:t.value)==null?void 0:n.autoConnectors)!=null?r:[]}),M8=Ie(e=>ye(()=>{const{data:t,isLoading:n}=Yu(e);if(n)return{enabledAutoConnectors:[],disabledAutoConnectors:[],isLoading:!0};const{disabledTools:r=[]}=t!=null?t:{},s=r.map(hpe).filter(a=>a!=null);return s.includes(R.GMAIL_CONNECTOR)&&s.includes(R.GCAL_CONNECTOR)&&s.push(R.GOOGLE_CONTACTS_CONNECTOR),{enabledAutoConnectors:$I(e).filter(a=>!s.includes(a)),disabledAutoConnectors:s,isLoading:!1}})),k8=e=>L8(e).enabled,L8=ct(e=>{var i,o,a;const t=RI(e),n=!!((i=t==null?void 0:t.enabled)!=null&&i),r=(o=t==null?void 0:t.autoConnectors)!=null?o:[],s=(a=t==null?void 0:t.enabledConnectors)!=null?a:[];return{enabled:n,availableConnectorsType:n?s:[],autoConnectors:r}}),f0e=({includeDisabledByAdmin:e}={})=>{const t=ce(),{enabled:n,availableConnectorsType:r}=u0e(t),s=Le(()=>{if(n)return Yh(t,{includeDisabledByAdmin:e,productSku:xt.DEEP_RESEARCH})}),i=n&&!s,o=C.useMemo(()=>s?s.filter(a=>r.includes(a.type)):[],[r,s]);return n?{enabled:!0,availableConnectors:o,isLoading:i}:{enabled:!1,availableConnectors:[],isLoading:!1}},Wv=(e,t={})=>h0e(e,t),h0e=Ks((e,{includeDisabledByAdmin:t,includeAutoConnectors:n,filterDisabledAutoConnectors:r})=>ye(()=>{var d;if(!k8(e))return[];const s=L8(e);let i=s.availableConnectorsType;const o=Me(e,"2768222595"),{enabledAutoConnectors:a,isLoading:c}=o&&((d=s.autoConnectors)!=null?d:[]).length>0&&r?M8(e):{enabledAutoConnectors:[],isLoading:!1};if(c)return;const l=o?r?a:$I(e):[],u=Yh(e,{includeDisabledByAdmin:t,productSku:xt.SLURM});if(u)return n&&(i=[...new Set([...i,...l])]),i.flatMap(f=>f===Rs.MCP_CONNECTOR?u==null?void 0:u.filter(h=>h.type===f):[u==null?void 0:u.find(h=>h.type===f)]).filter(f=>!!f)}),e=>JSON.stringify([!!e.includeDisabledByAdmin,!!e.includeAutoConnectors,!!e.filterDisabledAutoConnectors])),T8e=({purpose:e=void 0}={})=>{const t=ce(),n=Fv(t),r=Le(()=>{if(n)return Yh(t,{includeDisabledByAdmin:!0,productSku:xt.CONNECTOR_SETTING,purpose:e})}),s=n&&!r;return{enabled:!!(r&&r.length>0),isLoading:s,availableConnectors:r!=null?r:R8}},D8=e=>{"use forget";const t=W.c(17),{availableConnectors:n,fetchValidLinksOnly:r,productSku:s}=e,i=r===void 0?!1:r;let o;t[0]!==i||t[1]!==s?(o={fetchValidLinksOnly:i,productSku:s},t[0]=i,t[1]=s,t[2]=o):o=t[2];const{connectorLinks:a,isLoading:c}=HI(o);let l;t[3]!==a?(l=new Set(Array.from(a.values()).flatMap(g0e)),t[3]=a,t[4]=l):l=t[4];const u=l;let d;if(t[5]!==n||t[6]!==u){let _;t[8]!==u?(_=m=>m.type!==Rs.MCP_CONNECTOR&&u.has(m.type),t[8]=u,t[9]=_):_=t[9],d=new Set(n.filter(_).map(v0e)),t[5]=n,t[6]=u,t[7]=d}else d=t[7];const f=d;let h;t[10]!==n||t[11]!==a?(h=new Map,a.forEach((_,m)=>{if(!n.some(v=>v.id===m))return;const y=sr[m];y&&_.forEach(v=>{h.set(v.id,y)})}),t[10]=n,t[11]=a,t[12]=h):h=t[12];let p;return t[13]!==f||t[14]!==c||t[15]!==h?(p={connectedTypes:f,isLoading:c,linkIdToConnectedType:h},t[13]=f,t[14]=c,t[15]=h,t[16]=p):p=t[16],p},p0e=e=>{"use forget";const t=W.c(13);let n;t[0]!==e?(n=e===void 0?{}:e,t[0]=e,t[1]=n):n=t[1];const{enabled:r,includeAutoConnectors:s}=n,i=r===void 0?!0:r,o=s===void 0?!1:s,a=ce();let c;t[2]!==a||t[3]!==o?(c=()=>Wv(a,{includeAutoConnectors:o}),t[2]=a,t[3]=o,t[4]=c):c=t[4];const l=Le(c);let u;t[5]!==a||t[6]!==i?(u=k8(a)&&i,t[5]=a,t[6]=i,t[7]=u):u=t[7];let d;t[8]!==l?(d=l!=null?l:[],t[8]=l,t[9]=d):d=t[9];let f;return t[10]!==u||t[11]!==d?(f={enabled:u,availableConnectors:d,productSku:xt.SLURM},t[10]=u,t[11]=d,t[12]=f):f=t[12],D8(f)},O8e=e=>{"use forget";const t=W.c(5);let n;t[0]!==e?(n=e===void 0?{}:e,t[0]=e,t[1]=n):n=t[1];const{enabled:r}=n,s=r===void 0?!0:r,{enabled:i,availableConnectors:o}=f0e(),a=i&&s;let c;return t[2]!==o||t[3]!==a?(c={enabled:a,availableConnectors:o,fetchValidLinksOnly:!0,productSku:xt.DEEP_RESEARCH},t[2]=o,t[3]=a,t[4]=c):c=t[4],D8(c)},_0e=()=>{const e=L7();return!!(e!=null&&e.enablePopupRedirect)},A8e=({includeAutoConnectors:e=!1})=>{const t=ce(),{connectedTypes:n,isLoading:r}=p0e({includeAutoConnectors:e}),{data:s,isLoading:i}=Le(()=>Hc(t));if(r||i)return{anyConnectorEnabled:!1,anyAccessConnectorEnabled:!1,anySyncConnectorEnabled:!1,isLoading:!0};const o=n.size>0,a=s?r8(s):!1;return{anyConnectorEnabled:o||a,anyAccessConnectorEnabled:o,anySyncConnectorEnabled:a,isLoading:!1}};function m0e(e){return sr[e.connector_id]}function g0e(e){return e.map(m0e)}function v0e(e){return e.type}function y0e(e,t,n){var r;try{const s=JSON.parse((r=window.localStorage.getItem(e))!=null?r:"");return n(s)?s:t}catch(s){return t}}function E0e(e,t){window.localStorage.setItem(e,JSON.stringify(t))}const cU=cr(e=>({data:{},setItem:(t,n)=>e(r=>({data:I(b({},r.data),{[t]:n})}))}));function C0e(e,t,n){const[r,s]=C.useState(!1),i=cU(c=>c.data[e]),o=cU(c=>c.setItem);C.useEffect(()=>{if(!r){const c=y0e(e,t,n);o(e,c),s(!0)}},[r,e,t,n,o]),C.useEffect(()=>{r&&E0e(e,i)},[e,i,r]);const a=c=>{o(e,c)};return[i!=null?i:t,a]}function Lt(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function xe(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function I_(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?I_=function(n){return typeof n}:I_=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},I_(e)}function Ue(e){xe(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||I_(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Hv(e,t){xe(2,arguments);var n=Ue(e),r=Lt(t);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function F8(e,t){xe(2,arguments);var n=Ue(e),r=Lt(t);if(isNaN(r))return new Date(NaN);if(!r)return n;var s=n.getDate(),i=new Date(n.getTime());i.setMonth(n.getMonth()+r+1,0);var o=i.getDate();return s>=o?i:(n.setFullYear(i.getFullYear(),i.getMonth(),s),n)}function S0e(e,t){xe(2,arguments);var n=Ue(e).getTime(),r=Lt(t);return new Date(n+r)}var b0e={};function Qu(){return b0e}function Hm(e,t){var n,r,s,i,o,a,c,l;xe(1,arguments);var u=Qu(),d=Lt((n=(r=(s=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&s!==void 0?s:u.weekStartsOn)!==null&&r!==void 0?r:(c=u.locale)===null||c===void 0||(l=c.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&n!==void 0?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=Ue(e),h=f.getDay(),p=(h<d?7:0)+h-d;return f.setDate(f.getDate()-p),f.setHours(0,0,0,0),f}function P1(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function $m(e){xe(1,arguments);var t=Ue(e);return t.setHours(0,0,0,0),t}var T0e=864e5;function O0e(e,t){xe(2,arguments);var n=$m(e),r=$m(t),s=n.getTime()-P1(n),i=r.getTime()-P1(r);return Math.round((s-i)/T0e)}function U8(e,t){xe(2,arguments);var n=Lt(t),r=n*7;return Hv(e,r)}function A0e(e,t){xe(2,arguments);var n=Lt(t);return F8(e,n*12)}function Yb(e,t){xe(2,arguments);var n=Ue(e),r=Ue(t),s=n.getTime()-r.getTime();return s<0?-1:s>0?1:s}var qI=6e4,j8=36e5;function B8(e,t){xe(2,arguments);var n=$m(e),r=$m(t);return n.getTime()===r.getTime()}function P_(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?P_=function(n){return typeof n}:P_=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},P_(e)}function w0e(e){return xe(1,arguments),e instanceof Date||P_(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function N0e(e){if(xe(1,arguments),!w0e(e)&&typeof e!="number")return!1;var t=Ue(e);return!isNaN(Number(t))}function I0e(e,t){xe(2,arguments);var n=Ue(e),r=Ue(t),s=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return s*12+i}function lU(e,t){var n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function w8e(e,t){xe(2,arguments);var n=Ue(e),r=Ue(t),s=lU(n,r),i=Math.abs(O0e(n,r));n.setDate(n.getDate()-s*i);var o=+(lU(n,r)===-s),a=s*(i-o);return a===0?0:a}function P0e(e,t){return xe(2,arguments),Ue(e).getTime()-Ue(t).getTime()}var uU={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},R0e="trunc";function x0e(e){return e?uU[e]:uU[R0e]}function N8e(e,t,n){xe(2,arguments);var r=P0e(e,t)/qI;return x0e(void 0)(r)}function G8(e){xe(1,arguments);var t=Ue(e);return t.setHours(23,59,59,999),t}function M0e(e){xe(1,arguments);var t=Ue(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function k0e(e){xe(1,arguments);var t=Ue(e);return G8(t).getTime()===M0e(t).getTime()}function I8e(e,t){xe(2,arguments);var n=Ue(e),r=Ue(t),s=Yb(n,r),i=Math.abs(I0e(n,r)),o;if(i<1)o=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-s*i);var a=Yb(n,r)===-s;k0e(Ue(e))&&i===1&&Yb(e,r)===1&&(a=!1),o=s*(i-Number(a))}return o===0?0:o}function P8e(e,t){var n;xe(1,arguments);var r=e||{},s=Ue(r.start),i=Ue(r.end),o=i.getTime();if(!(s.getTime()<=o))throw new RangeError("Invalid interval");var a=[],c=s;c.setHours(0,0,0,0);var l=Number((n=void 0)!==null&&n!==void 0?n:1);if(l<1||isNaN(l))throw new RangeError("`options.step` must be a number greater than 1");for(;c.getTime()<=o;)a.push(Ue(c)),c.setDate(c.getDate()+l),c.setHours(0,0,0,0);return a}function R8e(e,t){xe(1,arguments);var n=e||{},r=Ue(n.start),s=Ue(n.end),i=s.getTime();if(!(r.getTime()<=i))throw new RangeError("Invalid interval");var o=Hm(r,t),a=Hm(s,t);o.setHours(15),a.setHours(15),i=a.getTime();for(var c=[],l=o;l.getTime()<=i;)l.setHours(0),c.push(Ue(l)),l=U8(l,1),l.setHours(15);return c}function x8e(e){xe(1,arguments);var t=Ue(e);return t.setDate(1),t.setHours(0,0,0,0),t}function M8e(e,t){var n,r,s,i,o,a;xe(1,arguments);var c=Qu(),l=Lt((n=(r=(s=(i=void 0)!==null&&i!==void 0?i:void 0)!==null&&s!==void 0?s:c.weekStartsOn)!==null&&r!==void 0?r:(o=c.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&n!==void 0?n:0);if(!(l>=0&&l<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var u=Ue(e),d=u.getDay(),f=(d<l?-7:0)+6-(d-l);return u.setDate(u.getDate()+f),u.setHours(23,59,59,999),u}function k8e(){return G8(Date.now())}function L0e(e,t){xe(2,arguments);var n=Lt(t);return S0e(e,-n)}var D0e=864e5;function F0e(e){xe(1,arguments);var t=Ue(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),s=n-r;return Math.floor(s/D0e)+1}function qm(e){xe(1,arguments);var t=1,n=Ue(e),r=n.getUTCDay(),s=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-s),n.setUTCHours(0,0,0,0),n}function W8(e){xe(1,arguments);var t=Ue(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var s=qm(r),i=new Date(0);i.setUTCFullYear(n,0,4),i.setUTCHours(0,0,0,0);var o=qm(i);return t.getTime()>=s.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function U0e(e){xe(1,arguments);var t=W8(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=qm(n);return r}var j0e=6048e5;function B0e(e){xe(1,arguments);var t=Ue(e),n=qm(t).getTime()-U0e(t).getTime();return Math.round(n/j0e)+1}function Vm(e,t){var n,r,s,i,o,a,c,l;xe(1,arguments);var u=Qu(),d=Lt((n=(r=(s=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&s!==void 0?s:u.weekStartsOn)!==null&&r!==void 0?r:(c=u.locale)===null||c===void 0||(l=c.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&n!==void 0?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=Ue(e),h=f.getUTCDay(),p=(h<d?7:0)+h-d;return f.setUTCDate(f.getUTCDate()-p),f.setUTCHours(0,0,0,0),f}function H8(e,t){var n,r,s,i,o,a,c,l;xe(1,arguments);var u=Ue(e),d=u.getUTCFullYear(),f=Qu(),h=Lt((n=(r=(s=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&s!==void 0?s:f.firstWeekContainsDate)!==null&&r!==void 0?r:(c=f.locale)===null||c===void 0||(l=c.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(h>=1&&h<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setUTCFullYear(d+1,0,h),p.setUTCHours(0,0,0,0);var _=Vm(p,t),m=new Date(0);m.setUTCFullYear(d,0,h),m.setUTCHours(0,0,0,0);var y=Vm(m,t);return u.getTime()>=_.getTime()?d+1:u.getTime()>=y.getTime()?d:d-1}function G0e(e,t){var n,r,s,i,o,a,c,l;xe(1,arguments);var u=Qu(),d=Lt((n=(r=(s=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&s!==void 0?s:u.firstWeekContainsDate)!==null&&r!==void 0?r:(c=u.locale)===null||c===void 0||(l=c.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&n!==void 0?n:1),f=H8(e,t),h=new Date(0);h.setUTCFullYear(f,0,d),h.setUTCHours(0,0,0,0);var p=Vm(h,t);return p}var W0e=6048e5;function H0e(e,t){xe(1,arguments);var n=Ue(e),r=Vm(n,t).getTime()-G0e(n,t).getTime();return Math.round(r/W0e)+1}function bt(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var Ao={y:function(t,n){var r=t.getUTCFullYear(),s=r>0?r:1-r;return bt(n==="yy"?s%100:s,n.length)},M:function(t,n){var r=t.getUTCMonth();return n==="M"?String(r+1):bt(r+1,2)},d:function(t,n){return bt(t.getUTCDate(),n.length)},a:function(t,n){var r=t.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,n){return bt(t.getUTCHours()%12||12,n.length)},H:function(t,n){return bt(t.getUTCHours(),n.length)},m:function(t,n){return bt(t.getUTCMinutes(),n.length)},s:function(t,n){return bt(t.getUTCSeconds(),n.length)},S:function(t,n){var r=n.length,s=t.getUTCMilliseconds(),i=Math.floor(s*Math.pow(10,r-3));return bt(i,n.length)}},Sl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},$0e={G:function(t,n,r){var s=t.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(t,n,r){if(n==="yo"){var s=t.getUTCFullYear(),i=s>0?s:1-s;return r.ordinalNumber(i,{unit:"year"})}return Ao.y(t,n)},Y:function(t,n,r,s){var i=H8(t,s),o=i>0?i:1-i;if(n==="YY"){var a=o%100;return bt(a,2)}return n==="Yo"?r.ordinalNumber(o,{unit:"year"}):bt(o,n.length)},R:function(t,n){var r=W8(t);return bt(r,n.length)},u:function(t,n){var r=t.getUTCFullYear();return bt(r,n.length)},Q:function(t,n,r){var s=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"Q":return String(s);case"QQ":return bt(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,n,r){var s=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"q":return String(s);case"qq":return bt(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,n,r){var s=t.getUTCMonth();switch(n){case"M":case"MM":return Ao.M(t,n);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(t,n,r){var s=t.getUTCMonth();switch(n){case"L":return String(s+1);case"LL":return bt(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(t,n,r,s){var i=H0e(t,s);return n==="wo"?r.ordinalNumber(i,{unit:"week"}):bt(i,n.length)},I:function(t,n,r){var s=B0e(t);return n==="Io"?r.ordinalNumber(s,{unit:"week"}):bt(s,n.length)},d:function(t,n,r){return n==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):Ao.d(t,n)},D:function(t,n,r){var s=F0e(t);return n==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):bt(s,n.length)},E:function(t,n,r){var s=t.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(t,n,r,s){var i=t.getUTCDay(),o=(i-s.weekStartsOn+8)%7||7;switch(n){case"e":return String(o);case"ee":return bt(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,n,r,s){var i=t.getUTCDay(),o=(i-s.weekStartsOn+8)%7||7;switch(n){case"c":return String(o);case"cc":return bt(o,n.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,n,r){var s=t.getUTCDay(),i=s===0?7:s;switch(n){case"i":return String(i);case"ii":return bt(i,n.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(t,n,r){var s=t.getUTCHours(),i=s/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,n,r){var s=t.getUTCHours(),i;switch(s===12?i=Sl.noon:s===0?i=Sl.midnight:i=s/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,n,r){var s=t.getUTCHours(),i;switch(s>=17?i=Sl.evening:s>=12?i=Sl.afternoon:s>=4?i=Sl.morning:i=Sl.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,n,r){if(n==="ho"){var s=t.getUTCHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return Ao.h(t,n)},H:function(t,n,r){return n==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Ao.H(t,n)},K:function(t,n,r){var s=t.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(s,{unit:"hour"}):bt(s,n.length)},k:function(t,n,r){var s=t.getUTCHours();return s===0&&(s=24),n==="ko"?r.ordinalNumber(s,{unit:"hour"}):bt(s,n.length)},m:function(t,n,r){return n==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Ao.m(t,n)},s:function(t,n,r){return n==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Ao.s(t,n)},S:function(t,n){return Ao.S(t,n)},X:function(t,n,r,s){var i=s._originalDate||t,o=i.getTimezoneOffset();if(o===0)return"Z";switch(n){case"X":return fU(o);case"XXXX":case"XX":return za(o);case"XXXXX":case"XXX":default:return za(o,":")}},x:function(t,n,r,s){var i=s._originalDate||t,o=i.getTimezoneOffset();switch(n){case"x":return fU(o);case"xxxx":case"xx":return za(o);case"xxxxx":case"xxx":default:return za(o,":")}},O:function(t,n,r,s){var i=s._originalDate||t,o=i.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+dU(o,":");case"OOOO":default:return"GMT"+za(o,":")}},z:function(t,n,r,s){var i=s._originalDate||t,o=i.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+dU(o,":");case"zzzz":default:return"GMT"+za(o,":")}},t:function(t,n,r,s){var i=s._originalDate||t,o=Math.floor(i.getTime()/1e3);return bt(o,n.length)},T:function(t,n,r,s){var i=s._originalDate||t,o=i.getTime();return bt(o,n.length)}};function dU(e,t){var n=e>0?"-":"+",r=Math.abs(e),s=Math.floor(r/60),i=r%60;if(i===0)return n+String(s);var o=t;return n+String(s)+o+bt(i,2)}function fU(e,t){if(e%60===0){var n=e>0?"-":"+";return n+bt(Math.abs(e)/60,2)}return za(e,t)}function za(e,t){var n=t||"",r=e>0?"-":"+",s=Math.abs(e),i=bt(Math.floor(s/60),2),o=bt(s%60,2);return r+i+n+o}var hU=function(t,n){switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},$8=function(t,n){switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},q0e=function(t,n){var r=t.match(/(P+)(p+)?/)||[],s=r[1],i=r[2];if(!i)return hU(t,n);var o;switch(s){case"P":o=n.dateTime({width:"short"});break;case"PP":o=n.dateTime({width:"medium"});break;case"PPP":o=n.dateTime({width:"long"});break;case"PPPP":default:o=n.dateTime({width:"full"});break}return o.replace("{{date}}",hU(s,n)).replace("{{time}}",$8(i,n))},V0e={p:$8,P:q0e},z0e=["D","DD"],Y0e=["YY","YYYY"];function K0e(e){return z0e.indexOf(e)!==-1}function X0e(e){return Y0e.indexOf(e)!==-1}function pU(e,t,n){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var J0e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Q0e=function(t,n,r){var s,i=J0e[t];return typeof i=="string"?s=i:n===1?s=i.one:s=i.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function Kb(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}var Z0e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},eTe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},tTe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},nTe={date:Kb({formats:Z0e,defaultWidth:"full"}),time:Kb({formats:eTe,defaultWidth:"full"}),dateTime:Kb({formats:tTe,defaultWidth:"full"})},rTe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},sTe=function(t,n,r,s){return rTe[t]};function vd(e){return function(t,n){var r=n!=null&&n.context?String(n.context):"standalone",s;if(r==="formatting"&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,o=n!=null&&n.width?String(n.width):i;s=e.formattingValues[o]||e.formattingValues[i]}else{var a=e.defaultWidth,c=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[c]||e.values[a]}var l=e.argumentCallback?e.argumentCallback(t):t;return s[l]}}var iTe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},oTe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},aTe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},cTe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},lTe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},uTe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},dTe=function(t,n){var r=Number(t),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},fTe={ordinalNumber:dTe,era:vd({values:iTe,defaultWidth:"wide"}),quarter:vd({values:oTe,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:vd({values:aTe,defaultWidth:"wide"}),day:vd({values:cTe,defaultWidth:"wide"}),dayPeriod:vd({values:lTe,defaultWidth:"wide",formattingValues:uTe,defaultFormattingWidth:"wide"})};function yd(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;var o=i[0],a=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(a)?pTe(a,function(d){return d.test(o)}):hTe(a,function(d){return d.test(o)}),l;l=e.valueCallback?e.valueCallback(c):c,l=n.valueCallback?n.valueCallback(l):l;var u=t.slice(o.length);return{value:l,rest:u}}}function hTe(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function pTe(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function _Te(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var s=r[0],i=t.match(e.parsePattern);if(!i)return null;var o=e.valueCallback?e.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;var a=t.slice(s.length);return{value:o,rest:a}}}var mTe=/^(\d+)(th|st|nd|rd)?/i,gTe=/\d+/i,vTe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},yTe={any:[/^b/i,/^(a|c)/i]},ETe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},CTe={any:[/1/i,/2/i,/3/i,/4/i]},STe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},bTe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},TTe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},OTe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},ATe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},wTe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},NTe={ordinalNumber:_Te({matchPattern:mTe,parsePattern:gTe,valueCallback:function(t){return parseInt(t,10)}}),era:yd({matchPatterns:vTe,defaultMatchWidth:"wide",parsePatterns:yTe,defaultParseWidth:"any"}),quarter:yd({matchPatterns:ETe,defaultMatchWidth:"wide",parsePatterns:CTe,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:yd({matchPatterns:STe,defaultMatchWidth:"wide",parsePatterns:bTe,defaultParseWidth:"any"}),day:yd({matchPatterns:TTe,defaultMatchWidth:"wide",parsePatterns:OTe,defaultParseWidth:"any"}),dayPeriod:yd({matchPatterns:ATe,defaultMatchWidth:"any",parsePatterns:wTe,defaultParseWidth:"any"})},ITe={code:"en-US",formatDistance:Q0e,formatLong:nTe,formatRelative:sTe,localize:fTe,match:NTe,options:{weekStartsOn:0,firstWeekContainsDate:1}},PTe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,RTe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,xTe=/^'([^]*?)'?$/,MTe=/''/g,kTe=/[a-zA-Z]/;function L8e(e,t,n){var r,s,i,o,a,c,l,u,d,f,h,p,_,m;xe(2,arguments);var y=String(t),v=Qu(),O=(r=(s=void 0)!==null&&s!==void 0?s:v.locale)!==null&&r!==void 0?r:ITe,S=Lt((i=(o=(a=(c=void 0)!==null&&c!==void 0?c:void 0)!==null&&a!==void 0?a:v.firstWeekContainsDate)!==null&&o!==void 0?o:(l=v.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(S>=1&&S<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var E=Lt((d=(f=(h=(p=void 0)!==null&&p!==void 0?p:void 0)!==null&&h!==void 0?h:v.weekStartsOn)!==null&&f!==void 0?f:(_=v.locale)===null||_===void 0||(m=_.options)===null||m===void 0?void 0:m.weekStartsOn)!==null&&d!==void 0?d:0);if(!(E>=0&&E<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!O.localize)throw new RangeError("locale must contain localize property");if(!O.formatLong)throw new RangeError("locale must contain formatLong property");var T=Ue(e);if(!N0e(T))throw new RangeError("Invalid time value");var A=P1(T),w=L0e(T,A),N={firstWeekContainsDate:S,weekStartsOn:E,locale:O,_originalDate:T},P=y.match(RTe).map(function(x){var D=x[0];if(D==="p"||D==="P"){var M=V0e[D];return M(x,O.formatLong)}return x}).join("").match(PTe).map(function(x){if(x==="''")return"'";var D=x[0];if(D==="'")return LTe(x);var M=$0e[D];if(M)return X0e(x)&&pU(x,t,String(e)),K0e(x)&&pU(x,t,String(e)),M(w,x,O.localize,N);if(D.match(kTe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+D+"`");return x}).join("");return P}function LTe(e){var t=e.match(xTe);return t?t[1].replace(MTe,"'"):e}function DTe(e){xe(1,arguments);var t=Lt(e);return Ue(t*1e3)}function FTe(e){xe(1,arguments);var t=Ue(e),n=t.getFullYear(),r=t.getMonth(),s=new Date(0);return s.setFullYear(n,r+1,0),s.setHours(0,0,0,0),s.getDate()}function D8e(e){xe(1,arguments);var t=Ue(e),n=t.getMonth();return n}function UTe(e){xe(1,arguments);var t=Ue(e),n=t.getTime();return n}function jTe(e){return xe(1,arguments),Math.floor(UTe(e)/1e3)}function F8e(e){return xe(1,arguments),Ue(e).getFullYear()}function U8e(e,t,n){var r;xe(1,arguments);var s;return n=t,new Intl.DateTimeFormat((r=n)===null||r===void 0?void 0:r.locale,s).format(e)}function j8e(e,t){xe(2,arguments);var n=Ue(e),r=Ue(t);return n.getTime()>r.getTime()}function B8e(e,t){xe(2,arguments);var n=Ue(e),r=Ue(t);return n.getTime()<r.getTime()}function G8e(e,t){xe(2,arguments);var n=Ue(e),r=Ue(t);return n.getTime()===r.getTime()}function W8e(e,t,n){xe(2,arguments);var r=Hm(e,n),s=Hm(t,n);return r.getTime()===s.getTime()}function H8e(e,t){xe(2,arguments);var n=Ue(e),r=Ue(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function BTe(e,t){xe(2,arguments);var n=Ue(e),r=Ue(t);return n.getFullYear()===r.getFullYear()}function $8e(e){return xe(1,arguments),BTe(e,Date.now())}function q8e(e){return xe(1,arguments),B8(e,Date.now())}function V8e(e){return xe(1,arguments),B8(e,Hv(Date.now(),1))}function z8e(e,t){xe(2,arguments);var n=Lt(t);return Hv(e,-n)}function Y8e(e,t){var n;xe(1,arguments);var r=Lt((n=void 0)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var s=$Te(e),i;if(s.date){var o=qTe(s.date,r);i=VTe(o.restDateString,o.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);var a=i.getTime(),c=0,l;if(s.time&&(c=zTe(s.time),isNaN(c)))return new Date(NaN);if(s.timezone){if(l=YTe(s.timezone),isNaN(l))return new Date(NaN)}else{var u=new Date(a+c),d=new Date(0);return d.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),d.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),d}return new Date(a+c+l)}var $p={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},GTe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,WTe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,HTe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function $Te(e){var t={},n=e.split($p.dateTimeDelimiter),r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],$p.timeZoneDelimiter.test(t.date)&&(t.date=e.split($p.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){var s=$p.timezone.exec(r);s?(t.time=r.replace(s[1],""),t.timezone=s[1]):t.time=r}return t}function qTe(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};var s=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?s:i*100,restDateString:e.slice((r[1]||r[2]).length)}}function VTe(e,t){if(t===null)return new Date(NaN);var n=e.match(GTe);if(!n)return new Date(NaN);var r=!!n[4],s=Ed(n[1]),i=Ed(n[2])-1,o=Ed(n[3]),a=Ed(n[4]),c=Ed(n[5])-1;if(r)return ZTe(t,a,c)?KTe(t,a,c):new Date(NaN);var l=new Date(0);return!JTe(t,i,o)||!QTe(t,s)?new Date(NaN):(l.setUTCFullYear(t,i,Math.max(s,o)),l)}function Ed(e){return e?parseInt(e):1}function zTe(e){var t=e.match(WTe);if(!t)return NaN;var n=Xb(t[1]),r=Xb(t[2]),s=Xb(t[3]);return eOe(n,r,s)?n*j8+r*qI+s*1e3:NaN}function Xb(e){return e&&parseFloat(e.replace(",","."))||0}function YTe(e){if(e==="Z")return 0;var t=e.match(HTe);if(!t)return 0;var n=t[1]==="+"?-1:1,r=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;return tOe(r,s)?n*(r*j8+s*qI):NaN}function KTe(e,t,n){var r=new Date(0);r.setUTCFullYear(e,0,4);var s=r.getUTCDay()||7,i=(t-1)*7+n+1-s;return r.setUTCDate(r.getUTCDate()+i),r}var XTe=[31,null,31,30,31,30,31,31,30,31,30,31];function q8(e){return e%400===0||e%4===0&&e%100!==0}function JTe(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(XTe[t]||(q8(e)?29:28))}function QTe(e,t){return t>=1&&t<=(q8(e)?366:365)}function ZTe(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function eOe(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function tOe(e,t){return t>=0&&t<=59}function nOe(e,t){xe(2,arguments);var n=Ue(e),r=Lt(t),s=n.getFullYear(),i=n.getDate(),o=new Date(0);o.setFullYear(s,r,15),o.setHours(0,0,0,0);var a=FTe(o);return n.setMonth(r,Math.min(i,a)),n}function R_(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?R_=function(n){return typeof n}:R_=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},R_(e)}function K8e(e,t){if(xe(2,arguments),R_(t)!=="object"||t===null)throw new RangeError("values parameter must be an object");var n=Ue(e);return isNaN(n.getTime())?new Date(NaN):(t.year!=null&&n.setFullYear(t.year),t.month!=null&&(n=nOe(n,t.month)),t.date!=null&&n.setDate(Lt(t.date)),t.hours!=null&&n.setHours(Lt(t.hours)),t.minutes!=null&&n.setMinutes(Lt(t.minutes)),t.seconds!=null&&n.setSeconds(Lt(t.seconds)),t.milliseconds!=null&&n.setMilliseconds(Lt(t.milliseconds)),n)}function X8e(e,t){xe(2,arguments);var n=Lt(t);return F8(e,-n)}function J8e(e,t){xe(2,arguments);var n=Lt(t);return U8(e,-n)}function Q8e(e,t){xe(2,arguments);var n=Lt(t);return A0e(e,-n)}const rOe=3,sOe=3;function iOe(e){return Ot(e,"1092897457",{disableExposureLog:!0}).get("is_tatertot_enabled",!0)?Me(e,"3240576626"):!1}function oOe(e){return e?new Date>Hv(e,rOe):!0}function Z8e(e){var c;const[t,n]=C0e(Wt.TatertotInContextUpsellBannerV2,null,l=>l!=null&&typeof l=="object"&&typeof l.messageId=="string"&&typeof l.lastSeenAt=="number"&&typeof l.interacted=="boolean"&&typeof l.viewCount=="number"),r=Me(ce(),"3240576626"),s=t?DTe(t.lastSeenAt):null,i=t&&(c=t.viewCount)!=null?c:0;return{canBeSeen:e!==""&&(!t||i<=sOe&&(oOe(s)||t.messageId===e&&t.interacted===!1))&&r,markSeen:l=>{const u={messageId:e,lastSeenAt:jTe(new Date),interacted:l,viewCount:(t?t.viewCount:0)+(l?0:1)};xn.count(bn.TATERTOT,"tatertot_upsell_banner_shown"),n(u),localStorage.setItem(Wt.TatertotInContextUpsellBannerV2,JSON.stringify(u))}}}var Jb,_U;function aOe(){if(_U)return Jb;_U=1;function e(t){return t!==t}return Jb=e,Jb}var Qb,mU;function cOe(){if(mU)return Qb;mU=1;function e(t,n,r){for(var s=r-1,i=t.length;++s<i;)if(t[s]===n)return s;return-1}return Qb=e,Qb}var Zb,gU;function lOe(){if(gU)return Zb;gU=1;var e=N9(),t=aOe(),n=cOe();function r(s,i,o){return i===i?n(s,i,o):e(s,t,o)}return Zb=r,Zb}var e0,vU;function uOe(){if(vU)return e0;vU=1;var e=lOe();function t(n,r){var s=n==null?0:n.length;return!!s&&e(n,r,0)>-1}return e0=t,e0}var t0,yU;function dOe(){if(yU)return t0;yU=1;function e(t,n,r){for(var s=-1,i=t==null?0:t.length;++s<i;)if(r(n,t[s]))return!0;return!1}return t0=e,t0}var n0,EU;function V8(){if(EU)return n0;EU=1;function e(){}return n0=e,n0}var r0,CU;function fOe(){if(CU)return r0;CU=1;var e=d9(),t=V8(),n=SN(),r=1/0,s=e&&1/n(new e([,-0]))[1]==r?function(i){return new e(i)}:t;return r0=s,r0}var s0,SU;function z8(){if(SU)return s0;SU=1;var e=t9(),t=uOe(),n=dOe(),r=n9(),s=fOe(),i=SN(),o=200;function a(c,l,u){var d=-1,f=t,h=c.length,p=!0,_=[],m=_;if(u)p=!1,f=n;else if(h>=o){var y=l?null:s(c);if(y)return i(y);p=!1,f=r,m=new e}else m=l?[]:_;e:for(;++d<h;){var v=c[d],O=l?l(v):v;if(v=u||v!==0?v:0,p&&O===O){for(var S=m.length;S--;)if(m[S]===O)continue e;l&&m.push(O),_.push(v)}else f(m,O,u)||(m!==_&&m.push(O),_.push(v))}return _}return s0=a,s0}var i0,bU;function hOe(){if(bU)return i0;bU=1;var e=z8();function t(n){return n&&n.length?e(n):[]}return i0=t,i0}var pOe=hOe();const _Oe=$t(pOe),mOe="hints",gOe="system_hints";function Y8(e,t){const n=vOe(t==null?void 0:t.availableHints),r=[mOe,gOe].flatMap(s=>e.getAll(s)).flatMap(s=>s.split(",")).flatMap(s=>{var a,c;const i=s.trim();if(!i)return[];const o=(c=(a=iie(i))!=null?a:n.get(i))!=null?c:n.get(i.toLowerCase());return o?[o]:[]});return _Oe(r)}function vOe(e){var n,r;const t=new Map;if(!e)return t;for(const s of e)o0(t,s.systemHint,s.systemHint),(n=s.aliases)==null||n.forEach(i=>o0(t,i,s.systemHint)),(r=s.keywordInvocations)==null||r.forEach(i=>o0(t,i,s.systemHint));return t}function o0(e,t,n){if(!t)return;const r=t.trim();r&&(e.set(r,n),e.set(r.toLowerCase(),n))}const yOe=lr(e=>ye(()=>{var n;const t=ige(e,r=>Ja(r.message));return(n=t==null?void 0:t.message.metadata)==null?void 0:n.system_hints}));var R1=(e=>(e.Hover="hover",e.Enable="enable",e.Disable="disable",e))(R1||{}),x_=(e=>(e.SuggestionTrigger="suggestion_trigger",e.SuggestionClick="suggestion_click",e.SuggestionAccept="suggestion_accept",e.Enable="enable",e.Disable="disable",e.PrefixMatch="prefix_match",e.PrefixRemove="prefix_remove",e.AtMention="at_mention",e.SlashCommand="slash_command",e.ConnectorPromptShown="connector_prompt_shown",e.ConnectorPromptAccept="connector_prompt_accept",e.ConnectorPromptReject="connector_prompt_reject",e.ConnectorSettingsConnectClick="connector_settings_connect_click",e.ConnectorLinkContinueClick="connector_link_continue_click",e))(x_||{});const EOe=new Map([["suggestion_trigger",["Composer System Hint Suggestion Shown","composer_system_hint_suggestion_shown"]],["suggestion_click",["Composer System Hint Suggestion Clicked","composer_system_hint_suggestion_clicked"]],["suggestion_accept",["Composer System Hint Suggestion Selected","composer_system_hint_suggestion_selected"]],["enable",["Composer System Hint Elevated Selected","composer_system_hint_elevated_selected"]],["disable",["Composer System Hint Elevated Deselected","composer_system_hint_elevated_deselected"]],["prefix_match",["Composer System Hint Connector Prefix Selected","composer_system_hint_connector_prefix_selected"]],["prefix_remove",["Composer System Hint Connector Prefix Removed","composer_system_hint_connector_prefix_removed"]],["at_mention",["Composer System Hint Connector At Mention Selected","composer_system_hint_connector_at_mention_selected"]],["slash_command",["Composer System Hint Connector Slash Command Selected","composer_system_hint_connector_slash_command_selected"]],["connector_prompt_shown",["Composer System Hint Connector Prompt Shown","composer_system_hint_connector_prompt_shown"]],["connector_prompt_accept",["Composer System Hint Connector Prompt Accepted","composer_system_hint_connector_prompt_accepted"]],["connector_prompt_reject",["Composer System Hint Connector Prompt Rejected","composer_system_hint_connector_prompt_rejected"]],["connector_settings_connect_click",["Composer System Hint Connector Settings Connect Click","composer_system_hint_connector_settings_connect_click"]],["connector_link_continue_click",["Composer System Hint Connector Link Continue Click","composer_system_hint_connector_link_continue_click"]]]),COe=new Map([[re.Search,{hover:["Composer Search Button Hovered","composer_search_button_hovered"],enable:["Composer Search Button Clicked","composer_search_button_clicked"],disable:["Composer Search Button Clicked","composer_search_button_clicked"]}],[re.Think,{hover:["Composer Think Button Hovered","composer_think_button_hovered"],enable:["Composer Think Button Enabled","composer_think_button_enabled"],disable:["Composer Think Button Disabled","composer_think_button_disabled"]}],[re.Research,{hover:["Composer Research Button Hovered","composer_research_button_hovered"],enable:["Composer Research Button Enabled","composer_research_button_enabled"],disable:["Composer Research Button Disabled","composer_research_button_disabled"]}],[re.Agent,{hover:["Composer Agent System Hint Button Hovered","composer_agent_system_hint_button_hovered"],enable:["Composer Agent System Hint Button Enabled","composer_agent_system_hint_button_enabled"],disable:["Composer Agent System Hint Button Disabled","composer_agent_system_hint_button_disabled"]}],[re.PictureV2,{hover:["Composer Create Image Button Hovered","composer_create_image_button_hovered"],enable:["Composer Create Image Button Enabled","composer_create_image_button_enabled"],disable:["Composer Create Image Button Disabled","composer_create_image_button_disabled"]}],[re.Slurm,{hover:["Composer Slurm Button Hovered","composer_slurm_button_hovered"],enable:["Composer Slurm Button Enabled","composer_slurm_button_enabled"],disable:["Composer Slurm Button Disabled","composer_slurm_button_disabled"]}]]);function TU(e,t,n){var i,o;const[r,s]=(o=(i=COe.get(e))==null?void 0:i[t])!=null?o:[];r&&s&&ve.logEventWithStatsig(r,s,n)}function a0(e,t,n){var o;const r=I(b({},n),{connector_id:e.replace(/^connector:/,"")}),[s,i]=(o=EOe.get(t))!=null?o:[];s&&i&&ve.logEventWithStatsig(s,i,r)}let zm;async function K8(){const e=ne(()=>Promise.resolve({}),__vite__mapDeps([18]));return zm=await ne(()=>import("./csyhgpw8szcoz725.js"),__vite__mapDeps([19,1])),await e,X8.set(!0),zm}const X8=me(!1);function OU(e){"use forget";const t=W.c(2);if("children"in e){let n;return t[0]!==e.children?(n=g.jsx(g.Fragment,{children:e.children}),t[0]=e.children,t[1]=n):n=t[1],n}return null}function In(e,t){const n=Wn(()=>K8().then(i=>e(i)),{loading:t});function r(i){"use forget";const o=W.c(5),[a]=C.useState(s);if(a){let l;return o[0]!==a||o[1]!==i?(l=g.jsx(a,b({},i)),o[0]=a,o[1]=i,o[2]=l):l=o[2],l}let c;return o[3]!==i?(c=g.jsx(n,b({},i)),o[3]=i,o[4]=c):c=o[4],c}function s(){if(zm)return e(zm)}return r}const qi={Root:In(e=>e.Sheet.Root,OU),Trigger:In(e=>e.Sheet.Trigger,OU),View:In(e=>e.Sheet.View),Backdrop:In(e=>e.Sheet.Backdrop),Content:In(e=>e.Sheet.Content),BleedingBackground:In(e=>e.Sheet.BleedingBackground),Handle:In(e=>e.Sheet.Handle),Outlet:In(e=>e.Sheet.Outlet),Portal:In(e=>e.Sheet.Portal),Title:In(e=>e.Sheet.Title),Description:In(e=>e.Sheet.Description),SpecialWrapper:{Root:In(e=>e.Sheet.SpecialWrapper.Root),Content:In(e=>e.Sheet.SpecialWrapper.Content)}},SOe={Root:In(e=>e.AutoFocusTarget.Root)},c0={Root:In(e=>e.Scroll.Root),Trigger:In(e=>e.Scroll.Trigger),View:In(e=>e.Scroll.View),Content:In(e=>e.Scroll.Content)};function bOe(e){return vt().windowStyle==="chatbar_view"}const eVe=Ie(e=>ye(()=>X8()&&yt()&&!Vs(e)&&!bOe()&&!RQ()));function La(e,t){return Ot(e,"3081064739",t)}function AU(e){return e==="control"||e==="treatment"?e:!1}const tVe=ct(()=>{const e=me(void 0);return{get$(){return e()},recordModeOpened$:t=>{const n=e();n===void 0||n==="dropdown"||e.set(t)}}}),wU=ct(()=>({assignment:void 0,exposureLogged:!1})),TOe={getIsInExperimentWithExpsoure:e=>{const t=wU(e);if(t.exposureLogged&&t.assignment!==void 0)return t.assignment;const n=La(e),r=AU(n.get("composer-menu-sheet",""));return t.assignment=r,t.exposureLogged=!0,r},getIsInExperiment:e=>{const t=wU(e);if(t.assignment!==void 0)return t.assignment;const n=La(e,{disableExposureLog:!0}),r=AU(n.get("composer-menu-sheet",""));return t.assignment=r,r},getDetentSize:e=>La(e,{disableExposureLog:!0}).get("detent-size",""),getBackClosesSheet:e=>La(e,{disableExposureLog:!0}).get("back-closes-sheet",!1),getCanBounce:e=>La(e,{disableExposureLog:!0}).get("can-bounce",!1),getSystemHintsByPlan:e=>{if(La(e,{disableExposureLog:!0}).get("system-hints-by-plan",!1))return OOe},getNoExplicitAddFromSocial:e=>La(e,{disableExposureLog:!0}).get("no-explicit-add-from-social",!1)},OOe={pro:["picture_v2","picture","reason","research","search","tatertot","agent","slurm","canvas","video"],free:["picture_v2","picture","reason","research","search","tatertot","agent"],go:["picture_v2","picture","reason","research","search","tatertot","agent"],plus:["picture_v2","picture","research","search","slurm","agent","tatertot","canvas","video"]},x1=5,As="snorlaxConversations";var tG;const nVe=po.div(tG||(tG=ri(["text-sm text-red-500"]))),AOe=5,wOe=25,NOe=40,IOe=50,POe=(e,t,n)=>{if(e&&kI())return IOe;switch(t){case ae.GUEST:case ae.FREE:case ae.FREE_WORKSPACE:return AOe;case ae.GO:case ae.PLUS:case ae.QUORUM:case ae.K12:return wOe;case ae.DEPRECATED_EDU:case ae.EDUCATION_CBP:case ae.DEPRECATED_ENTERPRISE:case ae.PRO:case ae.SELF_SERVE_BUSINESS:case ae.ENTERPRISE_CBP:case ae.ENTERPRISE_HC:return NOe}};function rVe({ctx:e,accountPlanType:t,numFiles:n,gizmo:r}){return!t||![ae.GUEST,ae.FREE,ae.GO,ae.PLUS].includes(t)?!1:n>=POe(e,t)}const ROe="starredConversations";function VI(){return vt().isElectron}const J8=H$(()=>me(null));function sVe(e){return J8(e)()}function xOe(e,t){const n=J8(e);MOe(gt(()=>n()),t)&&n.set(t)}function MOe(e,t){return!((e==null?void 0:e.value)===TA.REALTIME&&(t==null?void 0:t.value)===TA.STREAMING)}const kOe="disable_history",iVe="user_latency_tools",oVe="mfa",aVe="chatgpt_allow_workspace_instruction",cVe="chatgpt_allow_workspace_policy",lVe="workspace_ip_allowlist";var LOe=(e=>(e.BrowsingAvailable="browsing_available",e.Sunshine="sunshine_available",e.WorkspaceGPTCustomActions="workspace_gpt_custom_actions",e.WorkspaceShareLinks="workspace_share_links",e.GizmoSupportEmails="gizmo_support_emails",e.D3Editor="d3_editor",e.D3EditorAllGpts="d3_editor_gpts",e.DataAnalysisV2="graphite",e.ChartSerialization="chart_serialization",e.SearchTool="search_tool",e.SearchToolHoldout="search_tool_holdout",e.MemoryInSearch="memory_in_search",e.Canvas="canvas",e.CanvasCodeExecution="canvas_code_execution",e.CanvasCodeNetworkAccess="canvas_code_network_access",e.DisableWritingBlockRendering="disable_writing_block_rendering",e.GizmoCanvasToggle="gizmo_canvas_toggle",e.Moonshine="moonshine",e.VideoScreenSharing="video_screen_sharing",e.DeepResearch="caterpillar",e.AllowVoiceUse="breeze_available",e.ImageGenToggle="image_gen_toggle",e.EditInCanvas="edit_in_canvas",e.MagicEditEnabled="magic_edit_enabled",e.WritingBlockNux="writing_block_nux",e))(LOe||{});const M1=28,DOe="conversationHistory";function Wl(){return[DOe]}const NU="conversation-history",FOe=1,zI=ct(()=>me([]));function uVe(e,t,n){if(!Me(e,"1753085879"))return;zI(e).set(s=>{const i=s.findIndex(o=>o.conversationId===t);if(i!==-1){const o=s.slice();return o[i]=I(b({},o[i]),{title:n}),o}return[{conversationId:t,title:n},...s]})}function Q8(){return fG({queryKey:Wl(),queryFn:async({pageParam:e})=>{const t=await Y.safeGet("/conversations",{parameters:{query:{offset:e,limit:M1,order:"updated",is_archived:!1,is_starred:!1}},authOption:en.SendIfAvailable});return K.addFirstTiming("load.conversationHistory"),I6(()=>{const n=zI(Bt()),r=gt(()=>n());for(const s of t.items){if(s.async_status!=null){const i=Tv(Bt(),s.id);xOe(i,{source:J6.SERVER,value:s.async_status})}r.some(i=>i.conversationId===s.id)&&n.set(i=>i.filter(o=>o.conversationId!==s.id))}}),t},initialPageParam:0,getNextPageParam:e=>{var n,r,s;const t=((n=e.offset)!=null?n:0)+((r=e.limit)!=null?r:0);return t<((s=e.total)!=null?s:0)?t:void 0}})}function dVe(){"use forget";var j,$;const e=W.c(27),t=K_e();let n;e[0]!==t?(n=(j=t==null?void 0:t.includes(kOe))!=null?j:!1,e[0]=t,e[1]=n):n=e[1];const r=n,s=ce();let i;e[2]!==s?(i=st(s),e[2]=s,e[3]=i):i=e[3];const a=!r&&!!i,c=VI();let l;e[4]!==s?(l=()=>zI(s)(),e[4]=s,e[5]=l):l=e[5];const u=Le(l),d=c;let f;e[6]===Symbol.for("react.memo_cache_sentinel")?(f=Q8(),e[6]=f):f=e[6];const h=f,p=Lv(NU,FOe,h.queryKey),_=d?"always":!0,m=d?"always":!0;let y;e[7]!==a||e[8]!==p||e[9]!==_||e[10]!==m?(y=I(b({},h),{enabled:a,refetchOnReconnect:_,refetchOnWindowFocus:m,placeholderData:p}),e[7]=a,e[8]=p,e[9]=_,e[10]=m,e[11]=y):y=e[11];const{data:v,fetchNextPage:O,hasNextPage:S,isLoading:E,isFetchingNextPage:T,isError:A,refetch:w}=zc(y);let N,P;e[12]!==s||e[13]!==A?(N=()=>{A&&kSe(s,NU)},P=[A,s],e[12]=s,e[13]=A,e[14]=N,e[15]=P):(N=e[14],P=e[15]),C.useEffect(N,P);let x;if(e[16]!==(v==null?void 0:v.pages)||e[17]!==u){const q=($=v==null?void 0:v.pages.flatMap(jOe))!=null?$:[];x=[...u.map(UOe).filter(Z=>!q.some(B=>B.id===Z.id)),...q],e[16]=v==null?void 0:v.pages,e[17]=u,e[18]=x}else x=e[18];const M=x;let F;return e[19]!==M||e[20]!==O||e[21]!==S||e[22]!==A||e[23]!==T||e[24]!==E||e[25]!==w?(F={conversations:M,fetchNextPage:O,hasNextPage:S,refetch:w,isLoading:E,isFetchingNextPage:T,isError:A},e[19]=M,e[20]=O,e[21]=S,e[22]=A,e[23]=T,e[24]=E,e[25]=w,e[26]=F):F=e[26],F}function UOe(e){return{id:e.conversationId,title:e.title}}function jOe(e){return e.items}function BOe(e,t){const n=Wl();e.invalidateQueries({queryKey:n}),e.invalidateQueries({queryKey:[ROe]}),t?e.invalidateQueries({queryKey:[As,{gizmoId:t}]}):e.invalidateQueries({queryKey:[As]})}function fVe(e,t){t&&Qs(t)&&e.invalidateQueries({queryKey:[As,{gizmoId:t}]})}function hVe(e,t,n){on(e).setQueryData(Q8().queryKey,r=>{if(r!==void 0){if(!Array.isArray(r.pages)){K.addError("Bad conversation history",{pages:r.pages});return}return Ss(r,s=>{for(const i of s.pages)for(const o of i.items)o.id===t&&(o.title=n)})}})}function qp(e){e&&e.danger("Failed to copy to clipboard.",{duration:4,hasCloseButton:!0,toastId:"copy_to_clipboard_failed_to_copy"})}const GOe=120;function WOe(e,t=GOe){if(!e)return;const n=e.replace(/\s+/g," ").trim();if(!n)return;if(n.length<=t)return n;const r="...",s=Math.max(t-r.length,0),i=n.slice(0,s);return"".concat(i).concat(r)}function HOe(e){var n;if(typeof e=="string")return e;const t=(n=e["text/plain"])!=null?n:e["text/html"];if(typeof t=="string")return t;if(e["image/png"])return"PNG image";if(e["image/jpeg"])return"JPEG image";if(e["image/webp"])return"WEBP image"}function l0(e,t,n){if(!t||!(n!=null&&n.showSuccessSnackbar))return;const r=WOe(HOe(e)),s=r?"Copied: ".concat(r):"Copied to clipboard";t.success(s,{duration:3})}function $Oe(e,t,n,r){var i,o,a;const{navigator:s}=(a=(o=(i=n==null?void 0:n.target)==null?void 0:i.ownerDocument)==null?void 0:o.defaultView)!=null?a:window;return new Promise((c,l)=>{var u;if(!(s!=null&&s.clipboard)){qp(t),l();return}try{if("write"in s.clipboard&&"supports"in ClipboardItem){const d=Object.entries(typeof e=="string"?{"text/plain":e}:e).map(([h,p])=>[h,typeof p=="string"?new Blob([p],{type:h}):p]);if(d.length===0){l0(e,t,r),c("success");return}const f=new ClipboardItem(Object.fromEntries(d));s.clipboard.write([f]).then(()=>{l0(e,t,r),c("success")},()=>{qp(t),l()})}else{const d=typeof e=="string"?e:(u=e["text/plain"])!=null?u:"";s.clipboard.writeText(d).then(()=>{l0(e,t,r),c("success")},()=>{qp(t),l()})}}catch(d){qp(t),l()}})}function qOe(e,t){returnwindow.location.origin.concat(z7(e,t))}async function pVe(e,t,n,r,s){await $Oe(qOe(e,t),n,r),s&&n.info(s,{id:"gizmo-copy-url",testId:"copy-gizmo-url-toast"})}function _Ve(e){return e.some(t=>t.type===Th.JIT_PLUGIN)}function mVe(e){var t;return"gizmo_id"in e&&(t=e.gizmo_id)!=null?t:null}function gVe(e){var t,n,r,s,i,o,a,c,l,u,d,f;return{id:e.gizmo.id,instructions:e.gizmo.instructions,name:e.gizmo.display.name,description:(t=e.gizmo.display.description)!=null?t:"",emoji:(n=e.gizmo.display.emoji)!=null?n:void 0,theme:(r=e.gizmo.display.theme)!=null?r:void 0,profilePictureId:(s=e.gizmo.display.profile_pic_id)!=null?s:void 0,profilePictureUrl:(i=e.gizmo.display.profile_picture_url)!=null?i:void 0,promptStarters:(o=e.gizmo.display.prompt_starters)!=null?o:[],tools:rc(e.tools),files:rc(e.files),sharing:e.gizmo.sharing?rc(e.gizmo.sharing):{subjects:[],recipient:e.gizmo.share_recipient},trainingDisabled:(a=e.gizmo.training_disabled)!=null?a:!1,goal:(c=e.gizmo.goal)!=null?c:void 0,memoryScope:(l=e.gizmo.memory_scope)!=null?l:Xi.UNSET,sharingRecipient:e.gizmo.share_recipient,sharingTargets:rc(e.gizmo.sharing_targets),liveVersion:(u=e.gizmo.live_version)!=null?u:0,contextStuffingBudget:e.gizmo.context_stuffing_budget,defaultModel:(d=e.gizmo.default_model)!=null?d:void 0,firstPartyProjectType:(f=e.gizmo.gizmo_snorlax_type)!=null?f:null}}function Z8(e){return e===Xi.GLOBAL||e===Xi.UNSET||e===Xi.PROJECT}function VOe(e){return e===Xi.PROJECT_V2}function vVe(e){return Z8(e)?Xi.GLOBAL:Xi.PROJECT_V2}function Vp(e,t){return n=>n?I(b({},n),{pages:n.pages.map((r,s)=>s===0?I(b({},r),{items:[e,...r.items]}):r)}):{pages:[t],pageParams:[]}}function zp(e){return t=>t&&I(b({},t),{pages:t.pages.map(n=>I(b({},n),{items:n.items.filter(r=>r.id!==e)}))})}function yVe({queryClient:e,newGizmoId:t,conversation:n,previousGizmoId:r}){const s=[],i=n.gizmo_id;return n.gizmo_id=t,s.push(()=>{n.gizmo_id=i}),t?(e.setQueryData([As,{gizmoId:t}],Vp(n,{items:[n],cursor:null})),s.push(()=>{e.setQueryData([As,{gizmoId:t}],zp(n.id))})):(e.setQueryData(Wl(),Vp(n,{items:[n],total:1,limit:M1,offset:0})),s.push(()=>{e.setQueryData(Wl(),zp(n.id))})),r?(e.setQueryData([As,{gizmoId:r}],zp(n.id)),s.push(()=>{e.setQueryData([As,{gizmoId:r}],Vp(n,{items:[n],cursor:null}))})):(e.setQueryData(Wl(),zp(n.id)),s.push(()=>{e.setQueryData(Wl(),Vp(n,{items:[n],total:1,limit:M1,offset:0}))})),$i(n.id,o=>{o.mode=vm(IU(t))}),s.push(()=>{$i(n.id,o=>{o.mode=vm(IU(i!=null?i:null))})}),()=>{s.forEach(o=>o())}}function IU(e){return e?{kind:Ls.GizmoInteraction,gizmo_id:e}:{kind:Ls.PrimaryAssistant}}const zOe=(e,t,n)=>{if(!n)return!0;const r=Hr(e);return r==null?void 0:r!=null&&(r.isAdminOfAccount()||r.isOwnerOfAccount())?!0:J_e(e,t)},YOe=Ie(e=>ye(()=>{if(Me(e,"2042715633"))return!0;const n=OSe(e);if(!n)return!0;const r=zOe(e,Sa.DeveloperModeConnector,n);return r!=null?r:!1})),$v=Ie(e=>ye(()=>YOe(e)&&Uae(e,ro.DeveloperMode)===!0));function EVe(e){if(!Me(e,"735368229"))return!1;const t=Hr(e);return t!=null&&!(t.isSelfServeBusiness()&&t.isStandardUserOfAccount())}function Zs(e){return cn(e,"3401870206")}function YI(e){return Zs(e).get("enabled",!1)}function KOe(e){return Zs(e).get("latest_model","alpha:gpt-5-t-mini:alpha.gpt5_mini_scout_v4_2")}function CVe(e,t){return ZOe({id:t},e)?t:KOe(e)}function SVe(e){return Zs(e).get("nux_type","")}function bVe(e){return Zs(e).get("enable_toggling",!1)}function TVe(e){return Zs(e).get("enable_github_repo_selection",!1)}function OVe(e){return Zs(e).get("max_repos",3)}function XOe(e){return Zs(e).get("force_system_hint",!1)}function JOe(e){return Zs(e).get("available_connectors",[])}function QOe(e){return Zs(e).get("available_sync_connectors",[])}function AVe(e){if(!GI(e))return[];const n=QOe(e),r=Yh(e,{});if(!r)return;const s=Hc(e);if(s)return n.map(i=>{var o;return(o=s.data)==null?void 0:o.connection_statuses.find(a=>a.user_connection_details.connection_type===i)}).filter(i=>{if(!i)return!1;if(i.user_connection_details.auth_status==="admin_connected")return!0;const a=i.user_connection_details.connector_id;return a?!!r.find(l=>l.id===a):!1})}function eV(e){return Zs(e).get("enable_all_mcps",!1)===!0}function wVe(){return["gdrive_sync_connector","github_connector","gmail_connector","notion_sync_connector","slack_sync_connector"]}function ZOe(e,t){if(!(e!=null&&e.id))return!1;const n=Zs(t);if(!n.get("enabled"))return!1;const r=n.get("latest_model");return!!(r&&e.id===r||new Set(n.get("glaux_model_ids",[])).has(e.id)||n.get("glaux_model_prefixes",[]).some(o=>e.id.startsWith(String(o))))}function NVe(e){return e!=null&&e==="glaux"}const eAe="MCP",tAe=["search","fetch"];function nAe(e){var r;const t=(r=e.actions)!=null?r:[];if(t.length===0)return!1;const n=new Map(t.map(s=>[s.name,s]));return tAe.every(s=>{const i=n.get(s);return i!=null&&i.is_consequential===!1})}const rAe=e=>e.connector_type===eAe?Rs.MCP_CONNECTOR:sr[e.connector_id],IVe=Ie(e=>ye(()=>{if(!YI(e))return new Set;const n=tV(e),r=c8(e,{fetchValidLinksOnly:!0});if(r.isLoading||!n)return;const s=new Set((r==null?void 0:r.data)&&Array.from(r.data.values()).flatMap(o=>o.map(a=>rAe(a)).filter(a=>!!a))),i=eV(e);return new Set(n.filter(o=>{var a;return(i&&o.type===Rs.MCP_CONNECTOR&&((a=o.conformance)==null?void 0:a.implements_retrievable)===!0||o.type!==Rs.MCP_CONNECTOR)&&s.has(o.type)}).map(o=>o.type))})),tV=Ie(e=>ye(()=>nV(e,!1))),PVe=Ie(e=>ye(()=>nV(e,!0)));function nV(e,t){if(!YI(e))return[];const r=JOe(e),s=eV(e),i=$v(e),{data:o,isLoading:a}=ua(e,{skipActions:!1});if(a||r.length===0)return;const c=Uv(o),l=Array.from(c.values()),u=l.filter(m=>m.connector_type!=="MCP").map(m=>I(b({},m),{type:sr[m.id]})),d=l.filter(m=>{var y,v;return m.connector_type==="MCP"&&((y=m.conformance)==null?void 0:y.implements_retrievable)&&(m.status!=="ONLY_ME"||i)&&!((v=m.branding)!=null&&v.is_discoverable_app)&&nAe(m)}).map(m=>I(b({},m),{type:Rs.MCP_CONNECTOR})),f=[...u,...d].filter(m=>!!m.type&&(t||m.status!=="DISABLED_BY_ADMIN")),h=new Set(r);return s&&h.add(Rs.MCP_CONNECTOR),Array.from(h).flatMap(m=>m===Rs.MCP_CONNECTOR?f.filter(y=>y.type===m):[f.find(y=>y.type===m)]).filter(m=>!!m)}const sAe=Ie(e=>ye(()=>{var n;if(!((n=Hr(e))!=null&&n.isEnterprisey())||XOe(e))return!0;const t=tV(e);return n8(e)||t!=null&&t.length>0})),PU=50,KI=Ie(()=>me([]));function iAe(e){"use forget";const t=W.c(5),{children:n}=e,r=ce(),s=nn(),i=aQ();let o,a;return t[0]!==i||t[1]!==r||t[2]!==s?(o=()=>{KI.set(r,c=>{const l={action:i,location:s},u=[...c,l];return u.length>PU?u.slice(u.length-PU):u})},a=[i,r,s],t[0]=i,t[1]=r,t[2]=s,t[3]=o,t[4]=a):(o=t[3],a=t[4]),C.useEffect(o,a),n}function oAe(e,t){return Qne(e)||(t==null?void 0:t.hasPaidFeatures())}function aAe(e){var r,s;const t=st(e);return h9((r=t==null?void 0:t.planType)!=null?r:ae.FREE)||oAe((s=_a(e))==null?void 0:s.user,t)&&!!1}const cAe=ge(ht,"44c6db",20,20),lAe=({icon:e,title:t,badge:n,description:r,statusIndicator:s,showGitHubConfigure:i})=>{const o=upe("installations/select_target");return g.jsxs("div",{className:"flex w-full items-center justify-between gap-4",children:[g.jsxs("div",{className:"me-4 flex items-center gap-3 text-start text-sm",children:[e,!r&&!n?t:g.jsxs("div",{className:"flex min-w-0 flex-1 flex-col",children:[g.jsxs("div",{className:"flex flex-row items-center gap-2",children:[g.jsx("div",{children:t}),n]}),g.jsx("div",{className:"text-token-text-secondary text-xs",children:r})]})]}),i&&g.jsx(fo,{onClick:()=>{window.open(o,"_blank")},color:"secondary",size:"small",children:g.jsx(cAe,{className:"icon-sm"})}),s]})};function RVe(e,t){const n=C.useRef(e);C.useEffect(()=>{n.current=e},[e]),C.useEffect(()=>{function r(){n.current()}if(t!=null){const s=window.setInterval(r,t);return()=>clearInterval(s)}},[t])}const jf=C.createContext({});function nl(e){const t=C.useRef(null);return t.current===null&&(t.current=e()),t.current}const XI=typeof window<"u",Zu=XI?C.useLayoutEffect:C.useEffect,Kh=C.createContext(null);function JI(e,t){e.indexOf(t)===-1&&e.push(t)}function qv(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Gs=(e,t,n)=>n>t?t:n<e?e:n;let Bf=()=>{};const ao={},rV=e=>new RegExp("^-?(?:\\d+(?:\\.\\d+)?|\\.\\d+)$","u").test(e);function sV(e){return typeof e=="object"&&e!==null}const iV=e=>new RegExp("^0[^.\\s]+$","u").test(e);function QI(e){let t;return()=>(t===void 0&&(t=e()),t)}const vr=e=>e,uAe=(e,t)=>n=>t(e(n)),Xh=(...e)=>e.reduce(uAe),qc=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class ZI{constructor(){this.subscriptions=[]}add(t){return JI(this.subscriptions,t),()=>qv(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const xs=e=>e*1e3,rs=e=>e/1e3;function eP(e,t){return t?e*(1e3/t):0}const dAe=(e,t,n)=>{const r=t-e;return((n-e)%r+r)%r+e},oV=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,fAe=1e-7,hAe=12;function pAe(e,t,n,r,s){let i,o,a=0;do o=t+(n-t)/2,i=oV(o,r,s)-e,i>0?n=o:t=o;while(Math.abs(i)>fAe&&++a<hAe);return o}function Jh(e,t,n,r){if(e===t&&n===r)return vr;const s=i=>pAe(i,0,1,e,n);return i=>i===0||i===1?i:oV(s(i),t,r)}const aV=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,cV=e=>t=>1-e(1-t),lV=Jh(.33,1.53,.69,.99),tP=cV(lV),uV=aV(tP),dV=e=>(e*=2)<1?.5*tP(e):.5*(2-Math.pow(2,-10*(e-1))),nP=e=>1-Math.sin(Math.acos(e)),fV=cV(nP),hV=aV(nP),_Ae=Jh(.42,0,1,1),mAe=Jh(0,0,.58,1),pV=Jh(.42,0,.58,1);function xVe(e,t="end"){return n=>{n=t==="end"?Math.min(n,.999):Math.max(n,.001);const r=n*e,s=t==="end"?Math.floor(r):Math.ceil(r);return Gs(0,1,s/e)}}const _V=e=>Array.isArray(e)&&typeof e[0]!="number";function mV(e,t){return _V(e)?e[dAe(0,e.length,t)]:e}const gV=e=>Array.isArray(e)&&typeof e[0]=="number",gAe={linear:vr,easeIn:_Ae,easeInOut:pV,easeOut:mAe,circIn:nP,circInOut:hV,circOut:fV,backIn:tP,backInOut:uV,backOut:lV,anticipate:dV},vAe=e=>typeof e=="string",k1=e=>{if(gV(e)){Bf(e.length===4);const[t,n,r,s]=e;return Jh(t,n,r,s)}else if(vAe(e))return gAe[e];return e},Yp=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function yAe(e,t){let n=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function c(u){o.has(u)&&(l.schedule(u),e()),u(a)}const l={schedule:(u,d=!1,f=!1)=>{const p=f&&s?n:r;return d&&o.add(u),p.has(u)||p.add(u),u},cancel:u=>{r.delete(u),o.delete(u)},process:u=>{if(a=u,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(c),n.clear(),s=!1,i&&(i=!1,l.process(u))}};return l}const EAe=40;function vV(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=Yp.reduce((O,S)=>(O[S]=yAe(i),O),{}),{setup:a,read:c,resolveKeyframes:l,preUpdate:u,update:d,preRender:f,render:h,postRender:p}=o,_=()=>{const O=ao.useManualTiming?s.timestamp:performance.now();n=!1,ao.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(O-s.timestamp,EAe),1)),s.timestamp=O,s.isProcessing=!0,a.process(s),c.process(s),l.process(s),u.process(s),d.process(s),f.process(s),h.process(s),p.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(_))},m=()=>{n=!0,r=!0,s.isProcessing||e(_)};return{schedule:Yp.reduce((O,S)=>{const E=o[S];return O[S]=(T,A=!1,w=!1)=>(n||m(),E.schedule(T,A,w)),O},{}),cancel:O=>{for(let S=0;S<Yp.length;S++)o[Yp[S]].cancel(O)},state:s,steps:o}}const{schedule:mt,cancel:Ws,state:Rn,steps:u0}=vV(typeof requestAnimationFrame<"u"?requestAnimationFrame:vr,!0);let M_;function CAe(){M_=void 0}const _r={now:()=>(M_===void 0&&_r.set(Rn.isProcessing||ao.useManualTiming?Rn.timestamp:performance.now()),M_),set:e=>{M_=e,queueMicrotask(CAe)}},yV=e=>t=>typeof t=="string"&&t.startsWith(e),rP=yV("--"),SAe=yV("var(--"),sP=e=>SAe(e)?bAe.test(e.split("/*")[0].trim()):!1,bAe=new RegExp("var\\(--(?:[\\w-]+\\s*|[\\w-]+\\s*,(?:\\s*[^)(\\s]|\\s*\\((?:[^)(]|\\([^)(]*\\))*\\))+\\s*)\\)$","iu"),ed={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Gf=I(b({},ed),{transform:e=>Gs(0,1,e)}),Kp=I(b({},ed),{default:1}),of=e=>Math.round(e*1e5)/1e5,iP=new RegExp("-?(?:\\d+(?:\\.\\d+)?|\\.\\d+)","gu");function TAe(e){return e==null}const OAe=new RegExp("^(?:#[\\da-f]{3,8}|(?:rgb|hsl)a?\\((?:-?[\\d.]+%?[,\\s]+){2}-?[\\d.]+%?\\s*(?:[,/]\\s*)?(?:\\b\\d+(?:\\.\\d+)?|\\.\\d+)?%?\\))$","iu"),oP=(e,t)=>n=>!!(typeof n=="string"&&OAe.test(n)&&n.startsWith(e)||t&&!TAe(n)&&Object.prototype.hasOwnProperty.call(n,t)),EV=(e,t,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match(iP);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},AAe=e=>Gs(0,255,e),d0=I(b({},ed),{transform:e=>Math.round(AAe(e))}),oc={test:oP("rgb","red"),parse:EV("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+d0.transform(e)+", "+d0.transform(t)+", "+d0.transform(n)+", "+of(Gf.transform(r))+")"};function wAe(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const L1={test:oP("#"),parse:wAe,transform:oc.transform},Qh=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>"".concat(t).concat(e)}),Po=Qh("deg"),vi=Qh("%"),We=Qh("px"),NAe=Qh("vh"),IAe=Qh("vw"),RU=I(b({},vi),{parse:e=>vi.parse(e)/100,transform:e=>vi.transform(e*100)}),Hl={test:oP("hsl","hue"),parse:EV("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+vi.transform(of(t))+", "+vi.transform(of(n))+", "+of(Gf.transform(r))+")"},dn={test:e=>oc.test(e)||L1.test(e)||Hl.test(e),parse:e=>oc.test(e)?oc.parse(e):Hl.test(e)?Hl.parse(e):L1.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?oc.transform(e):Hl.transform(e),getAnimatableNone:e=>{const t=dn.parse(e);return t.alpha=0,dn.transform(t)}},PAe=new RegExp("(?:#[\\da-f]{3,8}|(?:rgb|hsl)a?\\((?:-?[\\d.]+%?[,\\s]+){2}-?[\\d.]+%?\\s*(?:[,/]\\s*)?(?:\\b\\d+(?:\\.\\d+)?|\\.\\d+)?%?\\))","giu");function RAe(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(iP))==null?void 0:t.length)||0)+(((n=e.match(PAe))==null?void 0:n.length)||0)>0}const CV="number",SV="color",xAe="var",MAe="var(",xU="${}",kAe=new RegExp("var\\s*\\(\\s*--(?:[\\w-]+\\s*|[\\w-]+\\s*,(?:\\s*[^)(\\s]|\\s*\\((?:[^)(]|\\([^)(]*\\))*\\))+\\s*)\\)|#[\\da-f]{3,8}|(?:rgb|hsl)a?\\((?:-?[\\d.]+%?[,\\s]+){2}-?[\\d.]+%?\\s*(?:[,/]\\s*)?(?:\\b\\d+(?:\\.\\d+)?|\\.\\d+)?%?\\)|-?(?:\\d+(?:\\.\\d+)?|\\.\\d+)","giu");function Wf(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=t.replace(kAe,c=>(dn.test(c)?(r.color.push(i),s.push(SV),n.push(dn.parse(c))):c.startsWith(MAe)?(r.var.push(i),s.push(xAe),n.push(c)):(r.number.push(i),s.push(CV),n.push(parseFloat(c))),++i,xU)).split(xU);return{values:n,split:a,indexes:r,types:s}}function bV(e){return Wf(e).values}function TV(e){const{split:t,types:n}=Wf(e),r=t.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=t[o],s[o]!==void 0){const a=n[o];a===CV?i+=of(s[o]):a===SV?i+=dn.transform(s[o]):i+=s[o]}return i}}const LAe=e=>typeof e=="number"?0:dn.test(e)?dn.getAnimatableNone(e):e;function DAe(e){const t=bV(e);return TV(e)(t.map(LAe))}const da={test:RAe,parse:bV,createTransformer:TV,getAnimatableNone:DAe};function f0(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function FAe({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,i=0,o=0;if(!t)s=i=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,c=2*n-a;s=f0(c,a,e+1/3),i=f0(c,a,e),o=f0(c,a,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function Ym(e,t){return n=>n>0?t:e}const Ut=(e,t,n)=>e+(t-e)*n,h0=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},UAe=[L1,oc,Hl],jAe=e=>UAe.find(t=>t.test(e));function MU(e){const t=jAe(e);if(!t)return!1;let n=t.parse(e);return t===Hl&&(n=FAe(n)),n}const kU=(e,t)=>{const n=MU(e),r=MU(t);if(!n||!r)return Ym(e,t);const s=b({},n);return i=>(s.red=h0(n.red,r.red,i),s.green=h0(n.green,r.green,i),s.blue=h0(n.blue,r.blue,i),s.alpha=Ut(n.alpha,r.alpha,i),oc.transform(s))},D1=new Set(["none","hidden"]);function BAe(e,t){return D1.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function GAe(e,t){return n=>Ut(e,t,n)}function aP(e){return typeof e=="number"?GAe:typeof e=="string"?sP(e)?Ym:dn.test(e)?kU:$Ae:Array.isArray(e)?OV:typeof e=="object"?dn.test(e)?kU:WAe:Ym}function OV(e,t){const n=[...e],r=n.length,s=e.map((i,o)=>aP(i)(i,t[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function WAe(e,t){const n=b(b({},e),t),r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=aP(e[s])(e[s],t[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function HAe(e,t){var s;const n=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const o=t.types[i],a=e.indexes[o][r[o]],c=(s=e.values[a])!=null?s:0;n[i]=c,r[o]++}return n}const $Ae=(e,t)=>{const n=da.createTransformer(t),r=Wf(e),s=Wf(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?D1.has(e)&&!s.values.length||D1.has(t)&&!r.values.length?BAe(e,t):Xh(OV(HAe(r,s),s.values),n):Ym(e,t)};function AV(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Ut(e,t,n):aP(e)(e,t)}const qAe=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>mt.update(t,n),stop:()=>Ws(t),now:()=>Rn.isProcessing?Rn.timestamp:_r.now()}},wV=(e,t,n=10)=>{let r="";const s=Math.max(Math.round(t/n),2);for(let i=0;i<s;i++)r+=Math.round(e(i/(s-1))*1e4)/1e4+", ";return"linear(".concat(r.substring(0,r.length-2),")")},Km=2e4;function cP(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Km;)t+=n,r=e.next(t);return t>=Km?1/0:t}function NV(e,t=100,n){const r=n(I(b({},e),{keyframes:[0,t]})),s=Math.min(cP(r),Km);return{type:"keyframes",ease:i=>r.next(s*i).value/t,duration:rs(s)}}const VAe=5;function IV(e,t,n){const r=Math.max(t-VAe,0);return eP(n-e(r),t-r)}const Qt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},p0=.001;function zAe({duration:e=Qt.duration,bounce:t=Qt.bounce,velocity:n=Qt.velocity,mass:r=Qt.mass}){let s,i,o=1-t;o=Gs(Qt.minDamping,Qt.maxDamping,o),e=Gs(Qt.minDuration,Qt.maxDuration,rs(e)),o<1?(s=l=>{const u=l*o,d=u*e,f=u-n,h=F1(l,o),p=Math.exp(-d);return p0-f/h*p},i=l=>{const d=l*o*e,f=d*n+n,h=Math.pow(o,2)*Math.pow(l,2)*e,p=Math.exp(-d),_=F1(Math.pow(l,2),o);return(-s(l)+p0>0?-1:1)*((f-h)*p)/_}):(s=l=>{const u=Math.exp(-l*e),d=(l-n)*e+1;return-p0+u*d},i=l=>{const u=Math.exp(-l*e),d=(n-l)*(e*e);return u*d});const a=5/e,c=KAe(s,i,a);if(e=xs(e),isNaN(c))return{stiffness:Qt.stiffness,damping:Qt.damping,duration:e};{const l=Math.pow(c,2)*r;return{stiffness:l,damping:o*2*Math.sqrt(r*l),duration:e}}}const YAe=12;function KAe(e,t,n){let r=n;for(let s=1;s<YAe;s++)r=r-e(r)/t(r);return r}function F1(e,t){return e*Math.sqrt(1-t*t)}const XAe=["duration","bounce"],JAe=["stiffness","damping","mass"];function LU(e,t){return t.some(n=>e[n]!==void 0)}function QAe(e){let t=b({velocity:Qt.velocity,stiffness:Qt.stiffness,damping:Qt.damping,mass:Qt.mass,isResolvedFromDuration:!1},e);if(!LU(e,JAe)&&LU(e,XAe))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Gs(.05,1,1-(e.bounce||0))*Math.sqrt(s);t=I(b({},t),{mass:Qt.mass,stiffness:s,damping:i})}else{const n=zAe(e);t=I(b(b({},t),n),{mass:Qt.mass}),t.isResolvedFromDuration=!0}return t}function Hf(e=Qt.visualDuration,t=Qt.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:c,damping:l,mass:u,duration:d,velocity:f,isResolvedFromDuration:h}=QAe(I(b({},n),{velocity:-rs(n.velocity||0)})),p=f||0,_=l/(2*Math.sqrt(c*u)),m=o-i,y=rs(Math.sqrt(c/u)),v=Math.abs(m)<5;r||(r=v?Qt.restSpeed.granular:Qt.restSpeed.default),s||(s=v?Qt.restDelta.granular:Qt.restDelta.default);let O;if(_<1){const E=F1(y,_);O=T=>{const A=Math.exp(-_*y*T);return o-A*((p+_*y*m)/E*Math.sin(E*T)+m*Math.cos(E*T))}}else if(_===1)O=E=>o-Math.exp(-y*E)*(m+(p+y*m)*E);else{const E=y*Math.sqrt(_*_-1);O=T=>{const A=Math.exp(-_*y*T),w=Math.min(E*T,300);return o-A*((p+_*y*m)*Math.sinh(w)+E*m*Math.cosh(w))/E}}const S={calculatedDuration:h&&d||null,next:E=>{const T=O(E);if(h)a.done=E>=d;else{let A=E===0?p:0;_<1&&(A=E===0?xs(p):IV(O,E,T));const w=Math.abs(A)<=r,N=Math.abs(o-T)<=s;a.done=w&&N}return a.value=a.done?o:T,a},toString:()=>{const E=Math.min(cP(S),Km),T=wV(A=>S.next(E*A).value,E,30);return E+"ms "+T},toTransition:()=>{}};return S}Hf.applyToOptions=e=>{const t=NV(e,100,Hf);return e.ease=t.ease,e.duration=xs(t.duration),e.type="keyframes",e};function U1({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:c,restDelta:l=.5,restSpeed:u}){const d=e[0],f={done:!1,value:d},h=w=>a!==void 0&&w<a||c!==void 0&&w>c,p=w=>a===void 0?c:c===void 0||Math.abs(a-w)<Math.abs(c-w)?a:c;let _=n*t;const m=d+_,y=o===void 0?m:o(m);y!==m&&(_=y-d);const v=w=>-_*Math.exp(-w/r),O=w=>y+v(w),S=w=>{const N=v(w),P=O(w);f.done=Math.abs(N)<=l,f.value=f.done?y:P};let E,T;const A=w=>{h(f.value)&&(E=w,T=Hf({keyframes:[f.value,p(f.value)],velocity:IV(O,w,f.value),damping:s,stiffness:i,restDelta:l,restSpeed:u}))};return A(0),{calculatedDuration:null,next:w=>{let N=!1;return!T&&E===void 0&&(N=!0,S(w),A(w)),E!==void 0&&w>=E?T.next(w-E):(!N&&S(w),f)}}}function ZAe(e,t,n){const r=[],s=n||ao.mix||AV,i=e.length-1;for(let o=0;o<i;o++){let a=s(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||vr:t;a=Xh(c,a)}r.push(a)}return r}function lP(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const i=e.length;if(Bf(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=ZAe(t,r,s),c=a.length,l=u=>{if(o&&u<e[0])return t[0];let d=0;if(c>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const f=qc(e[d],e[d+1],u);return a[d](f)};return n?u=>l(Gs(e[0],e[i-1],u)):l}function PV(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=qc(0,t,r);e.push(Ut(n,1,s))}}function uP(e){const t=[0];return PV(t,e.length-1),t}function e1e(e,t){return e.map(n=>n*t)}function t1e(e,t){return e.map(()=>t||pV).splice(0,e.length-1)}function af({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=_V(r)?r.map(k1):k1(r),i={done:!1,value:t[0]},o=e1e(n&&n.length===t.length?n:uP(t),e),a=lP(o,t,{ease:Array.isArray(s)?s:t1e(t,s)});return{calculatedDuration:e,next:c=>(i.value=a(c),i.done=c>=e,i)}}const n1e=e=>e!==null;function dP(e,{repeat:t,repeatType:n="loop"},r,s=1){const i=e.filter(n1e),a=s<0||t&&n!=="loop"&&t%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const r1e={decay:U1,inertia:U1,tween:af,keyframes:af,spring:Hf};function RV(e){typeof e.type=="string"&&(e.type=r1e[e.type])}class fP{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const s1e=e=>e/100;class Vv extends fP{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==_r.now()&&this.tick(_r.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;RV(t);const{type:n=af,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=t;let{keyframes:a}=t;const c=n||af;c!==af&&typeof a[0]!="number"&&(this.mixKeyframes=Xh(s1e,AV(a[0],a[1])),a=[0,100]);const l=c(I(b({},t),{keyframes:a}));i==="mirror"&&(this.mirroredGenerator=c(I(b({},t),{keyframes:[...a].reverse(),velocity:-o}))),l.calculatedDuration===null&&(l.calculatedDuration=cP(l));const{calculatedDuration:u}=l;this.calculatedDuration=u,this.resolvedDuration=u+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=l}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:l=0,keyframes:u,repeat:d,repeatType:f,repeatDelay:h,type:p,onUpdate:_,finalKeyframe:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const y=this.currentTime-l*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?y<0:y>s;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let O=this.currentTime,S=r;if(d){const w=Math.min(this.currentTime,s)/a;let N=Math.floor(w),P=w%1;!P&&w>=1&&(P=1),P===1&&N--,N=Math.min(N,d+1),!!(N%2)&&(f==="reverse"?(P=1-P,h&&(P-=h/a)):f==="mirror"&&(S=o)),O=Gs(0,1,P)*a}const E=v?{done:!1,value:u[0]}:S.next(O);i&&(E.value=i(E.value));let{done:T}=E;!v&&c!==null&&(T=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const A=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&T);return A&&p!==U1&&(E.value=dP(u,this.options,m,this.speed)),_&&_(E.value),A&&this.finish(),E}then(t,n){return this.finished.then(t,n)}get duration(){return rs(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+rs(t)}get time(){return rs(this.currentTime)}set time(t){var n;t=xs(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(_r.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=rs(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:t=qAe,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n!=null?n:r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(_r.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function i1e(e){var t;for(let n=1;n<e.length;n++)(t=e[n])!=null||(e[n]=e[n-1])}const ac=e=>e*180/Math.PI,j1=e=>{const t=ac(Math.atan2(e[1],e[0]));return B1(t)},o1e={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:j1,rotateZ:j1,skewX:e=>ac(Math.atan(e[1])),skewY:e=>ac(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},B1=e=>(e=e%360,e<0&&(e+=360),e),DU=j1,FU=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),UU=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),a1e={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:FU,scaleY:UU,scale:e=>(FU(e)+UU(e))/2,rotateX:e=>B1(ac(Math.atan2(e[6],e[5]))),rotateY:e=>B1(ac(Math.atan2(-e[2],e[0]))),rotateZ:DU,rotate:DU,skewX:e=>ac(Math.atan(e[4])),skewY:e=>ac(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function G1(e){return e.includes("scale")?1:0}function W1(e,t){if(!e||e==="none")return G1(t);const n=e.match(new RegExp("^matrix3d\\(([-\\d.e\\s,]+)\\)$","u"));let r,s;if(n)r=a1e,s=n;else{const a=e.match(new RegExp("^matrix\\(([-\\d.e\\s,]+)\\)$","u"));r=o1e,s=a}if(!s)return G1(t);const i=r[t],o=s[1].split(",").map(l1e);return typeof i=="function"?i(o):o[i]}const c1e=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return W1(n,t)};function l1e(e){return parseFloat(e.trim())}const td=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],nd=new Set(td),jU=e=>e===ed||e===We,u1e=new Set(["x","y","z"]),d1e=td.filter(e=>!u1e.has(e));function f1e(e){const t=[];return d1e.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const bc={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>W1(t,"x"),y:(e,{transform:t})=>W1(t,"y")};bc.translateX=bc.x;bc.translateY=bc.y;const Tc=new Set;let H1=!1,$1=!1,q1=!1;function xV(){if($1){const e=Array.from(Tc).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=f1e(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))==null||a.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}$1=!1,H1=!1,Tc.forEach(e=>e.complete(q1)),Tc.clear()}function MV(){Tc.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&($1=!0)})}function h1e(){q1=!0,MV(),xV(),q1=!1}class hP{constructor(t,n,r,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Tc.add(this),H1||(H1=!0,mt.read(MV),mt.resolveKeyframes(xV))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;if(t[0]===null){const i=s==null?void 0:s.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(r&&n){const a=r.readValue(n,o);a!=null&&(t[0]=a)}t[0]===void 0&&(t[0]=o),s&&i===void 0&&s.set(t[0])}i1e(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Tc.delete(this)}cancel(){this.state==="scheduled"&&(Tc.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const p1e=e=>e.startsWith("--");function _1e(e,t,n){p1e(t)?e.style.setProperty(t,n):e.style[t]=n}const kV=QI(()=>window.ScrollTimeline!==void 0),m1e={};function g1e(e,t){const n=QI(e);return()=>{var r;return(r=m1e[t])!=null?r:n()}}const LV=g1e(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(e){return!1}return!0},"linearEasing"),qd=([e,t,n,r])=>"cubic-bezier(".concat(e,", ").concat(t,", ").concat(n,", ").concat(r,")"),BU={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:qd([0,.65,.55,1]),circOut:qd([.55,0,1,.45]),backIn:qd([.31,.01,.66,-.59]),backOut:qd([.33,1.53,.69,.99])};function DV(e,t){if(e)return typeof e=="function"?LV()?wV(e,t):"ease-out":gV(e)?qd(e):Array.isArray(e)?e.map(n=>DV(n,t)||BU.easeOut):BU[e]}function v1e(e,t,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeOut",times:c}={},l=void 0){const u={[t]:n};c&&(u.offset=c);const d=DV(a,s);Array.isArray(d)&&(u.easing=d);const f={delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return l&&(f.pseudoElement=l),e.animate(u,f)}function pP(e){return typeof e=="function"&&"applyToOptions"in e}function y1e(n){var r=n,{type:e}=r,t=G(r,["type"]);var s,i;return pP(e)&&LV()?e.applyToOptions(t):((s=t.duration)!=null||(t.duration=300),(i=t.ease)!=null||(t.ease="easeOut"),t)}class E1e extends fP{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:a,onComplete:c}=t;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=t,Bf(typeof t.type!="string");const l=y1e(t);this.animation=v1e(n,r,s,l,i),l.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const u=dP(s,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(u):_1e(n,r,u),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch(t){}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return rs(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+rs(t)}get time(){return rs(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=xs(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&kV()?(this.animation.timeline=t,vr):n(this)}}const FV={anticipate:dV,backInOut:uV,circInOut:hV};function C1e(e){return e in FV}function S1e(e){typeof e.ease=="string"&&C1e(e.ease)&&(e.ease=FV[e.ease])}const GU=10;class b1e extends E1e{constructor(t){S1e(t),RV(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){var u;const l=this.options,{motionValue:n,onUpdate:r,onComplete:s,element:i}=l,o=G(l,["motionValue","onUpdate","onComplete","element"]);if(!n)return;if(t!==void 0){n.set(t);return}const a=new Vv(I(b({},o),{autoplay:!1})),c=xs((u=this.finishedTime)!=null?u:this.time);n.setWithVelocity(a.sample(c-GU).value,a.sample(c).value,GU),a.stop()}}const WU=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(da.test(e)||e==="0")&&!e.startsWith("url("));function T1e(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function O1e(e,t,n,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=WU(s,t),a=WU(i,t);return!o||!a?!1:T1e(e)||(n==="spring"||pP(n))&&r}function V1(e){e.duration=0,e.type="keyframes"}const A1e=new Set(["opacity","clipPath","filter","transform"]),w1e=QI(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function N1e(e){var u;const{motionValue:t,name:n,repeatDelay:r,repeatType:s,damping:i,type:o}=e;if(!(((u=t==null?void 0:t.owner)==null?void 0:u.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:l}=t.owner.getProps();return w1e()&&n&&A1e.has(n)&&(n!=="transform"||!l)&&!c&&!r&&s!=="mirror"&&i!==0&&o!=="inertia"}const I1e=40;class P1e extends fP{constructor(f){var h=f,{autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:a,name:c,motionValue:l,element:u}=h,d=G(h,["autoplay","delay","type","repeat","repeatDelay","repeatType","keyframes","name","motionValue","element"]);var m;super(),this.stop=()=>{var y,v;this._animation&&(this._animation.stop(),(y=this.stopTimeline)==null||y.call(this)),(v=this.keyframeResolver)==null||v.cancel()},this.createdAt=_r.now();const p=b({autoplay:t,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,name:c,motionValue:l,element:u},d),_=(u==null?void 0:u.KeyframeResolver)||hP;this.keyframeResolver=new _(a,(y,v,O)=>this.onKeyframesResolved(y,v,p,!O),c,l,u),(m=this.keyframeResolver)==null||m.scheduleResolve()}onKeyframesResolved(t,n,r,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:a,delay:c,isHandoff:l,onUpdate:u}=r;this.resolvedAt=_r.now(),O1e(t,i,o,a)||((ao.instantAnimations||!c)&&(u==null||u(dP(t,r,n))),t[0]=t[t.length-1],V1(r),r.repeat=0);const d=s?this.resolvedAt?this.resolvedAt-this.createdAt>I1e?this.resolvedAt:this.createdAt:this.createdAt:void 0,f=I(b({startTime:d,finalKeyframe:n},r),{keyframes:t}),h=!l&&N1e(f)?new b1e(I(b({},f),{element:f.motionValue.owner.current})):new Vv(f);h.finished.then(()=>this.notifyFinished()).catch(vr),this.pendingTimeline&&(this.stopTimeline=h.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=h}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),h1e()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}class R1e{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>t.finished))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t){const n=this.animations.map(r=>r.attachTimeline(t));return()=>{n.forEach((r,s)=>{r&&r(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get state(){return this.getAll("state")}get startTime(){return this.getAll("startTime")}get duration(){return HU(this.animations,"duration")}get iterationDuration(){return HU(this.animations,"iterationDuration")}runAll(t){this.animations.forEach(n=>n[t]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function HU(e,t){let n=0;for(let r=0;r<e.length;r++){const s=e[r][t];s!==null&&s>n&&(n=s)}return n}class x1e extends R1e{then(t,n){return this.finished.finally(t).then(()=>{})}}const M1e=new RegExp("^var\\(--(?:([\\w-]+)|([\\w-]+), ?([a-zA-Z\\d ()%#.,-]+))\\)","u");function k1e(e){const t=M1e.exec(e);if(!t)return[,];const[,n,r,s]=t;return["--".concat(n!=null?n:r),s]}function UV(e,t,n=1){const[r,s]=k1e(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return rV(o)?parseFloat(o):o}return sP(s)?UV(s,t,n+1):s}function _P(e,t){var n,r;return(r=(n=e==null?void 0:e[t])!=null?n:e==null?void 0:e.default)!=null?r:e}const jV=new Set(["width","height","top","left","right","bottom",...td]),L1e={test:e=>e==="auto",parse:e=>e},BV=e=>t=>t.test(e),GV=[ed,We,vi,Po,IAe,NAe,L1e],$U=e=>GV.find(BV(e));function D1e(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||iV(e):!0}const F1e=new Set(["brightness","contrast","saturate","opacity"]);function U1e(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(iP)||[];if(!r)return e;const s=n.replace(r,"");let i=F1e.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const j1e=new RegExp("\\b([a-z-]*)\\(.*?\\)","gu"),z1=I(b({},da),{getAnimatableNone:e=>{const t=e.match(j1e);return t?t.map(U1e).join(" "):e}}),qU=I(b({},ed),{transform:Math.round}),B1e={rotate:Po,rotateX:Po,rotateY:Po,rotateZ:Po,scale:Kp,scaleX:Kp,scaleY:Kp,scaleZ:Kp,skew:Po,skewX:Po,skewY:Po,distance:We,translateX:We,translateY:We,translateZ:We,x:We,y:We,z:We,perspective:We,transformPerspective:We,opacity:Gf,originX:RU,originY:RU,originZ:We},mP=I(b({borderWidth:We,borderTopWidth:We,borderRightWidth:We,borderBottomWidth:We,borderLeftWidth:We,borderRadius:We,radius:We,borderTopLeftRadius:We,borderTopRightRadius:We,borderBottomRightRadius:We,borderBottomLeftRadius:We,width:We,maxWidth:We,height:We,maxHeight:We,top:We,right:We,bottom:We,left:We,padding:We,paddingTop:We,paddingRight:We,paddingBottom:We,paddingLeft:We,margin:We,marginTop:We,marginRight:We,marginBottom:We,marginLeft:We,backgroundPositionX:We,backgroundPositionY:We},B1e),{zIndex:qU,fillOpacity:Gf,strokeOpacity:Gf,numOctaves:qU}),G1e=I(b({},mP),{color:dn,backgroundColor:dn,outlineColor:dn,fill:dn,stroke:dn,borderColor:dn,borderTopColor:dn,borderRightColor:dn,borderBottomColor:dn,borderLeftColor:dn,filter:z1,WebkitFilter:z1}),WV=e=>G1e[e];function HV(e,t){let n=WV(e);return n!==z1&&(n=da),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const W1e=new Set(["auto","none","0"]);function H1e(e,t,n){let r=0,s;for(;r<e.length&&!s;){const i=e[r];typeof i=="string"&&!W1e.has(i)&&Wf(i).values.length&&(s=e[r]),r++}if(s&&n)for(const i of t)e[i]=HV(n,s)}class $1e extends hP{constructor(t,n,r,s,i){super(t,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let l=t[c];if(typeof l=="string"&&(l=l.trim(),sP(l))){const u=UV(l,n.current);u!==void 0&&(t[c]=u),c===t.length-1&&(this.finalKeyframe=l)}}if(this.resolveNoneKeyframes(),!jV.has(r)||t.length!==2)return;const[s,i]=t,o=$U(s),a=$U(i);if(o!==a)if(jU(o)&&jU(a))for(let c=0;c<t.length;c++){const l=t[c];typeof l=="string"&&(t[c]=parseFloat(l))}else bc[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)(t[s]===null||D1e(t[s]))&&r.push(s);r.length&&H1e(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=bc[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){var a;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=bc[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([c,l])=>{t.getValue(c).set(l)}),this.resolveNoneKeyframes()}}function gP(e,t,n){var r;if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;const i=(r=n==null?void 0:n[e])!=null?r:s.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const $V=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function vP(e){return sV(e)&&"offsetHeight"in e}const VU=30,q1e=e=>!isNaN(parseFloat(e)),cf={current:void 0};class V1e{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var i;const s=_r.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=_r.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=q1e(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new ZI);const r=this.events[t].add(n);return t==="change"?()=>{r(),mt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return cf.current&&cf.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=_r.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>VU)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,VU);return eP(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ws(e,t){return new V1e(e,t)}const{schedule:yP}=vV(queueMicrotask,!1),Cs={x:!1,y:!1};function qV(){return Cs.x||Cs.y}function z1e(e){return e==="x"||e==="y"?Cs[e]?null:(Cs[e]=!0,()=>{Cs[e]=!1}):Cs.x||Cs.y?null:(Cs.x=Cs.y=!0,()=>{Cs.x=Cs.y=!1})}function VV(e,t){const n=gP(e),r=new AbortController,s=I(b({passive:!0},t),{signal:r.signal});return[n,s,()=>r.abort()]}function zU(e){return!(e.pointerType==="touch"||qV())}function Y1e(e,t,n={}){const[r,s,i]=VV(e,n),o=a=>{if(!zU(a))return;const{target:c}=a,l=t(c,a);if(typeof l!="function"||!c)return;const u=d=>{zU(d)&&(l(d),c.removeEventListener("pointerleave",u))};c.addEventListener("pointerleave",u,s)};return r.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const zV=(e,t)=>t?e===t?!0:zV(e,t.parentElement):!1,EP=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,K1e=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function X1e(e){return K1e.has(e.tagName)||e.tabIndex!==-1}const k_=new WeakSet;function YU(e){return t=>{t.key==="Enter"&&e(t)}}function _0(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const J1e=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=YU(()=>{if(k_.has(n))return;_0(n,"down");const s=YU(()=>{_0(n,"up")}),i=()=>_0(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",i,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function KU(e){return EP(e)&&!qV()}function Q1e(e,t,n={}){const[r,s,i]=VV(e,n),o=a=>{const c=a.currentTarget;if(!KU(a))return;k_.add(c);const l=t(c,a),u=(h,p)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",f),k_.has(c)&&k_.delete(c),KU(h)&&typeof l=="function"&&l(h,{success:p})},d=h=>{u(h,c===window||c===document||n.useGlobalTarget||zV(c,h.target))},f=h=>{u(h,!1)};window.addEventListener("pointerup",d,s),window.addEventListener("pointercancel",f,s)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),vP(a)&&(a.addEventListener("focus",l=>J1e(l,s)),!X1e(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),i}function zv(e){return sV(e)&&"ownerSVGElement"in e}const L_=new WeakMap;let Ro;const YV=(e,t,n)=>(r,s)=>s&&s[0]?s[0][e+"Size"]:zv(r)&&"getBBox"in r?r.getBBox()[t]:r[n],Z1e=YV("inline","width","offsetWidth"),ewe=YV("block","height","offsetHeight");function twe({target:e,borderBoxSize:t}){var n;(n=L_.get(e))==null||n.forEach(r=>{r(e,{get width(){return Z1e(e,t)},get height(){return ewe(e,t)}})})}function nwe(e){e.forEach(twe)}function rwe(){typeof ResizeObserver>"u"||(Ro=new ResizeObserver(nwe))}function swe(e,t){Ro||rwe();const n=gP(e);return n.forEach(r=>{let s=L_.get(r);s||(s=new Set,L_.set(r,s)),s.add(t),Ro==null||Ro.observe(r)}),()=>{n.forEach(r=>{const s=L_.get(r);s==null||s.delete(t),s!=null&&s.size||Ro==null||Ro.unobserve(r)})}}const D_=new Set;let $l;function iwe(){$l=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};D_.forEach(t=>t(e))},window.addEventListener("resize",$l)}function owe(e){return D_.add(e),$l||iwe(),()=>{D_.delete(e),!D_.size&&typeof $l=="function"&&(window.removeEventListener("resize",$l),$l=void 0)}}function awe(e,t){return typeof e=="function"?owe(e):swe(e,t)}function KV(e,t){let n;const r=()=>{const{currentTime:s}=t,o=(s===null?0:s.value)/100;n!==o&&e(o),n=o};return mt.preUpdate(r,!0),()=>Ws(r)}function XV(e){return zv(e)&&e.tagName==="svg"}function cwe(e,t){if(e==="first")return 0;{const n=t-1;return e==="last"?n:n/2}}function MVe(e=.1,{startDelay:t=0,from:n=0,ease:r}={}){return(s,i)=>{const o=typeof n=="number"?n:cwe(n,i),a=Math.abs(o-s);let c=e*a;if(r){const l=i*e;c=k1(r)(c/l)*l}return t+c}}function lwe(...e){const t=!Array.isArray(e[0]),n=t?0:-1,r=e[0+n],s=e[1+n],i=e[2+n],o=e[3+n],a=lP(s,i,o);return t?a(r):a}const hn=e=>!!(e&&e.getVelocity);function uwe(e,t,n){const r=e.get();let s=null,i=r,o;const a=typeof r=="string"?r.replace(/[\d.-]/g,""):void 0,c=()=>{s&&(s.stop(),s=null)},l=()=>{c(),s=new Vv(I(b({keyframes:[JU(e.get()),JU(i)],velocity:e.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01},n),{onUpdate:o}))};if(e.attach((u,d)=>{i=u,o=f=>d(XU(f,a)),mt.postRender(l)},c),hn(t)){const u=t.on("change",f=>e.set(XU(f,a))),d=e.on("destroy",u);return()=>{u(),d()}}return c}function XU(e,t){return t?e+t:e}function JU(e){return typeof e=="number"?e:parseFloat(e)}const dwe=[...GV,dn,da],fwe=e=>dwe.find(BV(e)),Zh=C.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function QU(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function hwe(...e){return t=>{let n=!1;const r=e.map(s=>{const i=QU(s,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():QU(e[s],null)}}}}function pwe(...e){return C.useCallback(hwe(...e),e)}class _we extends C.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=vP(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function mwe({children:e,isPresent:t,anchorX:n,root:r}){const s=C.useId(),i=C.useRef(null),o=C.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=C.useContext(Zh),c=pwe(i,e==null?void 0:e.ref);return C.useInsertionEffect(()=>{const{width:l,height:u,top:d,left:f,right:h}=o.current;if(t||!i.current||!l||!u)return;const p=n==="left"?"left: ".concat(f):"right: ".concat(h);i.current.dataset.motionPopId=s;const _=document.createElement("style");a&&(_.nonce=a);const m=r!=null?r:document.head;return m.appendChild(_),_.sheet&&_.sheet.insertRule('\n          [data-motion-pop-id="'.concat(s,'"] {\n            position: absolute !important;\n            width: ').concat(l,"px !important;\n            height: ").concat(u,"px !important;\n            ").concat(p,"px !important;\n            top: ").concat(d,"px !important;\n          }\n        ")),()=>{m.contains(_)&&m.removeChild(_)}},[t]),g.jsx(_we,{isPresent:t,childRef:i,sizeRef:o,children:C.cloneElement(e,{ref:c})})}const gwe=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o,anchorX:a,root:c})=>{const l=nl(vwe),u=C.useId();let d=!0,f=C.useMemo(()=>(d=!1,{id:u,initial:t,isPresent:n,custom:s,onExitComplete:h=>{l.set(h,!0);for(const p of l.values())if(!p)return;r&&r()},register:h=>(l.set(h,!1),()=>l.delete(h))}),[n,l,r]);return i&&d&&(f=b({},f)),C.useMemo(()=>{l.forEach((h,p)=>l.set(p,!1))},[n]),C.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),o==="popLayout"&&(e=g.jsx(mwe,{isPresent:n,anchorX:a,root:c,children:e})),g.jsx(Kh.Provider,{value:f,children:e})};function vwe(){return new Map}function JV(e=!0){const t=C.useContext(Kh);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=t,i=C.useId();C.useEffect(()=>{if(e)return s(i)},[e]);const o=C.useCallback(()=>e&&r&&r(i),[i,r,e]);return!n&&r?[!1,o]:[!0]}function kVe(){return ywe(C.useContext(Kh))}function ywe(e){return e===null?!0:e.isPresent}const Xp=e=>e.key||"";function ZU(e){const t=[];return C.Children.forEach(e,n=>{C.isValidElement(n)&&t.push(n)}),t}const LVe=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1,anchorX:a="left",root:c})=>{const[l,u]=JV(o),d=C.useMemo(()=>ZU(e),[e]),f=o&&!l?[]:d.map(Xp),h=C.useRef(!0),p=C.useRef(d),_=nl(()=>new Map),[m,y]=C.useState(d),[v,O]=C.useState(d);Zu(()=>{h.current=!1,p.current=d;for(let T=0;T<v.length;T++){const A=Xp(v[T]);f.includes(A)?_.delete(A):_.get(A)!==!0&&_.set(A,!1)}},[v,f.length,f.join("-")]);const S=[];if(d!==m){let T=[...d];for(let A=0;A<v.length;A++){const w=v[A],N=Xp(w);f.includes(N)||(T.splice(A,0,w),S.push(w))}return i==="wait"&&S.length&&(T=S),O(ZU(T)),y(d),null}const{forceRender:E}=C.useContext(jf);return g.jsx(g.Fragment,{children:v.map(T=>{const A=Xp(T),w=o&&!l?!1:d===v||f.includes(A),N=()=>{if(_.has(A))_.set(A,!0);else return;let P=!0;_.forEach(x=>{x||(P=!1)}),P&&(E==null||E(),O(p.current),o&&(u==null||u()),r&&r())};return g.jsx(gwe,{isPresent:w,initial:!h.current||n?void 0:!1,custom:t,presenceAffectsLayout:s,mode:i,root:c,onExitComplete:w?void 0:N,anchorX:a,children:T},A)})})},Ewe=C.createContext(null);function Cwe(){const e=C.useRef(!1);return Zu(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function Swe(){const e=Cwe(),[t,n]=C.useState(0),r=C.useCallback(()=>{e.current&&n(t+1)},[t]);return[C.useCallback(()=>mt.postRender(r),[r]),t]}const bwe=e=>!e.isLayoutDirty&&e.willUpdate(!1);function e2(){const e=new Set,t=new WeakMap,n=()=>e.forEach(bwe);return{add:r=>{e.add(r),t.set(r,r.addEventListener("willUpdate",n))},remove:r=>{e.delete(r);const s=t.get(r);s&&(s(),t.delete(r)),n()},dirty:n}}const QV=e=>e===!0,Twe=e=>QV(e===!0)||e==="id",DVe=({children:e,id:t,inherit:n=!0})=>{const r=C.useContext(jf),s=C.useContext(Ewe),[i,o]=Swe(),a=C.useRef(null),c=r.id||s;a.current===null&&(Twe(n)&&c&&(t=t?c+"-"+t:c),a.current={id:t,group:QV(n)&&r.group||e2()});const l=C.useMemo(()=>I(b({},a.current),{forceRender:i}),[o]);return g.jsx(jf.Provider,{value:l,children:e})},ZV=C.createContext({strict:!1}),t2={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},xu={};for(const e in t2)xu[e]={isEnabled:t=>t2[e].some(n=>!!t[n])};function Owe(e){for(const t in e)xu[t]=b(b({},xu[t]),e[t])}const Awe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Xm(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Awe.has(e)}let ez=e=>!Xm(e);function wwe(e){typeof e=="function"&&(ez=t=>t.startsWith("on")?!Xm(t):e(t))}try{wwe(require("@emotion/is-prop-valid").default)}catch(e){}function Nwe(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(ez(s)||n===!0&&Xm(s)||!t&&!Xm(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}const Yv=C.createContext({});function Kv(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function $f(e){return typeof e=="string"||Array.isArray(e)}const CP=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],SP=["initial",...CP];function Xv(e){return Kv(e.animate)||SP.some(t=>$f(e[t]))}function tz(e){return!!(Xv(e)||e.variants)}function Iwe(e,t){if(Xv(e)){const{initial:n,animate:r}=e;return{initial:n===!1||$f(n)?n:void 0,animate:$f(r)?r:void 0}}return e.inherit!==!1?t:{}}function Pwe(e){const{initial:t,animate:n}=Iwe(e,C.useContext(Yv));return C.useMemo(()=>({initial:t,animate:n}),[n2(t),n2(n)])}function n2(e){return Array.isArray(e)?e.join(" "):e}const qf={};function Rwe(e){for(const t in e)qf[t]=e[t],rP(t)&&(qf[t].isCSSVariable=!0)}function nz(e,{layout:t,layoutId:n}){return nd.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!qf[e]||e==="opacity")}const xwe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Mwe=td.length;function kwe(e,t,n){let r="",s=!0;for(let i=0;i<Mwe;i++){const o=td[i],a=e[o];if(a===void 0)continue;let c=!0;if(typeof a=="number"?c=a===(o.startsWith("scale")?1:0):c=parseFloat(a)===0,!c||n){const l=$V(a,mP[o]);if(!c){s=!1;const u=xwe[o]||o;r+="".concat(u,"(").concat(l,") ")}n&&(t[o]=l)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}function bP(e,t,n){const{style:r,vars:s,transformOrigin:i}=e;let o=!1,a=!1;for(const c in t){const l=t[c];if(nd.has(c)){o=!0;continue}else if(rP(c)){s[c]=l;continue}else{const u=$V(l,mP[c]);c.startsWith("origin")?(a=!0,i[c]=u):r[c]=u}}if(t.transform||(o||n?r.transform=kwe(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:c="50%",originY:l="50%",originZ:u=0}=i;r.transformOrigin="".concat(c," ").concat(l," ").concat(u)}}const TP=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function rz(e,t,n){for(const r in t)!hn(t[r])&&!nz(r,n)&&(e[r]=t[r])}function Lwe({transformTemplate:e},t){return C.useMemo(()=>{const n=TP();return bP(n,t,e),Object.assign({},n.vars,n.style)},[t])}function Dwe(e,t){const n=e.style||{},r={};return rz(r,n,e),Object.assign(r,Lwe(e,t)),r}function Fwe(e,t){const n={},r=Dwe(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":"pan-".concat(e.drag==="x"?"y":"x")),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const Uwe={offset:"stroke-dashoffset",array:"stroke-dasharray"},jwe={offset:"strokeDashoffset",array:"strokeDasharray"};function Bwe(e,t,n=1,r=0,s=!0){e.pathLength=1;const i=s?Uwe:jwe;e[i.offset]=We.transform(-r);const o=We.transform(t),a=We.transform(n);e[i.array]="".concat(o," ").concat(a)}function sz(e,d,c,l,u){var f=d,{attrX:t,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:o=0}=f,a=G(f,["attrX","attrY","attrScale","pathLength","pathSpacing","pathOffset"]);var _,m;if(bP(e,a,l),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:p}=e;h.transform&&(p.transform=h.transform,delete h.transform),(p.transform||h.transformOrigin)&&(p.transformOrigin=(_=h.transformOrigin)!=null?_:"50% 50%",delete h.transformOrigin),p.transform&&(p.transformBox=(m=u==null?void 0:u.transformBox)!=null?m:"fill-box",delete h.transformBox),t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),s!==void 0&&Bwe(h,s,i,o,!1)}const iz=()=>I(b({},TP()),{attrs:{}}),oz=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Gwe(e,t,n,r){const s=C.useMemo(()=>{const i=iz();return sz(i,t,oz(r),e.transformTemplate,e.style),I(b({},i.attrs),{style:b({},i.style)})},[t]);if(e.style){const i={};rz(i,e.style,e),s.style=b(b({},i),s.style)}return s}const Wwe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function OP(e){return typeof e!="string"||e.includes("-")?!1:!!(Wwe.indexOf(e)>-1||new RegExp("[A-Z]","u").test(e))}function Hwe(e,t,n,{latestValues:r},s,i=!1){const a=(OP(e)?Gwe:Fwe)(t,r,s,e),c=Nwe(t,typeof e=="string",i),l=e!==C.Fragment?I(b(b({},c),a),{ref:n}):{},{children:u}=t,d=C.useMemo(()=>hn(u)?u.get():u,[u]);return C.createElement(e,I(b({},l),{children:d}))}function r2(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function AP(e,t,n,r){if(typeof t=="function"){const[s,i]=r2(r);t=t(n!==void 0?n:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=r2(r);t=t(n!==void 0?n:e.custom,s,i)}return t}function F_(e){return hn(e)?e.get():e}function $we({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,s){return{latestValues:qwe(n,r,s,e),renderState:t()}}function qwe(e,t,n,r){const s={},i=r(e,{});for(const h in i)s[h]=F_(i[h]);let{initial:o,animate:a}=e;const c=Xv(e),l=tz(e);t&&l&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const d=u?a:o;if(d&&typeof d!="boolean"&&!Kv(d)){const h=Array.isArray(d)?d:[d];for(let p=0;p<h.length;p++){const _=AP(e,h[p]);if(_){const f=_,{transitionEnd:m,transition:y}=f,v=G(f,["transitionEnd","transition"]);for(const O in v){let S=v[O];if(Array.isArray(S)){const E=u?S.length-1:0;S=S[E]}S!==null&&(s[O]=S)}for(const O in m)s[O]=m[O]}}}return s}const az=e=>(t,n)=>{const r=C.useContext(Yv),s=C.useContext(Kh),i=()=>$we(e,t,r,s);return n?i():nl(i)};function wP(e,t,n){var i;const{style:r}=e,s={};for(const o in r)(hn(r[o])||t.style&&hn(t.style[o])||nz(o,e)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}const Vwe=az({scrapeMotionValuesFromProps:wP,createRenderState:TP});function cz(e,t,n){const r=wP(e,t,n);for(const s in e)if(hn(e[s])||hn(t[s])){const i=td.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=e[s]}return r}const zwe=az({scrapeMotionValuesFromProps:cz,createRenderState:iz}),Ywe=Symbol.for("motionComponentSymbol");function ql(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Kwe(e,t,n){return C.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):ql(n)&&(n.current=r))},[t])}const NP=e=>e.replace(new RegExp("([a-z])([A-Z])","gu"),"$1-$2").toLowerCase(),Xwe="framerAppearId",lz="data-"+NP(Xwe),uz=C.createContext({});function Jwe(e,t,n,r,s){var _,m;const{visualElement:i}=C.useContext(Yv),o=C.useContext(ZV),a=C.useContext(Kh),c=C.useContext(Zh).reducedMotion,l=C.useRef(null);r=r||o.renderer,!l.current&&r&&(l.current=r(e,{visualState:t,parent:i,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:c}));const u=l.current,d=C.useContext(uz);u&&!u.projection&&s&&(u.type==="html"||u.type==="svg")&&Qwe(l.current,n,s,d);const f=C.useRef(!1);C.useInsertionEffect(()=>{u&&f.current&&u.update(n,a)});const h=n[lz],p=C.useRef(!!h&&!((_=window.MotionHandoffIsComplete)!=null&&_.call(window,h))&&((m=window.MotionHasOptimisedAnimation)==null?void 0:m.call(window,h)));return Zu(()=>{u&&(f.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),p.current&&u.animationState&&u.animationState.animateChanges())}),C.useEffect(()=>{u&&(!p.current&&u.animationState&&u.animationState.animateChanges(),p.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)==null||y.call(window,h)}),p.current=!1),u.enteringChildren=void 0)}),u}function Qwe(e,t,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:c,layoutRoot:l,layoutCrossfade:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:dz(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&ql(a),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:u,layoutScroll:c,layoutRoot:l})}function dz(e){if(e)return e.options.allowProjection!==!1?e.projection:dz(e.parent)}function m0(e,{forwardMotionProps:t=!1}={},n,r){var a,c;n&&Owe(n);const s=OP(e)?zwe:Vwe;function i(l,u){let d;const f=I(b(b({},C.useContext(Zh)),l),{layoutId:Zwe(l)}),{isStatic:h}=f,p=Pwe(l),_=s(l,h);if(!h&&XI){eNe();const m=tNe(f);d=m.MeasureLayout,p.visualElement=Jwe(e,_,f,r,m.ProjectionNode)}return g.jsxs(Yv.Provider,{value:p,children:[d&&p.visualElement?g.jsx(d,b({visualElement:p.visualElement},f)):null,Hwe(e,l,Kwe(_,p.visualElement,u),_,h,t)]})}i.displayName="motion.".concat(typeof e=="string"?e:"create(".concat((c=(a=e.displayName)!=null?a:e.name)!=null?c:"",")"));const o=C.forwardRef(i);return o[Ywe]=e,o}function Zwe({layoutId:e}){const t=C.useContext(jf).id;return t&&e!==void 0?t+"-"+e:e}function eNe(e,t){C.useContext(ZV).strict}function tNe(e){const{drag:t,layout:n}=xu;if(!t&&!n)return{};const r=b(b({},t),n);return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function nNe(e,t){if(typeof Proxy>"u")return m0;const n=new Map,r=(i,o)=>m0(i,o,e,t),s=(i,o)=>r(i,o);return new Proxy(s,{get:(i,o)=>o==="create"?r:(n.has(o)||n.set(o,m0(o,void 0,e,t)),n.get(o))})}function fz({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function rNe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function sNe(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function g0(e){return e===void 0||e===1}function Y1({scale:e,scaleX:t,scaleY:n}){return!g0(e)||!g0(t)||!g0(n)}function Ya(e){return Y1(e)||hz(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function hz(e){return s2(e.x)||s2(e.y)}function s2(e){return e&&e!=="0%"}function Jm(e,t,n){const r=e-n,s=t*r;return n+s}function i2(e,t,n,r,s){return s!==void 0&&(e=Jm(e,s,r)),Jm(e,n,r)+t}function K1(e,t=0,n=1,r,s){e.min=i2(e.min,t,n,r,s),e.max=i2(e.max,t,n,r,s)}function pz(e,{x:t,y:n}){K1(e.x,t.translate,t.scale,t.originPoint),K1(e.y,n.translate,n.scale,n.originPoint)}const o2=.999999999999,a2=1.0000000000001;function iNe(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&zl(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,pz(e,o)),r&&Ya(i.latestValues)&&zl(e,i.latestValues))}t.x<a2&&t.x>o2&&(t.x=1),t.y<a2&&t.y>o2&&(t.y=1)}function Vl(e,t){e.min=e.min+t,e.max=e.max+t}function c2(e,t,n,r,s=.5){const i=Ut(e.min,e.max,s);K1(e,t,n,i,r)}function zl(e,t){c2(e.x,t.x,t.scaleX,t.scale,t.originX),c2(e.y,t.y,t.scaleY,t.scale,t.originY)}function _z(e,t){return fz(sNe(e.getBoundingClientRect(),t))}function oNe(e,t,n){const r=_z(e,n),{scroll:s}=t;return s&&(Vl(r.x,s.offset.x),Vl(r.y,s.offset.y)),r}const l2=()=>({translate:0,scale:1,origin:0,originPoint:0}),Yl=()=>({x:l2(),y:l2()}),u2=()=>({min:0,max:0}),Jt=()=>({x:u2(),y:u2()}),Qm={current:null},IP={current:!1};function mz(){if(IP.current=!0,!!XI)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Qm.current=e.matches;e.addEventListener("change",t),t()}else Qm.current=!1}const Vf=new WeakMap;function aNe(e,t,n){for(const r in t){const s=t[r],i=n[r];if(hn(s))e.addValue(r,s);else if(hn(i))e.addValue(r,ws(s,{owner:e}));else if(i!==s)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(r);e.addValue(r,ws(o!==void 0?o:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const d2=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class gz{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=hP,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=_r.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,mt.render(this.render,!1,!0))};const{latestValues:c,renderState:l}=o;this.latestValues=c,this.baseTarget=b({},c),this.initialValues=n.initial?b({},c):{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=Xv(n),this.isVariantNode=tz(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const f=this.scrapeMotionValuesFromProps(n,{},this),{willChange:u}=f,d=G(f,["willChange"]);for(const h in d){const p=d[h];c[h]!==void 0&&hn(p)&&p.set(c[h])}}mount(t){var n;this.current=t,Vf.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),IP.current||mz(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Qm.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),Ws(this.notifyUpdate),Ws(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){var n;this.children.add(t),(n=this.enteringChildren)!=null||(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=nd.has(t);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&mt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in xu){const n=xu[t];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Jt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<d2.length;r++){const s=d2[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=t[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=aNe(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=ws(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var s;let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(s=this.getBaseTargetFromProps(this.props,t))!=null?s:this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(rV(r)||iV(r))?r=parseFloat(r):!fwe(r)&&da.test(n)&&(r=HV(t,n)),this.setBaseTarget(t,hn(r)?r.get():r)),hn(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=AP(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[t])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!hn(s)?s:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new ZI),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){yP.render(this.render)}}class vz extends gz{constructor(){super(...arguments),this.KeyframeResolver=$1e}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;hn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent="".concat(n))}))}}function yz(e,{style:t,vars:n},r,s){const i=e.style;let o;for(o in t)i[o]=t[o];s==null||s.applyProjectionStyles(i,r);for(o in n)i.setProperty(o,n[o])}function cNe(e){return window.getComputedStyle(e)}class Ez extends vz{constructor(){super(...arguments),this.type="html",this.renderInstance=yz}readValueFromInstance(t,n){var r;if(nd.has(n))return(r=this.projection)!=null&&r.isProjecting?G1(n):c1e(t,n);{const s=cNe(t),i=(rP(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return _z(t,n)}build(t,n,r){bP(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return wP(t,n,r)}}const Cz=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function lNe(e,t,n,r){yz(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(Cz.has(s)?s:NP(s),t.attrs[s])}class Sz extends vz{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Jt}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(nd.has(n)){const r=WV(n);return r&&r.default||0}return n=Cz.has(n)?n:NP(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return cz(t,n,r)}build(t,n,r){sz(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,s){lNe(t,n,r,s)}mount(t){this.isSVGTag=oz(t.tagName),super.mount(t)}}const uNe=(e,t)=>OP(e)?new Sz(t):new Ez(t,{allowProjection:e!==C.Fragment});function ou(e,t,n){const r=e.getProps();return AP(r,t,n!==void 0?n:r.custom,e)}const X1=e=>Array.isArray(e);function dNe(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,ws(n))}function fNe(e){return X1(e)?e[e.length-1]||0:e}function PP(e,t){let o=ou(e,t)||{},{transitionEnd:r={},transition:s={}}=o,i=G(o,["transitionEnd","transition"]);i=b(b({},i),r);for(const a in i){const c=fNe(i[a]);dNe(e,a,c)}}function hNe(e){return!!(hn(e)&&e.add)}function J1(e,t){const n=e.getValue("willChange");if(hNe(n))return n.add(t);if(!n&&ao.WillChange){const r=new ao.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function bz(e){return e.props[lz]}const pNe=e=>e!==null;function _Ne(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter(pNe),i=t&&n!=="loop"&&t%2===1?0:s.length-1;return s[i]}const mNe={type:"spring",stiffness:500,damping:25,restSpeed:10},gNe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),vNe={type:"keyframes",duration:.8},yNe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ENe=(e,{keyframes:t})=>t.length>2?vNe:nd.has(e)?e.startsWith("scale")?gNe(t[1]):mNe:yNe;function CNe(d){var f=d,{when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:c,elapsed:l}=f,u=G(f,["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"]);return!!Object.keys(u).length}const RP=(e,t,n,r={},s,i)=>o=>{const a=_P(r,e)||{},c=a.delay||r.delay||0;let{elapsed:l=0}=r;l=l-xs(c);const u=I(b({keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity()},a),{delay:-l,onUpdate:f=>{t.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:i?void 0:s});CNe(a)||Object.assign(u,ENe(e,u)),u.duration&&(u.duration=xs(u.duration)),u.repeatDelay&&(u.repeatDelay=xs(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let d=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(V1(u),u.delay===0&&(d=!0)),(ao.instantAnimations||ao.skipAnimations)&&(d=!0,V1(u),u.delay=0),u.allowFlatten=!a.type&&!a.ease,d&&!i&&t.get()!==void 0){const f=_Ne(u.keyframes,a);if(f!==void 0){mt.update(()=>{u.onUpdate(f),u.onComplete()});return}}return a.isSync?new Vv(u):new P1e(u)};function SNe({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function xP(e,t,{delay:n=0,transitionOverride:r,type:s}={}){var d;let u=t,{transition:i=e.getDefaultTransition(),transitionEnd:o}=u,a=G(u,["transition","transitionEnd"]);r&&(i=r);const c=[],l=s&&e.animationState&&e.animationState.getState()[s];for(const f in a){const h=e.getValue(f,(d=e.latestValues[f])!=null?d:null),p=a[f];if(p===void 0||l&&SNe(l,f))continue;const _=b({delay:n},_P(i||{},f)),m=h.get();if(m!==void 0&&!h.isAnimating&&!Array.isArray(p)&&p===m&&!_.velocity)continue;let y=!1;if(window.MotionHandoffAnimation){const O=bz(e);if(O){const S=window.MotionHandoffAnimation(O,f,mt);S!==null&&(_.startTime=S,y=!0)}}J1(e,f),h.start(RP(f,h,p,e.shouldReduceMotion&&jV.has(f)?{type:!1}:_,e,y));const v=h.animation;v&&c.push(v)}return o&&Promise.all(c).then(()=>{mt.update(()=>{o&&PP(e,o)})}),c}function Tz(e,t,n,r=0,s=1){const i=Array.from(e).sort((l,u)=>l.sortNodePosition(u)).indexOf(t),o=e.size,a=(o-1)*r;return typeof n=="function"?n(i,o):s===1?i*r:a-i*r}function Q1(e,t,n={}){var c;const r=ou(e,t,n.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(xP(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=s;return bNe(e,t,l,u,d,f,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[l,u]=a==="beforeChildren"?[i,o]:[o,i];return l().then(()=>u())}else return Promise.all([i(),o(n.delay)])}function bNe(e,t,n=0,r=0,s=0,i=1,o){const a=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),a.push(Q1(c,t,I(b({},o),{delay:n+(typeof r=="function"?0:r)+Tz(e.variantChildren,c,r,s,i)})).then(()=>c.notify("AnimationComplete",t)));return Promise.all(a)}function Oz(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(i=>Q1(e,i,n));r=Promise.all(s)}else if(typeof t=="string")r=Q1(e,t,n);else{const s=typeof t=="function"?ou(e,t,n.custom):t;r=Promise.all(xP(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function Az(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const TNe=SP.length;function wz(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?wz(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<TNe;n++){const r=SP[n],s=e.props[r];($f(s)||s===!1)&&(t[r]=s)}return t}const ONe=[...CP].reverse(),ANe=CP.length;function wNe(e){return t=>Promise.all(t.map(({animation:n,options:r})=>Oz(e,n,r)))}function NNe(e){let t=wNe(e),n=f2(),r=!0;const s=c=>(l,u)=>{var f;const d=ou(e,u,c==="exit"?(f=e.presenceContext)==null?void 0:f.custom:void 0);if(d){const h=d,{transition:p,transitionEnd:_}=h,m=G(h,["transition","transitionEnd"]);l=b(b(b({},l),m),_)}return l};function i(c){t=c(e)}function o(c){const{props:l}=e,u=wz(e.parent)||{},d=[],f=new Set;let h={},p=1/0;for(let m=0;m<ANe;m++){const y=ONe[m],v=n[y],O=l[y]!==void 0?l[y]:u[y],S=$f(O),E=y===c?v.isActive:null;E===!1&&(p=m);let T=O===u[y]&&O!==l[y]&&S;if(T&&r&&e.manuallyAnimateOnMount&&(T=!1),v.protectedKeys=b({},h),!v.isActive&&E===null||!O&&!v.prevProp||Kv(O)||typeof O=="boolean")continue;const A=INe(v.prevProp,O);let w=A||y===c&&v.isActive&&!T&&S||m>p&&S,N=!1;const P=Array.isArray(O)?O:[O];let x=P.reduce(s(y),{});E===!1&&(x={});const{prevResolvedValues:D={}}=v,M=b(b({},D),x),F=q=>{w=!0,f.has(q)&&(N=!0,f.delete(q)),v.needsAnimating[q]=!0;const k=e.getValue(q);k&&(k.liveStyle=!1)};for(const q in M){const k=x[q],Z=D[q];if(h.hasOwnProperty(q))continue;let B=!1;X1(k)&&X1(Z)?B=!Az(k,Z):B=k!==Z,B?k!=null?F(q):f.add(q):k!==void 0&&f.has(q)?F(q):v.protectedKeys[q]=!0}v.prevProp=O,v.prevResolvedValues=x,v.isActive&&(h=b(b({},h),x)),r&&e.blockInitialAnimation&&(w=!1);const j=T&&A;w&&(!j||N)&&d.push(...P.map(q=>{const k={type:y};if(typeof q=="string"&&r&&!j&&e.manuallyAnimateOnMount&&e.parent){const{parent:Z}=e,B=ou(Z,q);if(Z.enteringChildren&&B){const{delayChildren:Q}=B.transition||{};k.delay=Tz(Z.enteringChildren,e,Q)}}return{animation:q,options:k}}))}if(f.size){const m={};if(typeof l.initial!="boolean"){const y=ou(e,Array.isArray(l.initial)?l.initial[0]:l.initial);y&&y.transition&&(m.transition=y.transition)}f.forEach(y=>{const v=e.getBaseTarget(y),O=e.getValue(y);O&&(O.liveStyle=!0),m[y]=v!=null?v:null}),d.push({animation:m})}let _=!!d.length;return r&&(l.initial===!1||l.initial===l.animate)&&!e.manuallyAnimateOnMount&&(_=!1),r=!1,_?t(d):Promise.resolve()}function a(c,l){var d;if(n[c].isActive===l)return Promise.resolve();(d=e.variantChildren)==null||d.forEach(f=>{var h;return(h=f.animationState)==null?void 0:h.setActive(c,l)}),n[c].isActive=l;const u=o(c);for(const f in n)n[f].protectedKeys={};return u}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=f2()}}}function INe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Az(t,e):!1}function Da(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function f2(){return{animate:Da(!0),whileInView:Da(),whileHover:Da(),whileTap:Da(),whileDrag:Da(),whileFocus:Da(),exit:Da()}}class ba{constructor(t){this.isMounted=!1,this.node=t}update(){}}class PNe extends ba{constructor(t){super(t),t.animationState||(t.animationState=NNe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Kv(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let RNe=0;class xNe extends ba{constructor(){super(...arguments),this.id=RNe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const MNe={animation:{Feature:PNe},exit:{Feature:xNe}};function zf(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function ep(e){return{point:{x:e.pageX,y:e.pageY}}}const kNe=e=>t=>EP(t)&&e(t,ep(t));function lf(e,t,n,r){return zf(e,t,kNe(n),r)}const Nz=1e-4,LNe=1-Nz,DNe=1+Nz,Iz=.01,FNe=0-Iz,UNe=0+Iz;function nr(e){return e.max-e.min}function jNe(e,t,n){return Math.abs(e-t)<=n}function h2(e,t,n,r=.5){e.origin=r,e.originPoint=Ut(t.min,t.max,e.origin),e.scale=nr(n)/nr(t),e.translate=Ut(n.min,n.max,e.origin)-e.originPoint,(e.scale>=LNe&&e.scale<=DNe||isNaN(e.scale))&&(e.scale=1),(e.translate>=FNe&&e.translate<=UNe||isNaN(e.translate))&&(e.translate=0)}function uf(e,t,n,r){h2(e.x,t.x,n.x,r?r.originX:void 0),h2(e.y,t.y,n.y,r?r.originY:void 0)}function p2(e,t,n){e.min=n.min+t.min,e.max=e.min+nr(t)}function BNe(e,t,n){p2(e.x,t.x,n.x),p2(e.y,t.y,n.y)}function _2(e,t,n){e.min=t.min-n.min,e.max=e.min+nr(t)}function df(e,t,n){_2(e.x,t.x,n.x),_2(e.y,t.y,n.y)}function Kr(e){return[e("x"),e("y")]}const Pz=({current:e})=>e?e.ownerDocument.defaultView:null,m2=(e,t)=>Math.abs(e-t);function GNe(e,t){const n=m2(e.x,t.x),r=m2(e.y,t.y);return Math.sqrt(n**2+r**2)}class Rz{constructor(t,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=y0(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=GNe(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!h&&!p)return;const{point:_}=f,{timestamp:m}=Rn;this.history.push(I(b({},_),{timestamp:m}));const{onStart:y,onMove:v}=this.handlers;h||(y&&y(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=v0(h,this.transformPagePoint),mt.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:p,onSessionEnd:_,resumeAnimation:m}=this.handlers;if(this.dragSnapToOrigin&&m&&m(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=y0(f.type==="pointercancel"?this.lastMoveEventInfo:v0(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(f,y),_&&_(f,y)},!EP(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=s||window;const a=ep(t),c=v0(a,this.transformPagePoint),{point:l}=c,{timestamp:u}=Rn;this.history=[I(b({},l),{timestamp:u})];const{onSessionStart:d}=n;d&&d(t,y0(c,this.history)),this.removeListeners=Xh(lf(this.contextWindow,"pointermove",this.handlePointerMove),lf(this.contextWindow,"pointerup",this.handlePointerUp),lf(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ws(this.updatePoint)}}function v0(e,t){return t?{point:t(e.point)}:e}function g2(e,t){return{x:e.x-t.x,y:e.y-t.y}}function y0({point:e},t){return{point:e,delta:g2(e,xz(t)),offset:g2(e,WNe(t)),velocity:HNe(t,.1)}}function WNe(e){return e[0]}function xz(e){return e[e.length-1]}function HNe(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=xz(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>xs(t)));)n--;if(!r)return{x:0,y:0};const i=rs(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function $Ne(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Ut(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Ut(n,e,r.max):Math.min(e,n)),e}function v2(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function qNe(e,{top:t,left:n,bottom:r,right:s}){return{x:v2(e.x,n,s),y:v2(e.y,t,r)}}function y2(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function VNe(e,t){return{x:y2(e.x,t.x),y:y2(e.y,t.y)}}function zNe(e,t){let n=.5;const r=nr(e),s=nr(t);return s>r?n=qc(t.min,t.max-r,e.min):r>s&&(n=qc(e.min,e.max-s,t.min)),Gs(0,1,n)}function YNe(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Z1=.35;function KNe(e=Z1){return e===!1?e=0:e===!0&&(e=Z1),{x:E2(e,"left","right"),y:E2(e,"top","bottom")}}function E2(e,t,n){return{min:C2(e,t),max:C2(e,n)}}function C2(e,t){return typeof e=="number"?e:e[t]||0}const XNe=new WeakMap;class JNe{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Jt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ep(d).point)},o=(d,f)=>{const{drag:h,dragPropagation:p,onDragStart:_}=this.getProps();if(h&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=z1e(h),!this.openDragLock))return;this.latestPointerEvent=d,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Kr(y=>{let v=this.getAxisMotionValue(y).get()||0;if(vi.test(v)){const{projection:O}=this.visualElement;if(O&&O.layout){const S=O.layout.layoutBox[y];S&&(v=nr(S)*(parseFloat(v)/100))}}this.originPoint[y]=v}),_&&mt.postRender(()=>_(d,f)),J1(this.visualElement,"transform");const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},a=(d,f)=>{this.latestPointerEvent=d,this.latestPanInfo=f;const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:_,onDrag:m}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:y}=f;if(p&&this.currentDirection===null){this.currentDirection=QNe(y),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",f.point,y),this.updateAxis("y",f.point,y),this.visualElement.render(),m&&m(d,f)},c=(d,f)=>{this.latestPointerEvent=d,this.latestPanInfo=f,this.stop(d,f),this.latestPointerEvent=null,this.latestPanInfo=null},l=()=>Kr(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)==null?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Rz(t,{onSessionStart:i,onStart:o,onMove:a,onSessionEnd:c,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:r,contextWindow:Pz(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&mt.postRender(()=>a(r,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!Jp(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=$Ne(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;t&&ql(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=qNe(r.layoutBox,t):this.constraints=!1,this.elastic=KNe(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Kr(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=YNe(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!ql(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=oNe(r,s.root,this.visualElement.getTransformPagePoint());let o=VNe(s.layout.layoutBox,i);if(n){const a=n(rNe(o));this.hasMutatedConstraints=!!a,a&&(o=fz(a))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),c=this.constraints||{},l=Kr(u=>{if(!Jp(u,n,this.currentDirection))return;let d=c&&c[u]||{};o&&(d={min:0,max:0});const f=s?200:1e6,h=s?40:1e7,p=b(b({type:"inertia",velocity:r?t[u]:0,bounceStiffness:f,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10},i),d);return this.startAxisValueAnimation(u,p)});return Promise.all(l).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return J1(this.visualElement,t),r.start(RP(t,r,0,n,this.visualElement,!1))}stopAnimation(){Kr(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Kr(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n="_drag".concat(t.toUpperCase()),r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Kr(n=>{const{drag:r}=this.getProps();if(!Jp(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(t[n]-Ut(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ql(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Kr(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const c=a.get();s[o]=zNe({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Kr(o=>{if(!Jp(o,t,null))return;const a=this.getAxisMotionValue(o),{min:c,max:l}=this.constraints[o];a.set(Ut(c,l,s[o]))})}addListeners(){if(!this.visualElement.current)return;XNe.set(this.visualElement,this);const t=this.visualElement.current,n=lf(t,"pointerdown",c=>{const{drag:l,dragListener:u=!0}=this.getProps();l&&u&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();ql(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),mt.read(r);const o=zf(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:l})=>{this.isDragging&&l&&(Kr(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=c[u].translate,d.set(d.get()+c[u].translate))}),this.visualElement.render())}));return()=>{o(),n(),i(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=Z1,dragMomentum:a=!0}=t;return I(b({},t),{drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a})}}function Jp(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function QNe(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class ZNe extends ba{constructor(t){super(t),this.removeGroupControls=vr,this.removeListeners=vr,this.controls=new JNe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||vr}unmount(){this.removeGroupControls(),this.removeListeners()}}const S2=e=>(t,n)=>{e&&mt.postRender(()=>e(t,n))};class eIe extends ba{constructor(){super(...arguments),this.removePointerDownListener=vr}onPointerDown(t){this.session=new Rz(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Pz(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:S2(t),onStart:S2(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&mt.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=lf(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const U_={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function b2(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Cd={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(We.test(e))e=parseFloat(e);else return e;const n=b2(e,t.target.x),r=b2(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},tIe={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=da.parse(e);if(s.length>5)return r;const i=da.createTransformer(e),o=typeof s[0]!="number"?1:0,a=n.x.scale*t.x,c=n.y.scale*t.y;s[0+o]/=a,s[1+o]/=c;const l=Ut(a,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=l),typeof s[3+o]=="number"&&(s[3+o]/=l),i(s)}};let E0=!1;class nIe extends C.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=t;Rwe(rIe),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),E0&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions(I(b({},i.options),{onExitComplete:()=>this.safeToRemove()}))),U_.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,E0=!0,s||t.layoutDependency!==n||n===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||mt.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),yP.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;E0=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Mz(e){const[t,n]=JV(),r=C.useContext(jf);return g.jsx(nIe,I(b({},e),{layoutGroup:r,switchLayoutGroup:C.useContext(uz),isPresent:t,safeToRemove:n}))}const rIe={borderRadius:I(b({},Cd),{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:Cd,borderTopRightRadius:Cd,borderBottomLeftRadius:Cd,borderBottomRightRadius:Cd,boxShadow:tIe};function kz(e,t,n){const r=hn(e)?e:ws(e);return r.start(RP("",r,t,n)),r.animation}const sIe=(e,t)=>e.depth-t.depth;class iIe{constructor(){this.children=[],this.isDirty=!1}add(t){JI(this.children,t),this.isDirty=!0}remove(t){qv(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(sIe),this.isDirty=!1,this.children.forEach(t)}}function oIe(e,t){const n=_r.now(),r=({timestamp:s})=>{const i=s-n;i>=t&&(Ws(r),e(i-t))};return mt.setup(r,!0),()=>Ws(r)}const Lz=["TopLeft","TopRight","BottomLeft","BottomRight"],aIe=Lz.length,T2=e=>typeof e=="string"?parseFloat(e):e,O2=e=>typeof e=="number"||We.test(e);function cIe(e,t,n,r,s,i){var o,a,c,l;s?(e.opacity=Ut(0,(o=n.opacity)!=null?o:1,lIe(r)),e.opacityExit=Ut((a=t.opacity)!=null?a:1,0,uIe(r))):i&&(e.opacity=Ut((c=t.opacity)!=null?c:1,(l=n.opacity)!=null?l:1,r));for(let u=0;u<aIe;u++){const d="border".concat(Lz[u],"Radius");let f=A2(t,d),h=A2(n,d);if(f===void 0&&h===void 0)continue;f||(f=0),h||(h=0),f===0||h===0||O2(f)===O2(h)?(e[d]=Math.max(Ut(T2(f),T2(h),r),0),(vi.test(h)||vi.test(f))&&(e[d]+="%")):e[d]=h}(t.rotate||n.rotate)&&(e.rotate=Ut(t.rotate||0,n.rotate||0,r))}function A2(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const lIe=Dz(0,.5,fV),uIe=Dz(.5,.95,vr);function Dz(e,t,n){return r=>r<e?0:r>t?1:n(qc(e,t,r))}function w2(e,t){e.min=t.min,e.max=t.max}function Yr(e,t){w2(e.x,t.x),w2(e.y,t.y)}function N2(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function I2(e,t,n,r,s){return e-=t,e=Jm(e,1/n,r),s!==void 0&&(e=Jm(e,1/s,r)),e}function dIe(e,t=0,n=1,r=.5,s,i=e,o=e){if(vi.test(t)&&(t=parseFloat(t),t=Ut(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=Ut(i.min,i.max,r);e===i&&(a-=t),e.min=I2(e.min,t,n,a,s),e.max=I2(e.max,t,n,a,s)}function P2(e,t,[n,r,s],i,o){dIe(e,t[n],t[r],t[s],t.scale,i,o)}const fIe=["x","scaleX","originX"],hIe=["y","scaleY","originY"];function R2(e,t,n,r){P2(e.x,t,fIe,n?n.x:void 0,r?r.x:void 0),P2(e.y,t,hIe,n?n.y:void 0,r?r.y:void 0)}function x2(e){return e.translate===0&&e.scale===1}function Fz(e){return x2(e.x)&&x2(e.y)}function M2(e,t){return e.min===t.min&&e.max===t.max}function pIe(e,t){return M2(e.x,t.x)&&M2(e.y,t.y)}function k2(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Uz(e,t){return k2(e.x,t.x)&&k2(e.y,t.y)}function L2(e){return nr(e.x)/nr(e.y)}function D2(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class _Ie{constructor(){this.members=[]}add(t){JI(this.members,t),t.scheduleRender()}remove(t){if(qv(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function mIe(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r="translate3d(".concat(s,"px, ").concat(i,"px, ").concat(o,"px) ")),(t.x!==1||t.y!==1)&&(r+="scale(".concat(1/t.x,", ").concat(1/t.y,") ")),n){const{transformPerspective:l,rotate:u,rotateX:d,rotateY:f,skewX:h,skewY:p}=n;l&&(r="perspective(".concat(l,"px) ").concat(r)),u&&(r+="rotate(".concat(u,"deg) ")),d&&(r+="rotateX(".concat(d,"deg) ")),f&&(r+="rotateY(".concat(f,"deg) ")),h&&(r+="skewX(".concat(h,"deg) ")),p&&(r+="skewY(".concat(p,"deg) "))}const a=e.x.scale*t.x,c=e.y.scale*t.y;return(a!==1||c!==1)&&(r+="scale(".concat(a,", ").concat(c,")")),r||"none"}const C0=["","X","Y","Z"],gIe=1e3;let vIe=0;function S0(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function jz(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=bz(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",mt,!(s||i))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&jz(r)}function Bz({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=t==null?void 0:t()){this.id=vIe++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(CIe),this.nodes.forEach(OIe),this.nodes.forEach(AIe),this.nodes.forEach(SIe)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new iIe)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new ZI),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const c=this.eventHandlers.get(o);c&&c.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=zv(o)&&!XV(o),this.instance=o;const{layoutId:a,layout:c,visualElement:l}=this.options;if(l&&!l.current&&l.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||a)&&(this.isLayoutDirty=!0),e){let u,d=0;const f=()=>this.root.updateBlockedByResize=!1;mt.read(()=>{d=window.innerWidth}),e(o,()=>{const h=window.innerWidth;h!==d&&(d=h,this.root.updateBlockedByResize=!0,u&&u(),u=oIe(f,250),U_.hasAnimatedSinceResize&&(U_.hasAnimatedSinceResize=!1,this.nodes.forEach(j2)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&l&&(a||c)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:d,hasRelativeLayoutChanged:f,layout:h})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||l.getDefaultTransition()||RIe,{onLayoutAnimationStart:_,onLayoutAnimationComplete:m}=l.getProps(),y=!this.targetLayout||!Uz(this.targetLayout,h),v=!d&&f;if(this.options.layoutRoot||this.resumeFrom||v||d&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const O=I(b({},_P(p,"layout")),{onPlay:_,onComplete:m});(l.shouldReduceMotion||this.options.layoutRoot)&&(O.delay=0,O.type=!1),this.startAnimation(O),this.setAnimationOrigin(u,v)}else d||j2(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=h})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ws(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(wIe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&jz(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:c}=this.options;if(a===void 0&&!c)return;const l=this.getTransformTemplate();this.prevTransformTemplateValue=l?l(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(F2);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(U2);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(TIe),this.nodes.forEach(yIe),this.nodes.forEach(EIe)):this.nodes.forEach(U2),this.clearAllSnapshots();const a=_r.now();Rn.delta=Gs(0,1e3/60,a-Rn.timestamp),Rn.timestamp=a,Rn.isProcessing=!0,u0.update.process(Rn),u0.preRender.process(Rn),u0.render.process(Rn),Rn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,yP.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(bIe),this.sharedNodes.forEach(NIe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,mt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){mt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!nr(this.snapshot.measuredBox.x)&&!nr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Jt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!Fz(this.projectionDelta),c=this.getTransformTemplate(),l=c?c(this.latestValues,""):void 0,u=l!==this.prevTransformTemplateValue;o&&this.instance&&(a||Ya(this.latestValues)||u)&&(s(this.instance,l),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let c=this.removeElementScroll(a);return o&&(c=this.removeTransform(c)),xIe(c),{animationId:this.root.animationId,measuredBox:a,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:o}=this.options;if(!o)return Jt();const a=o.measureViewportBox();if(!(((l=this.scroll)==null?void 0:l.wasRoot)||this.path.some(MIe))){const{scroll:u}=this.root;u&&(Vl(a.x,u.offset.x),Vl(a.y,u.offset.y))}return a}removeElementScroll(o){var c;const a=Jt();if(Yr(a,o),(c=this.scroll)!=null&&c.wasRoot)return a;for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:d,options:f}=u;u!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&Yr(a,o),Vl(a.x,d.offset.x),Vl(a.y,d.offset.y))}return a}applyTransform(o,a=!1){const c=Jt();Yr(c,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&zl(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Ya(u.latestValues)&&zl(c,u.latestValues)}return Ya(this.latestValues)&&zl(c,this.latestValues),c}removeTransform(o){const a=Jt();Yr(a,o);for(let c=0;c<this.path.length;c++){const l=this.path[c];if(!l.instance||!Ya(l.latestValues))continue;Y1(l.latestValues)&&l.updateSnapshot();const u=Jt(),d=l.measurePageBox();Yr(u,d),R2(a,l.latestValues,l.snapshot?l.snapshot.layoutBox:void 0,u)}return Ya(this.latestValues)&&R2(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options=I(b(b({},this.options),o),{crossfade:o.crossfade!==void 0?o.crossfade:!0})}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Rn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var f;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==a;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:d}=this.options;if(!(!this.layout||!(u||d))){if(this.resolvedRelativeTargetAt=Rn.timestamp,!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Jt(),this.relativeTargetOrigin=Jt(),df(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),Yr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Jt(),this.targetWithTransforms=Jt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),BNe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Yr(this.target,this.layout.layoutBox),pz(this.target,this.targetDelta)):Yr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Jt(),this.relativeTargetOrigin=Jt(),df(this.relativeTargetOrigin,this.target,h.target),Yr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Y1(this.parent.latestValues)||hz(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var p;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty)&&(c=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Rn.timestamp&&(c=!1),c)return;const{layout:l,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(l||u))return;Yr(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,f=this.treeScale.y;iNe(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Jt());const{target:h}=o;if(!h){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(N2(this.prevProjectionDelta.x,this.projectionDelta.x),N2(this.prevProjectionDelta.y,this.projectionDelta.y)),uf(this.projectionDelta,this.layoutCorrected,h,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==f||!D2(this.projectionDelta.x,this.prevProjectionDelta.x)||!D2(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",h))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Yl(),this.projectionDelta=Yl(),this.projectionDeltaWithTransform=Yl()}setAnimationOrigin(o,a=!1){const c=this.snapshot,l=c?c.latestValues:{},u=b({},this.latestValues),d=Yl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=Jt(),h=c?c.source:void 0,p=this.layout?this.layout.source:void 0,_=h!==p,m=this.getStack(),y=!m||m.members.length<=1,v=!!(_&&!y&&this.options.crossfade===!0&&!this.path.some(PIe));this.animationProgress=0;let O;this.mixTargetDelta=S=>{const E=S/1e3;B2(d.x,o.x,E),B2(d.y,o.y,E),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(df(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),IIe(this.relativeTarget,this.relativeTargetOrigin,f,E),O&&pIe(this.relativeTarget,O)&&(this.isProjectionDirty=!1),O||(O=Jt()),Yr(O,this.relativeTarget)),_&&(this.animationValues=u,cIe(u,l,this.latestValues,E,v,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,c,l;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(l=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||l.stop(),this.pendingAnimation&&(Ws(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=mt.update(()=>{U_.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ws(0)),this.currentAnimation=kz(this.motionValue,[0,1e3],I(b({},o),{velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),o.onUpdate&&o.onUpdate(u)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}})),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(gIe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:c,layout:l,latestValues:u}=o;if(!(!a||!c||!l)){if(this!==o&&this.layout&&l&&Gz(this.options.animationType,this.layout.layoutBox,l.layoutBox)){c=this.target||Jt();const d=nr(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+d;const f=nr(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+f}Yr(a,c),zl(a,u),uf(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new _Ie),this.sharedNodes.get(o).add(a);const l=a.options.initialPromotionConfig;a.promote({transition:l?l.transition:void 0,preserveFollowOpacity:l&&l.shouldPreserveFollowOpacity?l.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:c}={}){const l=this.getStack();l&&l.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(a=!0),!a)return;const l={};c.z&&S0("z",o,l,this.animationValues);for(let u=0;u<C0.length;u++)S0("rotate".concat(C0[u]),o,l,this.animationValues),S0("skew".concat(C0[u]),o,l,this.animationValues);o.render();for(const u in l)o.setStaticValue(u,l[u]),this.animationValues&&(this.animationValues[u]=l[u]);o.scheduleRender()}applyProjectionStyles(o,a){var p,_;if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=F_(a==null?void 0:a.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const l=this.getLead();if(!this.projectionDelta||!this.layout||!l.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=F_(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Ya(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const u=l.animationValues||l.latestValues;this.applyTransformsToTarget();let d=mIe(this.projectionDeltaWithTransform,this.treeScale,u);c&&(d=c(u,d)),o.transform=d;const{x:f,y:h}=this.projectionDelta;o.transformOrigin="".concat(f.origin*100,"% ").concat(h.origin*100,"% 0"),l.animationValues?o.opacity=l===this?(_=(p=u.opacity)!=null?p:this.latestValues.opacity)!=null?_:1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=l===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const m in qf){if(u[m]===void 0)continue;const{correct:y,applyTo:v,isCSSVariable:O}=qf[m],S=d==="none"?u[m]:y(u[m],l);if(v){const E=v.length;for(let T=0;T<E;T++)o[v[T]]=S}else O?this.options.visualElement.renderState.vars[m]=S:o[m]=S}this.options.layoutId&&(o.pointerEvents=l===this?F_(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(F2),this.root.sharedNodes.clear()}}}function yIe(e){e.updateLayout()}function EIe(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:i}=e.options,o=t.source!==e.layout.source;i==="size"?Kr(d=>{const f=o?t.measuredBox[d]:t.layoutBox[d],h=nr(f);f.min=r[d].min,f.max=f.min+h}):Gz(i,t.layoutBox,r)&&Kr(d=>{const f=o?t.measuredBox[d]:t.layoutBox[d],h=nr(r[d]);f.max=f.min+h,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+h)});const a=Yl();uf(a,r,t.layoutBox);const c=Yl();o?uf(c,e.applyTransform(s,!0),t.measuredBox):uf(c,r,t.layoutBox);const l=!Fz(a);let u=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:h}=d;if(f&&h){const p=Jt();df(p,t.layoutBox,f.layoutBox);const _=Jt();df(_,r,h.layoutBox),Uz(p,_)||(u=!0),d.options.layoutRoot&&(e.relativeTarget=_,e.relativeTargetOrigin=p,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:c,layoutDelta:a,hasLayoutChanged:l,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function CIe(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function SIe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function bIe(e){e.clearSnapshot()}function F2(e){e.clearMeasurements()}function U2(e){e.isLayoutDirty=!1}function TIe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function j2(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function OIe(e){e.resolveTargetDelta()}function AIe(e){e.calcProjection()}function wIe(e){e.resetSkewAndRotation()}function NIe(e){e.removeLeadSnapshot()}function B2(e,t,n){e.translate=Ut(t.translate,0,n),e.scale=Ut(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function G2(e,t,n,r){e.min=Ut(t.min,n.min,r),e.max=Ut(t.max,n.max,r)}function IIe(e,t,n,r){G2(e.x,t.x,n.x,r),G2(e.y,t.y,n.y,r)}function PIe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const RIe={duration:.45,ease:[.4,0,.1,1]},W2=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),H2=W2("applewebkit/")&&!W2("chrome/")?Math.round:vr;function $2(e){e.min=H2(e.min),e.max=H2(e.max)}function xIe(e){$2(e.x),$2(e.y)}function Gz(e,t,n){return e==="position"||e==="preserve-aspect"&&!jNe(L2(t),L2(n),.2)}function MIe(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const kIe=Bz({attachResizeListener:(e,t)=>zf(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),b0={current:void 0},Wz=Bz({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!b0.current){const e=new kIe({});e.mount(window),e.setOptions({layoutScroll:!0}),b0.current=e}return b0.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),LIe={pan:{Feature:eIe},drag:{Feature:ZNe,ProjectionNode:Wz,MeasureLayout:Mz}};function q2(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&mt.postRender(()=>i(t,ep(t)))}class DIe extends ba{mount(){const{current:t}=this.node;t&&(this.unmount=Y1e(t,(n,r)=>(q2(this.node,r,"Start"),s=>q2(this.node,s,"End"))))}unmount(){}}class FIe extends ba{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch(n){t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Xh(zf(this.node.current,"focus",()=>this.onFocus()),zf(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function V2(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&mt.postRender(()=>i(t,ep(t)))}class UIe extends ba{mount(){const{current:t}=this.node;t&&(this.unmount=Q1e(t,(n,r)=>(V2(this.node,r,"Start"),(s,{success:i})=>V2(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ew=new WeakMap,T0=new WeakMap,jIe=e=>{const t=ew.get(e.target);t&&t(e)},BIe=e=>{e.forEach(jIe)};function GIe(n){var r=n,{root:e}=r,t=G(r,["root"]);const s=e||document;T0.has(s)||T0.set(s,{});const i=T0.get(s),o=JSON.stringify(t);return i[o]||(i[o]=new IntersectionObserver(BIe,b({root:e},t))),i[o]}function WIe(e,t,n){const r=GIe(t);return ew.set(e,n),r.observe(e),()=>{ew.delete(e),r.unobserve(e)}}const HIe={some:0,all:1};class $Ie extends ba{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:HIe[s]},a=c=>{const{isIntersecting:l}=c;if(this.isInView===l||(this.isInView=l,i&&!l&&this.hasEnteredView))return;l&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",l);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),f=l?u:d;f&&f(c)};return WIe(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(qIe(t,n))&&this.startObserver()}unmount(){}}function qIe({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const VIe={inView:{Feature:$Ie},tap:{Feature:UIe},focus:{Feature:FIe},hover:{Feature:DIe}},zIe={layout:{ProjectionNode:Wz,MeasureLayout:Mz}},YIe=b(b(b(b({},MNe),VIe),LIe),zIe),Hz=nNe(YIe,uNe);function UVe(e,t,n){C.useInsertionEffect(()=>e.on(t,n),[e,t,n])}const KIe=50,z2=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),XIe=()=>({time:0,x:z2(),y:z2()}),JIe={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function Y2(e,t,n,r){const s=n[t],{length:i,position:o}=JIe[t],a=s.current,c=n.time;s.current=e["scroll".concat(o)],s.scrollLength=e["scroll".concat(i)]-e["client".concat(i)],s.offset.length=0,s.offset[0]=0,s.offset[1]=s.scrollLength,s.progress=qc(0,s.scrollLength,s.current);const l=r-c;s.velocity=l>KIe?0:eP(s.current-a,l)}function QIe(e,t,n){Y2(e,"x",t,n),Y2(e,"y",t,n),t.time=n}function ZIe(e,t){const n={x:0,y:0};let r=e;for(;r&&r!==t;)if(vP(r))n.x+=r.offsetLeft,n.y+=r.offsetTop,r=r.offsetParent;else if(r.tagName==="svg"){const s=r.getBoundingClientRect();r=r.parentElement;const i=r.getBoundingClientRect();n.x+=s.left-i.left,n.y+=s.top-i.top}else if(r instanceof SVGGraphicsElement){const{x:s,y:i}=r.getBBox();n.x+=s,n.y+=i;let o=null,a=r.parentNode;for(;!o;)a.tagName==="svg"&&(o=a),a=r.parentNode;r=o}else break;return n}const tw={start:0,center:.5,end:1};function K2(e,t,n=0){let r=0;if(e in tw&&(e=tw[e]),typeof e=="string"){const s=parseFloat(e);e.endsWith("px")?r=s:e.endsWith("%")?e=s/100:e.endsWith("vw")?r=s/100*document.documentElement.clientWidth:e.endsWith("vh")?r=s/100*document.documentElement.clientHeight:e=s}return typeof e=="number"&&(r=t*e),n+r}const ePe=[0,0];function tPe(e,t,n,r){let s=Array.isArray(e)?e:ePe,i=0,o=0;return typeof e=="number"?s=[e,e]:typeof e=="string"&&(e=e.trim(),e.includes(" ")?s=e.split(" "):s=[e,tw[e]?e:"0"]),i=K2(s[0],n,r),o=K2(s[1],t),i-o}const nPe={All:[[0,0],[1,1]]},rPe={x:0,y:0};function sPe(e){return"getBBox"in e&&e.tagName!=="svg"?e.getBBox():{width:e.clientWidth,height:e.clientHeight}}function iPe(e,t,n){const{offset:r=nPe.All}=n,{target:s=e,axis:i="y"}=n,o=i==="y"?"height":"width",a=s!==e?ZIe(s,e):rPe,c=s===e?{width:e.scrollWidth,height:e.scrollHeight}:sPe(s),l={width:e.clientWidth,height:e.clientHeight};t[i].offset.length=0;let u=!t[i].interpolate;const d=r.length;for(let f=0;f<d;f++){const h=tPe(r[f],l[o],c[o],a[i]);!u&&h!==t[i].interpolatorOffsets[f]&&(u=!0),t[i].offset[f]=h}u&&(t[i].interpolate=lP(t[i].offset,uP(r),{clamp:!1}),t[i].interpolatorOffsets=[...t[i].offset]),t[i].progress=Gs(0,1,t[i].interpolate(t[i].current))}function oPe(e,t=e,n){if(n.x.targetOffset=0,n.y.targetOffset=0,t!==e){let r=t;for(;r&&r!==e;)n.x.targetOffset+=r.offsetLeft,n.y.targetOffset+=r.offsetTop,r=r.offsetParent}n.x.targetLength=t===e?t.scrollWidth:t.clientWidth,n.y.targetLength=t===e?t.scrollHeight:t.clientHeight,n.x.containerLength=e.clientWidth,n.y.containerLength=e.clientHeight}function aPe(e,t,n,r={}){return{measure:s=>{oPe(e,r.target,n),QIe(e,n,s),(r.offset||r.target)&&iPe(e,n,r)},notify:()=>t(n)}}const Sd=new WeakMap,X2=new WeakMap,O0=new WeakMap,J2=e=>e===document.scrollingElement?window:e;function $z(e,r={}){var s=r,{container:t=document.scrollingElement}=s,n=G(s,["container"]);if(!t)return vr;let i=O0.get(t);i||(i=new Set,O0.set(t,i));const o=XIe(),a=aPe(t,e,o,n);if(i.add(a),!Sd.has(t)){const l=()=>{for(const h of i)h.measure(Rn.timestamp);mt.preUpdate(u)},u=()=>{for(const h of i)h.notify()},d=()=>mt.read(l);Sd.set(t,d);const f=J2(t);window.addEventListener("resize",d,{passive:!0}),t!==document.documentElement&&X2.set(t,awe(t,d)),f.addEventListener("scroll",d,{passive:!0}),d()}const c=Sd.get(t);return mt.read(c,!1,!0),()=>{var d;Ws(c);const l=O0.get(t);if(!l||(l.delete(a),l.size))return;const u=Sd.get(t);Sd.delete(t),u&&(J2(t).removeEventListener("scroll",u),(d=X2.get(t))==null||d(),window.removeEventListener("resize",u))}}const Q2=new Map;function cPe(e){const t={value:0},n=$z(r=>{t.value=r[e.axis].progress*100},e);return{currentTime:t,cancel:n}}function qz(r){var s=r,{source:e,container:t}=s,n=G(s,["source","container"]);var u,d,f,h;const{axis:i}=n;e&&(t=e);const o=(u=Q2.get(t))!=null?u:new Map;Q2.set(t,o);const a=(d=n.target)!=null?d:"self",c=(f=o.get(a))!=null?f:{},l=i+((h=n.offset)!=null?h:[]).join(",");return c[l]||(c[l]=!n.target&&kV()?new ScrollTimeline({source:t,axis:i}):cPe(b({container:t},n))),c[l]}function lPe(e,t){const n=qz(t);return e.attachTimeline({timeline:t.target?void 0:n,observe:r=>(r.pause(),KV(s=>{r.time=r.iterationDuration*s},n))})}function uPe(e){return e.length===2}function dPe(e,t){return uPe(e)?$z(n=>{e(n[t.axis].progress,n)},t):KV(e,qz(t))}function fPe(e,s={}){var i=s,{axis:t="y",container:n=document.scrollingElement}=i,r=G(i,["axis","container"]);if(!n)return vr;const o=b({axis:t,container:n},r);return typeof e=="function"?dPe(e,o):lPe(e,o)}const hPe=()=>({scrollX:ws(0),scrollY:ws(0),scrollXProgress:ws(0),scrollYProgress:ws(0)}),Qp=e=>e?!e.current:!1;function jVe(r={}){var s=r,{container:e,target:t}=s,n=G(s,["container","target"]);const i=nl(hPe),o=C.useRef(null),a=C.useRef(!1),c=C.useCallback(()=>(o.current=fPe((l,{x:u,y:d})=>{i.scrollX.set(u.current),i.scrollXProgress.set(u.progress),i.scrollY.set(d.current),i.scrollYProgress.set(d.progress)},I(b({},n),{container:(e==null?void 0:e.current)||void 0,target:(t==null?void 0:t.current)||void 0})),()=>{var l;(l=o.current)==null||l.call(o)}),[e,t,JSON.stringify(n.offset)]);return Zu(()=>{if(a.current=!1,Qp(e)||Qp(t)){a.current=!0;return}else return c()},[c]),C.useEffect(()=>{if(a.current)return Bf(!Qp(e)),Bf(!Qp(t)),c()},[c]),i}function Vz(e){const t=nl(()=>ws(e)),{isStatic:n}=C.useContext(Zh);if(n){const[,r]=C.useState(e);C.useEffect(()=>t.on("change",r),[])}return t}function zz(e,t){const n=Vz(t()),r=()=>n.set(t());return r(),Zu(()=>{const s=()=>mt.preRender(r,!1,!0),i=e.map(o=>o.on("change",s));return()=>{i.forEach(o=>o()),Ws(r)}}),n}function pPe(e){cf.current=[],e();const t=zz(cf.current,e);return cf.current=void 0,t}function _Pe(e,t,n,r){if(typeof e=="function")return pPe(e);const s=typeof t=="function"?t:lwe(t,n,r);return Array.isArray(e)?Z2(e,s):Z2([e],([i])=>s(i))}function Z2(e,t){const n=nl(()=>[]);return zz(e,()=>{n.length=0;const r=e.length;for(let s=0;s<r;s++)n[s]=e[s].get();return t(n)})}function BVe(e,t={}){const{isStatic:n}=C.useContext(Zh),r=()=>hn(e)?e.get():e;if(n)return _Pe(r);const s=Vz(r());return C.useInsertionEffect(()=>uwe(s,e,t),[s,JSON.stringify(t)]),s}function GVe(){!IP.current&&mz();const[e]=C.useState(Qm.current);return e}function mPe(e){e.values.forEach(t=>t.stop())}function nw(e,t){[...t].reverse().forEach(r=>{const s=e.getVariant(r);s&&PP(e,s),e.variantChildren&&e.variantChildren.forEach(i=>{nw(i,t)})})}function gPe(e,t){if(Array.isArray(t))return nw(e,t);if(typeof t=="string")return nw(e,[t]);PP(e,t)}function vPe(){const e=new Set,t={subscribe(n){return e.add(n),()=>void e.delete(n)},start(n,r){const s=[];return e.forEach(i=>{s.push(Oz(i,n,{transitionOverride:r}))}),Promise.all(s)},set(n){return e.forEach(r=>{gPe(r,n)})},stop(){e.forEach(n=>{mPe(n)})},mount(){return()=>{t.stop()}}};return t}function MP(e){return typeof e=="object"&&!Array.isArray(e)}function Yz(e,t,n,r){return typeof e=="string"&&MP(t)?gP(e,n,r):e instanceof NodeList?Array.from(e):Array.isArray(e)?e:[e]}function yPe(e,t,n){return e*(t+1)}function ej(e,t,n,r){var s;return typeof t=="number"?t:t.startsWith("-")||t.startsWith("+")?Math.max(0,e+parseFloat(t)):t==="<"?n:t.startsWith("<")?Math.max(0,n+parseFloat(t.slice(1))):(s=r.get(t))!=null?s:e}function EPe(e,t,n){for(let r=0;r<e.length;r++){const s=e[r];s.at>t&&s.at<n&&(qv(e,s),r--)}}function CPe(e,t,n,r,s,i){EPe(e,s,i);for(let o=0;o<t.length;o++)e.push({value:t[o],at:Ut(s,i,r[o]),easing:mV(n,o)})}function SPe(e,t){for(let n=0;n<e.length;n++)e[n]=e[n]/(t+1)}function bPe(e,t){return e.at===t.at?e.value===null?1:t.value===null?-1:0:e.at-t.at}const TPe="easeInOut";function OPe(e,i={},r,s){var o=i,{defaultTransition:t={}}=o,n=G(o,["defaultTransition"]);const a=t.duration||.3,c=new Map,l=new Map,u={},d=new Map;let f=0,h=0,p=0;for(let _=0;_<e.length;_++){const m=e[_];if(typeof m=="string"){d.set(m,h);continue}else if(!Array.isArray(m)){d.set(m.name,ej(h,m.at,f,d));continue}let[y,v,O={}]=m;O.at!==void 0&&(h=ej(h,O.at,f,d));let S=0;const E=(T,A,w,N=0,P=0)=>{const x=APe(T),z=A,{delay:D=0,times:M=uP(x),type:F="keyframes",repeat:j,repeatType:$,repeatDelay:q=0}=z,k=G(z,["delay","times","type","repeat","repeatType","repeatDelay"]);let{ease:Z=t.ease||"easeOut",duration:B}=A;const Q=typeof D=="function"?D(N,P):D,se=x.length,fe=pP(F)?F:s==null?void 0:s[F||"keyframes"];if(se<=2&&fe){let te=100;if(se===2&&IPe(x)){const oe=x[1]-x[0];te=Math.abs(oe)}const Se=b({},k);B!==void 0&&(Se.duration=xs(B));const he=NV(Se,te,fe);Z=he.ease,B=he.duration}B!=null||(B=a);const V=h+Q;M.length===1&&M[0]===0&&(M[1]=1);const H=M.length-x.length;if(H>0&&PV(M,H),x.length===1&&x.unshift(null),j){B=yPe(B,j);const te=[...x],Se=[...M];Z=Array.isArray(Z)?[...Z]:[Z];const he=[...Z];for(let oe=0;oe<j;oe++){x.push(...te);for(let be=0;be<te.length;be++)M.push(Se[be]+(oe+1)),Z.push(be===0?"linear":mV(he,be-1))}SPe(M,j)}const ee=V+B;CPe(w,x,Z,M,V,ee),S=Math.max(Q+B,S),p=Math.max(ee,p)};if(hn(y)){const T=tj(y,l);E(v,O,nj("default",T))}else{const T=Yz(y,v,r,u),A=T.length;for(let w=0;w<A;w++){v=v,O=O;const N=T[w],P=tj(N,l);for(const x in v)E(v[x],wPe(O,x),nj(x,P),w,A)}}f=h,h+=S}return l.forEach((_,m)=>{for(const y in _){const v=_[y];v.sort(bPe);const O=[],S=[],E=[];for(let A=0;A<v.length;A++){const{at:w,value:N,easing:P}=v[A];O.push(N),S.push(qc(0,p,w)),E.push(P||"easeOut")}S[0]!==0&&(S.unshift(0),O.unshift(O[0]),E.unshift(TPe)),S[S.length-1]!==1&&(S.push(1),O.push(null)),c.has(m)||c.set(m,{keyframes:{},transition:{}});const T=c.get(m);T.keyframes[y]=O,T.transition[y]=b(I(b({},t),{duration:p,ease:E,times:S}),n)}}),c}function tj(e,t){return!t.has(e)&&t.set(e,{}),t.get(e)}function nj(e,t){return t[e]||(t[e]=[]),t[e]}function APe(e){return Array.isArray(e)?e:[e]}function wPe(e,t){return e&&e[t]?b(b({},e),e[t]):b({},e)}const NPe=e=>typeof e=="number",IPe=e=>e.every(NPe);function PPe(e,t){return e in t}class RPe extends gz{constructor(){super(...arguments),this.type="object"}readValueFromInstance(t,n){if(PPe(n,t)){const r=t[n];if(typeof r=="string"||typeof r=="number")return r}}getBaseTargetFromProps(){}removeValueFromRenderState(t,n){delete n.output[t]}measureInstanceViewportBox(){return Jt()}build(t,n){Object.assign(t.output,n)}renderInstance(t,{output:n}){Object.assign(t,n)}sortInstanceNodePosition(){return 0}}function xPe(e){const t={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=zv(e)&&!XV(e)?new Sz(t):new Ez(t);n.mount(e),Vf.set(e,n)}function MPe(e){const t={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},n=new RPe(t);n.mount(e),Vf.set(e,n)}function kPe(e,t){return hn(e)||typeof e=="number"||typeof e=="string"&&!MP(t)}function Kz(e,t,n,r){const s=[];if(kPe(e,t))s.push(kz(e,MP(t)&&t.default||t,n&&(n.default||n)));else{const i=Yz(e,t,r),o=i.length;for(let a=0;a<o;a++){const c=i[a],l=c instanceof Element?xPe:MPe;Vf.has(c)||l(c);const u=Vf.get(c),d=b({},n);"delay"in d&&typeof d.delay=="function"&&(d.delay=d.delay(a,o)),s.push(...xP(u,I(b({},t),{transition:d}),{}))}}return s}function LPe(e,t,n){const r=[];return OPe(e,t,n,{spring:Hf}).forEach(({keyframes:i,transition:o},a)=>{r.push(...Kz(a,i,o))}),r}function DPe(e){return Array.isArray(e)&&e.some(Array.isArray)}function FPe(e){function t(n,r,s){let i=[],o;if(DPe(n))i=LPe(n,r,e);else{const c=s||{},{onComplete:l}=c,u=G(c,["onComplete"]);typeof l=="function"&&(o=l),i=Kz(n,r,u,e)}const a=new x1e(i);return o&&a.finished.then(o),a}return t}const WVe=FPe();function UPe(){const e=nl(vPe);return Zu(e.mount,[]),e}const HVe=UPe;var j_={exports:{}},jPe=j_.exports,rj;function BPe(){return rj||(rj=1,(function(e){(function(t,n,r){function s(c){var l=this,u=a();l.next=function(){var d=2091639*l.s0+l.c*23283064365386963e-26;return l.s0=l.s1,l.s1=l.s2,l.s2=d-(l.c=d|0)},l.c=1,l.s0=u(" "),l.s1=u(" "),l.s2=u(" "),l.s0-=u(c),l.s0<0&&(l.s0+=1),l.s1-=u(c),l.s1<0&&(l.s1+=1),l.s2-=u(c),l.s2<0&&(l.s2+=1),u=null}function i(c,l){return l.c=c.c,l.s0=c.s0,l.s1=c.s1,l.s2=c.s2,l}function o(c,l){var u=new s(c),d=l&&l.state,f=u.next;return f.int32=function(){return u.next()*4294967296|0},f.double=function(){return f()+(f()*2097152|0)*11102230246251565e-32},f.quick=f,d&&(typeof d=="object"&&i(d,u),f.state=function(){return i(u,{})}),f}function a(){var c=4022871197,l=function(u){u=String(u);for(var d=0;d<u.length;d++){c+=u.charCodeAt(d);var f=.02519603282416938*c;c=f>>>0,f-=c,f*=c,c=f>>>0,f-=c,c+=f*4294967296}return(c>>>0)*23283064365386963e-26};return l}n&&n.exports?n.exports=o:this.alea=o})(jPe,e)})(j_)),j_.exports}var B_={exports:{}},GPe=B_.exports,sj;function WPe(){return sj||(sj=1,(function(e){(function(t,n,r){function s(a){var c=this,l="";c.x=0,c.y=0,c.z=0,c.w=0,c.next=function(){var d=c.x^c.x<<11;return c.x=c.y,c.y=c.z,c.z=c.w,c.w^=c.w>>>19^d^d>>>8},a===(a|0)?c.x=a:l+=a;for(var u=0;u<l.length+64;u++)c.x^=l.charCodeAt(u)|0,c.next()}function i(a,c){return c.x=a.x,c.y=a.y,c.z=a.z,c.w=a.w,c}function o(a,c){var l=new s(a),u=c&&c.state,d=function(){return(l.next()>>>0)/4294967296};return d.double=function(){do var f=l.next()>>>11,h=(l.next()>>>0)/4294967296,p=(f+h)/(1<<21);while(p===0);return p},d.int32=l.next,d.quick=d,u&&(typeof u=="object"&&i(u,l),d.state=function(){return i(l,{})}),d}n&&n.exports?n.exports=o:this.xor128=o})(GPe,e)})(B_)),B_.exports}var G_={exports:{}},HPe=G_.exports,ij;function $Pe(){return ij||(ij=1,(function(e){(function(t,n,r){function s(a){var c=this,l="";c.next=function(){var d=c.x^c.x>>>2;return c.x=c.y,c.y=c.z,c.z=c.w,c.w=c.v,(c.d=c.d+362437|0)+(c.v=c.v^c.v<<4^(d^d<<1))|0},c.x=0,c.y=0,c.z=0,c.w=0,c.v=0,a===(a|0)?c.x=a:l+=a;for(var u=0;u<l.length+64;u++)c.x^=l.charCodeAt(u)|0,u==l.length&&(c.d=c.x<<10^c.x>>>4),c.next()}function i(a,c){return c.x=a.x,c.y=a.y,c.z=a.z,c.w=a.w,c.v=a.v,c.d=a.d,c}function o(a,c){var l=new s(a),u=c&&c.state,d=function(){return(l.next()>>>0)/4294967296};return d.double=function(){do var f=l.next()>>>11,h=(l.next()>>>0)/4294967296,p=(f+h)/(1<<21);while(p===0);return p},d.int32=l.next,d.quick=d,u&&(typeof u=="object"&&i(u,l),d.state=function(){return i(l,{})}),d}n&&n.exports?n.exports=o:this.xorwow=o})(HPe,e)})(G_)),G_.exports}var W_={exports:{}},qPe=W_.exports,oj;function VPe(){return oj||(oj=1,(function(e){(function(t,n,r){function s(a){var c=this;c.next=function(){var u=c.x,d=c.i,f,h;return f=u[d],f^=f>>>7,h=f^f<<24,f=u[d+1&7],h^=f^f>>>10,f=u[d+3&7],h^=f^f>>>3,f=u[d+4&7],h^=f^f<<7,f=u[d+7&7],f=f^f<<13,h^=f^f<<9,u[d]=h,c.i=d+1&7,h};function l(u,d){var f,h=[];if(d===(d|0))h[0]=d;else for(d=""+d,f=0;f<d.length;++f)h[f&7]=h[f&7]<<15^d.charCodeAt(f)+h[f+1&7]<<13;for(;h.length<8;)h.push(0);for(f=0;f<8&&h[f]===0;++f);for(f==8?h[7]=-1:h[f],u.x=h,u.i=0,f=256;f>0;--f)u.next()}l(c,a)}function i(a,c){return c.x=a.x.slice(),c.i=a.i,c}function o(a,c){a==null&&(a=+new Date);var l=new s(a),u=c&&c.state,d=function(){return(l.next()>>>0)/4294967296};return d.double=function(){do var f=l.next()>>>11,h=(l.next()>>>0)/4294967296,p=(f+h)/(1<<21);while(p===0);return p},d.int32=l.next,d.quick=d,u&&(u.x&&i(u,l),d.state=function(){return i(l,{})}),d}n&&n.exports?n.exports=o:this.xorshift7=o})(qPe,e)})(W_)),W_.exports}var H_={exports:{}},zPe=H_.exports,aj;function YPe(){return aj||(aj=1,(function(e){(function(t,n,r){function s(a){var c=this;c.next=function(){var u=c.w,d=c.X,f=c.i,h,p;return c.w=u=u+1640531527|0,p=d[f+34&127],h=d[f=f+1&127],p^=p<<13,h^=h<<17,p^=p>>>15,h^=h>>>12,p=d[f]=p^h,c.i=f,p+(u^u>>>16)|0};function l(u,d){var f,h,p,_,m,y=[],v=128;for(d===(d|0)?(h=d,d=null):(d=d+"\0",h=0,v=Math.max(v,d.length)),p=0,_=-32;_<v;++_)d&&(h^=d.charCodeAt((_+32)%d.length)),_===0&&(m=h),h^=h<<10,h^=h>>>15,h^=h<<4,h^=h>>>13,_>=0&&(m=m+1640531527|0,f=y[_&127]^=h+m,p=f==0?p+1:0);for(p>=128&&(y[(d&&d.length||0)&127]=-1),p=127,_=512;_>0;--_)h=y[p+34&127],f=y[p=p+1&127],h^=h<<13,f^=f<<17,h^=h>>>15,f^=f>>>12,y[p]=h^f;u.w=m,u.X=y,u.i=p}l(c,a)}function i(a,c){return c.i=a.i,c.w=a.w,c.X=a.X.slice(),c}function o(a,c){a==null&&(a=+new Date);var l=new s(a),u=c&&c.state,d=function(){return(l.next()>>>0)/4294967296};return d.double=function(){do var f=l.next()>>>11,h=(l.next()>>>0)/4294967296,p=(f+h)/(1<<21);while(p===0);return p},d.int32=l.next,d.quick=d,u&&(u.X&&i(u,l),d.state=function(){return i(l,{})}),d}n&&n.exports?n.exports=o:this.xor4096=o})(zPe,e)})(H_)),H_.exports}var $_={exports:{}},KPe=$_.exports,cj;function XPe(){return cj||(cj=1,(function(e){(function(t,n,r){function s(a){var c=this,l="";c.next=function(){var d=c.b,f=c.c,h=c.d,p=c.a;return d=d<<25^d>>>7^f,f=f-h|0,h=h<<24^h>>>8^p,p=p-d|0,c.b=d=d<<20^d>>>12^f,c.c=f=f-h|0,c.d=h<<16^f>>>16^p,c.a=p-d|0},c.a=0,c.b=0,c.c=-1640531527,c.d=1367130551,a===Math.floor(a)?(c.a=a/4294967296|0,c.b=a|0):l+=a;for(var u=0;u<l.length+20;u++)c.b^=l.charCodeAt(u)|0,c.next()}function i(a,c){return c.a=a.a,c.b=a.b,c.c=a.c,c.d=a.d,c}function o(a,c){var l=new s(a),u=c&&c.state,d=function(){return(l.next()>>>0)/4294967296};return d.double=function(){do var f=l.next()>>>11,h=(l.next()>>>0)/4294967296,p=(f+h)/(1<<21);while(p===0);return p},d.int32=l.next,d.quick=d,u&&(typeof u=="object"&&i(u,l),d.state=function(){return i(l,{})}),d}n&&n.exports?n.exports=o:this.tychei=o})(KPe,e)})($_)),$_.exports}var q_={exports:{}};const JPe={},QPe=Object.freeze(Object.defineProperty({__proto__:null,default:JPe},Symbol.toStringTag,{value:"Module"})),ZPe=cQ(QPe);var eRe=q_.exports,lj;function tRe(){return lj||(lj=1,(function(e){(function(t,n,r){var s=256,i=6,o=52,a="random",c=r.pow(s,i),l=r.pow(2,o),u=l*2,d=s-1,f;function h(S,E,T){var A=[];E=E==!0?{entropy:!0}:E||{};var w=y(m(E.entropy?[S,O(n)]:S==null?v():S,3),A),N=new p(A),P=function(){for(var x=N.g(i),D=c,M=0;x<l;)x=(x+M)*s,D*=s,M=N.g(1);for(;x>=u;)x/=2,D/=2,M>>>=1;return(x+M)/D};return P.int32=function(){return N.g(4)|0},P.quick=function(){return N.g(4)/4294967296},P.double=P,y(O(N.S),n),(E.pass||T||function(x,D,M,F){return F&&(F.S&&_(F,N),x.state=function(){return _(N,{})}),M?(r[a]=x,D):x})(P,w,"global"in E?E.global:this==r,E.state)}function p(S){var E,T=S.length,A=this,w=0,N=A.i=A.j=0,P=A.S=[];for(T||(S=[T++]);w<s;)P[w]=w++;for(w=0;w<s;w++)P[w]=P[N=d&N+S[w%T]+(E=P[w])],P[N]=E;(A.g=function(x){for(var D,M=0,F=A.i,j=A.j,$=A.S;x--;)D=$[F=d&F+1],M=M*s+$[d&($[F]=$[j=d&j+D])+($[j]=D)];return A.i=F,A.j=j,M})(s)}function _(S,E){return E.i=S.i,E.j=S.j,E.S=S.S.slice(),E}function m(S,E){var T=[],A=typeof S,w;if(E&&A=="object")for(w in S)try{T.push(m(S[w],E-1))}catch(N){}return T.length?T:A=="string"?S:S+"\0"}function y(S,E){for(var T=S+"",A,w=0;w<T.length;)E[d&w]=d&(A^=E[d&w]*19)+T.charCodeAt(w++);return O(E)}function v(){try{var S;return f&&(S=f.randomBytes)?S=S(s):(S=new Uint8Array(s),(t.crypto||t.msCrypto).getRandomValues(S)),O(S)}catch(A){var E=t.navigator,T=E&&E.plugins;return[+new Date,t,T,t.screen,O(n)]}}function O(S){return String.fromCharCode.apply(0,S)}if(y(r.random(),n),e.exports){e.exports=h;try{f=ZPe}catch(S){}}else r["seed"+a]=h})(typeof self<"u"?self:eRe,[],Math)})(q_)),q_.exports}var A0,uj;function nRe(){if(uj)return A0;uj=1;var e=BPe(),t=WPe(),n=$Pe(),r=VPe(),s=YPe(),i=XPe(),o=tRe();return o.alea=e,o.xor128=t,o.xorwow=n,o.xorshift7=r,o.xor4096=s,o.tychei=i,A0=o,A0}var rRe=nRe();const sRe=$t(rRe);function iRe(e){"use forget";const t=W.c(10),{lines:n,variance:r,size:s,width:i,widthVariance:o,delay:a,className:c}=e,l=n===void 0?1:n,u=r===void 0?0:r,d=s===void 0?"base":s,f=i===void 0?50:i,h=o===void 0?50:o,p=a===void 0?0:a;let _;if(t[0]!==c||t[1]!==p||t[2]!==l||t[3]!==d||t[4]!==u||t[5]!==f||t[6]!==h){const y=Xz(Math.min(l,100),f,h,u);let v="";e:switch(d){case"sm":{v="h-3 mb-2 mt-0.5";break e}case"base":{v="h-4 my-2";break e}case"lg":{v="h-5 my-2";break e}case"xl":v="h-6 my-2"}_=y.map((O,S)=>g.jsx("div",{className:ie("bg-token-sidebar-surface-secondary dark:bg-token-border-default relative w-full overflow-hidden rounded-md",v,c),style:{width:"".concat(O,"%")},children:g.jsx(Hz.div,{className:"absolute start-0 top-0 h-full w-full bg-linear-45 from-transparent via-black/8 to-transparent opacity-50 dark:via-white/5",initial:{x:"-100%",opacity:1},animate:{x:["-100%","100%"],opacity:[1,0,1],transition:{repeat:1/0,repeatType:"loop",duration:1.5+S,delay:S*.07+p}}})},S)),t[0]=c,t[1]=p,t[2]=l,t[3]=d,t[4]=u,t[5]=f,t[6]=h,t[7]=_}else _=t[7];let m;return t[8]!==_?(m=g.jsx(g.Fragment,{children:_}),t[8]=_,t[9]=m):m=t[9],m}function $Ve({lines:e=1,indexOffset:t=0,variance:n=0,width:r=50,widthVariance:s=50,gapFrequency:i=0,scaleUpAnimation:o,className:a,heightSize:c,delay:l}){const u=C.useMemo(()=>Xz(e,r,s,n),[e,n,r,s]);return g.jsx(oRe,{className:a,children:u.map((d,f)=>g.jsx(cRe,{index:f+t,width:d,className:ie(i>0&&(f+1)%i===0&&"mb-snc-1"),heightSize:c,customAnimation:o?{initial:{scaleX:o.initialScaleX},animate:{scaleX:1},transition:{scaleX:{duration:o.duration,ease:"easeInOut",delay:f*.07+(l!=null?l:0)}}}:void 0},f))})}var nG;const oRe=po.div(nG||(nG=ri(["flex flex-col items-start gap-2"]))),aRe={sm:"h-3.5",md:"h-5",lg:"h-6"};function cRe({index:e,width:t,className:n,customAnimation:r,heightSize:s="md"}){const{initial:i,animate:o,transition:a}=r!=null?r:{initial:{},animate:{},transition:{}};return g.jsx(Hz.div,{className:ie(aRe[s],"bg-token-border-default origin-start rounded-md dark:bg-white/10",n),style:{width:"".concat(t,"%")},initial:b({opacity:1},i),animate:b({opacity:[1,.4]},o),transition:b({opacity:{repeat:1/0,repeatType:"reverse",duration:.85,ease:"easeInOut",delay:e*.07}},a)})}function Xz(e,t,n,r){const s=sRe([e,t,n,r].join("-"));return Array.from({length:e+Math.round(s()*(r!=null?r:0))},()=>t+s()*n)}const Jv=a=>{var c=a,{onClick:e,onPreclick:t,bg:n="transparent",className:r,iconSize:s="md",ref:i}=c,o=G(c,["onClick","onPreclick","bg","className","iconSize","ref"]);const l=ft();return g.jsx("button",I(b({"data-testid":"close-button",ref:i,onClick:e,onPointerOver:t,onTouchStart:t,onFocus:t,className:ie("flex h-9 w-9 items-center justify-center rounded-lg",n==="transparent"?"hover:bg-token-surface-hover dark:hover:bg-token-main-surface-tertiary keyboard-focused:bg-token-surface-hover bg-transparent":"bg-token-bg-primary hover:bg-token-bg-primary/80 dark:hover:bg-token-main-surface-secondary keyboard-focused:bg-token-bg-primary/80",r),"aria-label":l.formatMessage({id:"Px7S/2",defaultMessage:"Close"})},o),{children:g.jsx(J9,{className:s==="lg"?"icon-lg":"icon"})}))};Jv.displayName="CloseButton";function lRe(){}const uRe=()=>{"use forget";const e=W.c(2);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=g.jsx("p",{className:"text-token-text-primary text-base font-semibold",children:"ChatGPT"}),e[0]=t):t=e[0];let n;return e[1]===Symbol.for("react.memo_cache_sentinel")?(n=g.jsx("div",{className:"content-sheet:content-sheet-inset-section pt-1!",children:g.jsxs("div",{className:"flex items-center justify-between gap-3",children:[t,g.jsx(qi.Trigger,{action:"dismiss",asChild:!0,children:g.jsx(Jv,{type:"button",className:"bg-token-bg-tertiary text-token-text-primary h-[1lh]! w-[1lh]! shrink-0 rounded-full",onClick:lRe})})]})}),e[1]=n):n=e[1],n},dRe=(e,t)=>(i=>{var o=i,{as:r}=o,s=G(o,["as"]);const a=r||e;return t(g.jsx(a,b({},s)))}),rw="__sheetHistory__";let fRe=0;function Jz(e){if(typeof e!="object"||e===null||!Reflect.get(e,rw))return;const t=Reflect.get(e,"id");if(typeof t!="string")return;const n=Reflect.get(e,"name"),r=Reflect.get(e,"url");return{[rw]:!0,id:t,name:typeof n=="string"?n:void 0,url:typeof r=="string"?r:void 0}}function hRe(e){return Jz(e.state)}function pRe({ctx:e,currentUrl:t,navigate:n,onPresentedChange:r,name:s,url:i,onHistoryPop:o}){if(!s&&!i)throw new Error("createHistoryPopEffect requires either a name or a url to be provided");const a={[rw]:!0,id:"sheet-history-".concat(fRe++),name:s,url:i};n(i!=null?i:t,{state:a});let c=!0,l;const u=()=>{l&&(l(),l=void 0)};if("navigation"in window&&window.navigation){const h=window.navigation,p=_=>{var v,O;if(!c||_.navigationType!=="traverse"||_.canIntercept!==!0||typeof _.intercept!="function")return;const m=(O=(v=h.currentEntry)==null?void 0:v.getState)==null?void 0:O.call(v),y=Jz(m);!y||y.id!==a.id||_.intercept({scroll:"manual",handler:()=>{c&&(u(),c=!1,r(!1),o==null||o())}})};h.addEventListener("navigate",p),l=()=>{h.removeEventListener("navigate",p)}}if("CloseWatcher"in window){const h=new window.CloseWatcher;h.onclose=p=>{p.preventDefault(),u(),c=!1,r(!1),o==null||o()}}const d=na(()=>KI(e),h=>{if(!c||h.length===0||h[h.length-1].action!=="POP")return;let _;for(let m=h.length-1;m>=0;m-=1){const y=hRe(h[m].location);if(y){_=y;break}}!_||_.id!==a.id||(c=!1,u(),r(!1),o==null||o())});return()=>{u(),d(),c&&(c=!1,n(-1))}}function _Re(e){const t=C.useRef(e);return C.useInsertionEffect(()=>{t.current=e},[e]),C.useMemo(()=>((...n)=>{fg()&&mRe();const{current:r}=t;return r(...n)}),[])}function mRe(){throw new Error("A function wrapped in useStableCallback can't be called during rendering.")}const Qz=ct(()=>({anySheetOpen$:me(!1)}));function gRe(e){"use forget";var w;const t=W.c(35);let n,r,s,i,o,a,c,l;t[0]!==e?(w=e,{children:n,behavior:l,sheetName:o,sheetUrl:c,onHistoryPop:r,onPresentedChange:s,presented:i}=w,a=G(w,["children","behavior","sheetName","sheetUrl","onHistoryPop","onPresentedChange","presented"]),t[0]=e,t[1]=n,t[2]=r,t[3]=s,t[4]=i,t[5]=o,t[6]=a,t[7]=c,t[8]=l):(n=t[1],r=t[2],s=t[3],i=t[4],o=t[5],a=t[6],c=t[7],l=t[8]);const u=l===void 0?"default":l,d=co(),f=nn(),h=C.useRef(!1),p=C.useRef(null);let _,m;t[9]!==i?(_=()=>{var N;i||((N=p.current)==null||N.call(p),p.current=null)},m=[i],t[9]=i,t[10]=_,t[11]=m):(_=t[10],m=t[11]),C.useEffect(_,m);let y;t[12]!==s?(y=N=>{var P;Qz(An()).anySheetOpen$.set(N),s==null||s(N),N||((P=p.current)==null||P.call(p),p.current=null)},t[12]=s,t[13]=y):y=t[13];const v=_Re(y);let O;t[14]!==f.hash||t[15]!==f.pathname||t[16]!==f.search||t[17]!==d||t[18]!==r||t[19]!==v||t[20]!==o||t[21]!==c?(O=()=>pRe({ctx:An(),navigate:d,currentUrl:"".concat(f.pathname).concat(f.search).concat(f.hash),onPresentedChange:v,name:o,url:c,onHistoryPop:r}),t[14]=f.hash,t[15]=f.pathname,t[16]=f.search,t[17]=d,t[18]=r,t[19]=v,t[20]=o,t[21]=c,t[22]=O):O=t[22];const S=C.useEffectEvent(O);let E;t[23]!==u||t[24]!==S||t[25]!==i?(E=()=>{if(!(u!=="history"||p.current)){if(i==null){h.current;return}i&&(p.current=S())}},t[23]=u,t[24]=S,t[25]=i,t[26]=E):E=t[26];let T;t[27]!==u||t[28]!==i?(T=[u,i],t[27]=u,t[28]=i,t[29]=T):T=t[29],C.useEffect(E,T);let A;return t[30]!==n||t[31]!==v||t[32]!==i||t[33]!==a?(A=g.jsx(qi.Root,I(b({license:"commercial","data-content-sheet-root":!0},a),{presented:i,onPresentedChange:v,children:n})),t[30]=n,t[31]=v,t[32]=i,t[33]=a,t[34]=A):A=t[34],A}function vRe(e){"use forget";var A;const t=W.c(24);let n,r,s,i,o,a;t[0]!==e?(A=e,{children:n,className:r,nativeEdgeSwipePrevention:a,onTravel:i,onCloseComplete:s}=A,o=G(A,["children","className","nativeEdgeSwipePrevention","onTravel","onCloseComplete"]),t[0]=e,t[1]=n,t[2]=r,t[3]=s,t[4]=i,t[5]=o,t[6]=a):(n=t[1],r=t[2],s=t[3],i=t[4],o=t[5],a=t[6]);const c=a===void 0?!1:a,l=C.useRef(null),d=Le(bv)?"center":"bottom",[f,h]=C.useState(null),p=ce();let _;t[7]!==p?(_=Qz(p),t[7]=p,t[8]=_):_=t[8];const m=_,y=C.useRef(0);let v;t[9]!==s||t[10]!==i||t[11]!==m?(v=w=>{const x=w,{progress:N}=x,P=G(x,["progress"]);if(!l.current)return i==null?void 0:i(b({progress:N},P));N===0&&y.current>0?(m.anySheetOpen$.set(!1),s==null||s()):N<.999?h(null):(m.anySheetOpen$.set(!0),h("opened")),y.current=N,i==null||i(b({progress:N},P))},t[9]=s,t[10]=i,t[11]=m,t[12]=v):v=t[12];const O=v;let S;t[13]!==r?(S=ie("top-0 bottom-[initial] h-[max(100dvh,100%)] [--sheet-radius-amount:16px] sm:h-full",r),t[13]=r,t[14]=S):S=t[14];let E;t[15]===Symbol.for("react.memo_cache_sentinel")?(E={focus:!1},t[15]=E):E=t[15];let T;return t[16]!==n||t[17]!==d||t[18]!==c||t[19]!==o||t[20]!==S||t[21]!==O||t[22]!==f?(T=g.jsx(qi.View,I(b({className:S,"data-sheet-travel-state":f,"data-ignore-for-page-load":!0,contentPlacement:d,tracks:"bottom",swipeOvershoot:!1,nativeEdgeSwipePrevention:c,onTravel:O,onDismissAutoFocus:E,ref:l},o),{children:n})),t[16]=n,t[17]=d,t[18]=c,t[19]=o,t[20]=S,t[21]=O,t[22]=f,t[23]=T):T=t[23],T}function yRe(e){"use forget";const t=W.c(2),n=C.useRef(null);let r;return t[0]!==e?(r=g.jsx(qi.Backdrop,b({ref:n},e)),t[0]=e,t[1]=r):r=t[1],r}const ERe={normal:"max-h-[calc(100%-max(env(safe-area-inset-top),6px))]",large:"max-h-[calc(100%-max(env(safe-area-inset-top),36px))]",xlarge:"max-h-[calc(100%-max(env(safe-area-inset-top),56px))]"};function CRe(e){"use forget";var N;const t=W.c(31);let n,r,s,i,o,a,c,l;t[0]!==e?(N=e,{children:r,canBounce:n,hasBounced$:i,size:c,className:s,ref:o,topMargin:l}=N,a=G(N,["children","canBounce","hasBounced$","size","className","ref","topMargin"]),t[0]=e,t[1]=n,t[2]=r,t[3]=s,t[4]=i,t[5]=o,t[6]=a,t[7]=c,t[8]=l):(n=t[1],r=t[2],s=t[3],i=t[4],o=t[5],a=t[6],c=t[7],l=t[8]);const u=c===void 0?"fill":c,d=l===void 0?"normal":l;let f;t[9]!==i?(f=()=>{var P;return(P=i==null?void 0:i())!=null?P:!1},t[9]=i,t[10]=f):f=t[10];const h=Le(f),p=ERe[d],_=u!=="fullscreen"&&"max-w-md max-sm:[--sheet-radius:var(--sheet-radius-amount)_var(--sheet-radius-amount)_0_0] sm:w-[calc(800px-1.25rem)]",m=u==="fit"&&"h-min ".concat(p),y=u==="fill"&&"h-[calc(100svh-max(env(safe-area-inset-bottom),6px))] sm:h-[calc(100svh-4rem)]",v=u==="fullscreen"&&"h-[calc(100svh-max(env(safe-area-inset-bottom),0px))]",O=u!=="fullscreen"&&"rounded-(--sheet-radius,var(--sheet-radius-amount))",S=n?h?"peek-top-end-animation":"peek-top-animation":void 0;let E;t[11]!==s||t[12]!==_||t[13]!==m||t[14]!==y||t[15]!==v||t[16]!==O||t[17]!==S?(E=ie("sm:shadow-long pb-4 [border:1px_solid_transparent]! focus:outline-hidden",_,m,y,v,O,S,s),t[11]=s,t[12]=_,t[13]=m,t[14]=y,t[15]=v,t[16]=O,t[17]=S,t[18]=E):E=t[18];let T;t[19]!==n||t[20]!==i?(T=()=>{n&&i&&i.set(!0)},t[19]=n,t[20]=i,t[21]=T):T=t[21];let A;t[22]!==i?(A=()=>{i==null||i.set(!0)},t[22]=i,t[23]=A):A=t[23];let w;return t[24]!==r||t[25]!==o||t[26]!==a||t[27]!==T||t[28]!==A||t[29]!==E?(w=g.jsx(qi.Content,I(b({className:E,onPointerDown:T,onAnimationEnd:A},a),{ref:o,children:r})),t[24]=r,t[25]=o,t[26]=a,t[27]=T,t[28]=A,t[29]=E,t[30]=w):w=t[30],w}const Ji={Root:gRe,Portal:qi.Portal,View:vRe,Backdrop:yRe,Content:CRe,Trigger:qi.Trigger,Handle:qi.Handle,Title:qi.Title};function SRe(e){"use forget";var c;const t=W.c(12);let n,r,s;t[0]!==e?(c=e,{children:n,className:r}=c,s=G(c,["children","className"]),t[0]=e,t[1]=n,t[2]=r,t[3]=s):(n=t[1],r=t[2],s=t[3]);let i;t[4]!==r?(i=ie("min-h-0",r),t[4]=r,t[5]=i):i=t[5];let o;t[6]!==n?(o=g.jsx(c0.Content,{className:"align-content-start grid",tabIndex:-1,children:n}),t[6]=n,t[7]=o):o=t[7];let a;return t[8]!==s||t[9]!==i||t[10]!==o?(a=g.jsx(c0.Root,{asChild:!0,children:g.jsx(c0.View,I(b({className:i,safeArea:"visual-viewport",scrollTimelineName:"--sheet-scroller"},s),{children:o}))}),t[8]=s,t[9]=i,t[10]=o,t[11]=a):a=t[11],a}function bRe(e){"use forget";var m;const t=W.c(22);let n,r,s,i,o,a;t[0]!==e?(m=e,{className:r,children:n,handle:i,showHeader:o,topMargin:a}=m,s=G(m,["className","children","handle","showHeader","topMargin"]),t[0]=e,t[1]=n,t[2]=r,t[3]=s,t[4]=i,t[5]=o,t[6]=a):(n=t[1],r=t[2],s=t[3],i=t[4],o=t[5],a=t[6]);const c=i===void 0?"auto":i,l=o===void 0?!1:o,u=c===!0&&"grid-rows-[min-content_min-content_1fr_min-content]",d=c==="auto"&&"max-sm:grid-rows-[min-content_min-content_1fr_min-content]";let f;t[7]!==r||t[8]!==u||t[9]!==d?(f=ie("bg-token-bg-primary content-sheet popup @container/sheet-content grid grid-rows-[min-content_1fr_min-content] [--padding:1rem]",u,d,r),t[7]=r,t[8]=u,t[9]=d,t[10]=f):f=t[10];let h;t[11]!==c?(h=c!==!1&&g.jsx(SOe.Root,{timing:"present",className:ie("flex justify-center focus-visible:outline-none",c==="auto"&&"sm:hidden"),children:g.jsx(TRe,{})}),t[11]=c,t[12]=h):h=t[12];let p;t[13]!==l?(p=l&&g.jsx(uRe,{}),t[13]=l,t[14]=p):p=t[14];let _;return t[15]!==n||t[16]!==s||t[17]!==f||t[18]!==h||t[19]!==p||t[20]!==a?(_=g.jsxs(Ji.Content,I(b({className:f,topMargin:a},s),{children:[h,p,n]})),t[15]=n,t[16]=s,t[17]=f,t[18]=h,t[19]=p,t[20]=a,t[21]=_):_=t[21],_}function TRe(e){"use forget";var o;const t=W.c(8);let n,r;t[0]!==e?(o=e,{className:n}=o,r=G(o,["className"]),t[0]=e,t[1]=n,t[2]=r):(n=t[1],r=t[2]);let s;t[3]!==n?(s=ie("bg-token-bg-secondary! dark:bg-token-bg-tertiary! col-start-1 col-end-[-1] mt-1.5 h-1 self-start justify-self-center rounded-full select-none",n),t[3]=n,t[4]=s):s=t[4];let i;return t[5]!==r||t[6]!==s?(i=g.jsx(Ji.Handle,b({className:s},r)),t[5]=r,t[6]=s,t[7]=i):i=t[7],i}function ORe(e){"use forget";const t=W.c(8);let n,r,s;if(t[0]!==e){const o=e,{children:a}=o,c=G(o,["children"]);n=a,r=c,s=ie("min-h-header-height relative grid grid-cols-[1fr_min-content] items-center justify-between gap-3 py-2.5 ps-4 pe-2 select-none",c.className),t[0]=e,t[1]=n,t[2]=r,t[3]=s}else n=t[1],r=t[2],s=t[3];let i;return t[4]!==n||t[5]!==r||t[6]!==s?(i=g.jsx("header",I(b({},r),{className:s,children:n})),t[4]=n,t[5]=r,t[6]=s,t[7]=i):i=t[7],i}function ARe(e){"use forget";const t=W.c(5);let n;t[0]!==e.className?(n=ie("text-token-text-primary m-0 w-full min-w-0 overflow-hidden text-lg font-normal overflow-ellipsis whitespace-nowrap [text-box-trim:trim-both]",e.className),t[0]=e.className,t[1]=n):n=t[1];let r;return t[2]!==e||t[3]!==n?(r=g.jsx(Ji.Title,I(b({},e),{className:n})),t[2]=e,t[3]=n,t[4]=r):r=t[4],r}function wRe(e){"use forget";const t=W.c(5);let n;t[0]!==e.className?(n=ie("z-10 grid grid-flow-col justify-end gap-3 px-[var(--padding)] pt-4",e.className),t[0]=e.className,t[1]=n):n=t[1];let r;return t[2]!==e||t[3]!==n?(r=g.jsx("footer",I(b({},e),{className:n})),t[2]=e,t[3]=n,t[4]=r):r=t[4],r}const NRe=dRe(fo,e=>g.jsx(Ji.Trigger,{action:"dismiss",asChild:!0,children:e}));function IRe(e){"use forget";var l;const t=W.c(12);let n,r,s,i;t[0]!==e?(l=e,{fullBleed:s,className:r,children:n}=l,i=G(l,["fullBleed","className","children"]),t[0]=e,t[1]=n,t[2]=r,t[3]=s,t[4]=i):(n=t[1],r=t[2],s=t[3],i=t[4]);const o=!s&&"px-(--thread-content-margin)";let a;t[5]!==r||t[6]!==o?(a=ie(o,r),t[5]=r,t[6]=o,t[7]=a):a=t[7];let c;return t[8]!==n||t[9]!==i||t[10]!==a?(c=g.jsx("section",I(b({"data-content-sheet-section":!0,className:a},i),{children:n})),t[8]=n,t[9]=i,t[10]=a,t[11]=c):c=t[11],c}function PRe(e){"use forget";var u;const t=W.c(11);let n,r,s;t[0]!==e?(u=e,{children:n,springPreset:s}=u,r=G(u,["children","springPreset"]),t[0]=e,t[1]=n,t[2]=r,t[3]=s):(n=t[1],r=t[2],s=t[3]);const i=s===void 0?"brisk":s,o=Le(RRe);let a;t[4]!==o||t[5]!==i?(a={preset:i,skip:o},t[4]=o,t[5]=i,t[6]=a):a=t[6];const c=a;let l;return t[7]!==c||t[8]!==n||t[9]!==r?(l=g.jsx(Ji.View,I(b({enteringAnimationSettings:c,exitingAnimationSettings:c},r),{children:n})),t[7]=c,t[8]=n,t[9]=r,t[10]=l):l=t[10],l}function RRe(){return k$()||bv()}function xRe(e){"use forget";var a;const t=W.c(9);let n,r;t[0]!==e?(a=e,{className:n}=a,r=G(a,["className"]),t[0]=e,t[1]=n,t[2]=r):(n=t[1],r=t[2]);let s;t[3]===Symbol.for("react.memo_cache_sentinel")?(s={opacity:[0,1]},t[3]=s):s=t[3];let i;t[4]!==n?(i=ie("sm:starting:backdrop-blur-0 bg-black/30 sm:bg-gray-200/50 sm:backdrop-blur-[1px] not-motion-reduce:sm:transition not-motion-reduce:sm:duration-250 sm:starting:opacity-0",n),t[4]=n,t[5]=i):i=t[5];let o;return t[6]!==r||t[7]!==i?(o=g.jsx(Ji.Backdrop,b({themeColorDimming:!1,travelAnimation:s,className:i},r)),t[6]=r,t[7]=i,t[8]=o):o=t[8],o}const ui={Root:Ji.Root,Trigger:Ji.Trigger,Portal:Ji.Portal,View:PRe,Backdrop:xRe,Content:bRe,HeaderBar:ORe,Title:ARe,FooterBar:wRe,DismissAction:NRe,ScrollRoot:SRe,ContentSection:IRe},MRe=ge(ht,"62f600",20,20),Zz=ge(ht,"249d41",16,16),kRe=ge(ht,"08238c",20,20),LRe={threshold:1,rootMargin:"0%"};function eY({target:e,onChange:t,options:n=LRe}){if(!e)return;const r=new IntersectionObserver(i=>{const o=Array.isArray(r.thresholds)?r.thresholds:[r.thresholds];i.forEach(a=>{const c=a.isIntersecting&&o.some(l=>a.intersectionRatio>=l);t(c,a)})},n);function s(){r.disconnect()}return r.observe(e),s}function qVe(e){return t=>eY(I(b({},e),{target:t}))}function DRe(e){"use forget";const t=W.c(8),{setIsScrolledToEdge:n,className:r,options:s}=e;let i;t[0]!==r?(i=ie("pointer-events-none h-px w-px",r),t[0]=r,t[1]=i):i=t[1];let o;t[2]!==s||t[3]!==n?(o=c=>eY({target:c,onChange:l=>n(!l),options:s}),t[2]=s,t[3]=n,t[4]=o):o=t[4];let a;return t[5]!==i||t[6]!==o?(a=g.jsx("div",{"aria-hidden":!0,"data-edge":!0,className:i,ref:o}),t[5]=i,t[6]=o,t[7]=a):a=t[7],a}var rG;const FRe=po.button(rG||(rG=ri(["\ntext-token-text-primary border border-transparent inline-flex h-9 items-center justify-center gap-1 rounded-lg bg-white px-3 text-sm dark:transparent dark:bg-transparent\nleading-none outline-hidden cursor-pointer\nhover:bg-token-main-surface-secondary dark:hover:bg-token-main-surface-secondary\nkeyboard-focused:bg-token-main-surface-secondary\nradix-state-active:text-token-text-secondary\nradix-disabled:cursor-auto radix-disabled:bg-transparent radix-disabled:text-token-text-tertiary dark:radix-disabled:bg-transparent\ndata-no-hover-bg:hover:bg-transparent dark:data-no-hover-bg:hover:bg-transparent\n"]))),VVe="z-50 max-w-xs rounded-2xl popover bg-token-main-surface-primary dark:bg-[#353535] shadow-long will-change-[opacity,transform] radix-side-bottom:animate-slideUpAndFade radix-side-left:animate-slideRightAndFade radix-side-right:animate-slideLeftAndFade radix-side-top:animate-slideDownAndFade py-1.5 select-none";var sG;const tY=po.div(sG||(sG=ri(["z-50 max-w-xs rounded-2xl popover bg-token-main-surface-primary dark:bg-[#353535] shadow-long will-change-[opacity,transform] radix-side-bottom:animate-slideUpAndFade radix-side-left:animate-slideRightAndFade radix-side-right:animate-slideLeftAndFade radix-side-top:animate-slideDownAndFade py-1.5 select-none data-[unbound-width]:min-w-[unset] data-[custom-padding]:py-0"])));var iG;const zVe=po.div(iG||(iG=ri(["popover overflow-auto rounded-2xl dark:bg-[#353535] bg-clip-padding bg-token-main-surface-primary p-2 shadow-long"]))),URe=({isOpen:e,onClose:t})=>{var s,i;const n=C.useRef(null),r=(i=(s=n.current)==null?void 0:s.ownerDocument.body)!=null?i:null;return C.useEffect(()=>{if(!r||!e)return;const o=a=>{(!a.relatedTarget||a.relatedTarget instanceof HTMLElement&&!r.contains(a.relatedTarget))&&t()};return r.addEventListener("blur",o,{capture:!0}),()=>r.removeEventListener("blur",o,{capture:!0})},[e,r]),{triggerRef:n,container:r}};var w0=0;function nY(){C.useEffect(()=>{var t,n;const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(t=e[0])!=null?t:dj()),document.body.insertAdjacentElement("beforeend",(n=e[1])!=null?n:dj()),w0++,()=>{w0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),w0--}},[])}function dj(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var N0="focusScope.autoFocusOnMount",I0="focusScope.autoFocusOnUnmount",fj={bubbles:!1,cancelable:!0},jRe="FocusScope",kP=C.forwardRef((e,t)=>{const _=e,{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i}=_,o=G(_,["loop","trapped","onMountAutoFocus","onUnmountAutoFocus"]),[a,c]=C.useState(null),l=cs(s),u=cs(i),d=C.useRef(null),f=pn(t,m=>c(m)),h=C.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;C.useEffect(()=>{if(r){let m=function(S){if(h.paused||!a)return;const E=S.target;a.contains(E)?d.current=E:xo(d.current,{select:!0})},y=function(S){if(h.paused||!a)return;const E=S.relatedTarget;E!==null&&(a.contains(E)||xo(d.current,{select:!0}))},v=function(S){if(document.activeElement===document.body)for(const T of S)T.removedNodes.length>0&&xo(a)};document.addEventListener("focusin",m),document.addEventListener("focusout",y);const O=new MutationObserver(v);return a&&O.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",y),O.disconnect()}}},[r,a,h.paused]),C.useEffect(()=>{if(a){pj.add(h);const m=document.activeElement;if(!a.contains(m)){const v=new CustomEvent(N0,fj);a.addEventListener(N0,l),a.dispatchEvent(v),v.defaultPrevented||(BRe(qRe(rY(a)),{select:!0}),document.activeElement===m&&xo(a))}return()=>{a.removeEventListener(N0,l),setTimeout(()=>{const v=new CustomEvent(I0,fj);a.addEventListener(I0,u),a.dispatchEvent(v),v.defaultPrevented||xo(m!=null?m:document.body,{select:!0}),a.removeEventListener(I0,u),pj.remove(h)},0)}}},[a,l,u,h]);const p=C.useCallback(m=>{if(!n&&!r||h.paused)return;const y=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,v=document.activeElement;if(y&&v){const O=m.currentTarget,[S,E]=GRe(O);S&&E?!m.shiftKey&&v===E?(m.preventDefault(),n&&xo(S,{select:!0})):m.shiftKey&&v===S&&(m.preventDefault(),n&&xo(E,{select:!0})):v===O&&m.preventDefault()}},[n,r,h.paused]);return g.jsx(wt.div,I(b({tabIndex:-1},o),{ref:f,onKeyDown:p}))});kP.displayName=jRe;function BRe(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(xo(r,{select:t}),document.activeElement!==n)return}function GRe(e){const t=rY(e),n=hj(t,e),r=hj(t.reverse(),e);return[n,r]}function rY(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function hj(e,t){for(const n of e)if(!WRe(n,{upTo:t}))return n}function WRe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function HRe(e){return e instanceof HTMLInputElement&&"select"in e}function xo(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&HRe(e)&&t&&e.select()}}var pj=$Re();function $Re(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=_j(e,t),e.unshift(t)},remove(t){var n;e=_j(e,t),(n=e[0])==null||n.resume()}}}function _j(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function qRe(e){return e.filter(t=>t.tagName!=="A")}var VRe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},bl=new WeakMap,Zp=new WeakMap,e_={},P0=0,sY=function(e){return e&&(e.host||sY(e.parentNode))},zRe=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=sY(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},YRe=function(e,t,n,r){var s=zRe(t,Array.isArray(e)?e:[e]);e_[n]||(e_[n]=new WeakMap);var i=e_[n],o=[],a=new Set,c=new Set(s),l=function(d){!d||a.has(d)||(a.add(d),l(d.parentNode))};s.forEach(l);var u=function(d){!d||c.has(d)||Array.prototype.forEach.call(d.children,function(f){if(a.has(f))u(f);else try{var h=f.getAttribute(r),p=h!==null&&h!=="false",_=(bl.get(f)||0)+1,m=(i.get(f)||0)+1;bl.set(f,_),i.set(f,m),o.push(f),_===1&&p&&Zp.set(f,!0),m===1&&f.setAttribute(n,"true"),p||f.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",f,y)}})};return u(t),a.clear(),P0++,function(){o.forEach(function(d){var f=bl.get(d)-1,h=i.get(d)-1;bl.set(d,f),i.set(d,h),f||(Zp.has(d)||d.removeAttribute(r),Zp.delete(d)),h||d.removeAttribute(n)}),P0--,P0||(bl=new WeakMap,bl=new WeakMap,Zp=new WeakMap,e_={})}},KRe=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=VRe(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),YRe(r,s,n,"aria-hidden")):function(){return null}},V_="right-scroll-bar-position",z_="width-before-scroll-bar",XRe="with-scroll-bars-hidden",JRe="--removed-body-scroll-bar-size";function R0(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function QRe(e,t){var n=C.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var mj=new WeakMap;function ZRe(e,t){var n=QRe(null,function(r){return e.forEach(function(s){return R0(s,r)})});return C.useLayoutEffect(function(){var r=mj.get(n);if(r){var s=new Set(r),i=new Set(e),o=n.current;s.forEach(function(a){i.has(a)||R0(a,null)}),i.forEach(function(a){s.has(a)||R0(a,o)})}mj.set(n,e)},[e]),n}function exe(e){return e}function txe(e,t){t===void 0&&(t=exe);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var o=t(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var c=function(){var u=o;o=[],u.forEach(i)},l=function(){return Promise.resolve().then(c)};l(),n={push:function(u){o.push(u),l()},filter:function(u){return o=o.filter(u),n}}}};return s}function nxe(e){e===void 0&&(e={});var t=txe(null);return t.options=Lo({async:!0,ssr:!1},e),t}var iY=function(e){var t=e.sideCar,n=hG(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return C.createElement(r,Lo({},n))};iY.isSideCarExport=!0;function rxe(e,t){return e.useMedium(t),iY}var oY=nxe(),x0=function(){},Qv=C.forwardRef(function(e,t){var n=C.useRef(null),r=C.useState({onScrollCapture:x0,onWheelCapture:x0,onTouchMoveCapture:x0}),s=r[0],i=r[1],o=e.forwardProps,a=e.children,c=e.className,l=e.removeScrollBar,u=e.enabled,d=e.shards,f=e.sideCar,h=e.noIsolation,p=e.inert,_=e.allowPinchZoom,m=e.as,y=m===void 0?"div":m,v=e.gapMode,O=hG(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=f,E=ZRe([n,t]),T=Lo(Lo({},O),s);return C.createElement(C.Fragment,null,u&&C.createElement(S,{sideCar:oY,removeScrollBar:l,shards:d,noIsolation:h,inert:p,setCallbacks:i,allowPinchZoom:!!_,lockRef:n,gapMode:v}),o?C.cloneElement(C.Children.only(a),Lo(Lo({},T),{ref:E})):C.createElement(y,Lo({},T,{className:c,ref:E}),a))});Qv.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Qv.classNames={fullWidth:z_,zeroRight:V_};var sxe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function ixe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=sxe();return t&&e.setAttribute("nonce",t),e}function oxe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function axe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var cxe=function(){var e=0,t=null;return{add:function(n){e==0&&(t=ixe())&&(oxe(t,n),axe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},lxe=function(){var e=cxe();return function(t,n){C.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},aY=function(){var e=lxe(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},uxe={left:0,top:0,right:0,gap:0},M0=function(e){return parseInt(e||"",10)||0},dxe=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[M0(n),M0(r),M0(s)]},fxe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return uxe;var t=dxe(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},hxe=aY(),au="data-scroll-locked",pxe=function(e,t,n,r){var s=e.left,i=e.top,o=e.right,a=e.gap;return n===void 0&&(n="margin"),"\n  .".concat(XRe," {\n   overflow: hidden ").concat(r,";\n   padding-right: ").concat(a,"px ").concat(r,";\n  }\n  body[").concat(au,"] {\n    overflow: hidden ").concat(r,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(r,";"),n==="margin"&&"\n    padding-left: ".concat(s,"px;\n    padding-top: ").concat(i,"px;\n    padding-right: ").concat(o,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(a,"px ").concat(r,";\n    "),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(V_," {\n    right: ").concat(a,"px ").concat(r,";\n  }\n  \n  .").concat(z_," {\n    margin-right: ").concat(a,"px ").concat(r,";\n  }\n  \n  .").concat(V_," .").concat(V_," {\n    right: 0 ").concat(r,";\n  }\n  \n  .").concat(z_," .").concat(z_," {\n    margin-right: 0 ").concat(r,";\n  }\n  \n  body[").concat(au,"] {\n    ").concat(JRe,": ").concat(a,"px;\n  }\n")},gj=function(){var e=parseInt(document.body.getAttribute(au)||"0",10);return isFinite(e)?e:0},_xe=function(){C.useEffect(function(){return document.body.setAttribute(au,(gj()+1).toString()),function(){var e=gj()-1;e<=0?document.body.removeAttribute(au):document.body.setAttribute(au,e.toString())}},[])},mxe=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;_xe();var i=C.useMemo(function(){return fxe(s)},[s]);return C.createElement(hxe,{styles:pxe(i,!t,s,n?"":"!important")})},sw=!1;if(typeof window<"u")try{var t_=Object.defineProperty({},"passive",{get:function(){return sw=!0,!0}});window.addEventListener("test",t_,t_),window.removeEventListener("test",t_,t_)}catch(e){sw=!1}var Tl=sw?{passive:!1}:!1,gxe=function(e){return e.tagName==="TEXTAREA"},cY=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!gxe(e)&&n[t]==="visible")},vxe=function(e){return cY(e,"overflowY")},yxe=function(e){return cY(e,"overflowX")},vj=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=lY(e,r);if(s){var i=uY(e,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Exe=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},Cxe=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},lY=function(e,t){return e==="v"?vxe(t):yxe(t)},uY=function(e,t){return e==="v"?Exe(t):Cxe(t)},Sxe=function(e,t){return e==="h"&&t==="rtl"?-1:1},bxe=function(e,t,n,r,s){var i=Sxe(e,window.getComputedStyle(t).direction),o=i*r,a=n.target,c=t.contains(a),l=!1,u=o>0,d=0,f=0;do{var h=uY(e,a),p=h[0],_=h[1],m=h[2],y=_-m-i*p;(p||y)&&lY(e,a)&&(d+=y,f+=p),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!c&&a!==document.body||c&&(t.contains(a)||t===a));return(u&&Math.abs(d)<1||!u&&Math.abs(f)<1)&&(l=!0),l},n_=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},yj=function(e){return[e.deltaX,e.deltaY]},Ej=function(e){return e&&"current"in e?e.current:e},Txe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Oxe=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},Axe=0,Ol=[];function wxe(e){var t=C.useRef([]),n=C.useRef([0,0]),r=C.useRef(),s=C.useState(Axe++)[0],i=C.useState(aY)[0],o=C.useRef(e);C.useEffect(function(){o.current=e},[e]),C.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var _=lQ([e.lockRef.current],(e.shards||[]).map(Ej),!0).filter(Boolean);return _.forEach(function(m){return m.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),_.forEach(function(m){return m.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=C.useCallback(function(_,m){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!o.current.allowPinchZoom;var y=n_(_),v=n.current,O="deltaX"in _?_.deltaX:v[0]-y[0],S="deltaY"in _?_.deltaY:v[1]-y[1],E,T=_.target,A=Math.abs(O)>Math.abs(S)?"h":"v";if("touches"in _&&A==="h"&&T.type==="range")return!1;var w=vj(A,T);if(!w)return!0;if(w?E=A:(E=A==="v"?"h":"v",w=vj(A,T)),!w)return!1;if(!r.current&&"changedTouches"in _&&(O||S)&&(r.current=E),!E)return!0;var N=r.current||E;return bxe(N,m,_,N==="h"?O:S)},[]),c=C.useCallback(function(_){var m=_;if(!(!Ol.length||Ol[Ol.length-1]!==i)){var y="deltaY"in m?yj(m):n_(m),v=t.current.filter(function(E){return E.name===m.type&&(E.target===m.target||m.target===E.shadowParent)&&Txe(E.delta,y)})[0];if(v&&v.should){m.cancelable&&m.preventDefault();return}if(!v){var O=(o.current.shards||[]).map(Ej).filter(Boolean).filter(function(E){return E.contains(m.target)}),S=O.length>0?a(m,O[0]):!o.current.noIsolation;S&&m.cancelable&&m.preventDefault()}}},[]),l=C.useCallback(function(_,m,y,v){var O={name:_,delta:m,target:y,should:v,shadowParent:Nxe(y)};t.current.push(O),setTimeout(function(){t.current=t.current.filter(function(S){return S!==O})},1)},[]),u=C.useCallback(function(_){n.current=n_(_),r.current=void 0},[]),d=C.useCallback(function(_){l(_.type,yj(_),_.target,a(_,e.lockRef.current))},[]),f=C.useCallback(function(_){l(_.type,n_(_),_.target,a(_,e.lockRef.current))},[]);C.useEffect(function(){return Ol.push(i),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",c,Tl),document.addEventListener("touchmove",c,Tl),document.addEventListener("touchstart",u,Tl),function(){Ol=Ol.filter(function(_){return _!==i}),document.removeEventListener("wheel",c,Tl),document.removeEventListener("touchmove",c,Tl),document.removeEventListener("touchstart",u,Tl)}},[]);var h=e.removeScrollBar,p=e.inert;return C.createElement(C.Fragment,null,p?C.createElement(i,{styles:Oxe(s)}):null,h?C.createElement(mxe,{gapMode:e.gapMode}):null)}function Nxe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Ixe=rxe(oY,wxe);var LP=C.forwardRef(function(e,t){return C.createElement(Qv,Lo({},e,{ref:t,sideCar:Ixe}))});LP.classNames=Qv.classNames;var iw=["Enter"," "],Pxe=["ArrowDown","PageUp","Home"],dY=["ArrowUp","PageDown","End"],Rxe=[...Pxe,...dY],xxe={ltr:[...iw,"ArrowRight"],rtl:[...iw,"ArrowLeft"]},Mxe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},tp="Menu",[Yf,kxe,Lxe]=UH(tp),[rl,fY]=Hu(tp,[Lxe,dv,mv]),np=dv(),hY=mv(),[pY,Ta]=rl(tp),[Dxe,rp]=rl(tp),_Y=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:s,onOpenChange:i,modal:o=!0}=e,a=np(t),[c,l]=C.useState(null),u=C.useRef(!1),d=cs(i),f=JN(s);return C.useEffect(()=>{const h=()=>{u.current=!0,document.addEventListener("pointerdown",p,{capture:!0,once:!0}),document.addEventListener("pointermove",p,{capture:!0,once:!0})},p=()=>u.current=!1;return document.addEventListener("keydown",h,{capture:!0}),()=>{document.removeEventListener("keydown",h,{capture:!0}),document.removeEventListener("pointerdown",p,{capture:!0}),document.removeEventListener("pointermove",p,{capture:!0})}},[]),g.jsx(VN,I(b({},a),{children:g.jsx(pY,{scope:t,open:n,onOpenChange:d,content:c,onContentChange:l,children:g.jsx(Dxe,{scope:t,onClose:C.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:u,dir:f,modal:o,children:r})})}))};_Y.displayName=tp;var Fxe="MenuAnchor",DP=C.forwardRef((e,t)=>{const i=e,{__scopeMenu:n}=i,r=G(i,["__scopeMenu"]),s=np(n);return g.jsx(CH,I(b(b({},s),r),{ref:t}))});DP.displayName=Fxe;var FP="MenuPortal",[Uxe,mY]=rl(FP,{forceMount:void 0}),gY=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:s}=e,i=Ta(FP,t);return g.jsx(Uxe,{scope:t,forceMount:n,children:g.jsx(Js,{present:n||i.open,children:g.jsx(kh,{asChild:!0,container:s,children:r})})})};gY.displayName=FP;var is="MenuContent",[jxe,UP]=rl(is),vY=C.forwardRef((e,t)=>{const n=mY(is,e.__scopeMenu),a=e,{forceMount:r=n.forceMount}=a,s=G(a,["forceMount"]),i=Ta(is,e.__scopeMenu),o=rp(is,e.__scopeMenu);return g.jsx(Yf.Provider,{scope:e.__scopeMenu,children:g.jsx(Js,{present:r||i.open,children:g.jsx(Yf.Slot,{scope:e.__scopeMenu,children:o.modal?g.jsx(Bxe,I(b({},s),{ref:t})):g.jsx(Gxe,I(b({},s),{ref:t}))})})})}),Bxe=C.forwardRef((e,t)=>{const n=Ta(is,e.__scopeMenu),r=C.useRef(null),s=pn(t,r);return C.useEffect(()=>{const i=r.current;if(i)return KRe(i)},[]),g.jsx(jP,I(b({},e),{ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Ge(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)}))}),Gxe=C.forwardRef((e,t)=>{const n=Ta(is,e.__scopeMenu);return g.jsx(jP,I(b({},e),{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)}))}),jP=C.forwardRef((e,t)=>{const Z=e,{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:c,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:f,onDismiss:h,disableOutsideScroll:p}=Z,_=G(Z,["__scopeMenu","loop","trapFocus","onOpenAutoFocus","onCloseAutoFocus","disableOutsidePointerEvents","onEntryFocus","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss","disableOutsideScroll"]),m=Ta(is,n),y=rp(is,n),v=np(n),O=hY(n),S=kxe(n),[E,T]=C.useState(null),A=C.useRef(null),w=pn(t,A,m.onContentChange),N=C.useRef(0),P=C.useRef(""),x=C.useRef(0),D=C.useRef(null),M=C.useRef("right"),F=C.useRef(0),j=p?LP:C.Fragment,$=p?{as:bu,allowPinchZoom:!0}:void 0,q=B=>{var te,Se;const Q=P.current+B,se=S().filter(he=>!he.disabled),fe=document.activeElement,V=(te=se.find(he=>he.ref.current===fe))==null?void 0:te.textValue,H=se.map(he=>he.textValue),ee=Zxe(H,Q,V),z=(Se=se.find(he=>he.textValue===ee))==null?void 0:Se.ref.current;(function he(oe){P.current=oe,window.clearTimeout(N.current),oe!==""&&(N.current=window.setTimeout(()=>he(""),1e3))})(Q),z&&setTimeout(()=>z.focus())};C.useEffect(()=>()=>window.clearTimeout(N.current),[]),nY();const k=C.useCallback(B=>{var se,fe;return M.current===((se=D.current)==null?void 0:se.side)&&tMe(B,(fe=D.current)==null?void 0:fe.area)},[]);return g.jsx(jxe,{scope:n,searchRef:P,onItemEnter:C.useCallback(B=>{k(B)&&B.preventDefault()},[k]),onItemLeave:C.useCallback(B=>{var Q;k(B)||((Q=A.current)==null||Q.focus(),T(null))},[k]),onTriggerLeave:C.useCallback(B=>{k(B)&&B.preventDefault()},[k]),pointerGraceTimerRef:x,onPointerGraceIntentChange:C.useCallback(B=>{D.current=B},[]),children:g.jsx(j,I(b({},$),{children:g.jsx(kP,{asChild:!0,trapped:s,onMountAutoFocus:Ge(i,B=>{var Q;B.preventDefault(),(Q=A.current)==null||Q.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:g.jsx(xh,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:f,onDismiss:h,children:g.jsx(qH,I(b({asChild:!0},O),{dir:y.dir,orientation:"vertical",loop:r,currentTabStopId:E,onCurrentTabStopIdChange:T,onEntryFocus:Ge(c,B=>{y.isUsingKeyboardRef.current||B.preventDefault()}),preventScrollOnEntryFocus:!0,children:g.jsx(SH,I(b(b({role:"menu","aria-orientation":"vertical","data-state":LY(m.open),"data-radix-menu-content":"",dir:y.dir},v),_),{ref:w,style:b({outline:"none"},_.style),onKeyDown:Ge(_.onKeyDown,B=>{const se=B.target.closest("[data-radix-menu-content]")===B.currentTarget,fe=B.ctrlKey||B.altKey||B.metaKey,V=B.key.length===1;se&&(B.key==="Tab"&&B.preventDefault(),!fe&&V&&q(B.key));const H=A.current;if(B.target!==H||!Rxe.includes(B.key))return;B.preventDefault();const z=S().filter(te=>!te.disabled).map(te=>te.ref.current);dY.includes(B.key)&&z.reverse(),Jxe(z)}),onBlur:Ge(e.onBlur,B=>{B.currentTarget.contains(B.target)||(window.clearTimeout(N.current),P.current="")}),onPointerMove:Ge(e.onPointerMove,Kf(B=>{const Q=B.target,se=F.current!==B.clientX;if(B.currentTarget.contains(Q)&&se){const fe=B.clientX>F.current?"right":"left";M.current=fe,F.current=B.clientX}}))}))}))})})}))})});vY.displayName=is;var Wxe="MenuGroup",BP=C.forwardRef((e,t)=>{const s=e,{__scopeMenu:n}=s,r=G(s,["__scopeMenu"]);return g.jsx(wt.div,I(b({role:"group"},r),{ref:t}))});BP.displayName=Wxe;var Hxe="MenuLabel",yY=C.forwardRef((e,t)=>{const s=e,{__scopeMenu:n}=s,r=G(s,["__scopeMenu"]);return g.jsx(wt.div,I(b({},r),{ref:t}))});yY.displayName=Hxe;var Zm="MenuItem",Cj="menu.itemSelect",Zv=C.forwardRef((e,t)=>{const d=e,{disabled:n=!1,onSelect:r}=d,s=G(d,["disabled","onSelect"]),i=C.useRef(null),o=rp(Zm,e.__scopeMenu),a=UP(Zm,e.__scopeMenu),c=pn(t,i),l=C.useRef(!1),u=()=>{const f=i.current;if(!n&&f){const h=new CustomEvent(Cj,{bubbles:!0,cancelable:!0});f.addEventListener(Cj,p=>r==null?void 0:r(p),{once:!0}),H9(f,h),h.defaultPrevented?l.current=!1:o.onClose()}};return g.jsx(EY,I(b({},s),{ref:c,disabled:n,onClick:Ge(e.onClick,u),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),l.current=!0},onPointerUp:Ge(e.onPointerUp,f=>{var h;l.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:Ge(e.onKeyDown,f=>{const h=a.searchRef.current!=="";n||h&&f.key===" "||iw.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})}))});Zv.displayName=Zm;var EY=C.forwardRef((e,t)=>{const p=e,{__scopeMenu:n,disabled:r=!1,textValue:s}=p,i=G(p,["__scopeMenu","disabled","textValue"]),o=UP(Zm,n),a=hY(n),c=C.useRef(null),l=pn(t,c),[u,d]=C.useState(!1),[f,h]=C.useState("");return C.useEffect(()=>{var m;const _=c.current;_&&h(((m=_.textContent)!=null?m:"").trim())},[i.children]),g.jsx(Yf.ItemSlot,{scope:n,disabled:r,textValue:s!=null?s:f,children:g.jsx(VH,I(b({asChild:!0},a),{focusable:!r,children:g.jsx(wt.div,I(b({role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0},i),{ref:l,onPointerMove:Ge(e.onPointerMove,Kf(_=>{r?o.onItemLeave(_):(o.onItemEnter(_),_.defaultPrevented||_.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ge(e.onPointerLeave,Kf(_=>o.onItemLeave(_))),onFocus:Ge(e.onFocus,()=>d(!0)),onBlur:Ge(e.onBlur,()=>d(!1))}))}))})}),$xe="MenuCheckboxItem",CY=C.forwardRef((e,t)=>{const i=e,{checked:n=!1,onCheckedChange:r}=i,s=G(i,["checked","onCheckedChange"]);return g.jsx(AY,{scope:e.__scopeMenu,checked:n,children:g.jsx(Zv,I(b({role:"menuitemcheckbox","aria-checked":eg(n)?"mixed":n},s),{ref:t,"data-state":HP(n),onSelect:Ge(s.onSelect,()=>r==null?void 0:r(eg(n)?!0:!n),{checkForDefaultPrevented:!1})}))})});CY.displayName=$xe;var SY="MenuRadioGroup",[qxe,Vxe]=rl(SY,{value:void 0,onValueChange:()=>{}}),bY=C.forwardRef((e,t)=>{const o=e,{value:n,onValueChange:r}=o,s=G(o,["value","onValueChange"]),i=cs(r);return g.jsx(qxe,{scope:e.__scopeMenu,value:n,onValueChange:i,children:g.jsx(BP,I(b({},s),{ref:t}))})});bY.displayName=SY;var TY="MenuRadioItem",OY=C.forwardRef((e,t)=>{const o=e,{value:n}=o,r=G(o,["value"]),s=Vxe(TY,e.__scopeMenu),i=n===s.value;return g.jsx(AY,{scope:e.__scopeMenu,checked:i,children:g.jsx(Zv,I(b({role:"menuitemradio","aria-checked":i},r),{ref:t,"data-state":HP(i),onSelect:Ge(r.onSelect,()=>{var a;return(a=s.onValueChange)==null?void 0:a.call(s,n)},{checkForDefaultPrevented:!1})}))})});OY.displayName=TY;var GP="MenuItemIndicator",[AY,zxe]=rl(GP,{checked:!1}),wY=C.forwardRef((e,t)=>{const o=e,{__scopeMenu:n,forceMount:r}=o,s=G(o,["__scopeMenu","forceMount"]),i=zxe(GP,n);return g.jsx(Js,{present:r||eg(i.checked)||i.checked===!0,children:g.jsx(wt.span,I(b({},s),{ref:t,"data-state":HP(i.checked)}))})});wY.displayName=GP;var Yxe="MenuSeparator",NY=C.forwardRef((e,t)=>{const s=e,{__scopeMenu:n}=s,r=G(s,["__scopeMenu"]);return g.jsx(wt.div,I(b({role:"separator","aria-orientation":"horizontal"},r),{ref:t}))});NY.displayName=Yxe;var Kxe="MenuArrow",IY=C.forwardRef((e,t)=>{const i=e,{__scopeMenu:n}=i,r=G(i,["__scopeMenu"]),s=np(n);return g.jsx(bH,I(b(b({},s),r),{ref:t}))});IY.displayName=Kxe;var WP="MenuSub",[Xxe,PY]=rl(WP),RY=e=>{const{__scopeMenu:t,children:n,open:r=!1,onOpenChange:s}=e,i=Ta(WP,t),o=np(t),[a,c]=C.useState(null),[l,u]=C.useState(null),d=cs(s);return C.useEffect(()=>(i.open===!1&&d(!1),()=>d(!1)),[i.open,d]),g.jsx(VN,I(b({},o),{children:g.jsx(pY,{scope:t,open:r,onOpenChange:d,content:l,onContentChange:u,children:g.jsx(Xxe,{scope:t,contentId:mi(),triggerId:mi(),trigger:a,onTriggerChange:c,children:n})})}))};RY.displayName=WP;var Vd="MenuSubTrigger",xY=C.forwardRef((e,t)=>{const n=Ta(Vd,e.__scopeMenu),r=rp(Vd,e.__scopeMenu),s=PY(Vd,e.__scopeMenu),i=UP(Vd,e.__scopeMenu),o=C.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:c}=i,l={__scopeMenu:e.__scopeMenu},u=C.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return C.useEffect(()=>u,[u]),C.useEffect(()=>{const d=a.current;return()=>{window.clearTimeout(d),c(null)}},[a,c]),g.jsx(DP,I(b({asChild:!0},l),{children:g.jsx(EY,I(b({id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":LY(n.open)},e),{ref:av(t,s.onTriggerChange),onClick:d=>{var f;(f=e.onClick)==null||f.call(e,d),!(e.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Ge(e.onPointerMove,Kf(d=>{i.onItemEnter(d),!d.defaultPrevented&&!e.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:Ge(e.onPointerLeave,Kf(d=>{var h,p;u();const f=(h=n.content)==null?void 0:h.getBoundingClientRect();if(f){const _=(p=n.content)==null?void 0:p.dataset.side,m=_==="right",y=m?-5:5,v=f[m?"left":"right"],O=f[m?"right":"left"];i.onPointerGraceIntentChange({area:[{x:d.clientX+y,y:d.clientY},{x:v,y:f.top},{x:O,y:f.top},{x:O,y:f.bottom},{x:v,y:f.bottom}],side:_}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(d),d.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Ge(e.onKeyDown,d=>{var h;const f=i.searchRef.current!=="";e.disabled||f&&d.key===" "||xxe[r.dir].includes(d.key)&&(n.onOpenChange(!0),(h=n.content)==null||h.focus(),d.preventDefault())})}))}))});xY.displayName=Vd;var MY="MenuSubContent",kY=C.forwardRef((e,t)=>{const n=mY(is,e.__scopeMenu),u=e,{forceMount:r=n.forceMount}=u,s=G(u,["forceMount"]),i=Ta(is,e.__scopeMenu),o=rp(is,e.__scopeMenu),a=PY(MY,e.__scopeMenu),c=C.useRef(null),l=pn(t,c);return g.jsx(Yf.Provider,{scope:e.__scopeMenu,children:g.jsx(Js,{present:r||i.open,children:g.jsx(Yf.Slot,{scope:e.__scopeMenu,children:g.jsx(jP,I(b({id:a.contentId,"aria-labelledby":a.triggerId,align:"start"},s),{ref:l,side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Ge(e.onFocusOutside,d=>{d.target!==a.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Ge(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:Ge(e.onKeyDown,d=>{var p;const f=d.currentTarget.contains(d.target),h=Mxe[o.dir].includes(d.key);f&&h&&(i.onOpenChange(!1),(p=a.trigger)==null||p.focus(),d.preventDefault())})}))})})})});kY.displayName=MY;function LY(e){return e?"open":"closed"}function eg(e){return e==="indeterminate"}function HP(e){return eg(e)?"indeterminate":e?"checked":"unchecked"}function Jxe(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function Qxe(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function Zxe(e,t,n){const s=t.length>1&&Array.from(t).every(l=>l===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=Qxe(e,Math.max(i,0));s.length===1&&(o=o.filter(l=>l!==n));const c=o.find(l=>l.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function eMe(e,t){const{x:n,y:r}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const a=t[i].x,c=t[i].y,l=t[o].x,u=t[o].y;c>r!=u>r&&n<(l-a)*(r-c)/(u-c)+a&&(s=!s)}return s}function tMe(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return eMe(n,t)}function Kf(e){return t=>t.pointerType==="mouse"?e(t):void 0}var nMe=_Y,rMe=DP,sMe=gY,iMe=vY,oMe=BP,aMe=yY,cMe=Zv,lMe=CY,uMe=bY,dMe=OY,fMe=wY,hMe=NY,pMe=IY,_Me=RY,mMe=xY,gMe=kY,$P="DropdownMenu",[vMe]=Hu($P,[fY]),er=fY(),[yMe,DY]=vMe($P),FY=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:o,modal:a=!0}=e,c=er(t),l=C.useRef(null),[u=!1,d]=el({prop:s,defaultProp:i,onChange:o});return g.jsx(yMe,{scope:t,triggerId:mi(),triggerRef:l,contentId:mi(),open:u,onOpenChange:d,onOpenToggle:C.useCallback(()=>d(f=>!f),[d]),modal:a,children:g.jsx(nMe,I(b({},c),{open:u,onOpenChange:d,dir:r,modal:a,children:n}))})};FY.displayName=$P;var UY="DropdownMenuTrigger",jY=C.forwardRef((e,t)=>{const a=e,{__scopeDropdownMenu:n,disabled:r=!1}=a,s=G(a,["__scopeDropdownMenu","disabled"]),i=DY(UY,n),o=er(n);return g.jsx(rMe,I(b({asChild:!0},o),{children:g.jsx(wt.button,I(b({type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r},s),{ref:av(t,i.triggerRef),onPointerDown:Ge(e.onPointerDown,c=>{!r&&c.button===0&&c.ctrlKey===!1&&(i.onOpenToggle(),i.open||c.preventDefault())}),onKeyDown:Ge(e.onKeyDown,c=>{r||(["Enter"," "].includes(c.key)&&i.onOpenToggle(),c.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})}))}))});jY.displayName=UY;var EMe="DropdownMenuPortal",BY=e=>{const s=e,{__scopeDropdownMenu:t}=s,n=G(s,["__scopeDropdownMenu"]),r=er(t);return g.jsx(sMe,b(b({},r),n))};BY.displayName=EMe;var GY="DropdownMenuContent",WY=C.forwardRef((e,t)=>{const a=e,{__scopeDropdownMenu:n}=a,r=G(a,["__scopeDropdownMenu"]),s=DY(GY,n),i=er(n),o=C.useRef(!1);return g.jsx(iMe,I(b(b({id:s.contentId,"aria-labelledby":s.triggerId},i),r),{ref:t,onCloseAutoFocus:Ge(e.onCloseAutoFocus,c=>{var l;o.current||(l=s.triggerRef.current)==null||l.focus(),o.current=!1,c.preventDefault()}),onInteractOutside:Ge(e.onInteractOutside,c=>{const l=c.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0,d=l.button===2||u;(!s.modal||d)&&(o.current=!0)}),style:I(b({},e.style),{"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"})}))});WY.displayName=GY;var CMe="DropdownMenuGroup",HY=C.forwardRef((e,t)=>{const i=e,{__scopeDropdownMenu:n}=i,r=G(i,["__scopeDropdownMenu"]),s=er(n);return g.jsx(oMe,I(b(b({},s),r),{ref:t}))});HY.displayName=CMe;var SMe="DropdownMenuLabel",$Y=C.forwardRef((e,t)=>{const i=e,{__scopeDropdownMenu:n}=i,r=G(i,["__scopeDropdownMenu"]),s=er(n);return g.jsx(aMe,I(b(b({},s),r),{ref:t}))});$Y.displayName=SMe;var bMe="DropdownMenuItem",qY=C.forwardRef((e,t)=>{const i=e,{__scopeDropdownMenu:n}=i,r=G(i,["__scopeDropdownMenu"]),s=er(n);return g.jsx(cMe,I(b(b({},s),r),{ref:t}))});qY.displayName=bMe;var TMe="DropdownMenuCheckboxItem",VY=C.forwardRef((e,t)=>{const i=e,{__scopeDropdownMenu:n}=i,r=G(i,["__scopeDropdownMenu"]),s=er(n);return g.jsx(lMe,I(b(b({},s),r),{ref:t}))});VY.displayName=TMe;var OMe="DropdownMenuRadioGroup",zY=C.forwardRef((e,t)=>{const i=e,{__scopeDropdownMenu:n}=i,r=G(i,["__scopeDropdownMenu"]),s=er(n);return g.jsx(uMe,I(b(b({},s),r),{ref:t}))});zY.displayName=OMe;var AMe="DropdownMenuRadioItem",YY=C.forwardRef((e,t)=>{const i=e,{__scopeDropdownMenu:n}=i,r=G(i,["__scopeDropdownMenu"]),s=er(n);return g.jsx(dMe,I(b(b({},s),r),{ref:t}))});YY.displayName=AMe;var wMe="DropdownMenuItemIndicator",KY=C.forwardRef((e,t)=>{const i=e,{__scopeDropdownMenu:n}=i,r=G(i,["__scopeDropdownMenu"]),s=er(n);return g.jsx(fMe,I(b(b({},s),r),{ref:t}))});KY.displayName=wMe;var NMe="DropdownMenuSeparator",XY=C.forwardRef((e,t)=>{const i=e,{__scopeDropdownMenu:n}=i,r=G(i,["__scopeDropdownMenu"]),s=er(n);return g.jsx(hMe,I(b(b({},s),r),{ref:t}))});XY.displayName=NMe;var IMe="DropdownMenuArrow",PMe=C.forwardRef((e,t)=>{const i=e,{__scopeDropdownMenu:n}=i,r=G(i,["__scopeDropdownMenu"]),s=er(n);return g.jsx(pMe,I(b(b({},s),r),{ref:t}))});PMe.displayName=IMe;var RMe=e=>{const{__scopeDropdownMenu:t,children:n,open:r,onOpenChange:s,defaultOpen:i}=e,o=er(t),[a=!1,c]=el({prop:r,defaultProp:i,onChange:s});return g.jsx(_Me,I(b({},o),{open:a,onOpenChange:c,children:n}))},xMe="DropdownMenuSubTrigger",JY=C.forwardRef((e,t)=>{const i=e,{__scopeDropdownMenu:n}=i,r=G(i,["__scopeDropdownMenu"]),s=er(n);return g.jsx(mMe,I(b(b({},s),r),{ref:t}))});JY.displayName=xMe;var MMe="DropdownMenuSubContent",QY=C.forwardRef((e,t)=>{const i=e,{__scopeDropdownMenu:n}=i,r=G(i,["__scopeDropdownMenu"]),s=er(n);return g.jsx(gMe,I(b(b({},s),r),{ref:t,style:I(b({},e.style),{"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"})}))});QY.displayName=MMe;var ZY=FY,qP=jY,kMe=BY,LMe=WY,DMe=HY,FMe=$Y,ey=qY,eK=VY,UMe=zY,jMe=YY,BMe=KY,GMe=XY,WMe=RMe,HMe=JY,$Me=QY;const Cr=C.createContext({activeDetent$:me(void 0),fullyExpanded$:me(!1),mode:"dropdown",store:{isSheetVisible$:me(!1),isSheetOpen$:me(!1),keepSheetOpen$:me(!1)}}),VP=C.createContext({});function YVe(e){var n,r,s;const t={};return I(b({},t),{isSheetVisible$:me((n=t.isSheetVisible$)!=null?n:!1),isSheetOpen$:me((r=t.isSheetOpen$)!=null?r:!1),keepSheetOpen$:me((s=t.keepSheetOpen$)!=null?s:!1)})}const tK=6,nK=function(t){"use forget";var J,X;const n=W.c(77);let r,s,i,o,a,c,l,u,d,f,h,p,_,m,y;n[0]!==t?(J=t,{children:s,className:i,style:h,size:p,align:r,addBottomGradient:_,sheetContentClassName:f,nativeEdgeSwipePrevention:m,ref:u,sheetSize:y,onCloseAutoFocus:o,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c}=J,d=G(J,["children","className","style","size","align","addBottomGradient","sheetContentClassName","nativeEdgeSwipePrevention","ref","sheetSize","onCloseAutoFocus","onEscapeKeyDown","onPointerDownOutside","onFocusOutside"]),n[0]=t,n[1]=r,n[2]=s,n[3]=i,n[4]=o,n[5]=a,n[6]=c,n[7]=l,n[8]=u,n[9]=d,n[10]=f,n[11]=h,n[12]=p,n[13]=_,n[14]=m,n[15]=y):(r=n[1],s=n[2],i=n[3],o=n[4],a=n[5],c=n[6],l=n[7],u=n[8],d=n[9],f=n[10],h=n[11],p=n[12],_=n[13],m=n[14],y=n[15]);const v=p===void 0?"default":p,O=_===void 0?!1:_,S=m===void 0?!1:m,E=y===void 0?"fit":y,{detents:T,mode:A,store:w}=C.use(Cr),[N,P]=C.useState(!1),x=C.useRef(!1),D=C.useRef(!1),M=C.useRef(!1),F=Le(w.keepSheetOpen$);let j,$,q,k;if(n[16]!==d?(X=d,{canBounce:j,hasBounced$:$,showHeader:k}=X,q=G(X,["canBounce","hasBounced$","showHeader"]),n[16]=d,n[17]=j,n[18]=$,n[19]=q,n[20]=k):(j=n[17],$=n[18],q=n[19],k=n[20]),A==="sheet"){const L=!F;let Ne;n[21]!==L?(Ne={dismiss:L},n[21]=L,n[22]=Ne):Ne=n[22];let nt;n[23]===Symbol.for("react.memo_cache_sentinel")?(nt=g.jsx(ui.Backdrop,{}),n[23]=nt):nt=n[23];let He;n[24]!==s||n[25]!==f?(He=g.jsx(ui.ScrollRoot,{children:g.jsx(ui.ContentSection,{"data-content-sheet-content-section":!0,className:f,children:s})}),n[24]=s,n[25]=f,n[26]=He):He=n[26];let tt;n[27]!==j||n[28]!==i||n[29]!==$||n[30]!==u||n[31]!==q||n[32]!==E||n[33]!==k||n[34]!==h||n[35]!==He?(tt=g.jsx(ui.Content,I(b({size:E,ref:u,className:i,style:h,canBounce:j,hasBounced$:$,showHeader:k},q),{children:He})),n[27]=j,n[28]=i,n[29]=$,n[30]=u,n[31]=q,n[32]=E,n[33]=k,n[34]=h,n[35]=He,n[36]=tt):tt=n[36];let it;return n[37]!==T||n[38]!==S||n[39]!==Ne||n[40]!==tt?(it=g.jsxs(ui.View,{detents:T,nativeEdgeSwipePrevention:S,swipeTrap:!1,nativeFocusScrollPrevention:!1,onClickOutside:Ne,children:[nt,tt]}),n[37]=T,n[38]=S,n[39]=Ne,n[40]=tt,n[41]=it):it=n[41],it}const Z=q.alignOffset?"".concat(q.alignOffset,"px"):void 0;let B;n[42]!==Z?(B={"--radix-align-offset":Z},n[42]=Z,n[43]=B):B=n[43];const Q=B,se=r!=null?r:"start";let fe;n[44]!==Q||n[45]!==h?(fe=b(b({},Q),h),n[44]=Q,n[45]=h,n[46]=fe):fe=n[46];const V=v==="default",H=v==="large",ee=v==="small",z=v==="medium",te=v==="auto";let Se;n[47]!==i||n[48]!==H||n[49]!==ee||n[50]!==z||n[51]!==te||n[52]!==V?(Se=ie("[--trigger-width:calc(var(--radix-dropdown-menu-trigger-width)-2*var(--radix-align-offset))]",{"min-w-[max(var(--trigger-width),min(280px,95vw))]":V,"min-w-[max(var(--trigger-width),min(350px,95vw))]":H,"min-w-[max(var(--trigger-width),min(125px,95vw))]":ee,"min-w-[max(var(--trigger-width),min(200px,95vw))]":z,"min-w-(--trigger-width)":te},"max-h-[var(--radix-dropdown-menu-content-available-height)] overflow-y-auto select-none",i),n[47]=i,n[48]=H,n[49]=ee,n[50]=z,n[51]=te,n[52]=V,n[53]=Se):Se=n[53];let he;n[54]!==o?(he=L=>{const Ne=x.current,nt=D.current,He=M.current;x.current=!1,D.current=!1,M.current=!1,!He&&!Ne&&!nt&&(o==null||o(L))},n[54]=o,n[55]=he):he=n[55];let oe;n[56]!==a?(oe=L=>{a==null||a(L),x.current=!0},n[56]=a,n[57]=oe):oe=n[57];let be;n[58]!==l?(be=L=>{l==null||l(L),D.current=!0},n[58]=l,n[59]=be):be=n[59];let ke;n[60]!==c?(ke=L=>{c==null||c(L),M.current=!0},n[60]=c,n[61]=ke):ke=n[61];let Xe;n[62]!==O||n[63]!==N?(Xe=O&&g.jsxs(g.Fragment,{children:[g.jsx(DRe,{setIsScrolledToEdge:P},"dropdownBottomEdgeScrollObserver"),g.jsx("div",{className:"pointer-events-none absolute start-0 end-0 bottom-0 h-20 transition-opacity duration-100",style:{background:"linear-gradient(to bottom, rgba(255, 255, 255, 0), var(--main-surface-primary))",opacity:N?1:0}})]}),n[62]=O,n[63]=N,n[64]=Xe):Xe=n[64];let Pe;return n[65]!==s||n[66]!==u||n[67]!==q||n[68]!==Se||n[69]!==he||n[70]!==oe||n[71]!==be||n[72]!==ke||n[73]!==Xe||n[74]!==se||n[75]!==fe?(Pe=g.jsx(xhe,{children:g.jsxs(tY,I(b({ref:u,$as:LMe,sideOffset:4,align:se,collisionPadding:tK,style:fe,className:Se,onCloseAutoFocus:he,onEscapeKeyDown:oe,onPointerDownOutside:be,onFocusOutside:ke},q),{children:[s,Xe]}))}),n[65]=s,n[66]=u,n[67]=q,n[68]=Se,n[69]=he,n[70]=oe,n[71]=be,n[72]=ke,n[73]=Xe,n[74]=se,n[75]=fe,n[76]=Pe):Pe=n[76],Pe};function qMe(e){"use forget";var c;const t=W.c(13);let n,r;t[0]!==e?(c=e,{ref:r}=c,n=G(c,["ref"]),t[0]=e,t[1]=n,t[2]=r):(n=t[1],r=t[2]);const{mode:s}=C.use(Cr);let i;t[3]!==n?(i=l=>{var u;l.stopPropagation(),(u=n.onFocusCapture)==null||u.call(n,l)},t[3]=n,t[4]=i):i=t[4];const o=i;if(s==="sheet"){let l;return t[5]!==o||t[6]!==n||t[7]!==r?(l=g.jsx(ui.Trigger,{asChild:!0,children:g.jsx("button",b({ref:r,onFocusCapture:o},n))}),t[5]=o,t[6]=n,t[7]=r,t[8]=l):l=t[8],l}let a;return t[9]!==o||t[10]!==n||t[11]!==r?(a=g.jsx(FRe,I(b({$as:qP,ref:r},n),{onFocusCapture:o})),t[9]=o,t[10]=n,t[11]=r,t[12]=a):a=t[12],a}function VMe(e){"use forget";var _;const t=W.c(22);let n,r,s,i;t[0]!==e?(_=e,{ref:i,onClick:r,onFocusCapture:s}=_,n=G(_,["ref","onClick","onFocusCapture"]),t[0]=e,t[1]=n,t[2]=r,t[3]=s,t[4]=i):(n=t[1],r=t[2],s=t[3],i=t[4]);const{mode:o,store:a}=C.use(Cr);let c;t[5]!==a?(c=()=>a==null?void 0:a.isSheetVisible$(),t[5]=a,t[6]=c):c=t[6];const l=Le(c);let u;t[7]!==r?(u=m=>{m.preventDefault(),r==null||r(m)},t[7]=r,t[8]=u):u=t[8];const d=u;let f;t[9]!==s?(f=m=>{m.stopPropagation(),s==null||s(m)},t[9]=s,t[10]=f):f=t[10];const h=f;if(o==="sheet"){const m=l?"open":"closed",y=d;let v;return t[11]!==h||t[12]!==n||t[13]!==i||t[14]!==m||t[15]!==y?(v=g.jsx(ui.Trigger,b({ref:i,"data-state":m,onFocusCapture:h,onClick:y},n)),t[11]=h,t[12]=n,t[13]=i,t[14]=m,t[15]=y,t[16]=v):v=t[16],v}let p;return t[17]!==d||t[18]!==h||t[19]!==n||t[20]!==i?(p=g.jsx(qP,b({ref:i,onClick:d,onFocusCapture:h},n)),t[17]=d,t[18]=h,t[19]=n,t[20]=i,t[21]=p):p=t[21],p}function rK({children:e}){const{mode:t}=C.use(Cr),n=X9();return t==="sheet"?g.jsx(ui.Portal,I(b({},n),{children:e})):g.jsx(kMe,I(b({},n),{children:e}))}function sl(r){var s=r,{onPointerMove:e,onPointerLeave:t}=s,n=G(s,["onPointerMove","onPointerLeave"]);return I(b({},n),{onPointerMove:i=>{e==null||e(i),Sj(i)},onPointerLeave:i=>{t==null||t(i),Sj(i)}})}const Sj=e=>{if(!e.defaultPrevented&&e.pointerType!=="touch"){const t=e.currentTarget.ownerDocument.activeElement;t&&wue(t,"data-hold-focus")&&e.preventDefault()}},sK=e=>{const a=e,{disabled:t,ref:n,onSelect:r}=a,s=G(a,["disabled","ref","onSelect"]),[i,o]=It.useState(!1);return g.jsx("div",I(b({role:"menuitem","data-highlighted":i?"":void 0,"aria-disabled":t||void 0,"data-disabled":t?"":void 0,ref:n},s),{onFocus:c=>{var l;o(!0),(l=e.onFocus)==null||l.call(e,c)},onBlur:c=>{var l;o(!1),(l=e.onBlur)==null||l.call(e,c)},onSelect:c=>{r==null||r(c.nativeEvent)},children:e.children}))},zMe=e=>{const{mode:t}=C.use(Cr);return g.jsx(ho,b({as:t==="sheet"?sK:ey,hasManagedFocus:!0},sl(e)))},YMe=e=>{const{mode:t}=C.use(Cr),n=t==="sheet"?sK:ey;return g.jsx(n,I(b({asChild:!0},sl({})),{children:g.jsx(ho,b({},e))}))};function KMe(r){var s=r,{className:e,noMargin:t}=s,n=G(s,["className","noMargin"]);return g.jsx(GMe,b({className:ie("bg-token-border-default h-px",!t&&"mx-4 my-1",e)},n))}const XMe=r=>{var s=r,{separator:e=!0,className:t}=s,n=G(s,["separator","className"]);const{mode:i}=C.use(Cr),o=g.jsx(DMe,b({className:ie("empty:hidden [:not(:has(div:not([role=group])))]:hidden",e&&"before:bg-token-border-default content-sheet:before:my-3 content-sheet:before:mx-6 before:mx-4 before:my-1 before:block before:h-px first:before:hidden [&:nth-child(1_of_:has(div:not([role=group])))]:before:hidden",t)},n));return i==="sheet"?g.jsx(Ah,{name:"DropdownGroup",fallback:g.jsx(g.Fragment,{}),children:o}):o};function JMe(e){const c=e,{children:t,value:n,defaultValue:r,defaultChecked:s}=c,o=G(c,["children","value","defaultValue","defaultChecked"]),{onRadioGroupChange:a}=C.use(VP);return g.jsxs("label",I(b({},o),{children:[t,g.jsx("input",{type:"radio",className:"sr-only",value:n,defaultValue:r,defaultChecked:s,onChange:l=>{a==null||a(l.target.value)}})]}))}const QMe=e=>{"use forget";const t=W.c(7),{mode:n}=C.use(Cr),r=n==="sheet"?JMe:jMe,s=n==="sheet"?"large":e.size;let i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i=g.jsx(iK,{}),t[0]=i):i=t[0];let o;t[1]!==e?(o=sl(e),t[1]=e,t[2]=o):o=t[2];let a;return t[3]!==r||t[4]!==s||t[5]!==o?(a=g.jsx(ho,b({as:r,hasManagedFocus:!0,size:s,trailingColor:"primary",trailing:i},o)),t[3]=r,t[4]=s,t[5]=o,t[6]=a):a=t[6],a};function iK(){return g.jsxs(g.Fragment,{children:[g.jsx(BMe,{children:g.jsx(Zz,{className:"icon-sm"})}),g.jsx("div",{className:"icon-sm group-radix-state-checked:hidden"})]})}const ZMe=It.forwardRef(function(t,n){const i=t,{className:r}=i,s=G(i,["className"]);return g.jsx(tY,b({ref:n,$as:$Me,className:ie("mt-2 max-h-[calc(100vh-300px)] min-w-[100px] overflow-auto",r),sideOffset:2,alignOffset:t.align==="end"?-6:-14,collisionPadding:tK},s))}),eke=e=>g.jsx(ho,b({subMenu:!0,as:HMe,hasManagedFocus:!0},sl(e)));function KVe({triggerButton:e,children:t,size:n="default",open:r,onOpenChange:s,onCloseAutoFocus:i,contentAlign:o,side:a,sideOffset:c=0,alignOffset:l=0,contentClassName:u,testId:d,tooltip:f,tooltipSideOffset:h,contentRef:p,modal:_=!1}){const[m,y]=C.useState(r!=null?r:!1),v=r!==void 0,O=Le(dme),S=w=>{v||y(w),s==null||s(w)},{triggerRef:E}=URe({isOpen:!!m||!!r,onClose:()=>S(!1)}),T=g.jsx(qP,{asChild:!0,ref:E,"data-testid":d?"".concat(d,"-button"):void 0,children:e}),A=f?g.jsx(_o,{label:f,disabled:!O,triggerAs:null,sideOffset:h,children:T}):T;return g.jsxs(ZY,{modal:_,open:r!=null?r:m,onOpenChange:S,children:[A,g.jsx(rK,{children:g.jsx(nK,{ref:p,size:n,align:o,alignOffset:l,side:a,sideOffset:c,className:u,onCloseAutoFocus:i,onClick:w=>{w.stopPropagation()},children:t})})]})}function tke(e){return g.jsx(Fue,b({as:FMe},e))}function nke(e){"use forget";const t=W.c(22),{children:n,className:r,behavior:s,sheetName:i,sheetUrl:o}=e,{store:a,activeDetent$:c,detents:l,fullyExpanded$:u}=C.use(Cr),d=Le(a.isSheetVisible$),f=Le(c);let h;t[0]!==a.isSheetOpen$||t[1]!==a.keepSheetOpen$?(h=()=>{I6(()=>{a.keepSheetOpen$.set(!1),a.isSheetOpen$.set(!1)})},t[0]=a.isSheetOpen$,t[1]=a.keepSheetOpen$,t[2]=h):h=t[2];let p;t[3]!==c||t[4]!==l||t[5]!==u||t[6]!==e?(p=y=>{var v;if(c.set(y),(v=e.onActiveDetentChange)==null||v.call(e,y),l&&l.length>0){const O=y===(l==null?void 0:l.length)+1;u.set(O)}},t[3]=c,t[4]=l,t[5]=u,t[6]=e,t[7]=p):p=t[7];let _;t[8]!==e||t[9]!==a.isSheetOpen$?(_=y=>{var v;a.isSheetOpen$.set(y),(v=e.onOpenChange)==null||v.call(e,y)},t[8]=e,t[9]=a.isSheetOpen$,t[10]=_):_=t[10];let m;return t[11]!==f||t[12]!==s||t[13]!==n||t[14]!==r||t[15]!==d||t[16]!==i||t[17]!==o||t[18]!==h||t[19]!==p||t[20]!==_?(m=g.jsx(ui.Root,{activeDetent:f,className:r,behavior:s,sheetName:i,sheetUrl:o,onHistoryPop:h,onActiveDetentChange:p,onPresentedChange:_,presented:d,children:n}),t[11]=f,t[12]=s,t[13]=n,t[14]=r,t[15]=d,t[16]=i,t[17]=o,t[18]=h,t[19]=p,t[20]=_,t[21]=m):m=t[21],m}function rke(e){"use forget";var f;const t=W.c(20);let n,r,s,i,o,a,c,l,u;t[0]!==e?(f=e,{className:r,detents:s,mode:i,open:o,store:u,behavior:n,sheetName:c,sheetUrl:l}=f,a=G(f,["className","detents","mode","open","store","behavior","sheetName","sheetUrl"]),t[0]=e,t[1]=n,t[2]=r,t[3]=s,t[4]=i,t[5]=o,t[6]=a,t[7]=c,t[8]=l,t[9]=u):(n=t[1],r=t[2],s=t[3],i=t[4],o=t[5],a=t[6],c=t[7],l=t[8],u=t[9]);let d;return t[10]!==n||t[11]!==r||t[12]!==s||t[13]!==i||t[14]!==o||t[15]!==a||t[16]!==c||t[17]!==l||t[18]!==u?(d=g.jsx(Mhe,{children:i==="sheet"&&u?g.jsx(Cr,{value:{mode:i!=null?i:"dropdown",store:u,detents:s,activeDetent$:me(void 0),fullyExpanded$:me(!1)},children:g.jsx(nke,b({className:r,behavior:n,sheetName:c,sheetUrl:l},a))}):g.jsx(ZY,I(b({},a),{open:o}))}),t[10]=n,t[11]=r,t[12]=s,t[13]=i,t[14]=o,t[15]=a,t[16]=c,t[17]=l,t[18]=u,t[19]=d):d=t[19],d}function ske(e){const o=e,{children:t,container:n}=o,r=G(o,["children","container"]),{mode:s}=C.use(Cr),i=s==="sheet"?ui.Portal:rK;return g.jsx(i,I(b({},r),{container:n,children:t}))}function ike(e){"use forget";var d;const t=W.c(16);let n,r,s,i;t[0]!==e?(d=e,{children:n,defaultValue:s,defaultChecked:r}=d,i=G(d,["children","defaultValue","defaultChecked"]),t[0]=e,t[1]=n,t[2]=r,t[3]=s,t[4]=i):(n=t[1],r=t[2],s=t[3],i=t[4]);const o=i,{onRadioGroupChange:a}=C.use(VP);let c;t[5]!==a||t[6]!==i?(c=f=>{var h;f.preventDefault(),f.stopPropagation(),(h=i.onCheckedChange)==null||h.call(i,f.target.checked),a==null||a(f.target.value)},t[5]=a,t[6]=i,t[7]=c):c=t[7];let l;t[8]!==r||t[9]!==s||t[10]!==c?(l=g.jsx("input",{type:"checkbox",className:"sr-only",defaultValue:s,defaultChecked:r,onChange:c}),t[8]=r,t[9]=s,t[10]=c,t[11]=l):l=t[11];let u;return t[12]!==n||t[13]!==o||t[14]!==l?(u=g.jsxs("label",I(b({},o),{children:[n,l]})),t[12]=n,t[13]=o,t[14]=l,t[15]=u):u=t[15],u}const oke=e=>{const{mode:t}=C.use(Cr);return g.jsx(ho,b({as:t==="sheet"?ike:eK,hasManagedFocus:!0,onSelect:n=>{n.preventDefault()},onClick:n=>{n.stopPropagation()},trailingColor:"primary",trailing:g.jsx(Y9,{size:"small",disabled:e.disabled,checked:e.checked===!0,"aria-hidden":!0})},sl(e)))};function ake(o){var a=o,{checked:e,onCheckedChange:t,children:n,onClick:r,className:s}=a,i=G(a,["checked","onCheckedChange","children","onClick","className"]);const c=l=>{l.preventDefault()};return g.jsx(eK,I(b({checked:e,onCheckedChange:t,onSelect:c,onClick:r,className:ie(s,"mx-2 flex cursor-pointer items-center rounded-md p-3 text-sm","hover:bg-token-main-surface-secondary keyboard-focused:bg-token-main-surface-secondary","radix-disabled:pointer-events-none radix-disabled:opacity-50 focus:outline-none","radix-state-open:bg-token-main-surface-secondary")},i),{children:g.jsxs("div",{className:"flex w-full flex-row items-center justify-between gap-2",children:[n,e?g.jsx(MRe,{className:"icon-sm text-token-text-primary"}):g.jsx(kRe,{className:"icon-sm text-token-text-tertiary"})]})}))}function cke(e){return g.jsx(ey,I(b({asChild:!0},sl({})),{children:g.jsx(kue,b({},e))}))}const lke=e=>g.jsx(ey,I(b({asChild:!0,onSelect:t=>{t.preventDefault()}},sl({})),{children:g.jsx(jue,b({},e))}));function uke(e){const{store:t}=C.use(Cr);return g.jsx(VP,{value:{onRadioGroupChange:n=>{var r;(r=e.onValueChange)==null||r.call(e,n),t.isSheetOpen$.set(!1)}},children:g.jsx("section",b({},e))})}function dke(e){"use forget";const t=W.c(3),{mode:n}=C.use(Cr),r=n==="sheet"?uke:UMe;let s;return t[0]!==r||t[1]!==e?(s=g.jsx(r,b({},e)),t[0]=r,t[1]=e,t[2]=s):s=t[2],s}function fke(e){return g.jsx(LN,b({as:"button"},e))}function hke(e){return g.jsx(LN,I(b({},e),{as:"button",row:!0}))}const bd={Root:rke,Trigger:qMe,BasicTrigger:VMe,Portal:ske,Content:nK,Item:zMe,ItemAs:YMe,HeaderItem:fke,HeaderItemRow:hke,HeaderItemAs:LN,Separator:KMe,Group:XMe,RadioGroup:dke,RadioItem:QMe,RadioItemCheck:iK,Sub:WMe,SubContent:ZMe,SubMenuTrigger:eke,Label:tke,CheckboxItem:oke,MultiSelectCheckboxItem:ake,LinkItem:cke,InputItem:lke,Shimmer:Uue},pke=ge(ht,"f6d0e2",20,20),_ke=ge(ht,"3be151",20,20),mke=["https:","mailto:","tel:"],gke=e=>{if(e===void 0)return;let t;try{t=new URL(e,window.location.origin)}catch(n){return}if(mke.includes(t.protocol))return t.href},vke=C.forwardRef((i,s)=>{var o=i,{href:e,target:t="_blank",children:n}=o,r=G(o,["href","target","children"]);return g.jsx("a",I(b({ref:s,href:gke(e),target:t,rel:"noopener",alt:e},r),{children:n}))});vke.displayName="ExternalLink";function bj(e){"use forget";var h;const t=W.c(14);let n,r,s,i,o;t[0]!==e?(h=e,{className:r,openNewTab:i,children:n,underline:o}=h,s=G(h,["className","openNewTab","children","underline"]),t[0]=e,t[1]=n,t[2]=r,t[3]=s,t[4]=i,t[5]=o):(n=t[1],r=t[2],s=t[3],i=t[4],o=t[5]);const a=i===void 0?!1:i,l=(o===void 0?!0:o)&&"underline";let u;t[6]!==r||t[7]!==l?(u=ie("cursor-pointer font-normal",l,r),t[6]=r,t[7]=l,t[8]=u):u=t[8];const d=a?"_blank":"_self";let f;return t[9]!==n||t[10]!==s||t[11]!==u||t[12]!==d?(f=g.jsx("a",I(b({rel:"noopener",className:u,target:d},s),{children:n})),t[9]=n,t[10]=s,t[11]=u,t[12]=d,t[13]=f):f=t[13],f}function ty({percentage:e,thickness:t=1/12,className:n,outerCircleClassName:r,sizeOverride:s,transitionDuration:i,transitionTimingFunction:o,onTransitionEnd:a}){const c=s!=null?s:120,l=c*t,d=(c-l)/2-l-2;return g.jsxs("svg",{width:c,height:c,viewBox:"0 0 ".concat(c," ").concat(c),className:n,children:[g.jsxs("g",{style:{transformOrigin:"50% 50%",animation:"spin 1s linear infinite"},className:r,children:[g.jsx("path",{fill:"url(#b)",fillOpacity:".7",fillRule:"evenodd",d:"\n        M".concat(c," ").concat(c/2,"\n        A").concat(c/2," ").concat(c/2," 0 1 0 0 ").concat(c/2,"\n        A").concat(c/2," ").concat(c/2," 0 0 0 ").concat(c," ").concat(c/2,"\n        Z\n        M").concat(c*.1042," ").concat(c/2,"\n        A").concat(c*.3956," ").concat(c*.3956," 0 1 0 ").concat(c-c*.1042," ").concat(c/2,"\n        A").concat(c*.3956," ").concat(c*.3956," 0 0 0 ").concat(c*.1042," ").concat(c/2,"\n        Z\n      "),clipRule:"evenodd"}),g.jsx("defs",{children:g.jsxs("radialGradient",{id:"b",cx:"0",cy:"0",r:"1",gradientTransform:"matrix(".concat(c/2-c*.0625," 0 0 ").concat(c/2-c*.0625," ").concat(c*.0625," ").concat(c/2,")"),gradientUnits:"userSpaceOnUse",children:[g.jsx("stop",{stopColor:"#0285FF"}),g.jsx("stop",{offset:"1",stopColor:"#0285FF",stopOpacity:".3"})]})})]}),g.jsx("path",{className:"origin-[50%_50%] transition-[stroke-dashoffset]",d:e===100?"M ".concat(c/2," ").concat(c/2,"\n         m 0 -").concat(d,"\n         a ").concat(d," ").concat(d," 0 1 1 0 ").concat(2*d,"\n         a ").concat(d," ").concat(d," 0 1 1 0 -").concat(2*d,"\n         Z"):"M ".concat(c/2," ").concat(c/2,"\n         L ").concat(c/2," ").concat(c/2-d,"\n         A ").concat(d," ").concat(d," 0 ").concat(e>50?1:0," 1\n         ").concat(c/2+d*Math.sin(2*Math.PI*e/100),"\n         ").concat(c/2-d*Math.cos(2*Math.PI*e/100),"\n         Z"),fill:"currentColor",style:{transitionDuration:i,transitionTimingFunction:o},onTransitionEnd:a})]})}function XVe(e,t,n){const r=Math.floor((e.getTime()-t.getTime())/1e3);if(r<60)return n.formatMessage({id:"hr1xff",defaultMessage:"{diffInSecs}s"},{diffInSecs:r});if(r<600){const i=Math.floor(r/60),o=r%60;return n.formatMessage({id:"7KZ91/",defaultMessage:"{mins}m {secs}s"},{mins:i,secs:o})}if(r<3600){const i=Math.floor(r/60);return n.formatMessage({id:"IkyEWY",defaultMessage:"{mins}m"},{mins:i})}const s=Math.floor(r/3600);if(r<3600*10){const i=Math.floor(r%3600/60);return n.formatMessage({id:"z9qVYm",defaultMessage:"{hours}h {mins}m"},{hours:s,mins:i})}return n.formatMessage({id:"vAHzUw",defaultMessage:"{hours}h"},{hours:s})}const yke=({givenDate:e,now:t,intl:n,format:r="abbreviated"})=>{const s=Math.max(0,Math.floor((t.getTime()-e.getTime())/1e3)),o=60*60,a=o*24,c=a*7,l=a*30,u=a*365;if(s<60)return r==="abbreviated"?n.formatMessage({id:"hepLPr",defaultMessage:"{seconds}s ago"},{seconds:s}):n.formatMessage({id:"cLJFUT",defaultMessage:"{seconds} seconds ago"},{seconds:s});if(s<3600){const f=Math.floor(s/60);return r==="abbreviated"?n.formatMessage({id:"ZyHv9I",defaultMessage:"{minutes}m ago"},{minutes:f}):n.formatMessage({id:"RfRx5t",defaultMessage:"{minutes} minutes ago"},{minutes:f})}else if(s<a){const f=Math.floor(s/o);return r==="abbreviated"?n.formatMessage({id:"2p4Gd3",defaultMessage:"{hours}h ago"},{hours:f}):n.formatMessage({id:"0d1QfF",defaultMessage:"{hours} hours ago"},{hours:f})}else if(s<c){const f=Math.floor(s/a);return r==="abbreviated"?n.formatMessage({id:"KPjpqR",defaultMessage:"{days}d ago"},{days:f}):n.formatMessage({id:"n68thd",defaultMessage:"{days} days ago"},{days:f})}else if(s<l){const f=Math.floor(s/c);return r==="abbreviated"?n.formatMessage({id:"CT/+6h",defaultMessage:"{weeks}w ago"},{weeks:f}):n.formatMessage({id:"L0HKJO",defaultMessage:"{weeks, plural, one {# week ago} other {# weeks ago}}"},{weeks:f})}else if(s<u){const f=Math.floor(s/l);return r==="abbreviated"?n.formatMessage({id:"Qj+4rv",defaultMessage:"{months}mo ago"},{months:f}):n.formatMessage({id:"ttL843",defaultMessage:"{months, plural, one {# month ago} other {# months ago}}"},{months:f})}const d=Math.floor(s/u);return r==="abbreviated"?n.formatMessage({id:"cPSC5x",defaultMessage:"{years}y ago"},{years:d}):n.formatMessage({id:"SxfwDT",defaultMessage:"{years, plural, one {# year ago} other {# years ago}}"},{years:d})},Eke=30;function JVe(e,t){if(t==null)return null;const n=new Date(t*1e3),r=e.locale,s=Math.max(Math.floor((Date.now()-n.getTime())/(1e3*60*60*24)),0);if(s>Eke)return e.formatDate(n,{dateStyle:"medium"});const i=e.formatRelativeTime(-s,"day",{numeric:"auto"});return r.startsWith("en")?i.charAt(0).toUpperCase()+i.slice(1):i}function Cke({children:e}){return g.jsx(_o,{label:g.jsx(Tt,{id:"8yqd2N",defaultMessage:"Temporarily unavailable"}),children:e})}const Ske=ge(ht,"55180d",20,20),bke={medium:{container:"h-12 w-12",icon:"h-8 w-8",padding:"p-2"},small:{container:"h-10 w-10",icon:"h-7 w-7",padding:"p-1.5"}},Tke=e=>{"use forget";var h;const t=W.c(12),{size:n}=e,r=n===void 0?"medium":n,[s,i]=C.useState(!1),o=mo(),a=bke[r];if(!(o!=null&&o.data.profilePictureUrl)||s){const p="bg-token-bg-primary inline-flex items-center justify-center rounded-xl border-[0.5px] shadow-sm ".concat(a.container," ").concat(a.padding),_="text-token-text-primary ".concat(a.icon);let m;t[0]!==_?(m=g.jsx(Ske,{className:_}),t[0]=_,t[1]=m):m=t[1];let y;return t[2]!==p||t[3]!==m?(y=g.jsx("span",{className:p,children:m}),t[2]=p,t[3]=m,t[4]=y):y=t[4],y}const c="overflow-hidden rounded-xl border-[0.5px] bg-black shadow-sm ".concat(a.container),l=(h=o.data.name)!=null?h:"";let u;t[5]===Symbol.for("react.memo_cache_sentinel")?(u=()=>i(!0),t[5]=u):u=t[5];let d;t[6]!==o.data.profilePictureUrl||t[7]!==l?(d=g.jsx("img",{src:o.data.profilePictureUrl,alt:l,onError:u,className:"h-full w-full object-cover"}),t[6]=o.data.profilePictureUrl,t[7]=l,t[8]=d):d=t[8];let f;return t[9]!==c||t[10]!==d?(f=g.jsx("span",{className:c,children:d}),t[9]=c,t[10]=d,t[11]=f):f=t[11],f},Oke=e=>{"use forget";const t=W.c(27),{title:n,description:r,connectorIcon:s,connectorDeveloper:i,onClose:o,hideAvatarRow:a}=e,c=a===void 0?!1:a,l=c?"-me-5 pt-5":void 0;let u;t[0]!==l?(u=ie("flex justify-end",l),t[0]=l,t[1]=u):u=t[1];let d;t[2]!==o?(d=g.jsx(Jv,{onClick:o}),t[2]=o,t[3]=d):d=t[3];let f;t[4]!==u||t[5]!==d?(f=g.jsx("div",{className:u,children:d}),t[4]=u,t[5]=d,t[6]=f):f=t[6];const h=c?"pt-5":void 0;let p;t[7]!==h?(p=ie("flex flex-col items-center",h),t[7]=h,t[8]=p):p=t[8];let _;t[9]!==s||t[10]!==c?(_=c?null:g.jsxs("div",{className:"flex items-center gap-2.5",children:[g.jsx(Tke,{}),g.jsxs("div",{className:"flex gap-1",children:[g.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-gray-200"}),g.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-gray-200"}),g.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-gray-200"})]}),s]}),t[9]=s,t[10]=c,t[11]=_):_=t[11];let m;t[12]!==n?(m=g.jsx("div",{className:"pt-3 text-center text-xl font-semibold",children:n}),t[12]=n,t[13]=m):m=t[13];let y;t[14]!==i?(y=i&&g.jsx("div",{className:"text-token-text-tertiary pt-1 text-sm",children:g.jsx(Tt,I(b({},Ake.developedBy),{values:{developer:i}}))}),t[14]=i,t[15]=y):y=t[15];let v;t[16]!==r?(v=r&&g.jsx("div",{className:"text-token-text-tertiary pt-1 text-sm",children:r}),t[16]=r,t[17]=v):v=t[17];let O;t[18]!==y||t[19]!==v||t[20]!==p||t[21]!==_||t[22]!==m?(O=g.jsxs("div",{className:p,children:[_,m,y,v]}),t[18]=y,t[19]=v,t[20]=p,t[21]=_,t[22]=m,t[23]=O):O=t[23];let S;return t[24]!==O||t[25]!==f?(S=g.jsxs(g.Fragment,{children:[f,O]}),t[24]=O,t[25]=f,t[26]=S):S=t[26],S},Ake=At({developedBy:{id:"yPpO4G",defaultMessage:"Developed by {developer}"}}),wke=Nt[R.GDRIVE_ACTION_CONNECTOR],QVe=Nt[R.GITHUB_CONNECTOR],ZVe=Nt[R.LINEAR_CONNECTOR],eze=Nt[R.SHAREPOINT_CONNECTOR],tze=Nt[R.DROPBOX_CONNECTOR],nze=Nt[R.BOX_CONNECTOR],rze=tl[R.NOTION_CONNECTOR].access,sze=tl[R.NOTION_CONNECTOR].sync,ize=tl[R.HUBSPOT_CONNECTOR].access,oze=tl[R.HUBSPOT_CONNECTOR].sync,aze=tl[R.INTERCOM_CONNECTOR].access,cze=tl[R.INTERCOM_CONNECTOR].sync,lze=Nt[R.SLACK_CONNECTOR],ow="#settings/".concat(gv.Connectors),uze="connectors",oK="connector",zP="add-connector-link",aK="show-settings-behind-connector-link",dze="link_success",Nke="connector-toggle",Ike="create-connector",YP="product-sku",cK="redirectAfter",KP="noRedirect",Pke="system-hint-type",XP="referrer",JP="auth-type-override",fze="toggle-all",QP="slack_workspace",ZP="slack_team_id",eR="sync-only";var lK=(e=>(e.ConversationFollowup="conversation_followup",e.UpgradeAccountOnboarding="upgrade_account_onboarding",e.JitPluginMessage="jit_plugin_message",e.MessageSuggestion="message_suggestion",e.ConnectorNuxModal="connector_nux_modal",e.SourcesDropdown="sources_dropdown",e.SourcePills="source_pills",e.SuggestedPrompts="suggested_prompts",e.SettingsConnectorsTab="settings_connectors_tab",e.PulseConnectorsProactiveToggle="pulse_connectors_proactive_toggle",e.PulseOnboarding="pulse_onboarding",e.AdminSettingsConnectors="admin_settings_connectors",e.ConnectorToggle="connector_toggle",e.Codex="codex",e.AgentConnectBanner="agent_connect_banner",e.CompanyKnowledgeNuxModal="company_knowledge_nux_modal",e.NewWorkspaceUserOnboardingFlow="new_workspace_user_onboarding_flow",e.AppDirectory="app_directory",e.ProjectSettings="project_settings",e))(lK||{});const Rke=ge(ht,"e5c54e",20,20),xke=ge($e,"8e7aa4",24,24),Mke=ge(ht,"f5bdae",20,20);function kke(){return Fg()?window:null}var Lke=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Al=new WeakMap,r_=new WeakMap,s_={},k0=0,uK=function(e){return e&&(e.host||uK(e.parentNode))},Dke=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=uK(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},Fke=function(e,t,n,r){var s=Dke(t,Array.isArray(e)?e:[e]);s_[n]||(s_[n]=new WeakMap);var i=s_[n],o=[],a=new Set,c=new Set(s),l=function(d){!d||a.has(d)||(a.add(d),l(d.parentNode))};s.forEach(l);var u=function(d){!d||c.has(d)||Array.prototype.forEach.call(d.children,function(f){if(a.has(f))u(f);else{var h=f.getAttribute(r),p=h!==null&&h!=="false",_=(Al.get(f)||0)+1,m=(i.get(f)||0)+1;Al.set(f,_),i.set(f,m),o.push(f),_===1&&p&&r_.set(f,!0),m===1&&f.setAttribute(n,"true"),p||f.setAttribute(r,"true")}})};return u(t),a.clear(),k0++,function(){o.forEach(function(d){var f=Al.get(d)-1,h=i.get(d)-1;Al.set(d,f),i.set(d,h),f||(r_.has(d)||d.removeAttribute(r),r_.delete(d)),h||d.removeAttribute(n)}),k0--,k0||(Al=new WeakMap,Al=new WeakMap,r_=new WeakMap,s_={})}},Uke=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=Lke(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),Fke(r,s,n,"aria-hidden")):function(){return null}},tR="Dialog",[dK,hze]=Hu(tR),[jke,ei]=dK(tR),fK=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,a=C.useRef(null),c=C.useRef(null),[l=!1,u]=el({prop:r,defaultProp:s,onChange:i});return g.jsx(jke,{scope:t,triggerRef:a,contentRef:c,contentId:mi(),titleId:mi(),descriptionId:mi(),open:l,onOpenChange:u,onOpenToggle:C.useCallback(()=>u(d=>!d),[u]),modal:o,children:n})};fK.displayName=tR;var hK="DialogTrigger",pK=C.forwardRef((e,t)=>{const o=e,{__scopeDialog:n}=o,r=G(o,["__scopeDialog"]),s=ei(hK,n),i=pn(t,s.triggerRef);return g.jsx(wt.button,I(b({type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":sR(s.open)},r),{ref:i,onClick:Ge(e.onClick,s.onOpenToggle)}))});pK.displayName=hK;var nR="DialogPortal",[Bke,_K]=dK(nR,{forceMount:void 0}),mK=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,i=ei(nR,t);return g.jsx(Bke,{scope:t,forceMount:n,children:C.Children.map(r,o=>g.jsx(Js,{present:n||i.open,children:g.jsx(kh,{asChild:!0,container:s,children:o})}))})};mK.displayName=nR;var tg="DialogOverlay",gK=C.forwardRef((e,t)=>{const n=_K(tg,e.__scopeDialog),o=e,{forceMount:r=n.forceMount}=o,s=G(o,["forceMount"]),i=ei(tg,e.__scopeDialog);return i.modal?g.jsx(Js,{present:r||i.open,children:g.jsx(Gke,I(b({},s),{ref:t}))}):null});gK.displayName=tg;var Gke=C.forwardRef((e,t)=>{const i=e,{__scopeDialog:n}=i,r=G(i,["__scopeDialog"]),s=ei(tg,n);return g.jsx(LP,{as:bu,allowPinchZoom:!0,shards:[s.contentRef],children:g.jsx(wt.div,I(b({"data-state":sR(s.open)},r),{ref:t,style:b({pointerEvents:"auto"},r.style)}))})}),Vc="DialogContent",vK=C.forwardRef((e,t)=>{const n=_K(Vc,e.__scopeDialog),o=e,{forceMount:r=n.forceMount}=o,s=G(o,["forceMount"]),i=ei(Vc,e.__scopeDialog);return g.jsx(Js,{present:r||i.open,children:i.modal?g.jsx(Wke,I(b({},s),{ref:t})):g.jsx(Hke,I(b({},s),{ref:t}))})});vK.displayName=Vc;var Wke=C.forwardRef((e,t)=>{const n=ei(Vc,e.__scopeDialog),r=C.useRef(null),s=pn(t,n.contentRef,r);return C.useEffect(()=>{const i=r.current;if(i)return Uke(i)},[]),g.jsx(yK,I(b({},e),{ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ge(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ge(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:Ge(e.onFocusOutside,i=>i.preventDefault())}))}),Hke=C.forwardRef((e,t)=>{const n=ei(Vc,e.__scopeDialog),r=C.useRef(!1),s=C.useRef(!1);return g.jsx(yK,I(b({},e),{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,l;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((l=n.triggerRef.current)==null?void 0:l.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}}))}),yK=C.forwardRef((e,t)=>{const u=e,{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i}=u,o=G(u,["__scopeDialog","trapFocus","onOpenAutoFocus","onCloseAutoFocus"]),a=ei(Vc,n),c=C.useRef(null),l=pn(t,c);return nY(),g.jsxs(g.Fragment,{children:[g.jsx(kP,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:g.jsx(xh,I(b({role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":sR(a.open)},o),{ref:l,onDismiss:()=>a.onOpenChange(!1)}))}),g.jsxs(g.Fragment,{children:[g.jsx($ke,{titleId:a.titleId}),g.jsx(Vke,{contentRef:c,descriptionId:a.descriptionId})]})]})}),rR="DialogTitle",EK=C.forwardRef((e,t)=>{const i=e,{__scopeDialog:n}=i,r=G(i,["__scopeDialog"]),s=ei(rR,n);return g.jsx(wt.h2,I(b({id:s.titleId},r),{ref:t}))});EK.displayName=rR;var CK="DialogDescription",SK=C.forwardRef((e,t)=>{const i=e,{__scopeDialog:n}=i,r=G(i,["__scopeDialog"]),s=ei(CK,n);return g.jsx(wt.p,I(b({id:s.descriptionId},r),{ref:t}))});SK.displayName=CK;var bK="DialogClose",TK=C.forwardRef((e,t)=>{const i=e,{__scopeDialog:n}=i,r=G(i,["__scopeDialog"]),s=ei(bK,n);return g.jsx(wt.button,I(b({type:"button"},r),{ref:t,onClick:Ge(e.onClick,()=>s.onOpenChange(!1))}))});TK.displayName=bK;function sR(e){return e?"open":"closed"}var OK="DialogTitleWarning",[pze,AK]=Gue(OK,{contentName:Vc,titleName:rR,docsSlug:"dialog"}),$ke=({titleId:e})=>{const t=AK(OK),n="`".concat(t.contentName,"` requires a `").concat(t.titleName,"` for the component to be accessible for screen reader users.\n\nIf you want to hide the `").concat(t.titleName,"`, you can wrap it with our VisuallyHidden component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/").concat(t.docsSlug);return C.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},qke="DialogDescriptionWarning",Vke=({contentRef:e,descriptionId:t})=>{const n=AK(qke),r="Warning: Missing `Description` or `aria-describedby={undefined}` for {".concat(n.contentName,"}.");return C.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},zke=fK,_ze=pK,Yke=mK,Kke=gK,Xke=vK,Jke=EK,Qke=SK,Zke=TK;function ff(e){"use forget";var l;const t=W.c(9);let n,r,s,i;t[0]!==e?(l=e,{color:s,title:i,children:r}=l,n=G(l,["color","title","children"]),t[0]=e,t[1]=n,t[2]=r,t[3]=s,t[4]=i):(n=t[1],r=t[2],s=t[3],i=t[4]);const o=s===void 0?"secondary":s,a=i!=null?i:r;let c;return t[5]!==n||t[6]!==o||t[7]!==a?(c=g.jsx(fo,I(b({as:"button",color:o},n),{children:a})),t[5]=n,t[6]=o,t[7]=a,t[8]=c):c=t[8],c}function eLe(e){"use forget";var _;const t=W.c(16),{isOpen:n,onClose:r,children:s,shouldIgnoreClickOutside:i,className:o,testId:a}=e,c=i===void 0?!1:i;let l;t[0]!==r||t[1]!==c?(l=m=>{c||m===!1&&r(!1)},t[0]=r,t[1]=c,t[2]=l):l=t[2];const u=(_=kke())==null?void 0:_.document.body;let d;t[3]!==o?(d=ie("absolute inset-0",o),t[3]=o,t[4]=d):d=t[4];let f;t[5]!==s||t[6]!==d||t[7]!==a?(f=g.jsx("div",{className:d,"data-testid":a,"data-ignore-for-page-load":!0,children:s}),t[5]=s,t[6]=d,t[7]=a,t[8]=f):f=t[8];let h;t[9]!==u||t[10]!==f?(h=g.jsx(Yke,{container:u,children:f}),t[9]=u,t[10]=f,t[11]=h):h=t[11];let p;return t[12]!==n||t[13]!==l||t[14]!==h?(p=g.jsx(zke,{open:n,onOpenChange:l,children:h}),t[12]=n,t[13]=l,t[14]=h,t[15]=p):p=t[15],p}function tLe(e){"use forget";const t=W.c(6),{className:n,children:r,showBackground:s}=e,o=(s===void 0?!0:s)&&"before:starting:backdrop-blur-0 before:absolute before:inset-0 before:bg-gray-200/50 before:backdrop-blur-[1px] not-motion-reduce:before:transition not-motion-reduce:before:duration-250 dark:before:bg-black/50 before:starting:opacity-0";let a;t[0]!==n||t[1]!==o?(a=ie("fixed inset-0 z-50",o,n),t[0]=n,t[1]=o,t[2]=a):a=t[2];let c;return t[3]!==r||t[4]!==a?(c=g.jsx(Kke,{className:a,children:r}),t[3]=r,t[4]=a,t[5]=c):c=t[5],c}function nLe(e){"use forget";const t=W.c(25),{className:n,children:r,position:s,size:i,removePopoverStyling:o,shadow:a,onEscapeKeyDown:c,onPointerDownOutside:l,removeBackground:u,ariaLabelledBy:d,ariaDescribedBy:f,containerClassName:h,onPointerDownInside:p}=e,_=s===void 0?"center":s,m=o===void 0?!1:o,y=a===void 0?"normal":a,v=u===void 0?!1:u,O=i!=="fullscreen"&&(_==="start"||_==="end"?"grid grid-cols-[0px_1fr_0px]":"grid grid-cols-[10px_1fr_10px]"),S=i!=="fullscreen"&&_==="center"&&"grid-rows-[minmax(10px,1fr)_auto_minmax(10px,1fr)] md:grid-rows-[minmax(20px,0.8fr)_auto_minmax(20px,1fr)]",E=i!=="fullscreen"&&(_==="start"||_==="end")&&"grid-rows-[0px_auto_0px]",T=_==="bottom"&&"grid-rows-[minmax(10px,1fr)_auto_10px] md:grid-rows-[minmax(20px,1fr)_auto_20px]",A=i!=="fullscreen"&&_==="top"&&"grid-rows-[10px_auto_minmax(10px,1fr)] md:grid-rows-[20px_auto_minmax(20px,1fr)]";let w;t[0]!==h||t[1]!==O||t[2]!==S||t[3]!==E||t[4]!==T||t[5]!==A?(w=ie("z-50 h-full w-full overflow-y-auto",O,S,E,T,A,h),t[0]=h,t[1]=O,t[2]=S,t[3]=E,t[4]=T,t[5]=A,t[6]=w):w=t[6];const N=!m&&"popover",P=!v&&"bg-token-bg-primary",x=_!=="start"&&_!=="end"&&"start-1/2 ltr:-translate-x-1/2 rtl:translate-x-1/2",D=i!=="fullscreen"&&(_==="start"?"justify-self-start rounded-se-2xl rounded-ee-2xl":_==="end"?"justify-self-end rounded-ss-2xl rounded-es-2xl":"rounded-2xl"),M=y==="normal"&&"shadow-long";let F;t[7]!==n||t[8]!==N||t[9]!==P||t[10]!==x||t[11]!==D||t[12]!==M?(F=ie(N,P,"relative col-auto col-start-2 row-auto row-start-2 h-full w-full text-start",x,D,M,n),t[7]=n,t[8]=N,t[9]=P,t[10]=x,t[11]=D,t[12]=M,t[13]=F):F=t[13];let j;t[14]!==f||t[15]!==d||t[16]!==r||t[17]!==c||t[18]!==p||t[19]!==l||t[20]!==F?(j=g.jsx(Xke,{"aria-labelledby":d,"aria-describedby":f,onEscapeKeyDown:c,onPointerDownOutside:l,onPointerDown:p,className:F,children:r}),t[14]=f,t[15]=d,t[16]=r,t[17]=c,t[18]=p,t[19]=l,t[20]=F,t[21]=j):j=t[21];let $;return t[22]!==w||t[23]!==j?($=g.jsx("div",{className:w,children:j}),t[22]=w,t[23]=j,t[24]=$):$=t[24],$}function rLe(e){"use forget";const t=W.c(16),{title:n,description:r,icon:s}=e;let i;t[0]!==n?(i=n&&g.jsx(Jke,{className:"text-token-text-primary text-lg font-normal",children:n}),t[0]=n,t[1]=i):i=t[1];let o;t[2]!==r?(o=r&&g.jsx(Qke,{asChild:!0,children:g.jsx("div",{className:"text-token-text-tertiary ms-0.5 mt-0.5 text-xs",children:r})}),t[2]=r,t[3]=o):o=t[3];let a;t[4]!==i||t[5]!==o?(a=g.jsxs("div",{className:"flex max-w-full min-w-0 grow flex-col",children:[i,o]}),t[4]=i,t[5]=o,t[6]=a):a=t[6];const c=a;if(!s)return c;const l=!r&&"items-center";let u;t[7]!==l?(u=ie("flex max-w-full min-w-0 gap-1.5",l),t[7]=l,t[8]=u):u=t[8];let d;t[9]!==s||t[10]!==r?(d=typeof s!="function"?s:g.jsx(s,{className:ie("icon",r&&"mt-1"),"aria-label":""}),t[9]=s,t[10]=r,t[11]=d):d=t[11];let f;return t[12]!==c||t[13]!==u||t[14]!==d?(f=g.jsxs("div",{className:u,children:[d,c]}),t[12]=c,t[13]=u,t[14]=d,t[15]=f):f=t[15],f}function sLe(e){"use forget";const t=W.c(26),{title:n,accessory:r,description:s,hasSeparator:i,icon:o,closeButton:a,backButton:c,textCenter:l,visuallyHiddenHeader:u,className:d,closeButtonSide:f}=e,h=i===void 0?!1:i,p=u===void 0?!1:u,_=f===void 0?"right":f;if(!n)return null;let m;t[0]!==a?(m=a&&g.jsx(Zke,{asChild:!0,children:a}),t[0]=a,t[1]=m):m=t[1];const y=m,v=l&&"flex-1 justify-center text-center";let O;t[2]!==v?(O=ie("flex max-w-full items-center",v),t[2]=v,t[3]=O):O=t[3];let S;t[4]!==c?(S=c&&g.jsx("div",{className:"me-2",children:c}),t[4]=c,t[5]=S):S=t[5];const E=_==="left"&&y;let T;t[6]!==s||t[7]!==o||t[8]!==n?(T=g.jsx(rLe,{title:n,description:s,icon:o}),t[6]=s,t[7]=o,t[8]=n,t[9]=T):T=t[9];let A;t[10]!==O||t[11]!==S||t[12]!==E||t[13]!==T?(A=g.jsxs("div",{className:O,children:[S,E,T]}),t[10]=O,t[11]=S,t[12]=E,t[13]=T,t[14]=A):A=t[14];const w=_==="right"&&y;let N;t[15]!==r||t[16]!==w?(N=g.jsxs("div",{className:"flex h-[max-content] items-center gap-2",children:[r,w]}),t[15]=r,t[16]=w,t[17]=N):N=t[17];let P;t[18]!==d||t[19]!==h||t[20]!==A||t[21]!==N?(P=g.jsxs(oLe,{hasSeparator:h,className:d,children:[A,N]}),t[18]=d,t[19]=h,t[20]=A,t[21]=N,t[22]=P):P=t[22];const x=P;let D;return t[23]!==x||t[24]!==p?(D=p?g.jsx(zN,{children:x}):x,t[23]=x,t[24]=p,t[25]=D):D=t[25],D}function iLe(e){"use forget";const t=W.c(10),{primaryButton:n,secondaryButton:r,tertiaryButton:s,isSpacedBetween:i,modalHasContent:o,textCenter:a,className:c}=e,l=i===void 0?!1:i,u=o===void 0?!0:o,d=a===void 0?!1:a,f=c===void 0?"":c;if(n==null&&r==null)return null;const h=d&&"justify-center",p=l&&"justify-between",_=u&&"mt-5 sm:mt-4";let m;t[0]!==f||t[1]!==h||t[2]!==p||t[3]!==_?(m=ie("flex flex-col gap-3 sm:flex-row-reverse",h,p,_,f),t[0]=f,t[1]=h,t[2]=p,t[3]=_,t[4]=m):m=t[4];let y;return t[5]!==n||t[6]!==r||t[7]!==m||t[8]!==s?(y=g.jsxs("div",{className:m,children:[n,r,s]}),t[5]=n,t[6]=r,t[7]=m,t[8]=s,t[9]=y):y=t[9],y}const oLe=e=>{"use forget";const t=W.c(6),{hasSeparator:n,className:r,children:s}=e,i=n&&"border-token-border-light border-b";let o;t[0]!==r||t[1]!==i?(o=ie("min-h-header-height flex justify-between p-2.5 ps-4 select-none",i,r),t[0]=r,t[1]=i,t[2]=o):o=t[2];let a;return t[3]!==s||t[4]!==o?(a=g.jsx("header",{className:o,children:s}),t[3]=s,t[4]=o,t[5]=a):a=t[5],a},Kl={Root:eLe,Overlay:tLe,Content:nLe,Header:sLe,Actions:iLe,Button:ff},aLe=ge(ht,"8ee2e9",20,20,!0),wK=e=>{"use forget";var y;const t=W.c(21);let n,r,s,i,o,a;t[0]!==e?(y=e,{onClick:r,bg:o,className:n,iconSize:a,ref:s}=y,i=G(y,["onClick","bg","className","iconSize","ref"]),t[0]=e,t[1]=n,t[2]=r,t[3]=s,t[4]=i,t[5]=o,t[6]=a):(n=t[1],r=t[2],s=t[3],i=t[4],o=t[5],a=t[6]);const c=o===void 0?"transparent":o,l=a===void 0?"md":a,u=ft(),d=c==="transparent"?"bg-transparent":"bg-token-bg-primary";let f;t[7]!==n||t[8]!==d?(f=ie("hover:bg-token-bg-tertiary keyboard-focused:focus-ring flex h-8 w-8 items-center justify-center rounded-full",d,n),t[7]=n,t[8]=d,t[9]=f):f=t[9];let h;t[10]!==u?(h=u.formatMessage({id:"Px7S/2",defaultMessage:"Close"}),t[10]=u,t[11]=h):h=t[11];const p=l==="lg"?"icon-lg":"icon";let _;t[12]!==p?(_=g.jsx(aLe,{className:p}),t[12]=p,t[13]=_):_=t[13];let m;return t[14]!==r||t[15]!==s||t[16]!==i||t[17]!==f||t[18]!==h||t[19]!==_?(m=g.jsx("button",I(b({"data-testid":"back-button",ref:s,onClick:r,className:f,"aria-label":h},i),{children:_})),t[14]=r,t[15]=s,t[16]=i,t[17]=f,t[18]=h,t[19]=_,t[20]=m):m=t[20],m};wK.displayName="BackButton";const cLe=Wn(()=>ne(()=>import("./occl967qxfy4fv2p.js"),__vite__mapDeps([20,1])).then(e=>e.ContentModalSheet),{fallback:()=>null});function rd(e){"use forget";const t=W.c(80),{ariaLabelledBy:n,ariaDescribedBy:r,children:s,rootClassName:i,textCenter:o,className:a,description:c,icon:l,isBottomSheet:u,isOpen:d,onClose:f,onBack:h,onCloseComplete:p,primaryButton:_,secondaryButton:m,tertiaryButton:y,footerContent:v,size:O,title:S,headerAccessory:E,type:T,noPadding:A,hasSeparator:w,hideSeparator:N,showCloseButton:P,showBackButton:x,shouldIgnoreClickOutside:D,closeButton:M,closeButtonClassName:F,isScrollable:j,allowVerticalContentToOverflow:$,position:q,removePopoverStyling:k,showOverlayBackground:Z,overlayClassName:B,shadow:Q,visuallyHiddenHeader:se,headerClassName:fe,contentClassName:V,footerClassName:H,modalActionsClassName:ee,footerIsSpacedBetween:z,footerHasTopMargin:te,onEscapeKeyDown:Se,testId:he,contentRef:oe,closeButtonSide:be,removeBackground:ke,contentContainerClassName:Xe,onPointerDownOutside:Pe}=e,J=d===void 0?!1:d,X=O===void 0?"normal":O,L=A===void 0?!1:A,Ne=w===void 0?!1:w,nt=N===void 0?!0:N,He=P===void 0?!1:P,tt=x===void 0?!1:x,it=D===void 0?!1:D,ue=j===void 0?!0:j,De=$===void 0?!1:$,et=q===void 0?"center":q,Je=k===void 0?!1:k,Qe=Z===void 0?!0:Z,Vt=Q===void 0?"normal":Q,mn=se===void 0?!1:se,gn=te===void 0?!0:te,un=be===void 0?"right":be,Xt=ke===void 0?!1:ke,vn=!!S&&!mn,zr=!!s,ps=Ne||!nt;if(u){let pp;return t[0]!==e?(pp=g.jsx(cLe,b({},e)),t[0]=e,t[1]=pp):pp=t[1],pp}let Sr;t[2]!==p||t[3]!==f?(Sr=()=>{f(!0),p==null||p()},t[2]=p,t[3]=f,t[4]=Sr):Sr=t[4];const So=o&&"text-center",bo=X==="normal",wa=X==="large",Na=X==="xlarge",ti=X==="fullscreen",ni=!De;let br;t[5]!==a||t[6]!==So||t[7]!==bo||t[8]!==wa||t[9]!==Na||t[10]!==ti||t[11]!==ni?(br=ie("flex flex-col focus:outline-hidden",So,{"max-w-md":bo,"max-w-lg":wa,"max-w-xl":Na,"h-full w-full":ti,"overflow-hidden":ni},a),t[5]=a,t[6]=So,t[7]=bo,t[8]=wa,t[9]=Na,t[10]=ti,t[11]=ni,t[12]=br):br=t[12];let _s;t[13]!==M||t[14]!==F||t[15]!==f||t[16]!==He?(_s=He&&(M!=null?M:g.jsx(Jv,{onClick:()=>f(!0),className:F})),t[13]=M,t[14]=F,t[15]=f,t[16]=He,t[17]=_s):_s=t[17];let yn;t[18]!==h||t[19]!==f||t[20]!==tt?(yn=tt&&g.jsx(wK,{onClick:()=>h?h(!0):f(!0)}),t[18]=h,t[19]=f,t[20]=tt,t[21]=yn):yn=t[21];let Ii;t[22]!==un||t[23]!==c||t[24]!==E||t[25]!==fe||t[26]!==l||t[27]!==ps||t[28]!==_s||t[29]!==yn||t[30]!==o||t[31]!==S||t[32]!==T||t[33]!==mn?(Ii=g.jsx(Kl.Header,{icon:l,title:S,accessory:E,type:T,textCenter:o,closeButton:_s,backButton:yn,description:c,hasSeparator:ps,visuallyHiddenHeader:mn,className:fe,closeButtonSide:un}),t[22]=un,t[23]=c,t[24]=E,t[25]=fe,t[26]=l,t[27]=ps,t[28]=_s,t[29]=yn,t[30]=o,t[31]=S,t[32]=T,t[33]=mn,t[34]=Ii):Ii=t[34];const py=De?"overflow-y-visible":ue?"overflow-y-auto":"overflow-y-hidden",_y=X!=="fullscreen"&&!L,my=!ps&&vn&&!L;let cl;t[35]!==V||t[36]!==py||t[37]!==_y||t[38]!==my?(cl=ie("grow",py,{"p-4":_y,"pt-1":my},V),t[35]=V,t[36]=py,t[37]=_y,t[38]=my,t[39]=cl):cl=t[39];let ll;t[40]!==H||t[41]!==v||t[42]!==gn||t[43]!==z||t[44]!==zr||t[45]!==ee||t[46]!==_||t[47]!==m||t[48]!==y?(ll=g.jsx(lLe,{primaryButton:_,secondaryButton:m,tertiaryButton:y,footerContent:v,modalHasContent:zr,footerHasTopMargin:gn,className:H,isSpacedBetween:z,modalActionsClassName:ee}),t[40]=H,t[41]=v,t[42]=gn,t[43]=z,t[44]=zr,t[45]=ee,t[46]=_,t[47]=m,t[48]=y,t[49]=ll):ll=t[49];let ul;t[50]!==s||t[51]!==oe||t[52]!==cl||t[53]!==ll?(ul=g.jsxs("div",{className:cl,ref:oe,children:[s,ll]}),t[50]=s,t[51]=oe,t[52]=cl,t[53]=ll,t[54]=ul):ul=t[54];let dl;t[55]!==r||t[56]!==n||t[57]!==Xe||t[58]!==Se||t[59]!==Pe||t[60]!==et||t[61]!==Xt||t[62]!==Je||t[63]!==Vt||t[64]!==X||t[65]!==br||t[66]!==Ii||t[67]!==ul?(dl=g.jsxs(Kl.Content,{ariaLabelledBy:n,ariaDescribedBy:r,size:X,position:et,onPointerDownOutside:Pe,className:br,containerClassName:Xe,removePopoverStyling:Je,shadow:Vt,onEscapeKeyDown:Se,removeBackground:Xt,children:[Ii,ul]}),t[55]=r,t[56]=n,t[57]=Xe,t[58]=Se,t[59]=Pe,t[60]=et,t[61]=Xt,t[62]=Je,t[63]=Vt,t[64]=X,t[65]=br,t[66]=Ii,t[67]=ul,t[68]=dl):dl=t[68];let fl;t[69]!==B||t[70]!==Qe||t[71]!==dl?(fl=g.jsx(Kl.Overlay,{showBackground:Qe,className:B,children:dl}),t[69]=B,t[70]=Qe,t[71]=dl,t[72]=fl):fl=t[72];let hp;return t[73]!==J||t[74]!==i||t[75]!==it||t[76]!==Sr||t[77]!==fl||t[78]!==he?(hp=g.jsx(Kl.Root,{isOpen:J,onClose:Sr,shouldIgnoreClickOutside:it,className:i,testId:he,children:fl}),t[73]=J,t[74]=i,t[75]=it,t[76]=Sr,t[77]=fl,t[78]=he,t[79]=hp):hp=t[79],hp}function lLe(e){"use forget";const t=W.c(17),{primaryButton:n,secondaryButton:r,tertiaryButton:s,footerContent:i,textCenter:o,className:a,isSpacedBetween:c,modalActionsClassName:l,modalHasContent:u,footerHasTopMargin:d}=e,f=d===void 0?!0:d,h=n!=null||r!=null;if(!(h||i))return null;const p=c?"justify-between gap-3":"justify-end";let _;t[0]!==a||t[1]!==p?(_=ie("flex w-full flex-row items-center text-sm select-none",p,a),t[0]=a,t[1]=p,t[2]=_):_=t[2];let m;t[3]!==f||t[4]!==h||t[5]!==c||t[6]!==l||t[7]!==u||t[8]!==n||t[9]!==r||t[10]!==s||t[11]!==o?(m=h?g.jsx("div",{className:ie(c?"grow":"flex-0"),children:g.jsx(Kl.Actions,{className:ie(l,"flex w-full flex-row-reverse"),textCenter:o,primaryButton:n,secondaryButton:r,tertiaryButton:s,modalHasContent:f&&u,isSpacedBetween:c})}):null,t[3]=f,t[4]=h,t[5]=c,t[6]=l,t[7]=u,t[8]=n,t[9]=r,t[10]=s,t[11]=o,t[12]=m):m=t[12];let y;return t[13]!==i||t[14]!==_||t[15]!==m?(y=g.jsxs("div",{className:_,children:[i,m]}),t[13]=i,t[14]=_,t[15]=m,t[16]=y):y=t[16],y}const uLe=ge(ht,"f095f1",16,16,!0),dLe=ge(ht,"5922e2",16,16,!0),fLe=ge($e,"b4c06e",24,24),NK=ge($e,"ff0d80",24,24),hLe=ge($e,"4baafd",24,24),pLe=ge($e,"b322c7",24,24),_Le="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='107'%20height='106'%20fill='none'%3e%3cg%20clip-path='url(%23a)'%3e%3cg%20filter='url(%23b)'%3e%3cpath%20fill='%23fff'%20d='M81.81%2053c0-15.464-12.535-28-28-28-15.463%200-28%2012.536-28%2028s12.537%2028%2028%2028c15.465%200%2028-12.536%2028-28Z'%20/%3e%3cpath%20stroke='%23000'%20stroke-linejoin='bevel'%20stroke-opacity='.1'%20d='M81.81%2053c0-15.464-12.535-28-28-28-15.463%200-28%2012.536-28%2028s12.537%2028%2028%2028c15.465%200%2028-12.536%2028-28Z'%20/%3e%3c/g%3e%3cpath%20fill='%23000'%20d='M49.287%2048.12v-3.905c0-.263.075-.45.337-.601l7.246-4.205c.977-.563%202.216-.826%203.417-.826%204.58%200%207.471%203.53%207.471%207.321%200%20.3%200%20.714-.075%201.051l-7.584-4.43c-.375-.225-.788-.263-1.239%200l-9.573%205.594ZM66.03%2061.972V53.3c0-.488-.187-.825-.638-1.088l-9.611-5.594%203.379-1.953a.717.717%200%200%201%20.675%200l7.284%204.205c2.065%201.202%203.492%203.83%203.492%206.345%200%202.966-1.802%205.707-4.58%206.758Zm-18.734-7.471-3.342-1.99c-.262-.15-.338-.338-.338-.6v-8.373c0-4.092%203.117-7.171%207.36-7.171a7.23%207.23%200%200%201%204.504%201.577l-7.546%204.392c-.45.263-.638.601-.638%201.09v11.075Zm6.533%203.754-4.543-2.553v-5.406l4.543-2.553%204.505%202.553v5.406l-4.505%202.553Zm2.815%2011.376a7.23%207.23%200%200%201-4.505-1.577l7.546-4.392c.45-.263.639-.601.639-1.09V51.499l3.379%201.99c.262.15.337.338.337.6v8.373c0%204.093-3.153%207.171-7.396%207.171Zm-8.86-8.297L40.5%2057.13c-2.065-1.202-3.491-3.83-3.491-6.345%200-3.004%201.84-5.707%204.618-6.758v8.71c0%20.488.187.826.638%201.09l9.574%205.556-3.38%201.952a.718.718%200%200%201-.675%200Zm-.45%206.082c-4.318%200-7.472-3.229-7.472-7.246%200-.375.038-.75.075-1.089l7.546%204.355c.451.263.826.263%201.277%200l9.574-5.556v3.904c0%20.263-.075.451-.338.601l-7.246%204.205c-.976.563-2.215.826-3.417.826Zm9.31%204.243c4.506%200%208.26-3.23%209.086-7.51%204.205-1.05%206.908-4.955%206.908-8.935%200-2.628-1.126-5.143-3.191-6.983.188-.788.338-1.614.338-2.403%200-5.294-4.318-9.273-9.274-9.273a9.197%209.197%200%200%200-3.003.525c-1.69-1.69-3.98-2.74-6.533-2.74-4.505%200-8.26%203.228-9.086%207.508-4.205%201.052-6.908%204.956-6.908%208.936%200%202.628%201.127%205.144%203.191%206.983-.187.789-.337%201.615-.337%202.403%200%205.294%204.317%209.274%209.273%209.274a9.2%209.2%200%200%200%203.004-.526c1.69%201.69%203.98%202.74%206.532%202.74Z'%20/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='a'%3e%3cpath%20fill='%23fff'%20d='M.81%200h106v106H.81z'%20/%3e%3c/clipPath%3e%3cfilter%20id='b'%20width='105'%20height='105'%20x='1.311'%20y='4.5'%20color-interpolation-filters='sRGB'%20filterUnits='userSpaceOnUse'%20%3e%3cfeFlood%20flood-opacity='0'%20result='BackgroundImageFix'%20/%3e%3cfeColorMatrix%20in='SourceAlpha'%20result='hardAlpha'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200'%20/%3e%3cfeOffset%20dy='4'%20/%3e%3cfeGaussianBlur%20stdDeviation='12'%20/%3e%3cfeComposite%20in2='hardAlpha'%20operator='out'%20/%3e%3cfeColorMatrix%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200.06%200'%20/%3e%3cfeBlend%20in2='BackgroundImageFix'%20result='effect1_dropShadow_1235_2762'%20/%3e%3cfeBlend%20in='SourceGraphic'%20in2='effect1_dropShadow_1235_2762'%20result='shape'%20/%3e%3c/filter%3e%3c/defs%3e%3c/svg%3e";function IK(s){var i=s,{children:e,className:t,style:n}=i,r=G(i,["children","className","style"]);return g.jsx("svg",I(b({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:t},r),{style:n,children:e}))}const mLe=({className:e})=>g.jsx("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",className:e,xmlns:"http://www.w3.org/2000/svg",children:g.jsx("path",{d:"M15.75 12V5.99999C15.7497 5.73694 15.6803 5.4786 15.5487 5.25086C15.417 5.02312 15.2278 4.83401 15 4.70249L9.75 1.70249C9.52197 1.57084 9.26331 1.50153 9 1.50153C8.73669 1.50153 8.47803 1.57084 8.25 1.70249L3 4.70249C2.7722 4.83401 2.58299 5.02312 2.45135 5.25086C2.31971 5.4786 2.25027 5.73694 2.25 5.99999V12C2.25027 12.263 2.31971 12.5214 2.45135 12.7491C2.58299 12.9769 2.7722 13.166 3 13.2975L8.25 16.2975C8.47803 16.4291 8.73669 16.4985 9 16.4985C9.26331 16.4985 9.52197 16.4291 9.75 16.2975L15 13.2975C15.2278 13.166 15.417 12.9769 15.5487 12.7491C15.6803 12.5214 15.7497 12.263 15.75 12Z",fill:"currentColor",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),gLe="ChatGPT",iR=({className:e})=>g.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:[g.jsx("text",{x:"-9999",y:"-9999",children:gLe}),g.jsx("path",{d:"M9.20509 8.76511V6.50545C9.20509 6.31513 9.27649 6.17234 9.44293 6.0773L13.9861 3.46088C14.6046 3.10413 15.342 2.93769 16.103 2.93769C18.9573 2.93769 20.7651 5.14983 20.7651 7.50454C20.7651 7.67098 20.7651 7.86129 20.7412 8.05161L16.0316 5.2924C15.7462 5.12596 15.4607 5.12596 15.1753 5.2924L9.20509 8.76511ZM19.8135 17.5659V12.1664C19.8135 11.8333 19.6708 11.5955 19.3854 11.429L13.4152 7.95633L15.3656 6.83833C15.5321 6.74328 15.6749 6.74328 15.8413 6.83833L20.3845 9.45474C21.6928 10.216 22.5728 11.8333 22.5728 13.4031C22.5728 15.2108 21.5025 16.8758 19.8135 17.5657V17.5659ZM7.80173 12.8088L5.8513 11.6671C5.68486 11.5721 5.61346 11.4293 5.61346 11.239V6.00613C5.61346 3.46111 7.56389 1.53433 10.2042 1.53433C11.2033 1.53433 12.1307 1.86743 12.9159 2.46202L8.2301 5.17371C7.94475 5.34015 7.80195 5.57798 7.80195 5.91109V12.809L7.80173 12.8088ZM12 15.2349L9.20509 13.6651V10.3351L12 8.76534L14.7947 10.3351V13.6651L12 15.2349ZM13.7958 22.4659C12.7967 22.4659 11.8693 22.1328 11.0841 21.5382L15.7699 18.8265C16.0553 18.6601 16.198 18.4222 16.198 18.0891V11.1912L18.1723 12.3329C18.3388 12.4279 18.4102 12.5707 18.4102 12.761V17.9939C18.4102 20.5389 16.4359 22.4657 13.7958 22.4657V22.4659ZM8.15848 17.1617L3.61528 14.5452C2.30696 13.784 1.42701 12.1667 1.42701 10.5969C1.42701 8.76534 2.52115 7.12414 4.20987 6.43428V11.8574C4.20987 12.1905 4.35266 12.4284 4.63802 12.5948L10.5846 16.0436L8.63415 17.1617C8.46771 17.2567 8.32492 17.2567 8.15848 17.1617ZM7.897 21.0625C5.20919 21.0625 3.23488 19.0407 3.23488 16.5432C3.23488 16.3529 3.25875 16.1626 3.2824 15.9723L7.96817 18.6839C8.25352 18.8504 8.53911 18.8504 8.82446 18.6839L14.7947 15.2351V17.4948C14.7947 17.6851 14.7233 17.8279 14.5568 17.9229L10.0136 20.5393C9.39518 20.8961 8.6578 21.0625 7.89677 21.0625H7.897ZM13.7958 23.8929C16.6739 23.8929 19.0762 21.8474 19.6235 19.1357C22.2874 18.4459 24 15.9484 24 13.4034C24 11.7383 23.2865 10.121 22.002 8.95542C22.121 8.45588 22.1924 7.95633 22.1924 7.45702C22.1924 4.0557 19.4331 1.51045 16.2458 1.51045C15.6037 1.51045 14.9852 1.60549 14.3668 1.81968C13.2963 0.773071 11.8215 0.107086 10.2042 0.107086C7.32606 0.107086 4.92383 2.15256 4.37653 4.86425C1.7126 5.55411 0 8.05161 0 10.5966C0 12.2617 0.713506 13.879 1.99795 15.0446C1.87904 15.5441 1.80764 16.0436 1.80764 16.543C1.80764 19.9443 4.56685 22.4895 7.75421 22.4895C8.39632 22.4895 9.01478 22.3945 9.63324 22.1803C10.7035 23.2269 12.1783 23.8929 13.7958 23.8929Z",fill:"currentColor"})]});function vLe({className:e}){const t=ft();return g.jsx("img",{src:_Le,alt:t.formatMessage({id:"VJmCc9",defaultMessage:"ChatGPT logo"}),className:e})}const yLe=({className:e})=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"14",fill:"none",className:e,children:g.jsx("path",{fill:"currentColor",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",d:"M6.9 1.6 1.2 11a1.3 1.3 0 0 0 1.2 2h11.2a1.3 1.3 0 0 0 1.2-2L9 1.6a1.3 1.3 0 0 0-2.2 0Z"})}),mze=Object.freeze(Object.defineProperty({__proto__:null,Hexagon:mLe,IconBase:IK,OpenaiLogo:iR,OpenaiLogoConditionalSvg:vLe,TriangleIcon:yLe},Symbol.toStringTag,{value:"Module"})),Et=e=>()=>g.jsx(qLe,{ConnectorIcon:e}),aw=Et($c),ELe=Et(ic),CLe=Et(y8),Tj=Et(NK),SLe=Et(g8),bLe=Et(_8),TLe=Et(N1),OLe=Et(b8),ALe=Et(N_),wLe=Et(jv),NLe=Et(Gv),ILe=Et(d8),PLe=Et(f8),RLe=Et(h8),xLe=Et(p8),MLe=Et(m8),kLe=Et(v8),LLe=Et(E8),DLe=Et(C8),FLe=Et(S8),ULe=Et(T8),gze=Et(Bv),vze=Et(O8),jLe=Et(w8),yze=Et(fLe),BLe=Et(N8),GLe=Et(I8),Oj=Et(A8),WLe=Et(P8),HLe=Et(pLe),$Le=Et(hLe),qLe=({ConnectorIcon:e})=>g.jsxs("div",{className:"-mb-2 flex items-center justify-center gap-4 ps-2.5 pt-4",children:[g.jsx(iR,{className:"h-12 w-12"}),g.jsxs("div",{className:"text-token-text-secondary",children:[g.jsx(uLe,{className:"icon-sm me-1.5"}),g.jsx(dLe,{className:"icon-sm ms-1.5"})]}),g.jsx(e,{width:48,height:48})]}),VLe={google_drive_oauth:aw,google_drive_dwd:aw,slack:ELe,github:CLe,sharepoint:Tj,sharepoint_admin:Tj,dropbox:SLe,box:bLe,linear:TLe,intercom:OLe,hubspot:ALe,confluence:wLe,notion:NLe,aha:ILe,asana:PLe,azure_devops:RLe,basecamp:xLe,clickup:MLe,front:kLe,gitlab:LLe,gorgias:DLe,help_scout:FLe,ironclad:ULe,pipedrive:jLe,shortcut:BLe,teamwork:GLe,teams:Oj,teams_admin:Oj,zendesk:WLe,zoho:HLe,zoho_desk:$Le},Eze=e=>{const t=VLe[e];return t?g.jsx(t,{}):null},oR=({footerContent:e,primaryButton:t,secondaryButton:n})=>!e&&!t&&!n?null:g.jsxs("div",{className:"border-token-border-default flex items-center justify-between border-t p-6",children:[g.jsxs("div",{children:[e," "]}),g.jsxs("div",{className:"flex gap-2",children:[n,t]})]}),PK=new Set(Object.values(Nt)),zLe=new Set(Object.values(tl).map(e=>e.access)),RK=new Set(Object.values(s$)),YLe="connectors.entrypoint_selection_latency",xK="connectors.entrypoint_start",cw=new Map,KLe="".concat(Date.now().toString(36),"-").concat(Math.random().toString(36).slice(2));function MK(){var e;return"".concat((e=K.sessionId)!=null?e:KLe)}function XLe(e,t){if(!(typeof window>"u"))try{window.sessionStorage.setItem("".concat(xK,":").concat(e),t.toString())}catch(n){}}function Aj(e){if(typeof window>"u")return;const t="".concat(xK,":").concat(e);try{const n=window.sessionStorage.getItem(t);if(window.sessionStorage.removeItem(t),n==null)return;const r=Number(n);return Number.isFinite(r)?r:void 0}catch(n){return}}function JLe(){const e=MK(),t=Date.now();cw.set(e,t),XLe(e,t)}function QLe(){const e=MK();let t=cw.get(e);if(t?Aj(e):t=Aj(e),t==null)return;cw.delete(e);const r=Date.now()-t;r<=0||r>3600*1e3||K.addAction(YLe,{latency_ms:r,event:"entrypoint_selection_latency"})}function ZLe(e){const t=e.replace(/_connector$/,"").replace(/_action$/,"").replace(/_bot$/,"").replace(/_codex$/,"");return t==="gdrive"||t.startsWith("gdrive_")?"google_drive":t}function eDe(e){return e==="ECOSYSTEM_DIRECTORY"?"3p_published":e==="TENANT_CATALOG"?"3p_not_published":"1p"}function tDe(e){const t=sr[e];return t?ZLe(t):ape(e)?"mcp":"unknown"}function ng(e){return e?!!(zLe.has(e)||sr[e]&&RK.has(sr[e])):!1}function kK(e){return e?PK.has(e):!1}function nDe(e,t){return e&&e.connector_type==="MCP"?!0:!t||PK.has(t)?!1:!LK(t)}function LK(e){return sr[e]!==void 0}function rDe(e,t){var n;if(t)return t;if(e)return((n=e.labels)==null?void 0:n.admin_only_connector)==="true"||e.distribution_channel==="TENANT_CATALOG"?"workspace":"user"}function sDe(e){if(!e)return;const t=sr[e];if(t===R.SHAREPOINT_ADMIN_CONNECTOR||t===R.TEAMS_ADMIN_CONNECTOR)return"workspace"}function wj(e){var l,u,d,f,h,p,_,m,y,v,O,S,E,T,A,w,N,P,x;const t=(u=(l=e.connector)==null?void 0:l.id)!=null?u:e.connectorId;if(!t)throw new Error("_buildConnectorIdMetadata: connectorId is required to build metadata");const n=new Set,r=(D,M)=>{M&&n.add(D)},s=(d=e.traitOverrides)!=null?d:{};r("access",(f=s.access)!=null?f:kK(t));const i=(p=(h=e.connector)==null?void 0:h.connector_type)!=null?p:sr[t],o=i!=null&&RK.has(i);r("sync",(m=(_=s.sync)!=null?_:o)!=null?m:ng(t)),r("mcp",(y=s.mcp)!=null?y:nDe(e.connector,t)),r("ecosystem",(O=s.ecosystem)!=null?O:((v=e.connector)==null?void 0:v.distribution_channel)==="ECOSYSTEM_DIRECTORY"),r("retrievable",(T=s.retrievable)!=null?T:!!((E=(S=e.connector)==null?void 0:S.conformance)!=null&&E.implements_retrievable));const a=(w=e.ownerOverride)!=null?w:eDe((A=e.connector)==null?void 0:A.distribution_channel),c=(x=(P=(N=e.authScopeOverride)!=null?N:rDe(e.connector,e.authScopeOverride))!=null?P:sDe(t))!=null?x:"user";return{connector_id:t,connector_traits:Array.from(n),connector_owner:a,auth_scope:c,referrer:e.referrer}}function Nj(e){if(e.kindOverride)return e.kindOverride;const t=e.connector_id_metadata.connector_id;return t?ng(t)?"1p_sync":kK(t)||LK(t)?"1p_access":"3p_mcp":"3p_mcp"}function iDe(e,t){const n=new Set,r=new Set;for(const i of e){if(typeof i!="string")continue;if(Nt[i]){n.add(i);continue}if(i.startsWith("connector_")){ng(i)?r.add(i):n.add(i);continue}ng(i)&&r.add(i)}const s=Array.from(t,i=>{var o;return(o=i.name)!=null?o:"Unknown MCP"});return{accessConnectorIds:Array.from(n),syncConnectorIds:Array.from(r),mcpConnectorIds:s}}function Fa(e){const{connector_id:t,connector_owner:n,auth_scope:r,connector_traits:s}=e;return{connector_id:t,service_key:tDe(t),connector_owner:n,auth_scope:r,connector_traits:s}}function L0(e){return Array.from(new Set(e))}function oDe(e){if(e)return e;try{return Bt()}catch(t){return}}function aDe(e,t,{productSku:n}={}){const r=oDe(e);if(!r)return;const s=a8(r,{productSku:n}),i=s==null?void 0:s.get(t);if(i)return{id:i.id,distribution_channel:i.distribution_channel,supported_auth:i.supported_auth,conformance:i.conformance,labels:i.labels,connector_type:i.connector_type}}const wr={createIdMetadataFromConnector(e,t,n={}){return wj({connector:e,referrer:t,traitOverrides:n.traitOverrides,ownerOverride:n.ownerOverride,authScopeOverride:n.authScopeOverride})},createIdMetadataFromId(e,t,n,r={}){const s=aDe(e,t,{productSku:r.productSku});return wj({connector:s!=null?s:void 0,connectorId:s?void 0:t,referrer:n,traitOverrides:r.traitOverrides,ownerOverride:r.ownerOverride,authScopeOverride:r.authScopeOverride})},logEntryPointShown({referrer:e,connectedCount:t}){ve.logEventWithStatsig("connectors.entry_point_shown","connectors.entry_point_shown",{referrer:e,connected_count:t}),xn.count(bn.DEFAULT,"connectors_entry_point_shown",{key:"referrer",value:e})},logModalShown(e){const t=e.connector_id_metadata,n=b(b(b(b(I(b({},Fa(t)),{referrer:e.referrer}),typeof e.upgradeToSync=="boolean"?{upgrade_to_sync:e.upgradeToSync}:{}),e.mfaState?{mfa:e.mfaState}:{}),e.authType?{auth_type:e.authType}:{}),typeof e.skippedByAdmin=="boolean"?{skipped_by_admin:e.skippedByAdmin}:{});ve.logEventWithStatsig("connectors.modal_shown","connectors.modal_shown",n)},logModalActionTaken(e){const t=e.connector_id_metadata,n=b(I(b({},Fa(t)),{action:e.action,referrer:e.referrer}),e.authType?{auth_type:e.authType}:{});ve.logEventWithStatsig("connectors.modal_action_taken","connectors.modal_action_taken",n)},logSetupCompleted(e){const t=I(b({},Fa(e.connector_id_metadata)),{success:e.success,referrer:e.referrer,error:e.error,sync_required:e.syncRequired});ve.logEventWithStatsig("connectors.setup_complete","connectors.setup_complete",t)},logOAuthInitiated(e){const t=e.connector_id_metadata,n=b(b(I(b({},Fa(t)),{referrer:e.referrer,kind:Nj(e)}),e.scopes?{scopes:e.scopes}:{}),e.authType?{auth_type:e.authType}:{});ve.logEventWithStatsig("connectors.oauth_initiated","connectors.oauth_initiated",n)},logOAuthCompleted(e){var s;const t=e.connector_id_metadata,n=b(b(I(b(b(I(b({},Fa(t)),{success:e.success,referrer:e.referrer}),e.errorType?{errorType:e.errorType}:{}),e.errorMessage?{errorMessage:e.errorMessage}:{}),{kind:Nj(e)}),e.scopes?{scopes:e.scopes}:{}),e.authType?{auth_type:e.authType}:{});ve.logEventWithStatsig("connectors.oauth_complete","connectors.oauth_complete",n),(!t.connector_traits.includes("sync")||t.connector_traits.includes("access"))&&this.logSetupCompleted({connector_id_metadata:t,referrer:e.referrer,success:e.success,syncRequired:!1,error:e.success?void 0:(s=e.errorMessage)!=null?s:e.errorType})},logSelectionChanged(e){const t=iDe(e.selectedSources,e.selectedMCPSources),n=b({referrer:e.referrer,selected_access_connector_ids:t.accessConnectorIds,selected_sync_connector_ids:t.syncConnectorIds,selected_mcp_connector_ids:t.mcpConnectorIds},e.triggerHint?{trigger_hint:e.triggerHint}:{});ve.logEventWithStatsig("connectors.selected","connectors.selected",n),QLe()},logTurnInteraction(e){ve.logEventWithStatsig("connectors.turn_interaction","connectors.turn_interaction",b({searched_access_connector_ids:L0(e.accessConnectorIds),searched_sync_connector_ids:L0(e.syncConnectorIds),searched_mcp_connector_ids:L0(e.mcpConnectorIds)},e.triggerHint?{trigger_hint:e.triggerHint}:{}))},logUpgradeToSyncInitiated(e){const t=e.connector_id_metadata,n=b(I(b({},Fa(t)),{referrer:e.referrer}),typeof e.upgradeToSync=="boolean"?{upgrade_to_sync:e.upgradeToSync}:{});ve.logEventWithStatsig("connectors.upgrade_to_sync_init","connectors.upgrade_to_sync_init",n)},logUpgradeToSyncCompleted(e){var r;const t=e.connector_id_metadata,n=b(b(b(I(b({},Fa(t)),{success:e.success,referrer:e.referrer}),e.errorType?{errorType:e.errorType}:{}),e.errorMessage?{errorMessage:e.errorMessage}:{}),typeof e.upgradeToSync=="boolean"?{upgrade_to_sync:e.upgradeToSync}:{});ve.logEventWithStatsig("connectors.upgrade_to_sync_complete","connectors.upgrade_to_sync_complete",n),e.upgradeToSync||this.logSetupCompleted({connector_id_metadata:t,referrer:e.referrer,success:e.success,syncRequired:e.upgradeToSync,error:e.success?void 0:(r=e.errorMessage)!=null?r:e.errorType})},logNoAvailableConnectors(){ve.logEventWithStatsig("chatgpt_user_onboarding_for_workspace_no_available_connectors","chatgpt_user_onboarding_for_workspace_no_available_connectors")}},cDe=Object.freeze(Object.defineProperty({__proto__:null,ConnectorsAnalytics:wr,markEntryPointShown:JLe},Symbol.toStringTag,{value:"Module"})),DK=new BroadcastChannel("oauth_channel"),Cze=e=>{DK.postMessage(e)},D0=e=>{if(!e)return;const t=s$[e];return t?Nt[t]:void 0};async function FK({connectionId:e,connectorType:t,redirectTo:n,location:r,isReconnect:s,intl:i,isAdminQuickstartFlow:o=!1,accountId:a}){var h;const c=window.open("about:blank","_blank");if(!c)throw new Error(i.formatMessage(i_.popupBlocked));if(o&&!a)throw new Error(i.formatMessage(i_.somethingWentWrong));let l;try{l=await(o?la.admin_request_connect_quickstart(a!=null?a:"",e,n):la.user_request_connect(e,n,!0))}catch(p){throw c.close(),new Error(i.formatMessage(i_.somethingWentWrong))}ve.logEventWithStatsig("Contextual Answers User OAuth Initiated","chatgpt_contextual_answers_user_oauth_initiated",{connectorType:t,location:r,isReconnect:s,isAdminQuickstartFlow:o});const u=Bt(),d=(h=r$())!=null?h:"contextual_answers.".concat(r),f=D0(t);return f&&wr.logOAuthInitiated({connector_id_metadata:wr.createIdMetadataFromId(u,f,d,{traitOverrides:{sync:!0}}),referrer:d,authType:"OAUTH",scopes:null,kindOverride:"1p_sync"}),c.location.href=l.oauth_flow_url,new Promise(p=>{const _=m=>{const{error:y,errorDesc:v,errorType:O,pluginId:S,success:E}=m.data;if(m.origin===window.location.origin&&!(l.plugin_id&&l.plugin_id!==S))if(E){ve.logEventWithStatsig("Contextual Answers User OAuth Completed","chatgpt_contextual_answers_user_oauth_completed",{connectorType:t,isAdminQuickstartFlow:o});const T=D0(t);T&&wr.logOAuthCompleted({connector_id_metadata:wr.createIdMetadataFromId(u,T,d,{traitOverrides:{sync:!0}}),referrer:d,authType:"OAUTH",scopes:null,success:!0,kindOverride:"1p_sync"}),p({success:!0,message:i.formatMessage(i_.connectedDriveSyncDesc)})}else{ve.logEventWithStatsig("Contextual Answers User OAuth Failed","chatgpt_contextual_answers_user_oauth_failed",{connectorType:t,errorType:O,isAdminQuickstartFlow:o});const T="".concat(y).concat(v?": ".concat(v):""),A=D0(t);A&&wr.logOAuthCompleted({connector_id_metadata:wr.createIdMetadataFromId(u,A,d,{traitOverrides:{sync:!0}}),referrer:d,authType:"OAUTH",scopes:null,success:!1,errorType:O,errorMessage:T,kindOverride:"1p_sync"}),p({errorType:O,success:E,message:T})}};DK.addEventListener("message",_,!1),c.addEventListener("beforeunload",()=>{window.removeEventListener("message",_,!1)})})}const i_=At({popupBlocked:{id:"67rWk2",defaultMessage:"Popup blocked. Please allow popups for this site."},connectedDriveSyncDesc:{id:"CACallback.connectedDriveSyncDesc.2",defaultMessage:"Google Drive is now connected and syncing."},somethingWentWrong:{id:"RvtOjD",defaultMessage:"Encountered an error connecting your account. Please try again later."}}),lDe=Wn(()=>ne(()=>import("./gaj6e78ii9fgijkk.js"),__vite__mapDeps([21,1,22,2,3,23,8,9,24,25])).then(e=>e.GoogleRedirectContent)),aR={type:"success",size:"custom",className:"max-w-xl",showCloseButton:!0,shouldIgnoreClickOutside:!0,hideSeparator:!0,noPadding:!0,title:g.jsx(aw,{})},uDe=({onClose:e,isAdminFlow:t,isAdminQuickstartFlow:n=!1,connectionId:r,location:s,accountId:i,onSuccess:o,excludeModalWrapper:a=!1,immediatelyKickOffOAuth:c=!1})=>{var S,E;const l=(E=(S=L7())==null?void 0:S.enabled)!=null?E:!1,u=!t&&l,[d,f]=C.useState(c?"immediate_oauth":u?"cta":"disclaimer"),[h,p]=C.useState(),_=ft(),m=C.useCallback(()=>{o==null||o(),e==null||e()},[e,o]),y={connectionId:r,connectorType:"google_drive_oauth",location:s,isAdminQuickstartFlow:n,accountId:i,onSuccess:m,onError:T=>{p(T),f("error")}},v=C.useRef(!1),{initiateOAuthFlow:O}=ny(y);switch(C.useEffect(()=>{c&&!v.current&&(v.current=!0,O())}),d){case"immediate_oauth":return g.jsx("div",{className:"flex w-full justify-center p-10",children:g.jsx(Su,{})});case"disclaimer":return g.jsx(dDe,{isOpen:!0,onClose:e,excludeModalWrapper:a,isAdminFlow:t,isAdminQuickstartFlow:n,secondaryButton:g.jsx(ff,{title:_.formatMessage(Ll.cancel),color:"secondary",onClick:e}),primaryButton:g.jsx(ff,{color:"primary",onClick:()=>f("cta"),children:_.formatMessage(Ll.continue)})});case"cta":return u?g.jsx(hDe,b({onClose:e,isReconnect:!1,excludeModalWrapper:a},y)):g.jsx(fDe,{isOpen:!0,onClose:e,excludeModalWrapper:a,secondaryButton:g.jsx(ff,{title:_.formatMessage(Ll.back),color:"secondary",onClick:()=>f("disclaimer")}),primaryButton:g.jsx(Ij,b({label:_.formatMessage(Ll.loginWithGoogle)},y))});case"error":return u?g.jsx(_De,b({onClose:e,error:h,excludeModalWrapper:a,isReconnect:!0},y)):g.jsx(pDe,{isOpen:!0,onClose:e,error:h,excludeModalWrapper:a,primaryButton:g.jsx(Ij,b({label:_.formatMessage(Ll.reconnect),isReconnect:!0},y))})}};function dDe({isOpen:e,onClose:t,excludeModalWrapper:n,secondaryButton:r,primaryButton:s,isAdminFlow:i,isAdminQuickstartFlow:o}){const a=g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"px-6 pt-4 pb-10",children:[g.jsx("div",{className:"text-xl font-medium",children:g.jsx(Tt,{id:"zjbSLP",defaultMessage:"Connect your organizationâ€™s Google Drive "})}),g.jsx("div",{className:"text-md text-token-text-secondary mt-3",children:o?g.jsx(Tt,{id:"YCbpE/",defaultMessage:"Linking ChatGPT to Google Drive gives you more tailored answers based on your organization's context. Once you connect, others in your org can too."}):g.jsx(Tt,{id:"+hD78k",defaultMessage:"{userText}Connecting ChatGPT to Google Drive helps you get more personalized, up-to-date answersâ€”grounded in your organizationâ€™s content. ChatGPT semantically searches your Drive and only surfaces content youâ€™re authorized to view.",values:{userText:!i&&g.jsx(Tt,{id:"kg6Qe+",defaultMessage:"Your admin has enabled internal knowledge for your workspace. "})}})}),g.jsx("div",{className:"mt-6 text-lg font-medium",children:g.jsx(Tt,{id:"x/LOXH",defaultMessage:"What to expect"})}),g.jsxs("ul",{className:"text-md text-token-text-secondary ms-6 mt-4",children:[g.jsx("li",{className:"mb-2 list-disc",children:g.jsx(Tt,{id:"iBETBV",defaultMessage:"Continuous sync: Your documents, spreadsheets, and presentations stay up to date in ChatGPT."})}),g.jsx("li",{className:"mb-2 list-disc",children:g.jsx(Tt,{id:"u/D1Mk",defaultMessage:"Privacy first: ChatGPT always respects your Google Drive permissions â€” it can only access what you can."})}),g.jsx("li",{className:"list-disc",children:g.jsx(Tt,{id:"uHiJ04",defaultMessage:"Youâ€™re in control: Disconnect anytime to instantly revoke access."})})]}),o&&g.jsxs("div",{className:"bg-token-main-surface-secondary text-token-text-primary mt-6 flex w-full flex-row items-center gap-4 rounded-xl p-4",children:[g.jsx(Of,{className:"icon-lg"}),g.jsx("span",{className:"text-token-text-secondary text-sm",children:g.jsx(Tt,{id:"k5y2IZ",defaultMessage:"<b>Note</b>: Only users with the <i>same</i> Google Workspace domain can connect. Your email should look like <code>example.com</code> â€” personal accounts wonâ€™t work. Be sure youâ€™re using the right one.",values:{b:c=>g.jsx("strong",{children:c}),i:c=>g.jsx("em",{children:c}),code:c=>g.jsx("code",{children:c})}})})]})]}),g.jsx(oR,{secondaryButton:r,primaryButton:s})]});return n?a:g.jsx(rd,I(b({},aR),{isOpen:e,onClose:t,testId:"modal-gdrive-disclaimer",children:a}))}function fDe({isOpen:e,onClose:t,excludeModalWrapper:n,secondaryButton:r,primaryButton:s}){const i=g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"px-6 pt-4 pb-10",children:[g.jsx("div",{className:"mb-3 text-xl font-medium",children:g.jsx(Tt,{id:"X4Rl7H",defaultMessage:"Allow full access"})}),g.jsx("div",{children:g.jsx(Tt,{id:"laPpDC",defaultMessage:"<b>Important:</b> In the next step, make sure to keep all boxes checked. ChatGPT requires access to the full list of Google permissions.",values:{b:o=>g.jsx("strong",{children:o})}})})]}),g.jsx(oR,{secondaryButton:r,primaryButton:s})]});return n?i:g.jsx(rd,I(b({},aR),{isOpen:e,onClose:t,testId:"modal-gdrive-cta",children:i}))}function hDe(r){var s=r,{onClose:e,excludeModalWrapper:t}=s,n=G(s,["onClose","excludeModalWrapper"]);const{loading:i,initiateOAuthFlow:o}=ny(n),a=g.jsx(lDe,{connectorIcon:g.jsx("div",{className:"rounded-xl border-[0.5px] bg-white p-2 shadow-sm",children:g.jsx($c,{height:32,width:32})}),connectorName:"Google Drive",connectorId:wke,onClose:e,isConnecting:i,onContinue:()=>o()});return t?a:g.jsx(rd,{rootClassName:"z-100",testId:"modal-gdrive-cta-slurm",type:"success",isOpen:!0,onClose:e,size:"custom",className:"max-w-[400px]",children:a})}const UK=({intl:e,error:t})=>{var s;let n,r;switch(t==null?void 0:t.errorType){case"ca/oauth_api_access_error":{n=e.formatMessage({id:"LrBpzI",defaultMessage:"Permissions required"}),r=e.formatMessage({id:"E0lVhb",defaultMessage:"In order to sync your drive you must give ChatGPT the appropriate permissions. Please try again and select all the required checkboxes."});break}case"ca/oauth_missing_user_info_domain":{n=e.formatMessage({id:"CDqa2q",defaultMessage:"Cannot connect this account"}),r=e.formatMessage({id:"6Can6p",defaultMessage:"The Google account you are trying to connect does not belong to a Google Workspace domain. Google accounts that do not belong to a Google Workspace (such as personal Gmail accounts) are not eligible to connect to this specific feature at this time."});break}case"ca/oauth_has_existing_linked_openai_account":{n=e.formatMessage({id:"QSfIDZ",defaultMessage:"This Google account is already connected to a different ChatGPT account"}),r=e.formatMessage({id:"Z9Bj8k",defaultMessage:"The Google account you are trying to link is already connected to a different ChatGPT user for this Google Drive connection."});break}case"ca/oauth_connection_not_allowed":{n=e.formatMessage({id:"I3ekm6",defaultMessage:"Your ChatGPT account is not enabled for this connection"}),r=e.formatMessage({id:"0Vbazl",defaultMessage:"Your ChatGPT administrator has not enabled this connection for your account."});break}default:n=e.formatMessage({id:"ojfL45",defaultMessage:"Something went wrong"}),r=(s=t==null?void 0:t.message)!=null?s:e.formatMessage({id:"5MOzf8",defaultMessage:"We were unable to connect your Google account. Please check your settings and try again."})}return{title:n,body:r}};function pDe({isOpen:e,onClose:t,excludeModalWrapper:n,primaryButton:r,error:s}){const i=ft(),{title:o,body:a}=UK({intl:i,error:s}),c=g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"px-6 pt-4 pb-10",children:[g.jsxs("div",{className:"mb-3 flex items-center gap-2 text-xl font-medium",children:[g.jsx(Rke,{className:"icon-lg"}),o]}),g.jsx("div",{children:a})]}),g.jsx(oR,{primaryButton:r})]});return n?c:g.jsx(rd,I(b({},aR),{isOpen:e,onClose:t,testId:"modal-gdrive-error",children:c}))}function _De(s){var i=s,{onClose:e,error:t,excludeModalWrapper:n}=i,r=G(i,["onClose","error","excludeModalWrapper"]);const o=ft(),{title:a,body:c}=UK({intl:o,error:t}),{loading:l,initiateOAuthFlow:u}=ny(r),d=g.jsxs(g.Fragment,{children:[g.jsx(Oke,{onClose:e,connectorIcon:g.jsx("div",{className:"rounded-xl border-[0.5px] bg-white p-2 shadow-sm",children:g.jsx($c,{height:32,width:32})}),title:a}),g.jsxs("div",{className:"border-token-border-default text-token-text-secondary mt-8 mb-6 flex items-center gap-4 rounded-xl border p-4 text-sm",children:[g.jsx(Mke,{className:"icon-lg"}),c]}),g.jsx(fo,{className:"w-full",size:"large",onClick:()=>u(),loading:l,children:o.formatMessage(Ll.reconnect)})]});return n?d:g.jsx(rd,{testId:"modal-gdrive-error-slurm",rootClassName:"z-100",type:"success",isOpen:!0,onClose:e,size:"custom",className:"max-w-[400px]",children:d})}const ny=({connectorType:e,connectionId:t,location:n,isReconnect:r=!1,isAdminQuickstartFlow:s,accountId:i,onSuccess:o,onError:a})=>{const[c,l]=C.useState(!1),u=ft(),d=Hn(),f=Kt(),h=C.useCallback(async()=>{try{l(!0);const{message:p,errorType:_,success:m}=await FK({connectorType:e,connectionId:t,location:n,isReconnect:r,intl:u,isAdminQuickstartFlow:s,accountId:i});m?(await Promise.all([!1,!0].map(y=>f.invalidateQueries({queryKey:Uf(y)}))),d.success(p),o==null||o()):(d.danger(p,{toastId:"google_drive_oauth_flow",loggingTitle:"Failed to initiate OAuth flow",loggingDescription:p}),a==null||a({errorType:_,message:p}))}catch(p){a==null||a(),p instanceof Error&&d.danger(p.message,{toastId:"google_drive_oauth_flow",loggingTitle:"Failed to initiate OAuth flow",loggingDescription:p.message})}finally{l(!1)}},[e,t,n,r,u,s,i,d,f,o,a]);return{loading:c,initiateOAuthFlow:h}},Ij=n=>{var r=n,{label:e}=r,t=G(r,["label"]);const{loading:s,initiateOAuthFlow:i}=ny(t);return g.jsx(ff,{loading:s,onClick:i,color:"primary",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(xke,{}),e]})})},Ll=At({back:{id:"RDaXnk",defaultMessage:"Back"},cancel:{id:"CfN1/v",defaultMessage:"Cancel"},continue:{id:"XGnWba",defaultMessage:"Continue"},loginWithGoogle:{id:"9ImAmL",defaultMessage:"Log in with Google"},reconnect:{id:"0qUCBD",defaultMessage:"Reconnect"},encounteredError:{id:"FNXFnS",defaultMessage:"Encountered an error connecting your account. Please try again later."}}),mDe=({connectorType:e,connectionId:t,location:n,refetch:r,renderButton:s})=>{const i=ft(),[o,a]=C.useState(!1),c=Hn(),l=VI(),u=ce(),d=kbe(u),f=e==="google_drive_oauth",h=C.useCallback(async()=>{try{a(!0),await FK({connectorType:e,connectionId:t,location:n,intl:i})}catch(v){v instanceof Error?c.danger(v.message,{toastId:"ca_oauth_button"}):c.danger(i.formatMessage({id:"FNXFnS",defaultMessage:"Encountered an error connecting your account. Please try again later."}),{toastId:"ca_oauth_button",loggingTitle:"Encountered an error connecting your account.",loggingDescription:"Error message shown when a user tries to link their account but it fails."})}finally{a(!1),r==null||r()}},[t,e,i,n,r,c]),[p,_]=C.useState(!1),m=s({disabled:l||d,isLoading:o,onClick:()=>{f?_(!0):h()}}),y=m;return l?g.jsx(_o,{label:i.formatMessage(gDe.gdriveTooltip),children:m}):d?g.jsx(Cke,{children:m}):g.jsxs(g.Fragment,{children:[y,p&&g.jsx(uDe,{isAdminFlow:!1,onClose:()=>_(!1),connectionId:t,location:n,onSuccess:r})]})},gDe=At({gdriveTooltip:{id:"9DbE+w",defaultMessage:"Cannot connect, please use the web version instead"}}),jK=({startDate:e,now:t,scale:n})=>{const r=t.getTime()-e.getTime();if(r<=0)return 0;const s=r/n,i=Math.min(1,Math.log1p(s*9)/Math.log1p(10));return Math.round(i*100)},BK=(e=1e3)=>{const[t,n]=C.useState(new Date);return C.useEffect(()=>{const r=setInterval(()=>{n(new Date)},e);return()=>clearInterval(r)},[e]),t},vDe=({connection:e,isBlueButton:t=!1})=>{const n=ft(),r=BK(),s=e.user_connection_details.initialized_at,i=s?jK({startDate:new Date(s),now:r,scale:1e3*60*60*3})/2:25;return g.jsx(_o,{label:t?n.formatMessage({id:"cv8jes",defaultMessage:"The app is connected and available to use in ChatGPT, but performance will be improved once it's fully synced."}):n.formatMessage({id:"69GKr/",defaultMessage:"Syncing may take 8 hours or longer"}),side:"right",children:g.jsxs("div",{className:ie("text-caption-regular text-token-text-tertiary flex items-center gap-2 text-sm",t?"text-blue-500":"grayscale"),children:[g.jsx(ty,{sizeOverride:18,percentage:i,className:t?"text-blue-500":""}),g.jsx("span",{className:ie(t?"text-blue-500":void 0),children:g.jsx(Tt,{id:"fYaL40",defaultMessage:"Syncing"})})]})})},yDe=({className:e,connection:t,ignoreLabel:n=!1,isBlueButton:r=!1})=>{const s=ft(),i=BK(),o=t.user_connection_details.initialized_at,a=o?jK({startDate:new Date(o),now:i,scale:1e3*60*60*6})/2+50:75;return g.jsx(_o,{label:s.formatMessage({id:"lsQnba",defaultMessage:"Last 30 days synced"}),secondaryLabel:s.formatMessage({id:"j+cskE",defaultMessage:"Full sync can take up to few days"}),side:"right",children:g.jsxs("div",{className:ie("text-caption-regular text-token-text-tertiary flex items-center gap-2",e,r?"text-blue-500":""),children:[g.jsx(ty,{sizeOverride:18,percentage:a,className:"text-blue-400"}),!n&&g.jsx("span",{className:ie(r?"text-blue-500":void 0),children:g.jsx(Tt,{id:"fYaL40",defaultMessage:"Syncing"})})]})})},EDe=({connection:e,location:t,inactiveButtonOverride:n,isBlueButton:r=!1})=>{var l;const s=ce(),[i,o]=C.useState(new Date);C.useEffect(()=>{const u=setInterval(()=>{o(new Date)},1e3);return()=>clearInterval(u)},[]);const a=ft();switch(e.user_connection_details.activation_status){case"activated":{const u=(l=e.user_connection_details.last_delta_sync_completed_at)!=null?l:e.user_connection_details.last_full_sync_completed_at;return u?g.jsx("div",{className:"text-body-small-regular",children:yke({now:i,givenDate:new Date(u),intl:a})}):g.jsxs("div",{className:ie("text-caption-regular text-token-text-tertiary flex items-center gap-2",r?"text-blue-500":"grayscale"),children:[g.jsx(Zz,{className:ie("icon-sm",r?"text-blue-500":"")}),g.jsx("span",{className:ie(r?"text-blue-500":void 0),children:g.jsx(Tt,{id:"SWdiTP",defaultMessage:"Synced"})})]})}case"activating":return g.jsx(vDe,{connection:e,isBlueButton:r});case"partially_activated":return g.jsx(yDe,{connection:e,isBlueButton:r});case"inactive":return n||g.jsx(CDe,{connection:e,refetch:()=>WI(s),location:t})}},Pj="https://help.openai.com/en/articles/10929079-google-workspace-admin-managed-setup#h_856676fdde",GK=({displayName:e,connectorType:t})=>g.jsx(_o,{withArrow:!0,interactive:!0,label:g.jsx(bj,{openNewTab:!0,underline:!1,href:Pj,children:g.jsx(Tt,{id:"H0Humf",defaultMessage:"We were unable to connect your account to {connector_name}. Click to learn more.",values:{connector_name:t==="google_drive_dwd"?"Google Drive":e}})}),sideOffset:0,children:g.jsx(bj,{className:"hover:bg-token-interactive-bg-secondary-hover block rounded-full p-2",href:Pj,openNewTab:!0,children:g.jsx(Of,{className:"icon"})})}),Sze=({connection:e})=>{switch(e.user_connection_details.auth_status){case"admin_connected":return g.jsx(Tt,{id:"Isczat",defaultMessage:"Connected"});case"admin_managed_disconnected":return g.jsx(GK,{displayName:e.connection_display_info.display_name,connectorType:e.user_connection_details.knowledge_connector_type});case"not_connected":return g.jsx(Tt,{id:"9ZiK24",defaultMessage:"Connect"});case"user_connected":return g.jsx(ty,{sizeOverride:18,percentage:0,className:"text-blue-400"})}},CDe=({connection:e,refetch:t,location:n})=>{const r=C.useMemo(()=>{switch(e.user_connection_details.auth_status){case"admin_connected":return g.jsx(fo,{disabled:!0,size:"small",color:"ghost",children:g.jsx(Tt,{id:"Isczat",defaultMessage:"Connected"})});case"admin_managed_disconnected":return g.jsx(GK,{displayName:e.connection_display_info.display_name});case"not_connected":return g.jsx(SDe,{connection:e,location:n,refetch:t});case"user_connected":return g.jsx(ty,{sizeOverride:18,percentage:0,className:"text-blue-400"})}},[e,n,t]);return g.jsx(g.Fragment,{children:r})},SDe=({connection:e,location:t,refetch:n})=>{const r=({disabled:s,isLoading:i,onClick:o})=>g.jsx(fo,{size:"small",disabled:s,loading:i,onClick:o,color:"secondary",children:g.jsx(Tt,{id:"9ZiK24",defaultMessage:"Connect"})});return g.jsx(mDe,{connectorType:e.user_connection_details.knowledge_connector_type,connectionId:e.user_connection_details.connection_instance_id,location:t,refetch:n,renderButton:r})},bDe=["admin_connected","admin_managed_disconnected"];function TDe({connection:e,refetch:t}){const n=Hn(),[r,s]=C.useState(!1);if(bDe.includes(e.user_connection_details.auth_status))return null;const i=async()=>{try{s(!0),await la.user_disconnect(e.user_connection_details.connection_instance_id),n.success("Successfully disconnected your account.")}catch(o){n.danger("Encountered an error disconnecting your account. Please try again later.",{toastId:"ca_disconnect_button"})}finally{s(!1),t==null||t()}};return g.jsxs(bd.Root,{children:[g.jsx(bd.BasicTrigger,{children:g.jsx("button",{type:"button",className:"text-token-text-secondary focus-visible:bg-token-surface-hover enabled:hover:bg-token-surface-hover disabled:text-token-text-quaternary h-8 rounded-lg px-2 focus-visible:outline-0",children:g.jsx(pke,{className:"icon-sm"})})}),g.jsx(bd.Portal,{children:g.jsx(bd.Content,{size:"small",align:"end",children:g.jsx(bd.Item,{disabled:r,onClick:i,icon:g.jsx(_ke,{}),color:"danger",children:g.jsx(Tt,{id:"iHFV22",defaultMessage:"Disconnect"})})})})]})}const sd=e=>{"use forget";const t=W.c(5);let n;t[0]!==e?(n=e===void 0?{}:e,t[0]=e,t[1]=n):n=t[1];const{enabled:r}=n,s=r===void 0?!0:r,i=Ju();let o;t[2]===Symbol.for("react.memo_cache_sentinel")?(o=["user_connection_status"],t[2]=o):o=t[2];const a=i&&s;let c;return t[3]!==a?(c={queryKey:o,queryFn:la.user_connection_status,enabled:a},t[3]=a,t[4]=c):c=t[4],rn(c)},ODe=new Set(["slack_sync_connector"]);function bze(){const{data:e,isLoading:t,refetch:n}=sd(),r=C.useMemo(()=>e==null?void 0:e.connection_statuses.filter(s=>ODe.has(s.user_connection_details.connection_type)),[e]);return C.useEffect(()=>{ve.logEventWithStatsig("Contextual Answers User Settings Modal Shown","chatgpt_contextual_answers_user_settings_modal_shown")},[]),r!=null&&r.length?g.jsx(tpe,{description:g.jsx(Tt,{id:"yjIap+",defaultMessage:"These connectors are only available to a limited number of users."}),title:g.jsx(Tt,{id:"5C8Bnt",defaultMessage:"Beta connectors"}),children:g.jsx("div",{className:"border-b",children:t?g.jsx("div",{className:"p-2",children:g.jsx(iRe,{lines:4})}):r!=null&&r.length?g.jsx("div",{children:r.map(s=>{var i,o;return g.jsx(npe,{children:g.jsx(lAe,{icon:g.jsx("img",{src:(i=s.connection_display_info.icon_url)!=null?i:"",alt:s.connection_display_info.display_name,className:"icon-lg"}),title:s.connection_display_info.display_name,statusIndicator:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(EDe,{connection:s,location:"user_settings"}),((o=s.user_connection_details)==null?void 0:o.activation_status)!=="inactive"&&g.jsx(TDe,{connection:s,refetch:n})]})})},s.user_connection_details.connection_instance_id)})}):g.jsx("p",{className:"text-token-text-secondary my-2",children:g.jsx(Tt,{id:"nzXh59",defaultMessage:"No connections found."})})})}):null}const ADe=ge($e,"a80240",24,24),wDe=ge($e,"e123bf",24,24),NDe=ge($e,"61f096",24,24),IDe=ge($e,"a72fc9",24,24),Tze=({className:e,contextConnector:t,extension:n})=>{const r=ft(),s=PDe(t,n);return g.jsx("div",{className:"".concat(e," dark:bg-token-main-surface-secondary flex items-center justify-center rounded-md border border-gray-100 bg-gray-50 dark:border-white/10"),children:g.jsx(s,{className:"w-[20px]","aria-label":r.formatMessage({id:"ccc.fileIcon",defaultMessage:"File icon for {contextConnector}"},{contextConnector:t})})})};function PDe(e,t){switch(e){case Te.CONFLUENCE:return jv;case Te.GDRIVE:switch(t){case"doc":case"docx":return qEe;case"xls":case"xlsx":return VEe;case"ppt":case"pptx":return zEe;default:return $c}case Te.JIRA:return Bv;case Te.NOTION_OPEN_CONNECTOR:return Gv;case Te.O365_BUSINESS:case Te.O365_PERSONAL:case Te.O365:switch(t){case"doc":case"docx":return IDe;case"xls":case"xlsx":return wDe;case"ppt":case"pptx":return NDe;default:return ADe}case Te.SLACK_OPEN_CONNECTOR:return ic}}function Oze(e){switch(e){case Te.CONFLUENCE:return jv;case Te.GDRIVE:return $c;case Te.JIRA:return Bv;case Te.NOTION_OPEN_CONNECTOR:return Gv;case Te.O365_PERSONAL:case Te.O365:return I1;case Te.O365_BUSINESS:return NK;case Te.SLACK_OPEN_CONNECTOR:return ic}}var Td={},Rj;function RDe(){if(Rj)return Td;Rj=1,Object.defineProperty(Td,"__esModule",{value:!0});function e(t,n){if(n)return t;throw new Error("Unhandled discriminated union member: "+JSON.stringify(t))}return Td.assertNever=e,Td.default=e,Td}var xDe=RDe();const MDe=$t(xDe),kDe=En({defaultMessage:"Microsoft OneDrive (personal)",id:"ContextConnector.OneDrivePersonal.name"}),LDe=En({defaultMessage:"Microsoft OneDrive (work/school)",id:"ContextConnector.OneDriveBusiness.name"}),Aze=At({includesSharePoint:{id:"ContextConnectorPicker.o365BusinessIncludesSharePoint",defaultMessage:"Includes SharePoint"}});function wze(e,t,n){var r,s;switch(e){case Te.CONFLUENCE:return"Confluence";case Te.GDRIVE:return"Google Drive";case Te.JIRA:return"Jira";case Te.NOTION_OPEN_CONNECTOR:return"Notion";case Te.O365:return n?"OneDrive":"Microsoft OneDrive";case Te.O365_PERSONAL:return n?"OneDrive":(r=t==null?void 0:t.formatMessage(kDe))!=null?r:"Microsoft OneDrive (personal)";case Te.O365_BUSINESS:return n?"Sharepoint":(s=t==null?void 0:t.formatMessage(LDe))!=null?s:"Microsoft OneDrive (work/school)";case Te.SLACK_OPEN_CONNECTOR:return"Slack"}}function DDe(e,t){switch(e){case Te.CONFLUENCE:return"Confluence Page";case Te.GDRIVE:switch(t){case"doc":case"docx":return"Google Docs";case"xls":case"xlsx":return"Google Sheets";case"ppt":case"pptx":return"Google Slides";default:return"Google Drive"}case Te.JIRA:return"Jira Issue";case Te.NOTION_OPEN_CONNECTOR:return"Notion Page";case Te.O365:case Te.O365_PERSONAL:case Te.O365_BUSINESS:switch(t){case"doc":case"docx":return"Microsoft Word";case"xls":case"xlsx":return"Microsoft Excel";case"ppt":case"pptx":return"Microsoft PowerPoint";default:return"Microsoft OneDrive"}case Te.SLACK_OPEN_CONNECTOR:return"Slack"}MDe(e)}function Nze({contextConnector:e,extension:t}){return g.jsx(g.Fragment,{children:DDe(e,t)})}const cR=ct(e=>{const t=_a(e),n=t==null?void 0:t.user,r=cn(e,"1967546325"),s=r.get("gdrivePicker",!1),i=r.get("o365Picker",!1),o=r.get("gdriveLink",!1),a=r.get("o365PersonalLink",!1),c=r.get("o365BusinessLink",!1),l=r.get("testCtor1Link",!1),u=r.get("testCtor2Link",!1),d=r.get("testCtor3Link",!1),f=r.get("oversmokeLink",!1),h=cn(e,"3747383021"),p=Me(e,"3544641259")&&h.get("github",!1),_=r.get("gdrivePercentage",0),m=r.get("o365Percentage",0),y=r.get("testCtor1Percentage",0),v=r.get("testCtor2Percentage",0),O=r.get("testCtor3Percentage",0),S=r.get("oversmokePercentage",0),E=r.get("loadTestPercentage",0),T=r.get("showWorkspaceSettings",!1),A=n?FDe(n.id):null;return{confluenceLinkStatus:vs(l,A,y),gdriveLinkStatus:vs(o,A,_),gdriveStatus:vs(s,A,_),jiraLinkStatus:vs(u,A,v),notionLinkStatus:vs(d,A,O),o365BusinessLinkStatus:vs(c,A,m),o365PersonalLinkStatus:vs(a,A,m),o365Status:vs(i,A,m),slackLinkStatus:vs(f,A,S),githubLinkStatus:vs(p,A,100),loadTest:vs(!0,A,E)==="true",showWorkspaceSettings:T}});function vs(e,t,n){return!e||t==null?"false":t<n?"true":"ifConnected"}function FDe(e){const n=UDe(e)%100;return Math.abs(n)}function UDe(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);t=(t<<5)-t+r,t|=0}return t}const jDe=new Map;function Ize(){const e=ce(),{confluenceLinkStatus:t,gdriveLinkStatus:n,jiraLinkStatus:r,notionLinkStatus:s,o365BusinessLinkStatus:i,o365PersonalLinkStatus:o,slackLinkStatus:a}=cR(e);return lR(n,i,o,t,r,s,a)}function Pze(){const e=ce(),{gdriveStatus:t,o365Status:n}=cR(e);return lR(t,n,n)}function BDe(){const e=ce(),{gdriveStatus:t,o365Status:n,confluenceLinkStatus:r,jiraLinkStatus:s,notionLinkStatus:i,slackLinkStatus:o,githubLinkStatus:a}=cR(e);return lR(t,n,n,a,r,s,i,o)}function lR(e,t,n,r=null,s=null,i=null,o=null,a=null){var se,fe,V,H,ee,z,te;const c=ce(),l=st(c),u=l==null?void 0:l.getWorkspaceId(),d=[Te.GDRIVE,Te.O365_PERSONAL,Te.O365_BUSINESS,...s==="true"||s==="ifConnected"?[Te.CONFLUENCE]:[],...i==="true"||i==="ifConnected"?[Te.JIRA]:[],...o==="true"||o==="ifConnected"?[Te.NOTION_OPEN_CONNECTOR]:[],...a==="true"||a==="ifConnected"?[Te.SLACK_OPEN_CONNECTOR]:[]],{connectors:f,isLoading:h,error:p,refetch:_}=GDe(d),{data:m,isLoading:y,error:v,refetch:O}=iI(u),S=!u||((se=m==null?void 0:m.beta_settings)==null?void 0:se[wo.CONTEXT_CONNECTOR_CONFLUENCE]),E=!u||((fe=m==null?void 0:m.beta_settings)==null?void 0:fe[wo.CONTEXT_CONNECTOR_GDRIVE]),T=!u||((V=m==null?void 0:m.beta_settings)==null?void 0:V[wo.CONTEXT_CONNECTOR_JIRA]),A=!u||((H=m==null?void 0:m.beta_settings)==null?void 0:H[wo.CONTEXT_CONNECTOR_NOTION]),w=!u||((ee=m==null?void 0:m.beta_settings)==null?void 0:ee[wo.CONTEXT_CONNECTOR_O365_PERSONAL]),N=!u||((z=m==null?void 0:m.beta_settings)==null?void 0:z[wo.CONTEXT_CONNECTOR_O365_BUSINESS]),P=!u||((te=m==null?void 0:m.beta_settings)==null?void 0:te[wo.CONTEXT_CONNECTOR_SLACK]),x=f.get(Te.CONFLUENCE),D=f.get(Te.GDRIVE),M=f.get(Te.JIRA),F=f.get(Te.NOTION_OPEN_CONNECTOR),j=f.get(Te.O365_PERSONAL),$=f.get(Te.O365_BUSINESS),q=f.get(Te.SLACK_OPEN_CONNECTOR),k=(Se,he)=>Se==="true"||Se==="ifConnected"&&he,Z=C.useMemo(()=>{var Ne;const Se=!!s&&k(s,!!(x!=null&&x.access_token)),he=!!(D!=null&&D.access_token),oe=k(e,he),be=!!i&&k(i,!!(M!=null&&M.access_token)),ke=!!o&&k(o,!!(F!=null&&F.access_token)),Xe=!!((Ne=j==null?void 0:j.access_token)!=null?Ne:$!=null&&$.access_token),Pe=k(t,Xe),J=k(n,Xe),X=!!a&&k(a,!!(q!=null&&q.access_token)),L=[Se&&x&&S?[Te.CONFLUENCE,x]:null,oe&&D&&E?[Te.GDRIVE,D]:null,be&&M&&T?[Te.JIRA,M]:null,ke&&F&&A?[Te.NOTION_OPEN_CONNECTOR,F]:null,J&&j&&w?[Te.O365_PERSONAL,j]:null,Pe&&$&&N?[Te.O365_BUSINESS,$]:null,X&&q&&P?[Te.SLACK_OPEN_CONNECTOR,q]:null];return new Map(l$(L))},[x,s,D,e,M,i,F,o,$,q,t,j,n,S,a,E,A,T,w,N,P]);let B=null,Q=_;return p?(B=p,Q=_):v&&(B=v,Q=O),{connectorConfig:Z,isLoading:h||y,error:B,refetch:Q}}function GDe(e){const t=!yt(),{data:n,isLoading:r,error:s,refetch:i}=rn({queryKey:["fetchConnectorData",e],queryFn:WDe,refetchInterval:1800*1e3,enabled:!t});return{connectors:C.useMemo(()=>!n||!n.length||s?jDe:new Map(n.map(a=>[a.type,a])),[n,s]),isLoading:r,error:s,refetch:i}}async function WDe({queryKey:e}){const[t,n]=e;let r=null;try{r=await Y.safeGet("/connectors/check",{parameters:{query:{connector_names:n}}})}catch(i){throw K.addAction("Server Error while retrieving context connector entry",{cause:i}),i}return!r||!r.connectors?[]:r.connectors.map(i=>{var u;const l=i,{type:o}=l,a=G(l,["type"]),c=o;if(a.access_token){if(c===Te.O365_PERSONAL)return I(b({type:c},a),{onedrive_endpoint_hint:{type:"personal",baseUrl:"https://onedrive.live.com",parsedUrl:"https://onedrive.live.com/picker"}});if(c===Te.O365_BUSINESS){const d=(u=a.onedrive_business_metadata)==null?void 0:u.base_url;if(d){const f=new URL(d);return I(b({type:c},a),{onedrive_endpoint_hint:{type:"business",baseUrl:d,parsedUrl:"https://".concat(f.hostname,"/_layouts/15/FilePicker.aspx")}})}}}return b({type:c},a)})}const Rze="ChatGPT",xze="Untitled",Mze=10,HDe=50,$De=300,qDe=8e3,kze=12,Lze=300;function VDe(e){return e.resource!==void 0}const Kn={Private:"private",Email:"email",User:"user",Group:"group",WorkspaceLink:"workspace_link",Link:"link"};function Dze(e){return e.type===Yt.EMAIL||e.type===Yt.USER||e.type===Yt.GROUP}function zDe(e){var t,n,r,s,i,o,a,c,l;return{id:e.gizmo.id,instructions:e.gizmo.instructions,name:e.gizmo.display.name,description:(t=e.gizmo.display.description)!=null?t:"",emoji:(n=e.gizmo.display.emoji)!=null?n:void 0,theme:(r=e.gizmo.display.theme)!=null?r:void 0,profilePictureId:(s=e.gizmo.display.profile_pic_id)!=null?s:void 0,profilePictureUrl:(i=e.gizmo.display.profile_picture_url)!=null?i:void 0,promptStarters:(o=e.gizmo.display.prompt_starters)!=null?o:[],tools:rc(e.tools),files:rc(e.files),sharing:YDe(e.gizmo.sharing),trainingDisabled:(a=e.gizmo.training_disabled)!=null?a:!1,memoryScope:(c=e.gizmo.memory_scope)!=null?c:Xi.UNSET,sharingTargets:e.gizmo.sharing_targets.map(XDe),liveVersion:(l=e.gizmo.live_version)!=null?l:0,contextStuffingBudget:e.gizmo.context_stuffing_budget}}function YDe(e){return{subjects:e.subjects.map(t=>{var n;switch(t.type){case Yt.EMAIL:return{type:t.type,user_email:t.user_email,capabilities:t.capabilities};case Yt.USER:return{type:t.type,user_id:t.user_id,capabilities:t.capabilities,user_name:t.user_name,user_email:t.user_email,avatar_url:(n=t.avatar_url)!=null?n:null};case Yt.GROUP:return{type:t.type,group_id:t.group_id,group_name:t.group_name,capabilities:t.capabilities};case Yt.WORKSPACE:return{type:t.type,capabilities:t.capabilities};case Yt.ALL:return{type:t.type,capabilities:t.capabilities}}throw new Error("Unknown subject type")}),recipient:KDe(e.recipient)}}function KDe(e){switch(e){case _t.Group:return Kn.Group;case _t.Link:return Kn.Link;case _t.Marketplace:throw new Error("Marketplace sharing not supported for projects");case _t.Private:return Kn.Private;case _t.User:return Kn.User;case _t.Workspace:throw new Error("Workspace sharing not supported for projects (did you mean WorkspaceLink?)");case _t.WorkspaceLink:return Kn.WorkspaceLink}}function XDe(e){switch(e.recipient){case _t.Group:return{recipient:Kn.Group,allowed:e.allowed,moderated_fields:e.moderated_fields};case _t.Link:return{recipient:Kn.Link,allowed:e.allowed,moderated_fields:e.moderated_fields};case _t.Marketplace:throw new Error("Marketplace sharing not supported for projects");case _t.Private:return{recipient:Kn.Private,allowed:e.allowed,moderated_fields:e.moderated_fields};case _t.User:return{recipient:Kn.User,allowed:e.allowed,moderated_fields:e.moderated_fields};case _t.Workspace:throw new Error("Workspace sharing not supported for projects (did you mean WorkspaceLink?)");case _t.WorkspaceLink:return{recipient:Kn.WorkspaceLink,allowed:e.allowed,moderated_fields:e.moderated_fields}}}const xj=[Yt.EMAIL,Yt.USER,Yt.GROUP,Yt.WORKSPACE,Yt.ALL];function Fze(e){return e.length===0?null:e.reduce((t,n)=>xj.indexOf(n.type)<xj.indexOf(t.type)?t:n,e[0])}function Uze(e,t){if(t==null)return e;function n(r){return typeof r=="object"&&r!=null?Array.isArray(r)?r.map(n):Object.fromEntries(Object.entries(r).map(([s,i])=>[s,n(i)])):r===null?void 0:r}return t=n(t),b(b({},e),t)}var JDe=(e=>(e[e.Loading=0]="Loading",e[e.UploadingProfilePic=1]="UploadingProfilePic",e[e.GeneratingProfilePic=2]="GeneratingProfilePic",e[e.GizmoNameTooLong=3]="GizmoNameTooLong",e[e.GizmoDescriptionTooLong=4]="GizmoDescriptionTooLong",e[e.GizmoInstructionsTooLong=5]="GizmoInstructionsTooLong",e[e.NameEmpty=6]="NameEmpty",e[e.MissingPublicActionPrivacyPolicyURL=7]="MissingPublicActionPrivacyPolicyURL",e[e.MissingCategory=8]="MissingCategory",e))(JDe||{});function jze(e){switch(e){case 0:return"Loading";case 1:return"Uploading profile picture";case 2:return"Generating profile picture";case 3:return"GPT name too long";case 4:return"GPT description too long";case 5:return"GPT instructions too long";case 6:return"GPT name cannot be empty";case 7:return"Public actions require valid privacy policy URLs";case 8:return"Public GPTs must have a category"}}function QDe(e){return e==="link"||e==="marketplace"}function ZDe(e){try{return new URL(e),!0}catch(t){return!1}}function Bze(e,t,n){var a,c,l,u,d,f;const r=e.name.length>HDe,s=((c=(a=e.description)==null?void 0:a.length)!=null?c:0)>$De,i=((u=(l=e.instructions)==null?void 0:l.length)!=null?u:0)>qDe,o=[];if((e==null?void 0:e.name)===""&&o.push(6),r&&o.push(3),s&&o.push(4),i&&o.push(5),t!=null&&QDe(t)){const h=(d=e.tools)==null?void 0:d.filter(p=>p.type===Th.JIT_PLUGIN);for(const p of h){const _=(f=p.metadata)==null?void 0:f.privacy_policy_url;if(_==null||!ZDe(_)){o.push(7);break}}}return t===_t.Marketplace&&n==null&&o.push(8),o}const Gze={id:void 0,instructions:"",name:"",description:"",emoji:void 0,theme:void 0,profilePictureId:void 0,profilePictureUrl:void 0,promptStarters:[],sharing:{recipient:_t.Private,subjects:[]},tools:[{type:Th.DALLE}],files:[],defaultModel:null,trainingDisabled:!1,liveVersion:0,contextStuffingBudget:null,firstPartyProjectType:null},e3e={id:void 0,instructions:"",name:"",description:"",emoji:void 0,theme:void 0,profilePictureId:void 0,profilePictureUrl:void 0,promptStarters:[],sharing:{recipient:Kn.Private,subjects:[]},tools:[{type:Th.DALLE}],files:[],defaultModel:null,trainingDisabled:!1,liveVersion:0,contextStuffingBudget:null},Wze=At({instructionsWarning:{id:"gizmo.instructionsWarning",defaultMessage:"Conversations with your GPT can potentially include part or all of the instructions provided."}}),t3e=5,rg=new Set;class Oa{static listConnectorScopes(t,n,r){return Y.safeGet("/projects/{project_id}/connector_scopes",{parameters:{path:{project_id:t},query:b({limit:n},r?{cursor:r}:{})}})}static syncConnectorScope(t,n){return Y.safePost("/projects/{project_id}/connector_scopes/{scope_id}/sync",{parameters:{path:{project_id:t,scope_id:n}}})}static upsert(t){return Y.safePost("/gizmos/snorlax/upsert",{requestBody:t})}static addHealthGoals(t,n){return Y.safePost("/gizmos/snorlax/{gizmo_id}/health-goals",{parameters:{path:{gizmo_id:t}},requestBody:{health_goals:n}})}static getSnorlaxSidebar(t=null){return Ye.get("".concat(Ve,"/gizmos/snorlax/sidebar"),{params:I(b({},t?{cursor:t}:{}),{conversations_per_gizmo:"0",owned_only:"true",limit:"".concat(x1)})})}static async getSnorlaxHistory(t=null){const n=[];let r=t,s=0;for(;s<15;){s++;const i=await Ye.get("".concat(Ve,"/gizmos/snorlax/sidebar"),{params:b({conversations_per_gizmo:"".concat(t3e),owned_only:"true"},r?{cursor:r}:{})});if(n.push(...i.items),r=i.cursor,n.length>x1||!r)break;s===5&&xn.count(bn.DEFAULT,"projects.history.empty.load_more_5"),s===10&&xn.count(bn.DEFAULT,"projects.history.empty.load_more_10")}return r&&n.length===0&&xn.count(bn.DEFAULT,"projects.history.empty.load_more_15"),{items:n,cursor:r}}static async fetchSnorlaxHistory(t=null,n){const r=await this.getSnorlaxHistory(t);K.addFirstTiming("load.snorlaxHistory");const{items:s}=r;s.forEach(o=>{const a=o.gizmo.gizmo.id;n.setQueryData(_n(n,a).queryKey,c=>{if(!c)return o.gizmo}),n.setQueryData([As,{gizmoId:a}],c=>{if(!c)return rg.add(a),{pages:[o.conversations],pageParams:[]}})});const i=s.map(o=>({gizmo:o.gizmo}));return I(b({},r),{items:i})}static delete(t){return Y.safeDelete("/gizmos/{gizmo_id}",{parameters:{path:{gizmo_id:t}}})}static join(t){return Y.safePost("/gizmos/snorlax/join",{parameters:{query:{gizmo_id:t}}})}static decline(t){return Y.safePost("/gizmos/snorlax/decline",{requestBody:{project_id:t}})}static leave(t){return Y.safePost("/gizmos/snorlax/leave",{requestBody:t})}static createConnectorScope(t,n,r){return Y.safePost("/projects/{project_id}/connector_scopes",{parameters:{path:{project_id:t}},requestBody:{connector_type:r,original_url:n}})}static deleteConnectorScope(t,n){return Y.safeDelete("/projects/{project_id}/connector_scopes/{scope_id}",{parameters:{path:{project_id:t,scope_id:n}}})}}const n3e="snorlax-connector-scopes",Mj=100,r3e=e=>[n3e,{projectId:e}];function s3e({projectId:e,enabled:t=!0}){return ln({queryKey:r3e(e),queryFn:async()=>{const n=await Oa.listConnectorScopes(e,Mj);return n.cursor!=null&&Ac.warn("Cursor returned from connector scopes list request, pagination not implemented",{projectId:e,CONNECTOR_SCOPES_LIMIT:Mj}),n},enabled:t})}const uR=At({newChatInProject:{id:"proj-new-chat-placeholder",defaultMessage:"New chat in {projectName}"},emptyFileInstructions:{id:"si7jJz",defaultMessage:"Add documents, code files, images, and more. {gizmoNameText} can access their contents when you chat inside the project."},emptyFileGizmoName:{id:"xr5T2P",defaultMessage:"{gizmoName}"},moveConversationToProject:{id:"M97tb/",defaultMessage:"Move to project"},moveConversationToNamedProject:{id:"OA1Ljx",defaultMessage:"Move to {projectName}"},removeConversationFromProject:{id:"xSI3aZ",defaultMessage:"Remove from {projectName}"},moveConversation:{id:"GM4pWN",defaultMessage:"Move this conversation"},moveConversationConfirmationBody:{id:"snorlax.moveConversationConfirmationBody",defaultMessage:"Moving a conversation also moves its supporting context and project settings (like custom instructions), plus file details, citations, and app/browser context."},moveConversationToProjectError:{id:"mA7nfR",defaultMessage:"Failed to move the conversation to the project"},newProjectButton:{id:"2qkMU1",defaultMessage:"New project"},newProjectButtonWithNoProjects:{id:"nL/Xy7",defaultMessage:"Projects"},nameTooLong:{id:"feWA6K",defaultMessage:"Project names cannot be longer than {length} characters."},createProjectDisabledByAdmin:{id:"WosQBt",defaultMessage:"Create project is disabled by your admin"},createProjectSubmit:{id:"AHBOEO",defaultMessage:"Create project"},createProjectCancel:{id:"DxU9sm",defaultMessage:"Cancel"},projectNameLabel:{id:"aBtY0G",defaultMessage:"Project name"},projectNameDescription:{id:"NQrF3x",defaultMessage:"Give your project a name"},projectNamePlaceholder:{id:"XS7JR8",defaultMessage:"E.g. Birthday Party Planning"},newChatProjectDropdownItem:{id:"MutDla",defaultMessage:"New chat in {name}"},cancel:{id:"iz2OBQ",defaultMessage:"Cancel"},save:{id:"gTdsTU",defaultMessage:"Save"},removeFile:{id:"COAUqx",defaultMessage:"Remove file"},customInstructionsTitle:{id:"K7k/ns",defaultMessage:"Add instructions"},customInstructionsReadOnlyTitle:{id:"DC+Brl",defaultMessage:"Instructions not yet added"},customInstructionsDescription:{id:"mpKjkc",defaultMessage:"Tailor the way ChatGPT responds in this project"},customInstructionsReadOnlyDescription:{id:"lTa/PV",defaultMessage:"When a project owner or editor adds instructions, ChatGPT will tailor its responses"},filesCount:{id:"XKCsL9",defaultMessage:"{count} {count, plural, one {file} other {files}}"},sourcesCount:{id:"RWkolV",defaultMessage:"{count} {count, plural, one {source} other {sources}}"},interpreterOnlyLabel:{id:"/Bdw7C",defaultMessage:"File contents may not be accessible"},defaultColor:{id:"1nrbk9",defaultMessage:"Default color"},editColor:{id:"2r5j3V",defaultMessage:"Edit color"},editCustomInstructionsTitle:{id:"nedukh",defaultMessage:"Instructions"},editCustomInstructionsSubtitle:{id:"NgP+hF",defaultMessage:"How can ChatGPT best help you with this project?"},readOnlyCustomInstructionsTitle:{id:"kK/uLW",defaultMessage:"Custom instructions for ChatGPT to best help with this project"},editCustomInstructionsDescription:{id:"PNY7g9",defaultMessage:"You can ask ChatGPT to focus on certain topics, or ask it to use a certain tone or format for responses."},addInstructionsDropdownLabel:{id:"ArKRrM",defaultMessage:"Add instructions"},editInstructionsDropdownLabel:{id:"p3KE0Q",defaultMessage:"Edit instructions"},viewOnlyInstructionsDropdownLabel:{id:"wAT0FX",defaultMessage:"View instructions"},viewOnlyCustomInstructionsModalHeaderLabel:{id:"Kd53xN",defaultMessage:"View-only"},viewOnlyCustomInstructionsModalHeaderTooltip:{id:"hN4/oD",defaultMessage:"You can only chat in this project."},searchingProjectContext:{id:"oFO3zj",defaultMessage:"Searching project context"},addAction:{id:"vTkTuN",defaultMessage:"Add Action"},editActions:{id:"Lx3frs",defaultMessage:"Edit Actions"},addCustomInstructions:{id:"rEdrLS",defaultMessage:"Add custom instructions"},instructionsTooLong:{id:"hwBx62",defaultMessage:"Project instructions cannot be longer than {length} characters."},dragInstructions:{id:"yA3Jxu",defaultMessage:"Add anything"},dragAllAccepted:{id:"CJNN+O",defaultMessage:"Drop any file here to add it to the project"},dragTooManyFiles:{id:"O2Xr4P",defaultMessage:"Too many files"},unknownError:{id:"Eu2Hdz",defaultMessage:"Unknown error occurred"},dragTooManyFilesError:{id:"FJ8M/t",defaultMessage:"Error uploading: Projects can't contain more than {maxFileLimit} files"},dragTooManyFilesDescription:{id:"ZFLPRQ",defaultMessage:"Projects can't contain more than {maxFileLimit} files"},filesThatCanBeReferenced:{id:"0mQnwH",defaultMessage:"Add documents, code files, images, and more. {projectName} can access their contents when you chat inside the project."},projectFilesModalTitle:{id:"o6Ozbv",defaultMessage:"Project files"},addFilesButtonLabel:{id:"yMVX4l",defaultMessage:"Add files"},addButtonLabel:{id:"esi0g5",defaultMessage:"Add"},addFilesAndPhotos:{id:"FTI21I",defaultMessage:"Add files & photos"},viewFilesButtonLabel:{id:"2lu9im",defaultMessage:"Files not yet added"},filesControlDescription:{id:"Y/Z2lM",defaultMessage:"Chats in this project can access file content"},projectCopyInProgressBanner:{id:"R1WXsJ",defaultMessage:"Your chats are still being copied and will appear here shortly."},noFilesReadOnlyDescription:{id:"HNxajn",defaultMessage:"When a project owner or editor adds files to this project, chats can access their contents"},projectDetailsSectionLabel:{id:"9y2Kag",defaultMessage:"Details"},hideProjectDetailsTooltip:{id:"Ar0X7X",defaultMessage:"Hide project details"},showProjectDetailsTooltip:{id:"a8ust8",defaultMessage:"Show project details"},showProjectDetailsButton:{id:"ni4Lkt",defaultMessage:"Show project details"},projectsHeading:{id:"GHFgIA",defaultMessage:"Projects"},seeMoreProjectItems:{id:"znMnZ9",defaultMessage:"See more"},emptyChatsInProjectTitle:{id:"BzycLE",defaultMessage:"Start a new chat, or drag an old one in"},chatsInProjectTitle:{id:"jgAOuP",defaultMessage:"Chats in this project"},projectSettingsSubmitButton:{id:"TayvQF",defaultMessage:"Save"},loadingProjects:{id:"oKi2Bo",defaultMessage:"Loading projects"},seeAllChats:{id:"PwRmke",defaultMessage:"See All"},newChatTitle:{id:"m3Az3N",defaultMessage:"New chat"},unableToLoadHistory:{id:"tQ7WMF",defaultMessage:"Unable to load projects"},retryLoadingHistory:{id:"IoImQ5",defaultMessage:"Retry"},showProjectDetailsDropdown:{id:"LUjGtd",defaultMessage:"Show project details"},deleteProjectModalTitle:{id:"pPgHKT",defaultMessage:"Delete project?"},deleteProjectModalButton:{id:"w2DKG5",defaultMessage:"Delete"},cancelDeleteProjectModalButton:{id:"E7RoUe",defaultMessage:"Cancel"},deleteProjectModalDescription:{id:"Vl4p9p",defaultMessage:"<bold>This will permanently delete all project files and chats.</bold> To save chats, move them to your chat list or another project before deleting."},deleteProjectDropdownButton:{id:"dD0vWg",defaultMessage:"Delete project"},deleteProjectFailedToast:{id:"KAw2h3",defaultMessage:"Failed to delete project. Please try again."},leaveProjectDropdownButton:{id:"FCEK0r",defaultMessage:"Leave project"},reportProjectButtonLabel:{id:"snorlax.project.reportButton",defaultMessage:"Report project"},leaveProjectModalTitle:{id:"VTNOvq",defaultMessage:"Leave {projectName}?"},leaveProjectModalButton:{id:"YZjX2E",defaultMessage:"Leave"},cancelLeaveProjectModalButton:{id:"56ATCt",defaultMessage:"Cancel"},leaveProjectModalDescription:{id:"80hv7n",defaultMessage:"<bold>You'll lose access to all project content, including your chats.</bold> To keep your chats, save a copy by checking the box below or move them to your chat list or another project before leaving."},leaveProjectModalDescriptionNoChats:{id:"snorlax.leaveProjectModalDescriptionNoChats",defaultMessage:"You'll lose access to all project content."},leaveProjectSaveCopyLabel:{id:"emsuo1",defaultMessage:"Save a copy of my chats"},leaveProjectSaveCopyDescription:{id:"iwhK/O",defaultMessage:"A copy of this project will be made with only your chats. This can take a few minutes."},leaveProjectFailedToast:{id:"w6BO+i",defaultMessage:"Failed to leave project. Please try again."},projectInstructionsPlaceholder:{id:"w/NZvS",defaultMessage:"e.g. â€œRespond in Spanish. Reference the latest JavaScript documentation. Keep answers short and focused.â€"},newProjectButtonTooltip:{id:"oh2NTp",defaultMessage:"New project"},projectSettings:{id:"snorlax.edit-actions.project-settings",defaultMessage:"Project settings"},editProjectNameDropdownButton:{defaultMessage:"Rename project",id:"snorlax.edit-actions.rename-project"},hideChatsForProjectTooltip:{id:"ZjBLTY",defaultMessage:"Hide chats"},projectHelperBoxTitle:{id:"QIriII",defaultMessage:"What's a project?"},projectHelperBoxDescription:{id:"QEsg2b",defaultMessage:"Projects keep chats, files, and custom instructions in one place. Use them for ongoing work, or just to keep things tidy."},projectsNuxTooltipTitle:{id:"Ub7Cl2",defaultMessage:"Introducing projects"},projectsUpdateTooltipTitle:{id:"OyZXt4",defaultMessage:"Projects can do more"},projectsToFreeTitle:{id:"mWKZ6S",defaultMessage:"New"},projectsNuxTooltipDescription:{id:"aLohnf",defaultMessage:"Keep chats, files, and custom instructions all in one place. Ideal for organizing work or shaping big ideas."},projectsUpdateTooltipDescription:{id:"ZzivYc",defaultMessage:"Now you can run deep research and use voice mode within your projects."},projectShareButton:{id:"Sc1ypd",defaultMessage:"Share"},firstPartyProjectShareForbidden:{id:"ABFn5a",defaultMessage:"Default projects cannot be shared."},projectShareTitle:{id:"Rpn+8/",defaultMessage:"Share {projectName}"},projectShareChatTitle:{id:"YgsrLO",defaultMessage:"Share link to chat"},shareProjectExternalInviteNonMemberTooltip:{id:"snorlax.shareProjectExternalInviteNonMemberTooltip",defaultMessage:"This user is not a member of this workspace"},shareProjectExternalInviteBlockedTooltip:{id:"snorlax.shareProjectExternalInviteBlockedTooltip",defaultMessage:"You can't invite this email"},shareProjectPermissionCanEdit:{id:"snorlax.shareProjectPermissionCanEdit",defaultMessage:"Can edit"},shareProjectPermissionCanChat:{id:"snorlax.shareProjectPermissionCanChat",defaultMessage:"Can chat"},shareProjectPermissionUnknown:{id:"snorlax.shareProjectPermissionUnknown",defaultMessage:"Unknown"},shareProjectPermissionEditDescription:{id:"snorlax.shareProjectPermissionEditDescription",defaultMessage:"Chat and edit project content"},shareProjectPermissionViewDescription:{id:"snorlax.shareProjectPermissionViewDescription",defaultMessage:"Chat and view project content"},shareProjectGroupMembersCount:{id:"snorlax.shareProjectGroupMembersCount",defaultMessage:"{numMembers, plural, one {1 member} other {# members}}"},shareProjectSearchPeopleOrGroups:{id:"snorlax.shareProjectSearchPeopleOrGroups",defaultMessage:"Search people or groups"},shareProjectSearchPeopleGroupsOrEmail:{id:"snorlax.shareProjectSearchPeopleGroupsOrEmail",defaultMessage:"Search people, groups, or enter an email"},shareProjectInviteEmailOption:{id:"snorlax.shareProjectInviteEmailOption",defaultMessage:'Invite "{email}"'},shareProjectInviteEmailPressEnter:{id:"snorlax.shareProjectInviteEmailPressEnter",defaultMessage:"Press enter to invite this email"},shareProjectMismatchedDomainWarning:{id:"snorlax.shareProjectMismatchedDomainWarning",defaultMessage:"Enter an email address with the {domain} domain."},shareProjectEnterEmailNoOptions:{id:"snorlax.shareProjectEnterEmailNoOptions",defaultMessage:"Enter an email to invite people outside of your workspace"},shareProjectMemberAlreadyAdded:{id:"snorlax.shareProjectMemberAlreadyAdded",defaultMessage:"That person is already added"},shareProjectFreeWorkspaceDomainRestriction:{id:"snorlax.shareProjectFreeWorkspaceDomainRestriction",defaultMessage:"Free workspaces can only invite users whose email domain matches the workspace owner's email domain."},shareOutsideWorkspaceTitle:{id:"snorlax.shareOutsideWorkspaceTitle",defaultMessage:"Invite users to workspace?"},shareOutsideWorkspaceSummarySingle:{id:"snorlax.shareOutsideWorkspaceSummarySingle",defaultMessage:"{invitee} isnâ€™t in this workspace yet. Theyâ€™ll need to join before they can join this project."},shareOutsideWorkspaceSummaryMultiple:{id:"snorlax.shareOutsideWorkspaceSummaryMultiple",defaultMessage:"{firstInvitee} and {others} arenâ€™t in this workspace yet. Theyâ€™ll need to join before they can join this project."},shareOutsideWorkspaceSummaryFallback:{id:"snorlax.shareOutsideWorkspaceSummaryFallback",defaultMessage:"{inviteeGroup} arenâ€™t in this workspace yet. Theyâ€™ll need to join before they can join this project."},shareOutsideWorkspaceDefaultSummarySubject:{id:"snorlax.shareOutsideWorkspaceDefaultSummarySubject",defaultMessage:"These users"},shareOutsideWorkspaceInviteAfter:{id:"snorlax.shareOutsideWorkspaceInviteAfter",defaultMessage:"You can invite them to this project after they are added."},shareOutsideWorkspaceOthersLabel:{id:"snorlax.shareOutsideWorkspaceOthersLabel",defaultMessage:"{count, plural, one {# other} other {# others}}"},shareOutsideWorkspaceSendButton:{id:"snorlax.shareOutsideWorkspaceSendButton",defaultMessage:"{count, plural, one {Send workspace invite} other {Send workspace invites}}"},shareOutsideWorkspaceCancelButton:{id:"snorlax.shareOutsideWorkspaceCancelButton",defaultMessage:"Cancel"},shareOutsideWorkspaceSuccessTitle:{id:"snorlax.shareOutsideWorkspaceSuccessTitle",defaultMessage:"Invite sent"},shareOutsideWorkspaceSuccessBody:{id:"snorlax.shareOutsideWorkspaceSuccessBody",defaultMessage:"{count, plural, one {You have successfully invited <bold># user</bold> to {workspaceName}. You can invite them to this project after they join.} other {You have successfully invited <bold># users</bold> to {workspaceName}. You can invite them to this project after they join.}}"},shareOutsideWorkspaceSuccessButton:{id:"snorlax.shareOutsideWorkspaceSuccessButton",defaultMessage:"Done"},shareOutsideWorkspaceErrorTitle:{id:"snorlax.shareOutsideWorkspaceErrorTitle",defaultMessage:"Invite failed"},shareOutsideWorkspaceErrorBody:{id:"snorlax.shareOutsideWorkspaceErrorBody",defaultMessage:"There was an error inviting members to your workspace. Try again later."},shareProjectEmailPlaceholder:{id:"snorlax.shareProjectEmailPlaceholder",defaultMessage:"Email, separated by commas"},showChatsForProjectTooltip:{id:"FcBR2j",defaultMessage:"Show chats"},projectFileRateLimitBannerTitle:{id:"ghJIms",defaultMessage:"File limit reached"},projectFileRateLimitBannerPlusDescription:{id:"WOJ2H5",defaultMessage:"You can add up to {freeFileLimit} files on the free plan. Upgrade to plus to add {paidFileLimit} files."},projectFileRateLimitBannerProDescription:{id:"jXcJWN",defaultMessage:"You can add up to {paidFileLimit} files on the {planType} plan. Upgrade to pro to add {proFileLimit} files."},upgradeToPlus:{id:"ZO/XN9",defaultMessage:"Upgrade plan"},projectJoinModalWithCreatorTitle:{id:"q1fGPT",defaultMessage:"{projectCreator} invited you to join the project"},projectJoinModalWithoutCreatorTitle:{id:"j9rPp1",defaultMessage:"You've been invited to join the project"},membersCount:{id:"seSpmx",defaultMessage:"{count} {count, plural, one {member} other {members}}"},joinProjectButtonLabel:{id:"71Z5aG",defaultMessage:"Join project"},declineInviteButtonLabel:{id:"GSiZxu",defaultMessage:"Decline"}}),Hze=At({connectorScopeGoogleDriveLabel:{id:"snorlax-file-control.connectorScopeGoogleDriveLabel",defaultMessage:"Google Drive"},connectorScopeGoogleDriveFileLabel:{id:"snorlax-file-control.connectorScopeGoogleDriveFileLabel",defaultMessage:"Google Drive File"},connectorScopeGoogleDriveFolderLabel:{id:"snorlax-file-control.connectorScopeGoogleDriveFolderLabel",defaultMessage:"Google Drive Folder"},connectorScopesLoadingLabel:{id:"snorlax-file-control.connectorScopesLoadingLabel",defaultMessage:"Loading connected sourcesâ€¦"},connectorScopeSlackLabel:{id:"snorlax-file-control.connectorScopeSlackLabel",defaultMessage:"Slack Channel"},connectorScopeDeleteErrorToast:{id:"snorlax-file-control.connectorScopeDeleteErrorToast",defaultMessage:"We couldn't remove that link. Try again."},connectorScopeSyncButton:{id:"snorlax-file-control.connectorScopeSyncButton",defaultMessage:"Sync"},connectorScopeSyncSuccess:{id:"snorlax-file-control.connectorScopeSyncSuccess",defaultMessage:"Started syncing {connectorName}"},connectorScopeSyncErrorFallback:{id:"snorlax-file-control.connectorScopeSyncErrorFallback",defaultMessage:"We couldn't start the sync. Please try again."},connectorScopeUnknownLabel:{id:"snorlax-file-control.connectorScopeUnknownLabel",defaultMessage:"Connected source"}}),$ze=At({connectorSyncStatusRunning:{id:"snorlax-file-control.connectorSyncStatusRunning",defaultMessage:"Syncing"},connectorSyncStatusCompleted:{id:"snorlax-file-control.connectorSyncStatusCompleted",defaultMessage:"Synced"},connectorSyncStatusCompletedWithTime:{id:"snorlax-file-control.connectorSyncStatusCompletedWithTime",defaultMessage:"Last synced at {lastSyncedAt}"},connectorSyncStatusFailed:{id:"snorlax-file-control.connectorSyncStatusFailed",defaultMessage:"Sync failed"},connectorSyncStatusNotSynced:{id:"snorlax-file-control.connectorSyncStatusNotSynced",defaultMessage:"Not synced"},connectorSyncStatusPartial:{id:"snorlax-file-control.connectorSyncStatusPartial",defaultMessage:"Partial sync"}}),qze=At({connectorScopeDivider:{id:"snorlax-file-control.connectorScopeDivider",defaultMessage:"Â·"}}),lw="_tm",hf="_m";var dR=(e=>(e.SHARE_NOT_FOUND="share_not_found",e.SHARED_POST_NOT_FOUND="shared_post_not_found",e.GIZMO_NOT_FOUND="gizmo_not_found",e.PROJECT_NOT_FOUND="project_not_found",e.NO_ACCESS="no_access",e.OAUTH_SUCCESS="oauth_success",e.OAUTH_FAILED_GENERIC="oauth_failed_generic",e.OAUTH_FAILED_SCOPE_MISMATCH="oauth_failed_scope_mismatch",e.OAUTH_FAILED_EMAIL_DOMAIN_ENFORCEMENT="oauth_failed_email_domain_enforcement",e.CUSTOM_ERROR="c_err",e.CUSTOM_MSG="c_msg",e.ACCOUNT_TRANSFER_ERROR="account_transfer_error",e.MFA_ENABLED="mfa_enabled",e.PASSKEY_CREATED="passkey_created",e.ENABLE_MFA_ERROR="enable_mfa_error",e.ENABLE_MFA_EMAIL_REQUIRED="enable_mfa_email_required",e.DISABLE_MFA_SUCCESS="disable_mfa_success",e.DISABLE_MFA_TIMEOUT="disable_mfa_timeout",e.CANVAS_NOT_FOUND="canvas_not_found",e))(dR||{});function WK(e,t="/",n){const r=typeof window<"u",s=new URL(t,r?window.location.origin:window.location.origin);return s.searchParams.set(lw,e),(e==="c_err"||e==="c_msg")&&(n?s.searchParams.set(hf,n):s.searchParams.set(hf,"An error has occurred")),s.pathname+s.search+s.hash}function i3e(){const[e]=Yc(),{pathname:t,hash:n}=nn(),r=co(),s=ft(),i=Hn();C.useEffect(()=>{const o=e.get(lw);if(o!==void 0){const a=(c,l,u,d,f)=>{const h=typeof c=="string"?c:s.formatMessage(c);i[d](h,{id:l,duration:u,hasCloseButton:f});const p=new URLSearchParams(e);p.delete(lw),p.delete(hf),r({search:"?".concat(p.toString()),hash:n},{replace:!0})};switch(o){case"share_not_found":K.addAction("global_toast.conversation_inaccessible",{path:t}),a(Tr.conversationInaccessible,"share_not_found",10,"warning",!0);break;case"shared_post_not_found":a(Tr.sharedPostNotFound,"shared_post_not_found",10,"warning",!0);break;case"gizmo_not_found":a(Tr.gizmoNotFound,"gizmo_not_found",10,"warning",!0);break;case"project_not_found":a(Tr.projectNotFound,"project_not_found",10,"warning",!0);break;case"no_access":a(Tr.noAccess,"no_access",5,"warning",!0);break;case"oauth_success":a(Tr.oauthSuccess,"oauth_success",5,"success",!0);break;case"oauth_failed_generic":a(Tr.oauthFailedGeneric,"oauth_failed_generic",5,"warning",!0);break;case"oauth_failed_scope_mismatch":a(Tr.oauthFailedScopeMismatch,"oauth_failed_scope_mismatch",5,"warning",!0);break;case"oauth_failed_email_domain_enforcement":a(Tr.oauthFailedEmailDomainEnforcement,"oauth_failed_email_domain_enforcement",5,"warning",!0);break;case"c_msg":a(e.get(hf),"c_msg",10,"success",!0);break;case"c_err":a(e.get(hf),"c_err",5,"warning",!0);break;case"account_transfer_error":a({id:"globalToasts.accountTransferError",defaultMessage:"Error transferring account. To retry, go to Settings â†’ Merge.",description:"Error when unable to transfer their personal account to the workspace"},"account_transfer_error",5,"warning",!0);break;case"mfa_enabled":a({id:"enableMfa.success",defaultMessage:"Multi-factor authentication enabled",description:"Confirmation toast after an MFA enable action is successfully executed"},"mfa_enabled",5,"success",!0);break;case"passkey_created":a({id:"passkey.create.success",defaultMessage:"Passkey created",description:"Confirmation toast shown after a passkey is successfully created"},"passkey_created",5,"success",!0);break;case"enable_mfa_error":a({id:"enrollMfa.failure",defaultMessage:"Error occurred. Please try again.",description:"Error toast after MFA token request failed"},"enable_mfa_error",5,"warning",!0);break;case"enable_mfa_email_required":a(Tr.enableMfaEmailRequired,"enable_mfa_email_required",5,"warning",!0);break;case"disable_mfa_success":a(Tr.disableMfaSuccess,"disable_mfa_success",5,"success",!0);break;case"disable_mfa_timeout":a(Tr.disableMfaTimeout,"disable_mfa_timeout",5,"warning",!0);break;case"canvas_not_found":a(Tr.canvasNotFound,"canvas_not_found",5,"warning",!1);break}}},[s,i,t,e,r,n])}const Tr=At({conversationInaccessible:{id:"globalToasts.conversationInaccessible",defaultMessage:"Conversation inaccessible or not found. You may need to switch accounts or request access if this conversation exists."},sharedPostNotFound:{id:"globalToasts.sharedPostNotFound",defaultMessage:"This share is inaccessible or not found."},gizmoNotFound:{id:"globalToasts.gizmoNotFound",defaultMessage:"This GPT is inaccessible or not found. Ensure you're using the right account."},projectNotFound:{id:"globalToasts.projectNotFound",defaultMessage:"This project is inaccessible or not found. Ensure you're using the right account."},noAccess:{id:"globalToasts.noAccess",defaultMessage:"You do not currently have access to this feature"},oauthSuccess:{id:"globalToasts.oauthSuccess",defaultMessage:"Your account is now connected"},oauthFailedGeneric:{id:"globalToasts.oauthFailedGeneric",defaultMessage:"Something went wrong with setting up the connection"},oauthFailedScopeMismatch:{id:"globalToasts.oauthFailedScopeMismatch",defaultMessage:"Not all requested permissions were granted"},oauthFailedEmailDomainEnforcement:{id:"globalToasts.oauthFailedEmailDomainEnforcement",defaultMessage:"Your company has an enterprise workspace that manages connector access. Contact your enterprise admin to get access."},enableMfaEmailRequired:{id:"enableMfa.emailRequired",defaultMessage:"Add an email address to your account to set up multi-factor authentication."},disableMfaSuccess:{id:"disableMfa.success",defaultMessage:"Multi-factor authentication disabled"},disableMfaTimeout:{id:"disableMfa.timeout",defaultMessage:"Your last log in was too long ago, please try again"},canvasNotFound:{id:"canvasNotFound",defaultMessage:"This canvas is inaccessible or not found. Ensure you are logged in, verify youâ€™re in the correct ChatGPT.com workspace, or request access if you believe you should have it, if it exists."}}),xr="snorlax-history",pf="NEW_SNORLAX_KEY",o3e="snorlax-history",a3e=1,Vze=Ie(e=>qt(e,()=>ln({queryKey:["snorlax","recent",{limit:x1}],queryFn:()=>Oa.getSnorlaxSidebar(),enabled:Me(e,"491279851")})));function HK(e,t){return{mutationFn:async({update:n,id:r})=>{var A,w,N,P;if(!r)throw new Error("No gizmo ID found for upsert");let s,i;if(r===pf)s=e3e;else{if(i=t.getQueryData(_n(t,r,!1).queryKey),i||(i=await Ht.getGizmo(r,!1)),!i)throw new Error("No existing gizmo resource found for upsert");s=zDe(i)}const o=typeof n=="function"?n(s):b(b({},s),n);if(f9(o,s))return{id:r};const{id:a,instructions:c,name:l,description:u,emoji:d,theme:f,profilePictureId:h,profilePictureUrl:p,promptStarters:_,files:m,sharing:y,trainingDisabled:v}=o;if(((w=(A=i==null?void 0:i.gizmo)==null?void 0:A.gizmo_snorlax_type)!=null?w:null)&&y.subjects.length>0)throw new Error(uR.firstPartyProjectShareForbidden.defaultMessage);if(a!==r&&r!==pf)throw new Error("Error updating project. ID mismatch");const S=(N=o.memoryScope)!=null?N:Xi.UNSET,E={gizmo_id:r!==pf?r:void 0,instructions:c,display:{name:l,description:u,emoji:d,theme:f,profile_pic_id:h,profile_picture_url:p,prompt_starters:_},tools:[],memory_scope:S,files:m.map(x=>I(b({},x),{location:xI.FILE_SERVICE})),training_disabled:v,sharing:[...y.subjects.some(x=>!SSe(x))?[]:[{type:_t.Private,capabilities:U7}],...y.subjects.map(l3e)],categories:void 0},T=await Oa.upsert(E);if(T.error)throw new j7;return{id:(P=T.resource)==null?void 0:P.gizmo.id,resource:T.resource}},scope:{id:"snorlax"},onSettled:n=>{n!=null&&n.resource&&(t.setQueryData(_n(t,n.resource.gizmo.id,!1).queryKey,n.resource),kI(e,n.resource)||t.setQueryData([xr],$K({gizmo:n.resource}))),sp(t)}}}function zze(){const e=ce(),t=Kt();return tn(HK(e,t))}function $K(e){const t={items:[e],cursor:null};return n=>n?I(b({},n),{pages:n.pages.map((r,s)=>s===0?I(b({},r),{items:[e,...r.items.filter(i=>i.gizmo.gizmo.id!==e.gizmo.gizmo.id)]}):I(b({},r),{items:r.items.filter(i=>i.gizmo.gizmo.id!==e.gizmo.gizmo.id)}))}):{pages:[t],pageParams:[]}}const c3e={[Yt.EMAIL]:Kn.Email,[Yt.USER]:Kn.User,[Yt.GROUP]:Kn.Group,[Yt.WORKSPACE]:Kn.WorkspaceLink,[Yt.ALL]:Kn.Link};function l3e(e){const t=c3e[e.type];if(!t)throw new Error("Unknown sharing subject type: "+e.type);return I(b({},e),{type:t})}function Yze(e=null){const t=ce(),n=B7(t),r=Kt(),s=Lv(o3e,a3e,[xr]),{data:i,fetchNextPage:o,hasNextPage:a,isLoading:c,isFetchingNextPage:l,isError:u,refetch:d}=zc({queryKey:[xr],queryFn:async({pageParam:h})=>Oa.fetchSnorlaxHistory(h,r),initialPageParam:e,getNextPageParam:h=>{var p;return(p=h.cursor)!=null?p:void 0},enabled:n,placeholderData:s});return{snorlaxes:C.useMemo(()=>{var h;return(h=i==null?void 0:i.pages.flatMap(p=>p.items))!=null?h:[]},[i]),data:i,fetchNextPage:o,hasNextPage:a,refetch:d,isLoading:c,isFetchingNextPage:l,isError:u}}function Kze(e){"use forget";const t=W.c(4),n=Kt();let r,s;t[0]!==e||t[1]!==n?(r=()=>{rg.has(e)&&(n.invalidateQueries({queryKey:qK(e)}),rg.delete(e))},s=[e,n],t[0]=e,t[1]=n,t[2]=r,t[3]=s):(r=t[2],s=t[3]),C.useEffect(r,s)}function qK(e){return[As,{gizmoId:e}]}function VK(e){return fG({queryKey:qK(e),queryFn:async({pageParam:t})=>(rg.delete(e),await Ht.getProjectConversations(e,t)),enabled:Qs(e),initialPageParam:"0",getNextPageParam:t=>{var n;return(n=t.cursor)!=null?n:void 0}})}function Xze(e){const{data:t,fetchNextPage:n,hasNextPage:r,isLoading:s,isPending:i,isFetchingNextPage:o,isError:a,isFetching:c,refetch:l}=zc(VK(e));return{items:C.useMemo(()=>{var d;return(d=t==null?void 0:t.pages.flatMap(f=>f.items))!=null?d:[]},[t]),data:t,fetchNextPage:n,hasNextPage:r,refetch:l,isLoading:s,isPending:i,isFetching:c,isFetchingNextPage:o,isError:a}}function sp(e){e.invalidateQueries({queryKey:[xr]})}function zK(e){return t=>{var n;return t&&I(b({},t),{pages:(n=t==null?void 0:t.pages)==null?void 0:n.map(r=>I(b({},r),{items:r.items.filter(s=>s.gizmo.gizmo.id!==e)}))})}}function Jze(){const e=Kt(),t=co();return tn({mutationFn:async({gizmoId:n})=>(await Oa.join(n),{gizmoId:n}),onError:n=>{const r=Nw(n);t(WK(dR.CUSTOM_ERROR,void 0,r))},onSettled:async(n,r,{gizmoId:s})=>{sp(e),s&&await e.invalidateQueries({queryKey:_n(e,s,!1).queryKey,refetchType:"all"})}})}function Qze(){const e=Kt(),t=co();return tn({mutationFn:async({gizmoId:n})=>(await Oa.decline(n),{gizmoId:n}),onError:n=>{const r=Nw(n);t(WK(dR.CUSTOM_ERROR,void 0,r))},onSettled:async(n,r,{gizmoId:s})=>{sp(e),s&&await e.invalidateQueries({queryKey:_n(e,s,!1).queryKey,refetchType:"all"})}})}function Zze(){const e=Kt(),t=ce(),n=Vg(t);return tn({mutationFn:async({gizmoId:r})=>(await Oa.delete(r),{gizmoId:r}),onMutate:async({gizmoId:r})=>{await e.cancelQueries({queryKey:_n(e,r,!1).queryKey}),await e.cancelQueries({queryKey:[xr]}),await e.cancelQueries({queryKey:[As,{gizmoId:r}]});const s=e.getQueryData([xr]);return e.setQueryData([xr],zK(r)),{prevProjectHistoryData:s}},onError:(r,s,i)=>{i!=null&&i.prevProjectHistoryData&&e.setQueryData([xr],i.prevProjectHistoryData),n.danger(uR.deleteProjectFailedToast,{toastId:"snorlax_deletion_modal_delete_project_failed",hasCloseButton:!0})},onSettled:r=>{const s=r==null?void 0:r.gizmoId;sp(e),BOe(e,s),s&&e.invalidateQueries({queryKey:_n(e,s,!1).queryKey})}})}function eYe(){const e=Kt(),t=ce(),n=Vg(t);return tn({mutationFn:async({gizmoId:r,saveCopy:s})=>{const i=await Oa.leave({gizmo_id:r,save_copy:s});return{gizmoId:r,resource:VDe(i)?i.resource:void 0}},onMutate:async({gizmoId:r})=>{await e.cancelQueries({queryKey:_n(e,r,!1).queryKey}),await e.cancelQueries({queryKey:[xr]}),await e.cancelQueries({queryKey:[As,{gizmoId:r}]});const s=e.getQueryData([xr]);return e.setQueryData([xr],zK(r)),{prevProjectHistoryData:s}},onError:(r,s,i)=>{i!=null&&i.prevProjectHistoryData&&e.setQueryData([xr],i.prevProjectHistoryData),n.danger(uR.leaveProjectFailedToast,{toastId:"snorlax_leave_modal_leave_project_failed",hasCloseButton:!0})},onSettled:r=>{r!=null&&r.resource&&(e.setQueryData(_n(e,r.resource.gizmo.id,!1).queryKey,r.resource),kI(t,r.resource)||e.setQueryData([xr],$K({gizmo:r.resource}))),sp(e)}})}const kj=new Map;function tYe(e){const t=kj.get(e);if(t)return t;const n=Gq(u3e,2e3,{trailing:!0});return kj.set(e,n),n}async function u3e({projectId:e,upsertProjectMutation:t,pendingFileUpsertMutationsRef:n}){const r=[],s=o=>{const a=n.current;return a.forEach(({update:c})=>{o=c(o)}),r.push(...a),o};await t.mutateAsync({id:e,update:s}),r.forEach(({onSuccess:o})=>{o==null||o()});const i=r.map(({mutationId:o})=>o);n.current=n.current.filter(({mutationId:o})=>!i.includes(o))}const d3e=(e,t)=>{const n=une(e,()=>VK(t.id)),r=me(!1),s=me(!1),i=ye(()=>n().hasNextPage&&!o()),o=ye(()=>!s()&&(n().fetchStatus==="fetching"||r()||n().isFetchingNextPage)),a={awaitingManualRetry$:s,all$:ye(()=>{var c,l;return(l=(c=n().data)==null?void 0:c.pages.flatMap(u=>u.items))!=null?l:null}),preload$:()=>{n().refetch()},canFetchMore$:ye(()=>i()&&!o()&&!n().isFetchingNextPage&&!r()&&n().fetchStatus==="idle"&&!a.awaitingManualRetry$()),cursor$:ye(()=>{var u;const c=n().data;if(!c||!Array.isArray(c.pages)||c.pages.length===0)return null;const l=c.pages[c.pages.length-1];return(u=l==null?void 0:l.cursor)!=null?u:null}),canShowConversations$:ye(()=>{const c=a.all$();return!!(c&&c.length>0||o()||s())}),fetchMore$:()=>{r.set(!0),n().fetchNextPage(),setTimeout(()=>r.set(!1),1e3)},failureCount$:ye(()=>n().failureCount),error$:ye(()=>n().error),isFetchNextPageError$:ye(()=>n().isFetchNextPageError),hasNextPage$:i,isLoading$:o};return na(()=>({isFetchNextPageError:a.isFetchNextPageError$(),failureCount:a.failureCount$()}),({isFetchNextPageError:c,failureCount:l})=>{c&&l>0&&a.awaitingManualRetry$.set(!0)}),a},ip=ct(()=>me({}));function f3e(e,t){var i;const n=ip(e),r=ry(n(),"theme",t.gizmo.id);let s;return r===void 0?s=(i=t.gizmo.display.theme)!=null?i:null:s=r,s}function h3e(e,t){var i;const n=ip(e),r=ry(n(),"emoji",t.gizmo.id);return(i=r!=null?r:t.gizmo.display.emoji)!=null?i:null}function p3e(e,t){var i;const n=ip(e),r=ry(n(),"name",t.gizmo.id);return(i=r!=null?r:t.gizmo.display.name)!=null?i:null}function YK(e,t){const n=ip(e);return ry(n(),"pendingFiles",t)}const ry=(e,t,n)=>{if(n===pf||!n)return;const r="".concat(n,"-").concat(t);return e[r]},zd=(e,t,n,r)=>{if(t===pf)return;ip(e).set(i=>{const o="".concat(t,"-").concat(n),a=b({},i);return r===void 0?delete a[o]:a[o]=r,a})},F0=(e,t,n)=>{zd(e,t,n,void 0)};function _3e({ctx:e,id:t,theme:n,emoji:r,name:s,pendingFiles:i}){if(n!==void 0&&zd(e,t,"theme",n),r!==void 0&&zd(e,t,"emoji",r),s!==void 0&&zd(e,t,"name",s),i!==void 0){let o=YK(e,t);o==null&&(o=new Map),i.value!=null?o.set(i.key,i.value):o.delete(i.key),zd(e,t,"pendingFiles",o)}}const KK=ge(ht,"680a3c",20,20),XK=ge(ht,"865db3",20,20),nYe=Object.freeze(Object.defineProperty({__proto__:null,default:XK},Symbol.toStringTag,{value:"Module"})),JK=ge(ht,"d28ccf",20,20),rYe=Object.freeze(Object.defineProperty({__proto__:null,default:JK},Symbol.toStringTag,{value:"Module"})),m3e=ge(ht,"d4bd76",20,20),g3e=ge(ht,"a35fbc",20,20),uw=ge(ht,"86811d",20,20),sYe=Object.freeze(Object.defineProperty({__proto__:null,default:uw},Symbol.toStringTag,{value:"Module"})),Lj=ge(ht,"be4859",20,20),v3e=ge(ht,"52bc20",20,20),Dj=ge(ht,"ac6d36",20,20),Fj=ge(ht,"284217",20,20),QK=ge(ht,"1af12c",20,20),iYe=Object.freeze(Object.defineProperty({__proto__:null,default:QK},Symbol.toStringTag,{value:"Module"})),y3e=e=>C.createElement("svg",b({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),C.createElement("path",{d:"M9.64978 13.0257L6.36281 14.2164C5.32547 14.5922 4.17846 14.0599 3.8009 13.0274L3.45909 12.0927L4.0564 10.8177L1.75 7.41901L4.09784 6.56847L6.66195 8.05349C7.17468 8.35044 7.79343 8.40537 8.35086 8.20343L16.8625 5.11998C17.1541 5.01435 17.4664 4.97773 17.7746 5.01305L20.6083 5.33764C21.3056 5.41751 21.8977 5.88262 22.1377 6.53907C22.4878 7.49623 21.9919 8.55457 21.0303 8.90295L15.7542 10.8143M16.3515 9.53934L13 14.5L10.1826 15.5206L9.84014 11.8982",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),C.createElement("path",{d:"M3 19H21",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"})),E3e=e=>C.createElement("svg",b({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),C.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.9969 3.39017C14.5497 2.17402 15.961 1.60735 17.2013 2.10349L19.4044 2.98475C20.7337 3.51645 21.3458 5.05369 20.7459 6.35358L19.0629 10H20C20.5523 10 21 10.4477 21 11V19C21 20.6569 19.6569 22 18 22H6C4.34315 22 3 20.6569 3 19V11C3 10.4504 3.44331 10.0044 3.99183 10L3.84325 9.89871C3.83307 9.89177 3.82303 9.88465 3.81311 9.87733C2.55917 8.9526 2.79737 7.01262 4.23778 6.41871L6.35774 5.5446L7.08184 3.36883C7.57382 1.8905 9.49246 1.51755 10.5024 2.70393L11.9888 4.45002L13.5103 4.46084L13.9969 3.39017ZM15.5096 4.89554C16.2552 5.48975 16.5372 6.59381 15.9713 7.51403L14.8266 9.37513C14.8265 9.38763 14.8266 9.40262 14.8273 9.42012C14.8294 9.47125 14.8357 9.52793 14.8451 9.58262C14.8548 9.63855 14.8654 9.67875 14.8714 9.69773C14.9032 9.79819 14.9184 9.89994 14.9184 10H16.8602L18.93 5.51547C19.0499 5.25549 18.9275 4.94804 18.6617 4.8417L16.4585 3.96044C16.2105 3.86122 15.9282 3.97455 15.8176 4.21778L15.5096 4.89554ZM12.8885 10C12.8572 9.84122 12.8358 9.66998 12.8289 9.50115C12.8194 9.26483 12.8254 8.81125 13.0664 8.41953L14.2677 6.46628L11.9746 6.44997C11.3934 6.44584 10.8427 6.18905 10.4659 5.74646L8.97951 4.00037L8.25541 6.17614C8.07187 6.72765 7.65748 7.17203 7.12012 7.39359L5.00091 8.26739L7.06338 9.67378C7.19188 9.7614 7.29353 9.87369 7.3663 10H12.8885ZM5 12V19C5 19.5523 5.44772 20 6 20H18C18.5523 20 19 19.5523 19 19V12H5ZM9.5 14.5C9.5 13.9477 9.94771 13.5 10.5 13.5H13.5C14.0523 13.5 14.5 13.9477 14.5 14.5C14.5 15.0523 14.0523 15.5 13.5 15.5H10.5C9.94771 15.5 9.5 15.0523 9.5 14.5Z",fill:"currentColor"})),C3e=e=>C.createElement("svg",b({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),C.createElement("path",{d:"M5 16.584C3.2341 15.8124 2 14.0503 2 12C2 9.46726 3.88316 7.37436 6.32568 7.04508C7.13649 4.69118 9.37075 3 12 3C15.3137 3 18 5.68629 18 9C20.2091 9 22 10.7909 22 13C22 14.2632 21.4145 15.3896 20.5 16.1227",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),C.createElement("path",{d:"M9.25 16L6.75 21",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),C.createElement("path",{d:"M13.25 16L10.75 21",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),C.createElement("path",{d:"M17.25 16L14.75 21",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),S3e=e=>C.createElement("svg",b({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),C.createElement("path",{d:"M4.5 17.5L7.56881 14.3817C8.32655 13.6117 9.55878 13.5826 10.352 14.316L16.5 20",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),C.createElement("path",{d:"M19 12H18.3798C17.504 12 16.672 11.6173 16.102 10.9524L11.898 6.04763C11.328 5.38269 10.496 5 9.6202 5H6C4.89543 5 4 5.89543 4 7V18C4 19.1046 4.89543 20 6 20H18C19.1046 20 20 19.1046 20 18V17",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),C.createElement("path",{d:"M19 5H18.3798C17.504 5 16.672 5.38269 16.102 6.04763L14 8.5",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),C.createElement("circle",{cx:8.5,cy:9.5,r:1.5,fill:"currentColor"}),C.createElement("path",{d:"M18 14V10C18 9.58798 18.4704 9.35279 18.8 9.6L21.4667 11.6C21.7333 11.8 21.7333 12.2 21.4667 12.4L18.8 14.4C18.4704 14.6472 18 14.412 18 14Z",fill:"currentColor"}),C.createElement("path",{d:"M18 7V3C18 2.58798 18.4704 2.35279 18.8 2.6L21.4667 4.6C21.7333 4.8 21.7333 5.2 21.4667 5.4L18.8 7.4C18.4704 7.64721 18 7.41202 18 7Z",fill:"currentColor"})),b3e=e=>C.createElement("svg",b({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),C.createElement("path",{d:"M15.5 14V17",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),C.createElement("rect",{x:5,y:3,width:14,height:18,rx:2,stroke:"currentColor",strokeWidth:2}),C.createElement("circle",{cx:8.5,cy:14,r:1,fill:"currentColor"}),C.createElement("circle",{cx:8.5,cy:17,r:1,fill:"currentColor"}),C.createElement("circle",{cx:12,cy:17,r:1,fill:"currentColor"}),C.createElement("circle",{cx:12,cy:14,r:1,fill:"currentColor"}),C.createElement("circle",{cx:8.5,cy:11,r:1,fill:"currentColor"}),C.createElement("circle",{cx:12,cy:11,r:1,fill:"currentColor"}),C.createElement("circle",{cx:15.5,cy:11,r:1,fill:"currentColor"})),T3e=e=>C.createElement("svg",b({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),C.createElement("circle",{cx:12,cy:10.5,r:7.5,stroke:"currentColor",strokeWidth:2}),C.createElement("path",{d:"M8 17V22L12 21L16 22V17",stroke:"currentColor",strokeWidth:2,strokeLinejoin:"round"})),O3e=e=>C.createElement("svg",b({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),C.createElement("path",{d:"M17 8H19C20.1046 8 21 8.89543 21 10V17C21 18.1046 20.1046 19 19 19M19 19H5C3.89543 19 3 18.1046 3 17V7C3 5.89543 3.89543 5 5 5H15C16.1046 5 17 5.89543 17 7V17C17 18.1046 17.8954 19 19 19Z",stroke:"currentColor",strokeWidth:2}),C.createElement("path",{d:"M7 10H13",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),C.createElement("path",{d:"M7 13H10",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),A3e=e=>C.createElement("svg",b({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),C.createElement("path",{d:"M6 5H5C3.89543 5 3 5.89543 3 7V8M18 5H19C20.1046 5 21 5.89543 21 7V8M21 16V17C21 18.1046 20.1046 19 19 19H18M6 19H5C3.89543 19 3 18.1046 3 17V16",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),C.createElement("path",{d:"M8 10H16",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),C.createElement("path",{d:"M8 14H14",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"})),w3e=e=>C.createElement("svg",b({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),C.createElement("path",{d:"M4 18V7H20V18C20 19.1046 19.1046 20 18 20H6C4.89543 20 4 19.1046 4 18Z",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),C.createElement("path",{d:"M9 10V6C9 4.34315 10.3431 3 12 3V3C13.6569 3 15 4.34315 15 6V10",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),N3e=e=>C.createElement("svg",b({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),C.createElement("path",{d:"M3 6H10",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),C.createElement("path",{d:"M3 10H7",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),C.createElement("path",{d:"M13.4282 17.5718L20.5 10.5C21.6046 9.39543 21.6046 7.60457 20.5 6.5C19.3954 5.39543 17.6046 5.39543 16.5 6.5L9.42819 13.5718C9.14899 13.851 8.95868 14.2066 8.88124 14.5938L8 19L12.4062 18.1188C12.7934 18.0413 13.149 17.851 13.4282 17.5718Z",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}));function I3e(e){switch(e){case"genius":return JK;case"idea":return Lj;case"code":return QK;case"data-vis":return XK;case"dalle":return S3e;case"local":return v3e;case"math":return b3e;case"misc":return E3e;case"news":return O3e;case"teach-or-explain":return uw;case"read-or-analyze":return A3e;case"rank-or-rate":return T3e;case"current-event":return Dj;case"shop":return w3e;case"travel":return y3e;case"weather":return C3e;case"work":return uw;case"write":return N3e;case"vision":return m3e;case"file-upload-document":return g3e;case"browse":return Dj;case"onboarding":return Fj;case"for-you":return Fj;default:return Lj}}function P3e(e){switch(e){case"write":case"shop":return"#cb8bd0";case"idea":case"travel":return"#e2c541";case"code":case"vision":return"#6C71FF";case"file-upload-document":return"#EA8444";case"dalle":return"#35AE47";case"genius":return"#E659C2";case"for-you":return"#ED6262";case"teach-or-explain":case"misc":default:return"#76d0eb"}}const Xl=["#cb8bd0","#e2c541","#ed6262","#76d0eb"];function R3e(e){switch(e){case"write":case"shop":return Xl[0];case"idea":case"travel":return Xl[1];case"code":case"vision":return Xl[2];case"teach-or-explain":case"misc":default:return Xl[3]}}function oYe({category:e,useV2Colors:t}){if(e==null)return null;const n=I3e(e);return g.jsx(n,{className:"icon",style:{color:t?P3e(e):R3e(e)}})}const ZK=e=>{var i,o,a,c;const t=e.split(" ").map(l=>l.trim()).filter(Boolean);if(t.length===0)return"";const n=(o=(i=t[0])==null?void 0:i[0])!=null?o:"",r=t.length>1&&(c=(a=t[t.length-1])==null?void 0:a[0])!=null?c:"";return(t.length>1?"".concat(n).concat(r):n).toUpperCase()},x3e=e=>{const t=["bg-blue-800","bg-red-800","bg-green-800","bg-blue-500","bg-yellow-800","bg-gray-800","bg-orange-800"],n=e.split("").map(r=>r.charCodeAt(0)).reduce((r,s)=>r+s,0);return t[n%t.length]},M3e=({IconComponent:e,className:t,size:n="default",rounded:r=!1})=>g.jsx("div",{className:ie("relative flex items-center justify-center",Oc[n],r?"rounded-full":"rounded-xs",t),children:g.jsx(e,{className:eX[n]})}),aYe=({iconName:e,className:t,size:n="default"})=>{let r=iR;return e==="user"&&(r=KK),g.jsx(M3e,{IconComponent:r,className:t,size:n})},Oc={default:"h-6 w-6 shrink-0",xsmall:"h-4 w-4 shrink-0",small:"h-5 w-5 shrink-0",medium:"h-7 w-7 shrink-0",large:"h-12 w-12 shrink-0"},eX={default:"icon",xsmall:"icon-xs",small:"icon-sm",medium:"icon",large:"icon-lg"},Uj=({user:e,size:t="default",isLoading:n,dotted:r=!1,className:s})=>{var o;const i=ft();return g.jsx("div",{className:ie("flex overflow-hidden rounded-full select-none",r?"border-global-border-heavy border-token-border-heavy border border-dashed":"bg-gray-500/30",Oc[t],s),children:g.jsx(tX,{fallback:!n&&g.jsx(k3e,{user:e,size:t,dotted:r}),src:(o=e==null?void 0:e.picture)!=null?o:void 0,alt:i.formatMessage({id:"avatar.profileimage",defaultMessage:"Profile image"}),className:ie(Oc[t],n&&"invisible","object-cover")})})};function k3e({user:e,size:t,dotted:n=!1}){var s;const r=ZK((s=e==null?void 0:e.name)!=null?s:"");return g.jsx("div",{className:ie("flex h-full w-full items-center justify-center",n?"text-token-text-tertiary":"bg-blue-300 text-white dark:bg-blue-500"),children:r?g.jsx("div",{className:ie(t==="small"||t==="default"?"text-xs":"indent-[0.1em] text-sm tracking-widest"),children:r}):g.jsx(KK,{className:eX[t]})})}function tX(s){var i=s,{fallback:e,src:t,alt:n}=i,r=G(i,["fallback","src","alt"]);const[o,a]=C.useState(!1);return o||!t?e:g.jsx("img",I(b({src:t,alt:n},r),{onError:()=>{a(!0)},referrerPolicy:"no-referrer"}))}const L3e=e=>g.jsxs(IK,I(b({viewBox:"0 0 36 36",fill:"none"},e),{children:[g.jsx("circle",{cx:"18",cy:"18",r:"18",fill:"#3c46ff"}),g.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m7.358 14.641 5.056-5.055A2 2 0 0 1 13.828 9h8.343a2 2 0 0 1 1.414.586l5.056 5.055a2 2 0 0 1 .055 2.771l-9.226 9.996a2 2 0 0 1-2.94 0l-9.227-9.996a2 2 0 0 1 .055-2.77Zm6.86-1.939-.426 1.281a2.07 2.07 0 0 1-1.31 1.31l-1.28.426a.296.296 0 0 0 0 .561l1.28.428a2.07 2.07 0 0 1 1.31 1.309l.427 1.28c.09.27.471.27.56 0l.428-1.28a2.07 2.07 0 0 1 1.309-1.31l1.281-.427a.296.296 0 0 0 0-.56l-1.281-.428a2.07 2.07 0 0 1-1.309-1.309l-.427-1.28a.296.296 0 0 0-.561 0z",fill:"#fff"})]})),D3e=({size:e="default",src:t,alt:n,className:r})=>g.jsx("div",{className:ie("overflow-hidden rounded-full bg-gray-500/30 select-none",Oc[e],r),children:g.jsx(tX,{fallback:g.jsx(L3e,{className:ie(Oc[e],r)}),src:t!=null?t:void 0,alt:n!=null?n:"",className:ie(Oc[e],r)})});function cYe({iconSize:e="default",workspace:t,showPlanTypeBadge:n=!1,className:r}){const s=ce(),i=st(s),o=mo(),a=t!=null?t:o,{data:c,isLoading:l}=rn(DI),u=vt(),d=c!=null?c:"user"in u?u.user:void 0,f=!a||l,p=n&&!f&&((i==null?void 0:i.isPro())||(i==null?void 0:i.isPlus()))&&Br(s).getLayer("2775247110").get("show_plan_type_badge",!1)&&(i!=null&&i.isPlus()?g.jsx(U3e,{}):i!=null&&i.isPro()?g.jsx(F3e,{}):null);return a&&!a.isPersonalAccount()?g.jsx(D3e,{src:a.data.profilePictureUrl,size:e,className:r}):p?g.jsxs("div",{className:"relative",children:[g.jsx(Uj,{user:d,size:e,isLoading:f,className:r}),p]}):g.jsx(Uj,{user:d,size:e,isLoading:f,className:r})}const F3e=()=>g.jsx("span",{className:"absolute end-[4.8px] top-[21.5px] -me-2 flex items-center justify-center rounded-full bg-black text-[8px] font-medium text-white",style:{height:"0.75rem",width:"1.4rem",letterSpacing:"-0.4px"},children:"PRO"}),U3e=()=>g.jsx("span",{className:"absolute end-[4.8px] top-[21.5px] -me-2 flex h-3 items-center justify-center rounded-full bg-white text-[8px] font-medium text-black",style:{width:"1.6rem",boxShadow:"0 0 0 1.1px rgba(128, 128, 128, 0.1)",letterSpacing:"-0.5px"},children:"PLUS"});function lYe({name:e,size:t="default",className:n,initialsCount:r=1}){let s="";return r===1?s=e.charAt(0):s=e.split(" ").slice(0,2).map(i=>i[0]).join(""),g.jsx("div",{className:ie("overflow-hidden rounded-full pt-[4.5px] text-center text-[9px] font-extralight text-white",Oc[t],n),style:{backgroundColor:j3e(e)},children:s})}function j3e(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)+t^e.charCodeAt(n);return Xl[Math.abs(t)%Xl.length]}const B3e=e=>{var t;return e.type===Yt.EMAIL?{id:e.user_email,label:e.user_email}:e.type===Yt.GROUP?{id:e.group_id,label:e.group_name}:e.type===Yt.USER?{id:e.user_id,label:(t=e.user_name)!=null?t:"Unknown",sublabel:e.user_email}:null};var oG;const nX=po.div(oG||(oG=ri(["icon-lg relative flex items-center justify-center rounded-full text-[10px]"]))),uYe=({monograms:e,variant:t="knockout",showTooltip:n=!0})=>{const s=e.slice(0,2),i=e.length-2;return g.jsxs("div",{className:"flex",children:[s.map((o,a)=>g.jsx("div",{className:ie("relative rounded-full not-first:ms-[-6px]",t==="knockout"&&"bg-token-bg-primary p-0.5"),style:{zIndex:s.length-a},children:g.jsx(G3e,{monogram:o,showTooltip:n})},o.id)),i>0&&g.jsx("div",{className:ie("relative ms-[-6px] rounded-full first:ms-0",t==="knockout"&&"bg-token-bg-primary p-0.5"),style:{zIndex:0},children:g.jsx(nX,{className:"text-token-text-primary bg-token-main-surface-tertiary",children:g.jsx(Tt,{id:"QY9mVO",values:{remaining:i},defaultMessage:"+{remaining}"})})})]})},G3e=({monogram:e,zIndex:t=0,className:n,showTooltip:r=!0})=>{const s=ce(),i=st(s),o=i==null?void 0:i.isWorkspaceAccount();if(!e)return null;const a=g.jsx(nX,{className:ie("text-white group-data-[disabled]/sharing-row:opacity-50",x3e(e.id),n),style:{zIndex:t},"aria-label":e.label,children:ZK(e.label)});return r?g.jsx(_o,{label:e.label,secondaryLabel:!o&&e.sublabel,contentClassName:"touch:hidden",labelClassName:"max-w-[200px] truncate",secondaryLabelClassName:"max-w-[200px] truncate",side:"top",children:a}):a},W3e="Loading project",id=cg("Project"),dYe=C.createContext(null),H3e=id(e=>ye(()=>{var t,n;return(n=(t=Hr(e.ctx))==null?void 0:t.isWorkspaceAccount())!=null?n:!1})),$3e=id(e=>ye(()=>{var o,a;const t=Hr(e.ctx),r=(t==null?void 0:t.getWorkspaceId())!=null?oI(e.ctx).data:void 0;return Me(e.ctx,"2913573978")?(o=r==null?void 0:r.beta_settings)==null?void 0:o.project_sharing:((a=r==null?void 0:r.share_settings)==null?void 0:a.chat_share_setting)!==X6.NO_ONE})),q3e=id(e=>ye(()=>{const t=$3e(e)(),n=H3e(e)();return Me(e.ctx,"773249106")&&(t!=null?t:!n)})),rX=id(e=>ye(()=>{var i,o,a,c;const t=e.gizmo$(),n=(a=(o=(i=t==null?void 0:t.gizmo)==null?void 0:i.sharing)==null?void 0:o.subjects)!=null?a:[],r=[],s=(c=t==null?void 0:t.gizmo)==null?void 0:c.author;return s&&s.display_name&&r.push({id:s.user_id,label:s.display_name,sublabel:s.user_email}),n.forEach(l=>{const u=B3e(l);u&&r.push(u)}),r})),fYe=id(e=>ye(()=>rX(e)().length>1)),hYe=id(e=>ye(()=>{var s,i,o;const t=e.gizmo$(),n=(o=(i=(s=t==null?void 0:t.gizmo)==null?void 0:s.sharing)==null?void 0:i.subjects)!=null?o:[],r=rX(e)();return r.length<=1?!1:q3e(e)()&&n.length>0&&r.length>1})),V3e=(e,t)=>{const n=on(e),r=qt(e,()=>_n(n,t)),s={ctx:e,id:t,serverState$:r,queueUpdate$:async({theme:i,emoji:o,name:a,options:c,withPostUpdate:l=!0})=>{if(_3e({ctx:e,id:t,theme:i,emoji:o,name:a}),l){const{resource:u}=await s.postUpdate$(c);return{id:s.id,resource:u}}return{id:s.id}},lastScrollPosition$:me(null),mobileHeaderState$:me(null),postUpdate$:async i=>{var c,l,u,d;const{mutate:o,result$:a}=Og(e,HK(e,n));return o({update:b({name:(c=s.title$())!=null?c:void 0,theme:(l=s.theme$())!=null?l:void 0,emoji:(u=s.emoji$())!=null?u:void 0},i),id:s.id}),await N6(()=>!a().isPending),F0(e,s.id,"name"),F0(e,s.id,"theme"),F0(e,s.id,"emoji"),{id:s.id,resource:(d=a().data)==null?void 0:d.resource}},conversations$:me(()=>d3e(e,s)),isSkeleton$:ye(()=>r().data===void 0),gizmo$:ye(()=>{var i;return(i=r().data)!=null?i:null}),status$:ye(()=>{const i=s.conversations$().all$();return i?i.length>0?"has-conversations":"empty":"loading"}),theme$:ye(()=>{const i=r().data;return i?f3e(e,i):null}),isShared$:ye(()=>{const i=r().data;return i?ISe(i):null}),emoji$:ye(()=>{var a;const i=r().data;if(!i)return null;const o=h3e(e,i);return(a=o!=null?o:i.gizmo.display.emoji)!=null?a:null}),title$:ye(()=>{var c;const i=r().data;if(s.isSkeleton$())return W3e;if(!i)return null;const a=p3e(e,i);return(c=a!=null?a:i.gizmo.display.name)!=null?c:null}),filesCount$:ye(()=>{var a,c;const i=r().data;if(!i)return null;const o=YK(e,i.gizmo.id);return((a=i.files.length)!=null?a:0)+((c=o==null?void 0:o.size)!=null?c:0)})};return s},sy=gse(V3e),z3e=lr(e=>ye(()=>{var n;const t=(n=Hh(e))==null?void 0:n.contextScopes;return t?Array.from(t):null},{name:"conversation-context-scopes"}));function Y3e(e,t){return()=>{if(!t||!st(e))return;const r=Tv(e,t),s=z3e(r);if(s){if(!s.includes("GLOBAL"))return["GLOBAL",...s]}else{const i=Ov(r);return i&&Qs(i)&&sy(e,i).gizmo$(),["GLOBAL"]}return s}}function sX(){return Ot(An(),"3360722522").get("image_resize_enabled",!1)}class K3e{constructor(){U(this,"worker");U(this,"pendingAnalyze",new Map);U(this,"pending",new Map);const t=sX();this.worker=t?new Worker(new URL("/cdn/assets/image-resize-worker-LPbD6JyN.js",import.meta.url),{type:"module"}):null,this.worker&&(this.worker.onmessage=n=>{const r=n.data;if(r.resultType==="resize")return this.processResizeResponse(r);if(r.resultType==="analyze")return this.processAnalyzeResponse(r)},this.worker.onerror=n=>{for(const{reject:r}of this.pending.values())r(new Error(n.message||"Worker error"));this.pending.clear()})}processAnalyzeResponse(t){const n=this.pendingAnalyze.get(t.id);n&&(this.pendingAnalyze.delete(t.id),t.ok?n.resolve(t):n.reject(new Error(t.error)))}processResizeResponse(t){const n=this.pending.get(t.id);n&&(this.pending.delete(t.id),t.ok?n.resolve(t):n.reject(new Error(t.error)))}analyze(t){return this.worker?new Promise((n,r)=>{this.pendingAnalyze.set(t.id,{resolve:n,reject:r}),this.worker&&this.worker.postMessage({id:t.id,file:t.file,type:"analyze"})}):Promise.reject(new Error("Image resizing is not supported"))}resize(t){return this.worker?new Promise((n,r)=>{var s,i;this.pending.set(t.id,{resolve:n,reject:r}),this.worker&&this.worker.postMessage({id:t.id,file:t.file,maxEdge:t.maxEdge,filename:t.filename,format:(s=t.format)!=null?s:"image/jpeg",quality:(i=t.quality)!=null?i:.9,type:"resize"})}):Promise.reject(new Error("Image resizing is not supported"))}terminate(){var t;(t=this.worker)==null||t.terminate(),this.pending.clear()}}function X3e(e){return e instanceof File?e.name.replace(/\.[^/.]+$/,"")+"-1024.jpg":"image.jpg"}const J3e=ct(()=>{const e=new K3e;return{analyze:async r=>{const s=crypto.randomUUID();return await e.analyze({id:s,file:r,type:"analyze"})},resize:async r=>{const s=crypto.randomUUID();performance.mark("image-resize:start");const i=await e.resize({id:s,file:r,maxEdge:1024,filename:X3e(r),format:"image/jpeg",quality:.9,type:"resize"});return performance.mark("image-resize:end"),performance.measure("image-resize","image-resize:start","image-resize:end"),i}}}),{useDebugValue:Q3e}=It,{useSyncExternalStoreWithSelector:Z3e}=j6,eFe=e=>e;function fR(e,t=eFe,n){const r=Z3e(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return Q3e(r),r}const jj=(e,t)=>{const n=Qc(e),r=(s,i=t)=>fR(n,s,i);return Object.assign(r,n),r},pYe=(e,t)=>e?jj(e,t):jj;var U0,Bj;function tFe(){if(Bj)return U0;Bj=1;var e=NI(),t=Zg(),n=Yg(),r=Ys(),s=Ph();function i(o,a,c,l){if(!r(o))return o;a=t(a,o);for(var u=-1,d=a.length,f=d-1,h=o;h!=null&&++u<d;){var p=s(a[u]),_=c;if(p==="__proto__"||p==="constructor"||p==="prototype")return o;if(u!=f){var m=h[p];_=l?l(m,p,h):void 0,_===void 0&&(_=r(m)?m:n(a[u+1])?[]:{})}e(h,p,_),h=h[p]}return o}return U0=i,U0}var j0,Gj;function iX(){if(Gj)return j0;Gj=1;var e=ev(),t=tFe(),n=Zg();function r(s,i,o){for(var a=-1,c=i.length,l={};++a<c;){var u=i[a],d=e(s,u);o(d,u)&&t(l,n(u,s),d)}return l}return j0=r,j0}var B0,Wj;function nFe(){if(Wj)return B0;Wj=1;var e=iX(),t=g9();function n(r,s){return e(r,s,function(i,o){return t(r,o)})}return B0=n,B0}var G0,Hj;function rFe(){if(Hj)return G0;Hj=1;var e=p9();function t(n){var r=n==null?0:n.length;return r?e(n,1):[]}return G0=t,G0}var W0,$j;function sFe(){if($j)return W0;$j=1;var e=rFe(),t=y9(),n=C9();function r(s){return n(t(s,void 0,e),s+"")}return W0=r,W0}var H0,qj;function iFe(){if(qj)return H0;qj=1;var e=nFe(),t=sFe(),n=t(function(r,s){return r==null?{}:e(r,s)});return H0=n,H0}var oFe=iFe();const aFe=$t(oFe),_Ye=["none","delay","indexed"],mYe=["none","Adaptive","ChunkedCatchup","Punctuation"],cFe={label:"Auto",value:""},lFe="The user has opted in to provide additional feedback on the previous response. Encourage the user to share feedback that you can store in a memory to better meet their needs in future. Use no more than 3 turns. If at any point the user indicates no longer wanting to provide feedback, return to the original topic.",uFe=()=>b({fConversationEndpoint:"default",tokenBufferType:null,wordFadeType:null,showConnectorToolSettingsToggle:!1,forceParagen:!1,forceParagenModel:cFe,forceIndepthFeedback:!1,forceIndepthFeedbackPrompt:lFe,forceRateLimit:!1,recordRendering:!1,recordTransformedConvoJson:!1,resetRateLimits:!1,showDebugConversationTurns:!1,rebaseSystemMessageContent:null,forceUseSearch:null,paragenStreamType:"none",paragenCotSummaryDisplay:"allow",showParagenMetadata:!0,forceShowConvoRating:!1,jsonViewerFilters:{},forceParallelSwitch:"auto",autoSwitcherTreatmentOverride:void 0,juiceScore:null,multimodalJuiceScore:null,showAllAnswers:!1,showPerformanceOverlay:!1,ncOverride:null,cprOverride:null,cmOverride:null},{}),oX=cr(Wpe(uFe,{name:Wt.DebugSettings,partialize:e=>aFe(e,["fConversationEndpoint","jsonViewerFilters","recordRendering","recordTransformedConvoJson","showDebugConversationTurns","showPerformanceOverlay"])})),dFe=()=>oX.getState(),gYe=e=>oX.setState(e);function vYe(e){return e.startsWith("file-service://")?e.replace("file-service://",""):e.startsWith("sediment://")?e.replace("sediment://",""):e}function yYe(e){return e.startsWith("file_")?"sediment://"+e:"file-service://"+e}function EYe(e){return e.startsWith("file-service://")}function dw(e,t,n){switch(t){case"file_zero_bytes":return e.formatMessage(Nn.fileZeroBytes,n);case"file_too_large":return e.formatMessage(Nn.fileTooLarge,n);case"over_user_quota":return e.formatMessage(Nn.overUserQuota,n);case"file_not_found":case"file_expired":return e.formatMessage(Nn.fileNoLongerAvailable,n);case"file_timed_out":return e.formatMessage(Nn.fileTimedOut,n);case"ace_pod_expired":return e.formatMessage(Nn.codeInterpreterSessionTimeout,n);case"permission_error":return e.formatMessage(Nn.permissionError,n);case"default_upload_error":case"file_rejected":return e.formatMessage(Nn.defaultCreateEntryError,n);case"default_download_link_error":return e.formatMessage(Nn.defaultDownloadLinkError,n);case"file_empty":return e.formatMessage(Nn.fileEmpty,n);case"too_many_tokens":return e.formatMessage(Nn.fileTooManyTokens,n);case"file_encrypted":return e.formatMessage(Nn.fileEncrypted,n);case"file_corrupted":return e.formatMessage(Nn.fileCorrupted,n);case"failed_upload_to_blobstore":return e.formatMessage(Nn.failedUploadToBlobStore,n);case"internal_error":default:return e.formatMessage(Nn.unknownError)}}function CYe(){const e=ft();return C.useCallback((t,n)=>dw(e,t,n),[e])}const SYe=1e3*60*58,Vj=new Set(["file_not_found","file_expired"]);async function fFe(e,t,n=!1,r,s,i){var d;const[,o,a]=(d=/^(.*?)(\?.*)?$/.exec(e))!=null?d:[],c=new URLSearchParams(a),l=o.replaceAll("#","*"),u=await Y.safeGet("/files/download/{file_id}",{parameters:{path:{file_id:l},query:I(b({gizmo_id:t,post_id:i},Object.fromEntries(c.entries())),{conversation_id:r,inline:s})},authOption:n?en.Anonymous:void 0});if(u.status===yf.Success||u.status===yf.Retry)return u;throw new Rt("Could not get file download link","error_code"in u?u.error_code:"unknown_error")}function bYe(){const e=ce(),{session:t}=Jne(e),n=!yt(),r=Hn();return async(s,i,o)=>{const{conversationId:a,gizmoId:c}=typeof o=="string"?{conversationId:o}:o!=null?o:{};if(!n&&t==null)return r.danger(Nn.fileDownloadFailed,{toastId:"file_download_failed"}),!1;try{const l=await fFe(s,c,n,a);if(l.status!==yf.Success)throw new Error("File is not ready to download: "+JSON.stringify(l));const u=l.download_url,d=document.createElement("a");d.href=u,d.download=i,d.rel="noopener",document.body.appendChild(d),d.click(),d.remove()}catch(l){const u=aX(l)?Nn.fileNoLongerAvailable:Nn.fileDownloadFailed;return r.danger(u,{toastId:"file_download_failed"}),!1}return!0}}function aX(e){return e instanceof Rt&&e.code?Vj.has(e.code):!!(e instanceof Gt&&(e.status===404||e.code&&Vj.has(e.code)))}function TYe({error:e,getErrorMessage:t,fileName:n,fallbackMessage:r}){const s=aX(e),i=!s;if((e instanceof Rt||e instanceof Gt)&&e.code)return{message:t(e.code,{fileName:n}),isRetryable:i};if(s)return{message:t("file_not_found",{fileName:n}),isRetryable:!1};const o=Nw(e);return o?{message:o,isRetryable:i}:{message:r,isRetryable:i}}function hR(e,t){var n;return((t==null?void 0:t.kind)===Ls.GizmoInteraction||(t==null?void 0:t.kind)===Ls.GizmoTest)&&!(t!=null&&t.gizmo&&kv(t==null?void 0:t.gizmo))?(n=t.gizmo)==null?void 0:n.product_features:e==null?void 0:e.product_features}function OYe(e,t,n){var s,i,o,a;const r=hR(e,t);return n===re.Research?Sn.Retrieval:((s=r==null?void 0:r.attachments)==null?void 0:s.type)===Ho.CodeInterpreter?Sn.Interpreter:((i=r==null?void 0:r.attachments)==null?void 0:i.type)===Ho.Multimodal?Sn.Multimodal:((o=r==null?void 0:r.attachments)==null?void 0:o.type)===Ho.Retrieval?Sn.Retrieval:((a=r==null?void 0:r.attachments)==null?void 0:a.type)===Ho.ContextConnector?Sn.ContextConnector:Sn.None}function cX(e){var r;const t=(r=e.split(".").pop())==null?void 0:r.toLowerCase();return{md:"text/markdown",java:"text/x-java",py:"text/x-script.python",c:"text/x-c",cpp:"text/x-c++",h:"text/x-c++",php:"text/x-php",rb:"text/x-ruby",tex:"application/x-latext",ts:"text/x-typescript",cs:"text/x-csharp",go:"text/x-go",rs:"text/x-rust",scala:"application/x-scala",kt:"text/x-kotlin",swift:"text/x-swift",lua:"text/x-lua",r:"text/x-r",jl:"text/x-julia",pl:"text/x-perl",sh:"text/x-shellscript",m:"text/x-objectivec",mm:"text/x-objectivec++",erl:"text/x-erlang",ex:"text/x-elixir",exs:"text/x-elixir",hs:"text/x-haskell",clj:"text/x-clojure",groovy:"text/x-groovy",dart:"text/x-dart",bash:"text/x-shellscript",jsx:"text/jsx",tsx:"text/tsx",hbs:"text/x-handlebars",handlebars:"text/x-handlebars",mustache:"text/x-mustache",ejs:"text/x-ejs",j2:"text/x-jinja2",jinja:"text/x-jinja2",jinja2:"text/x-jinja2",liquid:"text/x-liquid",erb:"text/x-erb",twig:"text/x-twig",pug:"text/x-pug",jade:"text/x-jade",tmpl:"text/x-tmpl",json:"application/json",yml:"application/x-yaml",yaml:"application/x-yaml",toml:"application/toml",ini:"text/plain",properties:"text/plain",env:"text/plain",xml:"text/xml",conf:"text/plain",log:"text/plain",txt:"text/plain",astro:"text/x-astro"}[t!=null?t:""]||""}function hFe(e){switch(e){case"application/vnd.google-apps.spreadsheet":return"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";case"application/vnd.google-apps.document":case"application/vnd.google-apps.presentation":return"text/plain";default:return e}}function lX(e,t,n){const r=cX(e);return r&&(t=r),n&&(t=hFe(t)),t}function pFe(e,t,n,r,s){if(s==null)return e;const i=lX(t,n,r),{accepted_mime_types:o,can_accept_all_mime_types:a}=s;return o==null||o.length===0||!a||o.includes(i)?e:Sn.Interpreter}function AYe(e,t,n,r){var o,a,c;const s=lX(n,t,r),i=(o=e==null?void 0:e.product_features)==null?void 0:o.attachments;if(i!=null)return(a=i.accepted_mime_types)!=null&&a.includes(s)?i.type:(c=i.image_mime_types)!=null&&c.includes(s)?Ho.Multimodal:Ho.CodeInterpreter}function wYe(e,t){var r,s;const n=hR(e,t);return(r=n==null?void 0:n.attachments)!=null&&r.can_accept_all_mime_types||(s=n==null?void 0:n.attachments)==null?void 0:s.accepted_mime_types}function NYe(e,t){var s;const n=hR(e,t),{attachments:r}=n!=null?n:{};return r!=null&&r.image_mime_types?r.image_mime_types:(r==null?void 0:r.type)==="multimodal"?(s=r.accepted_mime_types)!=null?s:_Fe:[]}const _Fe=["image/png","image/jpeg","image/gif","image/webp","image/heic","image/heif"],zj={"image/jpeg":[".jpg",".jpeg"],"image/heic":[".heic"],"image/heif":[".heif"],"image/svg+xml":[".svg"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":[".docx"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":[".pptx"],"application/pdf":[".pdf"],"text/plain":[".txt"]};function mFe(e){return e.reduce((t,n)=>(n in zj?t[n]=zj[n]:n.includes("/")&&(t[n]=[".".concat(n.split("/")[1])]),t),{})}function IYe(e){return C.useMemo(()=>e===void 0?{}:{accept:mFe(e)},[e])}function pR(e){var t;return(t=e.split(".").pop())==null?void 0:t.toLowerCase()}function PYe(e){const t=pR(e);return t!=null&&["jpg","jpeg","png","gif","webp","heic","heif"].includes(t)}function RYe(e){const t=(e!=null?e:"").toLowerCase();return t==="pdf"?"PDF":t.length===0?"":t.charAt(0).toUpperCase()+t.slice(1)}function xYe(e){const t=pR(e);return t!=null&&["xls","xlsx","csv"].includes(t)}function MYe(e){const t=pR(e);return t!=null&&["xls","xlsx"].includes(t)}function uX(e,t,n="fit"){return new Promise((r,s)=>{const i=new FileReader;i.onerror=o=>{K.addError(new Error("File reading has failed:",{cause:o})),s(new Error("Failed to read the file."))},i.onload=o=>{const a=new Image;a.onerror=c=>{K.addError(new Error("Image loading has failed:",{cause:c})),s(new Error("Failed to load the image."))},a.onload=()=>{const c=document.createElement("canvas");let l,u=0,d=0;switch(n){case"fill":l=t/Math.min(a.width,a.height);break;case"square":l=t/Math.min(a.width,a.height);break;case"fit":l=t/Math.max(a.width,a.height);break}const f=a.width*l,h=a.height*l;n==="square"?(c.width=t,c.height=t,u=(t-f)/2,d=(t-h)/2):(c.width=f,c.height=h);const p=c.getContext("2d");if(p==null){K.addError("Canvas context creation failed. Your environment might not fully support HTML5 canvas."),s(new Error("Failed to create canvas context."));return}p.drawImage(a,u,d,f,h);const _=e.type||"image/png";c.toBlob(m=>{m?r(new File([m],e.name,{type:_})):(K.addError("Blob creation failed. Blob is null."),s(new Error("Failed to create blob from image data.")))},_)},o.target==null?(K.addError("Event target is null. Failed to load image."),s("Failed to load image.")):a.src=o.target.result},i.readAsDataURL(e)})}function kYe(e,t){return uX(e,t,"square")}function LYe(e){var r,s;const t=(r=e.name.split("/"))!=null?r:[];return((s=t[t.length-1])!=null?s:"").replace(/[-_]/g," ").split(".")[0]}function gFe(e,t){return t?e.slice(0,-t.length-1):e}const vFe="1733738619",yFe="993789611";function DYe(){const e=ce();return C.useMemo(()=>()=>!Me(e,vFe)&&!Me(e,yFe),[e])}const Nn=At({defaultCreateEntryError:{id:"fileUpload.defaultCreateEntryError",defaultMessage:"Unable to upload {fileName}"},defaultDownloadLinkError:{id:"fileUpload.defaultDownloadLinkError",defaultMessage:"Failed to get upload status for {fileName}"},unknownError:{id:"fileUpload.unknownError",defaultMessage:"Unknown error occurred"},fileZeroBytes:{id:"fileUpload.fileZeroBytes",defaultMessage:"File is empty"},fileTooLarge:{id:"fileUpload.fileTooLarge",defaultMessage:"File is too large"},overUserQuota:{id:"fileUpload.overUserQuota",defaultMessage:"User quota exceeded"},fileNoLongerAvailable:{id:"filesModal.fileNoLongerAvailable",defaultMessage:"This file is no longer available."},fileTimedOut:{id:"fileUpload.fileTimedOut",defaultMessage:"File upload timed out. Please try again."},fileEmpty:{id:"fileUpload.fileEmpty",defaultMessage:"No text could be extracted from this file."},fileTooManyTokens:{id:"fileUpload.fileTooManyTokens",defaultMessage:"This file contains too much text content. Please try again with a smaller file."},fileEncrypted:{id:"fileUpload.fileEncrypted",defaultMessage:"This file is encrypted/requires a password to access. Please try again with an unencrypted file."},fileCorrupted:{id:"fileUpload.fileCorrupted",defaultMessage:"This file is corrupted. Please ensure the file is not corrupted and try again."},codeInterpreterSessionTimeout:{id:"fileUpload.codeInterpreterSessionTimeout",defaultMessage:"Code interpreter session expired"},permissionError:{id:"fileUpload.permissionError",defaultMessage:"Missing permission to access file"},fileDownloadFailed:{id:"filesModal.fileDownloadFailed",defaultMessage:"File download failed. Please try again."},failedUploadToBlobStore:{id:"fileUpload.failedUploadToBlobStore",defaultMessage:"Failed upload to files.oaiusercontent.com. Please ensure your network settings allow access to this site or contact your network administrator."}}),EFe=new Set(["image/heic","image/heif"]),CFe=new Set([".heic",".heif"]);function SFe(e){const t=e.type.toLowerCase(),n=e.name.toLowerCase().split(".").pop();return EFe.has(t)||n!=null&&CFe.has(".".concat(n))}async function bFe(e){var s;const t=await createImageBitmap(e),n=document.createElement("canvas");n.width=t.width,n.height=t.height;const r=n.getContext("2d");if(!r)throw new Error("Failed to get 2d context while converting HEIC");return r.drawImage(t,0,0),(s=t.close)==null||s.call(t),new Promise((i,o)=>{n.toBlob(a=>{a?i(a):o(new Error("Failed to convert HEIC to JPEG"))},"image/jpeg",.95)})}function TFe(e){const t=e.lastIndexOf("."),n=t===-1?e:e.slice(0,t);return"".concat(n,".jpg")}function OFe(e,t){switch(e){case"heic_conversion_failed":return t.formatMessage({id:"NsV+2a",defaultMessage:"This browser doesn't support processing .heic image files. For best results, please convert the .heic image to a .jpeg and try again."})}}function FYe(e,t,n){const r=OFe(e,t);n.danger(r,{toastId:"file_normalization_".concat(e)})}async function AFe(e){try{const t=await bFe(e),n=TFe(e.name);return xn.count(bn.DEFAULT,"file_upload.heic_conversion",{status:"success"}),{file:new File([t],n,{type:"image/jpeg",lastModified:e.lastModified})}}catch(t){return console.error("Failed to normalize HEIC file for upload",t),xn.count(bn.DEFAULT,"file_upload.heic_conversion",{status:"failed"}),{file:e,failureReason:"heic_conversion_failed"}}}async function UYe(e){return SFe(e)?await AFe(e):{file:e}}let $0=null;async function wFe(){return $0||($0=(await ne(async()=>{const{default:e}=await import("./bio6zqk7sn9h2l92.js");return{default:e}},[])).default),$0}const o_={duration:20,hasCloseButton:!0};function NFe(e){return JSON.stringify({file:e.name,modified:e.lastModified,currentTime:new Date().toString()})}function fw(e){return new Promise((t,n)=>{const r=new FileReader,s=new Image;r.onload=()=>{s.onload=()=>t(s),s.onerror=i=>n(i),s.src=r.result},r.readAsDataURL(e)})}function _R(e){if(!(!e||e.length===0))return e}async function IFe(e,t,n,r,s,i){var o;try{const a=await Y.safePost("/files",{authOption:s?en.Anonymous:void 0,requestBody:b({file_name:e,file_size:t,use_case:n.kind,gizmo_id:n.kind===Cn.Gizmo?n.gizmoId:void 0,timezone_offset_min:new Date().getTimezoneOffset(),reset_rate_limits:!!r},i?{upload_source:i}:{})});if(a.status===yf.Error)throw ve.logEvent("Create File Entry Error",{error_code:a.error_code,error_type_name:"FileServiceErrorResponse",error_msg:a.error_code,error_stack:""}),new Rt("Could not create file",a.error_code);return a}catch(a){throw a instanceof Rt||(a instanceof $g?ve.logEvent("Create File Entry Error",{error_type_name:"ClientRequestMismatchedAuthError",error_msg:a.message,error_stack:a.stack}):a instanceof Gt?ve.logEvent("Create File Entry Error",{error_type_name:((o=a.detail)==null?void 0:o.type)==="throttled"?"RequestThrottled":"RequestError",error_msg:a.message,error_stack:a.stack}):a instanceof Error?ve.logEvent("Create File Entry Error",{error_type_name:a.name,error_msg:a.message,error_stack:a.stack}):ve.logEvent("Create File Entry Error",{error_type_name:"UnknownError",error_msg:String(a),error_stack:""})),a}}function dX(e){const t=e.split("."),n=t[t.length-1];return n==="error"||n==="cancelled"||n==="failed"||n==="unknown"}function fX(e){if(!e)return;let t;if(e.thumbnail&&typeof e.thumbnail=="object"){const r=e.thumbnail,s=r.file_id,i=r.width,o=r.height,a=r.size_bytes;typeof s=="string"&&typeof i=="number"&&typeof o=="number"&&typeof a=="number"&&(t={fileId:s,width:i,height:o,sizeBytes:a})}const n=typeof e.transcript=="string"?e.transcript:void 0;if(t||n)return{thumbnail:t,transcript:n}}async function hX(e,t,n){var r,s;try{const l=Ye.streamedJsonPost("".concat(Ve,"/files/process_upload_stream"),e,{authOption:n?en.Anonymous:void 0});let u,d,f;try{for(var i=$R(l),o,a,c;o=!(a=await i.next()).done;o=!1){const h=a.value;if(dX(h.event)){const m="Error stream processing upload: indexing failed: ".concat(h.event);throw new Rt(m,h.event,h.extra)}h.progress!=null&&(t==null||t(h.progress)),((r=h==null?void 0:h.extra)==null?void 0:r.total_tokens)!=null&&(u=h.extra.total_tokens);const p=(s=h==null?void 0:h.extra)==null?void 0:s.metadata_object_id;typeof p=="string"&&p.length>0&&(f=p);const _=fX(h.extra);_&&(d=_)}}catch(a){c=[a]}finally{try{o&&(a=i.return)&&await a.call(i)}finally{if(c)throw c[0]}}return u||d||f?{fileTokenSize:u,libraryFileId:f,thumbnail:d==null?void 0:d.thumbnail,transcript:d==null?void 0:d.transcript}:void 0}catch(l){throw l instanceof Rt||l instanceof Gt&&l.isClientError()?l:new Rt("Error stream processing upload: ".concat(l),"stream_process_error")}}async function pX(e,t,n,r,s,i,o){var h;const a={ENTRY_CREATED:10,FILE_UPLOADED:60,FILE_PROCESSED:100};let c=Pr.Initial;ve.logEvent("Upload File Initiated",{client:"web",useCase:s.kind,uploadEntry:"local"}),ut.logEvent("chatgpt_file_upload_started",null,{client:"web",useCase:s.kind,uploadEntry:"local"});const l=void 0,u=(h=o.usesRetrievalIndex)!=null?h:!1,d=u?performance.now():void 0,f=dFe().resetRateLimits;try{const{file_id:p,upload_url:_}=await IFe(t.name,t.size,s,!!f,o.isUnauthenticated,l);i.onFileCreated(e,p,_),c=Pr.FileCreated,i.onFileUploadProgress(e,a.ENTRY_CREATED);const m=s.kind===Cn.Gizmo?s.gizmoId:void 0,y={client:"web",useCase:s.kind,uploadEntry:"local",fileId:p,fileSize:t.size};ve.logEvent("Blob Store Upload Started",y);const v=E=>E.toLowerCase().includes("/api/estuary/upload_content_and_finalize"),O=E=>E.toLowerCase().includes("/api/estuary/upload_content_bytes");let S;if(v(_)){const{finalStatus:E,metadata:T}=await LFe({file:t,cdnUrl:_,fileId:p,fileName:t.name,useCaseType:s,shouldIndexForRetrieval:u,gizmoId:m,handlers:i,tempId:e,imageDimensions:o.imageDimensions,milestones:{entry:a.ENTRY_CREATED,uploaded:a.FILE_UPLOADED,processed:a.FILE_PROCESSED},contextScopes:o.contextScopes});S=T,c=E}else if(O(_)){const{finalStatus:E,metadata:T}=await kFe({file:t,destinationUrl:_,fileId:p,fileName:t.name,useCaseType:s,shouldIndexForRetrieval:u,gizmoId:m,onOverallProgress:A=>{i.onFileUploadProgress(e,A)},onUploadComplete:()=>{i.onFileUploadProgress(e,a.FILE_UPLOADED)},milestones:{entry:a.ENTRY_CREATED,uploaded:a.FILE_UPLOADED,processed:a.FILE_PROCESSED},contextScopes:o.contextScopes});S=T,c=E,i.onFileUploaded(e,p,o.imageDimensions,S)}else{const E=await DFe(t,_,w=>{i.onFileUploadProgress(e,a.ENTRY_CREATED+(a.FILE_UPLOADED-a.ENTRY_CREATED)*w)});if(i.onFileUploadProgress(e,a.FILE_UPLOADED),E.status!==201)throw ve.logEvent("Blob Store Upload Error",I(b({},y),{error_type_name:"HTTPStatus".concat(E.status),error_msg:"HTTP status ".concat(E.status,": ").concat(E.statusText),error_stack:""})),new Rt("File upload to blobstore failed","failed_upload_to_blobstore");ve.logEvent("Blob Store Upload Completed",y),c=Pr.FileUploaded;const T=_R(o.contextScopes),A=b({file_id:p,use_case:s.kind,gizmo_id:m,index_for_retrieval:u,file_name:t.name},T&&{context_scopes:T});S=await hX(A,w=>{i.onFileUploadProgress(e,a.FILE_UPLOADED+(a.FILE_PROCESSED-a.FILE_UPLOADED)*w/100)},o.isUnauthenticated),c=Pr.FileProcessed,i.onFileUploaded(e,p,o.imageDimensions,S),u&&(c=Pr.RetrievalIndexCreated)}d!=null&&yt(Bt())&&Y.safePost("/lat/retrieval",{requestBody:{e2e_latency_ms:performance.now()-d,type:"file"}})}catch(p){_X(n,r,t.name,p);let _="NotInstanceOfError";p instanceof Gt?_="".concat(p.name,"_").concat(p.status):(p instanceof Error||p instanceof Rt)&&(_=p.name),i.onError(e,"error",_,s,c)}}async function jYe(e,t,n,r,s,i){const{width:o,height:a}=await fw(t);return pX(e,t,n,r,{kind:s},i,{imageDimensions:{width:o,height:a}})}async function PFe(e,t){var r,s,i,o,a;const n=await Y.safeGet("/files/{file_id}",{parameters:{path:{file_id:e},query:t!=null?{gizmo_id:t}:void 0}});return{name:n.name,status:(i=(s=(r=n.metadata)==null?void 0:r.retrieval)==null?void 0:s.status)!=null?i:Zl.Processing,error_code:(a=(o=n.metadata)==null?void 0:o.retrieval)==null?void 0:a.error_code,file_size_tokens:n.file_size_tokens}}async function RFe(e,t){const n=Date.now()+6e4,r=i=>new Promise(o=>setTimeout(o,i));let s=0;for(;Date.now()<n;){const i=await PFe(e,t);if(i.status===Zl.Success||i.status===Zl.Skipped)return i;if(i.status===Zl.Failed)throw new Rt("Context extraction failed",i.error_code);s++,await r(Math.min(1e3,100*s))}throw new Rt("Retrieval indexing timed out")}function xFe(e){var t,n;if(e.code==="file.indexing.error"){const r=(t=e.extra)==null?void 0:t.file_parse_error_code;return typeof r=="string"?r:"file.indexing.error"}return(n=e.code)!=null?n:"internal_error"}function _X(e,t,n,r){var s;if(r instanceof Rt&&r.code!=null){const i=dw(e,xFe(r));t.danger(i,I(b({},o_),{toastId:"file_upload_error",loggingTitle:i,loggingDescription:i}))}else if(r instanceof Gt&&((s=r.detail)==null?void 0:s.type)==="throttled"){const i=r.message,o="file-upload-rate-limit";gt(()=>{var c,l;return(l=(c=t.toasts$)==null?void 0:c.call(t))!=null?l:[]}).some(c=>String(c.id).startsWith(o)&&c.isShown!==!1)||t.info(i,I(b({},o_),{id:o}))}else if(r instanceof $g){const i=e.formatMessage(hw.noAuthFileUpload);t.info(i,o_)}else{const i=dw(e,"default_upload_error",{fileName:n});t.danger(i,I(b({},o_),{toastId:"file_upload_error",loggingTitle:i,loggingDescription:i}))}}const hw=At({retrievalSkippedFile:{id:"useFilePickerState.retrievalSkippedFile",defaultMessage:'Unable to extract text from "{fileName}"'},noAuthFileUpload:{id:"useFilePickerState.noAuthFileUpload",defaultMessage:"Log in to analyze files and images for free."}});async function MFe(e){var Z;const{file:t,destinationUrl:n,fileId:r,fileName:s,useCaseType:i,shouldIndexForRetrieval:o,gizmoId:a,onOverallProgress:c,onUploadComplete:l,milestones:u,contextScopes:d}=e,f=new FormData;f.append("file",t);const p=(Z=new URL(n,window.location.origin).searchParams.get("upload_url"))!=null?Z:n;f.append("upload_url",p),f.append("file_id",r),f.append("file_name",s),f.append("use_case",i.kind),f.append("index_for_retrieval",String(!!o)),a&&f.append("gizmo_id",a);const _=_R(d);_&&f.append("context_scopes",JSON.stringify(_));const m=_h(Bt()),y=as(),v={[Ng]:y,[wg]:hh};m&&(v.Authorization="Bearer ".concat(m));const O=we.getCookie(Ce.Workspace);typeof O=="string"&&O.trim().length>0&&O.trim()!==Yi&&(v["ChatGPT-Account-ID"]=encodeURIComponent(O.trim()));let S=!1;const E=B=>{c(u.entry+(u.uploaded-u.entry)*B)},T=B=>{c(u.uploaded+(u.processed-u.uploaded)*(B/100))},A=1e4,w=120,N=96;let P,x=0,D=!1,M=0,F=0;function j(B){return 1-Math.pow(1-B,3)}function $(){if(!D)return;const B=performance.now()-x,Q=Math.min(1,B/A),se=N*j(Q),fe=Math.max(F,Math.min(N,se),M);if(fe>F&&(F=fe,T(fe)),M>=100){k();return}P=window.setTimeout($,fe>=N&&M===0?w*4:w)}function q(){D||(D=!0,x=performance.now(),$())}function k(B=!1){D=!1,P!==void 0&&(window.clearTimeout(P),P=void 0),B&&(F=100,T(100))}return await new Promise((B,Q)=>{const se=new XMLHttpRequest;se.open("POST",n,!0),se.withCredentials=!0;for(const[oe,be]of Object.entries(v))se.setRequestHeader(oe,be);let fe="",V,H=!1,ee;function z(oe){if(!H){H=!0;try{se.abort()}catch(be){}Q(oe instanceof Rt?oe:new Rt("Error stream processing upload: ".concat(String(oe)),"stream_process_error"))}}let te;function Se(oe){var be,ke;for(;;){const Xe=fe.indexOf("\n");if(Xe===-1)break;const Pe=fe.slice(0,Xe).trim();if(fe=fe.slice(Xe+1),!!Pe)try{const J=JSON.parse(Pe);if(dX(J.event)){k(),z(new Rt("Error stream processing upload: indexing failed: ".concat(J.event),J.event,J.extra));return}J.progress!=null&&(M=J.progress,M>F&&(F=M,T(M)),M>=100&&k(!0)),J.event==="file.processing.metadata"&&(M=100,k(!0)),((be=J==null?void 0:J.extra)==null?void 0:be.total_tokens)!=null&&(V=J.extra.total_tokens);const X=fX(J.extra);X&&(ee=X);const L=(ke=J==null?void 0:J.extra)==null?void 0:ke.metadata_object_id;typeof L=="string"&&L.length>0&&(te=L)}catch(J){if(!oe){fe=Pe+"\n"+fe;break}}}}se.upload.onprogress=oe=>{if(!oe.lengthComputable)return;const be=oe.loaded/oe.total;E(be),be===1&&!S&&(S=!0,l(),q())};let he=0;se.onreadystatechange=()=>{if(se.readyState===XMLHttpRequest.LOADING||se.readyState===XMLHttpRequest.DONE){const oe=se.responseText.substring(he);he=se.responseText.length,fe+=oe,Se(se.readyState===XMLHttpRequest.DONE)}if(se.readyState===XMLHttpRequest.DONE){if(se.status>=400){k(),z(new Rt("File upload to blobstore failed","failed_upload_to_blobstore"));return}k(F<100),B(V||ee||te?{fileTokenSize:V,libraryFileId:te,thumbnail:ee==null?void 0:ee.thumbnail,transcript:ee==null?void 0:ee.transcript}:{})}};try{se.send(f)}catch(oe){z(oe)}})}async function kFe(e){var A;const{file:t,destinationUrl:n,fileId:r,fileName:s,useCaseType:i,shouldIndexForRetrieval:o,gizmoId:a,onOverallProgress:c,onUploadComplete:l,milestones:u,contextScopes:d}=e,f=new FormData;f.append("file",t);const p=(A=new URL(n,window.location.origin).searchParams.get("upload_url"))!=null?A:n;f.append("upload_url",p);const _=_h(Bt()),m=as(),y={[Ng]:m,[wg]:hh};_&&(y.Authorization="Bearer ".concat(_));const v=we.getCookie(Ce.Workspace);typeof v=="string"&&v.trim().length>0&&v.trim()!==Yi&&(y["ChatGPT-Account-ID"]=encodeURIComponent(v.trim())),await new Promise((w,N)=>{const P=new XMLHttpRequest;P.open("POST",n,!0),P.withCredentials=!0;for(const[x,D]of Object.entries(y))P.setRequestHeader(x,D);P.upload.onprogress=x=>{if(!x.lengthComputable)return;const D=x.loaded/x.total;c(u.entry+(u.uploaded-u.entry)*D),D===1&&l()},P.onreadystatechange=()=>{if(P.readyState===XMLHttpRequest.DONE){if(P.status>=400){N(new Rt("File upload to Estuary failed: HTTP ".concat(P.status),"failed_upload_to_blobstore"));return}w()}};try{P.send(f)}catch(x){N(x instanceof Rt?x:new Rt("Error uploading to Estuary: ".concat(String(x)),"stream_process_error"))}});const O=_R(d),S=b({file_id:r,use_case:i.kind,gizmo_id:a,index_for_retrieval:o,file_name:s},O&&{context_scopes:O}),E=await hX(S,w=>{c(u.uploaded+(u.processed-u.uploaded)*w/100)});return{finalStatus:o?Pr.RetrievalIndexCreated:Pr.FileProcessed,metadata:E}}async function LFe(e){const{file:t,cdnUrl:n,fileId:r,fileName:s,useCaseType:i,shouldIndexForRetrieval:o,gizmoId:a,handlers:c,tempId:l,imageDimensions:u,milestones:d,contextScopes:f}=e,h=await MFe({file:t,destinationUrl:n,fileId:r,fileName:s,useCaseType:i,shouldIndexForRetrieval:o,gizmoId:a,onOverallProgress:_=>{c.onFileUploadProgress(l,_)},onUploadComplete:()=>{c.onFileUploadProgress(l,d.uploaded)},milestones:d,contextScopes:f});let p=Pr.FileProcessed;return c.onFileUploaded(l,r,u,h),o&&(p=Pr.RetrievalIndexCreated),{finalStatus:p,metadata:h}}async function DFe(e,t,n,r){const s=await wFe();return await s.request({method:"put",url:t,data:e,headers:{"x-ms-blob-type":"BlockBlob","x-ms-version":"2020-04-08","Content-Type":e.type},onUploadProgress:i=>{i.progress!==void 0&&n&&n(i.progress)}}).catch(function(i){var a;let o=b({},r);throw s&&i instanceof s.AxiosError&&((a=i.response)!=null&&a.status)?o=I(b({},o),{error_type_name:"AxiosHTTPError".concat(i.response.status),error_msg:i.message,error_stack:i.stack}):i instanceof Error&&(o=I(b({},o),{error_type_name:i.name,error_msg:i.message,error_stack:i.stack})),ve.logEvent("Blob Store Upload Error",o),new Rt("File upload to blobstore failed","failed_upload_to_blobstore")})}const mX={files:[],connectorFileData:{}},gX=C.createContext(null);function BYe(e){"use forget";const t=W.c(6),{children:n,initialState:r,store:s}=e,i=r===void 0?mX:r;let o;t[0]!==i||t[1]!==s?(o=()=>s!=null?s:Qc(()=>i),t[0]=i,t[1]=s,t[2]=o):o=t[2];const[a]=C.useState(o);let c;return t[3]!==n||t[4]!==a?(c=g.jsx(gX.Provider,{value:a,children:n}),t[3]=n,t[4]=a,t[5]=c):c=t[5],c}function vX(){"use forget";const e=C.use(gX);if(e==null)throw new Error("useFilePickerState must be used inside a FilePickerContext");return e}function GYe(e,t){"use forget";const n=vX();return fR(n,e,t)}const WYe={hasUploadInProgress:({files:e})=>e.some(t=>t.status===Bi.Uploading),getReadyFiles:({files:e})=>e.filter(t=>t.status===Bi.Ready),getFilesCount:({files:e})=>e.length},q0=2048,FFe=1*1024*1024;async function Yj(e){let t=e,n,r;if(sX())try{const o=J3e(An()).resize,a=await o(t);return n=a.width,r=a.height,t=new File([a.buffer],a.name,{type:a.type}),{file:t,width:n,height:r}}catch(o){K.addError(new Error("Error resizing image:",{cause:o}))}const i=await fw(t);if(n=i.width,r=i.height,n>q0||r>q0||t.size>FFe)try{const o=await uX(t,q0),a=await fw(o);n=a.width,r=a.height,t=o}catch(o){K.addError(new Error("Error resizing image:",{cause:o}))}return{file:t,width:n,height:r}}async function UFe(e,t,n,r,s,i,o,a,c){const l=performance.now();ve.logEvent("Upload File Initiated",{client:"web",useCase:r.kind,contextConnector:i.contextConnector,fileSourceType:i.type}),ut.logEvent("chatgpt_file_upload_started",null,{client:"web",useCase:r.kind,contextConnector:i.contextConnector,fileSourceType:i.type});let u=Pr.Initial;const d=EX(e);try{const f=await Y.safePost("/connectors/upload/{connector_name}",{parameters:{path:{connector_name:i.contextConnector}},requestBody:{id:t,upload_use_case:r.kind,mime_type:n.type,name:n.name,gizmo_id:o,drive_id:i.o365DriveId,manifest:i.manifest}});switch(r.kind===Cn.Gizmo&&(r=I(b({},r),{kind:s.includes(yX(n))?Cn.Multimodal:Cn.MyFiles})),f.type){case"error":throw jFe(f.error);case"file":{switch(d.onFileCreated(t,f.file.id,"",i.contextConnector),u=Pr.FileProcessed,r.kind){case Cn.MyFiles:{d.onFileUploadProgress(t,90);const h=await RFe(f.file.file_id,o);(h==null?void 0:h.status)===Zl.Skipped&&c.danger(a.formatMessage(hw.retrievalSkippedFile,{fileName:h.name}),I(b({},E1),{toastId:"retrieval_index_skipped",loggingTitle:hw.retrievalSkippedFile.defaultMessage,loggingDescription:"Retrieval index skipped"})),d.onFileUploaded(t,f.file.file_id,void 0,{fileTokenSize:h.file_size_tokens,mimeType:f.file.mime_type}),u=Pr.RetrievalIndexCreated;break}case Cn.Multimodal:{d.onFileUploaded(t,f.file.file_id,{width:512,height:512},{mimeType:f.file.mime_type});break}case Cn.AceUpload:{d.onFileUploaded(t,f.file.file_id,void 0,{mimeType:f.file.mime_type});break}case Cn.DalleAgent:case Cn.Gizmo:case Cn.ProfilePicture:default:throw new Rt("Use case not supported by cloud doc: ".concat(r.kind))}break}case"folder":throw new Rt("Folder type not supported")}yt(Bt())&&Y.safePost("/lat/retrieval",{requestBody:{e2e_latency_ms:performance.now()-l,type:i.contextConnector}})}catch(f){K.addError(new Error("Failed to upload connected file by ".concat(i.contextConnector),{cause:f}));const h=gFe(n.name,i==null?void 0:i.syntheticExtension);_X(a,c,h,f);let p="NotInstanceOfError";f instanceof Gt?p="".concat(f.name,"_").concat(f.status):(f instanceof Error||f instanceof Rt)&&(p=f.name),d.onError(t,"error","connector_upload_"+p,{kind:Cn.MyFiles},u)}}function yX(e){return e.type||cX(e.name)}function jFe({status_code:e,error_code:t,error_message:n}){if(e&&e<500){let r="internal_error";return t?r=t:e===404?r="file_not_found":e===403?r="permission_error":e===413&&(r="file_too_large"),new Rt(n,r)}else return Gt.createWithErrorMessage("/connectors/upload","server",n,void 0,Error(n))}const Yo={reset:e=>{e.setState(mX)},restoreFiles:(e,t)=>{e.setState({files:t})},uploadFile:async(e,t,n,r,s,i,o,a={},c,l,u=!1,d=!1)=>{const{gizmoId:f,isUnauthenticated:h,contextScopes:p,isBigPaste:_}=a,m=e.getState().files,y=pFe(r,n.name,n.type,l==null?void 0:l.contextConnector,c),v={tempId:t,gizmoId:a.gizmoId,status:Bi.Uploading,file:n,progress:1,fileId:null,cdnUrl:null,contextConnectorInfo:l,contextConnector:l==null?void 0:l.contextConnector,isBigPaste:a.isBigPaste,source:u?"library":l?"connector":"local"},O=aCe(y);if(!u&&m.length>=O)ve.logEvent("Uploaded Max Files Error"),o.danger(i.formatMessage(a_.maxUploadsAtATime,{maxUploads:O,fileName:n.name}),I(b({},E1),{toastId:"max_uploads_at_a_time",loggingTitle:a_.maxUploadsAtATime.defaultMessage,loggingDescription:"Max uploads at a time"}));else if(!u&&m.some(S=>S.tempId===t))ve.logEvent("Uploaded Duplicate File Error"),o.danger(i.formatMessage(a_.duplicateFileAttached,{fileName:n.name.length>20?n.name.slice(0,19)+"â€¦":n.name}),I(b({},E1),{toastId:"duplicate_file_attached",loggingTitle:a_.duplicateFileAttached.defaultMessage,loggingDescription:"Duplicate file attached"}));else{(y!==Sn.Retrieval?!0:d?u:!0)&&e.setState(({files:A})=>({files:[...A,v]}));let E;const T={isUnauthenticated:h,contextScopes:p,isBigPaste:_};if(s.includes(n.type)){if(E={kind:Cn.Multimodal},!l){const A=await Yj(n);n=A.file,T.imageDimensions={width:A.width,height:A.height}}}else if(["video/mp4","video/quicktime"].includes(n.type)&&s.includes("image/png")&&Me(Bt(),"3681682292"))E={kind:"multimodal_video"};else if(y===Sn.Codex){E={kind:Cn.Codex};const A=await Yj(n);n=A.file,T.imageDimensions={width:A.width,height:A.height}}else switch(y){case Sn.Multimodal:throw new Error("Multimodal file upload not supported mime type, ".concat(n.type,"\nSupported mime types: ")+s.join(", "));case Sn.Interpreter:E={kind:Cn.AceUpload};break;case Sn.Retrieval:E={kind:u?Cn.LibraryFiles:Cn.MyFiles},T.usesRetrievalIndex=!0;break;case Sn.ProfilePicture:throw new Error("cannot upload profile picture via uploadFile");case Sn.ContextConnector:case Sn.None:return}f!=null&&(E={kind:Cn.Gizmo,gizmoId:f}),a.skipUpload||(l?await UFe(e,t,n,E,s,l,a.gizmoId,i,o):await pX(t,n,i,o,E,EX(e),T))}},createFileCompleted:(e,t,n,r,s)=>{const i=e.getState().files,o=i.findIndex(c=>c.tempId===t),a=i[o];if(o>=0&&a.status===Bi.Uploading){const c=[...i];c.splice(o,1,I(b({},a),{progress:10,fileId:n,cdnUrl:r,contextConnector:s})),e.setState({files:c})}},updateProgress:(e,t,n)=>{const r=e.getState().files,s=r.findIndex(o=>o.tempId===t),i=r[s];if(s>=0&&i.status===Bi.Uploading){const o=[...r];o.splice(s,1,I(b({},i),{progress:n})),e.setState({files:o})}},uploadCompleted:(e,t,n,r,s,i)=>{var c,l,u,d,f;const o=e.getState().files,a=o.findIndex(h=>h.tempId===t);if(a>=0&&o[a].status===Bi.Uploading&&o[a].fileId!=null){const h=o[a],p=[...o],_=I(b({},h),{tempId:t,status:Bi.Ready,progress:100,fileSpec:b(b({name:h.file.name,id:h.fileId,size:h.file.size,contextConnectorInfo:h.contextConnectorInfo,mimeType:(c=s==null?void 0:s.mimeType)!=null?c:yX(h.file),isBigPaste:(l=h.isBigPaste)!=null?l:!1},r||{}),s||{}),libraryFileId:(u=s==null?void 0:s.libraryFileId)!=null?u:h.libraryFileId});p.splice(a,1,_);const m=b({},e.getState().connectorFileData);i&&(m[i==null?void 0:i.file_id]=i),e.setState({files:p,connectorFileData:m}),ve.logEvent("Upload File Completed",{status:h.status,fileId:h.fileId,contextConnector:(d=h.contextConnector)!=null?d:"local"}),ut.logEvent("chatgpt_file_upload_completed",null,{status:h.status,contextConnector:(f=h.contextConnector)!=null?f:"local"})}},remove:(e,t,n,r,s,i)=>{var c,l;const o=e.getState().files,a=o.findIndex(u=>u.tempId===t);if(a>=0){const u=o[a];n==="error"?(ve.logEvent("Upload File Error",{status:u.status,fileId:u.fileId,client:"web",errorClassName:r!=null?r:"undefined",useCaseType:s,uploadStatus:i!=null?i:"undefined",contextConnector:u.contextConnector}),ut.logEvent("chatgpt_file_upload_error",null,{client:"web",errorClassName:r!=null?r:"undefined",useCaseType:(c=s==null?void 0:s.kind)!=null?c:"undefined",uploadStatus:i!=null?i:"undefined",contextConnector:(l=u.contextConnector)!=null?l:"undefined"})):ve.logEvent("Remove File",{status:u.status,fileId:u.fileId});const d=[...o];d.splice(a,1),e.setState({files:d})}},attachLibraryFile:(e,t)=>{var a,c;const n=new File([],t.name,{type:t.mimeType}),r=NFe(n),s=e.getState().files;if(s.some(l=>l.fileId===t.id))return;const i=((a=t.mimeType)==null?void 0:a.startsWith("image/"))===!0,o={tempId:r,status:Bi.Ready,file:n,fileId:t.id,cdnUrl:null,progress:100,source:"library",libraryFileId:t.libraryFileId,isBigPaste:!1,fileSpec:b({id:t.id,name:t.name,size:(c=t.size)!=null?c:0,mimeType:t.mimeType,isBigPaste:!1},i?{width:512,height:512}:{})};e.setState({files:[...s,o]})}},EX=e=>({onFileCreated:Yo.createFileCompleted.bind(null,e),onFileUploadProgress:Yo.updateProgress.bind(null,e),onFileUploaded:Yo.uploadCompleted.bind(null,e),onError:Yo.remove.bind(null,e)}),a_=At({maxUploadsAtATime:{id:"useFilePickerState.maxUploadsAtATime",defaultMessage:"Unable to upload {fileName}. Max {maxUploads} uploads at a time"},duplicateFileAttached:{id:"useFilePickerState.duplicateFileAttached",defaultMessage:"Unable to upload {fileName} because an identical file has already been attached to this message."}}),BFe=It.createContext({mode:void 0,getGizmoId:void 0}),GFe=()=>C.useContext(BFe),V0={filePickerStarted:e=>{ve.logEvent("Context Connectors: Picker Started",{contextConnector:e})},filePickerLoaded:e=>{ve.logEvent("Context Connectors: Picker Loaded",{contextConnector:e})},filePickerPicked:(e,t)=>{ve.logEvent("Context Connectors: Picker Picked",{contextConnector:e,numFiles:t})},filePickerCancelled:e=>{ve.logEvent("Context Connectors: Picker Cancelled",{contextConnector:e})},linkPasted:e=>{ve.logEvent("Context Connectors: Link Pasted",b({},e))},linkMetadataFetchStarted:e=>{ve.logEvent("Context Connectors: Link Metadata Fetch Started",{contextConnector:e})},linkMetadataFetchSucceeded:(e,t)=>{ve.logEvent("Context Connectors: Link Metadata Fetch Succeeded",{contextConnector:e,mimeType:t})},linkMetadataFetchFailed:(e,t)=>{ve.logEvent("Context Connectors: Link Metadata Fetch Failed",{contextConnector:e,reason:String(t)})},oauthUpsellButtonClick:(e,t)=>{ve.logEvent("Context Connectors: OAuth Upsell Button Click",{contextConnector:e,choice:t})},expiredAccessTokenUsed:(e,t)=>{ve.logEvent("Context Connectors: Expired Access Token Used",{contextConnector:e,useCase:t})}};function HYe(e,t,n,r){"use forget";const s=W.c(16),i=Hn(),o=ft(),{getGizmoId:a}=GFe(),[c,l]=C.useState();let u,d;s[0]!==a?(u=()=>{a?a().then(O=>l(O)):l(void 0)},d=[a],s[0]=a,s[1]=u,s[2]=d):(u=s[1],d=s[2]),C.useEffect(u,d);const f=ph(t),h=vX(),p=ce();let _;s[3]!==e||s[4]!==p?(_=Y3e(p,e),s[3]=e,s[4]=p,s[5]=_):_=s[5];const m=Le(_);let y;return s[6]!==r||s[7]!==e||s[8]!==f||s[9]!==m||s[10]!==c||s[11]!==o||s[12]!==n||s[13]!==h||s[14]!==i?(y=O=>{const S=jc(e),{docsReferencedByURL:E}=S!=null?S:{};if(E==null)return;const T=Array.isArray(m)&&m.length>0?m:void 0;for(const A of O){const{id:w,type:N,handler:P}=A,x="".concat(N,":").concat(w),D=E[x],F=h.getState().files.find(j=>j.tempId===w);if(D!=null&&D!=="failed"&&F){i.success(o.formatMessage(c_.fileAlreadyAttached),{hasCloseButton:!0});continue}e:switch(P.type){case"fetch":{$i(e,j=>{j.docsReferencedByURL[x]="pending"}),Yo.uploadFile(h,w,new File([],o.formatMessage(c_.fileLoading)),Sn.None,n,o,i,b({skipUpload:!0,gizmoId:c},T?{contextScopes:T}:{}),r,{contextConnector:N,sourceUrl:A.url,syntheticExtension:null,type:Ef.Link}),V0.linkMetadataFetchStarted(N),P.tryFetch().then(j=>{if(Yo.remove(h,w,"none"),j==null)return null;const{id:$,title:q,connector:k,mimeType:Z,url:B,syntheticExtension:Q,o365DriveId:se,manifest:fe}=j;V0.linkMetadataFetchSucceeded(N,Z),$i(e,H=>{H.docsReferencedByURL[x]="fetched"});let V=q;k===Te.GDRIVE&&(V=Q?"".concat(q,".").concat(Q):q),Yo.uploadFile(h,$,new File([],V,{type:Z.split(";")[0]}),Sn.Retrieval,n,o,i,b({gizmoId:c},T?{contextScopes:T}:{}),r,{contextConnector:k,sourceUrl:B,syntheticExtension:Q,type:Ef.Link,o365DriveId:se,manifest:fe})}).catch(j=>{V0.linkMetadataFetchFailed(N,j),j instanceof Gt&&j.status===404&&N===Te.NOTION_OPEN_CONNECTOR?(i.danger(c_.fileNotAccessible,{hasCloseButton:!0,toastId:"ccc_use_parsed_document_handler"}),f.appendMessageIfNotDismissed({connector:N,type:"not-connected"})):i.danger(c_.fileFetchFailed,{hasCloseButton:!0,toastId:"ccc_use_parsed_document_handler"}),$i(e,$=>{$.docsReferencedByURL[x]="failed"}),Yo.remove(h,w,"none")});break e}case"prompt":f.appendMessageIfNotDismissed({connector:N,type:P.message}),$i(e,j=>{j.docsReferencedByURL[x]="prompted"})}}},s[6]=r,s[7]=e,s[8]=f,s[9]=m,s[10]=c,s[11]=o,s[12]=n,s[13]=h,s[14]=i,s[15]=y):y=s[15],y}const c_=At({fileLoading:{id:"CCC.fileLoading",defaultMessage:"Loadingâ€¦"},fileFetchFailed:{id:"CCC.fileFetchFailed",defaultMessage:"Unable to fetch file information"},fileAlreadyAttached:{id:"CCC.fileAlreadyAttached",defaultMessage:"This file is already a part of your message."},fileNotAccessible:{id:"CCC.fileNotAccessible",defaultMessage:"This document is not accessible by ChatGPT, please make sure the document exists and you have granted ChatGPT the access."}}),CX=()=>{const e=VI(),{connectorConfig:t,isLoading:n,error:r,refetch:s}=BDe(),i=t.has(Te.CONFLUENCE)&&!e,o=t.has(Te.GDRIVE)&&!e,a=t.has(Te.JIRA)&&!e,c=t.has(Te.NOTION_OPEN_CONNECTOR)&&!e,l=(t.has(Te.O365_PERSONAL)||t.has(Te.O365_BUSINESS))&&!e,u=t.has(Te.SLACK_OPEN_CONNECTOR)&&!e;return{isConfluenceEnabled:i,isGdriveEnabled:o,isJiraEnabled:a,isNotionOpenConnectorEnabled:c,isO365Enabled:l,isSlackOpenConnectorEnabled:u,connectorConfig:t,isLoading:n,hasContextConnectorEnabled:i||o||a||c||l||u,error:r,refetch:s}},$Ye=e=>{if(!(!e||e==="UNSET"))return e==="PERSONALIZE_ALWAYS"},WFe=({connectorId:e,redirectAfter:t,systemHintType:n,referrer:r,showSettingsBehindConnectorLink:s,authTypeOverride:i,noRedirect:o,slackWorkspace:a,slackTeamId:c,syncOnly:l}={})=>SX(u=>{u.set(zP,"true"),u.set(YP,xt.CONNECTOR_SETTING),e&&u.set(oK,e),t&&u.set(cK,t),n&&u.set(Pke,n),r&&u.set(XP,r),i&&u.set(JP,i),s&&u.set(aK,"true"),o&&u.set(KP,"true"),a&&u.set(QP,a),c&&u.set(ZP,c),l&&u.set(eR,"true")}),qYe=()=>{const e=co();return(t={})=>e(WFe(t),{replace:!0})},VYe=()=>{const e=co();return()=>e(SX(t=>{t.delete(zP),t.delete(YP),t.delete(XP),t.delete(JP),t.delete(KP),t.delete(QP),t.delete(ZP),t.delete(eR)}),{replace:!0})};function SX(e){const t=window.location.hash,[n,r]=t.split("?"),s=new URLSearchParams(r);e(s);const i=s.toString();return ow+(i?"?".concat(i):"")}const zYe=()=>{const{hash:e}=nn(),t=e.indexOf("?");return t===-1?!1:new URLSearchParams(e.substring(t+1)).get(zP)==="true"},YYe=()=>{const{hash:e}=nn(),t=e.indexOf("?");return t===-1?!1:new URLSearchParams(e.substring(t+1)).get(aK)==="true"},KYe=()=>{const{hash:e}=nn(),t=e.indexOf("?");return t===-1?!1:new URLSearchParams(e.substring(t+1)).get(Nke)==="true"},XYe=()=>{const{hash:e}=nn(),t=e.indexOf("?");return t===-1?!1:new URLSearchParams(e.substring(t+1)).get(Ike)==="true"},JYe=()=>{const e=co();return t=>{const n=window.location.hash,[r,s]=n.split("?"),i=new URLSearchParams(s);t?i.set("connector",t):i.delete("connector");const o=i.toString()?"".concat(r,"?").concat(i.toString()):r;e(o,{replace:!0})}},vo=e=>{const{hash:t}=nn();return C.useMemo(()=>{var s;const n=t.indexOf("?");return n===-1?void 0:(s=new URLSearchParams(t.slice(n+1)).get(e))!=null?s:void 0},[t,e])},QYe=()=>vo(cK),ZYe=()=>vo(KP),eKe=()=>vo(XP),HFe=qre(Object.values(xt),void 0),tKe=()=>HFe(vo(YP)),nKe=()=>vo(eR),rKe=()=>vo(oK),sKe=()=>vo(QP),iKe=()=>vo(ZP),oKe=()=>{const e=vo(JP);return e==="OAUTH"||e==="NONE"?e:void 0},Kj=e=>{if(typeof e=="string")return e;if(typeof e=="number"||typeof e=="boolean")return String(e)},bX=e=>typeof e=="object"&&e!=null,$Fe=e=>typeof e=="object"&&e!=null,qFe=e=>bX(e);function aKe(e){if(!$Fe(e))return[];if(!bX(e.properties))return[];const t=Array.isArray(e.required)?e.required.filter(n=>typeof n=="string"):[];return Object.entries(e.properties).map(([n,r])=>{const s=qFe(r)?r:{},i=typeof s.title=="string"?s.title:n,o=typeof s.type=="string"?s.type:"string",a=typeof s.description=="string"?s.description:void 0;let c;Array.isArray(s.enum)&&(c=s.enum.map(u=>Kj(u)).filter(u=>u!==void 0));const l=Kj(s.default);return{name:n,title:i,type:o,required:t.includes(n),description:a,enumValues:c,defaultValue:l!=null?l:void 0}})}const VFe=e=>e.defaultValue!==void 0?e.defaultValue:e.enumValues&&e.enumValues.length>0?e.enumValues[0]:"",cKe=(e,t)=>e.reduce((n,r)=>{const s=t[r.name];return s!==void 0&&(!r.enumValues||r.enumValues.includes(s))?n[r.name]=s:n[r.name]=VFe(r),n},{}),lKe=(e,t,n)=>{var i;const r={},s={};for(const o of e){const a=(i=t[o.name])!=null?i:"",c=o.enumValues&&o.enumValues.length>0?a:a.trim();o.required&&!c&&(r[o.name]=n.formatMessage(JFe.requiredFieldError)),c&&(s[o.name]=c)}return{sanitizedLinkParams:Object.keys(s).length>0?s:void 0,errors:r}},zFe=(e,t)=>t&&e.supported_auth.some(n=>n.type===t)?t:e.supported_auth.some(n=>n.type==="OAUTH")?"OAUTH":"NONE",YFe=(e,t,n)=>Y.safePost("/aip/connectors/links/noauth",{requestBody:{connector_id:e.id,name:e.name,action_names:[],tool_settings:t,action_param_schemas:n},additionalHeaders:{[jt]:xt.CONNECTOR_SETTING}}),KFe=async({connector:e,redirectAfter:t,shouldRedirectToConnectorDetails:n=!1,onError:r,openPopup:s,toaster:i,intl:o,productSku:a,connectorIdOverride:c,slackTeamIdOverride:l,linkParams:u,toolSettings:d,actionParamSchemas:f})=>{const h=c!=null?c:e.id,p={connectorId:h,name:e.name,actionNames:null,oauthClientId:h===vv?rpe:h===yv?spe:h===Ev?ipe:null,oauthClientScopes:null,slackTeamId:l,linkParams:u,toolSettings:d,actionParamSchemas:f};return await fpe({redirectUri:cpe(),connectorPlatformParams:p,redirectTo:t||(n?"".concat(ow,"?connector=").concat(h):ow),onError:r,openPopup:s,toaster:i,intl:o,productSku:a})},XFe=async({connector:e,shouldRedirectToConnectorDetails:t=!1,openPopup:n,toaster:r,intl:s,authTypeOverride:i,redirectAfter:o,toolSettings:a,actionParamSchemas:c})=>{switch(zFe(e,i)){case"OAUTH":return await KFe({connector:e,redirectAfter:o,shouldRedirectToConnectorDetails:t,openPopup:n,toaster:r,intl:s,productSku:xt.CONNECTOR_SETTING,toolSettings:a,actionParamSchemas:c}),null;case"NONE":return await YFe(e,a,c)}},uKe=(e,t,n,r)=>Y.safePost("/accounts/{account_id}/connectors/{connector_id}/publish",{parameters:{path:{account_id:t,connector_id:e}},requestBody:{enabled_actions:n,enabled_roles:r}}),JFe=At({sectionTitle:{id:"addConnectorLinkModal.linkParams.sectionTitle",defaultMessage:"Provide account details"},sectionDescription:{id:"addConnectorLinkModal.linkParams.sectionDescription",defaultMessage:"We need a bit more information from you before continuing."},baseUrlHelper:{id:"addConnectorLinkModal.linkParams.baseUrlHelper",defaultMessage:"You can usually find these values in your URL (for example, {exampleUrl})."},requiredFieldsToast:{id:"addConnectorLinkModal.linkParams.requiredFieldsToast",defaultMessage:"Fill in the required fields to continue."},requiredFieldError:{id:"addConnectorLinkModal.linkParams.requiredFieldError",defaultMessage:"This field is required."},fieldPlaceholder:{id:"addConnectorLinkModal.linkParams.fieldPlaceholder",defaultMessage:"Enter {label}"},fieldLabelRequired:{id:"addConnectorLinkModal.linkParams.fieldLabelRequired",defaultMessage:"{label} (required)"}}),dKe=(e,t,n)=>Y.safePut("/accounts/{account_id}/connectors/{connector_id}/enabled_actions",{parameters:{path:{account_id:t,connector_id:e}},requestBody:{enabled_actions:n}}),QFe=()=>{const e=Ju(),t=sd(),n=C.useMemo(()=>{var o;return(o=t.data)==null?void 0:o.connection_statuses.filter(a=>["google_drive_oauth","google_drive_dwd"].includes(a.user_connection_details.knowledge_connector_type))},[t.data]),r=CX(),s=r.connectorConfig.get(Te.GDRIVE),i=r.isGdriveEnabled&&!!s;return{isLoading:t.isLoading||r.isLoading,fileUploadConfig:i?s:null,internalKnowledgeEnabled:e,internalKnowledgeConfigs:e&&(n!=null&&n.length)?n:null}},fKe=()=>{var r;const e=Ju(),t=sd(),n=(r=t.data)==null?void 0:r.connection_statuses.some(s=>s.user_connection_details.connection_type==="github_sync_connector");return{isLoading:t.isLoading,isEnabled:e&&n}},hKe=()=>{var r;const e=Ju(),t=sd(),n=(r=t.data)==null?void 0:r.connection_statuses.some(s=>s.user_connection_details.connection_type==="sharepoint_sync_connector");return{isLoading:t.isLoading,isEnabled:e&&n}},pKe=e=>{const t=mo(),n=!(t!=null&&t.isPersonalAccount())&&(t==null?void 0:t.planType)!==ae.SELF_SERVE_BUSINESS,r=Lbe(e),{isEnabled:s,isLoading:i}=ZFe(e==="help_scout"?"helpscout_sync_connector":"".concat(e,"_sync_connector"));return n?r&&(s!=null?s:!1)&&!i:r},ZFe=e=>{var s;const t=Ju(),n=sd(),r=(s=n.data)==null?void 0:s.connection_statuses.some(i=>i.user_connection_details.connection_type===e);return{isLoading:n.isLoading,isEnabled:t&&r}},eUe=()=>{const e=CX(),t=e.connectorConfig.get(Te.O365_PERSONAL),n=e.connectorConfig.get(Te.O365_BUSINESS);return{isLoading:e.isLoading,personalConfig:e.isO365Enabled&&(t!=null&&t.access_token)?t:null,businessConfig:e.isO365Enabled&&(n!=null&&n.access_token)?n:null}},_Ke=()=>{var y,v,O,S,E,T,A,w;const e=ce(),t=Ju(),n=Le(()=>ua.if$(e,{productSku:xt.CONNECTOR_SETTING},t)),r=HI({fetchValidLinksOnly:!0,productSku:xt.CONNECTOR_SETTING}),{fileUploadConfig:s,internalKnowledgeConfigs:i}=QFe(),o=eUe(),a=Le(()=>Wv(e)),c=((v=(y=r.connectorLinks.get(Nt[R.GDRIVE_ACTION_CONNECTOR]))==null?void 0:y.length)!=null?v:0)>0||((O=i==null?void 0:i.filter(N=>N.user_connection_details.auth_status!=="not_connected").length)!=null?O:0)>0,l=((E=(S=r.connectorLinks.get(Nt[R.SHAREPOINT_CONNECTOR]))==null?void 0:S.length)!=null?E:0)>0,u=!!(s!=null&&s.access_token),d=!!((T=o.businessConfig)!=null&&T.access_token),f=(A=n.data)==null?void 0:A.connectors.find(N=>N.id===Nt[R.GDRIVE_ACTION_CONNECTOR]),h=f&&f.status!=="DISABLED_BY_ADMIN"||((w=i==null?void 0:i.filter(N=>N.user_connection_details.auth_status==="not_connected").length)!=null?w:0)>0,p=a!=null&&a.some(N=>N.type===R.SHAREPOINT_CONNECTOR&&N.status!=="DISABLED_BY_ADMIN");return{canUpgradeGDrive:u&&!c&&h,canUpgradeSharepoint:d&&!l&&p,isLoading:n.isLoading||r.isLoading}};async function mKe(e){return(await Y.safeGet("/aip/connectors/mcp/oauth_config",{parameters:{query:{mcp_url:e}},additionalHeaders:{[jt]:xt.CONNECTOR_SETTING}})).oauth_config}async function gKe(e){return await Y.safeGet("/aip/connectors/mcp/oauth_config/validate",{parameters:{query:{mcp_url:e}},additionalHeaders:{[jt]:xt.CONNECTOR_SETTING}})}function vKe(e){return Y.safePost("/aip/connectors/mcp/refresh_actions",{requestBody:{link_id:e},additionalHeaders:{[jt]:xt.CONNECTOR_SETTING}})}function yKe(e,t){return Y.safePatch("/aip/connectors/links/{link_id}",{parameters:{path:{link_id:e}},requestBody:{actions:t},additionalHeaders:{[jt]:xt.CONNECTOR_SETTING}})}function EKe(e,t){return Y.safePatch("/aip/connectors/links/{link_id}",{parameters:{path:{link_id:e}},requestBody:{approved_context_scopes:t},additionalHeaders:{[jt]:xt.CONNECTOR_SETTING}})}function CKe(e,t){return Y.safePatch("/aip/connectors/links/{link_id}",{parameters:{path:{link_id:e}},requestBody:{tool_settings:t},additionalHeaders:{[jt]:xt.CONNECTOR_SETTING}})}function SKe(e,t,n){const r=[Uf(!1),Uf(!0)];for(const s of r)e.setQueryData(s,i=>{if(!i)return i;const o=a=>{const c=a.findIndex(d=>d.id===t);if(c===-1)return{didUpdate:!1,nextLinks:a};const l=I(b({},a[c]),{approved_context_scopes:n}),u=[...a];return u[c]=l,{didUpdate:!0,nextLinks:u}};if(i instanceof Map){let a=!1;const c=new Map(i);for(const[l,u]of c.entries()){const{didUpdate:d,nextLinks:f}=o(u);if(d){c.set(l,f),a=!0;break}}return a?c:i}if(typeof i=="object"){let a=!1;const c={};for(const[l,u]of Object.entries(i)){const{didUpdate:d,nextLinks:f}=o(u);c[l]=f,d&&(a=!0)}return a?c:i}return i})}function bKe(e,t){return Y.safePatch("/aip/connectors/{connector_id}/description",{parameters:{path:{connector_id:e}},requestBody:{description:t},additionalHeaders:{[jt]:xt.CONNECTOR_SETTING}})}function TKe(e,t){return Y.safePatch("/aip/connectors/{connector_id}/model_description",{parameters:{path:{connector_id:e}},requestBody:{model_description:t},additionalHeaders:{[jt]:xt.CONNECTOR_SETTING}})}function OKe(e,t){return Y.safePatch("/aip/connectors/{connector_id}/logo",{parameters:{path:{connector_id:e}},requestBody:{logo_url:t},additionalHeaders:{[jt]:xt.CONNECTOR_SETTING}})}function AKe(e,t){return Y.safePatch("/aip/connectors/{connector_id}/name",{parameters:{path:{connector_id:e}},requestBody:{name:t},additionalHeaders:{[jt]:xt.CONNECTOR_SETTING}})}function wKe(e,t){return Y.safePatch("/aip/connectors/{connector_id}/branding",{parameters:{path:{connector_id:e}},requestBody:t,additionalHeaders:{[jt]:xt.CONNECTOR_SETTING}})}function tUe(e){return Y.safeGet("/aip/connectors/{connector_id}/conformance",{parameters:{path:{connector_id:e}},additionalHeaders:{[jt]:xt.CONNECTOR_SETTING}})}function nUe(e){return Y.safeDelete("/aip/connectors/{connector_id}",{parameters:{path:{connector_id:e}},additionalHeaders:{[jt]:xt.CONNECTOR_SETTING}})}const rUe=At({gdriveBrandName:{id:"81dp6y",defaultMessage:"Google Drive"}}),NKe=(e,t)=>e==="gdrive_action_connector"?t.formatMessage(rUe.gdriveBrandName):e;async function IKe(e,t,n){const r="https://chat.openai.com/aip/".concat(e.id,"/oauth/callback"),s=t,i=await Y.safeGet("/aip/p/{id}/user-settings/oauth/redirect",{parameters:{path:{id:e.id},query:{redirect_uri:r,redirect_to:s}}});window.location.href=i.redirect_uri}async function PKe(e,t,n,r){const s=await Y.safeGet("/connectors/{id}/oauth/redirect",{parameters:{path:{id:e.id},query:{redirect_uri:n,entry_point:t,redirect_to:r}}});window.location.href=s.redirect_uri}async function sUe(e,t){e&&await Y.safeDelete("/aip/connectors/links/{link_id}",{parameters:{path:{link_id:e}},additionalHeaders:t?{[jt]:t}:void 0})}async function iUe(e,t){await Y.safeDelete("/aip/connectors/links",{requestBody:{connector_id:e},additionalHeaders:t?{[jt]:t}:void 0})}function RKe(e){switch(e){case Ef.Link:return"link_paste_popover";case Ef.Picker:return"file_upload_menu"}}async function xKe(e){await Y.safeDelete("/connectors/user_setting/{connector_name}",{parameters:{path:{connector_name:e}}}),window.location.reload()}function MKe(e,t,n){return oUe(e,Nt[t],n)}function oUe(e,t,n){const r=a8(e,n);return r&&aUe(r,t)}function aUe(e,t){const n=e.get(t);return!!n&&n.status!=="DISABLED_BY_ADMIN"}function cUe(e,t,n){const r=ce(),s=Fv(r),i=ft(),o=Hn(),{data:a,isLoading:c,error:l,refetch:u}=rn({queryKey:["connector-client-data",e],queryFn:async()=>{const d=await Y.safeGet("/aip/connectors/oauth_clients",{parameters:{query:{service:t}},additionalHeaders:n?{[jt]:n}:void 0});return d.oauth_clients?d.oauth_clients:(o.danger(i.formatMessage({id:"OfpT7B",defaultMessage:"Request error fetching oauth clients"}),{id:"fetch-oauth-clients-error",duration:3,hasCloseButton:!0}),[])},enabled:s});return{oAuthClients:a,isLoading:c,error:l,refetch:u}}function kKe(){"use forget";const e=W.c(2),t=Kt();let n;return e[0]!==t?(n=()=>{t.invalidateQueries({refetchType:"all",queryKey:i8()}),t.invalidateQueries(I(b({},Eu("connectors")),{refetchType:"all"}))},e[0]=t,e[1]=n):n=e[1],n}function LKe(e,t,n="/",r,s,i){var j;const o=ce(),{data:a,isLoading:c,error:l}=Le(()=>ua(o,{productSku:r})),u=Uv(a),{connectorLinks:d,isLoading:f,error:h,refetch:p}=HI({productSku:r}),{oAuthClients:_,isLoading:m,error:y,refetch:v}=cUe(e,t,r),O=lUe(),S=C.useCallback(()=>{ua.refetch(o,{productSku:r}),p(),v()},[o,r,p,v]),E=Nt[e],T=u.get(E),A=C.useMemo(()=>{var $;return($=d.get(E))!=null?$:[]},[d,E]),w=A[0],N=A.length>0,P=w==null?void 0:w.id,x=C.useCallback($=>{const q=typeof $=="string"&&$?$:P;q&&O(q,()=>{S()},r)},[O,S,P,r]),D=(j=l!=null?l:h)!=null?j:y,M=c||f||m,F=C.useCallback(()=>{if(!M){if(!T){s==null||s();return}if(!(_!=null&&_.length)){i==null||i();return}window.location.hash="#settings/".concat(gv.Connectors,"?connector=").concat(E,"&add-connector-link=true&redirectAfter=").concat(n,"&product-sku=").concat(r,"&referrer=").concat(lK.Codex)}},[M,T,_,E,s,i,n,r]);return C.useMemo(()=>({isLoading:M,isConnected:N,openConnectorModal:F,openGithubModal:F,error:D,refetch:S,handleDisconnect:x,link:w,links:A,platformConnector:T}),[M,N,F,D,S,x,w,A,T])}function DKe(e,t,n){"use forget";var _,m;const r=W.c(20),s=ce(),i=e==null?void 0:e.id;let o;r[0]!==i?(o=["connector-actions",i],r[0]=i,r[1]=o):o=r[1];let a;r[2]!==(e==null?void 0:e.id)||r[3]!==s||r[4]!==(n==null?void 0:n.forceEnable)?(a=!!(n!=null&&n.forceEnable)||!!(e!=null&&e.id)&&o8(s),r[2]=e==null?void 0:e.id,r[3]=s,r[4]=n==null?void 0:n.forceEnable,r[5]=a):a=r[5];let c;r[6]!==e||r[7]!==t?(c=()=>Y.safeGet("/aip/connectors/{connector_id}/actions",{parameters:{path:{connector_id:e.id}},additionalHeaders:t?{[jt]:t}:void 0}),r[6]=e,r[7]=t,r[8]=c):c=r[8];let l;r[9]!==o||r[10]!==a||r[11]!==c?(l={queryKey:o,enabled:a,queryFn:c},r[9]=o,r[10]=a,r[11]=c,r[12]=l):l=r[12];const{data:u,isLoading:d,refetch:f}=rn(l);let h;r[13]!==(e==null?void 0:e.actions)||r[14]!==(u==null?void 0:u.actions)?(h=(m=(_=u==null?void 0:u.actions)!=null?_:e==null?void 0:e.actions)!=null?m:[],r[13]=e==null?void 0:e.actions,r[14]=u==null?void 0:u.actions,r[15]=h):h=r[15];let p;return r[16]!==d||r[17]!==f||r[18]!==h?(p={actions:h,isLoading:d,refetch:f},r[16]=d,r[17]=f,r[18]=h,r[19]=p):p=r[19],p}function FKe(e){"use forget";const t=W.c(18),n=ce(),r=ft(),s=Hn(),i=_0e();let o;t[0]!==n?(o=on(n),t[0]=n,t[1]=o):o=t[1];const a=o;let c;t[2]!==n?(c=()=>$v(n),t[2]=n,t[3]=c):c=t[3];const l=Le(c);let u;t[4]!==n?(u=d0e(n),t[4]=n,t[5]=u):u=t[5];const d=u;let f;t[6]!==r||t[7]!==d||t[8]!==l||t[9]!==i||t[10]!==e||t[11]!==s?(f=async _=>{const T=_,{supported_auth:m,oauth_client_params:y}=T,v=G(T,["supported_auth","oauth_client_params"]),{connector:O}=await Y.safePost("/aip/connectors/mcp",{requestBody:I(b({},v),{skip_safety_checks:!0,auth_request:{supported_auth:m,oauth_client_params:y}}),additionalHeaders:e?{[jt]:e}:void 0});if(O.supported_auth.length===0){const A=await tUe(O.id);if(!l&&!d&&!A.implements_retrievable)return await nUe(O.id),{connector:null,link:null,implementsRetrievable:!1}}let S=_.redirectAfter;_.template_id&&(S="/admin/ca#drafts?publish=".concat(encodeURIComponent(O.id)));const E=await XFe({connector:O,shouldRedirectToConnectorDetails:!0,openPopup:i,toaster:s,intl:r,authTypeOverride:_.authTypeOverride,redirectAfter:S});return{connector:O,link:E,implementsRetrievable:!0}},t[6]=r,t[7]=d,t[8]=l,t[9]=i,t[10]=e,t[11]=s,t[12]=f):f=t[12];let h;t[13]!==a?(h=()=>{a.invalidateQueries()},t[13]=a,t[14]=h):h=t[14];let p;return t[15]!==f||t[16]!==h?(p={mutationFn:f,onSettled:h},t[15]=f,t[16]=h,t[17]=p):p=t[17],tn(p)}function UKe(){const e=ft(),t=Hn(),n=Kt();return async(s,i,o)=>{try{await iUe(s,o),await n.invalidateQueries(),i==null||i()}catch(a){t.danger(e.formatMessage({id:"Gmong7",defaultMessage:"Error disconnecting connector"}))}}}function lUe(){const e=ft(),t=Hn(),n=Kt();return async(s,i,o)=>{try{await sUe(s,o),await Promise.all([!1,!0].map(a=>n.invalidateQueries({queryKey:Uf(a)}))),i==null||i()}catch(a){t.danger(e.formatMessage({id:"Gmong7",defaultMessage:"Error disconnecting connector"}))}}}function jKe(){const e=ce(),t=mo(),n=ft(),r=Hn();return tn({mutationKey:["upgradeConnectorToSync"],mutationFn:({link:s,user_extension:i})=>t!=null&&t.isPersonalAccount()?la.user_request_connect_upgrade_to_sync({link_id:s.id,user_extension:i}):la.user_activate_workspace_connection_and_user({link_id:s.id,user_extension:i}),onMutate:({link:s,isConnectingAndUpgrading:i=!1,referrer:o})=>{ve.logEventWithStatsig("Connectors - Upgrade To Sync Initiated","chatgpt_connectors_upgrade_to_sync_initiated",{connector_id:s.connector_id,isConnectingAndUpgrading:i?"true":"false"}),wr.logUpgradeToSyncInitiated({connector_id_metadata:wr.createIdMetadataFromId(e,s.connector_id,o),upgradeToSync:!i,referrer:o})},onSuccess:(s,{link:i,isConnectingAndUpgrading:o=!1,referrer:a})=>{WI(e),r.success(o?n.formatMessage({id:"rfbIpd",defaultMessage:"{connector} is now connected and syncing."},{connector:i.name}):n.formatMessage({id:"yhtO5d",defaultMessage:"{connector} is now syncing."},{connector:i.name})),wr.logUpgradeToSyncCompleted({success:!0,connector_id_metadata:wr.createIdMetadataFromId(e,i.connector_id,a),upgradeToSync:!o,referrer:a}),ve.logEventWithStatsig("Connectors - Upgrade To Sync Success","chatgpt_connectors_upgrade_to_sync_success",{connector_id:i.connector_id,isConnectingAndUpgrading:o?"true":"false"})},onError:(s,{link:i,isConnectingAndUpgrading:o=!1,referrer:a})=>{if(o)r.warning(n.formatMessage({id:"wag12O",defaultMessage:"{connector} is now connected, but not syncing. Try enabling sync again."},{connector:i.name}));else{wr.logUpgradeToSyncCompleted({success:!1,connector_id_metadata:wr.createIdMetadataFromId(e,i.connector_id,a),upgradeToSync:!o,referrer:a});const c=s instanceof Gt&&s.status===409?n.formatMessage({id:"Tedt6I",defaultMessage:"Connector name already exists"}):n.formatMessage({id:"tumE6A",defaultMessage:"There was a problem syncing {connector}. Try again later."},{connector:i.name});r.danger(c,{toastId:"upgrade_connector_to_sync",loggingTitle:s instanceof Gt&&s.status===409?"Connector name already exists":"There was a problem syncing {connector}. Try again later."})}ve.logEventWithStatsig("Connectors - Upgrade To Sync Error","chatgpt_connectors_upgrade_to_sync_error",{connector_id:i.connector_id,isConnectingAndUpgrading:o?"true":"false"})}})}function BKe(){const e=ce(),t=ft(),n=Hn(),{refetch:r}=sd();return async i=>{try{await la.user_delete_sync(i),r(),WI(e),n.success(t.formatMessage({id:"Nktfkq",defaultMessage:"Successfully disabled sync."}))}catch(o){n.danger(En({id:"+R+5ol",defaultMessage:"Error disabling sync for your connector."}),{toastId:"disable_sync_on_connector"})}}}function TX(e,t){var r;if(t&&sy(e,t).gizmo$(),!((r=Hr(e))!=null&&r.isEnterprisey()))return!0;const n=Wv(e);return n8(e)||n!=null&&n.length>0}const uUe={enabledAutoConnectors:[],isLoading:!1};function GKe({platformConnectors:e,enabled:t}){const n=ce(),{isLoading:r,data:s}=Le(()=>Yu.if$(n,t)),v=s!=null?s:{},{disabledTools:i=[]}=v,o=G(v,["disabledTools"]),a=Kt(),{isPending:c,mutate:l}=tn({mutationFn:async({data:O})=>await kme(O),onSettled:(O,S)=>{const E=["userContext"];O!=null&&!S?a.setQueryData(E,O):a.invalidateQueries({queryKey:E})},onError:O=>(ve.logEventWithStatsig("chatgpt_web_disable_auto_connectors_for_teams_error","chatgpt_web_disable_auto_connectors_for_teams_error",{errorMessage:O.message}),O)}),u=$I(n),{enabledAutoConnectors:d,isLoading:f}=Le(()=>t?M8(n):uUe),[h,p]=C.useState(!1),_=C.useMemo(()=>u.filter(O=>{var S;return e.has(Nt[O])&&((S=e.get(Nt[O]))==null?void 0:S.status)==="DISABLED_BY_ADMIN"}),[u,e]),{newDisabledTools:m,maybeNewEnabledTools:y}=C.useMemo(()=>{if(!t)return{newDisabledTools:[],maybeNewEnabledTools:[]};const O=[],S=[];return d.length>0&&d.forEach(E=>{var T;_.includes(E)&&!i.includes((T=Dp(E))!=null?T:"")&&O.push(E)}),_.length<u.length&&_.length<u.length&&u.forEach(E=>{var T;!_.includes(E)&&i.includes(((T=Dp(E))!=null?T:"").concat("_admin_disabled"))&&S.push(E)}),{newDisabledTools:O,maybeNewEnabledTools:S}},[t,d,i,u,_]);C.useEffect(()=>{if(!t||r||c||h||f||m.length===0&&y.length===0)return;const O=new Set(i);y.forEach(S=>{const E=Dp(S);E&&(O.delete(E),O.delete("".concat(E,"_admin_disabled")))}),m.forEach(S=>{const E=Dp(S);E&&(O.add(E),O.add("".concat(E,"_admin_disabled")))}),l({data:b({disabledTools:Array.from(O)},o)}),p(!0)},[r,c,l,m,y,o,h,i,f,t])}function Xj(e){switch(e){case"base":case"lg":case"xl":return e;default:return"base"}}function dUe(e){switch(e){case"linked_text":case"upgrade_button":case"title_and_description":return e;default:return"title_and_description"}}const fUe=Ie(()=>me({})),hUe=Ie(e=>ye(()=>{var T,A,w,N,P,x,D,M,F,j,$,q,k,Z,B,Q;const t=Vs(e),n=Ot(e,"2526598250"),r=n.get("composer-send-paperplane-icon",!1);if(!yt())return{dynamicPlaceholderEnabled:n.get("dynamic-placeholder-enabled",!1),isSingleLine:t||n.get("single-line",!1),isCombinedList:n.get("combined-list",!1),plusButtonLabel:n.get("plus-button-label",!1),loggedOutAttachLabel:n.get("logged-out-attach-label",!0),loggedOutAttachPlusIcon:n.get("logged-out-attach-plus-icon",!1),loggedOutVoiceLabel:n.get("logged-out-voice-label",!0),loggedOutHideToolButtons:n.get("logged-out-hide-tool-buttons",!1),voiceButtonUsesPrimaryStyle:n.get("voice-button-uses-primary-style",!1),fontSize:Xj(n.get("font-size","base")),plusButtonAddsFiles:n.get("plus-button-adds-files",!1),disableMotion:n.get("disable-motion",!1),sendButtonUsesPaperplaneIcon:r,attachfileRateLimitMessageVariant:"title_and_description",attachfileRateLimitMessageShowIcon:!0,fullyCollapsedToolMenu:!1,showSlashHint:!1,showModelsInPlusMenu:!1,showSelectedModelInComposer:!1,showModelSlashCommands:!1,showThinkingEffortPicker:!1,systemHintsByPlan:{free:[]}};const s=Ot(e,"790459319"),i=fUe(e),o=(T=i.dynamicPlaceholderEnabled)!=null?T:s.get("dynamic-placeholder-enabled",!1),a=(A=i.isSingleLine)!=null?A:t||s.get("single-line",!1),c=(w=i.isCombinedList)!=null?w:s.get("combined-list",!1),l=(N=i.fontSize)!=null?N:Xj(s.get("font-size","base")),u=(P=i.attachfileRateLimitMessageVariant)!=null?P:dUe(s.get("attachfile-rate-limit-message-variant","title_and_description")),d=(x=i.attachfileRateLimitMessageShowIcon)!=null?x:s.get("attachfile-rate-limit-message-show-icon",!0),f=(D=i.fullyCollapsedToolMenu)!=null?D:s.get("fully-collapsed-tool-menu",!1),h=(M=i.showSlashHint)!=null?M:s.get("show-slash-hint",!1),p=(F=i.plusButtonLabel)!=null?F:s.get("plus-button-label",!1),_=(j=i.showModelsInPlusMenu)!=null?j:s.get("models-in-plus-menu",!1),m=($=i.showSelectedModelInComposer)!=null?$:s.get("show-selected-model-in-composer",!1),y=(q=i.showModelSlashCommands)!=null?q:s.get("model-slash-commands",!1),v=(k=i.showThinkingEffortPicker)!=null?k:s.get("show-juice-control",!1),O=(Z=i.systemHintsByPlan)!=null?Z:s.get("system-hints-by-plan",{free:[]}),S=(B=i.disableMotion)!=null?B:s.get("disable-motion",!1),E=(Q=i.voiceButtonUsesPrimaryStyle)!=null?Q:s.get("voice-button-uses-primary-style",!1);return{dynamicPlaceholderEnabled:o,isSingleLine:a,isCombinedList:c,fontSize:l,attachfileRateLimitMessageVariant:u,attachfileRateLimitMessageShowIcon:d,fullyCollapsedToolMenu:f,showSlashHint:h,plusButtonLabel:p,showModelsInPlusMenu:_,showSelectedModelInComposer:m,showModelSlashCommands:y,showThinkingEffortPicker:v,systemHintsByPlan:O,disableMotion:S,sendButtonUsesPaperplaneIcon:r,voiceButtonUsesPrimaryStyle:E,plusButtonAddsFiles:!1,loggedOutAttachLabel:!0,loggedOutAttachPlusIcon:!1,loggedOutVoiceLabel:!0,loggedOutHideToolButtons:!1}})),pUe={google_drive:Nt[R.GDRIVE_ACTION_CONNECTOR],slack:Nt[R.SLACK_CONNECTOR]};function _Ue(e){return pUe[e]}function mUe(e){return e!=null&&e.length?new Set(e.map(t=>_Ue(t.connector_type))):new Set}var z0,Jj;function gUe(){if(Jj)return z0;Jj=1;var e=Wu(),t=z8();function n(r,s){return r&&r.length?t(r,e(s,2)):[]}return z0=n,z0}var vUe=gUe();const yUe=$t(vUe),EUe=new Set(["gdrive_sync_connector","slack_sync_connector","github_sync_connector","notion_sync_connector","sharepoint_admin_sync_connector","confluence_sync_connector","jira_sync_connector","jira_servicemanagement_sync_connector"]),CUe=new Set(["github_sync_connector"]),WKe=e=>Me(e,"2502169545");function OX({ctx:e,baseSystemHintData:t,ecosystemSystemHintData:n,isBasePending:r,gizmoId:s}){var v,O;const i=TX(e,s!=null?s:void 0),o=sAe(e),a=$v(e);if(r)return;if(!t)return[];const c=_f(t,n),l=aAe(e),u=Me(e,"1627380539"),d=cn(e,"3401870206").get("hide_use_connectors",!1),{systemHintsByPlan:f,showModelsInPlusMenu:h}=hUe(e),p=c.filter(S=>!(S.systemHint===re.Think&&l&&(!u||h)||S.systemHint===re.Slurm&&(!i||d)||S.systemHint===re.Glaux&&!o||S.systemHint===re.ApiTool&&!a)),_=(v=TOe.getSystemHintsByPlan(e))!=null?v:f,m=(O=st(e))==null?void 0:O.planType,y=p.sort(MUe(_,m,YI(e)));return s?AUe(e,s,y):y}const iy=Ie(e=>ye(()=>{const t=SUe(e),n=mR(e,null),r=NX(e);return AX({ctx:e,baseSystemHints:t,connectorSystemHints:n,pathname:r})},{equals:zu})),HKe=Ks((e,t)=>ye(()=>{const n=bUe(e,t!=null?t:null),r=mR(e,t!=null?t:void 0),s=NX(e);return AX({ctx:e,baseSystemHints:n,connectorSystemHints:r,pathname:s})},{equals:zu})),SUe=Ie(e=>ye(()=>{const{data:t,isPending:n}=kW(e),{data:r}=goe(e);return OX({ctx:e,baseSystemHintData:t,ecosystemSystemHintData:r,isBasePending:n})},{equals:zu})),bUe=Ks((e,t)=>ye(()=>{const{data:n,isPending:r}=voe(e,t!=null?t:null),{data:s}=yoe(e,t!=null?t:null);return OX({ctx:e,baseSystemHintData:n,ecosystemSystemHintData:s,isBasePending:r,gizmoId:t})},{equals:zu})),TUe=Ks((e,t)=>qt(e,()=>s3e({projectId:t,enabled:Me(e,"3681570957")}))),OUe=Ie(e=>ye(()=>{var d;const t=Yh(e,{productSku:xt.SLURM}),n=Wv(e),{data:r,isLoading:s}=Hc.if$(e,!0),{data:i,isLoading:o}=c8(e,{fetchValidLinksOnly:!0});if(!t||!n||s||o)return;const c=yUe((d=r==null?void 0:r.connection_statuses)!=null?d:[],f=>f.user_connection_details.connection_instance_id).filter(f=>IUe(f)),l=t.filter(f=>{var h;return(n.some(p=>p.id===f.id)||f.connector_type==="MCP")&&(!((h=f.branding)!=null&&h.is_discoverable_app)||f.conformance.implements_retrievable)&&(i==null?void 0:i.has(f.id))&&![Nt[R.GMAIL_CONNECTOR],Nt[R.GOOGLE_CONTACTS_CONNECTOR],Nt[R.GCAL_CONNECTOR]].includes(f.id)&&f.type!==R.SLACK_CODEX_CONNECTOR&&f.type!==R.SLACK_CODEX_BOT_CONNECTOR}),u=l.filter(f=>(i==null?void 0:i.has(f.id))&&!c.some(h=>{var p,_;return h.user_connection_details.backing_link_id===((_=(p=i.get(f.id))==null?void 0:p[0])==null?void 0:_.id)||f.id===Nt[R.GDRIVE_ACTION_CONNECTOR]&&h.user_connection_details.connection_type==="gdrive_sync_connector"}));return{sanitizedAccessConnectorsNoSyncDeduplication:l,sanitizedAccessConnectors:u,syncConnections:c}})),mR=Ks((e,t)=>ye(()=>{if(!TX(e,t!=null?t:void 0))return[];const r=OUe(e);if(!r)return;const{sanitizedAccessConnectors:s,syncConnections:i}=r,o=s.map(l=>NUe(l)),a=i.map(l=>PUe(l));return[..._f(o,a)].sort((l,u)=>l.name.localeCompare(u.name))},{equals:zu})),$Ke=Ie(e=>ye(()=>!mR(e,null)));function qKe(e,t){if(!t||!e)return e;const n=[re.Agent,re.Search,re.WebHistory],r=new Set(n),s=new Map,i=[];for(const a of e){if(!r.has(a.systemHint)){i.push(a);continue}if(s.has(a.systemHint)){i.push(a);continue}s.set(a.systemHint,a)}const o=[...n.map(a=>s.get(a)).filter(a=>a!=null),...i];for(let a=0;a<e.length;a+=1)if(e[a]!==o[a])return o;return e}function AUe(e,t,n){return!t||!Qs(t)||sy(e,t).gizmo$(),n}function _f(e,t){if(!t||t.length===0)return e;const n=new Map;return e.forEach(r=>{n.set(r.systemHint,r)}),t.forEach(r=>{n.set(r.systemHint,r)}),Array.from(n.values())}function wUe({connectorSystemHints:e,connectorScopes:t}){if(!e||!t)return;const n=mUe(t);return n.size===0?[]:e.filter(r=>{if(!Mc(r.systemHint))return!1;const s=fW(r.systemHint);return s?n.has(s):!1})}function AX({ctx:e,baseSystemHints:t,connectorSystemHints:n,pathname:r}){var a,c;if(!t)return;if(!FUe(r))return _f(t,n);const s=UUe(r);if(!s)return t;const i=sy(e,s),o=(a=i==null?void 0:i.gizmo$())==null?void 0:a.gizmo.memory_scope;if(Z8(o)&&Me(e,"2874910743"))return _f(t,n);if(VOe(o)&&Me(e,"3681570957")){const u=(c=TUe(e,s).data)==null?void 0:c.items,d=wUe({connectorSystemHints:n,connectorScopes:u});return!d||d.length===0?t:_f(t,d)}return t}const NUe=lo(e=>{var t,n,r,s;return{systemHint:dW(e.id),aliases:gR(e.name,e.service),name:e.name,actionLabel:e.name,shortLabel:e.name,description:(t=e.description)!=null?t:e.name,logo:(n=e.logo_url)!=null?n:"",requiredFeatures:[],requiredModels:[],allowInTemporaryChat:!0,requiredConversationModes:[],composerBarButtonInfo:void 0,suggestedPrompt:void 0,isAuto:!1,category:"tool",persistBetweenMessages:!0,requiresOptIn:e.status==="ONLY_ME",isConnector:!0,keywordInvocations:wX(e.name,e.service),hideFromInitialSelection:!1,badgeType:RUe(e),isDangerous:e.status==="ONLY_ME",connectorLogoUrl:(r=e.logo_url)!=null?r:void 0,connectorLogoUrlDark:(s=e.logo_url_dark)!=null?s:void 0}});function IUe(e){const t=e.user_connection_details.connection_type;return CUe.has(t)?!1:EUe.has(t)?!(t==="sharepoint_sync_connector"&&e.user_connection_details.activation_status!=="activated"||!["partially_activated","activating","activated"].includes(e.user_connection_details.activation_status)):xUe(e)}const PUe=lo(e=>{var s,i,o,a;const{connection_type:t}=e.user_connection_details,n=e.connection_display_info,r=_pe(e);return{systemHint:dW(t),aliases:gR(r,t!=null?t:void 0),name:r,actionLabel:r,shortLabel:r,description:(s=n.description)!=null?s:r,logo:(i=n.icon_url)!=null?i:"",requiredFeatures:[],requiredModels:[],allowInTemporaryChat:!0,requiredConversationModes:[],composerBarButtonInfo:void 0,suggestedPrompt:void 0,isAuto:!1,category:"tool",persistBetweenMessages:!0,requiresOptIn:!1,isConnector:!0,keywordInvocations:wX(r,t!=null?t:void 0),hideFromInitialSelection:!1,badgeText:void 0,isDangerous:!1,connectorLogoUrl:(o=n.icon_url)!=null?o:void 0,connectorLogoUrlDark:(a=n.icon_dark_url)!=null?a:void 0}});function gR(...e){const t=new Set;return e.forEach(n=>{n&&(t.add(n),t.add(n.toLowerCase()))}),Array.from(t)}function wX(...e){return gR(...e)}function RUe(e){if(e.connector_type==="MCP")return e.status==="ONLY_ME"?y_.DEV:e.supports_full_actions&&e.status==="ENABLED"?y_.BETA:y_.CUSTOM}function xUe(e){switch(e.user_connection_details.activation_status){case"activated":case"partially_activated":return!0;case"activating":case"inactive":return!1}}function MUe(e,t,n){const r=kUe(e,t),s=r&&r.length>0?r:LUe(t,n);return(i,o)=>{const a=s.indexOf(i.systemHint),c=s.indexOf(o.systemHint),l=a===-1?Number.MAX_SAFE_INTEGER:a,u=c===-1?Number.MAX_SAFE_INTEGER:c;return l===u?0:l>u?1:-1}}function kUe(e,t){if(t===ae.FREE||t===ae.GUEST)return e.free;if(t===ae.PRO)return e.pro;if(t===ae.PLUS)return e.plus;if(t===ae.GO)return e.go}function LUe(e,t){switch(e){case void 0:case ae.GUEST:case ae.FREE:return[re.PictureV2,re.Picture,re.Think,re.Agent,re.Research,re.Tatertot,re.Slurm,re.Search,re.Canvas,re.Video];case ae.K12:case ae.EDUCATION_CBP:case ae.DEPRECATED_EDU:return[re.ApiTool,re.PictureV2,re.Picture,re.Tatertot,re.Think,re.Agent,re.Research,t?re.Glaux:re.Slurm,re.Search,re.Canvas,re.Video];case ae.GO:case ae.PLUS:case ae.PRO:return[re.ApiTool,re.PictureV2,re.Picture,re.Research,re.Think,re.Agent,re.Slurm,re.Tatertot,re.Search,re.Canvas,re.Video];case ae.ENTERPRISE_CBP:case ae.ENTERPRISE_HC:case ae.FREE_WORKSPACE:case ae.SELF_SERVE_BUSINESS:case ae.QUORUM:case ae.DEPRECATED_ENTERPRISE:return[re.ApiTool,t?re.Glaux:re.Slurm,re.PictureV2,re.Picture,re.Research,re.Think,re.Search,re.Agent,re.Canvas,re.Video]}}const DUe=/^\/g\/[^/]+\/project(?:\/|$)|\/g\/g-p-[^/]+\/c\/[^/]+/;function FUe(e){return e?DUe.test(e):!1}function NX(e){var n,r;const t=KI(e);return(r=(n=t[t.length-1])==null?void 0:n.location.pathname)!=null?r:typeof window<"u"?window.location.pathname:void 0}function UUe(e){if(!e)return;const t=L9(e);if(t&&Qs(t))return t}let jUe=0;const IX=C.createContext(null);function BUe({children:e}){const[t]=C.useState(()=>({}));return C.createElement(IX.Provider,{value:t},e)}function vR(e){var s;if(e===void 0)return vR;const t=typeof e=="function"?e:()=>e;let n;const r=C.createContext(null);return s=class{static useState(o=GUe,a){return fR(this.useStore(),o,a)}static useStore(){return this.useStoreWithInit()}static useStoreSignal(){const o=this.useStore();if(this.storeSignalMap.has(o))return this.storeSignalMap.get(o);const a=Ag(o);return this.storeSignalMap.set(o,a),a}static useStoreWithInit(...o){var u;const a=C.useContext(r),c=C.useContext(IX);if(a)return a;const l=(u=this.name)!=null?u:"Store";if(!c)throw new Error("No StoreScope found. Must use ".concat(l," within a <StoreScopeProvider> or <").concat(l,".Provider>."));if(n||(n="".concat(l,":").concat(jUe++)),n in c)return c[n];if(typeof t=="function"&&t.length>0&&o.length===0)throw new Error("Not initialized. First call ".concat(l,".useStoreWithInit(value) or <").concat(l,".Provider store={() => new ").concat(l,"(value)}>"));return c[n]=new this(...o)}static Provider({store:o,children:a}){const[c]=C.useState(o);return C.createElement(r.Provider,{value:c},a)}constructor(o){const a=t(o);Object.assign(this,Qc(typeof a=="function"?a:()=>a))}},U(s,"storeSignalMap",new WeakMap),s}function GUe(e){return e}const cc=e=>{var n;const t={turn_index:(n=e.turnIndex)==null?void 0:n.toString(),thread_id:e.threadId,conversation_id:e.clientThreadId?tI(e.clientThreadId):void 0,message_id:e==null?void 0:e.messageId};return Object.fromEntries(Object.entries(t).filter(([r,s])=>s!==void 0))};var WUe=(e=>(e.ANNUAL="Annual",e.MONTHLY="Monthly",e))(WUe||{}),PX=(e=>(e.SLASH_COMMAND="slash_command",e))(PX||{}),pw=(e=>(e.CONVERSATION_COMPOSER_WEB_ICON="conversation_composer_web_icon",e.CONVERSATION_COMPOSER_TOOL_MENU="conversation_composer_tool_menu",e.CONVERSATION_COMPOSER_SLASH_SEARCH="conversation_composer_slash_search",e.CONVERSATION_REGENERATE_WITH_SEARCH="conversation_regenerate_with_search",e.CONVERSATION_REGENERATE_WITHOUT_SEARCH="conversation_regenerate_without_search",e.URL_SEARCH_HINT="url_search_hint",e.URL_NO_SEARCH_HINT="url_no_search_hint",e.SAFARI_MACOS_BROWSER_BAR="safari_macos_browser_bar",e.SAFARI_IOS_BROWSER_BAR="safari_ios_browser_bar",e.CHROME_BROWSER_BAR="chrome_browser_bar",e))(pw||{});function HUe(e,t=1e3,n=100){document.activeElement!==e&&e.focus();const r=Date.now(),s=setInterval(()=>{document.activeElement!==e&&e.focus(),Date.now()-r>=t&&clearInterval(s)},n)}class Hs extends vR()(({initialHint:n=null,locked:r=!1})=>({locked:r,activeSystemHintType:n,activeConnectorSystemTypes:new Set,activeSystemHintTrigger:void 0})){constructor(){super(...arguments);U(this,"getActiveSystemHintType",()=>this.getState().activeSystemHintType);U(this,"getActiveConnectorSystemTypes",()=>this.getState().activeConnectorSystemTypes);U(this,"addConnectorSystemHint",(n,r,s,i)=>{var u,d,f;const{activeSystemHintType:o,activeConnectorSystemTypes:a,locked:c}=this.getState();if(c&&(s==null?void 0:s.locked)===void 0||(s==null?void 0:s.ifPrevSystemHint)!==void 0&&s.ifPrevSystemHint!==o)return;const l=new Set((u=r==null?void 0:r.filter(h=>h.isDangerous).map(h=>h.systemHint))!=null?u:[]);if(!a.has(n)){if(i)this.setState({activeConnectorSystemTypes:new Set([...a,n])});else if(l&&l.has(n)){const h=new Set([...a,n].filter(p=>l.has(p)));this.setState({activeConnectorSystemTypes:h})}else if(l){const h=new Set([...a,n].filter(p=>!l.has(p)));this.setState({activeConnectorSystemTypes:h})}(s==null?void 0:s.triggerSource)===PX.SLASH_COMMAND&&a0(n,x_.SlashCommand,cc((d=s==null?void 0:s.analyticsMetadata)!=null?d:{})),a0(n,x_.Enable,cc((f=s==null?void 0:s.analyticsMetadata)!=null?f:{}))}eu(o)||this.setActiveSystemHint(oN,r,s)});U(this,"removeConnectorSystemHint",(n,r)=>{var a;const{activeSystemHintType:s,activeConnectorSystemTypes:i,locked:o}=this.getState();if(!(o&&(r==null?void 0:r.locked)===void 0||(r==null?void 0:r.ifPrevSystemHint)!==void 0&&r.ifPrevSystemHint!==s)&&i.has(n)){const c=new Set(i);c.delete(n),a0(n,x_.Disable,cc((a=r==null?void 0:r.analyticsMetadata)!=null?a:{})),this.setState({activeSystemHintType:eu(s)&&c.size===0?null:s,activeConnectorSystemTypes:c})}});U(this,"getPersistedSystemHintTrigger",n=>{if(!this.getState().locked&&this.getState().activeSystemHintType===n)return this.getState().activeSystemHintTrigger})}setActiveSystemHint(n,r,s,i){var l;const{locked:o,activeSystemHintType:a,activeConnectorSystemTypes:c}=this.getState();if(!(o&&(s==null?void 0:s.locked)===void 0||(s==null?void 0:s.ifPrevSystemHint)!==void 0&&s.ifPrevSystemHint!==a)){if(Mc(n)){this.addConnectorSystemHint(n,r!=null?r:[],s,i);return}qUe(a,n,s==null?void 0:s.analyticsMetadata,s==null?void 0:s.triggerSource),this.setState({locked:(l=s==null?void 0:s.locked)!=null?l:o,activeSystemHintType:n,activeSystemHintTrigger:n?s==null?void 0:s.triggerSource:void 0,activeConnectorSystemTypes:eu(n)?c:new Set})}}}const zKe=()=>{"use forget";return Hs.useState(JUe)},YKe=()=>{"use forget";return Hs.useState(QUe)};function KKe(){"use forget";const e=W.c(2),t=Hs.useStoreSignal();let n;return e[0]!==t?(n=ye(()=>t().activeSystemHintType),e[0]=t,e[1]=n):n=e[1],n}function XKe(){"use forget";const e=W.c(2),t=Hs.useStoreSignal();let n;return e[0]!==t?(n=ye(()=>t().activeConnectorSystemTypes),e[0]=t,e[1]=n):n=e[1],n}function $Ue(e,t,n,r,s,i){e.setActiveSystemHint(n,r,s,i),D$()&&n&&HUe(Ru(t).dom)}const JKe=()=>{"use forget";const e=W.c(4),t=ce(),n=Hs.useStore(),r=ESe();let s;return e[0]!==r||e[1]!==t||e[2]!==n?(s=(i,o)=>{var a;return $Ue(n,r,i,iy(t),o,(a=st(t))==null?void 0:a.isWorkspacePlan())},e[0]=r,e[1]=t,e[2]=n,e[3]=s):s=e[3],s},QKe=()=>{"use forget";const e=W.c(3),t=ce(),n=Hs.useStore();let r;return e[0]!==t||e[1]!==n?(r=(s,i)=>{var o,a;return n.addConnectorSystemHint(s,(o=iy(t))!=null?o:[],i,(a=st(t))==null?void 0:a.isWorkspacePlan())},e[0]=t,e[1]=n,e[2]=r):r=e[2],r},ZKe=()=>{"use forget";const e=W.c(2),t=Hs.useStore();let n;return e[0]!==t?(n=(r,s)=>t.removeConnectorSystemHint(r,s),e[0]=t,e[1]=n):n=e[1],n};function Qj({persistSearchMode:e,persistTatertotMode:t,persistAgentMode:n,forcedSystemHintType:r,completionMetadataHints:s,systemHintsFromSearchParams:i}){return r||(i.length>0?i[0]:e?re.Search:t?re.Tatertot:n?re.Agent:s?s[0]:null)}function qUe(e,t,n,r){var s,i;t?(TU(t,R1.Enable,cc(n!=null?n:{})),t===re.Agent&&K.addAction("agent.hint.enabled",{client_thread_id:String((s=n==null?void 0:n.clientThreadId)!=null?s:"")})):e&&(TU(e,R1.Disable,cc(n!=null?n:{})),e===re.Agent&&K.addAction("agent.hint.disabled",{client_thread_id:String((i=n==null?void 0:n.clientThreadId)!=null?i:"")})),t===re.Search?ve.logEventWithStatsig("Search Mode Engaged","search_mode_engaged",I(b({},cc(n!=null?n:{})),{triggerSource:r})):t==null&&e===re.Search&&ve.logEventWithStatsig("Search Mode Disabled","search_mode_disabled",cc(n!=null?n:{}))}function eXe(e){"use forget";var Xe,Pe;const t=W.c(75),{children:n,conversation:r,forcedSystemHintType:s}=e,i=ce(),[o]=Yc();let a;t[0]!==i?(a=Vs(i),t[0]=i,t[1]=a):a=t[1];const c=a;let l;t[2]!==i?(l=()=>iy(i),t[2]=i,t[3]=l):l=t[3];const u=Le(l);let d;t[4]!==o||t[5]!==u?(d=Y8(o,{availableHints:u}),t[4]=o,t[5]=u,t[6]=d):d=t[6];const f=d;let h;t[7]!==r?(h=()=>Pbe(r),t[7]=r,t[8]=h):h=t[8];const p=Le(h);let _;t[9]!==p.enabledTools?(_=(Xe=p.enabledTools)==null?void 0:Xe.includes(aW.Search),t[9]=p.enabledTools,t[10]=_):_=t[10];const m=!!_;let y;t[11]!==r?(y=()=>{var J;return(J=yOe(r))!=null?J:[]},t[11]=r,t[12]=y):y=t[12];const v=Le(y),O=Uh(r.id,VUe),S=c&&O;let E;t[13]!==v||t[14]!==m||t[15]!==S?(E=!S&&(v==null?void 0:v.includes(re.Search))&&m,t[13]=v,t[14]=m,t[15]=S,t[16]=E):E=t[16];const T=E;let A;t[17]!==i||t[18]!==v?(A=(v==null?void 0:v.includes(re.Tatertot))&&iOe(i),t[17]=i,t[18]=v,t[19]=A):A=t[19];const w=A;let N;t[20]!==i||t[21]!==v?(N=v.includes(re.Agent)&&x8(i),t[20]=i,t[21]=v,t[22]=N):N=t[22];const P=N;let x;t[23]===Symbol.for("react.memo_cache_sentinel")?(x=[],t[23]=x):x=t[23];let D=x,M,F;if(t[24]!==v||t[25]!==u){let J;t[28]!==u?(J=X=>{var L;return(L=u==null?void 0:u.find(Ne=>Ne.systemHint===X))==null?void 0:L.persistBetweenMessages},t[28]=u,t[29]=J):J=t[29],M=v.find(J),F=Mc(M),t[24]=v,t[25]=u,t[26]=M,t[27]=F}else M=t[26],F=t[27];if(F){M=oN;let J;if(t[30]!==v||t[31]!==u){let X;t[33]!==u?(X=L=>{var Ne;return Mc(L)&&((Ne=u==null?void 0:u.find(nt=>nt.systemHint===L))==null?void 0:Ne.persistBetweenMessages)},t[33]=u,t[34]=X):X=t[34],J=v.filter(X),t[30]=v,t[31]=u,t[32]=J}else J=t[32];D=J}let j;t[35]!==D||t[36]!==M?(j=[M,D],t[35]=D,t[36]=M,t[37]=j):j=t[37];const[$,q]=j;let k;t[38]!==r?(k=()=>PSe(r),t[38]=r,t[39]=k):k=t[39];const Z=Le(k);let B;t[40]!==Z||t[41]!==s||t[42]!==P||t[43]!==T||t[44]!==w||t[45]!==f?(B=()=>{const J=Qj({persistSearchMode:T,persistTatertotMode:w,persistAgentMode:P,forcedSystemHintType:s,completionMetadataHints:Z,systemHintsFromSearchParams:f});return new Hs({initialHint:J,locked:s!=null})},t[40]=Z,t[41]=s,t[42]=P,t[43]=T,t[44]=w,t[45]=f,t[46]=B):B=t[46];const[Q]=C.useState(B),se=C.useRef(r.id);let fe;t[47]!==f?(fe=f.join(","),t[47]=f,t[48]=fe):fe=t[48];const V=fe,H=C.useRef(V);let ee;t[49]!==i?(ee=(Pe=st(i))==null?void 0:Pe.isWorkspacePlan(),t[49]=i,t[50]=ee):ee=t[50];const z=ee;let te,Se;t[51]!==Z||t[52]!==q||t[53]!==r.id||t[54]!==s||t[55]!==P||t[56]!==T||t[57]!==w||t[58]!==z||t[59]!==Q||t[60]!==V||t[61]!==S||t[62]!==$||t[63]!==u||t[64]!==f?(te=()=>{const J=()=>{const L=Qj({persistSearchMode:T,persistTatertotMode:w,persistAgentMode:P,forcedSystemHintType:s,completionMetadataHints:Z,systemHintsFromSearchParams:f});Q.setActiveSystemHint(L,u,{locked:s!=null},z),H.current=V};se.current!==r.id?(Q.setActiveSystemHint(null),J(),se.current=r.id):f.length>0&&V!==H.current&&s==null&&!Q.getState().locked&&J();const X=Q.getActiveSystemHintType();T&&X!==re.Search?Q.setActiveSystemHint(re.Search,u,{analyticsMetadata:{clientThreadId:r.id}},z):w&&X!==re.Tatertot?Q.setActiveSystemHint(re.Tatertot,u,{analyticsMetadata:{clientThreadId:r.id}},z):$&&(($!==re.Search||!S)&&Q.setActiveSystemHint($,u,{analyticsMetadata:{clientThreadId:r.id}},z),q.forEach(L=>{Q.addConnectorSystemHint(L,u,{analyticsMetadata:{clientThreadId:r.id}},z)}))},Se=[r.id,Z,s,T,w,P,Q,$,q,f,V,u,z,S],t[51]=Z,t[52]=q,t[53]=r.id,t[54]=s,t[55]=P,t[56]=T,t[57]=w,t[58]=z,t[59]=Q,t[60]=V,t[61]=S,t[62]=$,t[63]=u,t[64]=f,t[65]=te,t[66]=Se):(te=t[65],Se=t[66]),C.useEffect(te,Se);const he=C.useRef(s);let oe,be;t[67]!==s||t[68]!==Q||t[69]!==u?(oe=()=>{if(u==null||u.length===0){he.current=s;return}const J=s!=null?u.find(X=>X.systemHint===s):void 0;s!=null&&J!=null?Q.setActiveSystemHint(s,u,{locked:!0}):Q.getState().locked&&Q.setActiveSystemHint(null,u,{locked:!1}),he.current=s},be=[u,Q,s],t[67]=s,t[68]=Q,t[69]=u,t[70]=oe,t[71]=be):(oe=t[70],be=t[71]),C.useEffect(oe,be);let ke;return t[72]!==n||t[73]!==Q?(ke=g.jsx(Hs.Provider,{store:Q,children:n}),t[72]=n,t[73]=Q,t[74]=ke):ke=t[74],ke}function VUe(e){if(!e)return!1;const t=Ae.getConversationTurns(e),n=t.findIndex(YUe),r=R9(t,zUe);return n!==-1&&n===r}function zUe(e){return e.role===je.User}function YUe(e){return e.role===je.User}function KUe(e){"use forget";const t=W.c(3),{children:n}=e,[r]=C.useState(XUe);let s;return t[0]!==n||t[1]!==r?(s=g.jsx(Hs.Provider,{store:r,children:n}),t[0]=n,t[1]=r,t[2]=s):s=t[2],s}function XUe(){return new Hs({initialHint:null,locked:!0})}const tXe=e=>{const t=e.getActiveSystemHintType(),n=e.getActiveConnectorSystemTypes();return eu(t)?[...n]:t?[t]:[]};function JUe(e){return e.activeSystemHintType}function QUe(e){return e.activeConnectorSystemTypes}function ZUe(e){"use forget";const{children:t,fallback:n}=e,r=n===void 0?null:n;return Fg()?t:r}function nXe(e){return Ot(e,"3233347819").get("is_login_modal_phase2_enabled",!1)&&!Kc()}function rXe(e){return Ot(e,"3233347819").get("is_revamped_login_page",!1)}function e2e(e){return Ot(e,"3233347819").get("is_google_one_tap_enabled",!1)}function t2e(e){return Ot(e,"3233347819").get("is_google_one_tap_home_page_only",!1)}function Zj(e){return Ot(e,"3233347819").get("is_google_one_tap_auto_login_enabled",!1)}function sXe(e){return Ot(e,"3233347819").get("is_phone_country_prefill_enabled",!1)}function iXe(e){return Ot(e,"3233347819").get("is_esc_key_respected",!1)}function oXe(e){return Ot(e,"3233347819").get("is_login_modal_backdrop_clickable",!1)}function aXe(e){return Ot(e,"3283840244").get("use_zod_email_regex",!1)}var RX=(e=>(e.control="control",e.ssoCollapsed="sso-collapsed",e.ssoUpCollapsed="sso-up-collapsed",e))(RX||{});function cXe(e){const t=Ot(e,"3233347819").get("login_page_variation","control");return n2e(t)?t:"control"}function n2e(e){return Object.values(RX).includes(e)}const r2e=Zw(["google","microsoft","apple","email","phone_number"]),s2e=Zw(["existing_user","new_user"]),i2e=Zw(["social","username"]),lXe=K6({name:r2e,enabled:Jx(),tempDisabled:Jx(),kind:i2e,loginStrategy:s2e}),o2e={google:"google-oauth2",microsoft:"windowslive",apple:"apple"};new TextEncoder;const xX=new TextDecoder,a2e=e=>{const t=atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n},c2e=e=>{let t=e;t instanceof Uint8Array&&(t=xX.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return a2e(t)}catch(n){throw new TypeError("The input to be decoded is not correctly encoded.")}};class l2e extends Error{static get code(){return"ERR_JOSE_GENERIC"}constructor(t){var n;super(t),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,(n=Error.captureStackTrace)==null||n.call(Error,this,this.constructor)}}class Ua extends l2e{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}static get code(){return"ERR_JWT_INVALID"}}function u2e(e){return typeof e=="object"&&e!==null}function d2e(e){if(!u2e(e)||Object.prototype.toString.call(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}const f2e=c2e;function h2e(e){if(typeof e!="string")throw new Ua("JWTs must use Compact JWS serialization, JWT must be a string");const{1:t,length:n}=e.split(".");if(n===5)throw new Ua("Only JWTs using Compact JWS serialization can be decoded");if(n!==3)throw new Ua("Invalid JWT");if(!t)throw new Ua("JWTs must contain a payload");let r;try{r=f2e(t)}catch(i){throw new Ua("Failed to base64url decode the payload")}let s;try{s=JSON.parse(xX.decode(r))}catch(i){throw new Ua("Failed to parse the decoded payload as JSON")}if(!d2e(s))throw new Ua("Invalid JWT Claims Set");return s}const p2e="799222349882-ne3i0s9jdm5s0p7ll2d7tlsi1vc1halt.apps.googleusercontent.com",_2e="https://accounts.google.com/gsi/client",m2e="google-gsi-client-script",_w="google-one-tap-anchor";function g2e(){const e=document.getElementById(_w);if(e)return e;const t=document.createElement("div");return t.id=_w,t.style.position="fixed",t.style.right="16px",document.querySelector("#page-header")?t.style.top="calc(var(--header-height, 64px) - 6px)":document.querySelector("#contentful-header")?t.style.top="calc(var(--mkt-header-height, 64px) - 8px)":t.style.top="20px",t.style.zIndex="9999",document.body.appendChild(t),t}function e4(e,t){const n=()=>{var i;const s=(i=globalThis.google)==null?void 0:i.accounts;if(!s){ki(ii.GOOGLE_ONE_TAP_EVENT_TYPE_ACCOUNTS_UNAVAILABLE);return}g2e(),s.id.initialize({callback:o=>{const a=o.credential,c=(()=>{try{return h2e(a)}catch(l){return ki(ii.GOOGLE_ONE_TAP_EVENT_TYPE_CREDENTIAL_DECODE_EXCEPTION),null}})();if(!c||typeof c.email!="string"){ki(ii.GOOGLE_ONE_TAP_EVENT_TYPE_CREDENTIAL_DECODE_FAILED);return}MX.set(!0),O$(An(),{callbackUrl:"/",additionalAuthParams:{login_hint:c.email,connection:o2e.google},skipLoginModal:!0}),ki(ii.GOOGLE_ONE_TAP_EVENT_TYPE_LOGIN,{continueSelectedBy:o.select_by})},client_id:p2e,auto_select:t.enableAutoLogin,prompt_parent_id:_w,use_fedcm_for_prompt:!1,ux_mode:"popup"}),s.id.prompt(o=>{if(o.isDisplayMoment())if(o.isDisplayed())ki(ii.GOOGLE_ONE_TAP_EVENT_TYPE_PROMPT_SHOWN);else{const a=o.getNotDisplayedReason();ki(ii.GOOGLE_ONE_TAP_EVENT_TYPE_PROMPT_NOT_DISPLAYED,{notDisplayedReason:a})}else if(o.isSkippedMoment()){const a=o.getSkippedReason();ki(ii.GOOGLE_ONE_TAP_EVENT_TYPE_PROMPT_SKIPPED,{skippedReason:a})}else if(o.isDismissedMoment()){const a=o.getDismissedReason();ki(ii.GOOGLE_ONE_TAP_EVENT_TYPE_PROMPT_DISMISSED,{dismissedReason:a})}}),ki(ii.GOOGLE_ONE_TAP_EVENT_TYPE_PROMPT_PROMPTED)},r=document.createElement("script");r.id=m2e,r.src=_2e,r.async=!0,r.defer=!0,r.nonce=e,r.addEventListener("load",n),document.body.appendChild(r)}function ki(e,t){ve.logStructuredEvent(gae,b({authSessionLoggingId:UW(),eventType:e,pathname:window.location.pathname},t))}const MX=me(!1);function uXe(){"use forget";return Le(v2e)}function v2e(){return MX()}const y2e=["defer-pc"];function E2e(e,t,{disableExposureLog:n}={}){return Ot(e,"3671511802",{disableExposureLog:n}).get(t,!1)}function C2e(e){for(const t of y2e)K.addFeatureFlagEvaluation("js-perf-".concat(t),E2e(e,t,{disableExposureLog:!0}))}var du,jo;class S2e{constructor(){kt(this,du);kt(this,jo,t=>(pe(this,du)||zt(this,du,ne(()=>import("./fg33krlcm0qyi6yw.js").then(n=>n.ax),[]).then(n=>n==null?void 0:n.datadogLogs)),pe(this,du).then(n=>n&&t(n))))}init(t){pe(this,jo).call(this,n=>n.init(t))}setGlobalContextProperty(t,n){pe(this,jo).call(this,r=>r.setGlobalContextProperty(t,n))}setUser(t){pe(this,jo).call(this,n=>n.setUser(t))}get logger(){return{setHandler:t=>{pe(this,jo).call(this,n=>n.logger.setHandler(t))}}}createLogger(t,n){return new b2e(pe(this,jo),t,n)}}du=new WeakMap,jo=new WeakMap;var nh,Xr;class b2e{constructor(t,n,r){kt(this,nh);kt(this,Xr,t=>pe(this,nh).then(n=>n&&t(n)));zt(this,nh,t(s=>s.createLogger(n,r)))}ok(t,n,r){pe(this,Xr).call(this,s=>s.ok(t,n,r))}debug(t,n,r){pe(this,Xr).call(this,s=>s.debug(t,n,r))}info(t,n,r){pe(this,Xr).call(this,s=>s.info(t,n,r))}notice(t,n,r){pe(this,Xr).call(this,s=>s.notice(t,n,r))}warn(t,n,r){pe(this,Xr).call(this,s=>s.warn(t,n,r))}error(t,n,r){pe(this,Xr).call(this,s=>s.error(t,n,r))}critical(t,n,r){pe(this,Xr).call(this,s=>s.critical(t,n,r))}alert(t,n,r){pe(this,Xr).call(this,s=>s.alert(t,n,r))}emerg(t,n,r){pe(this,Xr).call(this,s=>s.emerg(t,n,r))}}nh=new WeakMap,Xr=new WeakMap;const wl=new S2e,T2e="datadoghq.com",O2e="pub1f79f8ac903a5872ae5f53026d20a77c",A2e=window.location.origin+"/ces/v1/telemetry/intake";class w2e{initialize(){var r;const t=ug?(r=ot==null?void 0:ot.getTelemetryConfig)==null?void 0:r.call(ot):void 0,n=t!==void 0?t.datadogService:UQ();wl.init({clientToken:O2e,site:T2e,service:n,env:"prod",version:"27708bcc2b52f2ffa559a947c7b032818dec0af9",sessionSampleRate:100,forwardErrorsToLogs:!1,proxy:A2e,beforeSend:s=>(s.view.url=Yd(s.view.url),s.http&&s.http.url&&(s.http.url=Yd(s.http.url)),!0)}),wl.setGlobalContextProperty("track","stable"),wl.setGlobalContextProperty("is_electron_desktop_app",t!==void 0),wl.logger.setHandler(["http"])}setUser(t,n){var s;const r={user_id:t.id,account_plan_type:(s=n==null?void 0:n.planType)!=null?s:"none",workspace_id:n==null?void 0:n.id};wl.setUser(r)}createLogger(t,n="info",r="http",s){return wl.createLogger(t,{level:n,handler:r,context:s})}}const t4=new w2e;function kX(e){const t=new URL(window.location.href);if(!t.searchParams.has(e))return;t.searchParams.delete(e);const n=t.pathname+t.search+t.hash;history.replaceState(null,"",n)}let n4=!1;if(mG()){const e=(function(){return window.location.pathname!=="/search"?void 0:{sessionSampleRate:100,traceSampleRate:100}})();K.initialize(e)}function N2e(e,t,n){if(n){const r=we.getCookie(Ce.Workspace),s=r===Yi?void 0:r,i=n.structure===rr.WORKSPACE?n.id:void 0;s!==i&&K.addAction("bootstrap_client.account_cookie_mismatch",{accountCookieValue:r,lightAccount:n})}N6(()=>!ef(e).isLoading&&ef(e).data!=null,()=>{const r=$s(ef(e).data),s=N$(r),i=we.getCookie(Ce.Workspace),o=B_e(s,r.accountItems);i!==o&&n1(o)})}function I2e(e,t,n){var s;if(n4)return;n4=!0;const r=Br(e);if(r.checkGate("4011688770")&&ne(()=>import("./nh6jey1rhee4y78p.js"),__vite__mapDeps([26,2,1,3])).then(i=>i==null?void 0:i.initOpenTelemetry()),r.on("gate_evaluation",({gate:i})=>{K.addFeatureFlagEvaluation(i.name,i.value)}),kX("refresh_account"),window.addEventListener("vite:preloadError",i=>{Me(e,"2590364241")||i.preventDefault(),K.addAction("vite:preloadError",{payload:i.payload})}),as(),Nae(),K.addTiming("chatgpt.web.bootstrapClient",{serialTimingGroup:"pageLoad"}),K.addAction("bootstrap_client.start"),mG()&&(t4.initialize(),C2e(e)),t.authStatus===mu.LoggedIn){const i=t.user,o=(s=t.session)==null?void 0:s.account;K.addAction("bootstrap_client.has_session_user"),N2e(e,n,o),K.setUser(i,o),t4.setUser(i,o),ve.initialize({userInfo:{currentAccount:o!=null?o:null,sessionUser:i}}),K.addAction("bootstrap_client.success.is_authenticated",{hasCurrentAccount:!0})}else{K.addAction("bootstrap_client.does_not_have_session_user"),K.setNoAuthUser(),ve.initialize(),K.addAction("bootstrap_client.success.is_not_authenticated");const i=window.location.pathname==="/";e2e(e)?e4(t.cspScriptNonce,{enableAutoLogin:Zj(e)}):i&&t2e(e)&&e4(t.cspScriptNonce,{enableAutoLogin:Zj(e)})}}function P2e({root:e,autoFocus:t=!1}){if(!e)return null;const n=["a[href]:not([data-skip-to-content])","area[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","iframe","object","embed",'[tabindex]:not([tabindex="-1"])',"[contenteditable]"].join(", "),r=Array.from(e.querySelectorAll(n));let s=null;for(const i of r)if(i.offsetWidth>0&&i.offsetHeight>0){s=i;break}return t&&(s==null||s.focus()),s}const R2e=e=>({country:vt().userCountry});function r4(e){return e!=null&&e in TZ}const Y0=3600*24*30*6,LX=e=>{we.setBooleanCookie(Ce.ConsentAnalytics,e.consent_analytics,{maxAge:Y0,domain:xy}),we.setBooleanCookie(Ce.ConsentMarketing,e.consent_marketing,{maxAge:Y0,domain:xy}),we.setBooleanCookie(Ce.AllowNonessential,e.consent_analytics&&e.consent_marketing,{maxAge:Y0,domain:xy}),K.addAction("update-cookie-consent.cookie.success")};async function DX(e){if(LX(e),vt().authStatus===mu.LoggedIn)try{await Y.safePost("/user_granular_consent",{authOption:en.Required,requestBody:{granular_consent:{analytics:e.consent_analytics,marketing:e.consent_marketing}}}),K.addAction("update-cookie-consent.backend.success")}catch(n){K.addError(n)}}const oy=ln({queryKey:["cookie-consent"],queryFn:async()=>{var i,o,a,c;const{isUserInPioneerHR:e,userCountry:t}=vt($s(Bt()));if(!e){const l=we.getBooleanCookie(Ce.ConsentAnalytics),u=we.getBooleanCookie(Ce.ConsentMarketing);return l!=null||u!=null?{consent_analytics:l!=null?l:!1,consent_marketing:u!=null?u:!1,is_consent_required:!0}:(K.addAction("get-cookie-consent.use-anonymous-default.consent-not-required",{country:t}),{consent_analytics:!0,consent_marketing:!0,is_consent_required:!1})}if(t!=null&&!r4(t))return K.addAction("get-cookie-consent.use-anonymous-default.consent-not-required",{country:t}),{consent_analytics:!0,consent_marketing:!0,is_consent_required:!1};if(r4(t)&&!e)return K.addAction("get-cookie-consent.use-anonymous-default.consent-required-essential-only",{country:t}),{consent_analytics:!1,consent_marketing:!1,is_consent_required:!0};let n;try{const l=await Y.safeGet("/user_granular_consent",{authOption:en.Required});n={consent_analytics:(o=(i=l.granular_consent)==null?void 0:i.analytics)!=null?o:null,consent_marketing:(c=(a=l.granular_consent)==null?void 0:a.marketing)!=null?c:null,is_consent_required:l.is_consent_required},K.addAction("get-cookie-consent.use-authenticated",{country:t})}catch(l){l instanceof $g||K.addError(l,{country:t}),n={consent_analytics:null,consent_marketing:null,is_consent_required:!0}}const r=we.getBooleanCookie(Ce.ConsentAnalytics),s=we.getBooleanCookie(Ce.ConsentMarketing);return n.consent_analytics!=null&&n.consent_marketing!=null&&(r!==n.consent_analytics||s!==n.consent_marketing)?(LX({consent_analytics:n.consent_analytics,consent_marketing:n.consent_marketing}),K.addAction("get-cookie-consent.update-cookie-consent-cookie",{country:t})):r!==void 0&&s!==void 0&&n.is_consent_required&&n.consent_analytics==null&&n.consent_marketing==null&&(DX({consent_analytics:r!=null?r:!1,consent_marketing:s!=null?s:!1}),K.addAction("get-cookie-consent.update-cookie-consent-backend",{country:t}),n=I(b({},n),{consent_analytics:r!=null?r:!1,consent_marketing:s!=null?s:!1})),n}}),dXe=e=>{const{country:t}=R2e(),n=Kt();return tn(I(b({},e),{mutationFn:r=>DX(r),onSuccess:(r,s,i)=>{var o;(o=e==null?void 0:e.onSuccess)==null||o.call(e,r,s,i),n.setQueryData(oy.queryKey,a=>{if(!a){K.addError(new Error("Cookie consent query data is undefined during mutation"));return}return I(b({},a),{consent_analytics:s.consent_analytics,consent_marketing:s.consent_marketing})})},onError:(r,s,i)=>{var o;(o=e==null?void 0:e.onError)==null||o.call(e,r,s,i),K.addError(r,{country:t})}}))},FX=Ie(()=>{var e;return me((e=we.getBooleanCookie(Ce.CookieBannerIgnored))!=null?e:!1)}),UX=Ie(e=>qt(e,()=>oy)),fXe=Ie(e=>ye(()=>{if(yt()||FX(e))return!1;const t=UX(e).data;return(t==null?void 0:t.is_consent_required)&&t.consent_analytics==null&&t.consent_marketing==null})),hXe=Ie(e=>ye(()=>UX(e).isLoading));function pXe(e=!1){FX.set(An(),!0),e&&we.setBooleanCookie(Ce.CookieBannerIgnored,!0)}var Ka=(e=>(e.Gclid="gclid",e.Fbclid="fbclid",e.Rdtcid="rdt_cid",e.Tiktokclid="ttclid",e.Liclid="li_fat_id",e.Msclkid="msclkid",e))(Ka||{});function _Xe(e){switch(e){case"gclid":return we.getMarketingCookie(Ce.Gclid);case"fbclid":return we.getMarketingCookie(Ce.Fbclid);case"rdt_cid":return we.getMarketingCookie(Ce.Rdtcid);case"ttclid":return we.getMarketingCookie(Ce.Tiktokclid);case"li_fat_id":return we.getMarketingCookie(Ce.Liclid);case"msclkid":return we.getMarketingCookie(Ce.Msclkid)}}function x2e(e){switch(e){case"gclid":return Ce.Gclid;case"fbclid":return Ce.Fbclid;case"rdt_cid":return Ce.Rdtcid;case"ttclid":return Ce.Tiktokclid;case"li_fat_id":return Ce.Liclid;case"msclkid":return Ce.Msclkid}}function M2e({searchParams:e,clidLifetimeSeconds:t=1440*60,eligibleExplorers:n}){for(const r of n){if(e.get(r)==null)continue;const s=x2e(r),i=e.get(r);we.setMarketingCookie(s,i,{path:"/",maxAge:t})}}let jX=!1;const k2e=e=>{const t=vt();if(!t.eligibleMarketing)return;const n=new URLSearchParams(window.location.search);M2e({searchParams:n,eligibleExplorers:[...t.eligibleMarketing.isUserEligibleForPioneer?[Ka.Gclid]:[],...t.eligibleMarketing.isUserEligibleForMaverick?[Ka.Fbclid]:[],...t.eligibleMarketing.isUserEligibleForTrailBlazer?[Ka.Rdtcid]:[],...t.eligibleMarketing.isUserEligibleForStratos?[Ka.Tiktokclid]:[],...t.eligibleMarketing.isUserEligibleForSeeker?[Ka.Liclid]:[],...t.eligibleMarketing.isUserEligibleForWayfinder?[Ka.Msclkid]:[]]}),jX=!0},L2e=(e,t)=>{const n=vt().userCountry;new aG(t,oy).subscribe(s=>{if(s.isPending)return;const i=s.data;if(!i)return;(i.is_consent_required?i.consent_marketing:!0)?(we.setAllowMarketingCookies_CLIENT_ONLY(!0),K.addAction("marketing-tracking.non-essential-cookies.allowed",{country:n}),jX||(k2e(),K.addAction("marketing-tracking.non-essential-cookies.marketing-tracking-functions-run",{country:n}))):(we.setAllowMarketingCookies_CLIENT_ONLY(!1),K.addAction("marketing-tracking.non-essential-cookies.disallowed",{country:n}))})};async function D2e(){if(!("container"in document.documentElement.style)){performance.mark("polyfill.containerQuery.start");try{await ne(()=>import("./gdtyl57qnlda5zz4.js"),[])}catch(e){return K.addError(new Error("Error loading polyfill: containerQuery",{cause:e})),Promise.reject(e)}performance.mark("polyfill.containerQuery.end"),performance.measure("polyfill.containerQuery","polyfill.containerQuery.start","polyfill.containerQuery.end")}}async function F2e(){if(!Array.prototype.findLast)try{await ne(()=>import("./fiz64w0mgijitz6k.js"),__vite__mapDeps([27,1]))}catch(e){return K.addError(new Error("Error loading polyfill: findLast",{cause:e})),Promise.reject(e)}}async function U2e(){if(!CSS.supports("animation-timeline: --works")||window.ViewTimeline===void 0){performance.mark("polyfill.scrollTimeline.start");try{await ne(()=>import("./ejwgzqnuqqmjgmkg.js"),[])}catch(e){return K.addAction("Error loading polyfill: scrollTimeline",{cause:e}),Promise.reject(e)}performance.mark("polyfill.scrollTimeline.end"),performance.measure("polyfill.scrollTimeline","polyfill.scrollTimeline.start","polyfill.scrollTimeline.end")}}async function j2e(){"onscrollend"in window||await ne(()=>import("./pabmu4jlna3lln99.js"),[])}var s4={},i4={},Od,o4;function wn(){if(o4)return Od;o4=1;var e=function(t){return t&&t.Math===Math&&t};return Od=e(typeof globalThis=="object"&&globalThis)||e(typeof window=="object"&&window)||e(typeof self=="object"&&self)||e(typeof Dl=="object"&&Dl)||e(typeof Od=="object"&&Od)||(function(){return this})()||Function("return this")(),Od}var K0={},X0,a4;function Ai(){return a4||(a4=1,X0=function(e){try{return!!e()}catch(t){return!0}}),X0}var J0,c4;function yo(){if(c4)return J0;c4=1;var e=Ai();return J0=!e(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),J0}var Q0,l4;function ay(){if(l4)return Q0;l4=1;var e=Ai();return Q0=!e(function(){var t=(function(){}).bind();return typeof t!="function"||t.hasOwnProperty("prototype")}),Q0}var Z0,u4;function wi(){if(u4)return Z0;u4=1;var e=ay(),t=Function.prototype.call;return Z0=e?t.bind(t):function(){return t.apply(t,arguments)},Z0}var eT={},d4;function B2e(){if(d4)return eT;d4=1;var e={}.propertyIsEnumerable,t=Object.getOwnPropertyDescriptor,n=t&&!e.call({1:2},1);return eT.f=n?function(s){var i=t(this,s);return!!i&&i.enumerable}:e,eT}var tT,f4;function BX(){return f4||(f4=1,tT=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}}),tT}var nT,h4;function Vr(){if(h4)return nT;h4=1;var e=ay(),t=Function.prototype,n=t.call,r=e&&t.bind.bind(n,n);return nT=e?r:function(s){return function(){return n.apply(s,arguments)}},nT}var rT,p4;function cy(){if(p4)return rT;p4=1;var e=Vr(),t=e({}.toString),n=e("".slice);return rT=function(r){return n(t(r),8,-1)},rT}var sT,_4;function G2e(){if(_4)return sT;_4=1;var e=Vr(),t=Ai(),n=cy(),r=Object,s=e("".split);return sT=t(function(){return!r("z").propertyIsEnumerable(0)})?function(i){return n(i)==="String"?s(i,""):r(i)}:r,sT}var iT,m4;function ly(){return m4||(m4=1,iT=function(e){return e==null}),iT}var oT,g4;function yR(){if(g4)return oT;g4=1;var e=ly(),t=TypeError;return oT=function(n){if(e(n))throw new t("Can't call method on "+n);return n},oT}var aT,v4;function ER(){if(v4)return aT;v4=1;var e=G2e(),t=yR();return aT=function(n){return e(t(n))},aT}var cT,y4;function $n(){if(y4)return cT;y4=1;var e=typeof document=="object"&&document.all;return cT=typeof e>"u"&&e!==void 0?function(t){return typeof t=="function"||t===e}:function(t){return typeof t=="function"},cT}var lT,E4;function Eo(){if(E4)return lT;E4=1;var e=$n();return lT=function(t){return typeof t=="object"?t!==null:e(t)},lT}var uT,C4;function il(){if(C4)return uT;C4=1;var e=wn(),t=$n(),n=function(r){return t(r)?r:void 0};return uT=function(r,s){return arguments.length<2?n(e[r]):e[r]&&e[r][s]},uT}var dT,S4;function CR(){if(S4)return dT;S4=1;var e=Vr();return dT=e({}.isPrototypeOf),dT}var fT,b4;function op(){if(b4)return fT;b4=1;var e=wn(),t=e.navigator,n=t&&t.userAgent;return fT=n?String(n):"",fT}var hT,T4;function GX(){if(T4)return hT;T4=1;var e=wn(),t=op(),n=e.process,r=e.Deno,s=n&&n.versions||r&&r.version,i=s&&s.v8,o,a;return i&&(o=i.split("."),a=o[0]>0&&o[0]<4?1:+(o[0]+o[1])),!a&&t&&(o=t.match(/Edge\/(\d+)/),(!o||o[1]>=74)&&(o=t.match(/Chrome\/(\d+)/),o&&(a=+o[1]))),hT=a,hT}var pT,O4;function WX(){if(O4)return pT;O4=1;var e=GX(),t=Ai(),n=wn(),r=n.String;return pT=!!Object.getOwnPropertySymbols&&!t(function(){var s=Symbol("symbol detection");return!r(s)||!(Object(s)instanceof Symbol)||!Symbol.sham&&e&&e<41}),pT}var _T,A4;function HX(){if(A4)return _T;A4=1;var e=WX();return _T=e&&!Symbol.sham&&typeof Symbol.iterator=="symbol",_T}var mT,w4;function $X(){if(w4)return mT;w4=1;var e=il(),t=$n(),n=CR(),r=HX(),s=Object;return mT=r?function(i){return typeof i=="symbol"}:function(i){var o=e("Symbol");return t(o)&&n(o.prototype,s(i))},mT}var gT,N4;function uy(){if(N4)return gT;N4=1;var e=String;return gT=function(t){try{return e(t)}catch(n){return"Object"}},gT}var vT,I4;function Aa(){if(I4)return vT;I4=1;var e=$n(),t=uy(),n=TypeError;return vT=function(r){if(e(r))return r;throw new n(t(r)+" is not a function")},vT}var yT,P4;function SR(){if(P4)return yT;P4=1;var e=Aa(),t=ly();return yT=function(n,r){var s=n[r];return t(s)?void 0:e(s)},yT}var ET,R4;function W2e(){if(R4)return ET;R4=1;var e=wi(),t=$n(),n=Eo(),r=TypeError;return ET=function(s,i){var o,a;if(i==="string"&&t(o=s.toString)&&!n(a=e(o,s))||t(o=s.valueOf)&&!n(a=e(o,s))||i!=="string"&&t(o=s.toString)&&!n(a=e(o,s)))return a;throw new r("Can't convert object to primitive value")},ET}var CT={exports:{}},ST,x4;function ap(){return x4||(x4=1,ST=!1),ST}var bT,M4;function bR(){if(M4)return bT;M4=1;var e=wn(),t=Object.defineProperty;return bT=function(n,r){try{t(e,n,{value:r,configurable:!0,writable:!0})}catch(s){e[n]=r}return r},bT}var k4;function TR(){if(k4)return CT.exports;k4=1;var e=ap(),t=wn(),n=bR(),r="__core-js_shared__",s=CT.exports=t[r]||n(r,{});return(s.versions||(s.versions=[])).push({version:"3.45.1",mode:e?"pure":"global",copyright:"Â© 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.45.1/LICENSE",source:"https://github.com/zloirock/core-js"}),CT.exports}var TT,L4;function qX(){if(L4)return TT;L4=1;var e=TR();return TT=function(t,n){return e[t]||(e[t]=n||{})},TT}var OT,D4;function H2e(){if(D4)return OT;D4=1;var e=yR(),t=Object;return OT=function(n){return t(e(n))},OT}var AT,F4;function Co(){if(F4)return AT;F4=1;var e=Vr(),t=H2e(),n=e({}.hasOwnProperty);return AT=Object.hasOwn||function(s,i){return n(t(s),i)},AT}var wT,U4;function VX(){if(U4)return wT;U4=1;var e=Vr(),t=0,n=Math.random(),r=e(1.1.toString);return wT=function(s){return"Symbol("+(s===void 0?"":s)+")_"+r(++t+n,36)},wT}var NT,j4;function Ni(){if(j4)return NT;j4=1;var e=wn(),t=qX(),n=Co(),r=VX(),s=WX(),i=HX(),o=e.Symbol,a=t("wks"),c=i?o.for||o:o&&o.withoutSetter||r;return NT=function(l){return n(a,l)||(a[l]=s&&n(o,l)?o[l]:c("Symbol."+l)),a[l]},NT}var IT,B4;function $2e(){if(B4)return IT;B4=1;var e=wi(),t=Eo(),n=$X(),r=SR(),s=W2e(),i=Ni(),o=TypeError,a=i("toPrimitive");return IT=function(c,l){if(!t(c)||n(c))return c;var u=r(c,a),d;if(u){if(l===void 0&&(l="default"),d=e(u,c,l),!t(d)||n(d))return d;throw new o("Can't convert object to primitive value")}return l===void 0&&(l="number"),s(c,l)},IT}var PT,G4;function zX(){if(G4)return PT;G4=1;var e=$2e(),t=$X();return PT=function(n){var r=e(n,"string");return t(r)?r:r+""},PT}var RT,W4;function YX(){if(W4)return RT;W4=1;var e=wn(),t=Eo(),n=e.document,r=t(n)&&t(n.createElement);return RT=function(s){return r?n.createElement(s):{}},RT}var xT,H4;function KX(){if(H4)return xT;H4=1;var e=yo(),t=Ai(),n=YX();return xT=!e&&!t(function(){return Object.defineProperty(n("div"),"a",{get:function(){return 7}}).a!==7}),xT}var $4;function XX(){if($4)return K0;$4=1;var e=yo(),t=wi(),n=B2e(),r=BX(),s=ER(),i=zX(),o=Co(),a=KX(),c=Object.getOwnPropertyDescriptor;return K0.f=e?c:function(u,d){if(u=s(u),d=i(d),a)try{return c(u,d)}catch(f){}if(o(u,d))return r(!t(n.f,u,d),u[d])},K0}var MT={},kT,q4;function q2e(){if(q4)return kT;q4=1;var e=yo(),t=Ai();return kT=e&&t(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),kT}var LT,V4;function ol(){if(V4)return LT;V4=1;var e=Eo(),t=String,n=TypeError;return LT=function(r){if(e(r))return r;throw new n(t(r)+" is not an object")},LT}var z4;function cp(){if(z4)return MT;z4=1;var e=yo(),t=KX(),n=q2e(),r=ol(),s=zX(),i=TypeError,o=Object.defineProperty,a=Object.getOwnPropertyDescriptor,c="enumerable",l="configurable",u="writable";return MT.f=e?n?function(f,h,p){if(r(f),h=s(h),r(p),typeof f=="function"&&h==="prototype"&&"value"in p&&u in p&&!p[u]){var _=a(f,h);_&&_[u]&&(f[h]=p.value,p={configurable:l in p?p[l]:_[l],enumerable:c in p?p[c]:_[c],writable:!1})}return o(f,h,p)}:o:function(f,h,p){if(r(f),h=s(h),r(p),t)try{return o(f,h,p)}catch(_){}if("get"in p||"set"in p)throw new i("Accessors not supported");return"value"in p&&(f[h]=p.value),f},MT}var DT,Y4;function JX(){if(Y4)return DT;Y4=1;var e=yo(),t=cp(),n=BX();return DT=e?function(r,s,i){return t.f(r,s,n(1,i))}:function(r,s,i){return r[s]=i,r},DT}var FT={exports:{}},UT,K4;function V2e(){if(K4)return UT;K4=1;var e=yo(),t=Co(),n=Function.prototype,r=e&&Object.getOwnPropertyDescriptor,s=t(n,"name"),i=s&&(function(){}).name==="something",o=s&&(!e||e&&r(n,"name").configurable);return UT={EXISTS:s,PROPER:i,CONFIGURABLE:o},UT}var jT,X4;function OR(){if(X4)return jT;X4=1;var e=Vr(),t=$n(),n=TR(),r=e(Function.toString);return t(n.inspectSource)||(n.inspectSource=function(s){return r(s)}),jT=n.inspectSource,jT}var BT,J4;function z2e(){if(J4)return BT;J4=1;var e=wn(),t=$n(),n=e.WeakMap;return BT=t(n)&&/native code/.test(String(n)),BT}var GT,Q4;function Y2e(){if(Q4)return GT;Q4=1;var e=qX(),t=VX(),n=e("keys");return GT=function(r){return n[r]||(n[r]=t(r))},GT}var WT,Z4;function QX(){return Z4||(Z4=1,WT={}),WT}var HT,e5;function ZX(){if(e5)return HT;e5=1;var e=z2e(),t=wn(),n=Eo(),r=JX(),s=Co(),i=TR(),o=Y2e(),a=QX(),c="Object already initialized",l=t.TypeError,u=t.WeakMap,d,f,h,p=function(v){return h(v)?f(v):d(v,{})},_=function(v){return function(O){var S;if(!n(O)||(S=f(O)).type!==v)throw new l("Incompatible receiver, "+v+" required");return S}};if(e||i.state){var m=i.state||(i.state=new u);m.get=m.get,m.has=m.has,m.set=m.set,d=function(v,O){if(m.has(v))throw new l(c);return O.facade=v,m.set(v,O),O},f=function(v){return m.get(v)||{}},h=function(v){return m.has(v)}}else{var y=o("state");a[y]=!0,d=function(v,O){if(s(v,y))throw new l(c);return O.facade=v,r(v,y,O),O},f=function(v){return s(v,y)?v[y]:{}},h=function(v){return s(v,y)}}return HT={set:d,get:f,has:h,enforce:p,getterFor:_},HT}var t5;function eJ(){if(t5)return FT.exports;t5=1;var e=Vr(),t=Ai(),n=$n(),r=Co(),s=yo(),i=V2e().CONFIGURABLE,o=OR(),a=ZX(),c=a.enforce,l=a.get,u=String,d=Object.defineProperty,f=e("".slice),h=e("".replace),p=e([].join),_=s&&!t(function(){return d(function(){},"length",{value:8}).length!==8}),m=String(String).split("String"),y=FT.exports=function(v,O,S){f(u(O),0,7)==="Symbol("&&(O="["+h(u(O),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),S&&S.getter&&(O="get "+O),S&&S.setter&&(O="set "+O),(!r(v,"name")||i&&v.name!==O)&&(s?d(v,"name",{value:O,configurable:!0}):v.name=O),_&&S&&r(S,"arity")&&v.length!==S.arity&&d(v,"length",{value:S.arity});try{S&&r(S,"constructor")&&S.constructor?s&&d(v,"prototype",{writable:!1}):v.prototype&&(v.prototype=void 0)}catch(T){}var E=c(v);return r(E,"source")||(E.source=p(m,typeof O=="string"?O:"")),v};return Function.prototype.toString=y(function(){return n(this)&&l(this).source||o(this)},"toString"),FT.exports}var $T,n5;function AR(){if(n5)return $T;n5=1;var e=$n(),t=cp(),n=eJ(),r=bR();return $T=function(s,i,o,a){a||(a={});var c=a.enumerable,l=a.name!==void 0?a.name:i;if(e(o)&&n(o,l,a),a.global)c?s[i]=o:r(i,o);else{try{a.unsafe?s[i]&&(c=!0):delete s[i]}catch(u){}c?s[i]=o:t.f(s,i,{value:o,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return s},$T}var qT={},VT,r5;function K2e(){if(r5)return VT;r5=1;var e=Math.ceil,t=Math.floor;return VT=Math.trunc||function(r){var s=+r;return(s>0?t:e)(s)},VT}var zT,s5;function tJ(){if(s5)return zT;s5=1;var e=K2e();return zT=function(t){var n=+t;return n!==n||n===0?0:e(n)},zT}var YT,i5;function X2e(){if(i5)return YT;i5=1;var e=tJ(),t=Math.max,n=Math.min;return YT=function(r,s){var i=e(r);return i<0?t(i+s,0):n(i,s)},YT}var KT,o5;function J2e(){if(o5)return KT;o5=1;var e=tJ(),t=Math.min;return KT=function(n){var r=e(n);return r>0?t(r,9007199254740991):0},KT}var XT,a5;function nJ(){if(a5)return XT;a5=1;var e=J2e();return XT=function(t){return e(t.length)},XT}var JT,c5;function Q2e(){if(c5)return JT;c5=1;var e=ER(),t=X2e(),n=nJ(),r=function(s){return function(i,o,a){var c=e(i),l=n(c);if(l===0)return!s&&-1;var u=t(a,l),d;if(s&&o!==o){for(;l>u;)if(d=c[u++],d!==d)return!0}else for(;l>u;u++)if((s||u in c)&&c[u]===o)return s||u||0;return!s&&-1}};return JT={includes:r(!0),indexOf:r(!1)},JT}var QT,l5;function Z2e(){if(l5)return QT;l5=1;var e=Vr(),t=Co(),n=ER(),r=Q2e().indexOf,s=QX(),i=e([].push);return QT=function(o,a){var c=n(o),l=0,u=[],d;for(d in c)!t(s,d)&&t(c,d)&&i(u,d);for(;a.length>l;)t(c,d=a[l++])&&(~r(u,d)||i(u,d));return u},QT}var ZT,u5;function eje(){return u5||(u5=1,ZT=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),ZT}var d5;function tje(){if(d5)return qT;d5=1;var e=Z2e(),t=eje(),n=t.concat("length","prototype");return qT.f=Object.getOwnPropertyNames||function(s){return e(s,n)},qT}var eO={},f5;function nje(){return f5||(f5=1,eO.f=Object.getOwnPropertySymbols),eO}var tO,h5;function rje(){if(h5)return tO;h5=1;var e=il(),t=Vr(),n=tje(),r=nje(),s=ol(),i=t([].concat);return tO=e("Reflect","ownKeys")||function(a){var c=n.f(s(a)),l=r.f;return l?i(c,l(a)):c},tO}var nO,p5;function sje(){if(p5)return nO;p5=1;var e=Co(),t=rje(),n=XX(),r=cp();return nO=function(s,i,o){for(var a=t(i),c=r.f,l=n.f,u=0;u<a.length;u++){var d=a[u];!e(s,d)&&!(o&&e(o,d))&&c(s,d,l(i,d))}},nO}var rO,_5;function rJ(){if(_5)return rO;_5=1;var e=Ai(),t=$n(),n=/#|\.prototype\./,r=function(c,l){var u=i[s(c)];return u===a?!0:u===o?!1:t(l)?e(l):!!l},s=r.normalize=function(c){return String(c).replace(n,".").toLowerCase()},i=r.data={},o=r.NATIVE="N",a=r.POLYFILL="P";return rO=r,rO}var sO,m5;function al(){if(m5)return sO;m5=1;var e=wn(),t=XX().f,n=JX(),r=AR(),s=bR(),i=sje(),o=rJ();return sO=function(a,c){var l=a.target,u=a.global,d=a.stat,f,h,p,_,m,y;if(u?h=e:d?h=e[l]||s(l,{}):h=e[l]&&e[l].prototype,h)for(p in c){if(m=c[p],a.dontCallGetSet?(y=t(h,p),_=y&&y.value):_=h[p],f=o(u?p:l+(d?".":"#")+p,a.forced),!f&&_!==void 0){if(typeof m==typeof _)continue;i(m,_)}(a.sham||_&&_.sham)&&n(m,"sham",!0),r(h,p,m,a)}},sO}var iO,g5;function sJ(){if(g5)return iO;g5=1;var e=wn(),t=op(),n=cy(),r=function(s){return t.slice(0,s.length)===s};return iO=(function(){return r("Bun/")?"BUN":r("Cloudflare-Workers")?"CLOUDFLARE":r("Deno/")?"DENO":r("Node.js/")?"NODE":e.Bun&&typeof Bun.version=="string"?"BUN":e.Deno&&typeof Deno.version=="object"?"DENO":n(e.process)==="process"?"NODE":e.window&&e.document?"BROWSER":"REST"})(),iO}var oO,v5;function wR(){if(v5)return oO;v5=1;var e=sJ();return oO=e==="NODE",oO}var aO,y5;function iJ(){if(y5)return aO;y5=1;var e=wn();return aO=e,aO}var cO,E5;function ije(){if(E5)return cO;E5=1;var e=Vr(),t=Aa();return cO=function(n,r,s){try{return e(t(Object.getOwnPropertyDescriptor(n,r)[s]))}catch(i){}},cO}var lO,C5;function oje(){if(C5)return lO;C5=1;var e=Eo();return lO=function(t){return e(t)||t===null},lO}var uO,S5;function aje(){if(S5)return uO;S5=1;var e=oje(),t=String,n=TypeError;return uO=function(r){if(e(r))return r;throw new n("Can't set "+t(r)+" as a prototype")},uO}var dO,b5;function cje(){if(b5)return dO;b5=1;var e=ije(),t=Eo(),n=yR(),r=aje();return dO=Object.setPrototypeOf||("__proto__"in{}?(function(){var s=!1,i={},o;try{o=e(Object.prototype,"__proto__","set"),o(i,[]),s=i instanceof Array}catch(a){}return function(c,l){return n(c),r(l),t(c)&&(s?o(c,l):c.__proto__=l),c}})():void 0),dO}var fO,T5;function lje(){if(T5)return fO;T5=1;var e=cp().f,t=Co(),n=Ni(),r=n("toStringTag");return fO=function(s,i,o){s&&!o&&(s=s.prototype),s&&!t(s,r)&&e(s,r,{configurable:!0,value:i})},fO}var hO,O5;function uje(){if(O5)return hO;O5=1;var e=eJ(),t=cp();return hO=function(n,r,s){return s.get&&e(s.get,r,{getter:!0}),s.set&&e(s.set,r,{setter:!0}),t.f(n,r,s)},hO}var pO,A5;function dje(){if(A5)return pO;A5=1;var e=il(),t=uje(),n=Ni(),r=yo(),s=n("species");return pO=function(i){var o=e(i);r&&o&&!o[s]&&t(o,s,{configurable:!0,get:function(){return this}})},pO}var _O,w5;function fje(){if(w5)return _O;w5=1;var e=CR(),t=TypeError;return _O=function(n,r){if(e(r,n))return n;throw new t("Incorrect invocation")},_O}var mO,N5;function hje(){if(N5)return mO;N5=1;var e=Ni(),t=e("toStringTag"),n={};return n[t]="z",mO=String(n)==="[object z]",mO}var gO,I5;function oJ(){if(I5)return gO;I5=1;var e=hje(),t=$n(),n=cy(),r=Ni(),s=r("toStringTag"),i=Object,o=n((function(){return arguments})())==="Arguments",a=function(c,l){try{return c[l]}catch(u){}};return gO=e?n:function(c){var l,u,d;return c===void 0?"Undefined":c===null?"Null":typeof(u=a(l=i(c),s))=="string"?u:o?n(l):(d=n(l))==="Object"&&t(l.callee)?"Arguments":d},gO}var vO,P5;function pje(){if(P5)return vO;P5=1;var e=Vr(),t=Ai(),n=$n(),r=oJ(),s=il(),i=OR(),o=function(){},a=s("Reflect","construct"),c=/^\s*(?:class|function)\b/,l=e(c.exec),u=!c.test(o),d=function(p){if(!n(p))return!1;try{return a(o,[],p),!0}catch(_){return!1}},f=function(p){if(!n(p))return!1;switch(r(p)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return u||!!l(c,i(p))}catch(_){return!0}};return f.sham=!0,vO=!a||t(function(){var h;return d(d.call)||!d(Object)||!d(function(){h=!0})||h})?f:d,vO}var yO,R5;function _je(){if(R5)return yO;R5=1;var e=pje(),t=uy(),n=TypeError;return yO=function(r){if(e(r))return r;throw new n(t(r)+" is not a constructor")},yO}var EO,x5;function mje(){if(x5)return EO;x5=1;var e=ol(),t=_je(),n=ly(),r=Ni(),s=r("species");return EO=function(i,o){var a=e(i).constructor,c;return a===void 0||n(c=e(a)[s])?o:t(c)},EO}var CO,M5;function gje(){if(M5)return CO;M5=1;var e=ay(),t=Function.prototype,n=t.apply,r=t.call;return CO=typeof Reflect=="object"&&Reflect.apply||(e?r.bind(n):function(){return r.apply(n,arguments)}),CO}var SO,k5;function vje(){if(k5)return SO;k5=1;var e=cy(),t=Vr();return SO=function(n){if(e(n)==="Function")return t(n)},SO}var bO,L5;function NR(){if(L5)return bO;L5=1;var e=vje(),t=Aa(),n=ay(),r=e(e.bind);return bO=function(s,i){return t(s),i===void 0?s:n?r(s,i):function(){return s.apply(i,arguments)}},bO}var TO,D5;function yje(){if(D5)return TO;D5=1;var e=il();return TO=e("document","documentElement"),TO}var OO,F5;function Eje(){if(F5)return OO;F5=1;var e=Vr();return OO=e([].slice),OO}var AO,U5;function Cje(){if(U5)return AO;U5=1;var e=TypeError;return AO=function(t,n){if(t<n)throw new e("Not enough arguments");return t},AO}var wO,j5;function aJ(){if(j5)return wO;j5=1;var e=op();return wO=/(?:ipad|iphone|ipod).*applewebkit/i.test(e),wO}var NO,B5;function cJ(){if(B5)return NO;B5=1;var e=wn(),t=gje(),n=NR(),r=$n(),s=Co(),i=Ai(),o=yje(),a=Eje(),c=YX(),l=Cje(),u=aJ(),d=wR(),f=e.setImmediate,h=e.clearImmediate,p=e.process,_=e.Dispatch,m=e.Function,y=e.MessageChannel,v=e.String,O=0,S={},E="onreadystatechange",T,A,w,N;i(function(){T=e.location});var P=function(F){if(s(S,F)){var j=S[F];delete S[F],j()}},x=function(F){return function(){P(F)}},D=function(F){P(F.data)},M=function(F){e.postMessage(v(F),T.protocol+"//"+T.host)};return(!f||!h)&&(f=function(j){l(arguments.length,1);var $=r(j)?j:m(j),q=a(arguments,1);return S[++O]=function(){t($,void 0,q)},A(O),O},h=function(j){delete S[j]},d?A=function(F){p.nextTick(x(F))}:_&&_.now?A=function(F){_.now(x(F))}:y&&!u?(w=new y,N=w.port2,w.port1.onmessage=D,A=n(N.postMessage,N)):e.addEventListener&&r(e.postMessage)&&!e.importScripts&&T&&T.protocol!=="file:"&&!i(M)?(A=M,e.addEventListener("message",D,!1)):E in c("script")?A=function(F){o.appendChild(c("script"))[E]=function(){o.removeChild(this),P(F)}}:A=function(F){setTimeout(x(F),0)}),NO={set:f,clear:h},NO}var IO,G5;function Sje(){if(G5)return IO;G5=1;var e=wn(),t=yo(),n=Object.getOwnPropertyDescriptor;return IO=function(r){if(!t)return e[r];var s=n(e,r);return s&&s.value},IO}var PO,W5;function lJ(){if(W5)return PO;W5=1;var e=function(){this.head=null,this.tail=null};return e.prototype={add:function(t){var n={item:t,next:null},r=this.tail;r?r.next=n:this.head=n,this.tail=n},get:function(){var t=this.head;if(t){var n=this.head=t.next;return n===null&&(this.tail=null),t.item}}},PO=e,PO}var RO,H5;function bje(){if(H5)return RO;H5=1;var e=op();return RO=/ipad|iphone|ipod/i.test(e)&&typeof Pebble<"u",RO}var xO,$5;function Tje(){if($5)return xO;$5=1;var e=op();return xO=/web0s(?!.*chrome)/i.test(e),xO}var MO,q5;function Oje(){if(q5)return MO;q5=1;var e=wn(),t=Sje(),n=NR(),r=cJ().set,s=lJ(),i=aJ(),o=bje(),a=Tje(),c=wR(),l=e.MutationObserver||e.WebKitMutationObserver,u=e.document,d=e.process,f=e.Promise,h=t("queueMicrotask"),p,_,m,y,v;if(!h){var O=new s,S=function(){var E,T;for(c&&(E=d.domain)&&E.exit();T=O.get();)try{T()}catch(A){throw O.head&&p(),A}E&&E.enter()};!i&&!c&&!a&&l&&u?(_=!0,m=u.createTextNode(""),new l(S).observe(m,{characterData:!0}),p=function(){m.data=_=!_}):!o&&f&&f.resolve?(y=f.resolve(void 0),y.constructor=f,v=n(y.then,y),p=function(){v(S)}):c?p=function(){d.nextTick(S)}:(r=n(r,e),p=function(){r(S)}),h=function(E){O.head||p(),O.add(E)}}return MO=h,MO}var kO,V5;function Aje(){return V5||(V5=1,kO=function(e,t){try{arguments.length===1?console.error(e):console.error(e,t)}catch(n){}}),kO}var LO,z5;function IR(){return z5||(z5=1,LO=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}),LO}var DO,Y5;function lp(){if(Y5)return DO;Y5=1;var e=wn();return DO=e.Promise,DO}var FO,K5;function up(){if(K5)return FO;K5=1;var e=wn(),t=lp(),n=$n(),r=rJ(),s=OR(),i=Ni(),o=sJ(),a=ap(),c=GX(),l=t&&t.prototype,u=i("species"),d=!1,f=n(e.PromiseRejectionEvent),h=r("Promise",function(){var p=s(t),_=p!==String(t);if(!_&&c===66||a&&!(l.catch&&l.finally))return!0;if(!c||c<51||!/native code/.test(p)){var m=new t(function(O){O(1)}),y=function(O){O(function(){},function(){})},v=m.constructor={};if(v[u]=y,d=m.then(function(){})instanceof y,!d)return!0}return!_&&(o==="BROWSER"||o==="DENO")&&!f});return FO={CONSTRUCTOR:h,REJECTION_EVENT:f,SUBCLASSING:d},FO}var UO={},X5;function od(){if(X5)return UO;X5=1;var e=Aa(),t=TypeError,n=function(r){var s,i;this.promise=new r(function(o,a){if(s!==void 0||i!==void 0)throw new t("Bad Promise constructor");s=o,i=a}),this.resolve=e(s),this.reject=e(i)};return UO.f=function(r){return new n(r)},UO}var J5;function wje(){if(J5)return i4;J5=1;var e=al(),t=ap(),n=wR(),r=wn(),s=iJ(),i=wi(),o=AR(),a=cje(),c=lje(),l=dje(),u=Aa(),d=$n(),f=Eo(),h=fje(),p=mje(),_=cJ().set,m=Oje(),y=Aje(),v=IR(),O=lJ(),S=ZX(),E=lp(),T=up(),A=od(),w="Promise",N=T.CONSTRUCTOR,P=T.REJECTION_EVENT,x=T.SUBCLASSING,D=S.getterFor(w),M=S.set,F=E&&E.prototype,j=E,$=F,q=r.TypeError,k=r.document,Z=r.process,B=A.f,Q=B,se=!!(k&&k.createEvent&&r.dispatchEvent),fe="unhandledrejection",V="rejectionhandled",H=0,ee=1,z=2,te=1,Se=2,he,oe,be,ke,Xe=function(ue){var De;return f(ue)&&d(De=ue.then)?De:!1},Pe=function(ue,De){var et=De.value,Je=De.state===ee,Qe=Je?ue.ok:ue.fail,Vt=ue.resolve,mn=ue.reject,gn=ue.domain,un,Xt,vn;try{Qe?(Je||(De.rejection===Se&&nt(De),De.rejection=te),Qe===!0?un=et:(gn&&gn.enter(),un=Qe(et),gn&&(gn.exit(),vn=!0)),un===ue.promise?mn(new q("Promise-chain cycle")):(Xt=Xe(un))?i(Xt,un,Vt,mn):Vt(un)):mn(et)}catch(zr){gn&&!vn&&gn.exit(),mn(zr)}},J=function(ue,De){ue.notified||(ue.notified=!0,m(function(){for(var et=ue.reactions,Je;Je=et.get();)Pe(Je,ue);ue.notified=!1,De&&!ue.rejection&&L(ue)}))},X=function(ue,De,et){var Je,Qe;se?(Je=k.createEvent("Event"),Je.promise=De,Je.reason=et,Je.initEvent(ue,!1,!0),r.dispatchEvent(Je)):Je={promise:De,reason:et},!P&&(Qe=r["on"+ue])?Qe(Je):ue===fe&&y("Unhandled promise rejection",et)},L=function(ue){i(_,r,function(){var De=ue.facade,et=ue.value,Je=Ne(ue),Qe;if(Je&&(Qe=v(function(){n?Z.emit("unhandledRejection",et,De):X(fe,De,et)}),ue.rejection=n||Ne(ue)?Se:te,Qe.error))throw Qe.value})},Ne=function(ue){return ue.rejection!==te&&!ue.parent},nt=function(ue){i(_,r,function(){var De=ue.facade;n?Z.emit("rejectionHandled",De):X(V,De,ue.value)})},He=function(ue,De,et){return function(Je){ue(De,Je,et)}},tt=function(ue,De,et){ue.done||(ue.done=!0,et&&(ue=et),ue.value=De,ue.state=z,J(ue,!0))},it=function(ue,De,et){if(!ue.done){ue.done=!0,et&&(ue=et);try{if(ue.facade===De)throw new q("Promise can't be resolved itself");var Je=Xe(De);Je?m(function(){var Qe={done:!1};try{i(Je,De,He(it,Qe,ue),He(tt,Qe,ue))}catch(Vt){tt(Qe,Vt,ue)}}):(ue.value=De,ue.state=ee,J(ue,!1))}catch(Qe){tt({done:!1},Qe,ue)}}};if(N&&(j=function(De){h(this,$),u(De),i(he,this);var et=D(this);try{De(He(it,et),He(tt,et))}catch(Je){tt(et,Je)}},$=j.prototype,he=function(De){M(this,{type:w,done:!1,notified:!1,parent:!1,reactions:new O,rejection:!1,state:H,value:null})},he.prototype=o($,"then",function(De,et){var Je=D(this),Qe=B(p(this,j));return Je.parent=!0,Qe.ok=d(De)?De:!0,Qe.fail=d(et)&&et,Qe.domain=n?Z.domain:void 0,Je.state===H?Je.reactions.add(Qe):m(function(){Pe(Qe,Je)}),Qe.promise}),oe=function(){var ue=new he,De=D(ue);this.promise=ue,this.resolve=He(it,De),this.reject=He(tt,De)},A.f=B=function(ue){return ue===j||ue===be?new oe(ue):Q(ue)},!t&&d(E)&&F!==Object.prototype)){ke=F.then,x||o(F,"then",function(De,et){var Je=this;return new j(function(Qe,Vt){i(ke,Je,Qe,Vt)}).then(De,et)},{unsafe:!0});try{delete F.constructor}catch(ue){}a&&a(F,$)}return e({global:!0,constructor:!0,wrap:!0,forced:N},{Promise:j}),be=s.Promise,c(j,w,!1,!0),l(w),i4}var Q5={},jO,Z5;function uJ(){return Z5||(Z5=1,jO={}),jO}var BO,eB;function Nje(){if(eB)return BO;eB=1;var e=Ni(),t=uJ(),n=e("iterator"),r=Array.prototype;return BO=function(s){return s!==void 0&&(t.Array===s||r[n]===s)},BO}var GO,tB;function dJ(){if(tB)return GO;tB=1;var e=oJ(),t=SR(),n=ly(),r=uJ(),s=Ni(),i=s("iterator");return GO=function(o){if(!n(o))return t(o,i)||t(o,"@@iterator")||r[e(o)]},GO}var WO,nB;function Ije(){if(nB)return WO;nB=1;var e=wi(),t=Aa(),n=ol(),r=uy(),s=dJ(),i=TypeError;return WO=function(o,a){var c=arguments.length<2?s(o):a;if(t(c))return n(e(c,o));throw new i(r(o)+" is not iterable")},WO}var HO,rB;function Pje(){if(rB)return HO;rB=1;var e=wi(),t=ol(),n=SR();return HO=function(r,s,i){var o,a;t(r);try{if(o=n(r,"return"),!o){if(s==="throw")throw i;return i}o=e(o,r)}catch(c){a=!0,o=c}if(s==="throw")throw i;if(a)throw o;return t(o),i},HO}var $O,sB;function fJ(){if(sB)return $O;sB=1;var e=NR(),t=wi(),n=ol(),r=uy(),s=Nje(),i=nJ(),o=CR(),a=Ije(),c=dJ(),l=Pje(),u=TypeError,d=function(h,p){this.stopped=h,this.result=p},f=d.prototype;return $O=function(h,p,_){var m=_&&_.that,y=!!(_&&_.AS_ENTRIES),v=!!(_&&_.IS_RECORD),O=!!(_&&_.IS_ITERATOR),S=!!(_&&_.INTERRUPTED),E=e(p,m),T,A,w,N,P,x,D,M=function(j){return T&&l(T,"normal"),new d(!0,j)},F=function(j){return y?(n(j),S?E(j[0],j[1],M):E(j[0],j[1])):S?E(j,M):E(j)};if(v)T=h.iterator;else if(O)T=h;else{if(A=c(h),!A)throw new u(r(h)+" is not iterable");if(s(A)){for(w=0,N=i(h);N>w;w++)if(P=F(h[w]),P&&o(f,P))return P;return new d(!1)}T=a(h,A)}for(x=v?h.next:T.next;!(D=t(x,T)).done;){try{P=F(D.value)}catch(j){l(T,"throw",j)}if(typeof P=="object"&&P&&o(f,P))return P}return new d(!1)},$O}var qO,iB;function Rje(){if(iB)return qO;iB=1;var e=Ni(),t=e("iterator"),n=!1;try{var r=0,s={next:function(){return{done:!!r++}},return:function(){n=!0}};s[t]=function(){return this},Array.from(s,function(){throw 2})}catch(i){}return qO=function(i,o){try{if(!o&&!n)return!1}catch(l){return!1}var a=!1;try{var c={};c[t]=function(){return{next:function(){return{done:a=!0}}}},i(c)}catch(l){}return a},qO}var VO,oB;function hJ(){if(oB)return VO;oB=1;var e=lp(),t=Rje(),n=up().CONSTRUCTOR;return VO=n||!t(function(r){e.all(r).then(void 0,function(){})}),VO}var aB;function xje(){if(aB)return Q5;aB=1;var e=al(),t=wi(),n=Aa(),r=od(),s=IR(),i=fJ(),o=hJ();return e({target:"Promise",stat:!0,forced:o},{all:function(c){var l=this,u=r.f(l),d=u.resolve,f=u.reject,h=s(function(){var p=n(l.resolve),_=[],m=0,y=1;i(c,function(v){var O=m++,S=!1;y++,t(p,l,v).then(function(E){S||(S=!0,_[O]=E,--y||d(_))},f)}),--y||d(_)});return h.error&&f(h.value),u.promise}}),Q5}var cB={},lB;function Mje(){if(lB)return cB;lB=1;var e=al(),t=ap(),n=up().CONSTRUCTOR,r=lp(),s=il(),i=$n(),o=AR(),a=r&&r.prototype;if(e({target:"Promise",proto:!0,forced:n,real:!0},{catch:function(l){return this.then(void 0,l)}}),!t&&i(r)){var c=s("Promise").prototype.catch;a.catch!==c&&o(a,"catch",c,{unsafe:!0})}return cB}var uB={},dB;function kje(){if(dB)return uB;dB=1;var e=al(),t=wi(),n=Aa(),r=od(),s=IR(),i=fJ(),o=hJ();return e({target:"Promise",stat:!0,forced:o},{race:function(c){var l=this,u=r.f(l),d=u.reject,f=s(function(){var h=n(l.resolve);i(c,function(p){t(h,l,p).then(u.resolve,d)})});return f.error&&d(f.value),u.promise}}),uB}var fB={},hB;function Lje(){if(hB)return fB;hB=1;var e=al(),t=od(),n=up().CONSTRUCTOR;return e({target:"Promise",stat:!0,forced:n},{reject:function(s){var i=t.f(this),o=i.reject;return o(s),i.promise}}),fB}var pB={},zO,_B;function Dje(){if(_B)return zO;_B=1;var e=ol(),t=Eo(),n=od();return zO=function(r,s){if(e(r),t(s)&&s.constructor===r)return s;var i=n.f(r),o=i.resolve;return o(s),i.promise},zO}var mB;function Fje(){if(mB)return pB;mB=1;var e=al(),t=il(),n=ap(),r=lp(),s=up().CONSTRUCTOR,i=Dje(),o=t("Promise"),a=n&&!s;return e({target:"Promise",stat:!0,forced:n||s},{resolve:function(l){return i(a&&this===o?r:this,l)}}),pB}var gB;function Uje(){return gB||(gB=1,wje(),xje(),Mje(),kje(),Lje(),Fje()),s4}var vB={},yB;function pJ(){if(yB)return vB;yB=1;var e=al(),t=od();return e({target:"Promise",stat:!0},{withResolvers:function(){var r=t.f(this);return{promise:r.promise,resolve:r.resolve,reject:r.reject}}}),vB}var YO,EB;function jje(){if(EB)return YO;EB=1,Uje(),pJ();var e=wi(),t=$n(),n=iJ(),r=n.Promise,s=r.withResolvers;return YO=function(){return e(s,t(this)?this:r)},YO}var KO,CB;function Bje(){if(CB)return KO;CB=1;var e=jje();return KO=e,KO}var SB={},bB;function Gje(){return bB||(bB=1,pJ()),SB}var XO,TB;function Wje(){if(TB)return XO;TB=1;var e=Bje();return Gje(),XO=e,XO}Wje();async function Hje(){performance.mark("polyfill.all.start"),await Promise.allSettled([F2e(),j2e(),D2e(),U2e()]),performance.mark("polyfill.all.end"),performance.measure("polyfill.all","polyfill.all.start","polyfill.all.end")}const sg=["light","dark"],PR="(prefers-color-scheme: dark)",$je=typeof window>"u",RR=C.createContext(void 0),qje={setTheme:e=>{},themes:[]},_J=()=>{var e;return(e=C.useContext(RR))!==null&&e!==void 0?e:qje},Vje=e=>C.useContext(RR)?It.createElement(C.Fragment,null,e.children):It.createElement(Yje,e),zje=["light","dark"],Yje=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:n=!0,enableColorScheme:r=!0,storageKey:s="theme",themes:i=zje,defaultTheme:o=n?"system":"light",attribute:a="data-theme",value:c,children:l,nonce:u})=>{const[d,f]=C.useState(()=>OB(s,o)),[h,p]=C.useState(()=>OB(s)),_=c?Object.values(c):i,m=C.useCallback(S=>{let E=S;if(!E)return;S==="system"&&n&&(E=AB());const T=c?c[E]:E,A=t?Xje():null,w=document.documentElement;if(a==="class"?(w.classList.remove(..._),T&&w.classList.add(T)):T?w.setAttribute(a,T):w.removeAttribute(a),r){const N=sg.includes(o)?o:null,P=sg.includes(E)?E:N;w.style.colorScheme=P}A==null||A()},[]),y=C.useCallback(S=>{f(S);try{localStorage.setItem(s,S)}catch(E){}},[e]),v=C.useCallback(S=>{const E=AB(S);p(E),d==="system"&&n&&!e&&m("system")},[d,e]);C.useEffect(()=>{const S=window.matchMedia(PR);return S.addListener(v),v(S),()=>S.removeListener(v)},[v]),C.useEffect(()=>{const S=E=>{E.key===s&&y(E.newValue||o)};return window.addEventListener("storage",S),()=>window.removeEventListener("storage",S)},[y]),C.useEffect(()=>{m(e!=null?e:d)},[e,d]);const O=C.useMemo(()=>({theme:d,setTheme:y,forcedTheme:e,resolvedTheme:d==="system"?h:d,themes:n?[...i,"system"]:i,systemTheme:n?h:void 0}),[d,y,e,h,n,i]);return It.createElement(RR.Provider,{value:O},It.createElement(Kje,{forcedTheme:e,disableTransitionOnChange:t,enableSystem:n,enableColorScheme:r,storageKey:s,themes:i,defaultTheme:o,attribute:a,value:c,children:l,attrs:_,nonce:u}),l)},Kje=C.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:c})=>{const l=i==="system",u=n==="class"?"var d=document.documentElement,c=d.classList;c.remove(".concat(a.map(p=>"'".concat(p,"'")).join(","),");"):"var d=document.documentElement,n='".concat(n,"',s='setAttribute';"),d=s?sg.includes(i)&&i?"if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'".concat(i,"'"):"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(p,_=!1,m=!0)=>{const y=o?o[p]:p,v=_?p+"|| ''":"'".concat(y,"'");let O="";return s&&m&&!_&&sg.includes(p)&&(O+="d.style.colorScheme = '".concat(p,"';")),n==="class"?O+=_||y?"c.add(".concat(v,")"):"null":y&&(O+="d[s](n,".concat(v,")")),O},h=e?"!function(){".concat(u).concat(f(e),"}()"):r?"!function(){try{".concat(u,"var e=localStorage.getItem('").concat(t,"');if('system'===e||(!e&&").concat(l,")){var t='").concat(PR,"',m=window.matchMedia(t);if(m.media!==t||m.matches){").concat(f("dark"),"}else{").concat(f("light"),"}}else if(e){").concat(o?"var x=".concat(JSON.stringify(o),";"):"").concat(f(o?"x[e]":"e",!0),"}").concat(l?"":"else{"+f(i,!1,!1)+"}").concat(d,"}catch(e){}}()"):"!function(){try{".concat(u,"var e=localStorage.getItem('").concat(t,"');if(e){").concat(o?"var x=".concat(JSON.stringify(o),";"):"").concat(f(o?"x[e]":"e",!0),"}else{").concat(f(i,!1,!1),";}").concat(d,"}catch(t){}}();");return It.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:h}})},()=>!0),OB=(e,t)=>{if($je)return;let n;try{n=localStorage.getItem(e)||void 0}catch(r){}return n||t},Xje=()=>{const e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},AB=e=>(e||(e=window.matchMedia(PR)),e.matches?"dark":"light");function mJ(e){return e==="system"||gJ(e)}function gJ(e){return e==="dark"||e==="light"}function Jje(e){if(!mJ(e))throw new Error("Unexpected theme ".concat(e))}function mXe(){const{theme:e,setTheme:t}=_J();function n(r){Jje(r),r!==e&&t(r)}return[mJ(e)?e:"system",n]}function Qje(){const e=_J().resolvedTheme;if(gJ(e))return e}function gXe(){return Qje()==="dark"}function vXe(){return document.documentElement.classList.contains("dark")}const vJ=new Set;let Xf=[];const mw=new Set;function Zje(){for(const e of mw)try{e()}catch(t){}}function xR(e){Xf=e,Zje()}function Ad(e){if(!e.id)return;const t=Xf.slice(),n=t.findIndex(r=>r.id===e.id);n>=0?t[n]=b(b({},t[n]),e):t.unshift(e),xR(t)}function e4e(e){for(const t of e)t&&vJ.add(t)}function t4e(e){return e?vJ.has(e):!1}function n4e(e){return mw.add(e),()=>{mw.delete(e)}}function r4e(){return Xf}function s4e(e){if(!e)return;const t=Xf.findIndex(r=>r.id===e);if(t===-1)return;const n=Xf.slice();n[t]=I(b({},n[t]),{reacted_to_at:new Date().toISOString()}),xR(n)}async function i4e(e){await Y.safePost("/amphora/notifications/{notification_id}/reacted",{parameters:{path:{notification_id:e}}})}async function o4e(e=20){return await Y.safeGet("/amphora/notifications",{parameters:{query:{limit:e}}})}const yJ=Wn(()=>ne(()=>import("./dj4fs09pt4xr067s.js"),__vite__mapDeps([28,1,29,30,31,2,3,32])).then(e=>e.InviteBannerModal)),a4e=Wn(()=>ne(()=>import("./m1bfa4u7ch9ogz2v.js"),__vite__mapDeps([33,1,29,30,31,2,3,32])).then(e=>e.InviteInfoModal));Wn(()=>ne(()=>import("./es6tdnxyedyw41q4.js"),__vite__mapDeps([34,1,2,3,29,30,31,32])).then(e=>e.InviteAcceptedBannerModal));function c4e(e,t,n){Xs(e,yJ,{notificationId:t,payload:n})}function l4e(e,t,n,r){nN(e,yJ),Xs(e,a4e,{payload:t,notificationId:n,profileImageUrl:r})}const u4e=Wn(()=>ne(()=>import("./gp1jnovlq00qfsrt.js"),__vite__mapDeps([35,1,2,3])).then(e=>e.FamilyUnlinkBannerModal));function d4e(e,t,n){Xs(e,u4e,{notificationId:t,payload:n})}const f4e=Wn(()=>ne(()=>import("./jmct30fsgsyy93nr.js").then(e=>e.s),__vite__mapDeps([36,1,30,31,2,3,37,38,39,40,41,42])).then(e=>e.SelfHarmBannerModal));function h4e(e,t,n){Xs(e,f4e,{notificationId:t,payload:n})}const gw=new Set;async function yXe(e){try{e&&(await i4e(e),s4e(e),gw.delete(e))}catch(t){}}const p4e=Wn(()=>ne(()=>import("./nfvtbit6sxjfmijr.js"),__vite__mapDeps([43,1,2,3])).then(e=>e.SettingUpdatedBannerModal));function _4e(e,t){if(t){if(gw.has(t))return;gw.add(t)}const n=on(e);(async()=>{try{await Y.safePost("/amphora/clear_settings_cache")}catch(s){}try{const s=Hi();await n.invalidateQueries(s),await n.prefetchQuery(s)}catch(s){}const r=s=>{const i=s.queryKey;if(!Array.isArray(i)||i.length<2||!(typeof i[0]=="string"&&i[0]==="amphora"))return!1;const a=i[i.length-1];return typeof a=="string"&&a==="permissions"};try{await n.invalidateQueries({predicate:r})}catch(s){}try{await n.refetchQueries({predicate:r,type:"inactive"})}catch(s){}})()}function m4e(e,t,n){Xs(e,p4e,{notificationId:t,payload:n})}function EJ(e){var s;const t=_a(e),n=Date.now(),r=new Date(n).toISOString();return{user_id:(s=t==null?void 0:t.user)==null?void 0:s.id,timestamp_ms:n,timestamp_iso:r}}function g4e(e){ve.logEvent("U18 Model Policy Banner Shown",b({},EJ(e)))}function EXe(e,t){ve.logEvent("U18 Model Policy Banner Clicked",I(b({},EJ(e)),{cta:t}))}Wn(()=>ne(()=>import("./f5y6cesb2c9ttetg.js"),__vite__mapDeps([44,1,2,3,45])).then(e=>e.U18InfoModal));const v4e=Wn(()=>ne(()=>import("./f5y6cesb2c9ttetg.js"),__vite__mapDeps([44,1,2,3,45])).then(e=>e.U18BannerModal));function y4e(e,t){g4e(e),Xs(e,v4e,{notificationId:t})}async function E4e(){return await Y.safeGet("/amphora")}const vw=ln({queryKey:["amphora"],queryFn:E4e,staleTime:1/0});function CXe(){return rn(vw).data}async function C4e(e){var r;await e.invalidateQueries({queryKey:vw.queryKey,exact:!0});const t=e.getQueryData(vw.queryKey),n=(r=t==null?void 0:t.id)!=null?r:null;n&&await e.invalidateQueries({predicate:({queryKey:s})=>!Array.isArray(s)||s[0]!=="amphora"||s.length!==3?!1:s[1]===n})}const wB=Ie(()=>us(()=>document.hasFocus(),e=>{const t=()=>e();return window.addEventListener("focus",t),window.addEventListener("blur",t),document.addEventListener("visibilitychange",t),()=>{window.removeEventListener("focus",t),window.removeEventListener("blur",t),document.removeEventListener("visibilitychange",t)}},{name:"isWindowFocused",getServerFallback:()=>!0})),yw=new eI;var rh;class S4e{constructor(){U(this,"start",0);U(this,"connectTime",0);U(this,"hasLoggedGetSocketURL",!1);U(this,"didLogPingFromWorker",!1);U(this,"didLogPingFromServer",!1);U(this,"pingId",yr());U(this,"actionMetadata",{});U(this,"onFetchSocketURL",()=>{if(!this.hasLoggedGetSocketURL){const t=performance.now()-this.start;this.actionMetadata.socket_url_duration=t,this.actionMetadata.socket_url_time=t,K.addAction("ws.get-socket-url",this.actionMetadata),xn.hist(bn.WEBSOCKET,"get-socket-url",[],t),this.hasLoggedGetSocketURL=!0}});kt(this,rh,({payload:t})=>{const{ping_id:n,source:r}=t;if(!(n!=null&&n!==this.pingId)){if(r==="server"&&!this.didLogPingFromServer){this.didLogPingFromServer=!0;const s=performance.now()-this.start,i=s-this.connectTime;this.actionMetadata.receive_server_ping_time=s,this.actionMetadata.receive_server_ping_duration=i,K.addAction("ws.receive-server-ping",this.actionMetadata),xn.hist(bn.WEBSOCKET,"receive-server-ping",[],i)}if((r==="worker"||r==null)&&!this.didLogPingFromWorker){this.didLogPingFromWorker=!0;const s=performance.now()-this.start,i=s-this.connectTime;this.actionMetadata.receive_ping_time=s,this.actionMetadata.receive_ping_duration=i,K.addAction("ws.receive-ping",this.actionMetadata),xn.hist(bn.WEBSOCKET,"receive-ping",[],i)}this.didLogPingFromWorker&&this.didLogPingFromServer&&yw.off("ping",pe(this,rh))}})}onInit(){K.addAction("ws.init"),xn.count(bn.WEBSOCKET,"init"),this.start=performance.now()}onConnect(){if(!(this.connectTime>0))try{this.connectTime=performance.now()-this.start;const t=this.connectTime-Number(this.actionMetadata.socket_url_time);this.actionMetadata.connect_time=this.connectTime,this.actionMetadata.connect_duration=t,K.addAction("ws.connect",this.actionMetadata),xn.hist(bn.WEBSOCKET,"connect",[],t),yw.on("ping",pe(this,rh)),K.addAction("ws.send-ping",this.actionMetadata),Y.safePost("/celsius/ping",{requestBody:{ping_id:this.pingId}})}catch(t){K.addAction("ws.error",{error:t}),xn.count(bn.WEBSOCKET,"error")}}}rh=new WeakMap;const b4e=ct(e=>Me(e,"1281927149")?new S4e:void 0);function T4e(e,t){let n=null;const r=()=>{const s=Date.now(),i=n!=null?s-n.time:null;return n!=null&&i!=null&&i<t?(K.addAction("websocket-url-cache.hit",{timeSinceLastValue:i}),n.promise):(K.addAction("websocket-url-cache.miss",{timeSinceLastValue:i}),n={promise:e().catch(o=>{throw K.addAction("websocket-url-cache.error"),n=null,o}),time:s},n.promise)};return r.invalidate=()=>{K.addAction("websocket-url-cache.invalidate"),n=null},r}const O4e=async()=>(await Y.safeGet("/celsius/ws/user")).websocket_url,A4e=T4e(O4e,15e5);(!globalThis.EventTarget||!globalThis.Event)&&console.error("\n  PartySocket requires a global 'EventTarget' class to be available!\n  You can polyfill this global by adding this to your code before any partysocket imports: \n  \n  ```\n  import 'partysocket/event-target-polyfill';\n  ```\n  Please file an issue at https://github.com/partykit/partykit if you're still having trouble.\n");var CJ=class extends Event{constructor(n,r){super("error",r);U(this,"message");U(this,"error");this.message=n.message,this.error=n}},SJ=class extends Event{constructor(t=1e3,n="",r){super("close",r);U(this,"code");U(this,"reason");U(this,"wasClean",!0);this.code=t,this.reason=n}},JO={Event,ErrorEvent:CJ,CloseEvent:SJ};function w4e(e,t){if(!e)throw new Error(t)}function N4e(e){return new e.constructor(e.type,e)}function I4e(e){return"data"in e?new MessageEvent(e.type,e):"code"in e||"reason"in e?new SJ(e.code||1999,e.reason||"unknown reason",e):"error"in e?new CJ(e.error,e):new Event(e.type,e)}var NB,P4e=typeof process<"u"&&typeof((NB=process.versions)==null?void 0:NB.node)<"u"&&typeof document>"u",l_=P4e?I4e:N4e,ja={maxReconnectionDelay:1e4,minReconnectionDelay:1e3+Math.random()*4e3,minUptime:5e3,reconnectionDelayGrowFactor:1.3,connectionTimeout:4e3,maxRetries:Number.POSITIVE_INFINITY,maxEnqueuedMessages:Number.POSITIVE_INFINITY},IB=!1,R4e=class Xa extends EventTarget{constructor(n,r,s={}){super();U(this,"_ws");U(this,"_retryCount",-1);U(this,"_uptimeTimeout");U(this,"_connectTimeout");U(this,"_shouldReconnect",!0);U(this,"_connectLock",!1);U(this,"_binaryType","blob");U(this,"_closeCalled",!1);U(this,"_messageQueue",[]);U(this,"_debugLogger",console.log.bind(console));U(this,"_url");U(this,"_protocols");U(this,"_options");U(this,"onclose",null);U(this,"onerror",null);U(this,"onmessage",null);U(this,"onopen",null);U(this,"_handleOpen",n=>{this._debug("open event");const{minUptime:r=ja.minUptime}=this._options;clearTimeout(this._connectTimeout),this._uptimeTimeout=setTimeout(()=>this._acceptOpen(),r),w4e(this._ws,"WebSocket is not defined"),this._ws.binaryType=this._binaryType,this._messageQueue.forEach(s=>{var i;return(i=this._ws)==null?void 0:i.send(s)}),this._messageQueue=[],this.onopen&&this.onopen(n),this.dispatchEvent(l_(n))});U(this,"_handleMessage",n=>{this._debug("message event"),this.onmessage&&this.onmessage(n),this.dispatchEvent(l_(n))});U(this,"_handleError",n=>{this._debug("error event",n.message),this._disconnect(void 0,n.message==="TIMEOUT"?"timeout":void 0),this.onerror&&this.onerror(n),this._debug("exec error listeners"),this.dispatchEvent(l_(n)),this._connect()});U(this,"_handleClose",n=>{this._debug("close event"),this._clearTimeouts(),this._shouldReconnect&&this._connect(),this.onclose&&this.onclose(n),this.dispatchEvent(l_(n))});this._url=n,this._protocols=r,this._options=s,this._options.startClosed&&(this._shouldReconnect=!1),this._options.debugLogger&&(this._debugLogger=this._options.debugLogger),this._connect()}static get CONNECTING(){return 0}static get OPEN(){return 1}static get CLOSING(){return 2}static get CLOSED(){return 3}get CONNECTING(){return Xa.CONNECTING}get OPEN(){return Xa.OPEN}get CLOSING(){return Xa.CLOSING}get CLOSED(){return Xa.CLOSED}get binaryType(){return this._ws?this._ws.binaryType:this._binaryType}set binaryType(n){this._binaryType=n,this._ws&&(this._ws.binaryType=n)}get retryCount(){return Math.max(this._retryCount,0)}get bufferedAmount(){return this._messageQueue.reduce((r,s)=>(typeof s=="string"?r+=s.length:s instanceof Blob?r+=s.size:r+=s.byteLength,r),0)+(this._ws?this._ws.bufferedAmount:0)}get extensions(){return this._ws?this._ws.extensions:""}get protocol(){return this._ws?this._ws.protocol:""}get readyState(){return this._ws?this._ws.readyState:this._options.startClosed?Xa.CLOSED:Xa.CONNECTING}get url(){return this._ws?this._ws.url:""}get shouldReconnect(){return this._shouldReconnect}close(n=1e3,r){if(this._closeCalled=!0,this._shouldReconnect=!1,this._clearTimeouts(),!this._ws){this._debug("close enqueued: no ws instance");return}if(this._ws.readyState===this.CLOSED){this._debug("close: already closed");return}this._ws.close(n,r)}reconnect(n,r){this._shouldReconnect=!0,this._closeCalled=!1,this._retryCount=-1,!this._ws||this._ws.readyState===this.CLOSED?this._connect():(this._disconnect(n,r),this._connect())}send(n){if(this._ws&&this._ws.readyState===this.OPEN)this._debug("send",n),this._ws.send(n);else{const{maxEnqueuedMessages:r=ja.maxEnqueuedMessages}=this._options;this._messageQueue.length<r&&(this._debug("enqueue",n),this._messageQueue.push(n))}}_debug(...n){this._options.debug&&this._debugLogger("RWS>",...n)}_getNextDelay(){const{reconnectionDelayGrowFactor:n=ja.reconnectionDelayGrowFactor,minReconnectionDelay:r=ja.minReconnectionDelay,maxReconnectionDelay:s=ja.maxReconnectionDelay}=this._options;let i=0;return this._retryCount>0&&(i=r*n**(this._retryCount-1),i>s&&(i=s)),this._debug("next delay",i),i}_wait(){return new Promise(n=>{setTimeout(n,this._getNextDelay())})}_getNextProtocols(n){if(!n)return Promise.resolve(null);if(typeof n=="string"||Array.isArray(n))return Promise.resolve(n);if(typeof n=="function"){const r=n();if(!r)return Promise.resolve(null);if(typeof r=="string"||Array.isArray(r))return Promise.resolve(r);if(r.then)return r}throw Error("Invalid protocols")}_getNextUrl(n){if(typeof n=="string")return Promise.resolve(n);if(typeof n=="function"){const r=n();if(typeof r=="string")return Promise.resolve(r);if(r.then)return r}throw Error("Invalid URL")}_connect(){if(this._connectLock||!this._shouldReconnect)return;this._connectLock=!0;const{maxRetries:n=ja.maxRetries,connectionTimeout:r=ja.connectionTimeout}=this._options;if(this._retryCount>=n){this._debug("max retries reached",this._retryCount,">=",n);return}this._retryCount++,this._debug("connect",this._retryCount),this._removeListeners(),this._wait().then(()=>Promise.all([this._getNextUrl(this._url),this._getNextProtocols(this._protocols||null)])).then(([s,i])=>{if(this._closeCalled){this._connectLock=!1;return}!this._options.WebSocket&&typeof WebSocket>"u"&&!IB&&(console.error("â€¼ï¸ No WebSocket implementation available. You should define options.WebSocket. \n\nFor example, if you're using node.js, run `npm install ws`, and then in your code:\n\nimport PartySocket from 'partysocket';\nimport WS from 'ws';\n\nconst partysocket = new PartySocket({\n  host: \"127.0.0.1:1999\",\n  room: \"test-room\",\n  WebSocket: WS\n});\n\n"),IB=!0);const o=this._options.WebSocket||WebSocket;this._debug("connect",{url:s,protocols:i}),this._ws=i?new o(s,i):new o(s),this._ws.binaryType=this._binaryType,this._connectLock=!1,this._addListeners(),this._connectTimeout=setTimeout(()=>this._handleTimeout(),r)}).catch(s=>{this._connectLock=!1,this._handleError(new JO.ErrorEvent(Error(s.message),this))})}_handleTimeout(){this._debug("timeout event"),this._handleError(new JO.ErrorEvent(Error("TIMEOUT"),this))}_disconnect(n=1e3,r){if(this._clearTimeouts(),!!this._ws){this._removeListeners();try{this._ws.readyState===this.OPEN&&this._ws.close(n,r),this._handleClose(new JO.CloseEvent(n,r,this))}catch(s){}}}_acceptOpen(){this._debug("accept open"),this._retryCount=0}_removeListeners(){this._ws&&(this._debug("removeListeners"),this._ws.removeEventListener("open",this._handleOpen),this._ws.removeEventListener("close",this._handleClose),this._ws.removeEventListener("message",this._handleMessage),this._ws.removeEventListener("error",this._handleError))}_addListeners(){this._ws&&(this._debug("addListeners"),this._ws.addEventListener("open",this._handleOpen),this._ws.addEventListener("close",this._handleClose),this._ws.addEventListener("message",this._handleMessage),this._ws.addEventListener("error",this._handleError))}_clearTimeouts(){clearTimeout(this._connectTimeout),clearTimeout(this._uptimeTimeout)}};/*!
 * Reconnecting WebSocket
 * by Pedro Ladaria <pedro.ladaria@gmail.com>
 * https://github.com/pladaria/reconnecting-websocket
 * License MIT
 */const bJ=ct(e=>new k4e(e));function x4e(e,t){return bJ(e).getTopic(t)}const PB={maxRetries:20,minReconnectionDelay:1e3+Math.random()*4e3,reconnectionDelayGrowFactor:1.5,maxReconnectionDelay:1/0},M4e={maxRetries:5,minReconnectionDelay:2e3+Math.random()*8e3,reconnectionDelayGrowFactor:2,maxReconnectionDelay:1/0};var ls,TJ,OJ,AJ,wJ,NJ;class k4e{constructor(t){kt(this,ls);U(this,"ws");U(this,"pingTest");U(this,"nextRequestId",1);U(this,"commandCallbacks",{});U(this,"topics",new Map);U(this,"isTransportOpen",!1);U(this,"isBatchingCommands",!1);U(this,"batchCommands",[]);U(this,"keepaliveInterval");this.ctx=t}init(){var n;this.pingTest=b4e(this.ctx),(n=this.pingTest)==null||n.onInit();const t=new R4e(async()=>{var s;const r=await A4e();return(s=this.pingTest)==null||s.onFetchSocketURL(),r},void 0,PB);this.ws=t,t.addEventListener("open",()=>{hl(this,ls,TJ).call(this)}),t.addEventListener("close",()=>{hl(this,ls,AJ).call(this)}),t.addEventListener("message",r=>{hl(this,ls,wJ).call(this,r)}),t.addEventListener("error",r=>{hl(this,ls,NJ).call(this,r)}),hl(this,ls,OJ).call(this)}connect(){this.ws.reconnect()}disconnect(){this.ws.close()}getTopic(t){const n=this.topics.get(t);if(n)return n;const r=new L4e(t,this);return this.topics.set(t,r),r}startBatchCommands(){this.isBatchingCommands=!0,this.batchCommands=[]}endBatchCommands(){this.isBatchingCommands=!1,this.ws.send(JSON.stringify(this.batchCommands)),this.batchCommands=[]}async sendCommand(t){const n=this.nextRequestId++;this.commandCallbacks[n]=Promise.withResolvers();const r={id:n,command:t};this.isBatchingCommands?this.batchCommands.push(r):this.ws.send(JSON.stringify([r]));const s=await this.commandCallbacks[n].promise;return delete this.commandCallbacks[n],s}}ls=new WeakSet,TJ=function(){var t;(t=this.pingTest)==null||t.onConnect(),this.isTransportOpen=!0,this.startBatchCommands(),this.sendCommand({type:"connect",presence:{type:"presence",state:gt(()=>wB(this.ctx))?"foreground":"background"}});for(const n of this.topics.values())n.state===1&&n.subscribe();this.endBatchCommands(),Me(this.ctx,"3274829134")&&(this.keepaliveInterval=setInterval(()=>{this.ws.send(JSON.stringify({type:"keepalive-ping"}))},2e4))},OJ=function(){na(()=>wB(this.ctx),t=>{this.ws._options=t?PB:M4e,this.isTransportOpen&&this.sendCommand({type:"presence",state:t?"foreground":"background"})})},AJ=function(){this.isTransportOpen=!1;for(const t of this.topics.values())t.handleDisconnect();this.endBatchCommands(),this.keepaliveInterval&&(clearInterval(this.keepaliveInterval),this.keepaliveInterval=void 0)},wJ=function(t){const n=JSON.parse(t.data);if(Array.isArray(n)){const s=n;for(const i of s)if("type"in i&&i.type==="message"){const{topic_id:o}=i,a=this.topics.get(o);a&&a.handleMessage(i)}else"id"in i&&"reply"in i&&this.commandCallbacks[i.id].resolve(i.reply)}else{const r=n,{type:i}=r,o=G(r,["type"]),a=b({kind:i},o);yw.publish(a)}},NJ=function(t){K.addAction("websocket error",{error:t.error,message:t.message})};var fc,Bo;class L4e{constructor(t,n){U(this,"state",2);U(this,"offset",null);kt(this,fc,new eI);kt(this,Bo,!1);this.topicId=t,this.client=n}onMessage(t){return pe(this,fc).on("message",n=>t(n.payload))}onPotentialMissedMessages(t){return pe(this,fc).on("recovery-failed",()=>t())}handleMessage(t){pe(this,fc).publish({kind:"message",payload:t.payload}),t.offset!=null&&t.offset!==""&&(this.offset=t.offset)}handleDisconnect(){this.state=1,zt(this,Bo,!1)}async subscribe(t={}){var n;if(t.includeAllHistory&&this.offset==null&&(this.offset="0"),this.state!==0&&(this.state=1,this.client.isTransportOpen&&!pe(this,Bo))){zt(this,Bo,!0);const r=this.offset,s=await this.client.sendCommand(b({type:"subscribe",topic_id:this.topicId},r!=null?{offset:r}:{}));if(zt(this,Bo,!1),s.type==="subscribe"&&s.topic_id===this.topicId){if(this.state=0,this.offset=(n=s.last_offset)!=null?n:null,s.recovered&&s.catchups!=null)for(const i of s.catchups)this.handleMessage(i);r!=null&&!s.recovered&&pe(this,fc).publish({kind:"recovery-failed"})}else throw new Error("Unexpected reply to subscribe command")}}unsubscribe(){this.state!==2&&((this.state===0||pe(this,Bo))&&this.client.sendCommand({type:"unsubscribe",topic_id:this.topicId}),this.state=2)}}fc=new WeakMap,Bo=new WeakMap;function bXe(){"use forget";return C.useSyncExternalStore(n4e,r4e)}const D4e=Wn(()=>ne(()=>import("./josbm46cli4lgccy.js"),__vite__mapDeps([46,1,2,3])).then(e=>e.QuietHoursModal));function IJ(e,t){if(t.notification_type!=="setting-defaulted")return!1;const n=t.payload;return(n==null?void 0:n.name)==="3VyEPC5dTP_model_instructions_enabled"&&(n!=null&&n.value)?(y4e(e,t.id),!0):!1}function PJ(e,t,n){if(t.notification_type!=="setting-updated"||!t.id)return!1;const r=t.payload;return n&&_4e(e,t.id),r!=null&&r.clear_cache_only?!1:(m4e(e,t.id,r),!0)}function RJ(e,t,n){if(t.notification_type!=="family-invite")return!1;const r=t.payload;return n==="loader"?l4e(e,r,t.id):c4e(e,t.id,r),!0}function xJ(e,t){if(t.notification_type!=="family-unlink")return!1;const n=t.payload;d4e(e,t.id,n);const r=on(e);return C4e(r),!0}function MJ(e,t){if(t.notification_type!=="self-harm")return!1;const n=t.payload;return h4e(e,t.id,n),!0}function F4e(e){(async()=>{var t,n,r;try{const s=await o4e(20),i=((t=s.items)!=null?t:[]).map(o=>o.id).filter(Boolean);e4e(i),xR((n=s.items)!=null?n:[]);for(const o of(r=s.items)!=null?r:[])!o.reacted_to_at&&(IJ(e,o)||PJ(e,o,!1)||RJ(e,o,"loader")||xJ(e,o)||MJ(e,o))}catch(s){}})()}function U4e(e){x4e(e,"app_notifications").onMessage(n=>{if(n!=null&&n.type&&!["setting-defaulted","setting-updated","self-harm","family-invite","family-unlink"].includes(n.type))return;const r=n.notification_id;if(!t4e(r)){if((n==null?void 0:n.type)==="setting-defaulted"){const s={id:r!=null?r:"",notification_type:n.type,payload:n.payload};Ad(s),IJ(e,s)}else if((n==null?void 0:n.type)==="self-harm"){const s={id:r!=null?r:"",notification_type:n.type,payload:n.payload};Ad(s),MJ(e,s)}else if((n==null?void 0:n.type)==="setting-updated"){if(!r)return;const s={id:r,notification_type:n.type,payload:n.payload};Ad(s),PJ(e,s,!0)}else if((n==null?void 0:n.type)==="family-invite"){const s={id:r!=null?r:"",notification_type:n.type,payload:n.payload};Ad(s),RJ(e,s,"topic")}else if((n==null?void 0:n.type)==="family-unlink"){const s={id:r!=null?r:"",notification_type:n.type,payload:n.payload};Ad(s),xJ(e,s)}}})}const j4e=Ie(e=>ye(()=>{var n;const t=(n=wh(e).data)==null?void 0:n.settings;return t==null?void 0:t.rKAMeJfyrM_settings})),RB=Ie(()=>me(!1));function xB(e){if(!e)return null;const[t,n]=e.split(":").map(i=>parseInt(i,10)||0),r=Math.min(23,Math.max(0,t)),s=Math.min(59,Math.max(0,n));return r*60+s}function B4e(e){if(e==null||e.enabled===!1)return!1;const t=xB(e.start_time),n=xB(e.end_time);if(t==null||n==null)return!1;const r=new Date,s=r.getHours()*60+r.getMinutes();return t===n?!1:t<n?s>=t&&s<n:s>=t||s<n}function G4e(e){na(()=>!RB(e)&&B4e(j4e(e)),t=>{t&&(RB.set(e,!0),Xs(e,D4e))},{fireImmediately:!0})}function W4e(e){U4e(e),F4e(e),G4e(e)}function H4e(e){if(!Me(e,"4141006638"))return;const t=bJ(e);t.init(),t.getTopic("conversations").subscribe(),t.getTopic("app_notifications").subscribe()}function $4e(e){yt()&&(sme(e),H4e(e),W4e(e),K8())}let MB=!1;function q4e(e){MB||(MB=!0,$4e(e))}var V4e=V8();const z4e=$t(V4e),Y4e=720*60*60*1e3;class K4e extends vR()(()=>{var n,r;const t=an.getItem(Wt.MessageFollowupsStoreState);return t?{disabledGlobally:(n=t.disabledGlobally)!=null?n:!1,disabledConversations:new Map((r=t.disabledConversations)!=null?r:[])}:{disabledGlobally:!1,disabledConversations:new Map}}){persistState(){const t=this.getState(),n=Date.now(),r=new Map(Array.from(t.disabledConversations.entries()).filter(([,i])=>i.disabledAt===null||n-i.disabledAt<Y4e)),s={disabledGlobally:t.disabledGlobally,disabledConversations:Array.from(r.entries())};an.setItem(Wt.MessageFollowupsStoreState,s)}setDisabledGlobally(t){this.setState({disabledGlobally:t}),this.persistState()}setDisabledConversation(t,n){this.setState(r=>{var s;return{disabledConversations:(s=r.disabledConversations)==null?void 0:s.set(t,{disabled:n,disabledAt:n?Date.now():null})}}),this.persistState()}static useDisabledGlobally(){return this.useState(t=>t.disabledGlobally)}static useIsDisabledConversation(t){return this.useState(n=>{var r,s,i;return(i=(s=(r=n.disabledConversations)==null?void 0:r.get(t))==null?void 0:s.disabled)!=null?i:!1})}static useIsEnabled(t){return this.useState(n=>{var s,i;const r=(s=n.disabledConversations)==null?void 0:s.get(t);return!((i=r==null?void 0:r.disabled)!=null?i:n.disabledGlobally)})}}function X4e({systemHint:e,modelConfig:t,conversationMode:n,isTemporaryChat:r,isDeveloperMode:s,isWorkspaceTenant:i,startedWithByoMcp:o}){return J4e(e,r)&&Q4e(e,t)&&Z4e(e,t)&&e5e(e,n)&&t5e(e,s)&&n5e(e,i,o)}function J4e(e,t){return!t||e.allowInTemporaryChat===!0}function Q4e(e,t){const n=t==null?void 0:t.enabledTools;return n===void 0?!0:e.requiredFeatures.every(r=>n.includes(r))}function Z4e(e,t){if(e.systemHint===re.Think){const n=t==null?void 0:t.reasoningType;return n==null||n===Jn.OFF||n===Jn.AUTO}return e.requiredModels.length===0||e.requiredModels.some(n=>n===(t==null?void 0:t.id))}function e5e(e,t){return e.requiredConversationModes.length===0||e.requiredConversationModes.some(n=>n===(t==null?void 0:t.kind))}function t5e(e,t){return t?!0:!e.isDangerous}function n5e(e,t,n){return t?!0:!(e.category==="tool"&&(e.isDangerous&&n===!1||!e.isDangerous&&n===!0))}const r5e=C.createContext(()=>Promise.resolve()),kJ=C.createContext(null),TXe=()=>C.useContext(kJ)!=null,OXe=()=>{const e=C.useContext(kJ);return e==null?void 0:e.serverSharedThreadId};C.createContext({onDismount:()=>{}});function s5e(e,t={}){var n;return{systemHints:e.filter(r=>r!==re.Search),extraStreamParams:I(b({},t),{forceUseSearch:(n=t.forceUseSearch)!=null?n:e.includes(re.Search)?!0:void 0})}}function i5e(e){"use forget";const t=W.c(13),{clientThreadId:n,conversationMode:r}=e,s=ce(),i=Gie(),o=C.useContext(r5e),a=K4e.useIsEnabled(n!=null?n:"");let c;t[0]!==s?(c=()=>$v(s),t[0]=s,t[1]=c):c=t[1];const l=Le(c);let u;t[2]!==s?(u=st(s),t[2]=s,t[3]=u):u=t[3];const d=u;let f;return t[4]!==d||t[5]!==n||t[6]!==r||t[7]!==s||t[8]!==o||t[9]!==l||t[10]!==a||t[11]!==i?(f=h=>{var q,k,Z;let{nodeId:p,sourceEvent:_,requestedModelId:m,appendMessages:y,extraStreamParams:v,isReasoningSkipped:O}=h;if(!n)throw new Error("Regeneration must have clientThreadId");const S=jc(n),E=Ae.getVariantIds(S,p),T=Ae.getParentPromptNode(S,p);if(!T)throw new Error("Regeneration must have parent prompt");const A=(q=iy(s))!=null?q:[],w=(E==null?void 0:E.length)===1&&(v==null?void 0:v.forceUseSearch)===void 0&&(v==null?void 0:v.forceDisableFeatures)===void 0,N=BI(Tv(s,n)),P=UI(N,m),x=age(S,p),D=(k=T.message.metadata)==null?void 0:k.system_hints,M=m&&D?D.filter(B=>{var se;const Q=A.find(fe=>fe.systemHint===B);return Q&&X4e({systemHint:Q,modelConfig:P,isTemporaryChat:i,conversationMode:r,isDeveloperMode:l,isWorkspaceTenant:(se=d==null?void 0:d.isWorkspaceAccount())!=null?se:!1,startedWithByoMcp:S==null?void 0:S.startedWithByoMcp})}):D!=null?D:[];a&&(v=I(b({},v!=null?v:{}),{enableMessageFollowups:!0}));const{systemHints:F,extraStreamParams:j}=s5e(M,v);let $=F;(v==null?void 0:v.forceUseReason)!==void 0&&(v.forceUseReason?$.push(re.Think):$=$.filter(o5e)),o({completionType:oW.Variant,requestedModelId:m,sourceEvent:_,completionMetadata:{variantPurpose:w?"comparison_implicit":"none",conversationMode:r!=null?r:(Z=jc(n))==null?void 0:Z.mode,systemHints:$,searchSource:(v==null?void 0:v.forceUseSearch)===!0?pw.CONVERSATION_REGENERATE_WITH_SEARCH:(v==null?void 0:v.forceUseSearch)===!1?pw.CONVERSATION_REGENERATE_WITHOUT_SEARCH:void 0},parentMessageId:T.id,appendMessages:y,extraStreamParams:j,isReasoningSkipped:O,thinkingEffort:x}),O&&$i(n,B=>{let Q=p,se=B.tree.getNodeByIdOrMessageId(Q);for(;se.message.author.role!==je.User;)B.tree.deleteNode(Q),Q=se.parentId,se=B.tree.getNodeByIdOrMessageId(Q)})},t[4]=d,t[5]=n,t[6]=r,t[7]=s,t[8]=o,t[9]=l,t[10]=a,t[11]=i,t[12]=f):f=t[12],f}function o5e(e){return e!==re.Think}const LJ=Ie(()=>me(void 0));let QO=!1;async function a5e(e){var t;if(!QO){QO=!0;try{const n=await((t=Ci())==null?void 0:t.getAdultSearchSetting());n!==void 0&&LJ.set(e,n)}catch(n){}finally{QO=!1}}}function dp(e){if(!vh(e))return;const t=LJ(e);return t===void 0&&a5e(e),t}function AXe(e){var n;const t=dp(e);return(n=t==null?void 0:t.canUserEnable)!=null?n:!1}function wXe(e){var n;const t=dp(e);return(n=t==null?void 0:t.isAdultSearchEnabled)!=null?n:!1}const kB=lr(()=>me(new Set)),DJ=lr(()=>me(null));function NXe(e){const{ctx:t}=e,n=dp(t),r=n==null?void 0:n.canUserEnable,s=DJ(e);return vh(t)&&r&&s!=null}function IXe(e){"use forget";var E;const t=W.c(21),{conversationMode:n}=e,r=ce(),s=Jme(),[i,o]=C.useState(!1);let a;t[0]!==r?(a=()=>dp(r),t[0]=r,t[1]=a):a=t[1];const c=Le(a),l=(E=s==null?void 0:s.id)!=null?E:void 0;let u;t[2]!==n||t[3]!==l?(u={clientThreadId:l,conversationMode:n},t[2]=n,t[3]=l,t[4]=u):u=t[4];const d=i5e(u);let f;t[5]!==(c==null?void 0:c.canUserEnable)||t[6]!==(c==null?void 0:c.isAdultSearchEnabled)?(f=async T=>{var A;T===(c==null?void 0:c.isAdultSearchEnabled)||(c==null?void 0:c.canUserEnable)===!1||(ve.logStructuredEvent(lae,{step:WW.ATLAS_SAFE_SEARCH_TOGGLE_ACTION_STEP_TOGGLE,fromEnabled:!(c!=null&&c.isAdultSearchEnabled),toEnabled:!T}),o(!0),await((A=Ci())==null?void 0:A.updateAdultSearchSetting({isAdultSearchEnabled:T,canUserEnable:!0})),o(!1))},t[5]=c==null?void 0:c.canUserEnable,t[6]=c==null?void 0:c.isAdultSearchEnabled,t[7]=f):f=t[7];const h=f;let p;t[8]!==s||t[9]!==d?(p=()=>{if(!s)return;const[T,A]=gt(()=>[DJ(s),kB(s)]);T&&!T.safeSearchOff&&!A.has(T.messageId)&&(kB.set(s,A.add(T.messageId)),d({sourceEvent:new Event("click"),nodeId:T.messageId}))},t[8]=s,t[9]=d,t[10]=p):p=t[10];const _=C.useEffectEvent(p);let m;t[11]!==(c==null?void 0:c.isAdultSearchEnabled)||t[12]!==_?(m=()=>{c!=null&&c.isAdultSearchEnabled&&_()},t[11]=c==null?void 0:c.isAdultSearchEnabled,t[12]=_,t[13]=m):m=t[13];let y;t[14]!==c||t[15]!==r?(y=[r,c],t[14]=c,t[15]=r,t[16]=y):y=t[16],C.useEffect(m,y);const v=c==null?void 0:c.isAdultSearchEnabled,O=i||!c;let S;return t[17]!==h||t[18]!==v||t[19]!==O?(S={isAdultSearchEnabled:v,handleToggleSetting:h,isLoading:O},t[17]=h,t[18]=v,t[19]=O,t[20]=S):S=t[20],S}function c5e(e){return Y8(new URL(e,window.location.origin).searchParams).includes(re.Search)}var l5e=(e=>(e.DownloadMessages="download-messages",e.InviteUsersToWorkspace="invite-users-to-workspace",e.WorkspaceAppearance="workspace-appearance",e.KeyboardActions="keyboard-actions",e.WorkspaceSwitcher="workspace-switcher",e.ReadOnlyConversationTemplate="read-only-conversation-template",e.CookieManagement="cookie-management",e.AgeVerificationInterstitial="age-verification-interstitial",e.GPTDetails="gpt-details",e.GPTPrivacySettings="gpt-privacy-settings",e.GPTFeedbackEmail="gpt-support-email",e.GPTReview="gpt-review",e.GPTRemoveThirdParty="gpt-remove-third-party",e.SharedConversationModeration="shared-conversation-moderation",e.ReportConversation="report-conversation",e.BlockingInitialComponent="blocking-initial-component",e.NoAuthNewChat="no-auth-new-chat",e.GlobalMemoryOnboarding="global-memory-onboarding",e.AccountPayment="account-payment",e.CreateExclusion="create-exclusion",e.AddServiceAccountKey="add-service-account-key",e.DeleteServiceAccountKey="delete-service-account-key",e.LogoutConfirm="logout-confirm",e.NotificationFeed="notification-feed",e.DeepResearchShare="deep-research-share",e))(l5e||{});function u5e({isOpen:e}){we.setCookie(Ce.NavigationState,e?"1":"0",{maxAge:2*365*24*60*60})}const d5e={isThreadHeaderVisible:!0,isSlideoverSidebarOpen:void 0,isPopoverSidebarOpen:!1,isVoiceActive:!1,isConversationScrolledFromTop:!1,sharingModalThreadId:void 0,deepResearchShareTaskId:void 0,feedbackModalThreadId:void 0,leaveWorkspaceData:null,activeStageSidebar:!1,activeModals:new Set,isLatencyDevToolsVisible:!1,purchaseWorkspaceData:null,browseMode:"conversation",voiceFeedbackThread:null,lastVoiceSessionStartTime:null,lastVoiceSessionEndTime:null,displayAnnouncementTooltip:null,noAuthMadlibsModalOpen:!1,onboardingConvoState:null,autoHighlightNicknameInput:!1,shouldShowThreadModelPickerDot:!1,isSidebarAnimationDisabled:!1,showVoicePicker:!1,showVoiceNuxFullPage:!1},fp=ct(()=>cr()(()=>d5e));function dy(e){"use no forget";const t=ce(),n=fp(t);return e?n(e):n()}function FJ(){const e=Bt();return fp(e).getState()}function St(e){const t=Bt();fp(t).setState(e)}const PXe={isLatencyDevtoolsVisible:e=>e.isLatencyDevToolsVisible},ZO={setBrowseMode:e=>{St(t=>I(b({},t),{browseMode:e}))},setIsConversationScrolledFromTop:e=>{St(t=>I(b({},t),{isConversationScrolledFromTop:e}))},enterGizmoEditor:()=>{St({browseMode:"gizmo-editor"})},exitGizmoEditor:()=>{St({browseMode:"conversation"})},setAutoHighlightNicknameInput:e=>{St({autoHighlightNicknameInput:e})},setSidebarOpen(e){f5e()?ZO.setPopoverSidebarOpen(e):ZO.setSlideoverSidebarOpen(e)},setPopoverSidebarOpen:e=>{var t;St(({isPopoverSidebarOpen:n})=>({isPopoverSidebarOpen:e!=null?e:!n})),e||(t=Ci())==null||t.closeSidebarOverlay()},setSlideoverSidebarOpen:e=>{St(({isSlideoverSidebarOpen:t})=>{const n=e!=null?e:!(t!=null?t:UJ());return u5e({isOpen:n}),ve.logToggleDesktopNavCollapsed({isDesktopNavCollapsed:!n,action:"button_click"}),{isSlideoverSidebarOpen:n}}),jJ=!1},hideThreadHeader:()=>{St({isThreadHeaderVisible:!1})},showThreadHeader:()=>{St({isThreadHeaderVisible:!0})},openSharingModal(e,t){St({sharingModalThreadId:e}),ve.logEvent("Share Conversation: Open Modal",{location:t})},closeSharingModal(){St({sharingModalThreadId:void 0})},openFeedbackModal(e){St({feedbackModalThreadId:e})},closeFeedbackModal(){St({feedbackModalThreadId:void 0})},setLeaveWorkspaceData(e){St({leaveWorkspaceData:e})},setPurchaseWorkspaceData(e){St({purchaseWorkspaceData:e})},setThreadModelPickerAlertDot:e=>{St(({shouldShowThreadModelPickerDot:t})=>(t!==e&&ve.logEvent("Notifications: Thread Model Picker Alert Dot",{shown:e}),{shouldShowThreadModelPickerDot:e}))},disableStageSidebarAnimation:()=>{St({isSidebarAnimationDisabled:!0})},enableStageSidebarAnimation:()=>{St({isSidebarAnimationDisabled:!1})},setActiveStageSidebar(e){St({activeStageSidebar:e})},toggleModal(e){St(t=>{const n=new Set(t.activeModals);return n.has(e)?n.delete(e):n.add(e),{activeModals:n}})},openModal(e){St(t=>{if(t.activeModals.has(e))return t;const n=new Set(t.activeModals);return n.add(e),{activeModals:n}})},closeModal(e){St(t=>{if(!t.activeModals.has(e))return t;const n=new Set(t.activeModals);return n.delete(e),{activeModals:n}})},openDeepResearchShare(e){St(t=>I(b({},t),{deepResearchShareTaskId:e})),ZO.openModal("deep-research-share")},closeAllActiveModals(){FJ().activeModals.size>0&&St({activeModals:new Set})},hideLatencyDevTools:()=>{St({isLatencyDevToolsVisible:!1})},showLatencyDevTools:()=>{St({isLatencyDevToolsVisible:!0})},showAnnouncementTooltipExclusively(e,t=!1){St(n=>n.displayAnnouncementTooltip&&!t?n:{displayAnnouncementTooltip:e})},setNoAuthMadlibsModalOpen:e=>{St({noAuthMadlibsModalOpen:e}),an.setItem(Wt.NoAuthMadlibsModalState,"seen")},setOnboardingConvoState:e=>{St({onboardingConvoState:e})}};function RXe(e){return dy(t=>t.activeModals.has(e))}function UJ(){if(jJ)return!1;const e=we.getCookie(Ce.NavigationState);return e!=null?e==="1":!X_(An(),"1884289953").get("collapse",!1)}let jJ=c5e(window.location.href);function f5e(){var r;const e=FJ().activeStageSidebar,t=cme(),n=(r=z6(Bt()))!=null?r:!1;return e||!t||n}function h5e(){"use forget";const e=W.c(2),t=ce(),n=dy(p5e),r=ame();let s;return e[0]!==t?(s=z6(t),e[0]=t,e[1]=s):s=e[1],n||!r||s}function p5e(e){return e.activeStageSidebar}function xXe(){const e=h5e(),t=dy(n=>n.isSlideoverSidebarOpen);return yt()&&!e&&(t!=null?t:UJ())}function MXe(){return dy(e=>e.activeModals.has("blocking-initial-component"))}function kXe(){const e=ce(),[t,n]=C.useState(!1);return C.useEffect(()=>fp(e).subscribe(s=>{s.activeModals.has("blocking-initial-component")&&n(i=>i||s.activeModals.has("blocking-initial-component"))}),[e]),t}const _5e={isActive:!1,query:"",activeIndex:void 0,mouseInteractionsDisabled:!1},MR=cr(ju(()=>b({},_5e))),LB=MR.getState,u_=MR.setState,LXe={getQuery:(e=LB())=>e.query,getMouseInteractionsDisabled:()=>LB().mouseInteractionsDisabled},m5e={setIsActive:e=>{u_({isActive:e})},setQuery:e=>{u_({query:e})},setActiveIndex:e=>{u_(t=>{t.activeIndex=e,t.mouseInteractionsDisabled=!0})},setMouseInteractionsDisabled:e=>{u_(t=>{t.mouseInteractionsDisabled=e})}};function BJ(e,t){"use forget";const n=W.c(29),r=ce(),s=Hn(),i=ft(),[o,a]=Yc();let c;n[0]!==o?(c=o.get("inv_ws_name"),n[0]=o,n[1]=c):c=n[1];const l=c;let u;n[2]!==o?(u=o.get("accept_wId"),n[2]=o,n[3]=u):u=n[3];const d=u,f=t==="/"&&d&&l;let h;n[4]!==i||n[5]!==l||n[6]!==a||n[7]!==s?(h=()=>{a(g5e,{replace:!0}),s.success(i.formatMessage(d_.invitedMessage,{workspace_name:l}),{description:i.formatMessage(d_.separateWindow),hasCloseButton:!0,duration:600,id:"mini-workspace-invice"})},n[4]=i,n[5]=l,n[6]=a,n[7]=s,n[8]=h):h=n[8];const p=h,_=C.useRef(!1);let m;n[9]!==i||n[10]!==l||n[11]!==f||n[12]!==s?(m=()=>{_.current||!f||(_.current=!0,s.info(i.formatMessage(d_.addingToWorkspace,{workspace_name:l}),{description:i.formatMessage(d_.separateWindow),hasCloseButton:!0,duration:0,id:"mini-workspace-invice"}))},n[9]=i,n[10]=l,n[11]=f,n[12]=s,n[13]=m):m=n[13],C.useEffect(m);const y=C.useRef(!1);let v;n[14]!==r||n[15]!==p||n[16]!==e||n[17]!==d||n[18]!==f?(v=()=>{y.current||!f||!_.current||!e||(y.current=!0,S$({accessToken:_h(r),eventPrefix:"miniObserver",acceptWorkspaceId:d}).then(()=>{e.onAcceptedWorkspaceInvite(d),p()}).catch(()=>{y.current=!1}))},n[14]=r,n[15]=p,n[16]=e,n[17]=d,n[18]=f,n[19]=v):v=n[19];let O;n[20]!==r||n[21]!==p||n[22]!==e||n[23]!==i||n[24]!==d||n[25]!==l||n[26]!==f||n[27]!==s?(O=[r,p,e,i,d,l,f,s],n[20]=r,n[21]=p,n[22]=e,n[23]=i,n[24]=d,n[25]=l,n[26]=f,n[27]=s,n[28]=O):O=n[28],C.useEffect(v,O)}function g5e(e){return e.delete("inv_ws_name"),e.delete("accept_wId"),e}const d_=At({addingToWorkspace:{id:"MiniObserver.addingToWorkspace",defaultMessage:"Adding you to the {workspace_name} workspace..."},invitedMessage:{id:"MiniObserver.invitedMessage",defaultMessage:"You have been added to the {workspace_name} workspace!"},separateWindow:{id:"MiniObserver.separateWindow",defaultMessage:"The workspace will be opened in a separate window"}});function GJ(e){const t=Le(ns.wantsSetChatTheme$);C.useEffect(()=>{if(!t)return;ns.wantsSetChatTheme$.set(!1);const n=ns.chatTheme;ns.chatTheme=void 0,n&&nme(e,n)},[t,e])}function v5e(){"use forget";const e=W.c(31),t=ce(),n=nn(),r=co(),[s]=Yc(),i=C.useRef(null);let o;e[0]!==t?(o=yt(),e[0]=t,e[1]=o):o=e[1];const a=o;let c;e[2]!==t?(c=st(t),e[2]=t,e[3]=c):c=e[3];const l=c;GJ(t);const u=g$();BJ(u,n.pathname),gt(()=>dp(t));let d;e[4]!==u||e[5]!==a||e[6]!==(l==null?void 0:l.id)?(d=()=>{u&&(a?u.recordAvailableSessionAuth(l==null?void 0:l.id):u.onMissingSessionAuth())},e[4]=u,e[5]=a,e[6]=l==null?void 0:l.id,e[7]=d):d=e[7];const f=l==null?void 0:l.id;let h;e[8]!==u||e[9]!==a||e[10]!==f?(h=[u,a,f],e[8]=u,e[9]=a,e[10]=f,e[11]=h):h=e[11],C.useEffect(d,h);let p,_;e[12]!==t||e[13]!==a?(p=()=>na(y5e,S=>{if(!S)return;ns.wantsAuthSessionContext$.set(!1);const E=ns.authSessionContext;if(E)e:switch(E.behavior){case"justLoggedInAccessToken":{a&&Xw(t,E.authToken.accessToken);break e}case"reloadPageIfLoggedOut":{a||window.location.reload();break e}}}),_=[a,t],e[12]=t,e[13]=a,e[14]=p,e[15]=_):(p=e[14],_=e[15]),C.useEffect(p,_);let m;e[16]!==t||e[17]!==n.hash||e[18]!==n.pathname||e[19]!==n.state||e[20]!==r||e[21]!==s?(m=()=>na(()=>no(t),S=>{var T,A;if(!Vs(t))return;const E=C5e({currentWindowStyle:E5e(S),initialWindowStyle:$6(),windowStyleFromUrl:(T=s.get(gh))!=null?T:void 0,currentLocationPathName:n.pathname,previousLocationPathName:(A=i.current)==null?void 0:A.pathname});if(E!==S){no.set(t,E);return}S5e(E,{ctx:t,locationPathname:n.pathname,locationHash:n.hash,locationState:n.state,searchParams:s,navigate:r})},{fireImmediately:!0}),e[16]=t,e[17]=n.hash,e[18]=n.pathname,e[19]=n.state,e[20]=r,e[21]=s,e[22]=m):m=e[22];let y;e[23]!==t||e[24]!==n||e[25]!==r||e[26]!==s?(y=[n.pathname,n.search,n.hash,n.state,n,s,r,t,i],e[23]=t,e[24]=n,e[25]=r,e[26]=s,e[27]=y):y=e[27],C.useEffect(m,y);let v,O;return e[28]!==n?(O=()=>{i.current=n},v=[n,i],e[28]=n,e[29]=v,e[30]=O):(v=e[29],O=e[30]),C.useEffect(O,v),b5e(),null}function y5e(){return ns.wantsAuthSessionContext$()}function E5e(e){if(e==="mainPage")return"new_page_view";if(e==="sidebar")return"sidebar_view";switch(e){case"new_page_overlay_view":return"new_page_overlay_view";case"new_page_view":return"new_page_view";case"sidebar_view":return"sidebar_view"}return"new_page_view"}function C5e({currentWindowStyle:e,initialWindowStyle:t,windowStyleFromUrl:n,currentLocationPathName:r,previousLocationPathName:s}){const i=r==="/",o=s==="/";return i&&t==="sidebar_view"||n===gf.value&&e!=="new_page_view"?"sidebar_view":e==="new_page_view"&&i&&s!=null&&!o?"new_page_overlay_view":e==="new_page_overlay_view"&&!i?"new_page_view":e}function S5e(e,{ctx:t,locationPathname:n,locationHash:r,locationState:s,searchParams:i,navigate:o}){switch(e){case"new_page_overlay_view":eA(i,o,n,r,s,W6),cre(t),tA("new_page_overlay_view");break;case"new_page_view":eA(i,o,n,r,s,lm),are(t),tA();break;case"sidebar_view":eA(i,o,n,r,s,gf),ore(t),tA("sidebar_view");break}}function eA(e,t,n,r,s,{name:i,value:o}){if(e.get(i)===o)return;const a=new URLSearchParams(e);a.set(i,o),t({pathname:n,search:a.toString(),hash:r||void 0},{replace:!0,preventScrollReset:!0,state:s})}function tA(e){const t="data-window-style";e?document.body.setAttribute(t,e):document.body.removeAttribute(t)}function b5e(){"use forget";const e=W.c(7),t=ce(),n=MR(T5e);let r;e[0]!==t?(r=()=>H6(t),e[0]=t,e[1]=r):r=e[1];const s=Le(r),i=C.useRef(n);let o,a;e[2]!==t||e[3]!==s||e[4]!==n?(o=()=>{var d;const c=i.current;if(i.current=n,!(c&&!n&&s))return;m5e.setIsActive(!1),fp(t).getState().isPopoverSidebarOpen||(d=Ci())==null||d.closeSidebarOverlay()},a=[n,s,t],e[2]=t,e[3]=s,e[4]=n,e[5]=o,e[6]=a):(o=e[5],a=e[6]),C.useEffect(o,a)}function T5e(e){return e.isActive}function DB(e,t,n,r,{name:s,value:i}){const o=new URLSearchParams(e);o.get(s)!==i&&(o.set(s,i),r({pathname:t,search:o.toString(),hash:n},{replace:!0}))}function O5e(){"use forget";const e=W.c(24),t=nn(),n=co(),[r,s]=hre(w5e),i=ce();let o;e[0]!==i?(o=yt(),e[0]=i,e[1]=o):o=e[1];const a=o;let c;e[2]!==i?(c=st(i),e[2]=i,e[3]=c):c=e[3];const l=c;GJ(i);const u=g$();BJ(u,t.pathname);let d;e[4]!==u||e[5]!==a||e[6]!==(l==null?void 0:l.id)?(d=()=>{u&&(a?u.recordAvailableSessionAuth(l==null?void 0:l.id):u.onMissingSessionAuth())},e[4]=u,e[5]=a,e[6]=l==null?void 0:l.id,e[7]=d):d=e[7];const f=l==null?void 0:l.id;let h;e[8]!==u||e[9]!==a||e[10]!==f?(h=[u,a,f],e[8]=u,e[9]=a,e[10]=f,e[11]=h):h=e[11],C.useEffect(d,h);let p,_;e[12]!==a||e[13]!==i?(p=()=>na(A5e,v=>{if(!v)return;ns.wantsAuthSessionContext$.set(!1);const O=ns.authSessionContext;if(O)e:switch(O.behavior){case"justLoggedInAccessToken":{a&&Xw(i,O.authToken.accessToken);break e}case"reloadPageIfLoggedOut":{a||window.location.reload();break e}}}),_=[a,i],e[12]=a,e[13]=i,e[14]=p,e[15]=_):(p=e[14],_=e[15]),C.useEffect(p,_);let m,y;return e[16]!==r||e[17]!==s||e[18]!==t.hash||e[19]!==t.pathname||e[20]!==t.search||e[21]!==n?(m=()=>{r&&DB(t.search,t.pathname,t.hash,n,ire),s&&DB(t.search,t.pathname,t.hash,n,gf),s?document.body.setAttribute("data-window-style","sidebar_view"):document.body.removeAttribute("data-window-style")},y=[t.pathname,t.search,t.hash,n,r,s],e[16]=r,e[17]=s,e[18]=t.hash,e[19]=t.pathname,e[20]=t.search,e[21]=n,e[22]=m,e[23]=y):(m=e[22],y=e[23]),C.useEffect(m,y),null}function A5e(){return ns.wantsAuthSessionContext$()}function w5e(e){return[vh(e),yh(e)]}const N5e=()=>(C.useEffect(()=>{const e=({shiftKey:r,metaKey:s,ctrlKey:i})=>{C1.setState({shift:r,meta:s,ctrl:i})},t=()=>{C1.setState(N7)},n={passive:!0,capture:!0};return document.addEventListener("keydown",e,n),document.addEventListener("keyup",e,n),document.addEventListener("visibilitychange",t,n),()=>{document.removeEventListener("keydown",e,n),document.removeEventListener("keyup",e,n),document.removeEventListener("visibilitychange",t,n)}},[]),null);class WJ{constructor(){U(this,"cacheK1",new Map)}get(t,n){var r;return(r=this.cacheK1.get(t))==null?void 0:r.get(n)}set(t,n,r){let s=this.cacheK1.get(t);s||(s=new Map,this.cacheK1.set(t,s)),s.set(n,r)}delete(t,n){const r=this.cacheK1.get(t);r&&(r.delete(n),r.size===0&&this.cacheK1.delete(t))}}const FB=new WJ,Ew=new WJ;function I5e(e,t){const n=Ew.get(e,t);if(n==null){const r=Lie(e,t).catch(()=>Qd);return Ew.set(e,t,r),r}return n}function P5e(e,t){"use forget";const n=W.c(6);if(e===Oh)return Qd;let r;n[0]!==e||n[1]!==t?(r=FB.get(e,t),n[0]=e,n[1]=t,n[2]=r):r=n[2];const s=r;if(s!=null)return s;let i;n[3]!==e||n[4]!==t?(i=I5e(e,t),n[3]=e,n[4]=t,n[5]=i):i=n[5];const o=i,a=C.use(o);return a===Qd?Qd:(FB.set(e,t,a),Ew.delete(e,t),a)}function R5e(e){"use forget";const t=W.c(10),{children:n,locale:r}=e,s=ce();let i;t[0]!==s||t[1]!==r?(i=EW(r)&&Ot(s,"2884982660").get("load-machine-translated",!1),t[0]=s,t[1]=r,t[2]=i):i=t[2];const a=P5e(r,i),c=yW.has(r)?"rtl":"ltr";let l;t[3]!==n||t[4]!==c?(l=g.jsx(Uhe,{dir:c,children:n}),t[3]=n,t[4]=c,t[5]=l):l=t[5];let u;return t[6]!==r||t[7]!==a||t[8]!==l?(u=g.jsx(uQ,{defaultLocale:Oh,locale:r,messages:a,children:l}),t[6]=r,t[7]=a,t[8]=l,t[9]=u):u=t[9],u}const x5e=({children:e})=>{const t=QQ().locale;return C.useEffect(()=>{var s;const n=(s=navigator.language)!=null?s:"",r=Hg(n);ve.logEvent("Locale Loaded",{loaded_locale:t,raw_browser_locale:navigator.language,suggested_locale:r}),ut.logEvent("chatgpt_locale_loaded",t,{loaded_locale:t,raw_browser_locale:navigator.language,suggested_locale:r!=null?r:""})},[t]),g.jsx(R5e,{locale:t,children:e})},M5e={version:0,useLocation:!1,temperatureUnit:void 0},k5e=C.createContext({settings:M5e,setSettings:()=>{}}),L5e={suggestions:!0,showInlineFollowups:!1},D5e=C.createContext({settings:L5e,setSettings:()=>{}});function F5e(){const{settings:e,setSettings:t}=C.useContext(k5e);return[e,t]}function DXe(){const{settings:e,setSettings:t}=C.useContext(D5e);return[e,t]}const kR="last_checked_loc",ig=600*1e3,U5e=Math.floor(ig/1e3),HJ="1957563541";function FXe(){var t;const e=C.useContext(VJ);return(t=e==null?void 0:e.userLocation)!=null?t:null}function j5e(e){const t=localStorage.getItem(kR),n=t?Number(t):void 0;if(n==null||!Number.isFinite(n)||Date.now()-ig>=n)return lc(),null;const r=we.getCookie(Ce.LastLocation);if(!r)return null;try{return JSON.parse(r)}catch(s){return lc(),null}}async function $J({enabled:e,force_request:t=!1,onCurrentPermissionStatus:n}){if(!e)return lc();const r=await qJ();if(!t&&r){if(r.state==="denied")return n&&n(!1),lc();if(r.state==="granted"){n&&n(!0);const s=j5e();if(s)return s}}return await new Promise(s=>{if(!(navigator!=null&&navigator.geolocation)){s(lc());return}navigator.geolocation.getCurrentPosition(i=>{const o={latitude:i.coords.latitude,longitude:i.coords.longitude,locationAccuracy:i.coords.accuracy};we.setCookie(Ce.LastLocation,JSON.stringify(o),{maxAge:U5e}),localStorage.setItem(kR,Date.now().toString()),s(o),n&&n(!0)},()=>{n&&n(!1),s(lc())},{enableHighAccuracy:!0,maximumAge:0})})}function UXe(e){const t=An(),n=Me(t,HJ);return $J({enabled:n,force_request:!0,onCurrentPermissionStatus:e})}async function qJ(){if(!(navigator!=null&&navigator.permissions))return null;try{return await navigator.permissions.query({name:"geolocation"})}catch(e){return null}}function lc(){return we.deleteCookie(Ce.LastLocation),localStorage.removeItem(kR),null}const VJ=C.createContext(null),B5e=e=>{"use forget";var x;const t=W.c(27),{children:n}=e,r=An(),[s,i]=F5e(),{data:o}=jae(ro.PreciseLocationEnabledForDevice),a=Me(r,HJ),[c,l]=C.useState(null),u=C.useRef(null),d=QW();let f,h;t[0]!==o||t[1]!==i||t[2]!==s.useLocation?(f=()=>{typeof o=="boolean"&&s.useLocation!==o&&i(D=>I(b({},D),{useLocation:o}))},h=[o,i,s.useLocation],t[0]=o,t[1]=i,t[2]=s.useLocation,t[3]=f,t[4]=h):(f=t[3],h=t[4]),C.useEffect(f,h);let p,_;t[5]===Symbol.for("react.memo_cache_sentinel")?(p=()=>{let D=!0,M=null;return qJ().then(F=>{!F||!D||(M=F,l(F.state),F.onchange=()=>{l(F.state)})}),()=>{D=!1,M&&(M.onchange=null)}},_=[],t[5]=p,t[6]=_):(p=t[5],_=t[6]),C.useEffect(p,_);let m,y;t[7]!==c||t[8]!==o||t[9]!==i||t[10]!==d?(m=()=>{c&&c!=="granted"&&u.current!==c?(u.current=c,lc(),i(G5e),o===!0&&d.mutate({setting:ro.PreciseLocationEnabledForDevice,value:!1})):c==="granted"&&(u.current=c)},y=[c,o,i,d],t[7]=c,t[8]=o,t[9]=i,t[10]=d,t[11]=m,t[12]=y):(m=t[11],y=t[12]),C.useEffect(m,y);const v=a&&o===!0;let O;t[13]!==v?(O=["userLocation",v],t[13]=v,t[14]=O):O=t[14];let S;t[15]!==v||t[16]!==O?(S={queryKey:O,queryFn:W5e,enabled:v,networkMode:"always",refetchOnMount:"always",refetchOnWindowFocus:"always",staleTime:ig,refetchInterval:ig},t[15]=v,t[16]=O,t[17]=S):S=t[17];const E=rn(S),T=(x=E.data)!=null?x:null;let A;t[18]!==E?(A=async()=>{var D;return(D=(await E.refetch()).data)!=null?D:null},t[18]=E,t[19]=A):A=t[19];let w;t[20]!==c||t[21]!==A||t[22]!==T?(w={locationPermission:c,userLocation:T,refetchLocation:A},t[20]=c,t[21]=A,t[22]=T,t[23]=w):w=t[23];const N=w;let P;return t[24]!==n||t[25]!==N?(P=g.jsx(VJ.Provider,{value:N,children:n}),t[24]=n,t[25]=N,t[26]=P):P=t[26],P};function G5e(e){return e.useLocation?I(b({},e),{useLocation:!1}):e}function W5e(e){const{queryKey:t}=e,[,n]=t;return $J({enabled:n})}var nA,UB;function H5e(){if(UB)return nA;UB=1;var e=Uu(),t=Wr(),n=va(),r="[object String]";function s(i){return typeof i=="string"||!t(i)&&n(i)&&e(i)==r}return nA=s,nA}var $5e=H5e();const q5e=$t($5e);var rA,jB;function V5e(){if(jB)return rA;jB=1;var e=PN(),t=Wu(),n=iX(),r=k7();function s(i,o){if(i==null)return{};var a=e(r(i),function(c){return[c]});return o=t(o),n(i,a,function(c,l){return o(c,l[0])})}return rA=s,rA}var z5e=V5e();const Y5e=$t(z5e),fy=me("livekit"),jXe=()=>Le(()=>fy()),hy=me(""),BXe=()=>{hy.set("")};function LR(e){return gt(()=>!j$()&&B$(e))}function Ee(e,t,n){return r=>{var c;const s=An(),i=gt(()=>fy()),o=(c=r==null?void 0:r.voice_session_id)!=null?c:gt(()=>hy()),a=I(b({},r),{message:t,protocol:i,voice_session_id:o,integrated_mode:LR(s)});K.addAction(e,a),n&&lA(s,n,void 0,Y5e(a,l=>q5e(l)))}}function wd(e,t){return(n,r)=>{var c;const s=An(),i=gt(()=>fy()),o=(c=r==null?void 0:r.voice_session_id)!=null?c:gt(()=>hy()),a=I(b(b({},r),t?{message:t}:{}),{protocol:i,voice_session_id:o,integrated_mode:LR(s)});try{const l=n.name,u=n.message;a.error=l,a.errMessage=u}catch(l){a.error=String(n)}K.addAction(e,a)}}function Ba(e){return(t,n)=>{var o;const r=An(),s=gt(()=>fy()),i=(o=n==null?void 0:n.voice_session_id)!=null?o:gt(()=>hy());t instanceof Gt||K.addError(t,I(b({},n),{status:"error",name:e,protocol:s,voice_session_id:i,integrated_mode:LR(r)}))}}const BB={audioPlayer:{error:Ba("audio-player")},readAloud:{click:Ee("read-aloud","click"),error:Ba("read-aloud")},messagePlayback:{click:Ee("message-playback","click")},toggleVideoButton:{click:Ee("toggle-video-button","click")},toggleMuteButton:{click:Ee("toggle-mute-button","click"),error:Ba("toggle-mute-button")},toggleScreenShareButton:{click:Ee("toggle-screenshare-button","click")},composerSpeechButton:{hover:Ee("composer-speech-button","hover")},voiceSessionEndedByUser:{click:Ee("voice-session-ended-by-user","click")},voiceSessionStarted:{click:Ee("voice-session-started","click")},voiceSessionDuration:{duration:Ee("voice-session-duration","duration")},voiceSessionListening:{stateChange:Ee("voice-session-listening","stateChange")},voiceSessionListeningIntently:{stateChange:Ee("voice-session-listening-intently","stateChange")},voiceSessionThinking:{stateChange:Ee("voice-session-thinking","stateChange")},voiceSessionSpeaking:{stateChange:Ee("voice-session-speaking","stateChange")},voiceSessionHalted:{stateChange:Ee("voice-session-halted","stateChange")},voiceSessionDisconnected:{stateChange:Ee("voice-session-disconnected","stateChange")},voiceMode:{connect:Ee("voice-mode","connect"),error:Ee("voice-mode","error"),loggingError:Ee("voice-mode","logging-error"),duplicateSessionId:Ee("voice-mode","duplicate-session-id"),emptySessionId:Ee("voice-mode","empty-session-id"),clickLatency:Ee("voice-mode","click-latency"),microphoneLatency:Ee("voice-mode","microphone-latency")},previews:{click:Ee("previews","click"),error:Ba("previews")},getToken:{request:Ee("get-token","request"),success:Ee("get-token","success"),failure:Ee("get-token","failure")},getVoiceStatus:{request:Ee("get-voice-status","request"),success:Ee("get-voice-status","success"),failure:Ee("get-voice-status","failure")},livekit:{connectCalled:Ee("livekit","connectCalled"),success:Ee("livekit","success"),failure:Ba("livekit")},bloop:{performance:Ee("bloop","performance")},voiceSelectionShown:{click:Ee("voice-selection-shown","click","voice_selection_shown")},voiceSelected:{click:Ee("voice-selected","click")},voiceAdvancedDisclosureShown:{success:Ee("voice-advanced-disclosure-shown","success")},voiceAdvancedDisclosureAccepted:{click:Ee("voice-advanced-disclosure-accepted","click")},rateLimitReached:{success:Ee("rate-limit-reached","success"),modalShown:Ee("rate-limit-reached","modalShown")},upsell:{upgradeToPlus:Ee("upsell","upgradeToPlus"),upgradeToPro:Ee("upsell","upgradeToPro"),upgradeToApp:Ee("upsell","upgradeToApp"),appUpsellShown:Ee("upsell","appUpsellShown"),appUpsellDismissed:Ee("upsell","appUpsellDismissed")},feedbackShown:{success:Ee("feedback-shown","success")},feedbackThumbsUp:{success:Ee("feedback-thumbs-up","success")},feedbackThumbsDown:{success:Ee("feedback-thumbs-down","success")},feedbackDetails:{audio_issues:Ee("feedback-details","audio_issues"),response_quality:Ee("feedback-details","response_quality"),interruptions:Ee("feedback-details","interruptions"),transcription_issues:Ee("feedback-details","transcription_issues"),inaudible_issues:Ee("feedback-details","inaudible_issues"),other:Ee("feedback-details","other"),inputText:Ee("feedback-details","inputText")},connectionLatency:{success:Ee("connection-latency","success"),failure:Ba("connection-latency")},firstListeningLatency:{success:Ee("first-listening-latency","success")},permissions:{denied:Ee("permissions-denied")},voiceSessionFirstListening:{stateChange:Ee("voice-session-first-listening","stateChange")},voiceSessionFirstSpeaking:{stateChange:Ee("voice-session-first-speaking","stateChange")},defaultMediaDeviceChanged:{success:Ee("default-media-device-changed","success"),failure:Ba("default-media-device-changed")},voiceStatusCache:{hit:Ee("voice-status-cache","hit"),failed:Ee("voice-status-cache","failed"),ineligible:Ee("voice-status-cache","ineligible"),skipped:Ee("voice-status-cache","skipped"),error:wd("voice-status-cache","error")},certificateCache:{hit:Ee("certificate-cache","hit"),miss:Ee("certificate-cache","miss"),expired:Ee("certificate-cache","expired"),disabled:Ee("certificate-cache","disabled"),unsupported:wd("certificate-cache","unsupported")},peerConnectionCache:{hit:Ee("peer-connection-cache","hit"),miss:Ee("peer-connection-cache","miss"),unsupported:wd("peer-connection-cache","unsupported")},certificateLocalDb:{hit:Ee("certificate-local-db","hit"),generated:Ee("certificate-local-db","generated"),saveFailed:wd("certificate-local-db","saveFailed"),loadFailed:wd("certificate-local-db","loadFailed")},settings:{separateModeChanged:Ee("separate-mode-changed")},conversationStart:{latency:Ee("conversation-startup-latency")},dataChannel:{parseError:Ee("data-channel")},visuallyConnected:{timing:Ee("visually-connected","timing"),loggingError:Ee("visually-connected","logging-error")}},fr=cr(Fpe(ju(()=>({playerNode:null,playerApi:null,playerState:{sourceUrl:null,isPlaying:!1}}))));function GXe(){return fr(e=>e.playerApi)}function WXe(e){return fr(t=>e(t.playerState))}function HXe(){return fr.getState().playerApi}function $Xe(){return fr.getState().playerState}const K5e=C.memo(function(){const t=C.useRef(null),n=fr(r=>r.playerNode);return C.useEffect(()=>{const r=t.current;r&&!n&&(r.onplay=()=>{fr.setState(s=>{s.playerState.isPlaying=!0})},r.onpause=()=>{fr.setState(s=>{s.playerState.isPlaying=!1})},r.ontimeupdate=()=>{fr.setState(s=>{s.playerState.currentTime=r.currentTime})},r.ondurationchange=()=>{fr.setState(s=>{s.playerState.duration=r.duration})},r.onerror=s=>{typeof s=="string"?BB.audioPlayer.error(new Error(s)):s.target&&"error"in s.target&&BB.audioPlayer.error(s.target.error)},fr.setState({playerNode:r,playerApi:new X5e(r)}))},[n]),g.jsx("audio",{className:"fixed start-0 bottom-0 hidden h-0 w-0",autoPlay:!0,crossOrigin:"anonymous",ref:t})});class X5e{constructor(t){this.player=t}get state(){return fr.getState().playerState}changeSource(t){this.player.src&&this.player.src!==t&&this.stop(),this.player.src=t,fr.setState(n=>{n.playerState.sourceUrl=t})}async play(){this.state.isPlaying||await this.player.play()}pause(){this.state.isPlaying&&this.player.pause()}stop(){this.pause(),this.player.removeAttribute("src"),fr.setState(t=>{t.playerState.sourceUrl=null,t.playerState.currentTime=void 0,t.playerState.duration=void 0})}setCurrentTime(t){this.player.currentTime=t}setSpeed(t){this.player.playbackRate=t,this.player.defaultPlaybackRate=t}}function qXe(e){const t=fr.getState().playerNode;if(!t)return!1;const n=t.canPlayType(e);return n==="probably"||n==="maybe"}function J5e(e){"use forget";const t=W.c(4),{children:n}=e;let r;return t[2]!==n?(r=g.jsx(B5e,{children:n}),t[2]=n,t[3]=r):r=t[3],r}const Q5e=e=>{"use forget";const t=W.c(11),{children:n}=e,r=ce();let s;t[0]===Symbol.for("react.memo_cache_sentinel")?(s=Qn(),t[0]=s):s=t[0];const i=s;let o;t[1]!==n?(o=g.jsx(BUe,{children:n}),t[1]=n,t[2]=o):o=t[2];let a,c;t[3]===Symbol.for("react.memo_cache_sentinel")?(a=g.jsx(K5e,{}),c=g.jsx(N5e,{}),t[3]=a,t[4]=c):(a=t[3],c=t[4]);let l;t[5]!==r?(l=i?Eh(r)?g.jsx(v5e,{}):g.jsx(O5e,{}):null,t[5]=r,t[6]=l):l=t[6];let u;t[7]===Symbol.for("react.memo_cache_sentinel")?(u=g.jsx(Lae,{}),t[7]=u):u=t[7];let d;return t[8]!==o||t[9]!==l?(d=g.jsx($fe,{children:g.jsx(x5e,{children:g.jsxs(J5e,{children:[o,a,c,l,u]})})}),t[8]=o,t[9]=l,t[10]=d):d=t[10],d},Z5e=({resetError:e,componentStack:t,error:n})=>{"use no forget";return C.useEffect(()=>{K.addError(n),ot==null||ot.publish(sa.ERROR_THROWN,{error:n})},[n]),g.jsxs("div",{className:"flex h-full w-full flex-col items-center justify-center gap-4",children:[g.jsx("h2",{children:"Content failed to load"}),!1,g.jsx(fo,{color:"secondary",onClick:e,children:"Try again"}),!1]})},DR=me(!1),VXe=DR;function eBe(e){const t=ra(e.document,{keydown:nBe,keyup:Y_,visibilitychange:Y_}),n=ra(e,{blur:Y_});return()=>{t(),n()}}const tBe=500;let Jl;function nBe(e){rBe(e)?Jl!=null||(Jl=setTimeout(()=>{DR.set(!0)},tBe)):Jl&&Y_()}function rBe(e){return!ov(e)&&e.key===(Ow()?"Meta":"Control")&&B9(e)===Rue()}function Y_(){clearTimeout(Jl),Jl=void 0,DR.set(!1)}var ys={},GB;function sBe(){if(GB)return ys;GB=1,Object.defineProperty(ys,"__esModule",{value:!0});for(var e=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),t={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},n={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:e?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},r={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},s=1;s<20;s++)r["f"+s]=111+s;function i(f,h,p){h&&!("byKey"in h)&&(p=h,h=null),Array.isArray(f)||(f=[f]);var _=f.map(function(v){return c(v,h)}),m=function(O){return _.some(function(S){return l(S,O)})},y=p==null?m:m(p);return y}function o(f,h){return i(f,h)}function a(f,h){return i(f,{byKey:!0},h)}function c(f,h){var p=h&&h.byKey,_={};f=f.replace("++","+add");var m=f.split("+"),y=m.length;for(var v in t)_[t[v]]=!1;var O=!0,S=!1,E=void 0;try{for(var T=m[Symbol.iterator](),A;!(O=(A=T.next()).done);O=!0){var w=A.value,N=w.endsWith("?")&&w.length>1;N&&(w=w.slice(0,-1));var P=d(w),x=t[P];if(w.length>1&&!x&&!n[w]&&!r[P])throw new TypeError('Unknown modifier: "'+w+'"');(y===1||!x)&&(p?_.key=P:_.which=u(w)),x&&(_[x]=N?null:!0)}}catch(D){S=!0,E=D}finally{try{!O&&T.return&&T.return()}finally{if(S)throw E}}return _}function l(f,h){for(var p in f){var _=f[p],m=void 0;if(_!=null&&(p==="key"&&h.key!=null?m=h.key.toLowerCase():p==="which"?m=_===91&&h.which===93?91:h.which:m=h[p],!(m==null&&_===!1)&&m!==_))return!1}return!0}function u(f){f=d(f);var h=r[f]||f.toUpperCase().charCodeAt(0);return h}function d(f){return f=f.toLowerCase(),f=n[f]||f,f}return ys.default=i,ys.isHotkey=i,ys.isCodeHotkey=o,ys.isKeyHotkey=a,ys.parseHotkey=c,ys.compareHotkey=l,ys.toKeyCode=u,ys.toKeyName=d,ys}var iBe=sBe();const oBe=$t(iBe),aBe=ct(()=>{const e=me([]),t=me(void 0),n=ye(()=>{const a=t();return e().filter(c=>HB(c,a))});function r(...a){return e.set(c=>[...a,...c]),()=>{e.set(c=>c.filter(l=>!a.includes(l)))}}function s(a){const c=gt(t);return t.set(a),()=>t.set(c)}function i(a){return ra(a.document,{keydown:o})}function o(a){if(a.key===void 0||a.repeat||ov(a)||a.defaultPrevented)return;const l=gt(e),u=gt(t);for(const d of l)if(cBe(d,a)&&HB(d,u)&&d.action(a)!==!1){ve.logEventWithStatsig("Keyboard Shortcut","keyboard_shortcut",{keyboardActionKey:d.key}),K.addAction("chatgpt_keyboard_shortcut",{keyboardActionKey:d.key}),a.preventDefault();return}}return{actions$:n,addAction:r,limitActionGroups:s,registerEventListener:i}}),WB=new WeakMap;function cBe(e,t){let n=WB.get(e);if(!n){const{keyboardBinding:r,altKeyboardBindings:s}=e,i=[r,...s!=null?s:[]].map(o=>o.join("+"));n=oBe(i,{byKey:!0}),WB.set(e,n)}return n(t)}function HB(e,t){return!(e.enabled===!1||t!=null&&!t.includes(e.group))}function lBe(){const[e,t]=Yc(),n=ft(),r=Hn(),s=e.get(Fy),i=e.get(Uy),o=mo();C.useEffect(()=>{var l;let a=!1;if(o&&s==="true"){let u;o.isWorkspacePlan()?u=(l=o.name)!=null?l:"Workspace":u="Personal",r.info(n.formatMessage({id:"S4JoJY",defaultMessage:"Switched to {name}"},{name:u})),a=!0}let c=!1;if(typeof i=="string"&&uBe(i)){const u=zJ[i];r.danger(n.formatMessage(u),{toastId:"error_query_param",loggingTitle:i,loggingDescription:u.defaultMessage?String(u.defaultMessage):""}),c=!0}(e.has(Fy)||e.has(Uy))&&t(u=>(a&&u.delete(Fy),c&&u.delete(Uy),u),{replace:!0})},[s,o,i,n,e,t,r])}function uBe(e){return e in zJ}const zJ=At({invalidToken:{id:"UAhT32",defaultMessage:"The token is invalid"},continueFromApiGeneric:{id:"FHUH8C",defaultMessage:"Unable to continue your conversation"}});class FR{constructor(t){U(this,"subscribers");this.subscribers=FR.createTypedEmitterAllEventSubscribers(t)||{}}publish(t,n){const r=this.subscribers[t]||{};for(const s of Object.values(r))s(n)}subscribe(t,n){const r=yr();this.subscribers[t]||(this.subscribers[t]={});const s=this.subscribers[t];return s[r]=n,()=>{delete s[r]}}static createTypedEmitterAllEventSubscribers(t){return t.reduce((n,r)=>(n[r]={},n),{})}}class dBe extends FR{constructor(){super(Object.values(EN))}getVersion(){return 1}}const fBe=new dBe;function hBe({enabled:e=!0}={}){const t=ce(),r=Br(t).getContext().user,s=_a(t),i=st(t);C.useEffect(()=>{var o;!ot||!e||(s!=null&&s.accessToken&&((o=s==null?void 0:s.user)!=null&&o.id)?ot.publish(sa.LOGIN_CHANGED,{userId:s.user.id,accountId:i==null?void 0:i.id,authToken:s.accessToken,statsigUser:r,email:s.user.email}):ot.publish(sa.LOGOUT,{statsigUser:r}))},[i==null?void 0:i.id,s==null?void 0:s.accessToken,s==null?void 0:s.user,i,r,e])}function zXe(e){const t=vt().windowStyle;C.useEffect(()=>{if(ot)return fBe.subscribe(EN.WINDOW_VISIBILITY_STATE_CHANGED,n=>{n.windowType===t&&n.state==="hidden"&&e()})},[e,t])}function YXe(){return ot?ot.takePhoto():Promise.resolve(void 0)}function KXe(){return ot?ot.requestSystemPermission(qW.MICROPHONE):Promise.resolve(!0)}function XXe(){return ot?ot.takeScreenshot():Promise.resolve(void 0)}const pBe=Ie(()=>me(null));function _Be(e){"use forget";const t=W.c(8),{children:n}=e;lBe();const r=ft();let s,i;t[0]!==r?(s=()=>{pBe.set(An(),r)},i=[r],t[0]=r,t[1]=s,t[2]=i):(s=t[1],i=t[2]),C.useEffect(s,i);let o;t[3]===Symbol.for("react.memo_cache_sentinel")?(o={enabled:gG},t[3]=o):o=t[3],hBe(o);let a;t[4]===Symbol.for("react.memo_cache_sentinel")?(a=[],t[4]=a):a=t[4],C.useEffect(gBe,a);let c;t[5]===Symbol.for("react.memo_cache_sentinel")?(c=[],t[5]=c):c=t[5],C.useEffect(mBe,c);let l;return t[6]!==n?(l=g.jsx(g.Fragment,{children:n}),t[6]=n,t[7]=l):l=t[7],l}function mBe(){return eBe(window)}function gBe(){return aBe(An()).registerEventListener(window)}const $B="pioneer-script-ouia2h4";function vBe(){return window.dataLayer=window.dataLayer||[],function(){window.dataLayer.push(arguments)}}function yBe(){const e=window.gtag,t=window.dataLayer,n=Array.isArray(t)&&t.some(r=>Array.isArray(r)&&r[0]==="js");return typeof e=="function"&&n}function EBe(e,t){if(!document.getElementById($B))try{const s=document.createElement("script");s.id=$B,s.src="https://www.googletagmanager.com/gtag/js?id=".concat(t),s.nonce=e,s.async=!0,document.body.appendChild(s)}catch(s){ut.logEvent("chatgpt_pioneer_cookie_error")}const r=vBe();return yBe()||r("js",new Date),r}const CBe=14400*1e3,SBe=ct(()=>({current:!1}));function bBe(e){return e?e.is_consent_required?!!e.consent_analytics:!0:!1}async function TBe(e){const t=on(e);try{return await t.fetchQuery(I(b({},oy),{staleTime:CBe}))}catch(n){return}}async function OBe(e,t,{path:n,title:r,location:s}={}){if(typeof window>"u")return;const{cspScriptNonce:i}=vt();if(!i)return;const o=await TBe(e);if(!bBe(o))return;const a=EBe(i,t),c=SBe(e);c.current||(a("config",t,{send_page_view:!1}),c.current=!0);const l=r!=null?r:document.title,u=s!=null?s:window.location.href,d=n!=null?n:window.location.pathname+window.location.search+window.location.hash;a("event","page_view",{send_to:t,page_title:l,page_location:u,page_path:d})}const ABe=Wn(()=>ne(()=>import("./i6xoxkv1u39t9ppd.js"),__vite__mapDeps([47,1,2,3,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,31,65,66,67,68,69,70,71,72,73,13,14,15,74,75,76,77,78,79,80,81,8,9,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,37,38,39,40,41,42,99,100,101,102,103,25,104,105,106,107,45,108,109,110,111,7,10,112,113,114])).then(e=>e.GlobalModalsComponent)),wBe=3600*24*30*3;yie();function NBe(){return i3e(),null}gG&&ne(()=>import("./fnqrcpoa3d0i8h7q.js"),__vite__mapDeps([115,2,1,3])).then(e=>e.initDesktop()),Qn()&&ne(()=>import("./n7mets7vj05lk8ya.js"),__vite__mapDeps([116,1,2,3])).then(e=>e.initHost());$s(window.location.origin,"import.meta.env.VITE_APP_URL");function IBe({children:e}){"use no forget";const t=ce(),[n,r]=C.useState(!1),s=nn();C.useEffect(()=>{window._oaiHandleSessionExpired=function(o,a){var c;window.location.href.includes("/auth/login")||(Qn()&&((c=Ci())==null||c.onMissingSessionAuth()),r(!0),ve.logEvent("Account: Force Login Modal Shown",{content:"".concat(o,": ").concat(a)}))}},[]);function i(o){var a;try{const c=o.match(/^\/share\/(.+)$/);let l=we.getCookie(Ce.SharedConversationId);if(!l&&c&&(l=c[1],we.setCookie(Ce.SharedConversationId,l,{maxAge:wBe})),typeof l=="string"&&l&&(a=ut.getUser())!=null&&a.customIDs){const u=ut.getUser();u!=null&&u.customIDs&&(u.customIDs.shared_conversation_id=l)}}catch(c){c instanceof Error?Ac.error("Error in shared conversation cookie code:",{message:c.message,stack:c.stack}):Ac.error("Unknown error in shared conversation cookie code:",{error:c})}}return C.useEffect(()=>{i(s.pathname),ve.logPageView(),ut.logEvent("chatgpt_page_view",null,$W()),OBe(t,"G-9SHBSK2D9J",{path:s.pathname+s.search+s.hash,title:document.title,location:window.location.href}),kX("openaicom-did")},[t,s.pathname,s.search,s.hash]),g.jsx(g.Fragment,{children:g.jsx(Ah,{name:"ui_boundary_error",fallback:({resetError:o,componentStack:a,error:c})=>g.jsx(Z5e,{resetError:o,componentStack:a,error:c}),logRequestErrors:!0,children:g.jsx(Q5e,{children:g.jsxs(_Be,{children:[e,null,g.jsx(NBe,{}),g.jsx(PBe,{isOpen:n,onLogInClick:()=>{r(!1)}}),g.jsx(ABe,{}),g.jsx(Cse,{}),g.jsx(Ame,{}),!1]})})})})}const PBe=e=>{"use forget";const t=W.c(16),{isOpen:n,onLogInClick:r}=e,s=ft();let i;t[0]!==s?(i=s.formatMessage(sA.forceLogInModalTitle),t[0]=s,t[1]=i):i=t[1];let o;t[2]!==s?(o=s.formatMessage(sA.forceLogInModalDescription),t[2]=s,t[3]=o):o=t[3];let a;t[4]!==r?(a=async()=>{var f;if(Qn()){(f=Ci())==null||f.onMissingSessionAuth();return}const d=await cG.signOut({redirect:!1,callbackUrl:"/auth/login?next=".concat(encodeURIComponent(location.pathname+location.search+location.hash))});location.href=d.url,r()},t[4]=r,t[5]=a):a=t[5];let c;t[6]!==s?(c=s.formatMessage(sA.forceLogInModalButton),t[6]=s,t[7]=c):c=t[7];let l;t[8]!==a||t[9]!==c?(l=g.jsx(Kl.Button,{onClick:a,title:c}),t[8]=a,t[9]=c,t[10]=l):l=t[10];let u;return t[11]!==n||t[12]!==i||t[13]!==o||t[14]!==l?(u=g.jsx(rd,{testId:"modal-expired-session",isOpen:n,icon:Of,title:i,description:o,type:"warning",onClose:z4e,primaryButton:l}),t[11]=n,t[12]=i,t[13]=o,t[14]=l,t[15]=u):u=t[15],u},sA=At({forceLogInModalTitle:{id:"App.forceLogInModalTitle",defaultMessage:"Your session has expired"},forceLogInModalDescription:{id:"App.forceLogInModalDescription",defaultMessage:"Please log in again to continue using the app."},forceLogInModalButton:{id:"App.forceLogInModalButton",defaultMessage:"Log in"}}),RBe=300*1e3;function YJ(e){return Math.min(Math.max(e,0),RBe)}function qB(e){return{entryType:e.entryType,duration:e.duration,name:e.name,startTime:e.startTime,target:e.target instanceof Element?pG(e.target,void 0):void 0}}async function xBe(e){var O,S;const t=await ne(()=>import("./gtzzcebfbasf2ow3.js"),[]);if(!t)return;const{onCLS:n,onFCP:r,onLCP:s,onINP:i}=t,o=new Promise(E=>n(E)),a=new Promise(E=>r(E)),c=new Promise(E=>s(E));Me(e,"622488229")&&i(E=>{const T=YJ(E.value);try{K.addAction("web-vitals.inp-long",{id:E.id,delta:E.delta,rating:E.rating,attribution:{interactionTarget:E.attribution.interactionTarget,nextPaintTime:E.attribution.nextPaintTime,interactionTime:E.attribution.interactionTime,interactionType:E.attribution.interactionType,processedEventEntries:E.attribution.processedEventEntries.map(qB),inputDelay:E.attribution.inputDelay,processingDuration:E.attribution.processingDuration,presentationDelay:E.attribution.presentationDelay,loadState:E.attribution.loadState},navigationType:E.navigationType,name:E.name,value:E.value,entries:E.entries.map(qB)})}catch(A){}ut.logEvent("chatgpt_long_web_inp",T,{value:String(E.value),value_trimmed:String(T)})},{durationThreshold:500});const l=vt(),u={country:(O=l.userCountry)!=null?O:"unknown",continent:(S=l.userContinent)!=null?S:"unknown",device:Kc()?"mobile":"desktop",track:"stable",cluster:l.cluster},d=E=>T=>xn.hist(bn.DEFAULT,"web.vitals.".concat(E),u,T.value);o.then(d("cls")),a.then(d("fcp")),c.then(d("lcp"));const[f,h,p]=await Promise.all([o,a,c]),_=E=>Math.min(Math.max(E,0),300*1e3),m=_(f.value),y=_(h.value),v=_(p.value);ut.logEvent("chatgpt_web_vitals",v,{cls:String(f.value),fcp:String(h.value),lcp:String(p.value),cls_trimmed:String(m),fcp_trimmed:String(y),lcp_trimmed:String(v)})}function MBe(e){const t=window.__reactRouterManifest,n=new Set([t.entry].concat(e.map(s=>t.routes[s])).flatMap(s=>[s.module,...s.imports].map(i=>new URL(i,location.origin).toString()))),r=performance.getEntriesByType("resource").filter(s=>n.has(s.name));if(r.length===n.size){const s={transfer_size:r.reduce((o,a)=>o+a.transferSize,0),encoded_body_size:r.reduce((o,a)=>o+a.encodedBodySize,0),decoded_body_size:r.reduce((o,a)=>o+a.decodedBodySize,0)},i={max_encoded_body_size:Math.max(...r.map(o=>o.encodedBodySize)),max_decoded_body_size:Math.max(...r.map(o=>o.decodedBodySize)),max_transfer_size:Math.max(...r.map(o=>o.transferSize))};K.addAction("pageLoad.jsResourceSizes",I(b(b({},s),i),{count:r.length,route_id:e[e.length-1],route_ids:e}))}else K.addAction("pageLoad.jsResourceSizes.missing",{missing:n.difference?Array.from(n.difference(new Set(r.map(s=>s.name)))):null})}const kBe=30;function LBe(){const e=an.getItem(Wt.LastPageLoadDate),t=new Date,n=typeof e=="string"?new Date(e):null,r=Math.min(n!=null?Math.floor((t.getTime()-n.getTime())/(1e3*60*60)):1/0,kBe*24),s=Math.floor(r/24);an.setItem(Wt.LastPageLoadDate,t.toISOString()),K.addAction("time_since_last_page_load",{hoursSinceLastPageLoad:r,daysSinceLastPageLoad:s})}function DBe(){const e=window.document;let t,n;const r=i=>{t=i,cancelAnimationFrame(n),requestAnimationFrame(()=>{n=requestAnimationFrame(()=>{t=void 0})})},s={capture:!0,passive:!0};e.addEventListener("pointerdown",i=>{r(i.pointerType==="touch"?"touch":"mouse")},s),e.addEventListener("keydown",()=>{r("keyboard")},s),e.addEventListener("focusin",()=>{U9(e.documentElement,"data-focus-mode",t)},s)}function FBe(){"use forget";const e=W.c(2);let t,n;if(e[0]===Symbol.for("react.memo_cache_sentinel")){n=Symbol.for("react.early_return_sentinel");e:{const r=vt();if(Me(An(),"1069656694")){n=g.jsx("script",{type:"application/json",id:"client-bootstrap",nonce:r.cspScriptNonce,dangerouslySetInnerHTML:{__html:""},suppressHydrationWarning:!0});break e}t=g.jsx("script",{nonce:r.cspScriptNonce,dangerouslySetInnerHTML:{__html:""},suppressHydrationWarning:!0})}e[0]=t,e[1]=n}else t=e[0],n=e[1];return n!==Symbol.for("react.early_return_sentinel")?n:t}function UBe(e,t){try{return e()}catch(n){return t(n)}}function KJ(e){return e instanceof Element?e:e.parentElement?KJ(e.parentElement):null}function K_(e){const t=KJ(e);if(t){const n=pG(t,void 0);if(n)return n}return e.nodeName}const jBe=e=>e.type==="childList"?e.addedNodes.length>0?"added ".concat(K_(e.addedNodes[e.addedNodes.length-1])):e.removedNodes.length>0?"removed ".concat(e.removedNodes[e.removedNodes.length-1].nodeName," from ").concat(K_(e.target)):"unknown ".concat(e.type):e.type==="characterData"?"characterData in ".concat(K_(e.target)):"unknown ".concat(e.type),VB="checkVisibility"in Element.prototype?e=>e.checkVisibility({opacityProperty:!0,visibilityProperty:!0,contentVisibilityAuto:!0}):e=>!e.hasAttribute("aria-hidden")&&!e.classList.contains("hidden");function BBe(e){if(document.head.contains(e))return!1;if(e instanceof Element)return VB(e);if(e instanceof Text){const t=e.parentElement;if(t!=null)return VB(t)}return!0}function UR(e){const t=[],n=e(r=>t.push(r));return()=>(n(),t)}class GBe{constructor(){U(this,"timeouts",new Set)}add(t,n){const r=setTimeout(()=>{this.timeouts.delete(r),t()},n);this.timeouts.add(r)}clear(){for(const t of this.timeouts)clearTimeout(t);this.timeouts.clear()}}function iA(e,t){try{if(e.type&&!PerformanceObserver.supportedEntryTypes.includes(e.type))return()=>{};const n=new PerformanceObserver(r=>{for(const s of r.getEntries())t(s)});return n.observe(e),()=>n.disconnect()}catch(n){return()=>{}}}function WBe({idleTimeout:e=5e3,minIdleGap:t=100,filter:n}={}){return new Promise((r,s)=>{let i=null;const o=()=>{i!=null&&clearTimeout(i),i=setTimeout(c,e)};o();const a=UR(l=>{function u(f){(!n||n(f))&&(l({start:f.startTime,end:f.startTime+f.duration}),o())}const d=[iA({type:"resource",buffered:!0},u),iA({type:"longtask",buffered:!0,durationThreshold:0},u),iA({type:"navigation",buffered:!0},u)];return()=>{for(const f of d)f()}});function c(){try{const l=a();r(HBe(l,t))}catch(l){s(l)}}})}function HBe(e,t){const n=[];for(const{start:s,end:i}of e)n.push({t:s,delta:1}),n.push({t:i,delta:-1});n.sort((s,i)=>s.t===i.t?s.delta-i.delta:s.t-i.t);let r=0;for(let s=0;s<n.length;s++)if(r+=n[s].delta,r===0){const i=n[s].t,o=n[s+1];if(!o||o.t-i>=t)return i}throw new Error("no idle gap found")}function $Be(e){return"".concat(e.type," ").concat(e.target instanceof Node?K_(e.target):"(unknown target ".concat(e.target,")"))}function qBe(e){return UR(t=>{const n=new GBe;function r(s){const i=performance.now();n.add(()=>{t({start:i,end:performance.now(),label:$Be(s)})})}for(const s of e)window.addEventListener(s,r,{capture:!0});return()=>{for(const s of e)window.removeEventListener(s,r,{capture:!0});n.clear()}})}function VBe(e){return UR(t=>{const n=new MutationObserver(r=>{const s=Ud(r,e);s&&t({time:performance.now(),label:UBe(()=>jBe(s),i=>"error describing mutation: ".concat(i))})});return n.observe(document,{childList:!0,subtree:!0,characterData:!0,attributes:!1}),()=>n.disconnect()})}const zBe=["pointerdown","touchend","input","keydown","mouseleave","mouseenter","drop","beforeinput","pointerenter","dragend","pointercancel","compositionupdate","mousedown","dragleave","dragover","mouseup","pointerover","lostpointercapture","mouseover","gotpointercapture","dblclick","keyup","keypress","pointerup","compositionstart","auxclick","dragstart","touchstart","compositionend","pointerout","dragenter","touchcancel","click","contextmenu","mouseout","pointerleave"];function YBe(e){return e instanceof Element&&e.hasAttribute("data-ignore-for-page-load")}function XJ(e){return BBe(e)&&!YBe(e)}function KBe(e){for(const t of e)if(XJ(t))return!0;return!1}async function XBe(){if(typeof PerformanceObserver!="function")return{label:"no performance observer"};const e=zBe.filter(l=>!/(enter|leave|over|out)$/.test(l)),t=qBe(e),n=VBe(l=>l.type==="childList"&&KBe(l.addedNodes)||l.type==="characterData"&&XJ(l.target)),r=await WBe({filter:l=>l.duration!==0&&!(l.entryType==="resource"&&dQ(wG,l.name))}),s=t(),i=n(),o=s.find(l=>i.some(u=>l.start<u.time&&u.time<=l.end));if(o!=null&&o.start<r)return{label:"mutating input before page loaded",firstMutatingInput:o,pageIdle:r};const a=i.filter(l=>l.time<r+200),c=a.at(-1);return c?I(b({},c),{mutationsBeforeIdle:a.length,mutationsBeforeIdleList:a,pageIdle:r,firstMutatingInput:o}):{label:"no mutations before page idle",pageIdle:r,firstMutatingInput:o}}function JBe(){XBe().then(e=>{if("pageIdle"in e&&K.addFirstTiming("pageLoad.pageIdle",{time:performance.timeOrigin+e.pageIdle}),"time"in e&&e.time!=null){const t=e.time,n=YJ(t);K.addFirstTiming("pageLoad.lastMutation",{time:performance.timeOrigin+t}),K.addAction("pageLoad.lastMutation",e),ut.logEvent("chatgpt_web_last_mutation_time",void 0,{raw_duration_ms:String(t),trimmed_duration_ms:String(n)})}else K.addAction("pageLoad.withoutTiming",e);if("mutationsBeforeIdleList"in e)for(const t of e.mutationsBeforeIdleList)K.addAction("pageLoad.mutation",t)})}const QBe=C.createContext(null);function f_({queryOptions:e}){"use no forget";const t=ce(),n=on(t);C.use(QBe);const r=dg(e.queryKey);b({},e);const s=e,i="getNextPageParam"in s;return i?n.prefetchInfiniteQuery(s):n.prefetchQuery(s),g.jsx(Ah,{name:"AwaitQuery: "+r,children:g.jsx(C.Suspense,{fallback:null,children:i?g.jsx(eGe,{queryOptions:s}):g.jsx(ZBe,{queryOptions:s})})})}function ZBe(e){"use forget";const{queryOptions:t}=e;return dG(t),null}function eGe(e){"use forget";const{queryOptions:t}=e;return fQ(t),null}function tGe(e){"use forget";const t=W.c(10),{shouldPrefetchAccount:n,shouldPrefetchUser:r,shouldPrefetchSystemHints:s}=e;let i;t[0]!==n?(i=n&&g.jsx(f_,{queryOptions:w$()}),t[0]=n,t[1]=i):i=t[1];let o;t[2]!==r?(o=r&&g.jsx(f_,{queryOptions:DI}),t[2]=r,t[3]=o):o=t[3];let a;t[4]!==s?(a=s&&g.jsxs(g.Fragment,{children:[g.jsx(f_,{queryOptions:Eu("basic")}),g.jsx(f_,{queryOptions:Eu("connectors")})]}),t[4]=s,t[5]=a):a=t[5];let c;return t[6]!==i||t[7]!==o||t[8]!==a?(c=g.jsxs(g.Fragment,{children:[i,o,a]}),t[6]=i,t[7]=o,t[8]=a,t[9]=c):c=t[9],c}Hje(),DBe();const JXe=()=>!1,QXe=()=>[{title:"ChatGPT"},...Tme];function nGe(e){"use forget";const t=W.c(44),{children:n,isSearchPage:r,isOrlaWindowStyle:s,isOrlaUserAgent:i,isElectron:o,isIos:a,isAndroidChrome:c,windowStyle:l,ddTraceMetadata:u,jsp:d,lang:f,shouldUseScrollRestoration:h}=e,p=(f&&yW.has(f),"ltr");let _;t[0]===Symbol.for("react.memo_cache_sentinel")?(_=vt(),t[0]=_):_=t[0];const m=_,y=o===!0||!1;let v;t[1]!==i||t[2]!==s||t[3]!==r||t[4]!==y?(v=ie({"snc-root":r,"mini-root":s,"mini-ua-root":i,"sdtrn-root":y}),t[1]=i,t[2]=s,t[3]=r,t[4]=y,t[5]=v):v=t[5];let O;t[6]===Symbol.for("react.memo_cache_sentinel")?(O=g.jsx("meta",{charSet:"UTF-8"}),t[6]=O):O=t[6];const S="width=device-width, initial-scale=1".concat(a?", maximum-scale=1":"",", viewport-fit=cover");let E;t[7]!==S?(E=g.jsx("meta",{name:"viewport",content:S}),t[7]=S,t[8]=E):E=t[8];let T;t[9]===Symbol.for("react.memo_cache_sentinel")?(T=g.jsx(yQ,{}),t[9]=T):T=t[9];let A;t[10]!==c?(A=c?g.jsx(wme,{}):null,t[10]=c,t[11]=A):A=t[11];let w,N,P,x;t[12]===Symbol.for("react.memo_cache_sentinel")?(x=g.jsx(Rme,{}),w=g.jsx(Nme,{}),N=g.jsx(Ime,{}),P=g.jsx(Pme,{}),t[12]=w,t[13]=N,t[14]=P,t[15]=x):(w=t[12],N=t[13],P=t[14],x=t[15]);let D;t[16]!==u?(D=u?g.jsxs(g.Fragment,{children:[g.jsx("meta",{name:"dd-trace-id",content:u.traceId}),g.jsx("meta",{name:"dd-trace-time",content:"".concat(u.traceTime)})]}):null,t[16]=u,t[17]=D):D=t[17];let M,F,j;t[18]===Symbol.for("react.memo_cache_sentinel")?(M=g.jsx(xme,{}),F=g.jsx(EQ,{}),j=g.jsx("script",{nonce:m.cspScriptNonce,suppressHydrationWarning:!0,children:'!function initScrollTimelineInline(){try{if(CSS.supports("animation-timeline: --works"))return;var t=new Map;document.addEventListener("animationstart",(n=>{if(!(n.target instanceof HTMLElement))return;const e=n.target.getAnimations().filter((t=>t.animationName===n.animationName));t.set(n.target,e)})),document.addEventListener("scrolltimelineload",(n=>{t.forEach(((t,e)=>{t.forEach((t=>{n.detail.upgradeAnimation(t,e)}))})),t.clear()}),{once:!0})}catch{}}();'}),t[18]=M,t[19]=F,t[20]=j):(M=t[18],F=t[19],j=t[20]);let $;t[21]!==D||t[22]!==E||t[23]!==A?($=g.jsxs("head",{children:[O,E,T,A,x,w,N,P,D,M,F,j]}),t[21]=D,t[22]=E,t[23]=A,t[24]=$):$=t[24];let q;t[25]!==s||t[26]!==r?(q=ie({snc:r,mini:s}),t[25]=s,t[26]=r,t[27]=q):q=t[27];let k;t[28]!==h?(k=h?g.jsx(gQ,{nonce:m.cspScriptNonce}):null,t[28]=h,t[29]=k):k=t[29];let Z,B;t[30]===Symbol.for("react.memo_cache_sentinel")?(Z=g.jsx(FBe,{}),B=g.jsx(vQ,{nonce:m.cspScriptNonce}),t[30]=Z,t[31]=B):(Z=t[30],B=t[31]);let Q;t[32]!==n||t[33]!==q||t[34]!==k||t[35]!==l?(Q=g.jsxs("body",{className:q,"data-window-style":l,children:[n,k,Z,B]}),t[32]=n,t[33]=q,t[34]=k,t[35]=l,t[36]=Q):Q=t[36];let se;return t[37]!==p||t[38]!==d||t[39]!==f||t[40]!==$||t[41]!==Q||t[42]!==v?(se=g.jsxs("html",{lang:f,"data-build":hh,"data-seq":Tne,dir:p,"data-jsp":d,className:v,suppressHydrationWarning:!0,children:[$,Q]}),t[37]=p,t[38]=d,t[39]=f,t[40]=$,t[41]=Q,t[42]=v,t[43]=se):se=t[43],se}const ZXe=hQ(function(t){"use forget";var z,te;const n=W.c(43),{disablePrefetch:r,shouldPrefetchAccount:s,shouldPrefetchUser:i,shouldPrefetchSystemHints:o,dd:a,jsp:c,statsigGateEvaluationsPromise:l,promoteCss:u,disableSSR:d}=pQ(),f=s===void 0?!1:s,h=i===void 0?!1:i,p=o===void 0?!1:o;let _;if(n[0]!==r||n[1]!==d||n[2]!==u){_=vt();{qn.setGlobalContextProperty("cluster",_.cluster),K.addFeatureFlagEvaluation("disable_prefetch",r),K.addFeatureFlagEvaluation("promote_css",u),K.addFeatureFlagEvaluation("disable_ssr",!!d);for(const[Se,he]of Object.entries((te=(z=_.session)==null?void 0:z.rumViewTags)!=null?te:{}))qn.setViewContextProperty(Se,he)}n[0]=r,n[1]=d,n[2]=u,n[3]=_}else _=n[3];let m,y;n[4]===Symbol.for("react.memo_cache_sentinel")?(m=An(),y=on(m),n[4]=m,n[5]=y):(m=n[4],y=n[5]);const v=y;let O,S;n[6]===Symbol.for("react.memo_cache_sentinel")?(O=()=>{q4e(m)},S=[m],n[6]=O,n[7]=S):(O=n[6],S=n[7]),C.useEffect(O,S),ane();let E,T;n[8]===Symbol.for("react.memo_cache_sentinel")?(E=()=>{LBe(),xBe(m),JBe(),aGe(m)},T=[m],n[8]=E,n[9]=T):(E=n[8],T=n[9]),C.useEffect(E,T);const A=uG();let w;n[10]!==A?(w=A.map(iGe),n[10]=A,n[11]=w):w=n[11];const N=w;let P;n[12]!==A?(P=A.some(sGe),n[12]=A,n[13]=P):P=n[13];const x=P;let D;n[14]!==_||n[15]!==N||n[16]!==l?(D=()=>{{L2e(m,v),I2e(m,_,v),l.then(rGe);try{MBe(N)}catch(Se){const he=Se;K.addError(he)}}return!0},n[14]=_,n[15]=N,n[16]=l,n[17]=D):D=n[17],C.useState(D);const{pathname:M}=nn();let F;n[18]!==M?(F=M.startsWith("/search"),n[18]=M,n[19]=F):F=n[19];const j=F;let $;n[20]===Symbol.for("react.memo_cache_sentinel")?($=Vs(m),n[20]=$):$=n[20];const q=$;let k;n[21]===Symbol.for("react.memo_cache_sentinel")?(k=Qn(),n[21]=k):k=n[21];const Z=k,B=!!d;let Q;n[22]===Symbol.for("react.memo_cache_sentinel")?(Q=g.jsx(iAe,{}),n[22]=Q):Q=n[22];let se;n[23]===Symbol.for("react.memo_cache_sentinel")?(se=g.jsx(rme,{}),n[23]=se):se=n[23];let fe;n[24]===Symbol.for("react.memo_cache_sentinel")?(fe=g.jsx(_Q,{}),n[24]=fe):fe=n[24];let V;n[25]!==f||n[26]!==p||n[27]!==h?(V=g.jsxs(mQ,{client:v,children:[se,g.jsxs(IBe,{children:[fe,g.jsx(tGe,{shouldPrefetchAccount:f,shouldPrefetchUser:h,shouldPrefetchSystemHints:p})]})]}),n[25]=f,n[26]=p,n[27]=h,n[28]=V):V=n[28];let H;n[29]!==B||n[30]!==V?(H=g.jsxs(KUe,{children:[Q,g.jsx(Vje,{attribute:"class",children:g.jsx(oGe,{disableSSR:B,children:V})})]}),n[29]=B,n[30]=V,n[31]=H):H=n[31];let ee;return n[32]!==_.isAndroidChrome||n[33]!==_.isElectron||n[34]!==_.isIos||n[35]!==_.locale||n[36]!==_.windowStyle||n[37]!==a||n[38]!==j||n[39]!==c||n[40]!==x||n[41]!==H?(ee=g.jsx(OQ,{sessionContext:m,children:g.jsx(nGe,{lang:_.locale,isIos:_.isIos,isAndroidChrome:_.isAndroidChrome,isElectron:_.isElectron,isOrlaWindowStyle:q,isOrlaUserAgent:Z,isSearchPage:j,ddTraceMetadata:a,jsp:c,windowStyle:_.windowStyle,shouldUseScrollRestoration:x,children:H})}),n[32]=_.isAndroidChrome,n[33]=_.isElectron,n[34]=_.isIos,n[35]=_.locale,n[36]=_.windowStyle,n[37]=a,n[38]=j,n[39]=c,n[40]=x,n[41]=H,n[42]=ee):ee=n[42],ee});function rGe(e){for(const[t,n]of Object.entries(e))K.addFeatureFlagEvaluation(t,n)}function sGe(e){const t=e.handle;return t==null?void 0:t.useScrollRestoration}function iGe(e){return e.id}function oGe(e){"use forget";const t=W.c(4),{children:n,disableSSR:r}=e;if(!r){let i;return t[0]!==n?(i=g.jsx(g.Fragment,{children:n}),t[0]=n,t[1]=i):i=t[1],i}let s;return t[2]!==n?(s=g.jsx(ZUe,{fallback:null,children:n}),t[2]=n,t[3]=s):s=t[3],s}function aGe(e){hme(e).composer.autofocusDisabled$()&&requestAnimationFrame(()=>{requestAnimationFrame(()=>{var r;const n=(r=document.querySelector("h1"))!=null?r:P2e({root:document.body});n instanceof HTMLElement&&typeof n.focus=="function"&&n.focus()})})}export{ut as $,en as A,lAe as A$,M8e as A0,M0e as A1,U8e as A2,R8e as A3,W8e as A4,P8e as A5,G8e as A6,g$e as A7,BXe as A8,Bme as A9,Dr as AA,Oq as AB,nve as AC,L$e as AD,Rf as AE,Fq as AF,Jn as AG,MA as AH,k6e as AI,Tm as AJ,M9e as AK,k9e as AL,R9e as AM,dKe as AN,Hqe as AO,iHe as AP,uKe as AQ,oUe as AR,r8e as AS,zs as AT,gYe as AU,C4e as AV,CXe as AW,bXe as AX,rHe as AY,l4e as AZ,dm as A_,dWe as Aa,URe as Ab,PXe as Ac,D$e as Ad,uve as Ae,bve as Af,U$e as Ag,$$e as Ah,C$e as Ai,m$e as Aj,Wme as Ak,y$e as Al,v$e as Am,dGe as An,XVe as Ao,f8e as Ap,NHe as Aq,IHe as Ar,DXe as As,L5e as At,Bh as Au,ome as Av,Zle as Aw,qo as Ax,hi as Ay,ze as Az,O$ as B,Lg as B$,CX as B0,xKe as B1,gKe as B2,JYe as B3,kDe as B4,LDe as B5,eUe as B6,aze as B7,zOe as B8,oHe as B9,YYe as BA,KYe as BB,XYe as BC,VYe as BD,Zhe as BE,eHe as BF,R$ as BG,tHe as BH,lc as BI,w6e as BJ,A6e as BK,Yd as BL,zGe as BM,Fre as BN,Dre as BO,MYe as BP,Gce as BQ,_Oe as BR,DDe as BS,t0e as BT,Iue as BU,v3e as BV,n0e as BW,q5e as BX,Ih as BY,Qae as BZ,iue as B_,EKe as Ba,SKe as Bb,bKe as Bc,TKe as Bd,OKe as Be,AKe as Bf,wKe as Bg,lUe as Bh,UKe as Bi,nUe as Bj,Uf as Bk,yKe as Bl,BKe as Bm,lze as Bn,s8e as Bo,bze as Bp,X7e as Bq,Z9e as Br,_Ge as Bs,sHe as Bt,Fv as Bu,c$e as Bv,l$e as Bw,zWe as Bx,X9e as By,zYe as Bz,rd as C,RGe as C0,P9e as C1,B8 as C2,F5e as C3,C6e as C4,RQ as C5,nWe as C6,oWe as C7,aWe as C8,jue as C9,Er as CA,T7e as CB,f_ as CC,AZ as CD,G6e as CE,C8e as CF,QPe as CG,mze as CH,nYe as CI,rYe as CJ,sYe as CK,iYe as CL,Rue as Ca,BVe as Cb,rWe as Cc,sWe as Cd,iWe as Ce,cWe as Cf,lWe as Cg,tWe as Ch,eWe as Ci,Z6e as Cj,x9e as Ck,PGe as Cl,C6 as Cm,f6 as Cn,ate as Co,ks as Cp,Tn as Cq,nm as Cr,uh as Cs,Eg as Ct,Ql as Cu,Re as Cv,_g as Cw,Fw as Cx,Gn as Cy,Bn as Cz,wre as D,w$ as E,po as F,_t as G,mo as H,st as I,Lce as J,VI as K,ae as L,Kl as M,Hv as N,z8e as O,ve as P,C0e as Q,Y as R,Wt as S,_o as T,DTe as U,Ot as V,h7e as W,jTe as X,ff as Y,an as Z,K as _,Hi as a,J9e as a$,YJ as a0,el as a1,wt as a2,Ge as a3,HN as a4,mv as a5,VH as a6,JN as a7,qH as a8,fo as a9,kh as aA,H9 as aB,Dc as aC,R2e as aD,IGe as aE,we as aF,Ce as aG,xy as aH,r4 as aI,K_e as aJ,ZO as aK,l5e as aL,vR as aM,rr as aN,oy as aO,ame as aP,dXe as aQ,npe as aR,j9 as aS,nHe as aT,$s as aU,lg as aV,XHe as aW,_Re as aX,Jv as aY,pXe as aZ,fXe as a_,D3e as aa,Zz as ab,vt as ac,a6e as ad,UHe as ae,Br as af,f7e as ag,hze as ah,zke as ai,Yke as aj,Kke as ak,pn as al,pze as am,Hu as an,Xke as ao,W9 as ap,Jke as aq,Qke as ar,Zke as as,_ze as at,UH as au,Js as av,cs as aw,V9e as ax,q9e as ay,zN as az,ce as b,Ac as b$,epe as b0,Q9e as b1,Jne as b2,gv as b3,bj as b4,jae as b5,ro as b6,ye as b7,P$ as b8,LOe as b9,Ev as bA,c8 as bB,$ue as bC,G9 as bD,c8e as bE,Oke as bF,fze as bG,zKe as bH,re as bI,X_ as bJ,u0e as bK,Yh as bL,b8e as bM,Rs as bN,Y9 as bO,nKe as bP,QFe as bQ,jKe as bR,f0e as bS,HI as bT,wke as bU,tKe as bV,eKe as bW,Mke as bX,KFe as bY,WI as bZ,ow as b_,hre as ba,gXe as bb,xn as bc,bn as bd,fWe as be,fae as bf,Hz as bg,Wn as bh,oVe as bi,_Ke as bj,L7 as bk,Wv as bl,wr as bm,lK as bn,ua as bo,xt as bp,Nt as bq,$c as br,qEe as bs,R as bt,NK as bu,LVe as bv,tl as bw,sr as bx,yv as by,vv as bz,ge as c,T_e as c$,Su as c0,uDe as c1,cn as c2,t6e as c3,Wre as c4,dv as c5,VN as c6,mi as c7,CH as c8,Uke as c9,rKe as cA,QYe as cB,oKe as cC,ZYe as cD,o8e as cE,hKe as cF,pKe as cG,i8e as cH,_0e as cI,sKe as cJ,iKe as cK,$Ye as cL,zFe as cM,YFe as cN,goe as cO,NKe as cP,iR as cQ,EDe as cR,MRe as cS,FWe as cT,Xs as cU,u8 as cV,UWe as cW,Rke as cX,iU as cY,oU as cZ,yt as c_,nY as ca,LP as cb,bu as cc,kP as cd,xh as ce,SH as cf,bH as cg,FRe as ch,tY as ci,Hbe as cj,Vg as ck,aKe as cl,cKe as cm,JFe as cn,lKe as co,cze as cp,ize as cq,oze as cr,rze as cs,sze as ct,ZVe as cu,nze as cv,tze as cw,eze as cx,Ju as cy,sd as cz,Le as d,YF as d$,B6e as d0,Wie as d1,vLe as d2,QW as d3,Uu as d4,va as d5,b_e as d6,Rse as d7,jW as d8,HHe as d9,Qg as dA,Tv as dB,sVe as dC,Bt as dD,xOe as dE,Ae as dF,W$ as dG,jc as dH,tI as dI,TA as dJ,I9e as dK,$i as dL,Yme as dM,Ci as dN,tv as dO,w9 as dP,x9 as dQ,BS as dR,Ole as dS,Ile as dT,Sle as dU,Nle as dV,Y5e as dW,dFe as dX,Fh as dY,Ape as dZ,hVe as d_,tde as da,xse as db,E_e as dc,mu as dd,cr as de,ju as df,FGe as dg,DI as dh,yre as di,XGe as dj,_re as dk,nXe as dl,Lj as dm,oie as dn,iOe as dp,iy as dq,C_e as dr,I_e as ds,T$ as dt,iI as du,iRe as dv,kke as dw,mLe as dx,yLe as dy,Qn as dz,An as e,Eh as e$,H7e as e0,s7e as e1,je as e2,ege as e3,Be as e4,nge as e5,tge as e6,hc as e7,Qme as e8,I$e as e9,gGe as eA,vG as eB,mGe as eC,gN as eD,OW as eE,JKe as eF,Hs as eG,Bie as eH,AXe as eI,wXe as eJ,oW as eK,$o as eL,Ye as eM,vm as eN,Wle as eO,x4e as eP,bJ as eQ,bce as eR,Cpe as eS,S9e as eT,vXe as eU,HQ as eV,Pbe as eW,Dh as eX,w$e as eY,YD as eZ,BOe as e_,$He as ea,$se as eb,rc as ec,Qs as ed,_$ as ee,J6 as ef,lr as eg,Ls as eh,R$e as ei,Ov as ej,F7e as ek,XSe as el,Wpe as em,gt as en,vh as eo,CW as ep,l9e as eq,Cv as er,lA as es,Uae as et,Ss as eu,EGe as ev,ooe as ew,aoe as ex,wce as ey,$Q as ez,Ie as f,WHe as f$,yGe as f0,WQ as f1,vGe as f2,iN as f3,GQ as f4,Rh as f5,Kpe as f6,uVe as f7,ZOe as f8,m6e as f9,Ve as fA,rt as fB,uHe as fC,jle as fD,_He as fE,xbe as fF,dN as fG,Jqe as fH,Wm as fI,PSe as fJ,I6e as fK,vHe as fL,vue as fM,Uh as fN,bOe as fO,dy as fP,Oh as fQ,Qd as fR,Yse as fS,ug as fT,mSe as fU,gSe as fV,B$e as fW,Ru as fX,us as fY,ra as fZ,xQ as f_,D9 as fa,Tie as fb,Lc as fc,w9e as fd,Gve as fe,As as ff,fVe as fg,Vn as fh,m$ as fi,Wu as fj,V5e as fk,t4 as fl,Fse as fm,Use as fn,yWe as fo,V_e as fp,uae as fq,uWe as fr,EWe as fs,CWe as ft,_ae as fu,mae as fv,v9e as fw,E9e as fx,pYe as fy,zu as fz,on as g,v8e as g$,GD as g0,Np as g1,bd as g2,Due as g3,IXe as g4,lae as g5,WW as g6,o9e as g7,ct as g8,I6 as g9,uGe as gA,yVe as gB,uR as gC,Wl as gD,_n as gE,Ah as gF,R9 as gG,f9 as gH,O0e as gI,pke as gJ,KVe as gK,la as gL,go as gM,KKe as gN,Hc as gO,Qne as gP,OVe as gQ,eV as gR,p0e as gS,O8e as gT,Hr as gU,M8 as gV,IVe as gW,XKe as gX,tV as gY,AVe as gZ,uW as g_,Nw as ga,N6 as gb,SYe as gc,Os as gd,wB as ge,Yce as gf,nle as gg,e6e as gh,qre as gi,Hre as gj,g3e as gk,f9e as gl,S9 as gm,ule as gn,vYe as go,fFe as gp,yf as gq,rv as gr,nv as gs,Jme as gt,O$e as gu,Do as gv,Cu as gw,p9e as gx,Gie as gy,$v as gz,me as h,y7e as h$,NVe as h0,ape as h1,pHe as h2,i$ as h3,RI as h4,wQ as h5,mHe as h6,Ud as h7,zg as h8,qqe as h9,Dj as hA,Dse as hB,q8e as hC,V8e as hD,Lse as hE,hue as hF,U7e as hG,BI as hH,S6e as hI,kse as hJ,Fe as hK,fm as hL,qWe as hM,n8e as hN,_oe as hO,X7 as hP,iW as hQ,Vbe as hR,Jse as hS,_7e as hT,FHe as hU,aAe as hV,yue as hW,wSe as hX,g9e as hY,h9e as hZ,d9e as h_,Yze as ha,x1 as hb,sp as hc,nN as hd,ISe as he,z7 as hf,ZUe as hg,gHe as hh,j7e as hi,LHe as hj,Lv as hk,ROe as hl,zp as hm,Vp as hn,M1 as ho,eI as hp,IQ as hq,Tw as hr,EVe as hs,YOe as ht,aBe as hu,$Oe as hv,WWe as hw,HWe as hx,$We as hy,O7e as hz,Vs as i,Mv as i$,g7e as i0,E7e as i1,l7e as i2,Aqe as i3,wqe as i4,_Ve as i5,cAe as i6,m3e as i7,Ht as i8,J9 as i9,H3e as iA,$3e as iB,q3e as iC,hYe as iD,rX as iE,kI as iF,zDe as iG,uYe as iH,w8e as iI,N$e as iJ,vke as iK,Oae as iL,BWe as iM,Ioe as iN,YM as iO,Ks as iP,qt as iQ,Og as iR,Ag as iS,rN as iT,cc as iU,i6e as iV,na as iW,une as iX,Cae as iY,QGe as iZ,H$ as i_,w7e as ia,sy as ib,B7 as ic,TXe as id,Qqe as ie,Fie as ig,Uj as ih,Ow as ii,lle as ij,yUe as ik,I9 as il,$ae as im,ho as io,VXe as ip,Pue as iq,Fue as ir,Fpe as is,MXe as it,kXe as iu,kD as iv,Aoe as iw,Vqe as ix,zqe as iy,t7e as iz,H6 as j,PYe as j$,W$e as j0,V$e as j1,H$e as j2,vf as j3,Sae as j4,mWe as j5,pae as j6,DHe as j7,wI as j8,Rg as j9,P8 as jA,I8 as jB,S8 as jC,E8 as jD,m8 as jE,h8 as jF,f8 as jG,d8 as jH,N_ as jI,A8 as jJ,Zbe as jK,Gv as jL,b8 as jM,_8 as jN,g8 as jO,N1 as jP,ic as jQ,y8 as jR,VEe as jS,zEe as jT,aU as jU,gke as jV,l$ as jW,LYe as jX,pR as jY,Nze as jZ,gFe as j_,Bu as ja,x7 as jb,xv as jc,II as jd,GCe as je,KCe as jf,WCe as jg,QCe as jh,ON as ji,Wr as jj,AN as jk,Z6 as jl,Ys as jm,a9 as jn,CN as jo,zce as jp,ile as jq,ole as jr,b9e as js,u6e as jt,AA as ju,Oi as jv,OA as jw,$e as jx,p8 as jy,hLe as jz,yh as k,HXe as k$,Tze as k0,EG as k1,kJ as k2,DYe as k3,fCe as k4,dme as k5,ASe as k6,xYe as k7,sqe as k8,xVe as k9,O9 as kA,NDe as kB,IDe as kC,wDe as kD,fHe as kE,xS as kF,F9e as kG,GA as kH,qHe as kI,Ece as kJ,wie as kK,_9e as kL,oX as kM,Qje as kN,mYe as kO,_Ye as kP,S_e as kQ,JHe as kR,mXe as kS,Au as kT,mJ as kU,Ure as kV,QQ as kW,qXe as kX,GXe as kY,WXe as kZ,BB as k_,Qc as ka,ph as kb,B9e as kc,Vle as kd,bse as ke,aW as kf,hGe as kg,b$e as kh,S$e as ki,IK as kj,RVe as kk,r_e as kl,sv as km,qse as kn,WK as ko,dR as kp,n6e as kq,r6e as kr,ZGe as ks,$re as kt,Gq as ku,Cm as kv,Ds as kw,_e as kx,nce as ky,i5e as kz,ie as l,ire as l$,$Xe as l0,mVe as l1,W7 as l2,ns as l3,k9 as l4,Cc as l5,_Xe as l6,Ka as l7,EBe as l8,X9 as l9,O9e as lA,A9e as lB,pw as lC,v_e as lD,PCe as lE,QKe as lF,ZKe as lG,YKe as lH,lqe as lI,eu as lJ,h6e as lK,a0 as lL,x_ as lM,F7 as lN,dF as lO,d6e as lP,dqe as lQ,fqe as lR,uqe as lS,dHe as lT,vX as lU,yX as lV,Cqe as lW,Fg as lX,ySe as lY,are as lZ,ore as l_,zVe as la,bqe as lb,L8e as lc,pX as ld,Cn as le,NFe as lf,WYe as lg,OYe as lh,NYe as li,Sn as lj,yYe as lk,mX as ll,pBe as lm,hR as ln,Yo as lo,A$e as lp,Bi as lq,MWe as lr,lo as ls,Vse as lt,Gre as lu,s6e as lv,one as lw,P$e as lx,ot as ly,s5e as lz,Hn as m,YSe as m$,gf as m0,no as m1,j$e as m2,Te as m3,V0 as m4,Ef as m5,PKe as m6,RKe as m7,E1 as m8,Ize as m9,Wse as mA,DWe as mB,Gse as mC,$Ue as mD,d$e as mE,iie as mF,Mc as mG,mOe as mH,ESe as mI,Hse as mJ,xEe as mK,jse as mL,Oie as mM,qYe as mN,Ja as mO,g6e as mP,Z8e as mQ,bv as mR,Bre as mS,pqe as mT,K4e as mU,YI as mV,CVe as mW,PN as mX,Gu as mY,eqe as mZ,cqe as m_,wze as ma,ADe as mb,Bv as mc,jv as md,MDe as me,rqe as mf,GFe as mg,yD as mh,GVe as mi,jHe as mj,q$e as mk,aqe as ml,oqe as mm,D$ as mn,xue as mo,Bse as mp,kWe as mq,bae as mr,j$ as ms,B$ as mt,ZA as mu,Kc as mv,Gae as mw,yHe as mx,VWe as my,o6e as mz,$Se as n,ty as n$,QHe as n0,Wg as n1,p6e as n2,b6e as n3,_6e as n4,jGe as n5,cR as n6,rde as n7,$9e as n8,ofe as n9,yae as nA,vae as nB,wWe as nC,NWe as nD,IWe as nE,Eae as nF,Oze as nG,Aze as nH,OHe as nI,XXe as nJ,YXe as nK,y6e as nL,RYe as nM,Abe as nN,y_ as nO,Or as nP,hme as nQ,GYe as nR,qKe as nS,$Ke as nT,fW as nU,VVe as nV,Of as nW,upe as nX,Mue as nY,ov as nZ,QVe as n_,cfe as na,lfe as nb,dfe as nc,ffe as nd,pfe as ne,hfe as nf,ufe as ng,Qde as nh,di as ni,fy as nj,as as nk,Pse as nl,f$e as nm,Qz as nn,TOe as no,eVe as np,tVe as nq,Cr as nr,hUe as ns,W9e as nt,CSe as nu,bWe as nv,LI as nw,X4e as nx,l6e as ny,rFe as nz,Me as o,e0e as o$,hy as o0,jXe as o1,qpe as o2,St as o3,pGe as o4,Tpe as o5,fR as o6,p$e as o7,UGe as o8,m9e as o9,wHe as oA,qP as oB,IKe as oC,KK as oD,zSe as oE,dLe as oF,oYe as oG,v6e as oH,Hb as oI,RXe as oJ,x$e as oK,oae as oL,N8e as oM,yw as oN,L$ as oO,gse as oP,a$e as oQ,h$e as oR,E$e as oS,WSe as oT,k$ as oU,bme as oV,T6e as oW,Hg as oX,O6e as oY,Ske as oZ,e1 as o_,at as oa,vSe as ob,_qe as oc,YQ as od,aA as oe,fGe as of,KXe as og,ume as oh,vqe as oi,yqe as oj,O1 as ok,wue as ol,WKe as om,HKe as on,M$e as oo,rge as op,ige as oq,kv as or,kre as os,eXe as ot,V6 as ou,YR as ov,B9 as ow,THe as ox,gh as oy,lm as oz,Gt as p,J6e as p$,I1 as p0,N$ as p1,t8e as p2,P7e as p3,SVe as p4,Nh as p5,Mle as p6,lme as p7,VHe as p8,DVe as p9,Fle as pA,HVe as pB,J$e as pC,Q$e as pD,ma as pE,UI as pF,obe as pG,h9 as pH,cme as pI,Q6e as pJ,zse as pK,lre as pL,$6 as pM,Y6e as pN,sae as pO,iae as pP,X6e as pQ,aae as pR,DJ as pS,SHe as pT,d8e as pU,sRe as pV,u8e as pW,Uoe as pX,v9 as pY,Q8 as pZ,JVe as p_,l8e as pa,t8 as pb,a8 as pc,dW as pd,dze as pe,WFe as pf,aYe as pg,pLe as ph,N8 as pi,w8 as pj,T8 as pk,C8 as pl,v8 as pm,fLe as pn,O8 as po,cW as pp,u7e as pq,Dbe as pr,Kse as ps,Y9e as pt,K9e as pu,Qhe as pv,Jhe as pw,N9e as px,aLe as py,Mbe as pz,_h as q,o$e as q$,cae as q0,DGe as q1,K6e as q2,LSe as q3,r7e as q4,d7e as q5,gOe as q6,Y8 as q7,n7e as q8,E2e as q9,g$ as qA,ga as qB,oAe as qC,_a as qD,Rze as qE,JGe as qF,jie as qG,vx as qH,Tre as qI,NQ as qJ,kX as qK,z6e as qL,LGe as qM,eae as qN,Qoe as qO,nre as qP,dg as qQ,JXe as qR,QXe as qS,ZXe as qT,oA as qU,U9e as qV,aHe as qW,aFe as qX,j9e as qY,Cze as qZ,DK as q_,Ip as qa,M3e as qb,o7e as qc,a7e as qd,jbe as qe,BGe as qf,u9e as qg,zI as qh,j8e as qi,G9e as qj,qme as qk,N6e as ql,M7e as qm,t3e as qn,Gl as qo,Uue as qp,dVe as qq,P0e as qr,k8e as qs,xXe as qt,DRe as qu,Xme as qv,BYe as qw,Sqe as qx,p3e as qy,Xze as qz,yne as r,nVe as r$,MHe as r0,mN as r1,h5e as r2,NXe as r3,Mp as r4,zM as r5,bHe as r6,Uie as r7,D7e as r8,WGe as r9,y4e as rA,mD as rB,Uc as rC,SWe as rD,Z5e as rE,sa as rF,fBe as rG,EN as rH,c9e as rI,ui as rJ,e9 as rK,Nie as rL,n1 as rM,Iie as rN,z$e as rO,xre as rP,Rre as rQ,Pre as rR,Oe as rS,de as rT,W7e as rU,Zze as rV,eYe as rW,i7e as rX,Fr as rY,zze as rZ,qDe as r_,dYe as ra,Kze as rb,G3e as rc,JK as rd,i$e as re,N9 as rf,Xce as rg,Tme as rh,F$ as ri,xHe as rj,fpe as rk,cpe as rl,jre as rm,L6e as rn,M_e as ro,Af as rp,Mre as rq,Lre as rr,BHe as rs,tme as rt,A8e as ru,pue as rv,L9e as rw,CYe as rx,Rt as ry,ioe as rz,ht as s,jce as s$,YVe as s0,TYe as s1,Xse as s2,FA as s3,hHe as s4,xGe as s5,xie as s6,vW as s7,jh as s8,G$ as s9,Nre as sA,jA as sB,Sa as sC,i9e as sD,cYe as sE,D9e as sF,Yle as sG,R5e as sH,aCe as sI,$Ee as sJ,iqe as sK,wYe as sL,IYe as sM,nqe as sN,Y3e as sO,_Fe as sP,FYe as sQ,UYe as sR,M6e as sS,s9e as sT,ace as sU,Xg as sV,IN as sW,WUe as sX,Tne as sY,hh as sZ,oBe as s_,Hme as sa,$me as sb,gWe as sc,uw as sd,QK as se,t$e as sf,a9e as sg,JLe as sh,wVe as si,FK as sj,POe as sk,GI as sl,n8 as sm,N7e as sn,J7e as so,Z7e as sp,Bze as sq,JDe as sr,pVe as ss,Iqe as st,U7 as su,qOe as sv,Ire as sw,p7e as sx,Aw as sy,Tae as sz,Jd as t,uLe as t$,D6e as t0,kGe as t1,p9 as t2,o2e as t3,XK as t4,Yi as t5,GWe as t6,xr as t7,K7e as t8,LKe as t9,Di as tA,oXe as tB,cm as tC,U6e as tD,iXe as tE,No as tF,EYe as tG,k7e as tH,KGe as tI,due as tJ,e$e as tK,s$e as tL,r1 as tM,a8e as tN,fKe as tO,K$e as tP,X$e as tQ,Gp as tR,Jze as tS,Qze as tT,Yt as tU,Kve as tV,ca as tW,Dm as tX,wK as tY,zHe as tZ,bYe as t_,A7e as ta,tpe as tb,cRe as tc,_Pe as td,jVe as te,UVe as tf,LWe as tg,UW as th,tre as ti,VK as tj,_8e as tk,h8e as tl,p8e as tm,kKe as tn,MR as to,m5e as tp,i4e as tq,s4e as tr,_ke as ts,yXe as tt,EXe as tu,j6e as tv,PHe as tw,uXe as tx,yl as ty,Li as tz,Fae as u,Aue as u$,xke as u0,RHe as u1,Tqe as u2,Nqe as u3,lYe as u4,SSe as u5,Oqe as u6,JWe as u7,QWe as u8,ZK as u9,xDe as uA,hXe as uB,F6e as uC,fp as uD,Ise as uE,z9e as uF,f3e as uG,h3e as uH,wo as uI,yke as uJ,t9 as uK,uOe as uL,Kg as uM,n9 as uN,dOe as uO,qle as uP,XWe as uQ,KWe as uR,ZWe as uS,e9e as uT,t9e as uU,n9e as uV,r9e as uW,oRe as uX,qVe as uY,Vz as uZ,DKe as u_,x3e as ua,B7e as ub,Q7e as uc,Mse as ud,H7 as ue,YHe as uf,AWe as ug,Nm as uh,s3e as ui,rVe as uj,tYe as uk,Hze as ul,Oa as um,r3e as un,qze as uo,$ze as up,gVe as uq,c6e as ur,_3e as us,AYe as ut,Ho as uu,Fze as uv,B3e as uw,Dze as ux,Kn as uy,_G as uz,Th as v,vWe as v$,vKe as v0,KUe as v1,A0e as v2,F8 as v3,K8e as v4,D8e as v5,F8e as v6,I8e as v7,kN as v8,T$e as v9,cK as vA,XP as vB,FKe as vC,mKe as vD,rXe as vE,Kne as vF,cXe as vG,RX as vH,Pp as vI,Rp as vJ,kd as vK,Wqe as vL,uze as vM,$Ve as vN,Tke as vO,m8e as vP,jt as vQ,CKe as vR,lHe as vS,Xi as vT,OUe as vU,_Ue as vV,pf as vW,vVe as vX,HDe as vY,m7e as vZ,dae as v_,Vve as va,C9e as vb,EHe as vc,UA as vd,Dle as ve,y9e as vf,FD as vg,r$e as vh,n$e as vi,Kqe as vj,Xqe as vk,e7e as vl,Yqe as vm,fYe as vn,ZPe as vo,ZHe as vp,OWe as vq,TWe as vr,A1 as vs,ipe as vt,rpe as vu,QP as vv,ZP as vw,zP as vx,oK as vy,YP as vz,kHe as w,_Ce as w$,pWe as w0,hWe as w1,kme as w2,DSe as w3,v7e as w4,xze as w5,C7e as w6,$7e as w7,q7e as w8,V7e as w9,Uqe as wA,jqe as wB,Bqe as wC,OSe as wD,Gqe as wE,$qe as wF,lge as wG,$r as wH,Hge as wI,vq as wJ,Lr as wK,lt as wL,T_ as wM,pge as wN,uI as wO,F$e as wP,ds as wQ,Doe as wR,hqe as wS,$F as wT,IEe as wU,Bl as wV,NCe as wW,lSe as wX,uSe as wY,ICe as wZ,Wq as w_,MVe as wa,I7e as wb,VGe as wc,Sre as wd,lXe as we,uN as wf,X6 as wg,Ore as wh,Pqe as wi,Rqe as wj,Are as wk,Dqe as wl,qGe as wm,Gs as wn,H9e as wo,Moe as wp,L7e as wq,Ife as wr,Nse as ws,MKe as wt,Xu as wu,Mqe as wv,xqe as ww,kqe as wx,Lqe as wy,Fqe as wz,z4e as x,u$e as x$,Lm as x0,E3 as x1,S1 as x2,R7 as x3,Rve as x4,K6 as x5,HGe as x6,Qx as x7,sXe as x8,Zw as x9,Yn as xA,Pt as xB,jn as xC,Nv as xD,wge as xE,nu as xF,Mn as xG,BFe as xH,c7e as xI,jze as xJ,kYe as xK,jYe as xL,Wze as xM,T8e as xN,kze as xO,$De as xP,Lze as xQ,Mze as xR,S7e as xS,G7e as xT,z7e as xU,Y7e as xV,Uze as xW,Gze as xX,j7 as xY,lVe as xZ,zXe as x_,$Ge as xa,A_e as xb,Ld as xc,aXe as xd,rie as xe,FXe as xf,kVe as xg,tce as xh,JV as xi,WVe as xj,T9e as xk,OXe as xl,dle as xm,_$e as xn,Yu as xo,x6e as xp,mFe as xq,Hh as xr,Eqe as xs,f6e as xt,CHe as xu,k$e as xv,AHe as xw,u_e as xx,iVe as xy,r5e as xz,Zoe as y,FLe as y$,aVe as y0,cVe as y1,Vre as y2,GHe as y3,kRe as y4,Tg as y5,LJ as y6,GGe as y7,y0e as y8,jWe as y9,E6e as yA,E8e as yB,GKe as yC,iCe as yD,e8e as yE,HYe as yF,b7e as yG,Pze as yH,T7 as yI,tqe as yJ,G$e as yK,tXe as yL,Dq as yM,R6e as yN,P6e as yO,gqe as yP,$Le as yQ,HLe as yR,WLe as yS,Oj as yT,GLe as yU,BLe as yV,yze as yW,jLe as yX,vze as yY,gze as yZ,ULe as y_,x8 as ya,UXe as yb,Zqe as yc,Z$e as yd,Y$e as ye,x7e as yf,R7e as yg,Vze as yh,dpe as yi,fSe as yj,Mve as yk,PX as yl,mqe as ym,TVe as yn,_pe as yo,$I as yp,qe as yq,bVe as yr,kbe as ys,S8e as yt,Sze as yu,vDe as yv,yDe as yw,k8 as yx,PVe as yy,l0e as yz,MGe as z,Hm as z$,DLe as z0,LLe as z1,kLe as z2,MLe as z3,xLe as z4,RLe as z5,PLe as z6,ILe as z7,NLe as z8,ALe as z9,ww as zA,$8e as zB,LXe as zC,rne as zD,$6e as zE,H6e as zF,q6e as zG,eY as zH,RWe as zI,xWe as zJ,PWe as zK,kue as zL,hae as zM,_We as zN,B8e as zO,Fj as zP,mDe as zQ,y8e as zR,g8e as zS,cHe as zT,i8 as zU,x8e as zV,Q8e as zW,nOe as zX,H8e as zY,J8e as zZ,X8e as z_,OLe as za,TLe as zb,bLe as zc,SLe as zd,wLe as ze,Tj as zf,CLe as zg,ELe as zh,aw as zi,oR as zj,Eze as zk,Cke as zl,dDe as zm,fDe as zn,Ij as zo,pDe as zp,NN as zq,Hce as zr,kce as zs,YGe as zt,Y8e as zu,V6e as zv,ele as zw,W6e as zx,qi as zy,YWe as zz};
//# sourceMappingURL=mtk1qztvnb31pw5r.js.map
