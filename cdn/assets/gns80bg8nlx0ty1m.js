const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/fktq24fk6qxc39of.js","assets/fg33krlcm0qyi6yw.js"])))=>i.map(i=>d[i]);
var Ht=Object.defineProperty,Wt=Object.defineProperties;var Zt=Object.getOwnPropertyDescriptors;var et=Object.getOwnPropertySymbols;var qt=Object.prototype.hasOwnProperty,Vt=Object.prototype.propertyIsEnumerable;var tt=(t,e,n)=>e in t?Ht(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,P=(t,e)=>{for(var n in e||(e={}))qt.call(e,n)&&tt(t,n,e[n]);if(et)for(var n of et(e))Vt.call(e,n)&&tt(t,n,e[n]);return t},V=(t,e)=>Wt(t,Zt(e));import{h as Gt,r as h,k as Ke,_ as Xt,c as Y,j as p,M as Ce,e as Je}from"./fg33krlcm0qyi6yw.js";import{u as Yt}from"./u9jpwxvw30u3h6nc.js";import{CC as Kt,CD as Jt,ii as Qt,eN as en,BY as tn,CE as nn,bA as sn,jb as on,uU as rn,Aj as an,aC as cn,jc as ln,g1 as un}from"./k65njl5wlgspihfr.js";import{AT as fn,kd as dn,il as hn,J as mn,d9 as Tt,l as le,bg as pn,a9 as Ne,bb as gn,T as xn,gt as bn,fD as _n,hA as vn,iw as yn,nm as Mn,xf as wn,fe as Sn,o as nt,b as Cn,qt as En,d as st,aK as Ve,hg as jn}from"./mtk1qztvnb31pw5r.js";import{M as Lt}from"./kx34yg3blv92o8xp.js";const G=1e-6;let Me=typeof Float32Array<"u"?Float32Array:Array;function Nn(){const t=new Me(2);return Me!=Float32Array&&(t[0]=0,t[1]=0),t}function ot(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function Rn(t,e){return t[0]=-e[0],t[1]=-e[1],t}function Pt(t,e,n,s){const o=e[0],r=e[1];return t[0]=o+s*(n[0]-o),t[1]=r+s*(n[1]-r),t}(function(){const t=Nn();return function(e,n,s,o,r,i){let a,c;for(n||(n=2),s||(s=0),o?c=Math.min(o*n+s,e.length):c=e.length,a=s;a<c;a+=n)t[0]=e[a],t[1]=e[a+1],r(t,t,i),e[a]=t[0],e[a+1]=t[1];return e}})();function kn(){const t=new Me(3);return Me!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function Tn(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function Ln(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function Pn(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}const An=Ln;(function(){const t=kn();return function(e,n,s,o,r,i){let a,c;for(n||(n=3),s||(s=0),o?c=Math.min(o*n+s,e.length):c=e.length,a=s;a<c;a+=n)t[0]=e[a],t[1]=e[a+1],t[2]=e[a+2],r(t,t,i),e[a]=t[0],e[a+1]=t[1],e[a+2]=t[2];return e}})();function zn(t,e){const n=e[0],s=e[1],o=e[2],r=e[3],i=e[4],a=e[5],c=e[6],l=e[7],u=e[8],f=e[9],b=e[10],g=e[11],y=e[12],M=e[13],_=e[14],v=e[15],w=n*a-s*i,d=n*c-o*i,m=n*l-r*i,x=s*c-o*a,S=s*l-r*a,j=o*l-r*c,R=u*M-f*y,N=u*_-b*y,k=u*v-g*y,E=f*_-b*M,T=f*v-g*M,L=b*v-g*_;let C=w*L-d*T+m*E+x*k-S*N+j*R;return C?(C=1/C,t[0]=(a*L-c*T+l*E)*C,t[1]=(o*T-s*L-r*E)*C,t[2]=(M*j-_*S+v*x)*C,t[3]=(b*S-f*j-g*x)*C,t[4]=(c*k-i*L-l*N)*C,t[5]=(n*L-o*k+r*N)*C,t[6]=(_*m-y*j-v*d)*C,t[7]=(u*j-b*m+g*d)*C,t[8]=(i*T-a*k+l*R)*C,t[9]=(s*k-n*T-r*R)*C,t[10]=(y*S-M*m+v*w)*C,t[11]=(f*m-u*S-g*w)*C,t[12]=(a*N-i*E-c*R)*C,t[13]=(n*E-s*N+o*R)*C,t[14]=(M*d-y*x-_*w)*C,t[15]=(u*x-f*d+b*w)*C,t):null}function Ue(t,e,n){const s=e[0],o=e[1],r=e[2],i=e[3],a=e[4],c=e[5],l=e[6],u=e[7],f=e[8],b=e[9],g=e[10],y=e[11],M=e[12],_=e[13],v=e[14],w=e[15];let d=n[0],m=n[1],x=n[2],S=n[3];return t[0]=d*s+m*a+x*f+S*M,t[1]=d*o+m*c+x*b+S*_,t[2]=d*r+m*l+x*g+S*v,t[3]=d*i+m*u+x*y+S*w,d=n[4],m=n[5],x=n[6],S=n[7],t[4]=d*s+m*a+x*f+S*M,t[5]=d*o+m*c+x*b+S*_,t[6]=d*r+m*l+x*g+S*v,t[7]=d*i+m*u+x*y+S*w,d=n[8],m=n[9],x=n[10],S=n[11],t[8]=d*s+m*a+x*f+S*M,t[9]=d*o+m*c+x*b+S*_,t[10]=d*r+m*l+x*g+S*v,t[11]=d*i+m*u+x*y+S*w,d=n[12],m=n[13],x=n[14],S=n[15],t[12]=d*s+m*a+x*f+S*M,t[13]=d*o+m*c+x*b+S*_,t[14]=d*r+m*l+x*g+S*v,t[15]=d*i+m*u+x*y+S*w,t}function Ge(t,e,n){const s=n[0],o=n[1],r=n[2];let i,a,c,l,u,f,b,g,y,M,_,v;return e===t?(t[12]=e[0]*s+e[4]*o+e[8]*r+e[12],t[13]=e[1]*s+e[5]*o+e[9]*r+e[13],t[14]=e[2]*s+e[6]*o+e[10]*r+e[14],t[15]=e[3]*s+e[7]*o+e[11]*r+e[15]):(i=e[0],a=e[1],c=e[2],l=e[3],u=e[4],f=e[5],b=e[6],g=e[7],y=e[8],M=e[9],_=e[10],v=e[11],t[0]=i,t[1]=a,t[2]=c,t[3]=l,t[4]=u,t[5]=f,t[6]=b,t[7]=g,t[8]=y,t[9]=M,t[10]=_,t[11]=v,t[12]=i*s+u*o+y*r+e[12],t[13]=a*s+f*o+M*r+e[13],t[14]=c*s+b*o+_*r+e[14],t[15]=l*s+g*o+v*r+e[15]),t}function At(t,e,n){const s=n[0],o=n[1],r=n[2];return t[0]=e[0]*s,t[1]=e[1]*s,t[2]=e[2]*s,t[3]=e[3]*s,t[4]=e[4]*o,t[5]=e[5]*o,t[6]=e[6]*o,t[7]=e[7]*o,t[8]=e[8]*r,t[9]=e[9]*r,t[10]=e[10]*r,t[11]=e[11]*r,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Fn(t,e,n){const s=Math.sin(n),o=Math.cos(n),r=e[4],i=e[5],a=e[6],c=e[7],l=e[8],u=e[9],f=e[10],b=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=r*o+l*s,t[5]=i*o+u*s,t[6]=a*o+f*s,t[7]=c*o+b*s,t[8]=l*o-r*s,t[9]=u*o-i*s,t[10]=f*o-a*s,t[11]=b*o-c*s,t}function Dn(t,e,n){const s=Math.sin(n),o=Math.cos(n),r=e[0],i=e[1],a=e[2],c=e[3],l=e[4],u=e[5],f=e[6],b=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=r*o+l*s,t[1]=i*o+u*s,t[2]=a*o+f*s,t[3]=c*o+b*s,t[4]=l*o-r*s,t[5]=u*o-i*s,t[6]=f*o-a*s,t[7]=b*o-c*s,t}function In(t,e,n,s,o){const r=1/Math.tan(e/2);if(t[0]=r/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,o!=null&&o!==1/0){const i=1/(s-o);t[10]=(o+s)*i,t[14]=2*o*s*i}else t[10]=-1,t[14]=-2*s;return t}const Bn=In;function rt(t,e){const n=t[0],s=t[1],o=t[2],r=t[3],i=t[4],a=t[5],c=t[6],l=t[7],u=t[8],f=t[9],b=t[10],g=t[11],y=t[12],M=t[13],_=t[14],v=t[15],w=e[0],d=e[1],m=e[2],x=e[3],S=e[4],j=e[5],R=e[6],N=e[7],k=e[8],E=e[9],T=e[10],L=e[11],C=e[12],A=e[13],I=e[14],U=e[15];return Math.abs(n-w)<=G*Math.max(1,Math.abs(n),Math.abs(w))&&Math.abs(s-d)<=G*Math.max(1,Math.abs(s),Math.abs(d))&&Math.abs(o-m)<=G*Math.max(1,Math.abs(o),Math.abs(m))&&Math.abs(r-x)<=G*Math.max(1,Math.abs(r),Math.abs(x))&&Math.abs(i-S)<=G*Math.max(1,Math.abs(i),Math.abs(S))&&Math.abs(a-j)<=G*Math.max(1,Math.abs(a),Math.abs(j))&&Math.abs(c-R)<=G*Math.max(1,Math.abs(c),Math.abs(R))&&Math.abs(l-N)<=G*Math.max(1,Math.abs(l),Math.abs(N))&&Math.abs(u-k)<=G*Math.max(1,Math.abs(u),Math.abs(k))&&Math.abs(f-E)<=G*Math.max(1,Math.abs(f),Math.abs(E))&&Math.abs(b-T)<=G*Math.max(1,Math.abs(b),Math.abs(T))&&Math.abs(g-L)<=G*Math.max(1,Math.abs(g),Math.abs(L))&&Math.abs(y-C)<=G*Math.max(1,Math.abs(y),Math.abs(C))&&Math.abs(M-A)<=G*Math.max(1,Math.abs(M),Math.abs(A))&&Math.abs(_-I)<=G*Math.max(1,Math.abs(_),Math.abs(I))&&Math.abs(v-U)<=G*Math.max(1,Math.abs(v),Math.abs(U))}function On(){const t=new Me(4);return Me!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function Un(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t}function $n(t,e,n){const s=e[0],o=e[1],r=e[2],i=e[3];return t[0]=n[0]*s+n[4]*o+n[8]*r+n[12]*i,t[1]=n[1]*s+n[5]*o+n[9]*r+n[13]*i,t[2]=n[2]*s+n[6]*o+n[10]*r+n[14]*i,t[3]=n[3]*s+n[7]*o+n[11]*r+n[15]*i,t}(function(){const t=On();return function(e,n,s,o,r,i){let a,c;for(n||(n=4),s||(s=0),o?c=Math.min(o*n+s,e.length):c=e.length,a=s;a<c;a+=n)t[0]=e[a],t[1]=e[a+1],t[2]=e[a+2],t[3]=e[a+3],r(t,t,i),e[a]=t[0],e[a+1]=t[1],e[a+2]=t[2],e[a+3]=t[3];return e}})();function Pe(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function ye(t,e){const n=$n([],e,t);return Un(n,n,1/n[3]),n}function Xe(t,e,n){return t<e?e:t>n?n:t}function Hn(t){return Math.log(t)*Math.LOG2E}const Wn=Math.log2||Hn;function ue(t,e){if(!t)throw new Error(e||"@math.gl/web-mercator: assertion failed.")}const te=Math.PI,zt=te/4,se=te/180,Ye=180/te,je=512,it=4003e4,Le=85.051129,Ft=1.5;function Zn(t){return Math.pow(2,t)}function ve(t){const[e,n]=t;ue(Number.isFinite(e)),ue(Number.isFinite(n)&&n>=-90&&n<=90,"invalid latitude");const s=e*se,o=n*se,r=je*(s+te)/(2*te),i=je*(te+Math.log(Math.tan(zt+o*.5)))/(2*te);return[r,i]}function Ee(t){const[e,n]=t,s=e/je*(2*te)-te,o=2*(Math.atan(Math.exp(n/je*(2*te)-te))-zt);return[s*Ye,o*Ye]}function qn(t){const{latitude:e,longitude:n,highPrecision:s=!1}=t;ue(Number.isFinite(e)&&Number.isFinite(n));const o=je,r=Math.cos(e*se),i=o/360,a=i/r,c=o/it/r,l={unitsPerMeter:[c,c,c],metersPerUnit:[1/c,1/c,1/c],unitsPerDegree:[i,a,c],degreesPerUnit:[1/i,1/a,1/c]};if(s){const u=se*Math.tan(e*se)/r,f=i*u/2,b=o/it*u,g=b/a*c;l.unitsPerDegree2=[0,f,b],l.unitsPerMeter2=[g,0,g]}return l}function Vn(t){const{height:e,pitch:n,bearing:s,altitude:o,scale:r,center:i}=t,a=Pe();Ge(a,a,[0,0,-o]),Fn(a,a,-n*se),Dn(a,a,s*se);const c=r/e;return At(a,a,[c,c,c]),i&&Ge(a,a,Pn([],i)),a}function Gn(t){const{width:e,height:n,altitude:s,pitch:o=0,offset:r,center:i,scale:a,nearZMultiplier:c=1,farZMultiplier:l=1}=t;let{fovy:u=Ae(Ft)}=t;s!==void 0&&(u=Ae(s));const f=u*se,b=o*se,g=Dt(u);let y=g;i&&(y+=i[2]*a/Math.cos(b)/n);const M=f*(.5+(r?r[1]:0)/n),_=Math.sin(M)*y/Math.sin(Xe(Math.PI/2-b-M,.01,Math.PI-.01)),v=Math.sin(b)*_+y,w=y*10,d=Math.min(v*l,w);return{fov:f,aspect:e/n,focalDistance:g,near:c,far:d}}function Xn(t){const{fov:e,aspect:n,near:s,far:o}=Gn(t);return Bn([],e,n,s,o)}function Ae(t){return 2*Math.atan(.5/t)*Ye}function Dt(t){return .5/Math.tan(.5*t*se)}function Yn(t,e){const[n,s,o=0]=t;return ue(Number.isFinite(n)&&Number.isFinite(s)&&Number.isFinite(o)),ye(e,[n,s,o,1])}function at(t,e,n=0){const[s,o,r]=t;if(ue(Number.isFinite(s)&&Number.isFinite(o),"invalid pixel coordinate"),Number.isFinite(r))return ye(e,[s,o,r,1]);const i=ye(e,[s,o,0,1]),a=ye(e,[s,o,1,1]),c=i[2],l=a[2],u=c===l?0:((n||0)-c)/(l-c);return Pt([],i,a,u)}function Kn(t){const{width:e,height:n,bounds:s,minExtent:o=0,maxZoom:r=24,offset:i=[0,0]}=t,[[a,c],[l,u]]=s,f=Jn(t.padding),b=ve([a,Xe(u,-Le,Le)]),g=ve([l,Xe(c,-Le,Le)]),y=[Math.max(Math.abs(g[0]-b[0]),o),Math.max(Math.abs(g[1]-b[1]),o)],M=[e-f.left-f.right-Math.abs(i[0])*2,n-f.top-f.bottom-Math.abs(i[1])*2];ue(M[0]>0&&M[1]>0);const _=M[0]/y[0],v=M[1]/y[1],w=(f.right-f.left)/2/_,d=(f.top-f.bottom)/2/v,m=[(g[0]+b[0])/2+w,(g[1]+b[1])/2+d],x=Ee(m),S=Math.min(r,Wn(Math.abs(Math.min(_,v))));return ue(Number.isFinite(S)),{longitude:x[0],latitude:x[1],zoom:S}}function Jn(t=0){return typeof t=="number"?{top:t,bottom:t,left:t,right:t}:(ue(Number.isFinite(t.top)&&Number.isFinite(t.bottom)&&Number.isFinite(t.left)&&Number.isFinite(t.right)),t)}const ct=Math.PI/180;function Qn(t,e=0){const{width:n,height:s,unproject:o}=t,r={targetZ:e},i=o([0,s],r),a=o([n,s],r);let c,l;const u=t.fovy?.5*t.fovy*ct:Math.atan(.5/t.altitude),f=(90-t.pitch)*ct;return u>f-.01?(c=lt(t,0,e),l=lt(t,n,e)):(c=o([0,0],r),l=o([n,0],r)),[i,a,l,c]}function lt(t,e,n){const{pixelUnprojectionMatrix:s}=t,o=ye(s,[e,0,1,1]),r=ye(s,[e,t.height,1,1]),a=(n*t.distanceScales.unitsPerMeter[2]-o[2])/(r[2]-o[2]),c=Pt([],o,r,a),l=Ee(c);return l.push(n),l}class ze{constructor(e={width:1,height:1}){this.equals=v=>v instanceof ze?v.width===this.width&&v.height===this.height&&rt(v.projectionMatrix,this.projectionMatrix)&&rt(v.viewMatrix,this.viewMatrix):!1,this.project=(v,w={})=>{const{topLeft:d=!0}=w,m=this.projectPosition(v),x=Yn(m,this.pixelProjectionMatrix),[S,j]=x,R=d?j:this.height-j;return v.length===2?[S,R]:[S,R,x[2]]},this.unproject=(v,w={})=>{const{topLeft:d=!0,targetZ:m=void 0}=w,[x,S,j]=v,R=d?S:this.height-S,N=m&&m*this.distanceScales.unitsPerMeter[2],k=at([x,R,j],this.pixelUnprojectionMatrix,N),[E,T,L]=this.unprojectPosition(k);return Number.isFinite(j)?[E,T,L]:Number.isFinite(m)?[E,T,m]:[E,T]},this.projectPosition=v=>{const[w,d]=ve(v),m=(v[2]||0)*this.distanceScales.unitsPerMeter[2];return[w,d,m]},this.unprojectPosition=v=>{const[w,d]=Ee(v),m=(v[2]||0)*this.distanceScales.metersPerUnit[2];return[w,d,m]};let{width:n,height:s,altitude:o=null,fovy:r=null}=e;const{latitude:i=0,longitude:a=0,zoom:c=0,pitch:l=0,bearing:u=0,position:f=null,nearZMultiplier:b=.02,farZMultiplier:g=1.01}=e;n=n||1,s=s||1,r===null&&o===null?(o=Ft,r=Ae(o)):r===null?r=Ae(o):o===null&&(o=Dt(r));const y=Zn(c);o=Math.max(.75,o);const M=qn({longitude:a,latitude:i}),_=ve([a,i]);_.push(0),f&&Tn(_,_,An([],f,M.unitsPerMeter)),this.projectionMatrix=Xn({width:n,height:s,scale:y,center:_,pitch:l,fovy:r,nearZMultiplier:b,farZMultiplier:g}),this.viewMatrix=Vn({height:s,scale:y,center:_,pitch:l,bearing:u,altitude:o}),this.width=n,this.height=s,this.scale=y,this.latitude=i,this.longitude=a,this.zoom=c,this.pitch=l,this.bearing=u,this.altitude=o,this.fovy=r,this.center=_,this.meterOffset=f||[0,0,0],this.distanceScales=M,this._initMatrices(),Object.freeze(this)}_initMatrices(){const{width:e,height:n,projectionMatrix:s,viewMatrix:o}=this,r=Pe();Ue(r,r,s),Ue(r,r,o),this.viewProjectionMatrix=r;const i=Pe();At(i,i,[e/2,-n/2,1]),Ge(i,i,[1,-1,0]),Ue(i,i,r);const a=zn(Pe(),i);if(!a)throw new Error("Pixel project matrix not invertible");this.pixelProjectionMatrix=i,this.pixelUnprojectionMatrix=a}projectFlat(e){return ve(e)}unprojectFlat(e){return Ee(e)}getMapCenterByLngLatPosition({lngLat:e,pos:n}){const s=at(n,this.pixelUnprojectionMatrix),o=ve(e),r=ot([],o,Rn([],s)),i=ot([],this.center,r);return Ee(i)}fitBounds(e,n={}){const{width:s,height:o}=this,{longitude:r,latitude:i,zoom:a}=Kn(Object.assign({width:s,height:o,bounds:e},n));return new ze({width:s,height:o,longitude:r,latitude:i,zoom:a})}getBounds(e){const n=this.getBoundingRegion(e),s=Math.min(...n.map(a=>a[0])),o=Math.max(...n.map(a=>a[0])),r=Math.min(...n.map(a=>a[1])),i=Math.max(...n.map(a=>a[1]));return[[s,r],[o,i]]}getBoundingRegion(e={}){return Qn(this,e.z||0)}getLocationAtPoint({lngLat:e,pos:n}){return this.getMapCenterByLngLatPosition({lngLat:e,pos:n})}}function es(t,e,n={}){const s={type:"Feature"};return(n.id===0||n.id)&&(s.id=n.id),n.bbox&&(s.bbox=n.bbox),s.properties=e||{},s.geometry=t,s}function It(t,e,n={}){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!ut(t[0])||!ut(t[1]))throw new Error("coordinates must contain numbers");return es({type:"Point",coordinates:t},e,n)}function ts(t,e={}){const n={type:"FeatureCollection"};return e.id&&(n.id=e.id),e.bbox&&(n.bbox=e.bbox),n.features=t,n}function ut(t){return!isNaN(t)&&t!==null&&!Array.isArray(t)}function Bt(t,e,n){if(t!==null)for(var s,o,r,i,a,c,l,u=0,f=0,b,g=t.type,y=g==="FeatureCollection",M=g==="Feature",_=y?t.features.length:1,v=0;v<_;v++){l=y?t.features[v].geometry:M?t.geometry:t,b=l?l.type==="GeometryCollection":!1,a=b?l.geometries.length:1;for(var w=0;w<a;w++){var d=0,m=0;if(i=b?l.geometries[w]:l,i!==null){c=i.coordinates;var x=i.type;switch(u=0,x){case null:break;case"Point":if(e(c,f,v,d,m)===!1)return!1;f++,d++;break;case"LineString":case"MultiPoint":for(s=0;s<c.length;s++){if(e(c[s],f,v,d,m)===!1)return!1;f++,x==="MultiPoint"&&d++}x==="LineString"&&d++;break;case"Polygon":case"MultiLineString":for(s=0;s<c.length;s++){for(o=0;o<c[s].length-u;o++){if(e(c[s][o],f,v,d,m)===!1)return!1;f++}x==="MultiLineString"&&d++,x==="Polygon"&&m++}x==="Polygon"&&d++;break;case"MultiPolygon":for(s=0;s<c.length;s++){for(m=0,o=0;o<c[s].length;o++){for(r=0;r<c[s][o].length-u;r++){if(e(c[s][o][r],f,v,d,m)===!1)return!1;f++}m++}d++}break;case"GeometryCollection":for(s=0;s<i.geometries.length;s++)if(Bt(i.geometries[s],e)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function Ot(t,e={}){if(t.bbox!=null&&e.recompute!==!0)return t.bbox;const n=[1/0,1/0,-1/0,-1/0];return Bt(t,s=>{n[0]>s[0]&&(n[0]=s[0]),n[1]>s[1]&&(n[1]=s[1]),n[2]<s[0]&&(n[2]=s[0]),n[3]<s[1]&&(n[3]=s[1])}),n}var ns=Ot;function ss(t,e={}){const n=Ot(t),s=(n[0]+n[2])/2,o=(n[1]+n[3])/2;return It([s,o],e.properties,e)}var os=ss,$e,ft;function rs(){if(ft)return $e;ft=1;var t=fn(),e=dn(),n=hn(),s=mn(),o=t.isFinite,r=Math.min;function i(a){var c=Math[a];return function(l,u){if(l=n(l),u=u==null?0:r(e(u),292),u&&o(l)){var f=(s(l)+"e").split("e"),b=c(f[0]+"e"+(+f[1]+u));return f=(s(b)+"e").split("e"),+(f[0]+"e"+(+f[1]-u))}return c(l)}}return $e=i,$e}var He,dt;function is(){if(dt)return He;dt=1;var t=rs(),e=t("round");return He=e,He}var as=is();const ce=Gt(as),cs=h.createContext(null);function ls(t,e){const n=Array.isArray(t)?t[0]:t?t.x:0,s=Array.isArray(t)?t[1]:t?t.y:0,o=Array.isArray(e)?e[0]:e?e.x:0,r=Array.isArray(e)?e[1]:e?e.y:0;return n===o&&s===r}function ie(t,e){if(t===e)return!0;if(!t||!e)return!1;if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!ie(t[n],e[n]))return!1;return!0}else if(Array.isArray(e))return!1;if(typeof t=="object"&&typeof e=="object"){const n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(const o of n)if(!e.hasOwnProperty(o)||!ie(t[o],e[o]))return!1;return!0}return!1}function us(t){const e=t.clone();return e.pixelsToGLUnits=t.pixelsToGLUnits,e}function ht(t,e){if(!t.getProjection)return;const n=t.getProjection(),s=e.getProjection();ie(n,s)||e.setProjection(n)}function mt(t){return{longitude:t.center.lng,latitude:t.center.lat,zoom:t.zoom,pitch:t.pitch,bearing:t.bearing,padding:t.padding}}function pt(t,e){const n=e.viewState||e;let s=!1;if("longitude"in n&&"latitude"in n){const o=t.center;t.center=new o.constructor(n.longitude,n.latitude),s=s||o!==t.center}if("zoom"in n){const o=t.zoom;t.zoom=n.zoom,s=s||o!==t.zoom}if("bearing"in n){const o=t.bearing;t.bearing=n.bearing,s=s||o!==t.bearing}if("pitch"in n){const o=t.pitch;t.pitch=n.pitch,s=s||o!==t.pitch}return n.padding&&!t.isPaddingEqual(n.padding)&&(s=!0,t.padding=n.padding),s}const fs=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function gt(t){if(!t)return null;if(typeof t=="string"||("toJS"in t&&(t=t.toJS()),!t.layers))return t;const e={};for(const s of t.layers)e[s.id]=s;const n=t.layers.map(s=>{let o=null;"interactive"in s&&(o=Object.assign({},s),delete o.interactive);const r=e[s.ref];if(r){o=o||Object.assign({},s),delete o.ref;for(const i of fs)i in r&&(o[i]=r[i])}return o||s});return V(P({},t),{layers:n})}var xt={};const bt={version:8,sources:{},layers:[]},_t={mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",click:"onClick",dblclick:"onDblClick",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mouseout:"onMouseOut",contextmenu:"onContextMenu",touchstart:"onTouchStart",touchend:"onTouchEnd",touchmove:"onTouchMove",touchcancel:"onTouchCancel"},We={movestart:"onMoveStart",move:"onMove",moveend:"onMoveEnd",dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd",zoomstart:"onZoomStart",zoom:"onZoom",zoomend:"onZoomEnd",rotatestart:"onRotateStart",rotate:"onRotate",rotateend:"onRotateEnd",pitchstart:"onPitchStart",pitch:"onPitch",pitchend:"onPitchEnd"},vt={wheel:"onWheel",boxzoomstart:"onBoxZoomStart",boxzoomend:"onBoxZoomEnd",boxzoomcancel:"onBoxZoomCancel",resize:"onResize",load:"onLoad",render:"onRender",idle:"onIdle",remove:"onRemove",data:"onData",styledata:"onStyleData",sourcedata:"onSourceData",error:"onError"},ds=["minZoom","maxZoom","minPitch","maxPitch","maxBounds","projection","renderWorldCopies"],hs=["scrollZoom","boxZoom","dragRotate","dragPan","keyboard","doubleClickZoom","touchZoomRotate","touchPitch"];class we{constructor(e,n,s){this._map=null,this._internalUpdate=!1,this._inRender=!1,this._hoveredFeatures=null,this._deferredEvents={move:!1,zoom:!1,pitch:!1,rotate:!1},this._onEvent=o=>{const r=this.props[vt[o.type]];r?r(o):o.type==="error"&&console.error(o.error)},this._onPointerEvent=o=>{(o.type==="mousemove"||o.type==="mouseout")&&this._updateHover(o);const r=this.props[_t[o.type]];r&&(this.props.interactiveLayerIds&&o.type!=="mouseover"&&o.type!=="mouseout"&&(o.features=this._hoveredFeatures||this._queryRenderedFeatures(o.point)),r(o),delete o.features)},this._onCameraEvent=o=>{if(!this._internalUpdate){const r=this.props[We[o.type]];r&&r(o)}o.type in this._deferredEvents&&(this._deferredEvents[o.type]=!1)},this._MapClass=e,this.props=n,this._initialize(s)}get map(){return this._map}get transform(){return this._renderTransform}setProps(e){const n=this.props;this.props=e;const s=this._updateSettings(e,n);s&&this._createShadowTransform(this._map);const o=this._updateSize(e),r=this._updateViewState(e,!0);this._updateStyle(e,n),this._updateStyleComponents(e,n),this._updateHandlers(e,n),(s||o||r&&!this._map.isMoving())&&this.redraw()}static reuse(e,n){const s=we.savedMaps.pop();if(!s)return null;const o=s.map,r=o.getContainer();for(n.className=r.className;r.childNodes.length>0;)n.appendChild(r.childNodes[0]);o._container=n;const i=o._resizeObserver;i&&(i.disconnect(),i.observe(n)),s.setProps(V(P({},e),{styleDiffing:!1})),o.resize();const{initialViewState:a}=e;return a&&(a.bounds?o.fitBounds(a.bounds,V(P({},a.fitBoundsOptions),{duration:0})):s._updateViewState(a,!1)),o.isStyleLoaded()?o.fire("load"):o.once("styledata",()=>o.fire("load")),o._update(),s}_initialize(e){const{props:n}=this,{mapStyle:s=bt}=n,o=V(P(P({},n),n.initialViewState),{accessToken:n.mapboxAccessToken||ms()||null,container:e,style:gt(s)}),r=o.initialViewState||o.viewState||o;if(Object.assign(o,{center:[r.longitude||0,r.latitude||0],zoom:r.zoom||0,pitch:r.pitch||0,bearing:r.bearing||0}),n.gl){const u=HTMLCanvasElement.prototype.getContext;HTMLCanvasElement.prototype.getContext=()=>(HTMLCanvasElement.prototype.getContext=u,n.gl)}const i=new this._MapClass(o);r.padding&&i.setPadding(r.padding),n.cursor&&(i.getCanvas().style.cursor=n.cursor),this._createShadowTransform(i);const a=i._render;i._render=u=>{this._inRender=!0,a.call(i,u),this._inRender=!1};const c=i._renderTaskQueue.run;i._renderTaskQueue.run=u=>{c.call(i._renderTaskQueue,u),this._onBeforeRepaint()},i.on("render",()=>this._onAfterRepaint());const l=i.fire;i.fire=this._fireEvent.bind(this,l),i.on("resize",()=>{this._renderTransform.resize(i.transform.width,i.transform.height)}),i.on("styledata",()=>{this._updateStyleComponents(this.props,{}),ht(i.transform,this._renderTransform)}),i.on("sourcedata",()=>this._updateStyleComponents(this.props,{}));for(const u in _t)i.on(u,this._onPointerEvent);for(const u in We)i.on(u,this._onCameraEvent);for(const u in vt)i.on(u,this._onEvent);this._map=i}recycle(){const n=this.map.getContainer().querySelector("[mapboxgl-children]");n==null||n.remove(),we.savedMaps.push(this)}destroy(){this._map.remove()}redraw(){const e=this._map;!this._inRender&&e.style&&(e._frame&&(e._frame.cancel(),e._frame=null),e._render())}_createShadowTransform(e){const n=us(e.transform);e.painter.transform=n,this._renderTransform=n}_updateSize(e){const{viewState:n}=e;if(n){const s=this._map;if(n.width!==s.transform.width||n.height!==s.transform.height)return s.resize(),!0}return!1}_updateViewState(e,n){if(this._internalUpdate)return!1;const s=this._map,o=this._renderTransform,{zoom:r,pitch:i,bearing:a}=o,c=s.isMoving();c&&(o.cameraElevationReference="sea");const l=pt(o,P(P({},mt(s.transform)),e));if(c&&(o.cameraElevationReference="ground"),l&&n){const u=this._deferredEvents;u.move=!0,u.zoom||(u.zoom=r!==o.zoom),u.rotate||(u.rotate=a!==o.bearing),u.pitch||(u.pitch=i!==o.pitch)}return c||pt(s.transform,e),l}_updateSettings(e,n){const s=this._map;let o=!1;for(const r of ds)if(r in e&&!ie(e[r],n[r])){o=!0;const i=s["set".concat(r[0].toUpperCase()).concat(r.slice(1))];i==null||i.call(s,e[r])}return o}_updateStyle(e,n){if(e.cursor!==n.cursor&&(this._map.getCanvas().style.cursor=e.cursor||""),e.mapStyle!==n.mapStyle){const{mapStyle:s=bt,styleDiffing:o=!0}=e,r={diff:o};return"localIdeographFontFamily"in e&&(r.localIdeographFontFamily=e.localIdeographFontFamily),this._map.setStyle(gt(s),r),!0}return!1}_updateStyleComponents(e,n){const s=this._map;let o=!1;return s.isStyleLoaded()&&("light"in e&&s.setLight&&!ie(e.light,n.light)&&(o=!0,s.setLight(e.light)),"fog"in e&&s.setFog&&!ie(e.fog,n.fog)&&(o=!0,s.setFog(e.fog)),"terrain"in e&&s.setTerrain&&!ie(e.terrain,n.terrain)&&(!e.terrain||s.getSource(e.terrain.source))&&(o=!0,s.setTerrain(e.terrain))),o}_updateHandlers(e,n){var s,o;const r=this._map;let i=!1;for(const a of hs){const c=(s=e[a])!==null&&s!==void 0?s:!0,l=(o=n[a])!==null&&o!==void 0?o:!0;ie(c,l)||(i=!0,c?r[a].enable(c):r[a].disable())}return i}_queryRenderedFeatures(e){const n=this._map,s=n.transform,{interactiveLayerIds:o=[]}=this.props;try{return n.transform=this._renderTransform,n.queryRenderedFeatures(e,{layers:o.filter(n.getLayer.bind(n))})}catch(r){return[]}finally{n.transform=s}}_updateHover(e){var n;const{props:s}=this;if(s.interactiveLayerIds&&(s.onMouseMove||s.onMouseEnter||s.onMouseLeave)){const r=e.type,i=((n=this._hoveredFeatures)===null||n===void 0?void 0:n.length)>0,a=this._queryRenderedFeatures(e.point),c=a.length>0;!c&&i&&(e.type="mouseleave",this._onPointerEvent(e)),this._hoveredFeatures=a,c&&!i&&(e.type="mouseenter",this._onPointerEvent(e)),e.type=r}else this._hoveredFeatures=null}_fireEvent(e,n,s){const o=this._map,r=o.transform,i=typeof n=="string"?n:n.type;return i==="move"&&this._updateViewState(this.props,!1),i in We&&(typeof n=="object"&&(n.viewState=mt(r)),this._map.isMoving())?(o.transform=this._renderTransform,e.call(o,n,s),o.transform=r,o):(e.call(o,n,s),o)}_onBeforeRepaint(){const e=this._map;this._internalUpdate=!0;for(const s in this._deferredEvents)this._deferredEvents[s]&&e.fire(s);this._internalUpdate=!1;const n=this._map.transform;e.transform=this._renderTransform,this._onAfterRepaint=()=>{ht(this._renderTransform,n),e.transform=n}}}we.savedMaps=[];function ms(){let t=null;if(typeof location<"u"){const e=/access_token=([^&\/]*)/.exec(location.search);t=e&&e[1]}try{t=t||xt.MapboxAccessToken}catch(e){}try{t=t||xt.REACT_APP_MAPBOX_ACCESS_TOKEN}catch(e){}return t}const ps=["setMaxBounds","setMinZoom","setMaxZoom","setMinPitch","setMaxPitch","setRenderWorldCopies","setProjection","setStyle","addSource","removeSource","addLayer","removeLayer","setLayerZoomRange","setFilter","setPaintProperty","setLayoutProperty","setLight","setTerrain","setFog","remove"];function gs(t){if(!t)return null;const e=t.map,n={getMap:()=>e,getCenter:()=>t.transform.center,getZoom:()=>t.transform.zoom,getBearing:()=>t.transform.bearing,getPitch:()=>t.transform.pitch,getPadding:()=>t.transform.padding,getBounds:()=>t.transform.getBounds(),project:s=>{const o=e.transform;e.transform=t.transform;const r=e.project(s);return e.transform=o,r},unproject:s=>{const o=e.transform;e.transform=t.transform;const r=e.unproject(s);return e.transform=o,r},queryTerrainElevation:(s,o)=>{const r=e.transform;e.transform=t.transform;const i=e.queryTerrainElevation(s,o);return e.transform=r,i},queryRenderedFeatures:(s,o)=>{const r=e.transform;e.transform=t.transform;const i=e.queryRenderedFeatures(s,o);return e.transform=r,i}};for(const s of xs(e))!(s in n)&&!ps.includes(s)&&(n[s]=e[s].bind(e));return n}function xs(t){const e=new Set;let n=t;for(;n;){for(const s of Object.getOwnPropertyNames(n))s[0]!=="_"&&typeof t[s]=="function"&&s!=="fire"&&s!=="setEventedParent"&&e.add(s);n=Object.getPrototypeOf(n)}return Array.from(e)}const bs=typeof document<"u"?h.useLayoutEffect:h.useEffect,_s=["baseApiUrl","maxParallelImageRequests","workerClass","workerCount","workerUrl"];function vs(t,e){for(const s of _s)s in e&&(t[s]=e[s]);const{RTLTextPlugin:n="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-rtl-text/v0.2.3/mapbox-gl-rtl-text.js"}=e;n&&t.getRTLTextPluginStatus&&t.getRTLTextPluginStatus()==="unavailable"&&t.setRTLTextPlugin(n,s=>{s&&console.error(s)},!0)}const Fe=h.createContext(null);function ys(t,e,n){const s=h.useContext(cs),[o,r]=h.useState(null),i=h.useRef(),{current:a}=h.useRef({mapLib:null,map:null});h.useEffect(()=>{const u=t.mapLib;let f=!0,b;return Promise.resolve(u||n).then(g=>{if(!f)return;if(!g)throw new Error("Invalid mapLib");const y="Map"in g?g:g.default;if(!y.Map)throw new Error("Invalid mapLib");if(vs(y,t),!y.supported||y.supported(t))t.reuseMaps&&(b=we.reuse(t,i.current)),b||(b=new we(y.Map,t,i.current)),a.map=gs(b),a.mapLib=y,r(b),s==null||s.onMapMount(a.map,t.id);else throw new Error("Map is not supported by this browser")}).catch(g=>{const{onError:y}=t;y?y({type:"error",target:null,originalEvent:null,error:g}):console.error(g)}),()=>{f=!1,b&&(s==null||s.onMapUnmount(t.id),t.reuseMaps?b.recycle():b.destroy())}},[]),bs(()=>{o&&o.setProps(t)}),h.useImperativeHandle(e,()=>a.map,[o]);const c=h.useMemo(()=>P({position:"relative",width:"100%",height:"100%"},t.style),[t.style]),l={height:"100%"};return h.createElement("div",{id:t.id,ref:i,style:c},o&&h.createElement(Fe.Provider,{value:a},h.createElement("div",{"mapboxgl-children":"",style:l},t.children)))}const Ms=/box|flex|grid|column|lineHeight|fontWeight|opacity|order|tabSize|zIndex/;function he(t,e){if(!t||!e)return;const n=t.style;for(const s in e){const o=e[s];Number.isFinite(o)&&!Ms.test(s)?n[s]="".concat(o,"px"):n[s]=o}}function ws(t,e){const{map:n,mapLib:s}=h.useContext(Fe),o=h.useRef({props:t});o.current.props=t;const r=h.useMemo(()=>{let M=!1;h.Children.forEach(t.children,w=>{w&&(M=!0)});const _=V(P({},t),{element:M?document.createElement("div"):null}),v=new s.Marker(_);return v.setLngLat([t.longitude,t.latitude]),v.getElement().addEventListener("click",w=>{var d,m;(m=(d=o.current.props).onClick)===null||m===void 0||m.call(d,{type:"click",target:v,originalEvent:w})}),v.on("dragstart",w=>{var d,m;const x=w;x.lngLat=r.getLngLat(),(m=(d=o.current.props).onDragStart)===null||m===void 0||m.call(d,x)}),v.on("drag",w=>{var d,m;const x=w;x.lngLat=r.getLngLat(),(m=(d=o.current.props).onDrag)===null||m===void 0||m.call(d,x)}),v.on("dragend",w=>{var d,m;const x=w;x.lngLat=r.getLngLat(),(m=(d=o.current.props).onDragEnd)===null||m===void 0||m.call(d,x)}),v},[]);h.useEffect(()=>(r.addTo(n.getMap()),()=>{r.remove()}),[]);const{longitude:i,latitude:a,offset:c,style:l,draggable:u=!1,popup:f=null,rotation:b=0,rotationAlignment:g="auto",pitchAlignment:y="auto"}=t;return h.useEffect(()=>{he(r.getElement(),l)},[l]),h.useImperativeHandle(e,()=>r,[]),(r.getLngLat().lng!==i||r.getLngLat().lat!==a)&&r.setLngLat([i,a]),c&&!ls(r.getOffset(),c)&&r.setOffset(c),r.isDraggable()!==u&&r.setDraggable(u),r.getRotation()!==b&&r.setRotation(b),r.getRotationAlignment()!==g&&r.setRotationAlignment(g),r.getPitchAlignment()!==y&&r.setPitchAlignment(y),r.getPopup()!==f&&r.setPopup(f),Ke.createPortal(t.children,r.getElement())}const Ss=h.memo(h.forwardRef(ws));function yt(t){return new Set(t?t.trim().split(/\s+/):[])}function Cs(t,e){const{map:n,mapLib:s}=h.useContext(Fe),o=h.useMemo(()=>document.createElement("div"),[]),r=h.useRef({props:t});r.current.props=t;const i=h.useMemo(()=>{const a=P({},t),c=new s.Popup(a);return c.setLngLat([t.longitude,t.latitude]),c.once("open",l=>{var u,f;(f=(u=r.current.props).onOpen)===null||f===void 0||f.call(u,l)}),c},[]);if(h.useEffect(()=>{const a=c=>{var l,u;(u=(l=r.current.props).onClose)===null||u===void 0||u.call(l,c)};return i.on("close",a),i.setDOMContent(o).addTo(n.getMap()),()=>{i.off("close",a),i.isOpen()&&i.remove()}},[]),h.useEffect(()=>{he(i.getElement(),t.style)},[t.style]),h.useImperativeHandle(e,()=>i,[]),i.isOpen()&&((i.getLngLat().lng!==t.longitude||i.getLngLat().lat!==t.latitude)&&i.setLngLat([t.longitude,t.latitude]),t.offset&&!ie(i.options.offset,t.offset)&&i.setOffset(t.offset),(i.options.anchor!==t.anchor||i.options.maxWidth!==t.maxWidth)&&(i.options.anchor=t.anchor,i.setMaxWidth(t.maxWidth)),i.options.className!==t.className)){const a=yt(i.options.className),c=yt(t.className);for(const l of a)c.has(l)||i.removeClassName(l);for(const l of c)a.has(l)||i.addClassName(l);i.options.className=t.className}return Ke.createPortal(t.children,o)}h.memo(h.forwardRef(Cs));function Se(t,e,n,s){const o=h.useContext(Fe),r=h.useMemo(()=>t(o),[]);return h.useEffect(()=>{const i=e,a=null,c=typeof e=="function"?e:null,{map:l}=o;return l.hasControl(r)||(l.addControl(r,i==null?void 0:i.position),a&&a(o)),()=>{c&&c(o),l.hasControl(r)&&l.removeControl(r)}},[]),r}function Es(t){const e=Se(({mapLib:n})=>new n.AttributionControl(t),{position:t.position});return h.useEffect(()=>{he(e._container,t.style)},[t.style]),null}h.memo(Es);function js(t){const e=Se(({mapLib:n})=>new n.FullscreenControl({container:t.containerId&&document.getElementById(t.containerId)}),{position:t.position});return h.useEffect(()=>{he(e._controlContainer,t.style)},[t.style]),null}h.memo(js);function Ns(t,e){const n=h.useRef({props:t}),s=Se(({mapLib:o})=>{const r=new o.GeolocateControl(t),i=r._setupUI;return r._setupUI=a=>{r._container.hasChildNodes()||i(a)},r.on("geolocate",a=>{var c,l;(l=(c=n.current.props).onGeolocate)===null||l===void 0||l.call(c,a)}),r.on("error",a=>{var c,l;(l=(c=n.current.props).onError)===null||l===void 0||l.call(c,a)}),r.on("outofmaxbounds",a=>{var c,l;(l=(c=n.current.props).onOutOfMaxBounds)===null||l===void 0||l.call(c,a)}),r.on("trackuserlocationstart",a=>{var c,l;(l=(c=n.current.props).onTrackUserLocationStart)===null||l===void 0||l.call(c,a)}),r.on("trackuserlocationend",a=>{var c,l;(l=(c=n.current.props).onTrackUserLocationEnd)===null||l===void 0||l.call(c,a)}),r},{position:t.position});return n.current.props=t,h.useImperativeHandle(e,()=>s,[]),h.useEffect(()=>{he(s._container,t.style)},[t.style]),null}h.memo(h.forwardRef(Ns));function Rs(t){const e=Se(({mapLib:n})=>new n.NavigationControl(t),{position:t.position});return h.useEffect(()=>{he(e._container,t.style)},[t.style]),null}const ks=h.memo(Rs);function Ts(t){const e=Se(({mapLib:r})=>new r.ScaleControl(t),{position:t.position}),n=h.useRef(t),s=n.current;n.current=t;const{style:o}=t;return t.maxWidth!==void 0&&t.maxWidth!==s.maxWidth&&(e.options.maxWidth=t.maxWidth),t.unit!==void 0&&t.unit!==s.unit&&e.setUnit(t.unit),h.useEffect(()=>{he(e._container,o)},[o]),null}h.memo(Ts);const Ls=Xt(()=>import("./fktq24fk6qxc39of.js").then(t=>t.m),__vite__mapDeps([0,1])),Ps=h.forwardRef(function(e,n){return ys(e,n,Ls)}),Ut=Ss,As=ks,zs=t=>h.createElement("svg",P({width:34,height:34,viewBox:"0 0 34 34",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),h.createElement("g",{filter:"url(#filter0_dd_735_10617)"},h.createElement("path",{d:"M17 24C21.9706 24 26 19.9706 26 15C26 10.0294 21.9706 6 17 6C12.0294 6 8 10.0294 8 15C8 19.9706 12.0294 24 17 24Z",fill:"#0088FF",style:{fill:"#0088ff",fill:"color(display-p3 0 0.5333 1)",fillOpacity:1}}),h.createElement("path",{d:"M24.5 15C24.5 19.1421 21.1421 22.5 17 22.5C12.8579 22.5 9.5 19.1421 9.5 15C9.5 10.8579 12.8579 7.5 17 7.5C21.1421 7.5 24.5 10.8579 24.5 15Z",stroke:"white",style:{stroke:"white",strokeOpacity:1},strokeWidth:3})),h.createElement("defs",null,h.createElement("filter",{id:"filter0_dd_735_10617",x:0,y:0,width:34,height:34,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},h.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),h.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),h.createElement("feOffset",{dy:2}),h.createElement("feGaussianBlur",{stdDeviation:4}),h.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),h.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),h.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_735_10617"}),h.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),h.createElement("feOffset",{dy:1}),h.createElement("feGaussianBlur",{stdDeviation:.5}),h.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),h.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.05 0"}),h.createElement("feBlend",{mode:"normal",in2:"effect1_dropShadow_735_10617",result:"effect2_dropShadow_735_10617"}),h.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect2_dropShadow_735_10617",result:"shape"}))));function Fs(t){"use forget";var fe;const e=Y.c(64),{isSelected:n,idx:s,business:o,trackContentReferenceEvent:r,onOpenEntity:i,enableSidebarNavigation:a,showActions:c,imageClassName:l,onHoverEnter:u,onHoverLeave:f}=t,b=l===void 0?"h-23 w-23":l,g=!Tt();let y;e[0]!==s?(y={section:"map",section_location:"response",section_index:s},e[0]=s,e[1]=y):y=e[1];const M=y,_=(fe=o.image_urls)==null?void 0:fe[0],v=u!=null&&f!=null;let w;e[2]===Symbol.for("react.memo_cache_sentinel")?(w={x:"0%",opacity:0,pointerEvents:"none",transition:{duration:.1,ease:"easeOut"}},e[2]=w):w=e[2];let d;e[3]===Symbol.for("react.memo_cache_sentinel")?(d={x:"0%",opacity:1,pointerEvents:"auto",transition:{duration:.15,ease:"easeOut"}},e[3]=d):d=e[3];const m=n?"bg-token-bg-tertiary":"bg-token-bg-primary",x=v&&"hover:bg-token-bg-tertiary";let S;e[4]!==m||e[5]!==x?(S=le("relative border-red-400 text-start font-normal transition-colors duration-300",m,x),e[4]=m,e[5]=x,e[6]=S):S=e[6];const j=v?u:void 0,R=v?f:void 0,N=a&&"cursor-pointer";let k;e[7]!==b||e[8]!==N?(k=le("shrink-0 overflow-hidden rounded-lg",b,N),e[7]=b,e[8]=N,e[9]=k):k=e[9];let E;e[10]!==a||e[11]!==i?(E=a?ae=>{ae.preventDefault(),i==null||i()}:void 0,e[10]=a,e[11]=i,e[12]=E):E=e[12];let T;e[13]!==o.name||e[14]!==_?(T=_?p.jsx("img",{className:"h-full w-full object-cover",src:_!=null?_:void 0,alt:o.name}):p.jsx("div",{className:"h-full w-full bg-gray-100"}),e[13]=o.name,e[14]=_,e[15]=T):T=e[15];let L;e[16]!==k||e[17]!==E||e[18]!==T?(L=p.jsx("div",{className:k,onClick:E,children:T}),e[16]=k,e[17]=E,e[18]=T,e[19]=L):L=e[19];let C;e[20]!==o.name||e[21]!==a||e[22]!==i?(C=a?p.jsx("div",{className:"hover:entity-accent line-clamp-2 w-full cursor-pointer text-base leading-tight font-medium",onClick:ae=>{ae.preventDefault(),i==null||i()},title:o.name,children:o.name}):p.jsx("div",{title:o.name,className:"text-token-text-primary line-clamp-2 w-full text-base leading-tight font-medium",children:o.name}),e[20]=o.name,e[21]=a,e[22]=i,e[23]=C):C=e[23];let A;e[24]!==o?(A=p.jsx(Kt,{business:o,showPrice:!1,showHours:!1}),e[24]=o,e[25]=A):A=e[25];let I;e[26]!==o?(I=p.jsx(Jt,{business:o,showHourDetail:!1}),e[26]=o,e[27]=I):I=e[27];let U;e[28]===Symbol.for("react.memo_cache_sentinel")?(U=p.jsx("span",{className:"mx-1",children:"•"}),e[28]=U):U=e[28];let B;e[29]!==o.price_str?(B=o.price_str?p.jsx("span",{children:o.price_str},"price"):null,e[29]=o.price_str,e[30]=B):B=e[30];let $;e[31]!==I||e[32]!==B?($=p.jsxs("div",{className:"flex",children:[I,U,B]}),e[31]=I,e[32]=B,e[33]=$):$=e[33];let F;e[34]!==A||e[35]!==$?(F=p.jsxs("div",{className:"text-token-text-primary flex flex-col gap-0.5 text-sm",children:[A,$]}),e[34]=A,e[35]=$,e[36]=F):F=e[36];let D;e[37]!==C||e[38]!==F?(D=p.jsxs("div",{className:"flex min-w-0 flex-1 flex-col justify-center gap-0.5",children:[C,F]}),e[37]=C,e[38]=F,e[39]=D):D=e[39];let z;e[40]!==L||e[41]!==D?(z=p.jsxs("div",{className:"flex gap-3",children:[L,D]}),e[40]=L,e[41]=D,e[42]=z):z=e[42];let H;e[43]!==o||e[44]!==g||e[45]!==M||e[46]!==c||e[47]!==r?(H=!g&&c&&p.jsx("div",{className:"mt-1",children:p.jsx(Mt,{business:o,trackContentReferenceEvent:r,metadata:M})}),e[43]=o,e[44]=g,e[45]=M,e[46]=c,e[47]=r,e[48]=H):H=e[48];let ne;e[49]!==z||e[50]!==H?(ne=p.jsxs("div",{className:"flex flex-col gap-2 p-3",children:[z,H]}),e[49]=z,e[50]=H,e[51]=ne):ne=e[51];let K;e[52]!==o||e[53]!==g||e[54]!==M||e[55]!==c||e[56]!==r?(K=g&&c&&p.jsx(Mt,{business:o,trackContentReferenceEvent:r,metadata:M}),e[52]=o,e[53]=g,e[54]=M,e[55]=c,e[56]=r,e[57]=K):K=e[57];let oe;return e[58]!==ne||e[59]!==K||e[60]!==S||e[61]!==j||e[62]!==R?(oe=p.jsx(pn.div,{initial:w,animate:d,children:p.jsxs("div",{className:S,onMouseEnter:j,onMouseLeave:R,children:[ne,K]})}),e[58]=ne,e[59]=K,e[60]=S,e[61]=j,e[62]=R,e[63]=oe):oe=e[63],oe}function Mt({business:t,trackContentReferenceEvent:e,metadata:n}){const s="https://www.google.com/maps/dir/?api=1&destination=".concat(encodeURIComponent([t.name,t.address].join(",")));return t.address&&e("link_action",null,"map",V(P({},n),{url:s,link_type:"button",action:"show"})),t.website_url&&e("link_action",null,"map",V(P({},n),{url:t.website_url,link_type:"button",action:"show"})),p.jsx(p.Fragment,{children:p.jsxs("div",{className:"text-token-text-primary mt-auto flex min-h-[30px] w-full min-w-0 flex-wrap justify-center gap-2 text-base",children:[t.address&&p.jsx(Ze,{to:s,onClick:()=>{e("link_action",null,"map",V(P({},n),{url:s,link_type:"button",action:"click"}))},children:p.jsx(Ce,{id:"+a2f/C",defaultMessage:"Directions"})}),t.website_url&&p.jsx(Ze,{to:t.website_url,onClick:()=>{e("link_action",null,"map",V(P({},n),{url:t.website_url,link_type:"button",action:"click"}))},children:p.jsx(Ce,{id:"r0oqXM",defaultMessage:"Website"})}),t.phone&&p.jsx(Ze,{to:"tel:"+t.phone,children:p.jsx(Ce,{id:"B/an6M",defaultMessage:"Call"})})]})})}function Ze(t){"use forget";const e=Y.c(4),{to:n,onClick:s,children:o}=t;let r;return e[0]!==o||e[1]!==s||e[2]!==n?(r=p.jsx(Ne,{onClick:s,as:"link",to:n,openNewTab:!0,rel:"noreferrer",color:"secondary",size:"small",className:"h-[30px] min-w-25 flex-1 rounded-full border",contentWrapperClassName:"text-token-text-primary font-semibold",children:o}),e[0]=o,e[1]=s,e[2]=n,e[3]=r):r=e[3],r}function Ds(t){"use forget";const e=Y.c(40),{idx:n,business:s,tooltipContent:o,onOpenChange:r,isSelected:i,isVisible:a,isSonicSidebarEnabled:c,onClick:l,tooltipLocation:u}=t,f=u===void 0?"top":u,b=gn();let g;e[0]!==s||e[1]!==i?(g=p.jsx(wt,{business:s,isSelected:i}),e[0]=s,e[1]=i,e[2]=g):g=e[2];const y=a?1:0;let M;e[3]!==y?(M={opacity:y},e[3]=y,e[4]=M):M=e[4];let _;e[5]!==s.name||e[6]!==M?(_=p.jsx("div",{className:"absolute start-1/2 top-full -translate-x-1/2 font-bold text-nowrap text-gray-800 [text-shadow:_-0.8px_-0.8px_0_#fff,_0.8px_-0.8px_0_#fff,_-0.8px_0.8px_0_#fff,_0.8px_0.8px_0_#fff]",style:M,children:s.name}),e[5]=s.name,e[6]=M,e[7]=_):_=e[7];const v=c&&"cursor-pointer";let w;e[8]!==v?(w=le("absolute inset-0 rounded-xl",v),e[8]=v,e[9]=w):w=e[9];let d;e[10]!==c||e[11]!==l?(d=c?E=>{E.preventDefault(),l==null||l()}:void 0,e[10]=c,e[11]=l,e[12]=d):d=e[12];let m;e[13]!==w||e[14]!==d?(m=p.jsx("div",{className:w,onClick:d}),e[13]=w,e[14]=d,e[15]=m):m=e[15];let x;e[16]!==g||e[17]!==_||e[18]!==m?(x=p.jsxs("div",{className:"relative",children:[g,_,m]}),e[16]=g,e[17]=_,e[18]=m,e[19]=x):x=e[19];const S=x,j=i?2:1;let R;e[20]!==j?(R={zIndex:j},e[20]=j,e[21]=R):R=e[21];let N;e[22]!==s||e[23]!==n||e[24]!==b||e[25]!==i||e[26]!==c||e[27]!==a||e[28]!==S||e[29]!==l||e[30]!==r||e[31]!==o||e[32]!==f?(N=o?p.jsx(xn,{label:o,onOpenChange:r,delayDuration:150,theme:b?"default":"white",customPaddingClassName:"bg-clip-padding",customBorderClassName:"border-token-border-default border",contentClassName:"animate-show rounded-[20px]!",side:f,sideOffset:10,wide:!0,interactive:!0,children:p.jsxs("div",{className:"relative",children:[p.jsx(wt,{business:s,isSelected:i}),p.jsx("div",{className:"absolute start-1/2 top-full -translate-x-1/2 font-bold text-nowrap text-gray-800 [text-shadow:_-0.8px_-0.8px_0_#fff,_0.8px_-0.8px_0_#fff,_-0.8px_0.8px_0_#fff,_0.8px_0.8px_0_#fff]",style:{opacity:a?1:0},children:s.name}),p.jsx("div",{className:le("absolute inset-0 rounded-xl",c&&"cursor-pointer"),onClick:c?E=>{E.preventDefault(),l==null||l()}:void 0})]})},n):S,e[22]=s,e[23]=n,e[24]=b,e[25]=i,e[26]=c,e[27]=a,e[28]=S,e[29]=l,e[30]=r,e[31]=o,e[32]=f,e[33]=N):N=e[33];let k;return e[34]!==s.latitude||e[35]!==s.longitude||e[36]!==n||e[37]!==R||e[38]!==N?(k=p.jsx(Ut,{longitude:s.longitude,latitude:s.latitude,anchor:"bottom",style:R,children:N},n),e[34]=s.latitude,e[35]=s.longitude,e[36]=n,e[37]=R,e[38]=N,e[39]=k):k=e[39],k}const wt=t=>{"use forget";var c;const e=Y.c(7),{business:n,isSelected:s}=t,o=s?"bg-token-interactive-bg-primary-press text-token-interactive-label-primary-press":"bg-token-bg-primary";let r;e[0]!==o?(r=le("border-token-border-default shadow-elevation-03 flex h-7 min-w-7 items-center justify-center rounded-full border bg-clip-padding text-xs font-medium",o),e[0]=o,e[1]=r):r=e[1];let i;e[2]!==n.rating?(i=n.rating?p.jsxs("div",{className:"flex items-center gap-0.75 px-2.5",children:[p.jsx("span",{children:(c=n.rating)==null?void 0:c.toFixed(1)}),p.jsx(Qt,{className:"h-3 w-3"})]}):p.jsx(en,{className:"h-3 w-3"}),e[2]=n.rating,e[3]=i):i=e[3];let a;return e[4]!==r||e[5]!==i?(a=p.jsx("div",{className:r,children:i}),e[4]=r,e[5]=i,e[6]=a):a=e[6],a};function $t(t){"use forget";const e=Y.c(7),{children:n,position:s,show:o}=t,r=s===void 0?"top-right":s,i=o===void 0?!0:o,[a,c]=h.useState(null);let l;e[0]===Symbol.for("react.memo_cache_sentinel")?(l=()=>({onAdd(){const g=document.createElement("div");return g.className="mapboxgl-ctrl mapboxgl-ctrl-group",c(g),g},onRemove(){c(null)}}),e[0]=l):l=e[0];let u;e[1]!==r?(u={position:r},e[1]=r,e[2]=u):u=e[2],Se(l,u);let f;return e[3]!==n||e[4]!==a||e[5]!==i?(f=a&&i?Ke.createPortal(n,a):null,e[3]=n,e[4]=a,e[5]=i,e[6]=f):f=e[6],f}function Is(t){"use forget";const e=Y.c(3),{isFullScreen:n,onClick:s}=t;let o;return e[0]!==n||e[1]!==s?(o=p.jsx($t,{position:"top-right",children:p.jsx(Bs,{isFullScreen:n,onClick:s})}),e[0]=n,e[1]=s,e[2]=o):o=e[2],o}function Bs(t){"use forget";const e=Y.c(9),{isFullScreen:n,onClick:s}=t,o=Je();let r;e[0]!==s?(r=l=>{l.preventDefault(),s()},e[0]=s,e[1]=r):r=e[1];let i;e[2]!==o||e[3]!==n?(i=n?o.formatMessage({id:"N1ms3w",defaultMessage:"Exit full screen"}):o.formatMessage({id:"676SBY",defaultMessage:"Enter full screen"}),e[2]=o,e[3]=n,e[4]=i):i=e[4];let a;e[5]===Symbol.for("react.memo_cache_sentinel")?(a=p.jsx(tn,{className:"icon h-[18px]! w-[18px]!"}),e[5]=a):a=e[5];let c;return e[6]!==r||e[7]!==i?(c=p.jsx(Ne,{type:"button",color:"secondary",size:"small",className:"flex h-[30px] items-center justify-center bg-clip-padding text-black",contentWrapperClassName:"font-semibold",onClick:r,title:i,children:a}),e[6]=r,e[7]=i,e[8]=c):c=e[8],c}function Os(t){"use forget";const e=Y.c(5),{show:n,onClick:s}=t;let o;e[0]!==s?(o=p.jsx(Us,{onClick:s}),e[0]=s,e[1]=o):o=e[1];let r;return e[2]!==n||e[3]!==o?(r=p.jsx($t,{show:n,position:"top-right",children:o}),e[2]=n,e[3]=o,e[4]=r):r=e[4],r}function Us(t){"use forget";const e=Y.c(8),{onClick:n}=t,s=Je();let o;e[0]!==n?(o=c=>{c.preventDefault(),n()},e[0]=n,e[1]=o):o=e[1];let r;e[2]!==s?(r=s.formatMessage({id:"dUWlu0",defaultMessage:"Reset view"}),e[2]=s,e[3]=r):r=e[3];let i;e[4]===Symbol.for("react.memo_cache_sentinel")?(i=p.jsx(nn,{className:"icon h-[18px]! w-[18px]!"}),e[4]=i):i=e[4];let a;return e[5]!==o||e[6]!==r?(a=p.jsx(Ne,{type:"button",color:"secondary",size:"small",className:"flex h-[30px] items-center justify-center bg-clip-padding text-black",contentWrapperClassName:"font-semibold",onClick:o,title:r,children:i}),e[5]=o,e[6]=r,e[7]=a):a=e[7],a}function $s(t){"use forget";const e=Y.c(11),{viewState:n,onClick:s}=t,o=bn();if(!o)return null;const r=n.place,i=r&&r.city?"Search in ".concat(r.city):"Search this area",a=r&&r.label?"Search in ".concat(r.label):"Search this area";let c;e[0]!==o||e[1]!==s||e[2]!==a||e[3]!==n.latitude||e[4]!==n.longitude||e[5]!==n.radiusMeters?(c=async()=>{sn(o).setHasRequestedNewData$(!0),await on({conversation:o,promptMessage:_n(a),eventSource:"mouse",extraStreamParams:{preRetrievalSettings:{use_last_turn_query:!1,top_n:20,query_type:"local_business",query:{latitude:n.latitude,longitude:n.longitude,radius_meters:n.radiusMeters}}}}),s==null||s()},e[0]=o,e[1]=s,e[2]=a,e[3]=n.latitude,e[4]=n.longitude,e[5]=n.radiusMeters,e[6]=c):c=e[6];let l;e[7]===Symbol.for("react.memo_cache_sentinel")?(l=p.jsx(vn,{className:"icon-sm"}),e[7]=l):l=e[7];let u;return e[8]!==i||e[9]!==c?(u=p.jsxs(Ne,{type:"button",color:"secondary",size:"small",className:"flex h-[36px] items-center justify-center bg-clip-padding px-4 text-black",contentWrapperClassName:"font-semibold flex items-center gap-1",onClick:c,title:i,children:[l,i]}),e[8]=i,e[9]=c,e[10]=u):u=e[10],u}function Hs(){"use forget";const t=Y.c(12),[e,n]=h.useState(!1);let s;t[0]===Symbol.for("react.memo_cache_sentinel")?(s=()=>n(Ws),t[0]=s):s=t[0];const o=s,r=e?yn:rn,i=e?"w-full bg-white":"w-5 bg-white/60 backdrop-blur-xl backdrop-filter hover:bg-white/70";let a;t[1]!==i?(a=le("text-token-text-primary flex h-5 items-center justify-start overflow-hidden rounded-full text-[10px] font-light whitespace-nowrap transition-all",i),t[1]=i,t[2]=a):a=t[2];let c;t[3]===Symbol.for("react.memo_cache_sentinel")?(c=le("flex min-w-5 items-center justify-center transition-all"),t[3]=c):c=t[3];let l;t[4]!==r?(l=p.jsx("button",{onClick:o,className:c,children:p.jsx(r,{className:"icon-sm transition-colors"})}),t[4]=r,t[5]=l):l=t[5];let u;t[6]===Symbol.for("react.memo_cache_sentinel")?(u=p.jsx("a",{href:"https://www.mapbox.com/about/maps",target:"_blank",rel:"noreferrer",className:"text-[#2964aa]!",children:"Mapbox"}),t[6]=u):u=t[6];let f;t[7]===Symbol.for("react.memo_cache_sentinel")?(f=p.jsx("a",{href:"https://www.mapbox.com/legal/end-user-terms",target:"_blank",rel:"noreferrer",className:"me-2 text-[#2964aa]!",children:p.jsx(Ce,{id:"u3dZJq",defaultMessage:"Terms"})}),t[7]=f):f=t[7];let b;t[8]===Symbol.for("react.memo_cache_sentinel")?(b=p.jsxs("div",{className:"pe-2",children:["© ",u," ",f,"© ",p.jsx("a",{href:"http://www.openstreetmap.org/about",target:"_blank",rel:"noreferrer",className:"text-[#2964aa]!",children:"OpenStreetMap"})]}),t[8]=b):b=t[8];let g;return t[9]!==a||t[10]!==l?(g=p.jsxs("div",{className:a,children:[l,b]}),t[9]=a,t[10]=l,t[11]=g):g=t[11],g}function Ws(t){return!t}const Zs=300,qs=()=>{"use forget";const t=Y.c(10),e=Mn();let n;t[0]!==e?(n=()=>!e,t[0]=e,t[1]=n):n=t[1];const[s,o]=h.useState(n);let r;t[2]!==s||t[3]!==e?(r=e?()=>{s||an(()=>{o(!0)},Zs)}:void 0,t[2]=s,t[3]=e,t[4]=r):r=t[4];const i=r;let a;t[5]!==s?(a=u=>{"use forget";const{children:f}=u;return s?f:null},t[5]=s,t[6]=a):a=t[6];const c=a;let l;return t[7]!==c||t[8]!==i?(l={triggerRender:i,IntegratedUXDelayedRender:c},t[7]=c,t[8]=i,t[9]=l):l=t[9],l},Vs=(t,e)=>{const n=new Set(t.map(s=>s.entity_data.id));return e.filter(s=>n.has(s.entity_data.id)?!1:(n.add(s.entity_data.id),!0))},St=t=>{var o;const e=Ct(t.entities),n=(o=t.raw_search_entities)!=null&&o.length?Ct(t.raw_search_entities):[],s=Vs(e,n);return{businesses:e,additionalBusinesses:s}},Ct=t=>t.map(e=>{var n;return{entity_type:"local_business",entity_data:e.entity,extra_params:(n=e.extra_params)!=null?n:void 0}}),po=t=>{var n,s;const e=(n=t.metadata)==null?void 0:n.sonic_entity_data;if(!(!(e!=null&&e.status)||e.status!=="success"))return((s=e.results)!=null?s:[]).filter(o=>o.entity_type==="local_business")},Et=50,jt=20,Nt=20,Rt=20,Gs=50,Xs=400,Ys={longitude:0,latitude:0,zoom:12,pitch:0,bearing:0};function Ks(t){"use forget";const e=Y.c(41),{contentReference:n,clientThreadId:s,messageId:o,trackContentReferenceEvent:r,turnIndex:i}=t,a=Cn();let c;e[0]!==a?(c=nt(a,"3194776735"),e[0]=a,e[1]=c):c=e[1];const l=c;let u;e[2]!==a?(u=nt(a,"1950533395"),e[2]=a,e[3]=u):u=e[3];const f=u,[b,g]=h.useState(null),y=En();let M;e[4]!==s||e[5]!==a||e[6]!==l?(M=null,e[4]=s,e[5]=a,e[6]=l,e[7]=M):M=e[7];const _=M,{openThreadSidebar:v,closeThreadSidebar:w}=cn(),{resetSidebarHistory:d}=ln(),m=Yt();let x;e[8]!==w||e[9]!==n||e[10]!==y||e[11]!==o||e[12]!==_||e[13]!==i?(x=F=>{const{businesses:D,additionalBusinesses:z}=St(n);_==null||_.setOverlayState$({messageId:o,contentReferenceStartIndex:n.start_idx,businesses:D,additionalBusinesses:z,wasSidebarOpen:y,turnIndex:i,viewState:F}),w(),Ve.disableStageSidebarAnimation(),un({forceFlushSync:!0,className:"map-with-entities",update:()=>{Ve.setSidebarOpen(!1),_==null||_.open$()}}).finished.then(Js)},e[8]=w,e[9]=n,e[10]=y,e[11]=o,e[12]=_,e[13]=i,e[14]=x):x=e[14];const S=x;let j;e[15]!==_?(j=()=>_==null?void 0:_.isOpen$(),e[15]=_,e[16]=j):j=e[16];const R=st(j);let N;e[17]!==_?(N=()=>_==null?void 0:_.currentMessageId$(),e[17]=_,e[18]=N):N=e[18];const k=st(N);let E;e[19]!==n?(E=St(n),e[19]=n,e[20]=E):E=e[20];const{businesses:T}=E,L=l&&!R&&k===o;let C;e[21]!==s||e[22]!==n||e[23]!==m||e[24]!==o||e[25]!==v||e[26]!==d?(C=(F,D)=>{var z;s&&(m||d(),v({type:"entity",debugThreadId:void 0,messageId:o,contentReferenceStartIndex:n.start_idx,query:D.entity_data.name,category:"local_business",extraParams:(z=D.extra_params)!=null?z:void 0}))},e[21]=s,e[22]=n,e[23]=m,e[24]=o,e[25]=v,e[26]=d,e[27]=C):C=e[27];const A=C,I=l?S:void 0,U=L?"[view-transition-name:map-with-entities]":void 0;let B;e[28]!==f||e[29]!==A||e[30]!==r?(B=F=>{const{idx:D,business:z,isSelected:H,isVisible:ne}=F;return p.jsx(Ds,{idx:D,business:z.entity_data,isSelected:H,isOpen:H,isVisible:ne,tooltipLocation:"top",tooltipContent:p.jsx(Fs,{idx:D,business:z.entity_data,trackContentReferenceEvent:r,onOpenEntity:()=>{g(z.entity_data.id),A==null||A(D,z)},enableSidebarNavigation:f,showActions:!0}),onOpenChange:K=>{g(K?z.entity_data.id:null)},isSonicSidebarEnabled:f,onClick:()=>{g(z.entity_data.id),A==null||A(D,z)}},D)},e[28]=f,e[29]=A,e[30]=r,e[31]=B):B=e[31];let $;return e[32]!==T||e[33]!==s||e[34]!==o||e[35]!==b||e[36]!==U||e[37]!==B||e[38]!==I||e[39]!==r?($=p.jsx(jn,{children:p.jsx("div",{className:"not-prose","data-testid":"businesses-map-widget",children:p.jsx("div",{className:"pt-4",children:p.jsx(Qs,{businesses:T,clientThreadId:s,messageId:o,trackContentReferenceEvent:r,onFullScreenToggle:I,containerClassName:U,selectedBusinessId:b,markerComponent:B})})})}),e[32]=T,e[33]=s,e[34]=o,e[35]=b,e[36]=U,e[37]=B,e[38]=I,e[39]=r,e[40]=$):$=e[40],$}function Js(){Ve.enableStageSidebarAnimation()}function Qs(t){"use forget";const e=Y.c(51),{businesses:n,trackContentReferenceEvent:s,isFullScreen:o,onFullScreenToggle:r,containerClassName:i,markerComponent:a,selectedBusinessId:c,initialViewState:l,onMoveCallback:u}=t,f=Je(),b=l!=null,g=h.useRef(!b),y=h.useRef(null),M=h.useRef(null);let _;e[0]!==l?(_=P(P({},Ys),l),e[0]=l,e[1]=_):_=e[1];const v=_,w=h.useRef(v),[d,m]=h.useState(v),x=wn(),[S,j]=h.useState(!1),[R,N]=h.useState(!1);let k,E;e[2]!==l||e[3]!==o?(k=()=>{!l||!o||(m(l),w.current=l,g.current=!1,j(!1),N(!1))},E=[l,o],e[2]=l,e[3]=o,e[4]=k,e[5]=E):(k=e[4],E=e[5]),h.useEffect(k,E);const T=!Tt(),L=o||!r?Rt:Rt+Gs,C=h.useRef(!1);let A,I;e[6]!==s?(A=()=>{C.current||(s("Search Content Reference Shown","search_content_reference_shown","map"),C.current=!0)},I=[s],e[6]=s,e[7]=A,e[8]=I):(A=e[7],I=e[8]),h.useEffect(A,I);let U,B;e[9]===Symbol.for("react.memo_cache_sentinel")?(U=()=>{if(!y.current)return;const W=Sn(()=>{var q;(q=M.current)==null||q.resize()},100),Z=new ResizeObserver(W);return Z.observe(y.current),()=>{Z.disconnect()}},B=[],e[9]=U,e[10]=B):(U=e[9],B=e[10]),h.useEffect(U,B);let $;e[11]===Symbol.for("react.memo_cache_sentinel")?($=new Set,e[11]=$):$=e[11];const[F,D]=h.useState($),z=h.useRef(-1),[H,ne]=h.useState(!1);let K;e[12]!==n||e[13]!==H||e[14]!==d.zoom?(K=()=>{var Z,q,X;if(!M.current||!H)return;const W=oo;if(z.current==-1||z.current!==d.zoom){const J=[];for(const O of n){const ee=(Z=M.current)==null?void 0:Z.project([O.entity_data.longitude,O.entity_data.latitude]);if(!ee)return;const pe=ee.x-30,re=ee.y,ge=(q=O.entity_data.rating)!=null?q:0,xe=(X=O.entity_data.is_open)!=null?X:!1;J.push({id:O.entity_data.id,x:pe,y:re,w:60,h:30,rating:ge,openNow:xe})}J.sort(so);const Q=new Set,me=new Map(J.map(no));for(const O of J){let ee=!1;for(const pe of Q){const re=me.get(pe);if(re&&W(O,re)){ee=!0;break}}ee||Q.add(O.id)}D(O=>O.size===Q.size&&[...O].every(ee=>Q.has(ee))?O:Q)}z.current=d.zoom},e[12]=n,e[13]=H,e[14]=d.zoom,e[15]=K):K=e[15];let oe;e[16]!==n||e[17]!==H||e[18]!==d.zoom||e[19]!==F?(oe=[d.zoom,F,H,n],e[16]=n,e[17]=H,e[18]=d.zoom,e[19]=F,e[20]=oe):oe=e[20],h.useEffect(K,oe);let fe,ae;e[21]!==n||e[22]!==L||e[23]!==c?(fe=()=>{const W=function(){var pe;const X=function(ge,xe){const de=M.current;if(!de)return!1;const{width:be,height:_e}=de.getContainer().getBoundingClientRect(),Oe=L,Te=de.unproject([jt,Et]),Qe=de.unproject([be-Nt,_e-Oe]);return ce(ge,5)>=ce(Qe.lat,5)&&ce(ge,5)<=ce(Te.lat,5)&&ce(xe,5)>=ce(Te.lng,5)&&ce(xe,5)<=ce(Qe.lng,5)},J=c?n.find(re=>re.entity_data.id===c):null;if(!g.current&&c&&!J)return;const Q=g.current||!J?n:[J],me=ts(Q.map(to)),O=ns(me),ee=os(me);if(y.current){const re=y.current.clientWidth,ge=y.current.clientHeight,xe=new ze({width:re,height:ge,longitude:ee.geometry.coordinates[0],latitude:ee.geometry.coordinates[1]}),{zoom:de,latitude:be,longitude:_e}=xe.fitBounds([[O[0],O[1]],[O[2],O[3]]],{maxZoom:13.5,padding:{top:Et,left:jt,right:Nt,bottom:L}});g.current?(kt(M.current).then(Oe=>{m(Te=>V(P({},Te),{zoom:de,latitude:be,longitude:_e,radiusMeters:qe(M.current),place:Oe}))}),w.current={longitude:_e,latitude:be,zoom:de,pitch:0,bearing:0},g.current=!1):X(be,_e)||(pe=M.current)==null||pe.flyTo({center:[_e,be]})}};if(n.length===0)return;if(g.current){W();return}if(!c)return;const Z=setTimeout(W,200);return()=>clearTimeout(Z)},ae=[n,c,L],e[21]=n,e[22]=L,e[23]=c,e[24]=fe,e[25]=ae):(fe=e[24],ae=e[25]),h.useEffect(fe,ae);const{triggerRender:De,IntegratedUXDelayedRender:Ie}=qs();let Re;if(e[26]!==n||e[27]!==a||e[28]!==c||e[29]!==F){let W;e[31]!==c?(W=(q,X)=>{const J=q.business.entity_data.id===c,Q=X.business.entity_data.id===c;return J&&!Q?1:!J&&Q?-1:q.idx-X.idx},e[31]=c,e[32]=W):W=e[32];let Z;e[33]!==a||e[34]!==c||e[35]!==F?(Z=q=>{const{business:X,idx:J}=q,Q=X.entity_data.id===c,me=a;return p.jsx(me,{idx:J,business:X,isSelected:Q,isVisible:F.has(X.entity_data.id)},X.entity_data.id)},e[33]=a,e[34]=c,e[35]=F,e[36]=Z):Z=e[36],Re=n.map(eo).sort(W).map(Z),e[26]=n,e[27]=a,e[28]=c,e[29]=F,e[30]=Re}else Re=e[30];const Be=Re;let ke;return e[37]!==Ie||e[38]!==i||e[39]!==f||e[40]!==o||e[41]!==T||e[42]!==r||e[43]!==u||e[44]!==Be||e[45]!==S||e[46]!==R||e[47]!==De||e[48]!==x||e[49]!==d?(ke=!T&&p.jsxs("div",{style:{height:o?"100%":Xs},className:le("bg-token-bg-primary relative w-full",i),ref:y,children:[p.jsx("div",{className:"relative h-full w-full overflow-hidden rounded-3xl",children:p.jsxs(Ps,V(P({},d),{onIdle:De,mapboxAccessToken:Lt,mapStyle:"mapbox://styles/oai-data/cmhawgfb0000n01sd7bcybf4f",attributionControl:!1,renderWorldCopies:!1,cooperativeGestures:!o,onMove:W=>{const Z=qe(M.current),q=V(P({},W.viewState),{radiusMeters:Z,place:d.place});u==null||u(q),m(q),io(w.current,W)&&(j(!0),N(!0))},onMoveEnd:W=>{kt(M.current).then(Z=>{const q=qe(M.current),X=V(P({},W.viewState),{radiusMeters:q,place:Z});u==null||u(X),m(X)})},locale:{"ScrollZoomBlocker.CtrlMessage":f.formatMessage({id:"1aF2nO",defaultMessage:"Hold Ctrl to zoom"}),"ScrollZoomBlocker.CmdMessage":f.formatMessage({id:"8R2Dga",defaultMessage:"Hold ⌘ to zoom"})},ref:M,keyboard:!1,onLoad:()=>{ne(!0)},children:[r&&p.jsx(Is,{isFullScreen:!!o,onClick:()=>r(d)}),p.jsx(As,{position:"top-right",showCompass:!1,style:{borderRadius:9999,overflow:"hidden"}}),p.jsx(Os,{show:S,onClick:()=>{m(V(P({},w.current),{pitch:0,bearing:0})),u==null||u(V(P({},w.current),{pitch:0,bearing:0})),j(!1),N(!1)}}),p.jsxs(Ie,{children:[Be,(x==null?void 0:x.latitude)&&(x==null?void 0:x.longitude)&&p.jsx(Ut,{longitude:x.longitude,latitude:x.latitude,style:{zIndex:1e3},children:p.jsx(zs,{className:"h-8 w-8"})})]})]}))}),p.jsxs("div",{className:"absolute start-3 top-3 flex flex-col gap-2",children:[R&&o&&p.jsx($s,{viewState:d,onClick:()=>N(!1)}),p.jsx(Hs,{})]}),!o&&r&&p.jsx("div",{className:"pointer-events-none absolute inset-x-0 bottom-0 px-1 pb-1",children:p.jsx(Ne,{color:"secondary",className:"border-token-border-default h-[44px] border border-solid bg-clip-padding opacity-[98%] active:opacity-100!",onClick:()=>r==null?void 0:r(d),fullWidth:!0,children:p.jsx(Ce,{id:"GSmA8f",defaultMessage:"Show more places"})})})]}),e[37]=Ie,e[38]=i,e[39]=f,e[40]=o,e[41]=T,e[42]=r,e[43]=u,e[44]=Be,e[45]=S,e[46]=R,e[47]=De,e[48]=x,e[49]=d,e[50]=ke):ke=e[50],ke}function eo(t,e){return{business:t,idx:e}}function to(t){return It([t.entity_data.longitude,t.entity_data.latitude])}function no(t){return[t.id,t]}function so(t,e){const n=t.openNow,s=e.openNow;return n&&!s?-1:!n&&s?1:e.rating-t.rating}function oo(t,e){return!(t.x+t.w<=e.x||e.x+e.w<=t.x||t.y+t.h<=e.y||e.y+e.h<=t.y)}const ro=(t,e)=>t.messageId===e.messageId&&t.clientThreadId===e.clientThreadId&&t.turnIndex===e.turnIndex&&t.trackContentReferenceEvent===e.trackContentReferenceEvent&&t.contentReference.entities.length===e.contentReference.entities.length,go=h.memo(Ks,ro),io=(t,e)=>{if(t){const n=Math.abs(e.viewState.zoom-t.zoom),s=Math.abs(e.viewState.latitude-t.latitude),o=Math.abs(e.viewState.longitude-t.longitude);return n>.05||s>5e-4||o>5e-4}return!1},qe=t=>{if(!t)return 0;const e=t.getBounds(),n=t.getCenter(),s=e==null?void 0:e.getNorthEast();return s?n.distanceTo(s):0};function ao(t){var r,i,a,c,l,u;const e=(r=t==null?void 0:t.context)!=null?r:[],n=(c=(i=e.find(f=>String(f.id).startsWith("place.")))==null?void 0:i.text)!=null?c:(a=e.find(f=>String(f.id).startsWith("locality.")))==null?void 0:a.text,s=(l=e.find(f=>String(f.id).startsWith("region.")))==null?void 0:l.text,o=(u=e.find(f=>String(f.id).startsWith("postcode.")))==null?void 0:u.text;return{city:n,state:s,zipcode:o,label:t==null?void 0:t.place_name}}async function kt(t){var l;if(!t)return;const e=t.getCenter(),n=e.lat,s=e.lng,o=new URL("https://api.mapbox.com/geocoding/v5/mapbox.places/".concat(s,",").concat(n,".json"));o.searchParams.set("access_token",Lt),o.searchParams.set("types","postcode,place,region"),o.searchParams.set("limit","1");const r=await fetch(o.toString());if(!r.ok)return;const i=await r.json(),a=(l=i==null?void 0:i.features)==null?void 0:l[0];return a?ao(a):void 0}export{Fs as B,Qs as M,zs as S,ze as W,Vs as a,Ds as b,po as c,Ps as d,Ut as e,Hs as f,St as g,ts as h,os as i,go as j,It as p,ce as r,ns as t,qs as u};
//# sourceMappingURL=gns80bg8nlx0ty1m.js.map
