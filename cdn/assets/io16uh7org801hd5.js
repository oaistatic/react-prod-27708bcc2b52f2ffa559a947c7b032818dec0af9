var v=Object.defineProperty;var R=Object.getOwnPropertySymbols;var S=Object.prototype.hasOwnProperty,$=Object.prototype.propertyIsEnumerable;var C=(s,t,e)=>t in s?v(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,b=(s,t)=>{for(var e in t||(t={}))S.call(t,e)&&C(s,e,t[e]);if(R)for(var e of R(t))$.call(t,e)&&C(s,e,t[e]);return s};import{a0 as x,ab as y,a1 as E,r as I}from"./fg33krlcm0qyi6yw.js";import{b$ as T,dB as L,b as O,dL as P,e4 as w,e2 as A,qX as G}from"./mtk1qztvnb31pw5r.js";import{f as N,i as j}from"./k65njl5wlgspihfr.js";import"./mce0eiesimdmeqmr.js";import"./ifrwee0bgh9e2but.js";import"./gqx9i5tb3deqoo5z.js";import"./dg5jraediw4l39ow.js";import"./hb1mva1gmw4bcs8w.js";import"./efooahjtdr85x1lo.js";import"./km71i01x6ma5r62b.js";import"./mbql81gwv5du9dtu.js";import"./k43gn7pl526u53kc.js";import"./kgrrqncjl71482vi.js";import"./i5jw6wfkpao2rx5t.js";import"./krwszi9u3lj63i9v.js";import"./ohquqctluwabmb5i.js";import"./c2cj1dlcffke3f7m.js";import"./mivow98b53y1taf8.js";const oe=()=>[{title:"ChatGPT"}],re=()=>!1;function k(s){var p,m,c,l,u,f,h,_,g;const t={},e="client-created-root";t[e]={id:e,message:{id:e,author:{role:A.Root},content:{content_type:w.Text,parts:[]}},parent:"",children:[]};let r=e;const d=[],a=new Set;for(const o of s.messages)a.add(o.id);for(const o of s.messages){let i=(m=(p=o.metadata)==null?void 0:p.parent_id)!=null?m:r;a.has(i)||(i=r),t[o.id]={id:o.id,message:o,parent:i,children:[]},r=o.id,d.push(...(l=(c=o.metadata)==null?void 0:c.safe_urls)!=null?l:[])}for(const[o,i]of Object.entries(t))i.parent!==""&&((f=(u=t[i.parent])==null?void 0:u.children)==null||f.push(o));const n=(h=s.conversation_id)!=null?h:s.id;return b({title:(_=s.title)!=null?_:null,conversation_id:n,mapping:t,current_node:r,moderation_results:[],safe_urls:(g=s.safe_urls)!=null?g:d},G(s,"conversation_template_id","gizmo_id","is_archived","conversation_origin","async_status","update_time","is_do_not_remember"))}const ne=x(function(){var p;const t=O(),e=y(),r=E(),d=e!=null?e:r;T.debug("IN: POST=".concat(e==null?void 0:e.length,", GET=").concat(r==null?void 0:r.length));const a=JSON.parse(d),n=(p=a.conversation_id)!=null?p:a.id;return L(t,n,{sharedConversationId:n}),I.useEffect(()=>{const m=k(a);N(n,m),j(n),P(n,c=>{c.continuingFromSharedConversationId=n})},[]),T.debug("Ready ".concat(n," (SERVER: false) : ").concat(d.length," byte(s)")),null});export{ne as default,oe as meta,re as shouldRevalidate};
//# sourceMappingURL=io16uh7org801hd5.js.map
