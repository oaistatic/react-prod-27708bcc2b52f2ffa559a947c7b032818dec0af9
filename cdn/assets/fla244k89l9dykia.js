import{a0 as m,c as d,a1 as v,r as l}from"./fg33krlcm0qyi6yw.js";import{c_ as f,e as y,B as R,P as h,rD as w}from"./mtk1qztvnb31pw5r.js";const S={1:"https://survey-api.yougov.com/ereturn/",2:"https://survey2-api.yougov.com/ereturn/"};function L(n,t){return"".concat(S[t]).concat(encodeURIComponent(n))}function A(n){return"yougov-survey-login-attempted:".concat(n)}const $=m(function(){"use forget";const t=d.c(7),r=y(),{visa:e,rtn:o}=v(),c=l.useRef(!1),s=f(),u="/yglogin?visa=".concat(encodeURIComponent(e),"&rtn=").concat(o);let i,a;return t[0]!==u||t[1]!==r||t[2]!==s||t[3]!==o||t[4]!==e?(i=()=>{if(c.current)return;const g=A(e),p=window.sessionStorage.getItem(g);if(!s||!p){window.sessionStorage.setItem(g,"true"),c.current=!0,R(r,{callbackUrl:u,skipLoginModal:!0});return}h.logStructuredEvent(w,{visa:e}),window.sessionStorage.removeItem(g),c.current=!0,window.location.assign(L(e,o))},a=[u,r,s,o,e],t[0]=u,t[1]=r,t[2]=s,t[3]=o,t[4]=e,t[5]=i,t[6]=a):(i=t[5],a=t[6]),l.useEffect(i,a),null});export{$ as default};
//# sourceMappingURL=fla244k89l9dykia.js.map
