import{j as r,r as c,e as C}from"./fg33krlcm0qyi6yw.js";import{N as x,z as y}from"./k65njl5wlgspihfr.js";import{d as b,b as S,ck as j,C as N,M as d,ga as R,ad as I}from"./mtk1qztvnb31pw5r.js";function p(a){const e=a.trim();return e.length===0||e.length>32?null:e}function v({roomId:a,currentName:e,onClose:n}){"use no forget";const i=S(),f=x(i),o=c.useRef(!1),g=j(i),s=C(),[u,M]=c.useState(e),l=async()=>{var m;if(o.current)return;const t=p(u);if(t!=null){if(t===e){n();return}try{o.current=!0,await f.editRoom$(a,{name:t}),n()}catch(h){g.danger((m=R(h))!=null?m:s.formatMessage(I.somethingWentWrong))}finally{o.current=!1}}};return r.jsx(N,{testId:"modal-rename-group-chat",isOpen:!0,onClose:()=>n(),type:"success",title:s.formatMessage({id:"izJ4jn",defaultMessage:"Rename group chat"}),primaryButton:r.jsx(d.Button,{title:s.formatMessage({id:"C6dvh5",defaultMessage:"Rename"}),color:"primary",disabled:p(u)==null,onClick:()=>{l()},"data-testid":"rename-group-chat-confirm-button"}),secondaryButton:r.jsx(d.Button,{title:s.formatMessage({id:"zsdTf3",defaultMessage:"Cancel"}),color:"secondary",onClick:()=>n()}),children:r.jsx("form",{onSubmit:t=>{t.preventDefault(),l()},children:r.jsx(y,{ariaLabel:s.formatMessage({id:"2DMQRd",defaultMessage:"Group chat name"}),className:"my-1 px-3 py-2",inputClassName:"bg-token-bg-primary!",name:"group-chat-name",type:"text",value:u,placeholder:e,autoComplete:"off","data-1p-ignore":!0,onChange:t=>{M(t.currentTarget.value)}})})})}const O=({room:a,onClose:e})=>{"use no forget";const n=b(()=>a.name$());return r.jsx(v,{roomId:a.id,currentName:n,onClose:e})};export{O as CalpicoRenameChatModalContainer};
//# sourceMappingURL=nlmt707suek57scb.js.map
