var xe=Object.defineProperty,pe=Object.defineProperties;var he=Object.getOwnPropertyDescriptors;var H=Object.getOwnPropertySymbols;var ie=Object.prototype.hasOwnProperty,le=Object.prototype.propertyIsEnumerable;var se=(i,e,t)=>e in i?xe(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,W=(i,e)=>{for(var t in e||(e={}))ie.call(e,t)&&se(i,t,e[t]);if(H)for(var t of H(e))le.call(e,t)&&se(i,t,e[t]);return i},I=(i,e)=>pe(i,he(e));var oe=(i,e)=>{var t={};for(var o in i)ie.call(i,o)&&e.indexOf(o)<0&&(t[o]=i[o]);if(i!=null&&H)for(var o of H(i))e.indexOf(o)<0&&le.call(i,o)&&(t[o]=i[o]);return t};import{V as be,mv as de,b as ue,ih as je,bg as Y,_ as ae,P as ne,B as ve,c0 as ye,T as _e,a9 as Z,i9 as ke,bv as ee,l as re,d8 as Ne,tC as Ae}from"./mtk1qztvnb31pw5r.js";import{c as te,j as s,E as Le,r as me,M}from"./fg33krlcm0qyi6yw.js";import{u as Se,a as Ce,N as Oe,c as we,s as Be,A as Me}from"./dpdobqk4g9a7rtiz.js";import{iD as Pe}from"./k65njl5wlgspihfr.js";import{u as De,a as Ee,S as Q}from"./ervoffyksiw5mef9.js";var fe=(i=>(i.control="control",i.ssoExpanded="sso_expanded",i.ssoCollapsed="sso_collapsed",i))(fe||{});function Ye(i,e){const{disableExposureLog:t=!1}=e!=null?e:{},o=be(i,"3233347819",{disableExposureLog:t});if(de()){const g=o.get("mobile_log_back_variant",q);return ce(g)?g:q}const r=o.get("log_back_variant",q);return ce(r)?r:q}function ce(i){return Object.values(fe).includes(i)}const q="control",Fe=i=>{"use forget";const e=te.c(4),x=i,{loginStrategy:t,omitIf:o}=x,r=oe(x,["loginStrategy","omitIf"]),g=o===void 0?Te:o;let d;e[0]!==t?(d={loginStrategy:t},e[0]=t,e[1]=d):d=e[1];const{optionsForDisplay:p}=Se(d),A=function(v){return v.filter(c=>!g(c)).map(c=>s.jsx(Le.Fragment,{children:r[c.name](c)},c.name))},m="flex flex-col gap-3",n=A(p);let h;return e[2]!==n?(h=s.jsx("div",{className:m,children:n}),e[2]=n,e[3]=h):h=e[3],h};function Te(){return!1}function Re(i){"use forget";var c;const e=te.c(40),{user:t,clearUser:o,location:r}=i,g=ue(),d=me.useRef(null),[p,A]=De(!0);let m;e[0]!==o||e[1]!==r?(m=u=>{u.stopPropagation(),o(),ae.addAction("login-form.profile-card.remove-user"),ne.logAuthModalProfileCardRemoval({location:r})},e[0]=o,e[1]=r,e[2]=m):m=e[2];const n=m;let h;e:{if(!t){h=null;break e}let u;e[3]!==g||e[4]!==r||e[5]!==A||e[6]!==t.email||e[7]!==t.phoneNumber?(u=()=>{var w;const N=(w=t.email)!=null?w:t.phoneNumber;A(!0),ve(g,{additionalAuthParams:{screen_hint:"login_or_signup",login_hint:N},callback:G=>{ae.addAction("login-form.profile-card.login"),ne.logAuthModalProfileCardLogin({location:r})},skipLoginModal:!1})},e[3]=g,e[4]=r,e[5]=A,e[6]=t.email,e[7]=t.phoneNumber,e[8]=u):u=e[8];const y=u;let L;e[9]!==y?(L=N=>{N.key==="Enter"&&y()},e[9]=y,e[10]=L):L=e[10];const S=L;let _;e[11]!==t.name||e[12]!==t.picture?(_=s.jsx("div",{className:"me-2 shrink-0",children:s.jsx(je,{user:{picture:t.picture,name:t.name},size:"large"})}),e[11]=t.name,e[12]=t.picture,e[13]=_):_=e[13];let b;e[14]!==t.name?(b=s.jsx("div",{className:"text-token-text-primary truncate text-base",children:t.name}),e[14]=t.name,e[15]=b):b=e[15];let a;e[16]!==p||e[17]!==t.email||e[18]!==t.phoneNumber?(a=p?s.jsx(M,{id:"rTrcUH",defaultMessage:"Logging in..."}):(c=t.email)!=null?c:t.phoneNumber,e[16]=p,e[17]=t.email,e[18]=t.phoneNumber,e[19]=a):a=e[19];let j;e[20]!==a?(j=s.jsx("div",{className:"text-token-text-secondary truncate text-sm",children:a}),e[20]=a,e[21]=j):j=e[21];let k;e[22]!==b||e[23]!==j?(k=s.jsxs("div",{className:"flex min-w-0 flex-col",children:[b,j]}),e[22]=b,e[23]=j,e[24]=k):k=e[24];let C;e[25]!==_||e[26]!==k?(C=s.jsxs("div",{className:"flex min-w-0 flex-1 items-center gap-2",children:[_,k]}),e[25]=_,e[26]=k,e[27]=C):C=e[27];let f;e[28]!==n||e[29]!==p?(f=s.jsx("div",{className:"shrink-0",children:p?s.jsx(ye,{className:"text-token-text-tertiary"}):s.jsx(_e,{label:s.jsx(M,{id:"6G1qdV",defaultMessage:"Remove account"}),side:"top",sideOffset:14,withArrow:!0,children:s.jsx(Z,{type:"button",color:"ghost",onClick:n,onKeyDown:Ue,className:"size-10 rounded-full",children:s.jsx(ke,{})})})}),e[28]=n,e[29]=p,e[30]=f):f=e[30];let O;e[31]!==S||e[32]!==y||e[33]!==C||e[34]!==f?(O=s.jsxs("div",{className:"btn btn-secondary flex w-full cursor-pointer items-center justify-between overflow-hidden rounded-3xl p-4 focus-visible:outline-black dark:focus-visible:outline-white",role:"button",ref:d,tabIndex:0,onClick:y,onKeyDown:S,children:[C,f]}),e[31]=S,e[32]=y,e[33]=C,e[34]=f,e[35]=O):O=e[35],h=O}const x=h;let l;e[36]!==x?(l=x&&s.jsx(Y.div,I(W({},$e),{onAnimationComplete:()=>{var u;(u=d.current)==null||u.focus()},children:x}),"profile-card"),e[36]=x,e[37]=l):l=e[37];let v;return e[38]!==l?(v=s.jsx(s.Fragment,{children:s.jsx(ee,{mode:"wait",children:l})}),e[38]=l,e[39]=v):v=e[39],v}function Ue(i){return i.stopPropagation()}const $e={initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.65},transition:{duration:.22,ease:[.4,0,.2,1]}},Je=i=>{"use forget";const e=te.c(58),{onSwitchToGenericLoginOrSignup:t,title:o,subtitle:r,callbackUrl:g,authorizationParams:d,isSsoOptionsVisible:p,location:A}=i,m=p===void 0?!1:p,[n,h]=me.useState(!1);let x;e[0]===Symbol.for("react.memo_cache_sentinel")?(x=()=>h(!1),e[0]=x):x=e[0],Ee(x);const{accountInfo:l,removeAccount:v}=Pe(),c=ue();let u;e[1]!==d||e[2]!==g||e[3]!==c?(u=we(c,g,d),e[1]=d,e[2]=g,e[3]=c,e[4]=u):u=e[4];const y=u;let L;e[5]!==d||e[6]!==c||e[7]!==y?(L=async B=>{h(!0),await Be(c,y,B,d[Ae],Ne.ACCESS_FLOW_ENTRY_POINT_LOG_BACK_IN_MODAL)},e[5]=d,e[6]=c,e[7]=y,e[8]=L):L=e[8];const S=L,_=Ce(!1);let b;e[9]!==_?(b=_(),e[9]=_,e[10]=b):b=e[10];const a=b;let j;e[11]!==S||e[12]!==n||e[13]!==a?(j=s.jsx(Fe,{loginStrategy:"existing_user",google:B=>{const{tempDisabled:P}=B;return s.jsx(Q,{provider:"google",disabled:P||n,className:"".concat(a?"h-12":"h-13"," rounded-full text-base"),onClick:()=>S("google")})},microsoft:B=>{const{tempDisabled:P}=B;return s.jsx(Q,{provider:"microsoft",disabled:P||n,className:"".concat(a?"h-12":"h-13"," rounded-full text-base"),onClick:()=>S("microsoft")})},apple:B=>{const{tempDisabled:P}=B;return s.jsx(Q,{provider:"apple",disabled:P||n,className:"".concat(a?"h-12":"h-13"," rounded-full text-base"),onClick:()=>S("apple")})},email:Ve,phone_number:Ge}),e[11]=S,e[12]=n,e[13]=a,e[14]=j):j=e[14];const k=j,C=de();let f;e[15]!==a?(f={shouldUseSmallerButton:a},e[15]=a,e[16]=f):f=e[16];let O;e[17]===Symbol.for("react.memo_cache_sentinel")?(O=re("flex flex-col items-stretch gap-5 pt-0",C?"px-4 py-2":"px-6 py-10"),e[17]=O):O=e[17];let N;e[18]!==o?(N=o!=null?o:s.jsx(M,{id:"NoAuthWelcomeBackModal.title",defaultMessage:"Welcome back"}),e[18]=o,e[19]=N):N=e[19];let w;e[20]!==N?(w=s.jsx("h2",{className:"text-center text-3xl font-normal",children:N}),e[20]=N,e[21]=w):w=e[21];let G;e[22]===Symbol.for("react.memo_cache_sentinel")?(G=re("px-4 text-center text-base",C?"-mt-2 mb-2":"mb-4"),e[22]=G):G=e[22];let D;e[23]!==(l==null?void 0:l.user)||e[24]!==r?(D=r!=null?r:l!=null&&l.user?s.jsx(Y.div,I(W({},X),{children:s.jsx(M,{id:"logBack.subtitle.chooseAccount",defaultMessage:"Choose an account to continue."})}),"subtitle"):s.jsx(Y.div,I(W({},X),{children:s.jsx(M,{id:"logBack.subtitle.genericSubtitle",defaultMessage:"Log in to use smarter models, create images, and save your chats."})}),"subtitle-generic"),e[23]=l==null?void 0:l.user,e[24]=r,e[25]=D):D=e[25];let E;e[26]!==D?(E=s.jsx("div",{className:G,children:s.jsx(ee,{mode:"wait",children:D})}),e[26]=D,e[27]=E):E=e[27];const J=l==null?void 0:l.user;let F;e[28]!==A||e[29]!==v||e[30]!==J?(F=s.jsx(Re,{user:J,clearUser:v,location:A}),e[28]=A,e[29]=v,e[30]=J,e[31]=F):F=e[31];let T;e[32]!==(l==null?void 0:l.user)?(T=(l==null?void 0:l.user)&&s.jsx(Y.div,I(W({},X),{children:s.jsx(Oe,{className:"my-1!",children:s.jsx(M,{id:"logBackForm.or",defaultMessage:"OR"})})})),e[32]=l==null?void 0:l.user,e[33]=T):T=e[33];let R;e[34]!==T?(R=s.jsx(ee,{mode:"wait",children:T}),e[34]=T,e[35]=R):R=e[35];let U;e[36]!==n||e[37]!==m||e[38]!==t||e[39]!==a?(U=!m&&s.jsx("div",{className:"flex flex-col gap-3",children:[{key:"logBack.loginToAnotherAccount",node:s.jsx(M,{id:"logBack.loginToAnotherAccount",defaultMessage:"Log in to another account"})},{key:"logBack.createAccount",node:s.jsx(M,{id:"logBack.createAccount",defaultMessage:"Create account"})}].map(B=>{const{key:P,node:ge}=B;return s.jsx(Z,{type:"button",onClick:()=>t(!1),className:"".concat(a?"h-12":"h-13"," rounded-full text-base"),color:"secondary",disabled:n,children:ge},P)})}),e[36]=n,e[37]=m,e[38]=t,e[39]=a,e[40]=U):U=e[40];let $;e[41]!==n||e[42]!==m||e[43]!==t||e[44]!==a||e[45]!==k?($=m&&s.jsxs(s.Fragment,{children:[s.jsx(Z,{type:"button",onClick:()=>t(!0),className:"-mb-2 ".concat(a?"h-12":"h-13"," rounded-full text-base"),color:"secondary",disabled:n,children:s.jsx(M,{id:"logBack.loginOrCreateAccount",defaultMessage:"Log in or create account"})}),k]}),e[41]=n,e[42]=m,e[43]=t,e[44]=a,e[45]=k,e[46]=$):$=e[46];let K;e[47]===Symbol.for("react.memo_cache_sentinel")?(K=s.jsx("input",{type:"text",className:"-mt-4 h-0 w-0 border-0 p-0",tabIndex:0,autoFocus:!0,id:"log-back-focus-input"}),e[47]=K):K=e[47];let V;e[48]!==w||e[49]!==E||e[50]!==F||e[51]!==R||e[52]!==U||e[53]!==$?(V=s.jsxs("div",{className:O,"data-testid":"log-back-form",children:[w,E,F,R,U,$,K]}),e[48]=w,e[49]=E,e[50]=F,e[51]=R,e[52]=U,e[53]=$,e[54]=V):V=e[54];let z;return e[55]!==V||e[56]!==f?(z=s.jsx(Me,{value:f,children:V}),e[55]=V,e[56]=f,e[57]=z):z=e[57],z},X={initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.65},transition:{duration:.18,ease:[.4,0,.2,1]}};function Ve(){return null}function Ge(){return null}export{fe as L,Je as a,Ye as g};
//# sourceMappingURL=k5o2uyubrehejlmi.js.map
