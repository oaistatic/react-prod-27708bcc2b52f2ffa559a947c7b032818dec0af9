import{r as f,j as u}from"./fg33krlcm0qyi6yw.js";import{dH as l,dF as m,C as g}from"./mtk1qztvnb31pw5r.js";import{i as d,cR as h}from"./k65njl5wlgspihfr.js";function v(e,s){const t=l(e);return t?{id:"tmp",kind:"message_slice",messages:s.map(i=>{var o;const n=m.findNode(t,({message:a})=>a.id===i);return(o=n==null?void 0:n.message)!=null?o:null}).filter(Boolean)}:null}function w(e){return{id:"tmp",kind:"message_slice",messages:[e.previewMessage]}}function M({clientThreadId:e,coverImageUrl:s,messageSliceIds:t,odysseyShareIntent:r,onClose:i}){f.useEffect(()=>{if(!t||t.length===0)return;const o=l(e);t.filter(p=>!m.findNode(o,({message:c})=>c.id===p)).length>0&&d(e)},[e,t]);const n=f.useMemo(()=>r?w(r):s||!t||t.length===0?null:v(e,t),[s,e,t,r]);return n?u.jsx(g,{testId:"modal-mobile-post-preview",isOpen:!0,onClose:i,type:"success",size:"custom",position:"top",noPadding:!0,contentClassName:"w-full",children:u.jsx("div",{className:"aspect-[4/3] w-full",children:u.jsx(h,{attachments:[n],clientThreadId:e,className:"h-full"})})}):null}export{M as MobilePostPreview};
//# sourceMappingURL=nehkolpks6e9k3o9.js.map
