var ft=Object.defineProperty,gt=Object.defineProperties;var xt=Object.getOwnPropertyDescriptors;var ze=Object.getOwnPropertySymbols;var ht=Object.prototype.hasOwnProperty,pt=Object.prototype.propertyIsEnumerable;var Ue=(s,e,a)=>e in s?ft(s,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[e]=a,y=(s,e)=>{for(var a in e||(e={}))ht.call(e,a)&&Ue(s,a,e[a]);if(ze)for(var a of ze(e))pt.call(e,a)&&Ue(s,a,e[a]);return s},F=(s,e)=>gt(s,xt(e));import{j as t,r as D,M as p,c as Ve,e as Xe,f as Je,b as yt,u as jt,m as Ae,E as vt}from"./fg33krlcm0qyi6yw.js";import{vN as et,o as Se,b as be,l as W,bO as kt,i9 as bt,vO as Nt,iK as Mt,aY as _t,a9 as pe,vP as wt,R as Tt,vQ as Ct,bF as tt,c0 as st,cC as Et,cM as Re,bm as A,P as K,aD as Lt,iq as We,m as St,vR as At,bW as Rt,lL as Bt,lM as Ot,bx as Pt,vS as qt,b2 as Dt,_ as It,u0 as Ft}from"./mtk1qztvnb31pw5r.js";import{b as H}from"./mstl8wgfzorpgdoe.js";import{q4 as Gt,q5 as zt,q6 as Ut,Z as Wt,fn as nt,fM as Ye,jQ as Yt,q7 as at,q8 as $t,q9 as Ht,qa as Kt}from"./k65njl5wlgspihfr.js";import{C as ot}from"./c0ls495fz2t1hbyy.js";import{E as Zt}from"./cdscbhv4xu1gie74.js";import{E as Qt}from"./lim1lqburrpeu20v.js";import{A as Vt}from"./fw6x669g9hrx2l8g.js";import{u as it}from"./bgx9m29b5moow7ak.js";const Be=s=>{const e=[],a=/\[([^\]]+)\]\(([^)]+)\)/g;let o=0,n;for(;(n=a.exec(s))!==null;){n.index>o&&e.push(s.slice(o,n.index));const[l,u,r]=n;e.push(t.jsx("a",{href:r,target:"_blank",rel:"noreferrer",className:"underline",children:u},"".concat(r,"-").concat(n.index))),o=n.index+l.length}return o<s.length&&e.push(s.slice(o)),e.length===0?s:e.length===1?e[0]:e},lt=({blurbs:s})=>{var e;return t.jsx("div",{className:"border-token-border-default rounded-2xl border px-4 py-2",children:Array.from({length:(e=s==null?void 0:s.length)!=null?e:3}).map((a,o)=>{const n=s==null?void 0:s[o];return t.jsx("div",{className:"border-token-border-default flex gap-4 border-b py-2 last-of-type:border-none",children:n?t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsx("div",{className:"pb-0.5 text-sm font-medium",children:n.title}),t.jsx("div",{className:"text-token-text-secondary text-xs",children:Be(n.description)})]}):t.jsx(et,{lines:2})},"".concat(o))})})},Xt=({blurbs:s,showTitles:e=!0})=>{var a;return t.jsx("div",{className:"flex flex-col gap-2.5",children:Array.from({length:(a=s==null?void 0:s.length)!=null?a:3}).map((o,n)=>{const l=s==null?void 0:s[n];return t.jsx(D.Fragment,{children:l?t.jsxs("div",{className:"text-token-text-tertiary text-xs leading-snug",children:[e&&t.jsxs("span",{className:"text-token-text-primary text-xs font-medium",children:[l.title,t.jsx(p,{id:"CjgKTH",defaultMessage:". "})]}),Be(l.description)]}):t.jsx(et,{lines:2})},n)})})};function Jt(s){try{const e=new DOMParser().parseFromString(s,"image/svg+xml"),a=new Set(["fill","stroke","stop-color","flood-color","lighting-color","color","background-color"]),o=[/#(?:[0-9a-fA-F]{3,8})\b/g,/\brgba?\(\s*[\d.\s%,]+\)/g,/\bhsla?\(\s*[\d.\s%,]+\)/g],n=/\b(aliceblue|antiquewhite|aqua|aquamarine|azure|beige|black|white|bisque|blanchedalmond|blue|blueviolet|brown|burlywood|cadetblue|chartreuse|chocolate|coral|cornflowerblue|cornsilk|crimson|cyan|darkblue|darkcyan|darkgoldenrod|darkgray|darkgreen|darkgrey|darkkhaki|darkmagenta|darkolivegreen|darkorange|darkorchid|darkred|darksalmon|darkseagreen|darkslateblue|darkslategray|darkslategrey|darkturquoise|darkviolet|deeppink|deepskyblue|dimgray|dimgrey|dodgerblue|firebrick|floralwhite|forestgreen|fuchsia|gainsboro|ghostwhite|gold|goldenrod|gray|green|greenyellow|grey|honeydew|hotpink|indianred|indigo|ivory|khaki|lavender|lavenderblush|lawngreen|lemonchiffon|lightblue|lightcoral|lightcyan|lightgoldenrodyellow|lightgray|lightgreen|lightgrey|lightpink|lightsalmon|lightseagreen|lightskyblue|lightslategray|lightslategrey|lightsteelblue|lightyellow|lime|limegreen|linen|magenta|maroon|mediumaquamarine|mediumblue|mediumorchid|mediumpurple|mediumseagreen|mediumslateblue|mediumspringgreen|mediumturquoise|mediumvioletred|midnightblue|mintcream|mistyrose|moccasin|navajowhite|navy|oldlace|olive|olivedrab|orange|orangered|orchid|palegoldenrod|palegreen|paleturquoise|palevioletred|papayawhip|peachpuff|peru|pink|plum|powderblue|purple|rebeccapurple|red|rosybrown|royalblue|saddlebrown|salmon|sandybrown|seagreen|seashell|sienna|silver|skyblue|slateblue|slategray|slategrey|snow|springgreen|steelblue|tan|teal|thistle|tomato|turquoise|violet|wheat|whitesmoke|yellow|yellowgreen)\b/gi,l=new Set,u=i=>{var c,f;for(const m of o)((c=i.match(m))!=null?c:[]).forEach(g=>{var v;return l.add((v=$e(g))!=null?v:"")});((f=i.match(n))!=null?f:[]).forEach(m=>{var g;return l.add((g=$e(m.toLowerCase()))!=null?g:"")})};e.querySelectorAll("*").forEach(i=>{var c,f;for(const m of i.getAttributeNames())a.has(m)&&u((c=i.getAttribute(m))!=null?c:""),m==="style"&&u((f=i.getAttribute("style"))!=null?f:"")}),e.querySelectorAll("style").forEach(i=>u(i.textContent||"")),e.querySelectorAll("stop").forEach(i=>{const c=i.getAttribute("stop-color");c&&u(c);const f=i.getAttribute("style");f&&u(f)});for(const i of Array.from(l))/^url\(#/.test(i)&&l.delete(i),(i==="#000000"||i==="#ffffff")&&l.delete(i),i===""&&l.delete(i),i||l.delete(i);return Array.from(l)}catch(e){return[]}}const es=s=>Jt(s).filter(a=>{const o=H.parse(a),n=H.getBlue(o),l=H.getGreen(o),u=H.getRed(o);return n!==l||l!==u});var Y=(s=>(s[s.YELLOW=0]="YELLOW",s[s.RED=1]="RED",s[s.GREEN=2]="GREEN",s[s.BLUE=3]="BLUE",s))(Y||{});const ts=s=>es(s).reduce((o,n)=>{const l=H.parse(n),u=H.getBlue(l),r=H.getGreen(l),i=H.getRed(l);o.push({channel:3,score:u},{channel:2,score:r},{channel:1,score:i});const c=ss(i,r,u);return c>0&&o.push({channel:0,score:c}),o},[]).reduce((o,n)=>n.score>o.score||n.score===o.score&&n.channel<o.channel?n:o,{channel:3,score:0}).channel,ss=(s,e,a)=>{const o=Math.min(s,e),l=Math.max(s,e)-o;if(o<120||l>80||a>o*.6)return 0;const u=(s+e)/2,r=Math.max(o-a,0),i=u+r;return i>0?i:0};function $e(s){const e=s.replace("#","").toLowerCase();return e.length===3||e.length===4?"#".concat(e[0]).concat(e[0]).concat(e[1]).concat(e[1]).concat(e[2]).concat(e[2]):e.length===6||e.length===8?"#".concat(e.slice(0,6)):null}const ns={[Y.RED]:"https://persistent.oaistatic.com/static-nux/ecosystem-app-connect-modal-bg-red.jpg",[Y.GREEN]:"https://persistent.oaistatic.com/static-nux/ecosystem-app-connect-modal-bg-green.jpg",[Y.BLUE]:"https://persistent.oaistatic.com/static-nux/ecosystem-app-connect-modal-bg-blue.jpg",[Y.YELLOW]:"https://persistent.oaistatic.com/static-nux/ecosystem-app-connect-modal-bg-yellow.jpg"},as="https://persistent.oaistatic.com/static-nux/ecosystem-app-connect-modal-bg.jpg",os={[Y.RED]:"light",[Y.GREEN]:"light",[Y.BLUE]:"dark",[Y.YELLOW]:"light"},rt=s=>{"use forget";var Pe,qe,De,Ie,Fe,Ge;const e=Ve.c(86),{blurbs:a,primaryActions:o,connector:n,personalizeResultsEnabled:l,onPersonalizeResultsChange:u,isSavingPersonalization:r,personalizationToggleBlurb:i,onClose:c}=s,f=r===void 0?!1:r,m=i===void 0?null:i,g=be(),v=Se(g,"3641170085");let d;e[0]!==g?(d=Se(g,"1628108066"),e[0]=g,e[1]=d):d=e[1];const T=d&&m;let C;e[2]!==n||e[3]!==g?(C=Gt(g,n),e[2]=n,e[3]=g,e[4]=C):C=e[4];const N=C,h=zt(g,n),M=(Pe=n.logo_url)!=null?Pe:null,x=(qe=n.logo_url_dark)!=null?qe:null;let b;e[5]!==M||e[6]!==x?(b={lightLogoUrl:M,darkLogoUrl:x},e[5]=M,e[6]=x,e[7]=b):b=e[7];const L=Ut(b),_=n.connector_type==="FIRST_PARTY_ECOSYSTEM"&&((De=a==null?void 0:a.length)!=null?De:0)<=1;(Ie=L.data)==null||Ie.text;const w=ts((Ge=(Fe=L.data)==null?void 0:Fe.text)!=null?Ge:""),E=n.connector_type==="FIRST_PARTY_ECOSYSTEM",P="flex flex-col",B=v?os[w]:"dark";let j;e[8]!==B?(j=W("overflow-hidden bg-cover bg-no-repeat",B),e[8]=B,e[9]=j):j=e[9];const q="url(".concat(v?ns[w]:as,")");let O;e[10]!==q?(O={backgroundImage:q},e[10]=q,e[11]=O):O=e[11];let G;e[12]===Symbol.for("react.memo_cache_sentinel")?(G=t.jsx(bt,{className:"icon"}),e[12]=G):G=e[12];let S;e[13]!==c?(S=t.jsx("div",{className:"flex justify-end p-2",children:t.jsx(Wt,{className:"text-white",onClick:c,children:G})}),e[13]=c,e[14]=S):S=e[14];const z=h?"md:gap-4 md:px-12":"",I=_&&"pt-12";let U;e[15]!==z||e[16]!==I?(U=W("flex w-full flex-row",z,I),e[15]=z,e[16]=I,e[17]=U):U=e[17];const Q=h?"items-center md:items-start md:justify-center":"items-center";let V;e[18]!==Q?(V=W("flex flex-auto flex-col gap-4",Q),e[18]=Q,e[19]=V):V=e[19];const Ne=E?"p-0.75":"p-2";let X;e[20]!==Ne?(X=W("shrink-0 rounded-xl border-[0.5px] bg-white shadow-sm",Ne),e[20]=Ne,e[21]=X):X=e[21];const Me=h?"small":E?"large":"medium";let J;e[22]!==n||e[23]!==X||e[24]!==Me?(J=t.jsx(nt,{connector:n,className:X,size:Me}),e[22]=n,e[23]=X,e[24]=Me,e[25]=J):J=e[25];let je;e[26]===Symbol.for("react.memo_cache_sentinel")?(je=t.jsx("div",{className:"my-auto h-8 w-px bg-white opacity-70"}),e[26]=je):je=e[26];const _e=h?"small":"medium";let ee;e[27]!==_e?(ee=t.jsx(Nt,{size:_e}),e[27]=_e,e[28]=ee):ee=e[28];let te;e[29]!==J||e[30]!==ee?(te=t.jsxs("div",{className:"flex items-center gap-3.5",children:[J,je,ee]}),e[29]=J,e[30]=ee,e[31]=te):te=e[31];const we=h?"max-md:px-5 md:items-start":"items-center text-center";let se;e[32]!==we?(se=W("flex flex-col gap-2 text-balance",we),e[32]=we,e[33]=se):se=e[33];const Te=h?"text-2xl md:text-xl":"text-2xl";let ne;e[34]!==Te?(ne=W("text-token-text-primary text-center font-medium",Te),e[34]=Te,e[35]=ne):ne=e[35];let ae;e[36]!==n.name?(ae=t.jsx(p,{id:"Ihrgq0",defaultMessage:"Use {connectorName} in ChatGPT",values:{connectorName:n.name}}),e[36]=n.name,e[37]=ae):ae=e[37];let oe;e[38]!==ne||e[39]!==ae?(oe=t.jsx("span",{className:ne,children:ae}),e[38]=ne,e[39]=ae,e[40]=oe):oe=e[40];const Ce=n.description&&t.jsx("span",{className:W("text-token-text-secondary text-center text-sm",h&&"md:hidden"),children:n.description});let ie;e[41]!==se||e[42]!==oe||e[43]!==Ce?(ie=t.jsxs("div",{className:se,children:[oe,Ce]}),e[41]=se,e[42]=oe,e[43]=Ce,e[44]=ie):ie=e[44];const Ee=h?"flex-col items-center md:items-start":"flex-row items-center",Le=_?"pb-10":"pb-8";let le;e[45]!==Ee||e[46]!==Le?(le=W("flex justify-center gap-4 pt-4",Ee,Le),e[45]=Ee,e[46]=Le,e[47]=le):le=e[47];let re;e[48]!==o||e[49]!==le?(re=t.jsx("div",{className:le,children:o}),e[48]=o,e[49]=le,e[50]=re):re=e[50];let ce;e[51]!==_?(ce=_&&t.jsx("div",{className:"py-6 text-center text-xs text-white/65",children:t.jsx(p,{id:"ecosystemAppLinkModal.firstPartyFooterAttribution",defaultMessage:"Designed and developed by OpenAI"})}),e[51]=_,e[52]=ce):ce=e[52];let de;e[53]!==V||e[54]!==te||e[55]!==ie||e[56]!==re||e[57]!==ce?(de=t.jsxs("div",{className:V,children:[te,ie,re,ce]}),e[53]=V,e[54]=te,e[55]=ie,e[56]=re,e[57]=ce,e[58]=de):de=e[58];let ue;e[59]!==h||e[60]!==N?(ue=h&&t.jsx("div",{className:"flex flex-col max-md:hidden",children:t.jsx("div",{className:"shadow-long h-full min-h-68 w-56 overflow-hidden rounded-ss-2xl rounded-se-2xl bg-white",children:t.jsx("div",{className:"h-full w-full bg-white bg-cover bg-top bg-no-repeat",style:{backgroundImage:"url(".concat(N,")")}})})}),e[59]=h,e[60]=N,e[61]=ue):ue=e[61];let me;e[62]!==U||e[63]!==de||e[64]!==ue?(me=t.jsxs("div",{className:U,children:[de,ue]}),e[62]=U,e[63]=de,e[64]=ue,e[65]=me):me=e[65];let fe;e[66]!==j||e[67]!==O||e[68]!==S||e[69]!==me?(fe=t.jsxs("div",{className:j,style:O,children:[S,me]}),e[66]=j,e[67]=O,e[68]=S,e[69]=me,e[70]=fe):fe=e[70];let ge;e[71]!==f||e[72]!==u||e[73]!==m||e[74]!==l||e[75]!==T?(ge=T&&m&&t.jsxs("div",{className:"px-4 pt-4",children:[t.jsxs("label",{className:"flex items-center justify-between gap-4",children:[t.jsx("div",{className:"flex w-full flex-col gap-1",children:t.jsxs("div",{className:"text-token-text-tertiary pe-4 text-xs leading-snug",children:[t.jsxs("span",{className:"text-token-text-primary text-xs font-medium",children:[m.title,t.jsx(p,{id:"5QI6Lr",defaultMessage:". "})]}),Be(m.description)]})}),t.jsx(kt,{withinLabel:!0,checked:l,onCheckedChange:mt=>{u(!!mt)},disabled:f})]}),t.jsx("hr",{className:"border-token-border-primary mt-3 w-full"})]}),e[71]=f,e[72]=u,e[73]=m,e[74]=l,e[75]=T,e[76]=ge):ge=e[76];let xe;e[77]!==a||e[78]!==_?(xe=!_&&t.jsx("div",{className:"px-4 py-4",children:t.jsx(Xt,{blurbs:a})}),e[77]=a,e[78]=_,e[79]=xe):xe=e[79];let he;e[80]!==ge||e[81]!==xe?(he=t.jsxs("div",{className:"px-1",children:[ge,xe]}),e[80]=ge,e[81]=xe,e[82]=he):he=e[82];let ve;return e[83]!==fe||e[84]!==he?(ve=t.jsxs("div",{className:P,children:[fe,he]}),e[83]=fe,e[84]=he,e[85]=ve):ve=e[85],ve},is=s=>{"use forget";const e=Ve.c(44),{value:a,onChange:o,onClose:n,isSaveDisabled:l}=s,u=l===void 0?!1:l,[r,i]=D.useState(a),c=Xe();let f;e[0]===Symbol.for("react.memo_cache_sentinel")?(f=t.jsx("div",{className:"text-2xl font-semibold",children:t.jsx(p,y({},$.advancedSettingsTitle))}),e[0]=f):f=e[0];let m;e[1]!==n?(m=t.jsxs("div",{className:"flex items-start justify-between",children:[f,t.jsx(_t,{onClick:n})]}),e[1]=n,e[2]=m):m=e[2];let g;e[3]===Symbol.for("react.memo_cache_sentinel")?(g=t.jsx("div",{className:"mt-6 mb-2 text-sm font-medium",children:t.jsx(p,y({},$.connectionType))}),e[3]=g):g=e[3];const v=r?"sync":"ondemand";let d;e[4]===Symbol.for("react.memo_cache_sentinel")?(d=O=>i(O==="sync"),e[4]=d):d=e[4];let k;e[5]===Symbol.for("react.memo_cache_sentinel")?(k=t.jsx("div",{className:"text-sm font-medium",children:t.jsx(p,y({},$.syncTitle))}),e[5]=k):k=e[5];let T;e[6]===Symbol.for("react.memo_cache_sentinel")?(T=t.jsxs("div",{className:"flex flex-col gap-1",children:[k,t.jsx("div",{className:"text-token-text-secondary text-xs",children:t.jsx(p,F(y({},$.syncDescription),{values:{link:ls}}))})]}),e[6]=T):T=e[6];let C;e[7]!==r?(C=t.jsxs("label",{className:"flex items-start justify-between gap-3 p-4",children:[T,t.jsx(Ye,{value:"sync",children:t.jsx(He,{selected:r})})]}),e[7]=r,e[8]=C):C=e[8];let N;e[9]===Symbol.for("react.memo_cache_sentinel")?(N=t.jsx("div",{className:"text-sm font-medium",children:t.jsx(p,y({},$.onDemandTitle))}),e[9]=N):N=e[9];let h;e[10]===Symbol.for("react.memo_cache_sentinel")?(h=t.jsxs("div",{className:"flex flex-col gap-1",children:[N,t.jsx("div",{className:"text-token-text-secondary text-xs",children:t.jsx(p,y({},$.onDemandDescription))})]}),e[10]=h):h=e[10];const M=!r;let x;e[11]!==M?(x=t.jsxs("label",{className:"border-token-border-default flex items-start justify-between gap-3 border-t p-4",children:[h,t.jsx(Ye,{value:"ondemand",children:t.jsx(He,{selected:M})})]}),e[11]=M,e[12]=x):x=e[12];let b;e[13]!==x||e[14]!==v||e[15]!==C?(b=t.jsx("div",{className:"mt-2",children:t.jsx("div",{className:"border-token-border-default overflow-hidden rounded-xl border",children:t.jsxs(Yt.Root,{value:v,onValueChange:d,className:"flex w-full flex-col",children:[C,x]})})}),e[13]=x,e[14]=v,e[15]=C,e[16]=b):b=e[16];let L;e[17]!==r||e[18]!==n||e[19]!==a?(L=()=>{r!==a&&i(a),n()},e[17]=r,e[18]=n,e[19]=a,e[20]=L):L=e[20];let _;e[21]!==c?(_=c.formatMessage($.cancel),e[21]=c,e[22]=_):_=e[22];let w;e[23]!==L||e[24]!==_?(w=t.jsx(pe,{color:"secondary",onClick:L,children:_}),e[23]=L,e[24]=_,e[25]=w):w=e[25];let E;e[26]!==r||e[27]!==o||e[28]!==n||e[29]!==a?(E=()=>{a!==r&&o(r),n()},e[26]=r,e[27]=o,e[28]=n,e[29]=a,e[30]=E):E=e[30];let P;e[31]!==c?(P=c.formatMessage($.save),e[31]=c,e[32]=P):P=e[32];let B;e[33]!==u||e[34]!==E||e[35]!==P?(B=t.jsx(pe,{onClick:E,disabled:u,children:P}),e[33]=u,e[34]=E,e[35]=P,e[36]=B):B=e[36];let j;e[37]!==w||e[38]!==B?(j=t.jsxs("div",{className:"mt-auto flex items-center justify-between pt-4",children:[w,B]}),e[37]=w,e[38]=B,e[39]=j):j=e[39];let q;return e[40]!==b||e[41]!==j||e[42]!==m?(q=t.jsxs("div",{className:"flex flex-1 flex-col p-2",children:[m,g,b,j]}),e[40]=b,e[41]=j,e[42]=m,e[43]=q):q=e[43],q},He=({selected:s})=>s?t.jsx("button",{className:"flex h-5 w-5 items-center justify-center rounded-full bg-gray-950 p-0.5 dark:bg-white",children:t.jsx("div",{className:"h-2 w-2 rounded-full bg-white dark:bg-gray-950"})}):t.jsx("button",{className:"border-token-border-default h-5 w-5 rounded-full border"}),$=Je({advancedSettingsLink:{id:"qAio8L",defaultMessage:"Advanced settings"},advancedSettingsTitle:{id:"W24xFG",defaultMessage:"Advanced settings"},connectionType:{id:"GpZZmq",defaultMessage:"Connection type"},syncTitle:{id:"3kK9K9",defaultMessage:"Sync"},syncDescription:{id:"a0q+Sp",defaultMessage:"Automatically syncs, indexes, and stores content to ChatGPT for improved response speed and quality. <link>Learn more</link>"},onDemandTitle:{id:"JSo4N3",defaultMessage:"On demand"},onDemandDescription:{id:"5PZSBI",defaultMessage:"Access content on demand. Responses will take longer and may be lower quality"},cancel:{id:"qz9XeG",defaultMessage:"Cancel"},save:{id:"LXZUd1",defaultMessage:"Save changes"}});function ls(s){return t.jsx(Mt,{href:ot,className:"underline",children:s})}const ct=D.createContext(null),rs=async(s,e)=>await Tt.safeGet("/aip/connectors/{connector_id}/tos",{parameters:{path:{connector_id:s}},additionalHeaders:e?{[Ct]:e}:void 0}),dt=(s,e,{enabled:a=!0}={})=>yt({queryKey:wt(s,e),queryFn:()=>{if(!s)throw new Error("connectorId is required to fetch connector TOS");return rs(s,e)},staleTime:300*1e3,enabled:a&&!!s}),cs=({connectorId:s,productSku:e,children:a,enabled:o=!0})=>{const n=dt(s,e,{enabled:o}),l=D.useMemo(()=>({query:n}),[n]);return t.jsx(ct.Provider,{value:l,children:a})},ds=()=>{const s=D.useContext(ct);if(!s)throw new Error("useRedirectTos must be used within a RedirectTosProvider");return s.query},us=(s,e)=>{var a,o,n;return e?{genericName:(a=e.generic_name)!=null?a:s.name,blurbs:(o=e.blurbs)!=null?o:[],personalizationToggleBlurb:(n=e.personalization_toggle_blurb)!=null?n:null}:null},ms=s=>s?s.personalization_default==="PERSONALIZE_ALWAYS":null;function Oe(){const s=Ae();return vt.useMemo(()=>{var a;const e=s.hash.includes("?")?s.hash.substring(s.hash.indexOf("?")+1):s.search.substring(1);return(a=new URLSearchParams(e).get("referrer"))!=null?a:void 0},[s.hash,s.search])}const Z=({loading:s,fitWidth:e=!1,color:a="primary",disabled:o=!1,onClick:n,children:l})=>t.jsx(pe,{className:e?"w-fit":"w-full",size:"large",onClick:n,loading:s,disabled:o,color:a,children:l}),ke=({loading:s=!1,disabled:e=!1,fitWidth:a=!1,onClick:o,children:n})=>t.jsx(pe,{className:W("text-token-text-secondary border-0",a?"w-fit":"w-full"),size:"large",onClick:o,loading:s,disabled:e,color:"secondary",children:n}),ye=({connector:s,tos:e,onClose:a,children:o,beforeBlurbs:n,willSync:l=!1,hideHeaderIcons:u=!1})=>{var m,g;const r=Xe(),i={icon:"folder_stuffed",title:r.formatMessage(R.syncTitle),description:r.formatMessage(R.syncDescription,{connectorName:s.name,link:v=>"[".concat(v,"](").concat(ot,")")})},c=Pt[s.id],f=c!=null&&qt.has(c);return t.jsxs("div",{className:"flex flex-col gap-6",children:[t.jsxs("div",{children:[t.jsx(tt,{onClose:a,connectorIcon:t.jsx(nt,{connector:s,className:"rounded-xl border-[0.5px] p-2 shadow-sm",size:"medium"}),connectorDeveloper:(g=(m=s.branding)==null?void 0:m.developer)!=null?g:void 0,title:t.jsx(p,F(y({},R.addConnectorLinkModalTitle),{values:{connectorName:s.name}})),hideAvatarRow:u}),f?null:t.jsx("div",{className:"mt-3",children:t.jsx(Vt,{mode:"single",side:"bottom"})})]}),n,t.jsx(lt,{blurbs:l&&e?[i,...e.blurbs]:e==null?void 0:e.blurbs}),o]})},Ke=({connector:s,tos:e,onClose:a})=>{var l,u;const o=be();return at(o,s)?t.jsx(rt,{blurbs:(l=e==null?void 0:e.blurbs)!=null?l:null,connector:s,primaryActions:t.jsx(Z,{loading:!0,onClick:()=>{}}),personalizeResultsEnabled:!1,onPersonalizeResultsChange:()=>{},personalizationToggleBlurb:(u=e==null?void 0:e.personalizationToggleBlurb)!=null?u:null,onClose:a}):t.jsx(ye,{connector:s,tos:e,onClose:a,children:t.jsx(Z,{loading:!0,onClick:()=>{}})})},Ze=({connector:s,tos:e,onClose:a,retry:o})=>t.jsx(ye,{connector:s,tos:e,onClose:a,children:t.jsx("div",{className:"flex items-center justify-center pt-4",children:t.jsx(pe,{onClick:o,size:"large",className:"w-full",children:t.jsx(p,y({},R.errorLoadingStateButton))})})}),Ts=({connectorIcon:s,connectorName:e,connectorId:a,onClose:o,isConnecting:n,onContinue:l,productSku:u})=>{var v,d;const{data:r,isLoading:i,isError:c,refetch:f}=dt(a,u),m=(v=r==null?void 0:r.blurbs)!=null?v:[],g=(d=r==null?void 0:r.generic_name)!=null?d:"Google";return t.jsxs(t.Fragment,{children:[t.jsx(tt,{onClose:o,connectorIcon:s,title:t.jsx(p,F(y({},R.addConnectorLinkModalTitle),{values:{connectorName:e}}))}),i?t.jsx("div",{className:"flex items-center justify-center p-4",children:t.jsx(st,{})}):c?t.jsx("div",{className:"flex items-center justify-center pt-4",children:t.jsx(pe,{onClick:()=>void f(),size:"large",className:"w-full",children:t.jsx(p,y({},R.errorLoadingStateButton))})}):m.length>0?t.jsx(lt,{blurbs:m}):null,t.jsx("div",{className:"pt-4",children:t.jsx(Z,{loading:n,onClick:l,children:t.jsx(p,F(y({},R.continueButton),{values:{connectorName:g}}))})})]})},ut=({connector:s,tos:e,onClose:a,isConnecting:o,isConnectingAuthType:n,onContinue:l,showExternalIcon:u,additionalContent:r,additionalMessageThatDoesNotContainLegalClaims:i,canSync:c=!1,isRequestingSync:f=!1,setIsRequestingSync:m,personalizationLinkId:g,personalizeResultsEnabled:v=!1,onPersonalizeResultsChange:d=()=>{},isSavingPersonalization:k=!1,isContinueDisabled:T=!1,hideHeaderIcons:C=!1})=>{var z;const N=be(),h=N&&Se(N,"2792858552"),M=Et(),x=Oe(),b=Re(s,M);D.useEffect(()=>{A.logModalShown({connector_id_metadata:A.createIdMetadataFromConnector(s,x!=null?x:"unknown_referrer"),referrer:x!=null?x:"unknown_referrer",mfaState:"not_required",authType:b!=null?b:void 0}),K.logEventWithStatsig("connectors.shown_connect_modal","connectors.shown_connect_modal",y({mfa:"not_required",type:s.id},x&&{referrer:x}))},[s,x,b]);const L=I=>{var U,Q;Bt(s.id,Ot.ConnectorLinkContinueClick,{auth_type:(U=w?I:b)!=null?U:""}),A.logModalActionTaken({connector_id_metadata:A.createIdMetadataFromConnector(s,x!=null?x:"unknown_referrer"),action:"connection",authType:(Q=w?I:b)!=null?Q:"NONE",referrer:x!=null?x:"unknown_referrer"}),K.logEventWithStatsig("connectors.click_continue_modal","connectors.click_continue_modal",{action:"connection",type:s.id}),l(I,v)},{supported_auth:_}=s,w=h&&!M&&_.some(I=>I.type==="OAUTH")&&_.some(I=>I.type==="NONE"),E=i?t.jsx("div",{className:"bg-token-interactive-bg-accent-muted-context rounded-xl p-4 text-center text-sm text-[#0285FF]",children:i}):void 0,[P,B]=D.useState(!1),j=at(N,s),{country:q}=Lt(),O=q!=null&&$t.has(q),G=t.jsxs(t.Fragment,{children:[t.jsx(Z,{fitWidth:j,loading:o&&n==="OAUTH",disabled:T,onClick:()=>L("OAUTH"),children:t.jsxs("span",{className:"flex items-center justify-center gap-1",children:[j?t.jsx(p,{id:"emLORe",defaultMessage:"Continue"}):t.jsx(p,F(y({},R.continueButton),{values:{connectorName:s.name}})),u&&t.jsx(We,{className:"icon-sm"})]})}),t.jsx(ke,{fitWidth:j,loading:o&&n==="NONE",disabled:T,onClick:()=>L("NONE"),children:t.jsx("span",{className:"flex items-center justify-center gap-1",children:t.jsx(p,y({},R.connectWithoutAccountButton))})}),O&&t.jsx(ke,{fitWidth:j,onClick:a,children:t.jsx("span",{className:"flex items-center justify-center gap-1",children:t.jsx(p,{id:"IwBFou",defaultMessage:"Cancel"})})})]}),S=t.jsxs(t.Fragment,{children:[t.jsx(Z,{fitWidth:j,loading:o,disabled:T,onClick:()=>L(),children:t.jsxs("span",{className:"flex items-center justify-center gap-1",children:[b==="OAUTH"?j?t.jsx(p,{id:"emLORe",defaultMessage:"Continue"}):t.jsx(p,F(y({},R.continueButton),{values:{connectorName:s.name}})):j?t.jsx(p,{id:"yWpEzd",defaultMessage:"Connect"}):t.jsx(p,F(y({},R.connectButton),{values:{connectorName:s.name}})),b==="OAUTH"&&u&&t.jsx(We,{className:"icon-sm"})]})}),O&&t.jsx(ke,{fitWidth:j,onClick:a,children:t.jsx("span",{className:"flex items-center justify-center gap-1",children:t.jsx(p,{id:"IwBFou",defaultMessage:"Cancel"})})})]});return j?t.jsx(rt,{blurbs:e.blurbs,connector:s,primaryActions:w?G:S,personalizeResultsEnabled:v,onPersonalizeResultsChange:d,isSavingPersonalization:k,personalizationToggleBlurb:(z=e.personalizationToggleBlurb)!=null?z:null,onClose:a}):t.jsx(t.Fragment,{children:P&&m&&!o?t.jsx(is,{value:f,onChange:m,onClose:()=>B(!1)}):t.jsx(ye,{connector:s,tos:e,onClose:a,beforeBlurbs:E,willSync:f,hideHeaderIcons:C,children:t.jsxs("div",{className:"flex flex-col gap-2",children:[r,w?G:S,c&&t.jsx("p",{className:"text-token-text-secondary text-center text-sm font-medium",children:t.jsx(ke,{onClick:()=>B(!0),disabled:o,children:t.jsx(p,{id:"qAio8L",defaultMessage:"Advanced settings"})})})]})})})},fs=({connector:s,tos:e,onClose:a})=>{const o=Ae(),[n,l]=D.useState(!1),u=o.hash?o.pathname+o.hash:o.pathname,{setupMfa:r}=it({redirectUrl:u}),i=Oe(),c=Re(s);D.useEffect(()=>{A.logModalShown({connector_id_metadata:A.createIdMetadataFromConnector(s,i!=null?i:"unknown_referrer"),referrer:i!=null?i:"unknown_referrer",mfaState:"required",authType:c!=null?c:void 0}),K.logEventWithStatsig("connectors.shown_connect_modal","connectors.shown_connect_modal",y({mfa:"required",type:s.id},i&&{referrer:i}))},[s,i,c]);const f=()=>{l(!0),A.logModalActionTaken({connector_id_metadata:A.createIdMetadataFromConnector(s,i!=null?i:"unknown_referrer"),referrer:i!=null?i:"unknown_referrer",action:"mfa",authType:c!=null?c:"NONE"}),K.logEventWithStatsig("connectors.click_continue_modal","connectors.click_continue_modal",y({action:"mfa",type:s.id},i&&{referrer:i})),r()};return t.jsxs(ye,{connector:s,tos:e,onClose:a,children:[t.jsx("div",{className:"pt-2"}),t.jsx("div",{className:"border-token-border-default border-t p-4",children:t.jsx("div",{className:"text-token-text-primary font-medium",children:t.jsx(p,y({},R.mfaRequiredTitle))})}),t.jsx(Z,{loading:n,onClick:f,children:t.jsx(p,y({},R.mfaRequiredButton))})]})},Qe={"google-oauth2":{icon:t.jsx(Ft,{}),name:"Google"},windowslive:{icon:t.jsx(Qt,{}),name:"Microsoft"},apple:{icon:t.jsx(Zt,{}),name:"Apple"}},gs=({connector:s,tos:e,onClose:a,isConnecting:o,onContinue:n,hideHeaderIcons:l=!1})=>{var M;const u=be(),{session:r}=Dt(u),i=(M=r==null?void 0:r.user)==null?void 0:M.idp,c=Ae(),[f,m]=D.useState(!1),g=c.hash?c.pathname+c.hash:c.pathname,{setupMfa:v}=it({redirectUrl:g}),d=Oe(),k=Re(s);D.useEffect(()=>{A.logModalShown({connector_id_metadata:A.createIdMetadataFromConnector(s,d!=null?d:"unknown_referrer"),referrer:d!=null?d:"unknown_referrer",mfaState:"suggested",authType:k!=null?k:"NONE"}),K.logEventWithStatsig("connectors.shown_connect_modal","connectors.shown_connect_modal",y({mfa:"suggested",type:s.id},d&&{referrer:d}))},[s,d,k]);const T=()=>{m(!0),A.logModalActionTaken({connector_id_metadata:A.createIdMetadataFromConnector(s,d!=null?d:"unknown_referrer"),referrer:d!=null?d:"unknown_referrer",action:"mfa",authType:k!=null?k:"NONE"}),K.logEventWithStatsig("connectors.click_continue_modal","connectors.click_continue_modal",y({action:"mfa",type:s.id},d&&{referrer:d})),v()},C=()=>{A.logModalActionTaken({connector_id_metadata:A.createIdMetadataFromConnector(s,d!=null?d:"unknown_referrer"),referrer:d!=null?d:"unknown_referrer",action:"mfa",authType:k!=null?k:"NONE"}),K.logEventWithStatsig("connectors.click_continue_modal","connectors.click_continue_modal",y({action:"mfa",type:s.id},d&&{referrer:d})),n()};if(!i||!Qe[i])return It.addError("Unknown idp found on suggested mfa requirement",{idp:i}),t.jsx(ut,{connector:s,onClose:a,tos:e,isConnecting:o,onContinue:n,hideHeaderIcons:l});const{icon:N,name:h}=Qe[i];return t.jsxs(ye,{connector:s,tos:e,onClose:a,children:[t.jsxs("div",{className:"border-token-border-default flex items-center gap-4 rounded-xl border p-4 text-sm",children:[t.jsx("div",{className:"text-token-text-primary",children:N}),t.jsxs("div",{className:"flex flex-col",children:[t.jsx("div",{className:"text-token-text-primary font-medium",children:t.jsx(p,F(y({},R.socialLoginTitle),{values:{socialProvider:h}}))}),t.jsx("div",{className:"text-token-text-secondary",children:t.jsx(p,F(y({},R.socialLoginDescription),{values:{socialProvider:h,link:x=>t.jsx("button",{onClick:T,className:"underline",children:t.jsxs("span",{className:"flex items-center gap-2",children:[x,f&&t.jsx(st,{className:"h-4 w-4"})]})})}}))})]})]}),t.jsx("div",{className:"pt-6",children:t.jsx(Z,{loading:o,onClick:C,children:t.jsx(p,F(y({},R.continueButton),{values:{connectorName:s.name}}))})})]})},xs=({connector:s,onClose:e,isConnecting:a,isConnectingAuthType:o,onContinue:n,showExternalIcon:l,additionalContent:u,additionalMessageThatDoesNotContainLegalClaims:r,canSync:i,isRequestingSync:c,setIsRequestingSync:f,personalizationLinkId:m,initialPersonalizeResultsEnabled:g=!1,isContinueDisabled:v=!1,hideHeaderIcons:d=!1})=>{var O,G;const{data:k,isLoading:T,isError:C,refetch:N}=ds(),h=us(s,k),{status:M,retry:x}=Ht(s.id),{status:b,retry:L}=Kt({enabled:M==="required"||M==="suggested"}),_=St(),w=ms(k),[E,P]=D.useState((O=g!=null?g:w)!=null?O:null);D.useEffect(()=>{E!==null||w===null||P(w)},[w,E]);const B=(G=E!=null?E:w)!=null?G:!1,j=jt({mutationFn:async({enabled:S})=>{if(!m)return null;const z=S?"PERSONALIZE_ALWAYS":"NO_PERSONALIZATION";return await At(m,{personalized:z}),z},onError:S=>{_.danger({id:"connector.personalization.update.error",defaultMessage:"Couldn't update connector settings, defaulting to memories off.",description:"Error toast when personalization toggle fails to save"},{error:S,id:m})}}),q=S=>{P(S),m&&j.mutate({enabled:S})};return T?t.jsx(Ke,{connector:s,tos:h,onClose:e}):C||!h?t.jsx(Ze,{connector:s,tos:h,onClose:e,retry:()=>{N(),L(),x()}}):b==="loading"||M==="loading"?t.jsx(Ke,{connector:s,tos:h,onClose:e}):b==="enabled"||M==="not_required"?t.jsx(ut,{connector:s,tos:h,onClose:e,isConnecting:a,isConnectingAuthType:o,onContinue:n,showExternalIcon:l,additionalContent:u,additionalMessageThatDoesNotContainLegalClaims:r,canSync:i,isRequestingSync:c,setIsRequestingSync:f,personalizationLinkId:m,personalizeResultsEnabled:B,onPersonalizeResultsChange:q,isSavingPersonalization:j.isPending,isContinueDisabled:v,hideHeaderIcons:d}):M==="required"?t.jsx(fs,{connector:s,tos:h,onClose:e}):M==="suggested"?t.jsx(gs,{connector:s,tos:h,onClose:e,isConnecting:a,onContinue:n,hideHeaderIcons:d}):t.jsx(Ze,{connector:s,tos:h,onClose:e,retry:()=>{L(),x(),N()}})},Cs=({connector:s,onClose:e,isConnecting:a,isConnectingAuthType:o,onContinue:n,showExternalIcon:l,productSku:u,additionalContent:r,additionalMessageThatDoesNotContainLegalClaims:i,canSync:c,isRequestingSync:f,setIsRequestingSync:m,personalizationLinkId:g,isContinueDisabled:v=!1,initialPersonalizeResultsEnabled:d,hideHeaderIcons:k=!1})=>{var N;const T=(N=Rt())!=null?N:"unknown_referrer",C=()=>{A.logModalActionTaken({connector_id_metadata:A.createIdMetadataFromConnector(s,T),referrer:T,action:"dismissed",authType:"NONE"}),e()};return t.jsx(cs,{connectorId:s.id,productSku:u,children:t.jsx(xs,{connector:s,onClose:C,isConnecting:a,isConnectingAuthType:o,onContinue:n,showExternalIcon:l,additionalContent:r,additionalMessageThatDoesNotContainLegalClaims:i,canSync:c,isRequestingSync:f,setIsRequestingSync:m,personalizationLinkId:g,isContinueDisabled:v,initialPersonalizeResultsEnabled:d,hideHeaderIcons:k})})},R=Je({addConnectorLinkModalTitle:{id:"addConnectorLinkModal.title",defaultMessage:"Connect {connectorName}"},permissionsTitle:{id:"addConnectorLinkModal.permissionsTitle",defaultMessage:"Permissions always respected"},permissionsDescription:{id:"addConnectorLinkModal.permissionsDescription",defaultMessage:"ChatGPT is strictly limited to permissions you've explicitly set."},inControlTitle:{id:"addConnectorLinkModal.inControlTitle",defaultMessage:"You're in control"},inControlDescription:{id:"addConnectorLinkModal.inControlDescription",defaultMessage:"ChatGPT always respects your training data preferences."},noTrainTitle:{id:"addConnectorLinkModal.noTrainTitle",defaultMessage:"How ChatGPT uses data"},noTrainDescription:{id:"addConnectorLinkModal.noTrainDescription",defaultMessage:"Data accessed from this connector is not used to train our models."},neverTrainTitle:{id:"addConnectorLinkModal.neverTrainTitle",defaultMessage:"How ChatGPT uses data"},neverTrainDescription:{id:"addConnectorLinkModal.neverTrainDescription",defaultMessage:"Your data is never used for training."},risksTitle:{id:"addConnectorLinkModal.risksTitle",defaultMessage:"Connectors may introduce risk"},risksDescription:{id:"addConnectorLinkModal.risksDescription",defaultMessage:"Connectors are designed to respect your privacy, but sites may attempt to steal your data. <link>Learn more on how to stay safe</link>"},syncTitle:{id:"addConnectorLinkModal.syncTitle",defaultMessage:"Continuous sync"},syncDescription:{id:"addConnectorLinkModal.syncDescription",defaultMessage:"Your {connectorName} content is indexed, stored, and kept up to date in ChatGPT. <link>Learn more</link>"},redirectTitle:{id:"addConnectorLinkModal.redirectTitle",defaultMessage:"This page will redirect to {connectorName}"},redirectDescription:{id:"addConnectorLinkModal.redirectDescription",defaultMessage:"You'll sign in and confirm permissions on {connectorName}'s page."},googlePrivacyTitle:{id:"addConnectorLinkModal.googlePrivacyTitle",defaultMessage:"Private and secure"},googlePrivacyDescription:{id:"addConnectorLinkModal.googlePrivacyDescription",defaultMessage:"Data accessed from {connectorName} may be used to reply to prompts. We do not train generalized models on this data or derivations of it, unless you choose to submit it as feedback. <link>Learn more</link>"},googleControlTitle:{id:"addConnectorLinkModal.googleControlTitle",defaultMessage:"You're in control of your data"},googleControlDescription:{id:"addConnectorLinkModal.googleControlDescription",defaultMessage:"You can delete your conversations, which will also delete any {connectorName} data used in those conversations. <link>Learn more</link>"},connectButton:{id:"addConnectorLinkModal.connectButton",defaultMessage:"Connect {connectorName}"},connectWithoutAccountButton:{id:"addConnectorLinkModal.connectWithoutAccountButton",defaultMessage:"Continue without account"},continueButton:{id:"addConnectorLinkModal.continueButton",defaultMessage:"Continue to {connectorName}"},socialLoginTitle:{id:"addConnectorLinkModal.socialLoginTitle",defaultMessage:"You use {socialProvider} to authenticate"},socialLoginDescription:{id:"addConnectorLinkModal.socialLoginDescription",defaultMessage:"For added security, enable Multi-factor authentication (MFA) on your {socialProvider} account or <link>your ChatGPT account.</link>"},mfaRequiredTitle:{id:"addConnectorLinkModal.mfaRequiredTitle",defaultMessage:"Multi-factor authentication (MFA) required"},mfaRequiredButton:{id:"addConnectorLinkModal.mfaRequiredButton",defaultMessage:"Turn on MFA to continue"},errorLoadingStateButton:{id:"addConnectorLinkModal.errorLoadingStateButton",defaultMessage:"Failed to load connector settings, please retry"}});export{Ts as GoogleRedirectContent,ut as MainRedirectContent,xs as MainRedirectContentWrapper,Cs as RedirectContent};
//# sourceMappingURL=gaj6e78ii9fgijkk.js.map
