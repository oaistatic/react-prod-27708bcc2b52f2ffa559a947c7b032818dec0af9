import{c as me,e as ne,r as te,j as s}from"./fg33krlcm0qyi6yw.js";import{fV as ce,z as pe}from"./k65njl5wlgspihfr.js";import{m as de,ag as fe,d as ue,mR as ge,sy as he,R as xe,M as se,C as Me}from"./mtk1qztvnb31pw5r.js";import{u as ye}from"./hie92tcr1tc04u0h.js";import{g as oe}from"./n0j63kuyzhwawzvp.js";import"./cdscbhv4xu1gie74.js";import"./j6c7t6fq2e2dzq0l.js";import"./uwm5r01je8eaqgfc.js";import"./ir9gt1ho5jxrc5j1.js";import"./jaya7jppqn559p04.js";import"./mh627gt08lvdeswk.js";import"./k43gn7pl526u53kc.js";import"./jdzosouyvpzu0tpb.js";import"./o4kivb8wp4536409.js";import"./nq1hpdu2db6kh8n1.js";import"./mr025ud04jb4rh0r.js";import"./dcp7peq4y6a4kabz.js";import"./l6gg4oal15ycpbhj.js";import"./27egyxvdbhiyko0z.js";import"./he7oe7s4xa3cph5y.js";import"./gy1lpvuoewmzh42c.js";import"./jed1ux7qibe55pmj.js";import"./h1em0bjkpkjv8ykw.js";import"./nfccle6oyncifphl.js";import"./hu1bt0oauegdhua6.js";import"./ojve869uwykk95at.js";import"./ly75bs3d14n5v622.js";import"./e4epv5uv3mte9vwk.js";import"./h7j5jaik108ahib8.js";import"./cu8wmvebhh39ned9.js";import"./mwvbcixk8j7xayed.js";import"./dy5lfx8pblnkst90.js";import"./fwtgnu9jfrrdfrmw.js";import"./jamwnn6d0jz74foj.js";import"./oa3pp0k35b2ppxx3.js";import"./ciyotrhew4275t06.js";import"./ojlr534s5rpslkxs.js";import"./i343cenm2z0sru19.js";import"./khjleze1r7lyk9e0.js";import"./l79tw55p1ybii0aj.js";import"./jawullnjvz8da20g.js";import"./c2pd1td4qqo2eofo.js";import"./b9zbambfgbao1jch.js";import"./bgx9m29b5moow7ak.js";import"./exbyaee45o0onuld.js";import"./ifr23omr9d78ntp2.js";import"./hcn3kohxpjzaoxwc.js";import"./iwjq7ihlx67l3ajk.js";import"./ft3sidzsg2kspvj9.js";import"./h0pbwkfesoibvhzi.js";function ht(re){"use forget";const e=me.c(84),{onClose:o,phoneNumber:z,onBack:D,enrollmentSessionId:r,factorId:A,renderAsSheet:ae}=re,t=ne(),[a,ie]=te.useState(""),[L,_]=te.useState(null),m=ye(),n=de(),F=fe(),le=ue(ge),Z=!!ae;let O;e[0]===Symbol.for("react.memo_cache_sentinel")?(O=he(),e[0]=O):O=e[0];const ee=O,i=Z&&!ee,G=Z&&ee;let R;e[1]!==r||e[2]!==A||e[3]!==t||e[4]!==n?(R=async()=>{try{_(null),await xe.safePost("/accounts/mfa/user/sms/resend_otp_for_enrollment",{requestBody:{factor_id:A,session_id:r}}),n.success(t.formatMessage({id:"ljeLVM",defaultMessage:"We resent a code to your phone"}))}catch(l){const X=l;_(t.formatMessage(oe(X,!0)))}},e[1]=r,e[2]=A,e[3]=t,e[4]=n,e[5]=R):R=e[5];const P=R;let V;e[6]!==m||e[7]!==a||e[8]!==r||e[9]!==t||e[10]!==o||e[11]!==n?(V=async()=>{try{_(null),await m.mutateAsync({factor:"sms",code:a.trim(),sessionId:r}),n.success(t.formatMessage({id:"CylGaM",defaultMessage:"SMS verification enabled"}),{testId:"sms-mfa-activation-success"}),o()}catch(l){const X=l;_(t.formatMessage(oe(X,!1)))}},e[6]=m,e[7]=a,e[8]=r,e[9]=t,e[10]=o,e[11]=n,e[12]=V):V=e[12];const c=V,Y=!G,$=G?"bg-token-bg-primary":void 0,J=G?"top":void 0,U=i?le?"fit":"fill":void 0,W=i?"large":void 0,H=i?"h-[max(100svh,100dvh,100%)]":void 0,K=i?"sm:border-token-border-light! max-sm:h-full max-sm:w-screen max-sm:max-w-none max-sm:rounded-none sm:w-[calc(100vw-2rem)] sm:max-w-[900px] sm:border":void 0;let p;e[13]!==t?(p=t.formatMessage({id:"+lOJbF",defaultMessage:"Enter code"}),e[13]=t,e[14]=p):p=e[14];let d;e[15]!==p?(d=s.jsx("span",{className:"text-heading-3",children:p}),e[15]=p,e[16]=d):d=e[16];let f;e[17]!==t?(f=t.formatMessage({id:"386YYB",defaultMessage:"Back"}),e[17]=t,e[18]=f):f=e[18];let u;e[19]!==D||e[20]!==o?(u=()=>{o(),D()},e[19]=D,e[20]=o,e[21]=u):u=e[21];let g;e[22]!==f||e[23]!==u?(g=s.jsx(se.Button,{title:f,color:"secondary",onClick:u}),e[22]=f,e[23]=u,e[24]=g):g=e[24];let h;e[25]!==t?(h=t.formatMessage({id:"i5w9ni",defaultMessage:"Verify"}),e[25]=t,e[26]=h):h=e[26];let x;e[27]!==m||e[28]!==a||e[29]!==r?(x=a.trim().length!==6||!r||m.isPending,e[27]=m,e[28]=a,e[29]=r,e[30]=x):x=e[30];let M;e[31]!==c||e[32]!==h||e[33]!==x?(M=s.jsx(se.Button,{title:h,color:"primary",disabled:x,onClick:c}),e[31]=c,e[32]=h,e[33]=x,e[34]=M):M=e[34];let y;e[35]!==c?(y=l=>{l.preventDefault(),c()},e[35]=c,e[36]=y):y=e[36];let b;e[37]!==t||e[38]!==z?(b=t.formatMessage({id:"Li6w+h",defaultMessage:"Enter the 6-digit code we just sent to {phoneNumber}"},{phoneNumber:z}),e[37]=t,e[38]=z,e[39]=b):b=e[39];let v;e[40]!==b?(v=s.jsx("p",{children:b}),e[40]=b,e[41]=v):v=e[41];let S;e[42]!==t?(S=t.formatMessage({id:"//e/gE",defaultMessage:"Enter code"}),e[42]=t,e[43]=S):S=e[43];let T;e[44]===Symbol.for("react.memo_cache_sentinel")?(T=l=>{ie(l.target.value),_(null)},e[44]=T):T=e[44];let C;e[45]!==a||e[46]!==S?(C=s.jsx(pe,{ariaLabel:!1,name:"otp",placeholder:S,value:a,onChange:T}),e[45]=a,e[46]=S,e[47]=C):C=e[47];let j;e[48]!==L||e[49]!==t?(j=L&&s.jsxs("p",{className:"flex gap-1 text-xs text-red-500",children:[s.jsx(ce,{title:t.formatMessage({id:"phoneNumberInput.errorIcon",defaultMessage:"Error"})}),L]}),e[48]=L,e[49]=t,e[50]=j):j=e[50];let w;e[51]!==t?(w=t.formatMessage({id:"o3p2Ei",defaultMessage:"Didn't get a code?"}),e[51]=t,e[52]=w):w=e[52];const Q=!A||!(F!=null&&F.id);let N;e[53]!==t?(N=t.formatMessage({id:"pAdG4u",defaultMessage:"Send again"}),e[53]=t,e[54]=N):N=e[54];let E;e[55]!==P||e[56]!==Q||e[57]!==N?(E=s.jsx("button",{type:"button",className:"ms-1 text-blue-400",disabled:Q,onClick:P,children:N}),e[55]=P,e[56]=Q,e[57]=N,e[58]=E):E=e[58];let B;e[59]!==w||e[60]!==E?(B=s.jsxs("div",{className:"pt-2",children:[w,E]}),e[59]=w,e[60]=E,e[61]=B):B=e[61];let k;e[62]!==v||e[63]!==C||e[64]!==j||e[65]!==B?(k=s.jsxs("div",{className:"flex flex-col items-start gap-[12px] self-stretch",children:[v,C,j,B]}),e[62]=v,e[63]=C,e[64]=j,e[65]=B,e[66]=k):k=e[66];let I;e[67]!==y||e[68]!==k?(I=s.jsx("form",{onSubmit:y,className:"text-token-text-primary self-stretch text-sm",children:k}),e[67]=y,e[68]=k,e[69]=I):I=e[69];let q;return e[70]!==o||e[71]!==K||e[72]!==d||e[73]!==g||e[74]!==M||e[75]!==I||e[76]!==Y||e[77]!==$||e[78]!==J||e[79]!==U||e[80]!==W||e[81]!==H||e[82]!==i?(q=s.jsx(Me,{testId:"modal-enter-otp",contentClassName:"!px-6 !pt-6 !pb-[24px]",headerClassName:"!px-6 !py-0 !h-[76px] !items-center",showCloseButton:!0,hasSeparator:!0,isOpen:!0,onClose:o,showOverlayBackground:Y,overlayClassName:$,position:J,isBottomSheet:i,contentSize:U,topMargin:W,contentSheetViewClassName:H,className:K,type:"success",modalActionsClassName:"!mt-[24px]",title:d,secondaryButton:g,primaryButton:M,children:I}),e[70]=o,e[71]=K,e[72]=d,e[73]=g,e[74]=M,e[75]=I,e[76]=Y,e[77]=$,e[78]=J,e[79]=U,e[80]=W,e[81]=H,e[82]=i,e[83]=q):q=e[83],q}export{ht as EnterOtpCodeModal};
//# sourceMappingURL=dsyp46uwyajg7fdx.js.map
