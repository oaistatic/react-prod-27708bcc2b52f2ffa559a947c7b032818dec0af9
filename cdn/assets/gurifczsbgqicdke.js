var Q=Object.defineProperty,q=Object.defineProperties;var J=Object.getOwnPropertyDescriptors;var E=Object.getOwnPropertySymbols;var V=Object.prototype.hasOwnProperty,Z=Object.prototype.propertyIsEnumerable;var T=(t,n,a)=>n in t?Q(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,c=(t,n)=>{for(var a in n||(n={}))V.call(n,a)&&T(t,a,n[a]);if(E)for(var a of E(n))Z.call(n,a)&&T(t,a,n[a]);return t},C=(t,n)=>q(t,J(n));import{e as b,j as e,M as o,r as w,f as P,n as ee,m as te,i as ne,a0 as ae}from"./fg33krlcm0qyi6yw.js";import{t9 as y,bp as g,bt as L,c0 as _,a9 as p,jR as oe,nX as se,m as B,cI as G,rk as H,rl as U,vt as re,bA as ie,jP as K,T as X,cK as ce,vu as le,bz as W,jQ as F,vv as z,vw as O,vx as de,vy as me,vz as xe,vA as ue,vB as pe,bn as fe,b_ as he}from"./mtk1qztvnb31pw5r.js";import{R as Ce}from"./kan8xn0647n6mb1t.js";import{h as ge}from"./oqrnd1sbz7sw61c1.js";import{s as ke}from"./n0ab5m1z76n8mazm.js";import{a as Ne}from"./frbhhq8kut72d7xx.js";import"./k65njl5wlgspihfr.js";import"./sy1xvqwioh9ks4z8.js";import"./kzbknm4lxuyoq9wi.js";import"./jed1ux7qibe55pmj.js";import"./h1em0bjkpkjv8ykw.js";import"./f5ep9o7usovyn4vf.js";import"./ly75bs3d14n5v622.js";import"./hu1bt0oauegdhua6.js";import"./gp2ycmyaevvj2458.js";import"./eb2ntjcgqhqizd13.js";import"./hots192vdjsjmkwr.js";import"./efooahjtdr85x1lo.js";import"./km71i01x6ma5r62b.js";import"./f9jzes5xr4mq3zrh.js";import"./j6htuwwuulo7h0p6.js";import"./czn39vd97sciq42g.js";import"./l9v3ntkj34comb67.js";import"./cmaobpdpreyiep8p.js";import"./eqi3xjytwhmszqqa.js";import"./bhm7utdivrybcfbl.js";import"./ohquqctluwabmb5i.js";import"./c2cj1dlcffke3f7m.js";import"./hb1mva1gmw4bcs8w.js";import"./mivow98b53y1taf8.js";import"./krwszi9u3lj63i9v.js";import"./kpobiwwkg2o2u14w.js";import"./ir7nzwbolrsm3ds2.js";import"./mmn9462oogkapcg8.js";import"./ck1u9icgxosmytry.js";import"./bes67zhi4fr5gq8i.js";import"./btdpwmi6j9nv6qc2.js";import"./keo7wnl5i52xco98.js";function je(){var N;const t=b(),n=se("installations/select_target"),{isConnected:a,isLoading:r,error:l,openGithubModal:i,refetch:f,handleDisconnect:k}=y(L.GITHUB_CONNECTOR,"github","/codex/settings/connectors",g.CODEX),{data:h,isLoading:x}=ke();return e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("p",{className:"text-token-text-primary text-md font-medium",children:e.jsx(o,{id:"wham.githubConnectionsRow.githubConnector",defaultMessage:"GitHub"})}),l?e.jsx(Ce,{refetchConnectorData:f}):x||r?e.jsx("div",{className:"flex w-full items-center justify-center gap-2",children:e.jsx(_,{className:"h-6 w-6"})}):a?e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("span",{className:"text-token-text-primary flex items-center gap-2 text-sm",children:e.jsx(o,{id:"wham.githubConnectionsRow.title",defaultMessage:"Connected to <b>{githubLogin}</b>",values:{b:j=>e.jsx("b",{children:j}),githubLogin:(N=h==null?void 0:h.github_handle)!=null?N:"GitHub"}})}),e.jsxs("div",{className:"flex flex-row gap-2",children:[e.jsx(p,{color:"danger-outline",className:"w-fit",loading:r,onClick:()=>k(),"aria-label":t.formatMessage({id:"wham.githubConnectionRow.disconnectAriaLabel",defaultMessage:"Button to disconnect GitHub connection"}),children:e.jsx(o,{id:"wham.githubConnectionRow.disconnect",defaultMessage:"Disconnect"})}),e.jsx(p,{color:"secondary",className:"w-fit",onClick:()=>ge(n),"aria-label":t.formatMessage({id:"wham.githubConnectionRow.settingsAriaLabel",defaultMessage:"Button to go to GitHub installations settings page"}),children:e.jsx(o,{id:"wham.githubConnectionRow.settings",defaultMessage:"Settings"})})]})]}):e.jsxs("div",{className:"text-token-text-secondary flex flex-col gap-2 text-sm",children:[e.jsx("p",{className:"pb-2 text-xs",children:e.jsx(o,{id:"wham.githubConnectionsRow.githubConnection",defaultMessage:"Connect to your GitHub repositories to use in Codex"})}),e.jsx(p,{icon:a?void 0:oe,color:"primary",className:"w-fit",loading:r,onClick:i,children:e.jsx(o,{id:"wham.codexOnboardingConnections.connectGithub",defaultMessage:"Connect to GitHub"})})]})]})}const I="https://developers.openai.com/codex/integrations/linear",we="https://www.chatgpt.com/admin/ca",u=P({linearConnectorTitle:{id:"wham.linearConnectionsRow.linearConnector",defaultMessage:"Linear"},linearConnectorDescription:{id:"wham.linearConnectionsRow.linearConnection",defaultMessage:"To assign issues to Codex or @mention it in comment threads, install Codex in Linear then link your account. <a>Learn more</a>"},connectLinear:{id:"wham.linearConnectionsRow.connectLinear",defaultMessage:"Install Codex in Linear"},connectLinearMore:{id:"wham.linearConnectionsRow.connectMore",defaultMessage:"Manage Codex in Linear"},linearDisabledByAdmin:{id:"wham.linearConnectionsRow.disabledByAdmin",defaultMessage:"Currently disabled by your ChatGPT workspace admin. Workspace admin can enable in <a>Link</a>."},retryLinear:{id:"wham.linearConnectionsRow.retry",defaultMessage:"Failed to load Linear connection"},retryTooltip:{id:"wham.linearConnectionsRow.retryTooltip",defaultMessage:"Click to retry"},defaultWorkspaceName:{id:"wham.linearConnectionsRow.defaultWorkspaceName",defaultMessage:"Linear workspace"},linearUnavailable:{id:"wham.linearConnectionsRow.unavailable",defaultMessage:"This feature is not available in your our plan type / region. <a>Learn more</a>"}});function be({refetchConnectorData:t}){const n=b();return e.jsx(X,{label:n.formatMessage(u.retryTooltip),children:e.jsx(p,{color:"secondary",size:"small",type:"button",className:"border-token-border-default flex w-fit items-center gap-1.5 rounded-full! border",onClick:t,children:e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(K,{"aria-hidden":!0,className:"icon-sm"}),e.jsx(o,c({},u.retryLinear))]})})})}function ye(){const t=b(),n=B(),a=G(),r=w.useCallback(()=>{H({redirectUri:U(),connectorPlatformParams:{connectorId:ie,name:"Linear",actionNames:null,oauthClientId:re,oauthClientScopes:null},redirectTo:"/codex/settings/connectors",intl:t,toaster:n,productSku:g.CODEX,openPopup:a})},[t,n,a]),{isConnected:l,isLoading:i,error:f,openConnectorModal:k,refetch:h,platformConnector:x}=y(L.LINEAR_CODEX_BOT_CONNECTOR,"linear","/codex/settings/connectors",g.CODEX,r,r),j=(x==null?void 0:x.status)==="DISABLED_BY_ADMIN"?e.jsx("div",{className:"text-token-text-primary text-sm font-medium",children:e.jsx(o,C(c({},u.linearDisabledByAdmin),{values:{a:d=>e.jsx("a",{href:we,target:"_blank",rel:"noreferrer",className:"text-token-text-accent hover:text-token-text-accent/80 font-medium underline",children:d})}}))}):e.jsx(p,{icon:K,color:"primary",className:"w-fit",loading:i,onClick:k,children:e.jsx(o,c({},l?u.connectLinearMore:u.connectLinear))});return e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("p",{className:"text-token-text-primary text-md font-medium",children:e.jsx(o,c({},u.linearConnectorTitle))}),e.jsx("p",{className:"text-token-text-secondary text-xs",children:e.jsx(o,C(c({},u.linearConnectorDescription),{values:{a:d=>e.jsx("a",{href:I,target:"_blank",rel:"noreferrer",className:"text-token-text-accent hover:text-token-text-accent/80 font-medium underline",children:d})}}))}),f?e.jsx(be,{refetchConnectorData:h}):i?e.jsx("div",{className:"flex w-full items-center justify-center gap-2",children:e.jsx(_,{className:"h-6 w-6"})}):x?e.jsx("div",{className:"flex flex-col gap-3",children:e.jsx("div",{className:"flex flex-row flex-wrap gap-2 text-sm",children:j})}):e.jsx("div",{className:"text-token-text-primary text-sm font-medium",children:e.jsx(o,C(c({},u.linearUnavailable),{values:{a:d=>e.jsx("a",{href:I,target:"_blank",rel:"noreferrer",className:"text-token-text-accent hover:text-token-text-accent/80 font-medium underline",children:d})}}))})]})}const Le="https://www.chatgpt.com/admin/ca",m=P({slackConnectorTitle:{id:"wham.slackConnectionsRow.slackConnector",defaultMessage:"Slack"},slackConnectorDescription:{id:"wham.slackConnectionsRow.slackConnection",defaultMessage:"Connect to Slack so you can ask @codex to answer questions or draft PRs right from Slack. <a>Learn more</a>"},connectSlack:{id:"wham.slackConnectionsRow.connectSlack",defaultMessage:"Connect to Slack"},connectSlackMore:{id:"wham.slackConnectionsRow.connectMore",defaultMessage:"Connect more"},slackDisabledByAdmin:{id:"wham.slackConnectionsRow.disabledByAdmin",defaultMessage:"Currently disabled by your ChatGPT workspace admin. Workspace admin can enable in <a>Link</a>."},disconnectSlack:{id:"wham.slackConnectionsRow.disconnect",defaultMessage:"Disconnect"},retrySlack:{id:"wham.slackConnectionsRow.retry",defaultMessage:"Failed to load Slack connection"},retryTooltip:{id:"wham.slackConnectionsRow.retryTooltip",defaultMessage:"Click to retry"},defaultWorkspaceName:{id:"wham.slackConnectionsRow.defaultWorkspaceName",defaultMessage:"Slack workspace"}});function _e({refetchConnectorData:t}){const n=b();return e.jsx(X,{label:n.formatMessage(m.retryTooltip),children:e.jsx(p,{color:"secondary",size:"small",type:"button",className:"border-token-border-default flex w-fit items-center gap-1.5 rounded-full! border",onClick:t,children:e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(F,{"aria-hidden":!0,className:"icon-sm"}),e.jsx(o,c({},m.retrySlack))]})})})}function ve(){const t=b(),n=B(),a=G(),r=ce(),l=w.useCallback(()=>{H({redirectUri:U(),connectorPlatformParams:{connectorId:W,name:"Slack",actionNames:null,oauthClientId:le,oauthClientScopes:null,slackTeamId:r!=null?r:void 0},redirectTo:"/codex/settings/connectors",intl:t,toaster:n,productSku:g.CODEX,openPopup:a})},[t,n,a,r]),{isConnected:i,isLoading:f,error:k,openConnectorModal:h,refetch:x,handleDisconnect:N,links:j,platformConnector:d}=y(L.SLACK_CODEX_CONNECTOR,"slack","/codex/settings/connectors",g.CODEX,l,l),$=(d==null?void 0:d.status)==="DISABLED_BY_ADMIN",Y=s=>{var M,R,S,A,D;return(D=(A=(S=(M=s==null?void 0:s.owner_profile)==null?void 0:M.nickname)!=null?S:(R=s==null?void 0:s.owner_profile)==null?void 0:R.name)!=null?A:s==null?void 0:s.name)!=null?D:t.formatMessage(m.defaultWorkspaceName)},v=$?e.jsx("div",{className:"text-token-text-primary text-sm font-medium",children:e.jsx(o,C(c({},m.slackDisabledByAdmin),{values:{a:s=>e.jsx("a",{href:Le,target:"_blank",rel:"noreferrer",className:"text-token-text-accent hover:text-token-text-accent/80 font-medium underline",children:s})}}))}):e.jsx(p,{icon:F,color:"primary",className:"w-fit",loading:f,onClick:h,children:e.jsx(o,c({},i?m.connectSlackMore:m.connectSlack))});return e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("p",{className:"text-token-text-primary text-md font-medium",children:e.jsx(o,c({},m.slackConnectorTitle))}),e.jsx("p",{className:"text-token-text-secondary text-xs",children:e.jsx(o,C(c({},m.slackConnectorDescription),{values:{a:s=>e.jsx("a",{href:"https://developers.openai.com/codex/integrations/slack",target:"_blank",rel:"noreferrer",className:"text-token-text-accent hover:text-token-text-accent/80 font-medium underline",children:s})}}))}),k?e.jsx(_e,{refetchConnectorData:x}):f?e.jsx("div",{className:"flex w-full items-center justify-center gap-2",children:e.jsx(_,{className:"h-6 w-6"})}):i?e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("div",{className:"flex flex-row flex-wrap gap-2",children:v}),e.jsx("div",{className:"flex flex-col gap-2",children:j.map(s=>e.jsxs("div",{className:"border-token-border-default flex flex-wrap items-center justify-between gap-3 rounded-md border px-3 py-2",children:[e.jsx("span",{className:"text-token-text-primary text-sm font-medium",children:Y(s)}),e.jsx(p,{color:"danger-outline",className:"w-fit",loading:f,onClick:()=>N(s.id),children:e.jsx(o,c({},m.disconnectSlack))})]},s.id))})]}):e.jsx("div",{className:"text-token-text-secondary flex flex-col gap-3 text-sm",children:v})]})}function Me(){return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex pt-4",children:e.jsx(je,{})}),e.jsx("div",{className:"flex pt-4",children:e.jsx(ve,{})}),e.jsx("div",{className:"flex pt-4",children:e.jsx(ye,{})})]})}const Re=z;function Se(){return e.jsx("div",{className:"border-token-border-heavy flex items-center border-b",children:e.jsx("div",{className:"py-2 text-xl leading-7 font-medium",children:e.jsx(o,{id:"wham.connectorControlsHeader.title",defaultMessage:"Connectors"})})})}function Ae(){const[t]=ee(),n=te(),a=ne(),r=w.useMemo(()=>t.get(Re),[t]),l=w.useMemo(()=>t.get(O),[t]);return w.useEffect(()=>{if(!r&&!l)return;const i=new URLSearchParams;i.set(de,"true"),i.set(me,W),i.set(xe,g.CONNECTOR_SETTING),i.set(ue,"/codex/settings/connectors"),r&&i.set(z,r),l&&i.set(O,l),i.set(pe,fe.Codex),a({pathname:n.pathname,hash:"".concat(he,"?").concat(i.toString()),search:""},{replace:!0})},[n.pathname,a,l,r]),e.jsx(Ne,{header:e.jsx(Se,{}),children:e.jsx(Me,{})})}const Ct=()=>[{title:"Codex"}],gt=ae(function(){return e.jsx(Ae,{})});export{gt as default,Ct as meta};
//# sourceMappingURL=gurifczsbgqicdke.js.map
