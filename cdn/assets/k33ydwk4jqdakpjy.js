import{e as l,i as M,r as p,j as e,M as C}from"./fg33krlcm0qyi6yw.js";import{N as h,dl as v}from"./k65njl5wlgspihfr.js";import{b as x,ck as y,d as j,ga as R,ad as S,C as E,M as i}from"./mtk1qztvnb31pw5r.js";function I({title:t,handleLeaveAndClose:s,onClose:a}){"use no forget";const o=l();return e.jsx(E,{testId:"modal-leave-group-chat-confirmation",isOpen:!0,onClose:()=>a(),type:"danger",title:o.formatMessage({id:"nLm64O",defaultMessage:"Leave group chat?"}),primaryButton:e.jsx(i.Button,{title:o.formatMessage({id:"gvoh3t",defaultMessage:"Leave"}),color:"danger",onClick:()=>{s()},"data-testid":"leave-group-chat-confirm-button"}),secondaryButton:e.jsx(i.Button,{title:o.formatMessage({id:"3Vw7SS",defaultMessage:"Cancel"}),color:"secondary",onClick:()=>a()}),children:e.jsx(C,{id:"PBAI6E",defaultMessage:"Youâ€™ll no longer see {title} or its history. Other members will still have access to the group chat.",values:{title:e.jsx("span",{className:"font-medium",children:t})}})})}const N=({room:t,onClose:s})=>{"use no forget";const a=x(),o=h(a),c=l(),u=y(a),d=M(),m=j(()=>t.name$()),g=v()===t.id,r=p.useRef(!1);return e.jsx(I,{title:m,handleLeaveAndClose:async()=>{var n;if(!r.current)try{r.current=!0,await o.leaveRoom$(t.id),g&&d("/"),s()}catch(f){u.danger((n=R(f))!=null?n:c.formatMessage(S.somethingWentWrong))}finally{r.current=!1}},onClose:s})};export{N as CalpicoLeaveChatConfirmationModalContainer};
//# sourceMappingURL=k33ydwk4jqdakpjy.js.map
