var w=Object.defineProperty,E=Object.defineProperties;var S=Object.getOwnPropertyDescriptors;var f=Object.getOwnPropertySymbols;var T=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable;var P=(o,t,e)=>t in o?w(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e,h=(o,t)=>{for(var e in t||(t={}))T.call(t,e)&&P(o,e,t[e]);if(f)for(var e of f(t))x.call(t,e)&&P(o,e,t[e]);return o},g=(o,t)=>E(o,S(t));import{a0 as b,n as v,i as L,a9 as j,r as c,af as k,j as i,f as F}from"./fg33krlcm0qyi6yw.js";import{dj as K,cV as N}from"./k65njl5wlgspihfr.js";import{C as A,i as l,a as C}from"./ljzdp59n77a99uo8.js";import{A as U}from"./fq8lajfw7ut2am4f.js";import{aJ as D,H as I,o as q,b as H,c0 as z,Z as G,S as V,mw as J,P as Y}from"./mtk1qztvnb31pw5r.js";import"./fms8qmym5rar4wm3.js";import"./efooahjtdr85x1lo.js";import"./km71i01x6ma5r62b.js";import"./iej0cupg2dqkmejt.js";import"./jamwnn6d0jz74foj.js";import"./c0yxya1tj5roedd5.js";import"./id9ie5ucoiqoo529.js";import"./obeuuqvvz3ptpbah.js";import"./ht7pa4q84q7i97x2.js";import"./ciyotrhew4275t06.js";import"./ojlr534s5rpslkxs.js";import"./i343cenm2z0sru19.js";import"./khjleze1r7lyk9e0.js";import"./l79tw55p1ybii0aj.js";import"./jawullnjvz8da20g.js";import"./mwvbcixk8j7xayed.js";import"./dy5lfx8pblnkst90.js";import"./fwtgnu9jfrrdfrmw.js";import"./oa3pp0k35b2ppxx3.js";import"./g4m5jvhceaijyr4o.js";import"./m0dqbfmysj2gn9xk.js";import"./c7su88sgygllvn5u.js";import"./ikhecou4geu140tb.js";import"./c3n1o8jzfcramdfc.js";import"./j9m6tk8ksckrygfu.js";const M={pro:"chatgptpro",plus:"chatgptplusplan"},_={[C.SORA]:"sora_redirect",[C.OPERATOR]:"operator_redirect"};function Z(o){l(o)&&(window.location.href=A[o])}const St=b(function(){const[t]=v(),e=L(),R=D(),{plan:s}=j(),r=t.get("checkout_from"),p=c.useRef(!1),a=I(),m=c.useMemo(()=>a==null?void 0:a.subscriptionAnalyticsParams,[a]),O=H(),n=q(O,"1719651090");if(!s||!(s in M))throw k("/");return c.useEffect(()=>{if(!a||p.current)return;if(p.current=!0,r==="vza493q"){a.hasPaidSubscription()&&a.isPro()?window.location.href=A[r]:n||e("/");return}(async()=>{const u=l(r)&&_[r]?_[r]:"purchase_plan_redirect";try{l(r)&&G.setItem(V.CheckoutFrom,r);const d=await K.getCheckoutLink({plan_name:M[s],billing_details:{currency:J}});Y.logEvent("Account Pay: Purchase Plan Redirect",g(h({},m),{plan:s,location:u})),window.location.href=d.url}catch(d){N(e,u)}})()},[e,R,s,r,m,n,a]),i.jsxs(i.Fragment,{children:[a&&r==="vza493q"&&n&&i.jsx(U,{currentAccount:a,onClose:()=>Z(r),subtitle:y.operatorModalSubtitle,title:y.operatorModalTitle}),i.jsx("div",{className:"flex h-full w-full items-center justify-center",children:i.jsx(z,{})})]})}),y=F({operatorModalTitle:{id:"AccountPaymentModal.operatorModalTitle",defaultMessage:"Upgrade to ChatGPT Pro to try Operator"},operatorModalSubtitle:{id:"AccountPaymentModal.operatorModalSubtitle",defaultMessage:"Operator feature is currently only available to Pro users as an early research preview"}});export{St as default};
//# sourceMappingURL=h3tzvg2fw2xva0xf.js.map
