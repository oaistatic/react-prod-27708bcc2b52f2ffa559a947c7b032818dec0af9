var se=Object.defineProperty,ae=Object.defineProperties;var ne=Object.getOwnPropertyDescriptors;var A=Object.getOwnPropertySymbols;var le=Object.prototype.hasOwnProperty,ie=Object.prototype.propertyIsEnumerable;var ee=(s,e,t)=>e in s?se(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,w=(s,e)=>{for(var t in e||(e={}))le.call(e,t)&&ee(s,t,e[t]);if(A)for(var t of A(e))ie.call(e,t)&&ee(s,t,e[t]);return s},S=(s,e)=>ae(s,ne(e));import{c as re,r as te,e as oe,j as n,M as V}from"./fg33krlcm0qyi6yw.js";import{gt as ce,iU as de,a9 as fe,P as b,M as ge,C as he,_ as pe}from"./mtk1qztvnb31pw5r.js";function ve(s){"use forget";const e=re.c(74),{onClose:t,urls:c,displayUrls:d,onAction:l,onActionAborted:j,suppressNavigation:Y}=s,q=Y===void 0?!1:Y,E=te.useRef(!1),r=oe(),z=ce(),D=z==null?void 0:z.id;let a,o,i,f,g;if(e[0]!==d||e[1]!==D||e[2]!==c){const Q={clientThreadId:D};let O;e[8]!==c?(O=Array.isArray(c)?c:[c],e[8]=c,e[9]=O):O=e[9];const I=O;g=I[0];let X;e[10]!==d||e[11]!==I?(X=d?Array.isArray(d)?d:[d]:I,e[10]=d,e[11]=I,e[12]=X):X=e[12],i=X,o=i[0];let $;e[13]!==i?($=i.slice(1),e[13]=i,e[14]=$):$=e[14],a=$,f=de(Q),e[0]=d,e[1]=D,e[2]=c,e[3]=a,e[4]=o,e[5]=i,e[6]=f,e[7]=g}else a=e[3],o=e[4],i=e[5],f=e[6],g=e[7];let N;e[15]!==o||e[16]!==f?(N=S(w({},f),{url:o,link_type:"text",section:"safe-link-modal"}),e[15]=o,e[16]=f,e[17]=N):N=e[17];const h=N;let L;e[18]===Symbol.for("react.memo_cache_sentinel")?(L=[],e[18]=L):L=e[18],te.useEffect(ke,L);let U;e[19]!==a.length||e[20]!==o||e[21]!==i||e[22]!==h||e[23]!==l||e[24]!==t?(U=()=>{E.current=!0;const Q=a.length>0?i.join("\n"):o;navigator.clipboard.writeText(Q).then(()=>{b.logEventWithStatsig("Safe Link Warning Modal Copy Clicked","chatgpt_safe_link_warning_modal_copy_clicked"),b.logEvent("link_action",S(w({},h),{action:"copy"}))}).catch(ue).finally(()=>{l==null||l("copy"),t()})},e[19]=a.length,e[20]=o,e[21]=i,e[22]=h,e[23]=l,e[24]=t,e[25]=U):U=e[25];const Z=U;let W;e[26]!==h||e[27]!==l||e[28]!==t?(W=()=>{E.current=!0,b.logEventWithStatsig("Safe Link Warning Modal Open Clicked","chatgpt_safe_link_warning_modal_open_clicked"),b.logEvent("link_action",S(w({},h),{action:"click"})),l==null||l("open"),t()},e[26]=h,e[27]=l,e[28]=t,e[29]=W):W=e[29];const F=W;let P;e[30]!==j||e[31]!==t?(P=()=>{E.current||(b.logEventWithStatsig("Safe Link Warning Modal Canceled","chatgpt_safe_link_warning_modal_canceled"),j==null||j()),E.current=!1,t()},e[30]=j,e[31]=t,e[32]=P):P=e[32];const H=P;let R;e[33]!==o?(R=xe(o),e[33]=o,e[34]=R):R=e[34];const{prefix:K,host:G,suffix:J}=R;let p;e[35]!==a.length||e[36]!==r?(p=a.length>0?r.formatMessage({id:"BpXZi1",defaultMessage:"Check these links are safe"}):r.formatMessage({id:"xgI3Kt",defaultMessage:"Check this link is safe"}),e[35]=a.length,e[36]=r,e[37]=p):p=e[37];let m;e[38]!==p?(m=n.jsx("div",{className:"flex items-center gap-2",children:p}),e[38]=p,e[39]=m):m=e[39];let u;e[40]!==q||e[41]!==g?(u=q?{as:"button",type:"button"}:{as:"link",openNewTab:!0,rel:"noopener noreferer",to:g},e[40]=q,e[41]=g,e[42]=u):u=e[42];let k;e[43]!==a.length||e[44]!==r?(k=a.length>0?r.formatMessage({id:"+k3ilv",defaultMessage:"Open links"}):r.formatMessage({id:"XSj3EP",defaultMessage:"Open link"}),e[43]=a.length,e[44]=r,e[45]=k):k=e[45];let x;e[46]!==F||e[47]!==u||e[48]!==k?(x=n.jsx(fe,S(w({color:"primary",onClick:F},u),{children:k})),e[46]=F,e[47]=u,e[48]=k,e[49]=x):x=e[49];let y;e[50]!==a.length||e[51]!==r?(y=a.length>0?r.formatMessage({id:"qXURZz",defaultMessage:"Copy links"}):r.formatMessage({id:"5P5qUm",defaultMessage:"Copy link"}),e[50]=a.length,e[51]=r,e[52]=y):y=e[52];let _;e[53]!==Z||e[54]!==y?(_=n.jsx(ge.Button,{title:y,color:"secondary",onClick:Z}),e[53]=Z,e[54]=y,e[55]=_):_=e[55];let M;e[56]!==a.length?(M=a.length>0?n.jsx(V,{defaultMessage:"Some sites restrict our ability to check links. These links aren’t verified and may include information from your conversation that could be shared with a third-party site. Make sure you trust these links before proceeding.",id:"safe-link-warning-modal-description-plural"}):n.jsx(V,{defaultMessage:"Some sites restrict our ability to check links. This link isn’t verified and may include information from your conversation that could be shared with a third-party site. Make sure you trust this link before proceeding.",id:"safe-link-warning-modal-description"}),e[56]=a.length,e[57]=M):M=e[57];let T;e[58]===Symbol.for("react.memo_cache_sentinel")?(T=n.jsx("a",{className:"hover:text-token-link-hover ps-1 underline underline-offset-1",href:"https://help.openai.com/en/articles/10984597-chatgpt-generated-links",target:"_blank",rel:"noopener noreferrer",children:n.jsx(V,{id:"xNvPsR",defaultMessage:"Learn more"})}),e[58]=T):T=e[58];let v;e[59]!==M?(v=n.jsxs("p",{className:"text-token-text-secondary mb-6 text-sm text-pretty",children:[M,T]}),e[59]=M,e[60]=v):v=e[60];let C;e[61]!==a.length||e[62]!==G||e[63]!==K||e[64]!==J||e[65]!==i?(C=a.length===0?n.jsxs("div",{className:"mb-2 text-sm break-all",children:[n.jsx("span",{className:"text-token-text-secondary",children:K}),n.jsx("span",{className:"text-token-text-primary font-medium",children:G}),n.jsx("span",{className:"text-token-text-secondary",children:J})]}):n.jsx("ul",{className:"mt-2 max-h-[300px] list-disc overflow-y-auto ps-5 text-sm break-all",children:i.map(me)}),e[61]=a.length,e[62]=G,e[63]=K,e[64]=J,e[65]=i,e[66]=C):C=e[66];let B;return e[67]!==H||e[68]!==m||e[69]!==x||e[70]!==_||e[71]!==v||e[72]!==C?(B=n.jsxs(he,{testId:"modal-safe-link-warning",isOpen:!0,hideSeparator:!0,onClose:H,showCloseButton:!0,type:"warning",title:m,primaryButton:x,secondaryButton:_,children:[v,C]}),e[67]=H,e[68]=m,e[69]=x,e[70]=_,e[71]=v,e[72]=C,e[73]=B):B=e[73],B}function me(s,e){return n.jsx("li",{className:"text-token-text-secondary",children:s},"".concat(s,"-").concat(e))}function ue(s){pe.addError(s)}function ke(){b.logEventWithStatsig("Safe Link Warning Modal Shown","chatgpt_safe_link_warning_modal_shown")}function xe(s){let e="",t=s,c="";try{t=new URL(s).hostname;const l=s.indexOf(t);l!==-1&&(e=s.substring(0,l),c=s.substring(l+t.length))}catch(d){}return{prefix:e,host:t,suffix:c}}export{ve as SafeLinkWarningModal};
//# sourceMappingURL=lmxrqj0hsuhj3cho.js.map
