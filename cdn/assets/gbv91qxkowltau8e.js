const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ufggbgnzngd8vlsq.js","assets/fg33krlcm0qyi6yw.js","assets/mtk1qztvnb31pw5r.js","assets/root-mcq3deyb.css","assets/k65njl5wlgspihfr.js","assets/conversation-small-332fs9rk.css","assets/nv4rm7lkosu65gch.js","assets/y3wyy6h0cnryp5gw.js","assets/h5lbwoaovb563r4k.js","assets/hy5xt98rivxg8tb4.js","assets/du4xh8plp0f7ydun.js","assets/msonzcs4uubp6vdq.js","assets/mbmcx8v24u1ao1ke.js","assets/ia54sddtrl9qa2wj.js","assets/isy4o0udnww0c9cq.js","assets/ADAVisualizationComponent-qpbxeibv.css"])))=>i.map(i=>d[i]);
var S=Object.freeze,k=Object.defineProperty;var V=(t,n)=>S(k(t,"raw",{value:S(n||t.slice())}));import{j as e,e as O,_ as W}from"./fg33krlcm0qyi6yw.js";import{e4 as I,bh as w,b5 as D,b6 as v,F as L}from"./mtk1qztvnb31pw5r.js";import{u as N,g as U}from"./isy4o0udnww0c9cq.js";import{eg as T,ep as P,ec as c,ed as H,eq as J}from"./k65njl5wlgspihfr.js";import{i as R,C as q,g as B,a as G,b as K}from"./hy5xt98rivxg8tb4.js";const A=w(()=>W(()=>import("./ufggbgnzngd8vlsq.js").then(t=>t.A),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15])).then(t=>t.default));function ts({messages:t,isRequestActive:n,clientThreadId:d}){var y,C,_,M,j;const[l,s]=t,o=T(l),a=(y=s==null?void 0:s.metadata)==null?void 0:y.aggregate_result,h=N(),u=P(),g=s?U(s):[],i=(M=(_=(C=s==null?void 0:s.metadata)==null?void 0:C.aggregate_result)==null?void 0:_.messages.filter(R))!=null?M:[],p=((j=g.filter(r=>r.type==="chart"))!=null?j:[]).length!==i.length,x=u&&!p;let m=c.Running;return(a==null?void 0:a.status)==="success"?m=c.Finished:s!=null&&s.content.content_type!==I.ExecutionOutput||a!=null&&a.status!=="running"?m=c.Error:(o||!n)&&(m=c.Stopped),e.jsxs(e.Fragment,{children:[e.jsx(Q,{messages:t,status:m,isRequestActive:n}),x&&g.map((r,b)=>{const{type:z}=r;return z==="chart"&&!h?(r.fallback_to_image=!0,e.jsx(E,{children:e.jsx(A,{clientThreadId:d,visualization:r})},b)):e.jsx(E,{children:e.jsx(A,{clientThreadId:d,visualization:r})},b)}),!x&&s!=null&&e.jsx(q,{message:s})]})}var F;const E=L.div(F||(F=V(["mb-3 max-w-[80%]"])));function Q({messages:t,status:n,isRequestActive:d}){var f;const[l,s]=t,o=O(),a=(f=s==null?void 0:s.metadata)==null?void 0:f.aggregate_result,h=T(l),{data:u,isLoading:g}=D(v.ShowExpandedCodeView);let i=o.formatMessage({id:"message.tools.data-analysis.running",defaultMessage:"Analyzing"});if((a==null?void 0:a.status)==="success"?i=o.formatMessage({id:"message.tools.data-analysis.finished",defaultMessage:"Analyzed"}):s!=null&&s.content.content_type!==I.ExecutionOutput||a!=null&&a.status!=="running"?i=o.formatMessage({id:"message.tools.data-analysis.error",defaultMessage:"Analysis errored"}):(h||!d)&&(i=o.formatMessage({id:"message.tools.data-analysis.stopped",defaultMessage:"Analysis paused"})),!g){const p=B(l)!=null;return e.jsx(H,{status:n,highlightedCommand:i,showWorkUserSetting:u!=null?u:!1,hideOnlyIfNotInteractedWith:!0,children:p?e.jsxs("div",{className:"bg-token-main-surface-primary mt-0.5 mb-3 overflow-hidden rounded-b-xl",children:[e.jsx(G,{message:l,FormattedText:J,codeRendererClassName:"rounded-t-md rounded-b-none"}),s!=null&&e.jsx(K,{message:s})]}):null})}return null}export{ts as DataAnalysisMessage};
//# sourceMappingURL=gbv91qxkowltau8e.js.map
