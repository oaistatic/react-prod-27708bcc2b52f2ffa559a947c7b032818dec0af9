var P=Object.defineProperty,S=Object.defineProperties;var O=Object.getOwnPropertyDescriptors;var M=Object.getOwnPropertySymbols;var _=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable;var g=(e,a,t)=>a in e?P(e,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[a]=t,u=(e,a)=>{for(var t in a||(a={}))_.call(a,t)&&g(e,t,a[t]);if(M)for(var t of M(a))A.call(a,t)&&g(e,t,a[t]);return e},d=(e,a)=>S(e,O(a));import{e as C,r as h,j as l,f as B}from"./fg33krlcm0qyi6yw.js";import{l as T,i9 as K,T as L}from"./mtk1qztvnb31pw5r.js";import{V as k}from"./k65njl5wlgspihfr.js";import{S as G,c as V}from"./og8jhmm6v1nbwzo4.js";function I(e){return e.split(/[\s,]+/).map(a=>a.trim()).filter(a=>a.length>0)}function H({value:e,onChange:a,className:t,trackEmailsAdded:r,trackEmailRemoved:o,placeholder:i,classNames:p,trailingComponent:c,shouldShowTrailingComponent:b=()=>!0}){const x=C(),[n,f]=h.useState(""),j=s=>l.jsx(V.IndicatorsContainer,d(u({},s),{children:c})),E=h.useCallback(s=>{if(n&&!s.nativeEvent.isComposing)switch(s.key){case"Enter":case",":case" ":{const m=I(n);a([...e,...m.map(y)]),f(""),s.preventDefault();const w={numEmailsAdded:m.length,uploadType:"Manual"};r==null||r(w)}}},[n,a,e,r]),D=s=>{if(n){const m=I(n);a([...e,...m.map(y)]),f(n),s.preventDefault()}},N=b(e.map(s=>s.value),n);return l.jsx(G,{className:T("react-select-container",t),isMulti:!0,onBlur:D,classNamePrefix:"react-select",components:d(u({},U),{IndicatorsContainer:N&&c?j:()=>null}),inputValue:n,isClearable:!0,menuIsOpen:!1,onChange:(s,m)=>{switch(a(s),m.action){case"pop-value":case"remove-value":o==null||o();break}},classNames:p,onInputChange:f,onKeyDown:E,placeholder:i!=null?i:x.formatMessage(v.placeholder),value:e,"aria-labelledby":"add-emails-label",name:"add-member-emails",trackEmailRemoved:o})}const y=e=>({label:e,value:e,isValid:k.test(e)}),R=e=>{const a=C(),t=l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx("span",{children:e.children}),l.jsx(K,{className:"icon-sm"})]}),r=e.data.isValid?t:l.jsx(L,{label:a.formatMessage(v.tooltipInvalidEmail,{email:e.data.value}),side:"top",children:t}),o=i=>{var p,c,b,x;(c=(p=e.removeProps).onClick)==null||c.call(p,i),(x=(b=e.selectProps).trackEmailRemoved)==null||x.call(b),i.preventDefault()};return l.jsx(V.MultiValue,d(u({},e),{children:l.jsx("div",d(u({className:T("text-token-text-primary m-1 cursor-pointer rounded-md border border-transparent px-1.5 py-1 text-sm",e.data.isValid?"bg-token-bg-tertiary hover:border-token-border-heavy hover:bg-token-bg-tertiary":"bg-red-200 text-red-500"),role:"button",tabIndex:0,"aria-label":a.formatMessage(v.removeMember,{member:e.data.value})},e.removeProps),{onClick:o,children:r}))}))},U={DropdownIndicator:()=>null,ClearIndicator:()=>null,MultiValueRemove:()=>null,MultiValue:R},v=B({membersAdded:{id:"emailsTextarea.membersAdded",defaultMessage:"+{count} {count, plural, one {member} other {members}}"},removeMember:{id:"emailsTextarea.removeMember",defaultMessage:"Remove {member}"},tooltipInvalidEmail:{id:"emailsTextarea.tooltipInvalidEmail",defaultMessage:'"{email}" may not be a valid email'},clearAllEntries:{id:"emailsTextarea.clearAllEntries",defaultMessage:"Clear all"},placeholder:{id:"emailsTextarea.placeholder",defaultMessage:"Type an email and press enter..."}});export{H as E,y as c};
//# sourceMappingURL=l7qr5j8e9lh3l959.js.map
