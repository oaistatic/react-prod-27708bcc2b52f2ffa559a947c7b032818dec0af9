var H=Object.defineProperty,K=Object.defineProperties;var X=Object.getOwnPropertyDescriptors;var R=Object.getOwnPropertySymbols;var Y=Object.prototype.hasOwnProperty,J=Object.prototype.propertyIsEnumerable;var z=(o,e,a)=>e in o?H(o,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):o[e]=a,W=(o,e)=>{for(var a in e||(e={}))Y.call(e,a)&&z(o,a,e[a]);if(R)for(var a of R(e))J.call(e,a)&&z(o,a,e[a]);return o},q=(o,e)=>K(o,X(e));import{e as v,r as u,j as t,f as Q}from"./fg33krlcm0qyi6yw.js";import{lR as Z,dr as tt,bq as B,pK as et,oE as st,bp as at,fh as it,rX as ot,pW as rt}from"./k65njl5wlgspihfr.js";import{P as p,V as nt,b as ct,be as lt,bf as dt,bg as x,bv as M,i9 as pt,l as y,a9 as j,bb as gt}from"./mtk1qztvnb31pw5r.js";import{A as mt}from"./jkdx73dfg7n0gxrn.js";import{u as ut}from"./dg5jraediw4l39ow.js";import{R as bt}from"./o9og9fba0xn8j0xb.js";import{s as _}from"./0lpzrfkojplamwyb.js";import"./hb1mva1gmw4bcs8w.js";import"./efooahjtdr85x1lo.js";import"./km71i01x6ma5r62b.js";import"./mbql81gwv5du9dtu.js";import"./k43gn7pl526u53kc.js";const ht="/cdn/assets/check-ic8w9al5.webp",xt={src:ht},ft="/cdn/assets/prompt_tour_bg_1-iuffr7bz.webp",yt={src:ft},wt="/cdn/assets/prompt_tour_bg_1_dark-np9f86bj.webp",kt={src:wt},_t="/cdn/assets/sms-iu0m1fyn.webp",Mt={src:_t},jt="/cdn/assets/static_onboarding_bg_1-ecvwtnea.webp",St={src:jt},Nt="/cdn/assets/static_onboarding_bg_2-j383egmg.webp",vt={src:Nt},Ct="/cdn/assets/static_onboarding_bg_3-ooawgpki.webp",$={src:Ct},Pt="/cdn/assets/static_onboarding_bg_3_dark-c2x8mkcs.webp",Tt={src:Pt},Ot="/cdn/assets/static_onboarding_bg_all_set-gymwu5pk.webp",Et={src:Ot},i=Q({title:{id:"static-new-user-onboarding.title",defaultMessage:"Welcome to ChatGPT"},askAnythingTitle:{id:"static-new-user-onboarding.ask-anything.title",defaultMessage:"Ask anything"},askAnythingDescription:{id:"static-new-user-onboarding.ask-anything.description",defaultMessage:"From quick questions to big ideas, ChatGPT is here to help."},askAnythingPrompt:{id:"static-new-user-onboarding.ask-anything.prompt-2",defaultMessage:"Help me build a morning routine to start my day with more focus"},pictureThisTitle:{id:"static-new-user-onboarding.picture-this.title-2",defaultMessage:"Create images"},pictureThisDescription:{id:"static-new-user-onboarding.picture-this.description",defaultMessage:"Describe an idea and watch it come to life, or edit your photos with just a phrase."},pictureThisPrompt:{id:"static-new-user-onboarding.picture-this.prompt-2",defaultMessage:"Redesign this room with new paint and furniture"},pictureThisLongPrompt:{id:"static-new-user-onboarding.picture-this.long-prompt-2",defaultMessage:"Redesign this room with new paint and furniture. I'll attach the photo of the room."},easyUploadsTitle:{id:"static-new-user-onboarding.easy-uploads.title-2",defaultMessage:"Chat about images or files"},easyUploadsDescription:{id:"static-new-user-onboarding.easy-uploads.description",defaultMessage:"Get instant summaries or analysis by uploading images and documents."},easyUploadsPrompt:{id:"static-new-user-onboarding.easy-uploads.prompt-2",defaultMessage:"Look at this screenshot. Do you think it’s a scam or a phishing attempt?"},easyUploadsPromptLong:{id:"static-new-user-onboarding.easy-uploads.prompt-long-2",defaultMessage:"Look at this screenshot. Do you think it’s a scam or a phishing attempt? I'll attach the screenshot."},tryIt:{id:"static-new-user-onboarding.try-it",defaultMessage:"Try it"},next:{id:"static-new-user-onboarding.next",defaultMessage:"Next"},close:{id:"static-new-user-onboarding.close",defaultMessage:"Close"},screenshot:{id:"static-new-user-onboarding.screenshot",defaultMessage:"Screenshot"},quickHeadsup:{id:"static-new-user-onboarding.quick-headsup",defaultMessage:"A quick heads up"},startTour:{id:"static-new-user-onboarding.start-tour",defaultMessage:"Start Tour"}}),F="static-onboarding.all-set";function At({prompt:o,onSubmit:e}){const a=v();return t.jsxs("span",{className:"group bg-token-bg-elevated-primary border-token-border-light inline-flex items-end justify-center gap-3 self-stretch rounded-3xl border p-3 ps-4 shadow-xl backdrop-blur-[20px]",onClick:()=>{p.logEventWithStatsig("Onboarding Click Composer","chatgpt_onboarding_flow_click_composer")},children:[t.jsx("span",{className:"text-token-text-primary flex-1 justify-end text-start text-sm leading-tight font-normal opacity-65 duration-300 sm:group-hover:opacity-100",children:o}),t.jsx(j,{icon:mt,size:"small",label:a.formatMessage(_.tryNow),onClick:d=>{e(d),p.logEventWithStatsig("Onboarding Click Composer Submit","chatgpt_onboarding_flow_click_composer_submit")},className:"h-7 w-7 transition-all duration-300 sm:opacity-65 sm:group-hover:opacity-100"})]})}function Ut(o){const e=v(),a=gt(),d=ut(),w={id:F,bg:Et.src,title:e.formatMessage(_.allSet),description:t.jsx("span",{className:"text-token-text-secondary text-center text-base leading-6",children:t.jsx(bt,{})}),hideSecondaryButton:!0,sticker:{image:xt.src,imageClassName:"w-24 h-24 rounded-2xl"}};return o==="PROMPTS"?[{id:"static-onboarding.see-what-chatgpt-can-do",bg:a?kt.src:yt.src,title:e.formatMessage(_.promptOnboardingTitle),description:e.formatMessage(_.promptOnboardingSubtitle),sticker:{image:Mt.src,imageClassName:"w-[140px] h-[140px] rounded-2xl"},hideSecondaryButton:!0},...d.slice(0,3).map(g=>{var b;return{id:(b=g.id)!=null?b:"",bgColor:g.accentColor,title:g.title,description:g.body,descriptionStyle:"composer",promptLong:g.prompt,sticker:{image:g.iconImageUrl,imageClassName:"w-[140px] h-[140px]"}}}),q(W({},w),{bg:a?Tt.src:$.src,sticker:void 0})]:[{id:"static-onboarding.ask-anything",bg:St.src,prompt:e.formatMessage(i.askAnythingPrompt),title:e.formatMessage(i.askAnythingTitle),description:e.formatMessage(i.askAnythingDescription),sticker:{image:it.src,imageClassName:"w-24 h-24 sm:w-28 sm:h-28 rotate-[-5deg] rounded-2xl absolute top-0 end-full translate-x-5 sm:translate-x-6 -translate-y-8"},bubbleClassName:"rotate-[-1deg]",className:"flex-row-reverse translate-x-3 sm:translate-x-4"},{id:"static-onboarding.picture-this",bg:vt.src,prompt:e.formatMessage(i.pictureThisPrompt),promptLong:e.formatMessage(i.pictureThisLongPrompt),title:e.formatMessage(i.pictureThisTitle),description:e.formatMessage(i.pictureThisDescription),sticker:{image:ot.src,imageClassName:"h-24 w-24 origin-top-left -translate-x-1.5 translate-y-4 rotate-[3.61deg] rounded-3xl shadow-[0_4px_12px_rgba(0,0,0,0.2)] rtl:origin-top-right"},bubbleClassName:"rotate-[-1deg]"},{id:"static-onboarding.easy-uploads",bg:$.src,prompt:e.formatMessage(i.easyUploadsPrompt),promptLong:e.formatMessage(i.easyUploadsPromptLong),title:e.formatMessage(i.easyUploadsTitle),description:e.formatMessage(i.easyUploadsDescription),sticker:{icon:t.jsx(rt,{}),text:e.formatMessage(i.screenshot)+".png"},className:"rotate-[1deg]"},w]}function Xt({clientThreadId:o}){var E,A,U,D,L;const{isOpen:e,isLoading:a,closeModal:d,markAsViewed:w}=Z(),{eligible:g}=tt(B.Onboarding),b=v(),C=et({clientThreadId:o}),P=u.useCallback(()=>{p.logEventWithStatsig("Onboarding Dismissed","chatgpt_onboarding_flow_dismissed"),d()},[d]),T=u.useCallback((r,f,n)=>{var h,I;const l=(h=n.promptLong)!=null?h:n.prompt;if(l)try{C({suggestedPrompt:{id:n.id,type:st.Starter,title:(I=n.title)!=null?I:"",body:typeof n.description=="string"?n.description:"",prompt:l},index:f,isOnboarding:!0}),d(),p.logEventWithStatsig("Onboarding Try Prompt","chatgpt_onboarding_flow_try_prompt",{step_index:f,prompt_id:n.id})}catch(N){p.logEventWithStatsig("Onboarding Error","chatgpt_onboarding_flow_error",{error:N instanceof Error?N.message:String(N)})}},[C,d]),S=ct(),k=nt(S,"109457",{disableExposureLog:!0}).get("feature_tour_slide_type","FEATURES"),m=Ut(k);u.useEffect(()=>{const r=m.flatMap(n=>{var h;const l=[];return n.bg&&l.push(n.bg),(h=n.sticker)!=null&&h.image&&l.push(n.sticker.image),l});Array.from(new Set(r)).forEach(n=>{var h;const l=new Image;l.src=n,(h=l.decode)==null||h.call(l).catch(()=>{})})},[m]);const[c,O]=u.useState(0);u.useEffect(()=>{e&&!a&&(w(),p.logEventWithStatsig("Onboarding Shown","chatgpt_onboarding_flow_shown"),p.logUpsellOrModalEvent(lt,{eventId:"static_new_user_onboarding_modal_shown",type:dt.UPSELL_OR_MODAL_TYPE_CUSTOM_NUX_MODAL}))},[e,a,w]),u.useEffect(()=>{e&&!a&&p.logEventWithStatsig("Onboarding Step Shown","chatgpt_onboarding_step_shown",{step_index:c})},[c,e,a]),u.useEffect(()=>{var r;e&&!a&&((r=m[c])==null?void 0:r.id)===F&&g&&at(S,B.Onboarding)},[S,c,e,a,m,g]);const G=u.useCallback(()=>{p.logEventWithStatsig("Onboarding Next","chatgpt_onboarding_flow_next_clicked",{step_index:c}),O(r=>Math.min(r+1,m.length-1))},[c,m.length]),V=u.useCallback(()=>{p.logEventWithStatsig("Onboarding Finished","chatgpt_onboarding_flow_finished"),d()},[d]);if(!e||a)return null;const s=m[c];return t.jsxs("div",{className:"fixed inset-0 z-50 flex items-end justify-center sm:items-center",children:[t.jsx(x.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.35},className:"absolute inset-0 bg-black/60","aria-hidden":"true",onClick:P}),t.jsx(M,{mode:"wait",children:t.jsx(x.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.35},className:"relative z-10 w-full sm:max-w-[480px]",style:{boxShadow:"0 10px 30px rgba(0,0,0,0.15)"},onClick:r=>r.stopPropagation(),children:t.jsxs("div",{className:"overflow-hidden rounded-t-3xl sm:rounded-3xl",children:[t.jsx("button",{type:"button","aria-label":b.formatMessage(i.close),onClick:P,className:"outline-token-border-xlight absolute end-3 top-3 z-20 rounded-full bg-white/30 p-2 shadow outline outline-1 backdrop-blur-md focus:ring-2 focus:ring-blue-500 focus:outline-none",children:t.jsx(pt,{className:"icon text-black"})}),t.jsxs("div",{className:"bg-token-bg-primary pointer-events-none relative h-48 w-full select-none sm:h-52",children:[t.jsxs(M,{initial:!1,children:[s.bg&&t.jsx(x.img,{src:s.bg,alt:b.formatMessage(i.title),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},className:"absolute inset-0 h-full w-full rounded-t-3xl object-cover object-top"},s.bg),s.bgColor&&t.jsx(x.div,{className:"absolute inset-0",style:{background:s.bgColor},initial:{opacity:0},animate:{opacity:.1},exit:{opacity:0},transition:{duration:.5}},s.bgColor)]}),k==="PROMPTS"&&t.jsx("div",{className:"from-token-bg-primary absolute start-0 bottom-0 z-10 h-full w-full bg-gradient-to-t from-[0%] to-transparent to-[30%]"}),t.jsx("div",{className:"absolute inset-0 z-20 flex items-center justify-center px-6 sm:px-8",children:t.jsx(M,{mode:"wait",children:t.jsxs(x.div,{initial:{opacity:0,y:8,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-8,scale:.98},transition:{duration:.25},className:y("relative ms-1.5 flex max-w-[80%] sm:max-w-[70%]",(E=s.sticker)!=null&&E.text?"flex-col items-end":"items-center",s.className),children:[((A=s.sticker)==null?void 0:A.text)&&t.jsx(x.div,{initial:{opacity:0,y:8,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-8,scale:.98},transition:{duration:.25},className:"z-10 -translate-x-2 translate-y-1 rounded-full bg-white/80 px-3 py-1.5 text-sm shadow-lg backdrop-blur-md",children:t.jsxs("div",{className:"flex items-center gap-1.5 text-base text-gray-800",children:[s.sticker.icon&&t.jsx("span",{children:s.sticker.icon}),t.jsx("span",{children:s.sticker.text})]})}),s.prompt&&t.jsx("div",{className:y("pointer-events-auto inline-block rounded-3xl px-4 py-3 leading-6 text-black shadow-lg backdrop-blur-sm supports-[backdrop-filter]:bg-white/80 sm:px-5 sm:py-4 sm:text-lg",s.bubbleClassName),children:s.prompt}),((U=s.sticker)==null?void 0:U.image)&&t.jsx(x.img,{src:s.sticker.image,alt:"",initial:{opacity:0,y:8,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-8,scale:.98},transition:{duration:.25},className:y((D=s.sticker.imageClassName)!=null?D:"h-16 w-16 -translate-x-3 rotate-10 rounded-2xl shadow-[0_4px_12px_rgba(0,0,0,0.2)]")})]},s.id)})})]}),t.jsxs("div",{className:y("bg-token-main-surface-primary flex flex-col justify-center px-8 pb-8",k==="PROMPTS"?"pt-0":"pt-6"),children:[t.jsx(M,{mode:"wait",children:t.jsxs(x.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25,delay:.1},children:[t.jsx("h2",{className:y("text-token-text-primary mb-4 text-center",k==="PROMPTS"?"text-xl font-medium":"text-2xl font-semibold"),children:s.title}),t.jsx("p",{className:y("text-token-text-secondary mx-auto text-center text-base leading-6",k==="PROMPTS"?"min-h-[5rem]":"min-h-[4.5rem] max-w-[80%]"),children:s.descriptionStyle==="composer"?t.jsx(At,{prompt:s.description,onSubmit:r=>T(r,c,s)}):s.description})]},s.id)}),t.jsx("div",{className:"my-6 flex items-center justify-center","aria-hidden":"true",children:m.map((r,f)=>t.jsx("button",{onClick:()=>O(f),className:"p-[3px]",children:t.jsx("div",{className:y("h-1.5 w-1.5 rounded-full transition-colors duration-300 ease-out",f===c?"bg-token-main-surface-primary-inverse":"bg-token-bg-secondary dark:bg-token-bg-tertiary")})},f))}),t.jsxs("div",{className:"flex items-center justify-center gap-4",children:[!s.hideSecondaryButton&&((L=s.secondaryButton)!=null?L:t.jsx(j,{size:"large",color:"secondary",className:"flex-1",onClick:r=>T(r,c,s),children:b.formatMessage(i.tryIt)})),c<m.length-1?t.jsx(j,{size:"large",color:"primary",className:"flex-1",onClick:G,children:b.formatMessage(i.next)}):t.jsx(j,{size:"large",color:"primary",className:"flex-1",onClick:V,children:b.formatMessage(_.done)})]})]})]})})})]})}export{Xt as default};
//# sourceMappingURL=ew4cv767jtkwgim6.js.map
