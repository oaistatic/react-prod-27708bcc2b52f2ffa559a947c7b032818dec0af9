var ji=Object.defineProperty,Ci=Object.defineProperties;var vi=Object.getOwnPropertyDescriptors;var wn=Object.getOwnPropertySymbols;var ea=Object.prototype.hasOwnProperty,ta=Object.prototype.propertyIsEnumerable;var Zo=(s,e,n)=>e in s?ji(s,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):s[e]=n,S=(s,e)=>{for(var n in e||(e={}))ea.call(e,n)&&Zo(s,n,e[n]);if(wn)for(var n of wn(e))ta.call(e,n)&&Zo(s,n,e[n]);return s},Ce=(s,e)=>Ci(s,vi(e));var Qs=(s,e)=>{var n={};for(var o in s)ea.call(s,o)&&e.indexOf(o)<0&&(n[o]=s[o]);if(s!=null&&wn)for(var o of wn(s))e.indexOf(o)<0&&ta.call(s,o)&&(n[o]=s[o]);return n};import{c as q,e as pe,a as es,u as Ze,r as L,f as Ye,j as t,M as k,b as io,y as wi,i as va,m as ki,a0 as _i}from"./fg33krlcm0qyi6yw.js";import{a as Ni,c as Yn,e as sa}from"./jex6ulz50fkc86ct.js";import{F as wa}from"./j6lb21vbnpzhe1mm.js";import{BY as ka,y as ts,z as on,fx as ro,fn as Fs,at as _a,Cm as na,Cn as Mi,Co as Si,Cp as Ai,Cq as Ti,Cr as Di,Cs as Ri,Ct as Ii,dz as Na,ao as Ma,dA as Sa,q3 as Ei,ca as Pi,cL as Li,ap as Bi,Cu as oa,gc as Oi,ge as aa,nf as Fi,qR as Bs,Cv as la,Cw as $i,Cx as zi,hu as Ui,dy as co,Cy as Wi,q1 as Gi,gt as Vi,cx as mo,fS as qi,de as Gn,wC as Aa,Y as Hi,dx as Xn,cX as Ki,b_ as Qi,Cz as Yi,nJ as Xi,cw as Ji,cr as Zi,cs as er,ck as tr,CA as sr,jU as nr,gX as or,CB as ia,jE as ar}from"./k65njl5wlgspihfr.js";import{ck as rt,b as Pe,tn as an,u_ as xs,l as ue,a9 as re,bp as bt,bT as Ta,b4 as _t,T as cs,vN as Rs,v0 as uo,C as dt,AN as Sn,sC as ln,c0 as Nt,hA as fo,bO as Da,c2 as sn,vL as zt,AO as An,aA as Tn,aY as Dn,d as rn,d3 as lr,ht as ir,b6 as rr,cP as is,xN as cr,bo as ra,n6 as dr,zT as mr,bw as Ra,b_ as ur,du as po,uI as fs,AP as xo,mN as fr,g2 as be,AQ as pr,tl as Ia,gz as Ea,vM as xr,bn as gr,gJ as cn,AR as hr,R as vt,P as dn,zU as br,tm as go,br as Pa,p0 as _n,bq as yr,bt as jr,m as La,e4 as Cr,dB as vr,ny as wr,H as ho,pa as kr,hj as Ba,AS as _r,pb as Nr,iK as bo,I as mt,bB as Oa,vQ as Jn,gH as Mr,o as $s,e as Ut,iq as Fa,gL as ps,nW as nn,da as Zn,zV as $a,dv as za,i9 as yo,ls as Ua,ys as Wa}from"./mtk1qztvnb31pw5r.js";import{b as zs,r as Us,A as Ws,u as jo,C as Co}from"./ir9gt1ho5jxrc5j1.js";import{l as Sr}from"./uwm5r01je8eaqgfc.js";import{o as Gs,p as Ar,i as Ga,q as Tr}from"./c4y192oww5tqpynf.js";import{C as Va,a as Dr,A as Rr,b as Ir,M as Er,F as Pr}from"./o8fp7tdrxp9axj9w.js";import{c as Lr,T as Br,b as Or}from"./pfks1t2fx5uviwac.js";import{O as Fr,C as $r,I as zr,F as rs,u as vo,s as Rn,a as wo,l as qa,b as mn,c as un,d as Ha,e as Ka,g as Ur,S as Wr,f as Qa,h as Ya,i as Gr,j as Vr,k as qr,m as Hr,n as Kr}from"./hfqnbdxuzxapnljw.js";import{d as Xa}from"./deakbbf27g8e7ba0.js";import{D as Ja}from"./jaya7jppqn559p04.js";import{C as Za}from"./c0ls495fz2t1hbyy.js";import{T as Ft}from"./hcn3kohxpjzaoxwc.js";import{A as Qr}from"./nps4pxexolp79wxq.js";import{T as Yr}from"./krwszi9u3lj63i9v.js";import{a as Xr,g as ca}from"./g8u2zmf8tyzd98px.js";import{c as el}from"./n6upldbhvll48b0q.js";import{c as Jr,b as Zr}from"./qomjt47lfw1l209u.js";import{t as ec,G as tc,h as sc,c as nc,d as oc,e as ac}from"./dimtcupsb573kliu.js";import{u as tl,a as lc}from"./kpvy7vjsj1x8kuv5.js";import{U as eo}from"./e4epv5uv3mte9vwk.js";import{u as ic,A as rc}from"./ddsdk24z238sbfya.js";import{G as cc}from"./llove4bcy7api840.js";import{LimitItemsFilePickerModal as sl}from"./du8spbp0fpw55vih.js";import"./c2cj1dlcffke3f7m.js";import"./ohquqctluwabmb5i.js";import"./efooahjtdr85x1lo.js";import"./km71i01x6ma5r62b.js";import"./hb1mva1gmw4bcs8w.js";import"./i1tex5l6gt3gdz3c.js";import"./mcmrxiy9039fw9r6.js";import"./bhm7utdivrybcfbl.js";import"./mivow98b53y1taf8.js";import"./mh627gt08lvdeswk.js";import"./k43gn7pl526u53kc.js";import"./oc29jc50rrvtu7z8.js";import"./l1ka89a9nbqv3utj.js";import"./nq1hpdu2db6kh8n1.js";import"./mr025ud04jb4rh0r.js";import"./dcp7peq4y6a4kabz.js";import"./kg06gqasi13as2pn.js";import"./blg6blmyt2kk8gl7.js";import"./m3nchqrpfl8vs80b.js";import"./i5jw6wfkpao2rx5t.js";import"./ol9d5wxhynx9q2is.js";import"./n9gd5dvuv1wemtek.js";import"./ht7pa4q84q7i97x2.js";import"./o3it70lkiqa69mlg.js";const dc=el("Search16Regular","16",["M9.3 10.02a4.5 4.5 0 1 1 .7-.7l3.85 3.83a.5.5 0 0 1-.7.7L9.3 10.02ZM10 6.5a3.5 3.5 0 1 0-7 0 3.5 3.5 0 0 0 7 0Z"]),mc=el("SettingsCogMultiple20Filled","20",["M8 2c-.37 0-.73.04-1.08.1a.5.5 0 0 0-.4.4l-.26 1.36c-.05.25-.3.4-.54.31l-1.3-.45a.5.5 0 0 0-.55.14A5.5 5.5 0 0 0 2.8 5.74c-.07.2-.01.4.14.54l1.05.9c.19.17.19.47 0 .63l-1.05.91a.5.5 0 0 0-.14.54c.23.7.6 1.34 1.08 1.88.14.15.35.2.54.14l1.3-.45c.25-.08.5.06.55.31l.27 1.36c.03.2.19.35.39.4a5.52 5.52 0 0 0 2.17 0 .5.5 0 0 0 .4-.4l.25-1.36c.05-.25.3-.4.55-.31l1.3.45c.19.06.4 0 .54-.14a5.5 5.5 0 0 0 1.08-1.89.5.5 0 0 0-.14-.53l-1.04-.9a.42.42 0 0 1 0-.63l1.04-.9a.5.5 0 0 0 .14-.54 5.5 5.5 0 0 0-1.08-1.89.5.5 0 0 0-.54-.14l-1.3.45a.42.42 0 0 1-.55-.31L9.48 2.5a.5.5 0 0 0-.4-.4C8.75 2.05 8.39 2 8 2ZM6.5 7.5a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Zm4.66 4.95a.46.46 0 0 1 .53-.15l.8.27c.26.1.54-.07.6-.34l.15-.83c.04-.2.2-.36.4-.38a3.55 3.55 0 0 1 .72 0c.2.02.35.18.4.38l.15.83c.06.27.34.43.6.34l.8-.27c.19-.07.4-.02.52.15.14.2.27.4.36.62.09.19.03.4-.13.53l-.64.56c-.2.18-.2.5 0 .68l.64.56c.16.13.22.34.13.53-.1.22-.22.43-.36.62a.46.46 0 0 1-.52.15l-.8-.27a.45.45 0 0 0-.6.34l-.16.83c-.04.2-.19.36-.4.38a3.55 3.55 0 0 1-.71 0 .46.46 0 0 1-.4-.38l-.16-.83a.45.45 0 0 0-.6-.34l-.8.27c-.18.07-.4.02-.52-.15a3.5 3.5 0 0 1-.36-.62.46.46 0 0 1 .13-.53l.64-.56c.21-.18.21-.5 0-.68l-.64-.56a.46.46 0 0 1-.13-.53c.1-.22.22-.43.36-.62ZM15 14.5a1 1 0 1 0-2 0 1 1 0 0 0 2 0Z"]),da=s=>!!s&&typeof s=="object"&&!Array.isArray(s),kn=s=>{try{return JSON.stringify(s,null,2)}catch(e){return null}},uc=(s,e)=>{if(s==null||e==null)return{diffCount:{added:0,removed:0},diffComponent:null};let n=0;const o=(c,i="",r)=>t.jsx("div",{className:r,children:c.replace("/^.{0,".concat(i.length,"}/gm"),i)},"diff-block-".concat(n++)),a={added:0,removed:0},l=[];return Xa(s,e).forEach(c=>{const i=c.value.replace(/\n$/,"");c.added?(a.added+=i.split("\n").length,l.push(o(i,"+ ","text-green-600 dark:text-green-300"))):c.removed?(a.removed+=i.split("\n").length,l.push(o(i,"- ","text-red-500 dark:text-red-200"))):l.push(o(i))}),{diffCount:a,diffComponent:l.length?l:null}},ko=s=>{"use forget";var W;const e=q.c(46),{action:n,actionDelta:o,prevAction:a,className:l,initiallyCollapsed:c}=s,i=c===void 0?!1:c,r=pe();let d;e[0]!==n?(d=kn(n),e[0]=n,e[1]=d):d=e[1];const u=d,[m,p]=L.useState(i);let f;e:{if(o===1&&a){let I;e[2]!==n||e[3]!==a?(I=uc(kn(n),kn(a)),e[2]=n,e[3]=a,e[4]=I):I=e[4],f=I;break e}let V;e[5]===Symbol.for("react.memo_cache_sentinel")?(V={diffCount:{added:0,removed:0},diffComponent:null},e[5]=V):V=e[5],f=V}const{diffCount:g,diffComponent:h}=f,y=m?"end-1/2 ltr:translate-x-1/2 rtl:-translate-x-1/2":"end-0";let x;e[6]!==y?(x=ue(["absolute bottom-0 z-20 transition-all duration-150",y]),e[6]=y,e[7]=x):x=e[7];const b=m?"secondary":"ghost";let j;e[8]!==m?(j=()=>p(!m),e[8]=m,e[9]=j):j=e[9];const C=m?ka:Va,w=!m&&"text-token-text-tertiary hover:text-token-text-primary";let v;e[10]!==w?(v=ue(["m-2",w]),e[10]=w,e[11]=v):v=e[11];let M;e[12]!==m?(M=m?t.jsx(k,{id:"0PERAC",defaultMessage:"Expand"}):t.jsx("span",{className:"sr-only",children:t.jsx(k,{id:"KwNF2K",defaultMessage:"Collapse"})}),e[12]=m,e[13]=M):M=e[13];let _;e[14]!==v||e[15]!==M||e[16]!==b||e[17]!==j||e[18]!==C?(_=t.jsx(re,{size:"small",color:b,onClick:j,icon:C,className:v,children:M}),e[14]=v,e[15]=M,e[16]=b,e[17]=j,e[18]=C,e[19]=_):_=e[19];let N;e[20]!==_||e[21]!==x?(N=t.jsx("div",{className:x,children:_}),e[20]=_,e[21]=x,e[22]=N):N=e[22];const A=m&&"opacity-100";let D;e[23]!==A?(D=ue("from-token-bg-tertiary/30 to-token-bg-tertiary pointer-events-none absolute inset-0 z-10 h-full bg-gradient-to-b opacity-0 transition-opacity duration-150",A),e[23]=A,e[24]=D):D=e[24];let T;e[25]!==D?(T=t.jsx("div",{className:D,"aria-hidden":"true"}),e[25]=D,e[26]=T):T=e[26];const R=m?"max-h-24 cursor-pointer overflow-hidden select-none":"max-h-72 cursor-text overflow-auto select-text";let E;e[27]!==l||e[28]!==R?(E=ue([l,R,"bg-token-bg-tertiary text-token-text-secondary w-full px-3 py-2 font-mono text-xs leading-5 whitespace-pre-wrap transition-all duration-150"]),e[27]=l,e[28]=R,e[29]=E):E=e[29];let O;e[30]===Symbol.for("react.memo_cache_sentinel")?(O=()=>p(!1),e[30]=O):O=e[30];let F;e[31]!==h||e[32]!==r||e[33]!==u?(F=(W=h!=null?h:u)!=null?W:r.formatMessage(pt.actionDetailsSerializationError),e[31]=h,e[32]=r,e[33]=u,e[34]=F):F=e[34];let U;e[35]!==E||e[36]!==F?(U=t.jsx("pre",{className:E,onClick:O,children:F}),e[35]=E,e[36]=F,e[37]=U):U=e[37];let P;e[38]!==g.added||e[39]!==g.removed?(P=g.added>0||g.removed>0?t.jsxs("div",{className:"bg-token-bg-primary/80 absolute end-2 top-2 z-30 flex items-center gap-1 rounded-full px-2 py-0.5 text-[10px] font-medium backdrop-blur-sm",children:[g.added>0&&t.jsxs("span",{className:"text-green-600 dark:text-green-500",children:["+",g.added]}),g.removed>0&&t.jsxs("span",{className:"text-red-500 dark:text-red-300",children:["-",g.removed]})]}):null,e[38]=g.added,e[39]=g.removed,e[40]=P):P=e[40];let B;return e[41]!==N||e[42]!==T||e[43]!==U||e[44]!==P?(B=t.jsxs("div",{className:"action-details border-token-border-default relative overflow-hidden rounded-xl border",children:[N,T,U,P]}),e[41]=N,e[42]=T,e[43]=U,e[44]=P,e[45]=B):B=e[45],B},ma=s=>{"use forget";const e=q.c(5),{children:n,className:o}=s;let a;e[0]!==o?(a=ue(o,"items-center rounded-full border px-1 py-0.5 text-[8px] leading-3 font-semibold uppercase"),e[0]=o,e[1]=a):a=e[1];let l;return e[2]!==n||e[3]!==a?(l=t.jsx("span",{className:a,children:n}),e[2]=n,e[3]=a,e[4]=l):l=e[4],l},fc=s=>{"use forget";const e=q.c(2),{delta:n}=s;switch(n){case 0:{let o;return e[0]===Symbol.for("react.memo_cache_sentinel")?(o=t.jsx(ma,{className:"border-blue-100 text-blue-500 dark:border-blue-800 dark:text-blue-200",children:t.jsx(k,{id:"5wPfIg",defaultMessage:"New"})}),e[0]=o):o=e[0],o}case 1:{let o;return e[1]===Symbol.for("react.memo_cache_sentinel")?(o=t.jsx(ma,{className:"border-token-border-status-warning text-token-text-status-warning",children:t.jsx(k,{id:"vpGa1d",defaultMessage:"Modified"})}),e[1]=o):o=e[1],o}case 2:default:return null}},pc=()=>{"use forget";const s=q.c(4);let e;s[0]===Symbol.for("react.memo_cache_sentinel")?(e=t.jsx(ts,{id:"action-toggle-skeleton",checked:!1,disabled:!0}),s[0]=e):e=s[0];let n;s[1]===Symbol.for("react.memo_cache_sentinel")?(n=t.jsx("div",{className:"flex-1 space-y-0.5",children:t.jsx(Rs,{})}),s[1]=n):n=s[1];let o;s[2]===Symbol.for("react.memo_cache_sentinel")?(o=t.jsx("div",{className:"from-token-bg-tertiary/30 to-token-bg-tertiary absolute inset-0 z-10 h-full bg-gradient-to-b","aria-hidden":"true"}),s[2]=o):o=s[2];let a;return s[3]===Symbol.for("react.memo_cache_sentinel")?(a=t.jsxs("li",{className:"border-token-border-default grid cursor-wait grid-cols-[auto_1fr] gap-4 p-4",children:[e,n,t.jsxs("div",{className:"border-token-border-default relative col-start-2 overflow-hidden rounded-xl border",children:[o,t.jsx("pre",{className:"bg-token-bg-tertiary h-24 w-full overflow-hidden px-3 py-2",children:t.jsx(Rs,{lines:4,heightSize:"sm",delay:.07})})]})]}),s[3]=a):a=s[3],a},xc=s=>{"use forget";const e=q.c(89),{action:n,actionDelta:o,prevAction:a,isEnabled:l,onToggle:c,onOpenConstraints:i,disabled:r}=s,d=r===void 0?!1:r,u=pe();let m;if(e[0]!==n.name){let H;e[2]===Symbol.for("react.memo_cache_sentinel")?(H=/[^a-zA-Z0-9_-]/g,e[2]=H):H=e[2],m=n.name.replace(H,"-"),e[0]=n.name,e[1]=m}else m=e[1];const p=m,f="action-toggle-".concat(p);let g,h,y,x,b,j,C,w,v,M,_,N,A,D;if(e[3]!==n||e[4]!==o||e[5]!==d||e[6]!==l||e[7]!==i||e[8]!==c||e[9]!==f){const H=zs(n),Y=da(n.params)?n.params:null,Q=da(Y==null?void 0:Y.properties)?Y.properties:null;let oe;e[24]!==Q?(oe=Q&&Object.keys(Q).length>0,e[24]=Q,e[25]=oe):oe=e[25],h=oe,y=i!==void 0&&o!==void 0&&o!==2,g=o===0?pt.createConstraintsButton:pt.updateConstraintsButton,C="group",b=f;const $=d?"cursor-not-allowed":"cursor-pointer";e[26]!==$?(j=ue(["border-token-border-default block border-b p-2 group-last:border-0",$]),e[26]=$,e[27]=j):j=e[27];const G=!d&&"group-hover:bg-token-bg-tertiary";e[28]!==G?(D=ue("has-[.action-details:hover]:bg-token-bg-primary grid grid-cols-[auto_1fr] items-center gap-4 rounded-lg p-2 select-none",G),e[28]=G,e[29]=D):D=e[29];let K;e[30]!==n.name||e[31]!==c?(K=ee=>c(n.name,ee.target.checked),e[30]=n.name,e[31]=c,e[32]=K):K=e[32],e[33]!==d||e[34]!==l||e[35]!==K||e[36]!==f?(x=t.jsx(ts,{id:f,checked:l,onChange:K,disabled:d}),e[33]=d,e[34]=l,e[35]=K,e[36]=f,e[37]=x):x=e[37],A="flex-1 space-y-0.5",N="flex w-full items-start justify-between gap-2",M="flex min-w-0 flex-wrap items-center gap-2";const se=d&&"text-token-text-secondary";let Z;e[38]!==se?(Z=ue(["font-mono text-sm font-medium",se]),e[38]=se,e[39]=Z):Z=e[39],e[40]!==n.name||e[41]!==Z?(_=t.jsx("div",{className:Z,children:n.name}),e[40]=n.name,e[41]=Z,e[42]=_):_=e[42],w="flex items-center gap-1 select-none",v=Us({badgeKeys:H,labels:Ws}),e[3]=n,e[4]=o,e[5]=d,e[6]=l,e[7]=i,e[8]=c,e[9]=f,e[10]=g,e[11]=h,e[12]=y,e[13]=x,e[14]=b,e[15]=j,e[16]=C,e[17]=w,e[18]=v,e[19]=M,e[20]=_,e[21]=N,e[22]=A,e[23]=D}else g=e[10],h=e[11],y=e[12],x=e[13],b=e[14],j=e[15],C=e[16],w=e[17],v=e[18],M=e[19],_=e[20],N=e[21],A=e[22],D=e[23];let T;e[43]!==o?(T=t.jsx(fc,{delta:o}),e[43]=o,e[44]=T):T=e[44];let R;e[45]!==T||e[46]!==w||e[47]!==v?(R=t.jsxs("div",{className:w,children:[v,T]}),e[45]=T,e[46]=w,e[47]=v,e[48]=R):R=e[48];let E;e[49]!==R||e[50]!==M||e[51]!==_?(E=t.jsxs("div",{className:M,children:[_,R]}),e[49]=R,e[50]=M,e[51]=_,e[52]=E):E=e[52];let O;e[53]!==n||e[54]!==g||e[55]!==d||e[56]!==h||e[57]!==u||e[58]!==i||e[59]!==y?(O=y&&t.jsx(cs,{label:h?void 0:u.formatMessage(pt.noParametersDeclaredTooltip),children:t.jsx("span",{className:"flex-shrink-0",children:t.jsx(re,{size:"small",color:"secondary",onClick:H=>{H.preventDefault(),H.stopPropagation(),i==null||i(n)},disabled:!h||d,className:h?void 0:"cursor-not-allowed opacity-60",children:t.jsx(k,S({},g))})})}),e[53]=n,e[54]=g,e[55]=d,e[56]=h,e[57]=u,e[58]=i,e[59]=y,e[60]=O):O=e[60];let F;e[61]!==E||e[62]!==O||e[63]!==N?(F=t.jsxs("div",{className:N,children:[E,O]}),e[61]=E,e[62]=O,e[63]=N,e[64]=F):F=e[64];let U;e[65]!==n.description?(U=n.description?n.description:t.jsx(k,S({},pt.noDescription)),e[65]=n.description,e[66]=U):U=e[66];let P;e[67]!==U?(P=t.jsx("div",{className:"text-token-text-tertiary line-clamp-3 text-xs leading-5",children:U}),e[67]=U,e[68]=P):P=e[68];let B;e[69]!==F||e[70]!==P||e[71]!==A?(B=t.jsxs("div",{className:A,children:[F,P]}),e[69]=F,e[70]=P,e[71]=A,e[72]=B):B=e[72];let W;e[73]!==n||e[74]!==o||e[75]!==a?(W=t.jsx("div",{className:"pointer-events-none col-start-2 min-w-0",onClick:jc,children:t.jsx(ko,{action:n,actionDelta:o,prevAction:a,initiallyCollapsed:!0,className:"pointer-events-auto"})}),e[73]=n,e[74]=o,e[75]=a,e[76]=W):W=e[76];let V;e[77]!==x||e[78]!==B||e[79]!==W||e[80]!==D?(V=t.jsxs("div",{className:D,children:[x,B,W]}),e[77]=x,e[78]=B,e[79]=W,e[80]=D,e[81]=V):V=e[81];let I;e[82]!==b||e[83]!==j||e[84]!==V?(I=t.jsx("label",{htmlFor:b,className:j,children:V}),e[82]=b,e[83]=j,e[84]=V,e[85]=I):I=e[85];let J;return e[86]!==C||e[87]!==I?(J=t.jsx("li",{className:C,children:I}),e[86]=C,e[87]=I,e[88]=J):J=e[88],J},gc=s=>{var n;let e=0;for(const o of(n=kn(s))!=null?n:"")e=(e<<5)-e+o.charCodeAt(0),e|=0;return e},hc=(s,e)=>{"use forget";const n=q.c(4);if(!e){let a;return n[0]===Symbol.for("react.memo_cache_sentinel")?(a=new Map,n[0]=a):a=n[0],a}let o;if(n[1]!==s||n[2]!==e){o=new Map;for(const a of s.entries()){const[l,c]=a,{hash:i}=c,r=e.get(l);r?r.hash!==i&&o.set(l,1):o.set(l,0)}n[1]=s,n[2]=e,n[3]=o}else o=n[3];return o},nl=s=>{"use forget";var He;const e=q.c(85),{connector:n,onClose:o,onCancel:a,onConfirm:l,initialEnabledActions:c,showOverlayBackground:i,loading:r,onOpenConstraints:d}=s,u=i===void 0?!0:i,m=r===void 0?!1:r,p=pe();let f;e[0]===Symbol.for("react.memo_cache_sentinel")?(f={forceEnable:!0},e[0]=f):f=e[0];const{actions:g,isLoading:h,refetch:y}=xs(n,bt.ADMIN_SETTING,f),[x,b]=L.useState(c);let j,C;e[1]!==g||e[2]!==h||e[3]!==x?(j=()=>{!h&&x===void 0&&b(new Set(g.filter(Cc).map(vc)))},C=[h,g,x],e[1]=g,e[2]=h,e[3]=x,e[4]=j,e[5]=C):(j=e[4],C=e[5]),L.useEffect(j,C);let w;if(e[6]!==g){w=new Map;for(const ae of g)w.set(ae.name,{action:ae,hash:gc(ae)});e[6]=g,e[7]=w}else w=e[7];const v=w;let M;e[8]!==v?(M=Array.from(v.keys()),e[8]=v,e[9]=M):M=e[9];const _=M,[N,A]=L.useState(null),D=hc(v,N);let T;e[10]!==D||e[11]!==x?(T=Array.from(D.entries().filter(wc)).map(kc).filter(Ie=>!(x!=null&&x.has(Ie))),e[10]=D,e[11]=x,e[12]=T):T=e[12];const R=T;let E;if(e[13]!==D||e[14]!==g){let ae;e[16]!==D?(ae=(Ie,Le)=>{var Ee,Te;const we=(Ee=D.get(Ie.name))!=null?Ee:2,Ke=(Te=D.get(Le.name))!=null?Te:2;return we!==Ke?we-Ke:Ie.name.localeCompare(Le.name)},e[16]=D,e[17]=ae):ae=e[17],E=g.sort(ae),e[13]=D,e[14]=g,e[15]=E}else E=e[15];const O=E,F=Pe();let U;e[18]!==F?(U=rt(F),e[18]=F,e[19]=U):U=e[19];const P=U;let B;e[20]!==v||e[21]!==N||e[22]!==y?(B=async ae=>{N||A(v),await uo(ae),await y()},e[20]=v,e[21]=N,e[22]=y,e[23]=B):B=e[23];let W;e[24]!==P?(W=ae=>{P.danger(pt.refreshActionsError,{error:ae})},e[24]=P,e[25]=W):W=e[25];let V;e[26]!==B||e[27]!==W?(V={mutationFn:B,onError:W},e[26]=B,e[27]=W,e[28]=V):V=e[28];const I=Ze(V);let J;e[29]===Symbol.for("react.memo_cache_sentinel")?(J={fetchValidLinksOnly:!0,productSku:bt.CONNECTOR_SETTING},e[29]=J):J=e[29];const H=Ta(J);let Y;e[30]!==n.id||e[31]!==H.connectorLinks?(Y=(He=H.connectorLinks.get(n.id))!=null?He:[],e[30]=n.id,e[31]=H.connectorLinks,e[32]=Y):Y=e[32];const Q=Y,oe=jo(n)&&Q.length>0;let $;e[33]!==p?($=p.formatMessage(pt.actionsControlModalTitle),e[33]=p,e[34]=$):$=e[34];let G;e[35]===Symbol.for("react.memo_cache_sentinel")?(G=t.jsx("p",{className:"text-token-text-secondary text-sm leading-5",children:t.jsx(k,Ce(S({},pt.actionsDescription),{values:{link:_c}}))}),e[35]=G):G=e[35];let K;e[36]!==_||e[37]!==g.length||e[38]!==(x==null?void 0:x.size)||e[39]!==m||e[40]!==I.isPending||e[41]!==R?(K=!m&&g.length===0?t.jsx("div",{}):t.jsxs("div",{className:"flex items-center",children:[!m&&g.length===(x==null?void 0:x.size)?t.jsx(re,{color:"secondary",size:"small",onClick:()=>b(new Set),disabled:m||g.length===0||I.isPending,children:t.jsx(k,S({},pt.deselectAllLabel))}):t.jsx(re,{color:"secondary",size:"small",onClick:()=>b(new Set(_)),className:ue(R.length>0&&"rounded-e-none pe-2"),disabled:m||g.length===0||I.isPending,children:t.jsx(k,S({},pt.selectAllLabel))}),R.length>0&&t.jsx(re,{size:"small",onClick:()=>b(ae=>{const Ie=new Set(ae);return R.forEach(Le=>Ie.add(Le)),Ie}),color:"custom",className:"rounded-s-none border border-blue-100 ps-2 text-blue-800 dark:border-blue-700 dark:text-blue-50",children:t.jsx(k,S({},pt.selectAllNewLabel))})]}),e[36]=_,e[37]=g.length,e[38]=x==null?void 0:x.size,e[39]=m,e[40]=I.isPending,e[41]=R,e[42]=K):K=e[42];let se;e[43]!==oe||e[44]!==Q||e[45]!==m||e[46]!==I?(se=oe&&t.jsx(re,{size:"small",color:"secondary",loading:I.isPending,disabled:m,onClick:()=>{I.mutate(Q[0].id)},children:t.jsx(k,S({},pt.refreshLabel))}),e[43]=oe,e[44]=Q,e[45]=m,e[46]=I,e[47]=se):se=e[47];let Z;e[48]!==K||e[49]!==se?(Z=t.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[K,se]}),e[48]=K,e[49]=se,e[50]=Z):Z=e[50];let ee;e[51]!==D||e[52]!==g.length||e[53]!==h||e[54]!==x||e[55]!==m||e[56]!==d||e[57]!==N||e[58]!==I.isPending||e[59]!==O?(ee=t.jsx("div",{className:"mt-1 flex-1",children:h&&!I.isPending?t.jsx("ul",{className:"border-token-border-default rounded-2xl border",children:t.jsx(pc,{})}):g.length===0?t.jsx("p",{className:"text-token-text-tertiary my-4 text-center text-xs italic",children:t.jsx(k,S({},pt.noActionsLabel))}):t.jsx("ul",{className:"border-token-border-default rounded-2xl border",children:O.map(ae=>{var Ie;return t.jsx(xc,{action:ae,actionDelta:D.get(ae.name),prevAction:(Ie=N==null?void 0:N.get(ae.name))==null?void 0:Ie.action,isEnabled:!!(x!=null&&x.has(ae.name)),onToggle:(Le,we)=>{b(Ke=>{const Ee=new Set(Ke);return we?Ee.add(Le):Ee.delete(Le),Ee})},disabled:m||I.isPending,onOpenConstraints:d},ae.name)})})}),e[51]=D,e[52]=g.length,e[53]=h,e[54]=x,e[55]=m,e[56]=d,e[57]=N,e[58]=I.isPending,e[59]=O,e[60]=ee):ee=e[60];let te;e[61]!==Z||e[62]!==ee?(te=t.jsxs("div",{className:"overflow-y-auto p-4",children:[G,Z,ee]}),e[61]=Z,e[62]=ee,e[63]=te):te=e[63];const xe=m||I.isPending;let ce;e[64]===Symbol.for("react.memo_cache_sentinel")?(ce=t.jsx(k,{id:"otQMlF",defaultMessage:"Cancel"}),e[64]=ce):ce=e[64];let me;e[65]!==a||e[66]!==xe?(me=t.jsx(re,{color:"secondary",onClick:a,disabled:xe,children:ce}),e[65]=a,e[66]=xe,e[67]=me):me=e[67];let de;e[68]!==x||e[69]!==l?(de=()=>l(Array.from(x!=null?x:[])),e[68]=x,e[69]=l,e[70]=de):de=e[70];let ye;e[71]===Symbol.for("react.memo_cache_sentinel")?(ye=t.jsx(k,{id:"b6Dv1o",defaultMessage:"Confirm"}),e[71]=ye):ye=e[71];let ve;e[72]!==m||e[73]!==I.isPending||e[74]!==de?(ve=t.jsx(re,{onClick:de,loading:m,disabled:I.isPending,children:ye}),e[72]=m,e[73]=I.isPending,e[74]=de,e[75]=ve):ve=e[75];let _e;e[76]!==me||e[77]!==ve?(_e=t.jsxs("div",{className:"border-token-border-default flex justify-end gap-2 border-t p-4",children:[me,ve]}),e[76]=me,e[77]=ve,e[78]=_e):_e=e[78];let Ne;return e[79]!==o||e[80]!==u||e[81]!==$||e[82]!==te||e[83]!==_e?(Ne=t.jsxs(dt,{isOpen:!0,onClose:o,showOverlayBackground:u,testId:"modal-connector-actions-control",title:$,size:"xlarge",hasSeparator:!0,noPadding:!0,contentClassName:"flex flex-col max-h-[80vh]",children:[te,_e]}),e[79]=o,e[80]=u,e[81]=$,e[82]=te,e[83]=_e,e[84]=Ne):Ne=e[84],Ne},bc=s=>{"use forget";const e=q.c(26),{workspaceId:n,connector:o,onClose:a}=s,l=pe(),c=Pe();let i;e[0]!==c?(i=rt(c),e[0]=c,e[1]=i):i=e[1];const r=i,d=es(),u=an();let m;e[2]!==o||e[3]!==u||e[4]!==d||e[5]!==n?(m=async C=>{await Sn(o.id,n,C),u(),d.invalidateQueries({queryKey:["connector-actions",o.id]})},e[2]=o,e[3]=u,e[4]=d,e[5]=n,e[6]=m):m=e[6];let p;e[7]!==l||e[8]!==a||e[9]!==r?(p=()=>{r.success(l.formatMessage({id:"e4rdI6",defaultMessage:"Connector actions updated successfully."})),a()},e[7]=l,e[8]=a,e[9]=r,e[10]=p):p=e[10];let f;e[11]!==l||e[12]!==r?(f=()=>{r.danger(l.formatMessage({id:"WQJjjy",defaultMessage:"Failed to update connector actions. Please try again."}))},e[11]=l,e[12]=r,e[13]=f):f=e[13];let g;e[14]!==m||e[15]!==p||e[16]!==f?(g={mutationFn:m,onSuccess:p,onError:f},e[14]=m,e[15]=p,e[16]=f,e[17]=g):g=e[17];const{mutateAsync:h,isPending:y}=Ze(g);let x;e[18]!==y||e[19]!==a?(x=()=>{y||a()},e[18]=y,e[19]=a,e[20]=x):x=e[20];const b=x;let j;return e[21]!==o||e[22]!==y||e[23]!==b||e[24]!==h?(j=t.jsx(nl,{connector:o,onClose:b,onCancel:b,onConfirm:h,loading:y}),e[21]=o,e[22]=y,e[23]=b,e[24]=h,e[25]=j):j=e[25],j},yc=s=>{"use forget";const e=q.c(17),{action:n,onClose:o,onBack:a,showOverlayBackground:l,showBackButton:c}=s,i=l===void 0?!0:l,r=c===void 0?!1:c,d=pe();let u;e[0]!==n.name||e[1]!==d?(u=d.formatMessage(pt.actionPlaceholderTitle,{actionName:n.name}),e[0]=n.name,e[1]=d,e[2]=u):u=e[2];let m;e[3]!==n.name?(m=t.jsx("p",{className:"text-token-text-secondary text-sm leading-5 text-pretty",children:t.jsx(k,Ce(S({},pt.actionPlaceholderBody),{values:{actionName:n.name}}))}),e[3]=n.name,e[4]=m):m=e[4];let p;e[5]!==n?(p=t.jsx(ko,{action:n}),e[5]=n,e[6]=p):p=e[6];let f;e[7]!==m||e[8]!==p?(f=t.jsxs("div",{className:"space-y-4 p-4",children:[m,p]}),e[7]=m,e[8]=p,e[9]=f):f=e[9];let g;return e[10]!==a||e[11]!==o||e[12]!==r||e[13]!==i||e[14]!==u||e[15]!==f?(g=t.jsx(dt,{isOpen:!0,onClose:o,onBack:a,title:u,size:"xlarge",showCloseButton:!0,showBackButton:r,testId:"modal-connector-action-placeholder",hasSeparator:!0,className:"max-h-[600px]",showOverlayBackground:i,children:f}),e[10]=a,e[11]=o,e[12]=r,e[13]=i,e[14]=u,e[15]=f,e[16]=g):g=e[16],g},ol=s=>{"use forget";const e=q.c(55),{connector:n,onClose:o,onBack:a,showOverlayBackground:l,showBackButton:c}=s,i=l===void 0?!0:l,r=c===void 0?!1:c,d=pe(),{actions:u}=xs(n),[m,p]=L.useState(null);let f,g,h,y,x,b,j,C,w,v,M,_,N,A,D,T;if(e[0]!==u||e[1]!==n||e[2]!==d||e[3]!==a||e[4]!==o||e[5]!==m||e[6]!==r||e[7]!==i){w=Symbol.for("react.early_return_sentinel");e:{let O;e[24]!==n?(O=P=>n.connector_type==="SERVICE"?P.is_read_only:!0,e[24]=n,e[25]=O):O=e[25];const U=u.filter(O).toSorted(Nc);if(m){let P;e[26]!==o?(P=()=>{p(null),o()},e[26]=o,e[27]=P):P=e[27];let B;e[28]===Symbol.for("react.memo_cache_sentinel")?(B=()=>p(null),e[28]=B):B=e[28];let W;e[29]!==m||e[30]!==i||e[31]!==P?(W=t.jsx(yc,{action:m,onClose:P,onBack:B,showOverlayBackground:i,showBackButton:!0}),e[29]=m,e[30]=i,e[31]=P,e[32]=W):W=e[32],w=W;break e}f=dt,N=!0,A=o,D=a,e[33]!==d?(T=d.formatMessage(pt.actionDetailsTitle),e[33]=d,e[34]=T):T=e[34],g="xlarge",h=!0,y=r,x="modal-connector-action-details",b=!0,j="max-h-[600px]",C=i,v="space-y-6 p-2",e[35]!==n.developer_type?(M=n.developer_type==="UNTRUSTED"&&t.jsx("p",{className:"text-token-text-secondary text-sm leading-5",children:t.jsx(k,Ce(S({},pt.actionsDescription),{values:{link:Mc}}))}),e[35]=n.developer_type,e[36]=M):M=e[36],_=U.length===0?t.jsx("p",{className:"text-token-text-tertiary text-xs italic",children:t.jsx(k,S({},pt.noActionsLabel))}):t.jsx("div",{className:"space-y-6",children:U.map(P=>{const B=zs(P);return t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-start justify-between gap-3",children:[t.jsxs("div",{className:"space-y-0.5",children:[t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx("div",{className:ue(["font-mono text-sm font-medium",P.is_enabled===!1&&"text-token-text-secondary"]),children:P.name}),Us({badgeKeys:B,labels:Ws})]}),P.description&&t.jsx("div",{className:"text-token-text-tertiary line-clamp-3 text-xs leading-5",children:P.description})]}),t.jsx(re,{size:"small",color:"secondary",className:"flex-shrink-0",onClick:()=>p(P),children:t.jsx(k,S({},pt.openActionPlaceholder))})]}),t.jsx(ko,{action:P})]},P.name)})})}e[0]=u,e[1]=n,e[2]=d,e[3]=a,e[4]=o,e[5]=m,e[6]=r,e[7]=i,e[8]=f,e[9]=g,e[10]=h,e[11]=y,e[12]=x,e[13]=b,e[14]=j,e[15]=C,e[16]=w,e[17]=v,e[18]=M,e[19]=_,e[20]=N,e[21]=A,e[22]=D,e[23]=T}else f=e[8],g=e[9],h=e[10],y=e[11],x=e[12],b=e[13],j=e[14],C=e[15],w=e[16],v=e[17],M=e[18],_=e[19],N=e[20],A=e[21],D=e[22],T=e[23];if(w!==Symbol.for("react.early_return_sentinel"))return w;let R;e[37]!==v||e[38]!==M||e[39]!==_?(R=t.jsxs("div",{className:v,children:[M,_]}),e[37]=v,e[38]=M,e[39]=_,e[40]=R):R=e[40];let E;return e[41]!==f||e[42]!==g||e[43]!==h||e[44]!==y||e[45]!==x||e[46]!==b||e[47]!==j||e[48]!==C||e[49]!==R||e[50]!==N||e[51]!==A||e[52]!==D||e[53]!==T?(E=t.jsx(f,{isOpen:N,onClose:A,onBack:D,title:T,size:g,showCloseButton:h,showBackButton:y,testId:x,hasSeparator:b,className:j,showOverlayBackground:C,children:R}),e[41]=f,e[42]=g,e[43]=h,e[44]=y,e[45]=x,e[46]=b,e[47]=j,e[48]=C,e[49]=R,e[50]=N,e[51]=A,e[52]=D,e[53]=T,e[54]=E):E=e[54],E},pt=Ye({actionDetailsTitle:{id:"BCnPHp",defaultMessage:"Action details"},actionDetailsSerializationError:{id:"XmTk8D",defaultMessage:"Unable to display action details."},actionPlaceholderTitle:{id:"uqrRK7",defaultMessage:"{actionName} action page"},actionPlaceholderBody:{id:"pVEbXk",defaultMessage:"This is a placeholder view for the {actionName} action. Future updates will add configuration and documentation here."},openActionPlaceholder:{id:"GoXbzM",defaultMessage:"Open action page"},noDescription:{id:"6DgzBU",defaultMessage:"No description provided."},actionsDescription:{id:"cTL1rj",defaultMessage:"ChatGPT will freeze the actions list when you publish, but developers may change the implementation of actions on their servers at any time. You can choose to manually 'refresh' the actions list at any point to update it. <link>Learn more about action discovery.</link>"},noActionsLabel:{id:"E5A9pn",defaultMessage:"No actions are available for this connector."},actionsControlModalTitle:{id:"jQc1vQ",defaultMessage:"Which actions should be available?"},createConstraintsButton:{id:"GdXPUa",defaultMessage:"Create Constraints"},updateConstraintsButton:{id:"0TPcxb",defaultMessage:"Update Constraints"},noParametersDeclaredTooltip:{id:"2MRnfJ",defaultMessage:"No parameters declared for this action"},selectAllLabel:{id:"zpjt2u",defaultMessage:"Select All"},deselectAllLabel:{id:"dAy+yd",defaultMessage:"Deselect All"},refreshLabel:{id:"HwjwOZ",defaultMessage:"Refresh"},selectAllNewLabel:{id:"HYzlJ0",defaultMessage:"Select New"},refreshActionsError:{id:"ljENLa",defaultMessage:"Failed to refresh connector actions"}});function jc(s){s.stopPropagation(),s.preventDefault()}function Cc(s){return s.is_enabled}function vc(s){return s.name}function wc(s){const[,e]=s;return e===0}function kc(s){const[e]=s;return e}function _c(s){return t.jsx(_t,{href:"https://modelcontextprotocol.io/specification/2025-06-18/server/tools#listing-tools",openNewTab:!0,className:"inline",children:s},"custom-connector-banner-link")}function Nc(s,e){return Number(e.is_enabled)-Number(s.is_enabled)||s.name.localeCompare(e.name)}function Mc(s){return t.jsx(_t,{href:"https://modelcontextprotocol.io/specification/2025-06-18/server/tools#listing-tools",openNewTab:!0,className:"inline",children:s},"custom-connector-banner-link")}const Sc=/\[([^\]]+)\]\((https?:\/\/[^\s)]+)\)|(https?:\/\/[^\s)]+)/g;function al(s){const e=[];let n=0;return s.replace(Sc,(o,a,l,c,i)=>{i>n&&e.push(s.slice(n,i));const r=l!=null?l:c;if(r==null)return o;const d=a!=null?a:r;return e.push(t.jsx(_t,{href:r,openNewTab:!0,className:"underline",children:d},"connector-instructions-link-".concat(i))),n=i+o.length,o}),n<s.length&&e.push(s.slice(n)),e.length===0?s:e}const Ac=s=>{"use forget";const e=q.c(16),{isLoading:n,roles:o,onToggle:a,pendingIds:l,enabledIds:c}=s,i=pe(),[r,d]=L.useState("");let u;e[0]!==i||e[1]!==o?(u=o==null?void 0:o.map(x=>{var b,j,C,w;return Ce(S({},x),{displayText:x.role.predefined_role?i.formatMessage(Ys.rolesModalWorkspaceDefaultRole):x.role.name,searchText:x.role.predefined_role?[i.formatMessage(Ys.rolesModalWorkspaceDefaultRole).toLowerCase(),i.formatMessage(Ys.rolesModalWorkspaceDefaultRoleBadge).toLowerCase(),(j=(b=x.role.description)==null?void 0:b.toLowerCase())!=null?j:""].join(" "):[x.role.name.toLowerCase(),(w=(C=x.role.description)==null?void 0:C.toLowerCase())!=null?w:""].join(" ")})}),e[0]=i,e[1]=o,e[2]=u):u=e[2];const m=u;let p;e[3]!==m?(p=m==null?void 0:m.sort(Tc),e[3]=m,e[4]=p):p=e[4];const f=p;let g;if(e[5]!==r||e[6]!==f){e:{const x=f!=null?f:[],b=r.trim().toLowerCase();if(!b){g=x;break e}g=x.filter(j=>j.searchText.includes(b))}e[5]=r,e[6]=f,e[7]=g}else g=e[7];const h=g;let y;return e[8]!==c||e[9]!==h||e[10]!==i||e[11]!==n||e[12]!==a||e[13]!==l||e[14]!==r?(y=t.jsx("div",{className:"flex flex-col gap-4 overflow-y-auto p-4",children:n?t.jsx("div",{className:"flex justify-center py-8",children:t.jsx(Nt,{})}):t.jsxs("div",{children:[t.jsx("div",{className:"mb-2",children:t.jsx(on,{name:"search",value:r,onChange:x=>d(x.target.value),icon:fo,iconPosition:"left",className:"w-full rounded-lg",inputClassName:"bg-token-bg-primary!",placeholder:i.formatMessage({id:"hhmvjo",defaultMessage:"Search by name or keyword"}),ariaLabel:i.formatMessage({id:"RS8Uk8",defaultMessage:"Search roles"})})}),t.jsx("ul",{children:h.length===0?t.jsx("div",{className:"text-token-text-tertiary px-4 py-10 text-center text-sm",children:t.jsx(k,{id:"bO3hZ+",defaultMessage:"No matching roles."})}):h.map(x=>{const b=c==null?void 0:c.has(x.role.id),j=l==null?void 0:l.has(x.role.id);return t.jsxs("li",{className:"border-token-border-default flex items-center justify-between gap-3 border-t py-3 first:border-t-0",children:[t.jsxs("div",{className:"flex flex-col",children:[x.role.predefined_role?t.jsxs("div",{className:"truncate text-sm font-medium",children:[i.formatMessage(Ys.rolesModalWorkspaceDefaultRole),t.jsx("span",{className:"bg-token-bg-tertiary text-token-text-secondary mx-1.5 rounded-md px-1.5 py-0.5 text-xs",children:t.jsx(k,S({},Ys.rolesModalWorkspaceDefaultRoleBadge))})]}):t.jsx("div",{className:"truncate text-sm font-medium",children:x.role.name}),x.role.description&&t.jsx("div",{className:"text-token-text-tertiary mt-0.5 text-xs",children:x.role.description})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[j?t.jsx(Nt,{className:"h-4 w-4"}):null,t.jsx(Da,{checked:b,onCheckedChange:C=>a(x.role.id,C),disabled:j,"aria-label":i.formatMessage({id:"8ejEtk",defaultMessage:"Enable {name}"},{name:x.role.name})})]})]},x.role.id)})})]})}),e[8]=c,e[9]=h,e[10]=i,e[11]=n,e[12]=a,e[13]=l,e[14]=r,e[15]=y):y=e[15],y},_o=s=>{"use forget";var w;const e=q.c(20),{connector:n,onClose:o,showOverlayBackground:a,onToggle:l,pendingIds:c,enabledIds:i,isLoading:r,roles:d,useConfirmation:u,onConfirm:m,onCancel:p}=s,f=a===void 0?!0:a,g=u===void 0?!1:u,h=pe();let y;e[0]!==n.name||e[1]!==h?(y=h.formatMessage({id:"jH6gE6",defaultMessage:"Which roles can access {name}?"},{name:(w=n.name)!=null?w:"this connector"}),e[0]=n.name,e[1]=h,e[2]=y):y=e[2];const x=!g;let b;e[3]!==i||e[4]!==r||e[5]!==l||e[6]!==c||e[7]!==d?(b=t.jsx(Ac,{isLoading:r,roles:d,onToggle:l,pendingIds:c,enabledIds:i}),e[3]=i,e[4]=r,e[5]=l,e[6]=c,e[7]=d,e[8]=b):b=e[8];let j;e[9]!==p||e[10]!==m||e[11]!==g?(j=g&&t.jsxs("div",{className:"border-token-border-default flex justify-end gap-2 border-t p-4",children:[t.jsx(re,{color:"secondary",onClick:p,children:t.jsx(k,{id:"otQMlF",defaultMessage:"Cancel"})}),t.jsx(re,{onClick:m,children:t.jsx(k,{id:"b6Dv1o",defaultMessage:"Confirm"})})]}),e[9]=p,e[10]=m,e[11]=g,e[12]=j):j=e[12];let C;return e[13]!==o||e[14]!==f||e[15]!==y||e[16]!==x||e[17]!==b||e[18]!==j?(C=t.jsxs(dt,{testId:"modal-roles-access",title:y,isOpen:!0,onClose:o,showCloseButton:x,size:"xlarge",showOverlayBackground:f,isScrollable:!1,contentClassName:"flex max-h-[80vh] min-h-0 flex-col",noPadding:!0,hasSeparator:!0,children:[b,j]}),e[13]=o,e[14]=f,e[15]=y,e[16]=x,e[17]=b,e[18]=j,e[19]=C):C=e[19],C},In=s=>{"use forget";var w;const e=q.c(21),{workspaceId:n,connector:o,onClose:a,showOverlayBackground:l}=s,c=l===void 0?!0:l;let i;e[0]!==o.id||e[1]!==n?(i={workspaceId:n,connectorId:o.id},e[0]=o.id,e[1]=n,e[2]=i):i=e[2];const{data:r,isLoading:d,refetch:u}=Gs(i);let m;e[3]!==o.id||e[4]!==n?(m={workspaceId:n,connectorId:o.id},e[3]=o.id,e[4]=n,e[5]=m):m=e[5];const{updateConnectorRolePermission:p}=Ar(m),[f,g]=L.useState(Dc);let h;e[6]!==(r==null?void 0:r.roles_with_permissions)?(h=new Set((w=r==null?void 0:r.roles_with_permissions.filter(Rc).map(Ic))!=null?w:[]),e[6]=r==null?void 0:r.roles_with_permissions,e[7]=h):h=e[7];const y=h;let x;e[8]!==u||e[9]!==p?(x=(v,M)=>{g(_=>new Set(_).add(v)),p({roleId:v,permissions:M?[ln.UseConnector]:[]}).finally(async()=>{await u(),g(_=>{const N=new Set(_);return N.delete(v),N})})},e[8]=u,e[9]=p,e[10]=x):x=e[10];const b=x,j=r==null?void 0:r.roles_with_permissions;let C;return e[11]!==o||e[12]!==y||e[13]!==d||e[14]!==a||e[15]!==f||e[16]!==c||e[17]!==j||e[18]!==b||e[19]!==n?(C=t.jsx(_o,{workspaceId:n,connector:o,onClose:a,showOverlayBackground:c,onToggle:b,pendingIds:f,enabledIds:y,isLoading:d,roles:j}),e[11]=o,e[12]=y,e[13]=d,e[14]=a,e[15]=f,e[16]=c,e[17]=j,e[18]=b,e[19]=n,e[20]=C):C=e[20],C},Ys=Ye({rolesModalWorkspaceDefaultRole:{id:"uft0cC",defaultMessage:"Workspace"},rolesModalWorkspaceDefaultRoleBadge:{id:"VEokx9",defaultMessage:"Default"}});function Tc(s,e){return s.role.predefined_role?-1:e.role.predefined_role?1:s.displayText.localeCompare(e.displayText)}function Dc(){return new Set}function Rc(s){return s.connector_permissions.includes(ln.UseConnector)}function Ic(s){return s.role.id}const ll=L.createContext({openedItem:null,onOpenItemChange:()=>{}}),il=s=>{"use forget";const e=q.c(62),{title:n,id:o,checklistItems:a,children:l,checkedIds:c,onToggleCheckbox:i}=s,r=L.useContext(ll),d=r.openedItem===o,u=a.every((H,Y)=>c.has("".concat(o,"-").concat(Y))),m=u?to.safetyDrawerReviewedSubtitle:to.safetyDrawerNotReviewedSubtitle;let p;e[0]!==r||e[1]!==o||e[2]!==d?(p=()=>r.onOpenItemChange(d?null:o),e[0]=r,e[1]=o,e[2]=d,e[3]=p):p=e[3];const f=u?"border-token-border-secondary":"bg-token-bg-status-warning text-token-text-status-warning border-orange-50 dark:border-orange-800";let g;e[4]!==f?(g=ue("group -mb-[1px] w-full border-b p-2 text-start text-balance transition-colors focus:outline-none",f),e[4]=f,e[5]=g):g=e[5];const h=u?"group-hover:bg-token-bg-tertiary":"group-hover:border-orange-50 dark:group-hover:border-orange-800";let y;e[6]!==h?(y=ue("flex w-full items-center justify-between gap-3 rounded-xl p-2",h),e[6]=h,e[7]=y):y=e[7];let x;e[8]!==n?(x=t.jsx("p",{className:"text-sm font-medium",children:t.jsx(k,S({},n))}),e[8]=n,e[9]=x):x=e[9];const b=u?"text-token-text-secondary":"text-token-text-status-warning";let j;e[10]!==b?(j=ue("text-xs transition-colors",b),e[10]=b,e[11]=j):j=e[11];let C;e[12]!==m?(C=t.jsx(k,S({},m)),e[12]=m,e[13]=C):C=e[13];let w;e[14]!==j||e[15]!==C?(w=t.jsx("p",{className:j,children:C}),e[14]=j,e[15]=C,e[16]=w):w=e[16];let v;e[17]!==w||e[18]!==x?(v=t.jsxs("div",{className:"flex-1 space-y-0.5",children:[x,w]}),e[17]=w,e[18]=x,e[19]=v):v=e[19];const M=d&&"rotate-90",_=u?"text-token-text-secondary":"text-token-icon-status-warning";let N;e[20]!==M||e[21]!==_?(N=ue("h-5 w-5 flex-shrink-0 transition-all",M,_),e[20]=M,e[21]=_,e[22]=N):N=e[22];let A;e[23]!==N?(A=t.jsx(ro,{className:N}),e[23]=N,e[24]=A):A=e[24];let D;e[25]!==v||e[26]!==A||e[27]!==y?(D=t.jsxs("div",{className:y,children:[v,A]}),e[25]=v,e[26]=A,e[27]=y,e[28]=D):D=e[28];let T;e[29]!==p||e[30]!==D||e[31]!==g?(T=t.jsx("button",{type:"button",onClick:p,className:g,children:D}),e[29]=p,e[30]=D,e[31]=g,e[32]=T):T=e[32];const R=d&&"grid-rows-[1fr]";let E;e[33]!==R?(E=ue("grid grid-rows-[0fr] transition-all duration-200",R),e[33]=R,e[34]=E):E=e[34];const O=d?"":"invisible";let F;e[35]!==O?(F=ue("overflow-hidden transition-all duration-200",O),e[35]=O,e[36]=F):F=e[36];let U;e[37]!==l?(U=l?t.jsx("div",{className:"mb-4",children:l}):null,e[37]=l,e[38]=U):U=e[38];let P;if(e[39]!==c||e[40]!==a||e[41]!==o||e[42]!==i){let H;e[44]!==c||e[45]!==o||e[46]!==i?(H=(Y,Q)=>t.jsxs("label",{htmlFor:"".concat(o,"-").concat(Q),className:"flex cursor-pointer items-start gap-3 select-none",children:[t.jsx(ts,{id:"".concat(o,"-").concat(Q),checked:c.has("".concat(o,"-").concat(Q)),className:"my-0.5",onChange:oe=>i==null?void 0:i("".concat(o,"-").concat(Q),oe.target.checked)}),t.jsx("div",{className:"text-sm font-medium",children:t.jsx(k,S({},Y))})]},"".concat(o,"-").concat(Q)),e[44]=c,e[45]=o,e[46]=i,e[47]=H):H=e[47],P=a.map(H),e[39]=c,e[40]=a,e[41]=o,e[42]=i,e[43]=P}else P=e[43];let B;e[48]!==P?(B=t.jsx("div",{className:"space-y-3",children:P}),e[48]=P,e[49]=B):B=e[49];let W;e[50]!==U||e[51]!==B?(W=t.jsxs("div",{className:"mx-4 my-3",children:[U,B]}),e[50]=U,e[51]=B,e[52]=W):W=e[52];let V;e[53]!==F||e[54]!==W?(V=t.jsx("div",{className:F,children:W}),e[53]=F,e[54]=W,e[55]=V):V=e[55];let I;e[56]!==E||e[57]!==V?(I=t.jsx("div",{className:E,children:V}),e[56]=E,e[57]=V,e[58]=I):I=e[58];let J;return e[59]!==T||e[60]!==I?(J=t.jsxs("li",{className:"has-[button:focus-visible]:ring-token-border-selected relative overflow-hidden border-x border-t border-orange-50 first-of-type:rounded-t-2xl last-of-type:rounded-b-2xl last-of-type:border-b has-[button:focus-visible]:z-10 has-[button:focus-visible]:ring-2 dark:border-orange-800",children:[T,I]}),e[59]=T,e[60]=I,e[61]=J):J=e[61],J},rl=s=>{"use forget";const e=q.c(10),{details:n,actions:o}=s,a=Pe();if(!n&&!o)return null;let l;e[0]!==a?(l=sn(a,"2281575548").get("safety_url","https://platform.openai.com/docs/mcp#risks-and-safety"),e[0]=a,e[1]=l):l=e[1];const c=l;let i;e[2]!==n||e[3]!==c?(i=n?t.jsx("section",{children:t.jsx("p",{className:"text-token-text-secondary mt-1 text-sm text-pretty",children:t.jsx(k,Ce(S({},n),{values:{link:u=>t.jsx(_t,{href:c,openNewTab:!0,className:"inline",children:u},"custom-connector-banner-link")}}))})}):null,e[2]=n,e[3]=c,e[4]=i):i=e[4];let r;e[5]!==o?(r=o?t.jsxs("section",{children:[t.jsx("p",{className:"text-sm font-semibold",children:t.jsx(k,S({},to.safetyDrawerActionsTitle))}),t.jsx("div",{className:"text-token-text-secondary mt-1 space-y-1 text-sm text-pretty",children:o.map(Ec)})]}):null,e[5]=o,e[6]=r):r=e[6];let d;return e[7]!==i||e[8]!==r?(d=t.jsxs("div",{className:"space-y-4",children:[i,r]}),e[7]=i,e[8]=r,e[9]=d):d=e[9],d},cl=s=>{"use forget";const e=q.c(7),{children:n}=s,[o,a]=L.useState(null);let l;e[0]!==o?(l={openedItem:o,onOpenItemChange:a},e[0]=o,e[1]=l):l=e[1];let c;e[2]!==n?(c=t.jsx("ul",{children:n}),e[2]=n,e[3]=c):c=e[3];let i;return e[4]!==l||e[5]!==c?(i=t.jsx(ll.Provider,{value:l,children:c}),e[4]=l,e[5]=c,e[6]=i):i=e[6],i},to=Ye({safetyDrawerReviewedSubtitle:{id:"7SnbTn",defaultMessage:"Reviewed"},safetyDrawerNotReviewedSubtitle:{id:"L70LNQ",defaultMessage:"Not reviewed"},safetyDrawerActionsTitle:{id:"oxykCH",defaultMessage:"What you can do about it"},learnMore:{id:"mHJmgS",defaultMessage:"Learn more"}});function Ec(s,e){return t.jsx("p",{children:t.jsx(k,S({},s))},e)}const Pc=s=>{"use forget";const e=q.c(11),{title:n,connectorIcon:o,onClose:a}=s;let l;e[0]!==a?(l=t.jsx("div",{className:"flex justify-end",children:t.jsx(Dn,{onClick:a})}),e[0]=a,e[1]=l):l=e[1];let c;e[2]!==n?(c=t.jsx("div",{className:"mt-3 text-center text-xl font-semibold text-balance",children:n}),e[2]=n,e[3]=c):c=e[3];let i;e[4]===Symbol.for("react.memo_cache_sentinel")?(i=t.jsx("div",{className:"text-token-text-tertiary mt-3 text-center text-sm text-balance",children:t.jsx(k,S({},Oe.publishDescription))}),e[4]=i):i=e[4];let r;e[5]!==o||e[6]!==c?(r=t.jsxs("div",{className:"my-4 flex flex-col items-center",children:[o,c,i]}),e[5]=o,e[6]=c,e[7]=r):r=e[7];let d;return e[8]!==l||e[9]!==r?(d=t.jsxs(t.Fragment,{children:[l,r]}),e[8]=l,e[9]=r,e[10]=d):d=e[10],d},Vn=s=>{"use forget";var u;const e=q.c(15);let n,o,a,l;e[0]!==s?(u=s,{children:n,className:o,onClick:a}=u,l=Qs(u,["children","className","onClick"]),e[0]=s,e[1]=n,e[2]=o,e[3]=a,e[4]=l):(n=e[1],o=e[2],a=e[3],l=e[4]);let c;e[5]!==n||e[6]!==o?(c=t.jsx("div",{className:o,children:n}),e[5]=n,e[6]=o,e[7]=c):c=e[7];let i;e[8]===Symbol.for("react.memo_cache_sentinel")?(i=t.jsx(ro,{className:"text-token-text-secondary h-5 w-5 flex-shrink-0"}),e[8]=i):i=e[8];let r;e[9]!==c?(r=t.jsx("div",{className:"border-token-border-default mx-2 border-b py-2 group-last:border-0",children:t.jsxs("div",{className:"group-hover:bg-token-bg-tertiary flex items-center justify-between gap-2 rounded-lg p-2",children:[c,i]})}),e[9]=c,e[10]=r):r=e[10];let d;return e[11]!==a||e[12]!==l||e[13]!==r?(d=t.jsx("li",{className:"group",children:t.jsx("button",Ce(S({className:"focus-visible:ring-token-border-selected w-full text-start group-first-of-type:rounded-t-2xl group-last-of-type:rounded-b-2xl focus-visible:ring-2 focus-visible:outline-none",onClick:a},l),{children:r}))}),e[11]=a,e[12]=l,e[13]=r,e[14]=d):d=e[14],d},Lc=s=>{"use forget";const e=q.c(6),{className:n,children:o,showBackground:a}=s,c=(a===void 0?!0:a)&&"before:starting:backdrop-blur-0 before:absolute before:inset-0 before:bg-gray-200/50 before:backdrop-blur-[1px] before:transition before:duration-250 dark:before:bg-black/50 before:starting:opacity-0";let i;e[0]!==n||e[1]!==c?(i=ue("fixed inset-0 z-10",c,n),e[0]=n,e[1]=c,e[2]=i):i=e[2];let r;return e[3]!==o||e[4]!==i?(r=t.jsx("div",{className:i,children:o}),e[3]=o,e[4]=i,e[5]=r):r=e[5],r},ua=s=>{"use forget";const e=q.c(5),{title:n}=s;let o;e[0]!==n?(o=t.jsx("p",{className:"pb-0.5 text-sm font-medium",children:n}),e[0]=n,e[1]=o):o=e[1];let a;e[2]===Symbol.for("react.memo_cache_sentinel")?(a=t.jsx(Rs,{heightSize:"sm",lines:2}),e[2]=a):a=e[2];let l;return e[3]!==o?(l=t.jsxs("li",{className:"text-token-text-secondary m-4 space-y-1 text-sm select-none",children:[o,a]}),e[3]=o,e[4]=l):l=e[4],l};function fa(s){return e=>{s(n=>{const o=new Set(n);return o.has(e)?o.delete(e):o.add(e),o})}}const dl=s=>{"use forget";var Fe,ze,tt;const e=q.c(58),{workspaceId:n,workspaceName:o,connector:a,onPublish:l,onClose:c,onCancel:i,showOverlayBackground:r}=s,d=r===void 0?!0:r,u=Pe(),m=pe();let p;e[0]!==u?(p=rt(u),e[0]=u,e[1]=p):p=e[1];const f=p;let g;e[2]!==a.id||e[3]!==n?(g={workspaceId:n,connectorId:a.id},e[2]=a.id,e[3]=n,e[4]=g):g=e[4];const{data:h,isLoading:y}=Gs(g);let x;e[5]===Symbol.for("react.memo_cache_sentinel")?(x={forceEnable:!0},e[5]=x):x=e[5];const{actions:b,isLoading:j}=xs(a,bt.ADMIN_SETTING,x);let C;e[6]!==u?(C=zt(u),e[6]=u,e[7]=C):C=e[7];const w=C;let v;e[8]!==u?(v=An(u),e[8]=u,e[9]=v):v=e[9];const M=v;let _;e[10]!==u?(_=sn(u,"2281575548").get("docs_url","https://platform.openai.com/docs/mcp"),e[10]=u,e[11]=_):_=e[11];const N=_,A=sn(u,"4232437627"),D=a.id!=null?A.get(a.id,null):null,T=typeof D=="string"&&D.length>0?D:null;let R;e[12]===Symbol.for("react.memo_cache_sentinel")?(R=new Set,e[12]=R):R=e[12];const[E,O]=L.useState(R);let F;e[13]===Symbol.for("react.memo_cache_sentinel")?(F=new Set,e[13]=F):F=e[13];const[U,P]=L.useState(F),[B,W]=L.useState(void 0);let V,I;e[14]!==b||e[15]!==j||e[16]!==B?(V=()=>{if(!j&&B===void 0)W(new Set(b.map(Bc)));else if(!j){const Ue=new Set;b.forEach(et=>{B!=null&&B.has(et.name)&&Ue.add(et.name)}),Ue.size!==(B==null?void 0:B.size)&&W(Ue)}},I=[j,b,B],e[14]=b,e[15]=j,e[16]=B,e[17]=V,e[18]=I):(V=e[17],I=e[18]),L.useEffect(V,I);const J=((ze=(Fe=h==null?void 0:h.roles_with_permissions)==null?void 0:Fe.length)!=null?ze:0)>1;let H;e[19]!==M||e[20]!==B||e[21]!==E||e[22]!==J||e[23]!==w||e[24]!==l?(H=()=>l({actions:M?B:void 0,roles:w&&J?E:void 0}),e[19]=M,e[20]=B,e[21]=E,e[22]=J,e[23]=w,e[24]=l,e[25]=H):H=e[25];let Y;e[26]!==c?(Y=()=>{c()},e[26]=c,e[27]=Y):Y=e[27];let Q;e[28]!==m||e[29]!==f?(Q=Ue=>{f.danger(m.formatMessage(Oe.publishConnectorFailed,{errorMessage:Ue.message}),{id:"connector_publish_modal"})},e[28]=m,e[29]=f,e[30]=Q):Q=e[30];let oe;e[31]!==H||e[32]!==Y||e[33]!==Q?(oe={mutationFn:H,onSuccess:Y,onError:Q},e[31]=H,e[32]=Y,e[33]=Q,e[34]=oe):oe=e[34];const{mutate:$,isPending:G}=Ze(oe);let K;e[35]!==G||e[36]!==c?(K=()=>{G||c()},e[35]=G,e[36]=c,e[37]=K):K=e[37];const se=K;let Z;e[38]!==G||e[39]!==i||e[40]!==c?(Z=()=>{G||(i?i():c())},e[38]=G,e[39]=i,e[40]=c,e[41]=Z):Z=e[41];const ee=Z;let te;e[42]!==a.name||e[43]!==m||e[44]!==o?(te=m.formatMessage(Oe.publishConnectorTitle,{connector:a.name,workspace:o!=null?o:m.formatMessage(Oe.workspaceDefault)}),e[42]=a.name,e[43]=m,e[44]=o,e[45]=te):te=e[45];const xe=te,[ce,me]=L.useState(!1),[de,ye]=L.useState(!1),[ve,_e]=L.useState(!1);let Ne;e[46]!==U?(Ne=()=>{O(new Set(U)),_e(!1)},e[46]=U,e[47]=Ne):Ne=e[47];const He=Ne;let ae;e[48]!==E?(ae=()=>{P(new Set(E)),_e(!1)},e[48]=E,e[49]=ae):ae=e[49];const Ie=ae,Le=[{title:Oe.safetyDrawerRiskOneTitle,details:Oe.safetyDrawerRiskOneDetail,actions:[Oe.safetyDrawerRiskOneActionConfigureAccess],checklist:[Oe.safetyDrawerRiskOneAcknowledgeLabel]},{title:Oe.safetyDrawerRiskTwoTitle,details:Oe.safetyDrawerRiskTwoDetail,actions:[Oe.safetyDrawerRiskTwoActionTrustCompanies,Oe.safetyDrawerRiskTwoActionReviewParameters],checklist:[Oe.safetyDrawerRiskTwoTrustLabel,Oe.safetyDrawerRiskTwoReviewLabel]}];b.filter(Ue=>B==null?void 0:B.has(Ue.name)).some(Oc)&&Le.push({title:Oe.safetyDrawerRiskThreeTitle,details:Oe.safetyDrawerRiskThreeDetail,actions:[Oe.safetyDrawerRiskTwoActionTrustCompanies,Oe.safetyDrawerRiskThreeEducateUsers],checklist:[Oe.safetyDrawerRiskTwoTrustLabel]});let Ke;e[50]===Symbol.for("react.memo_cache_sentinel")?(Ke=new Set,e[50]=Ke):Ke=e[50];const[Ee,Te]=L.useState(Ke),xt=Le.reduce(Fc,0)===Ee.size,fe=Tn,ie=Lc,he=de?t.jsx(nl,{showOverlayBackground:!1,connector:a,onClose:()=>{ye(!1),se()},onCancel:()=>ye(!1),onConfirm:Ue=>{W(new Set(Ue)),ye(!1)},initialEnabledActions:B,loading:j}):ce?t.jsx(ol,{connector:a,onClose:()=>{me(!1),se()},onBack:()=>me(!1),showOverlayBackground:!1,showBackButton:!0}):ve?t.jsx(_o,{connector:a,workspaceId:n,onClose:()=>{_e(!1),se()},showOverlayBackground:!1,onToggle:fa(P),enabledIds:U,isLoading:y,roles:h==null?void 0:h.roles_with_permissions,useConfirmation:!0,onConfirm:He,onCancel:Ie}):t.jsxs(dt,{testId:"modal-publish-connector",isOpen:!0,onClose:se,size:"custom",className:"max-w-[448px]",contentClassName:"max-h-[90vh] flex flex-col",showOverlayBackground:!1,visuallyHiddenHeader:!0,title:xe,noPadding:!0,children:[t.jsxs("div",{className:"overflow-y-auto p-4",children:[t.jsx(Pc,{title:xe,connectorIcon:t.jsx(Fs,{connector:a,size:"large",className:"h-fit rounded-xl border-[0.5px] p-2 shadow-sm"}),onClose:c}),t.jsxs("div",{className:"mt-6 space-y-2",children:[T!=null&&t.jsxs("div",{className:"border-token-border-subtle bg-token-bg-elevated-secondary/60 rounded-2xl border px-3 py-2",children:[t.jsx("h5",{className:"text-token-text-secondary mb-1 text-xs font-semibold tracking-wide uppercase",children:t.jsx(k,S({},Oe.instructionsTitle))}),t.jsx("p",{className:"text-token-text-primary text-xs text-pretty",children:al(T)})]}),t.jsxs("ul",{className:"border-token-border-default rounded-2xl border",children:[j?t.jsx("div",{className:"border-token-border-default border-b",children:t.jsx(ua,{title:m.formatMessage(Oe.accessControlTitle)})}):M?t.jsxs(Vn,{className:"space-y-0.5",onClick:()=>ye(!0),children:[t.jsx("p",{className:"pb-0.5 text-sm font-medium",children:t.jsx(k,S({},Oe.configureActionsTitle))}),t.jsx("p",{className:"text-token-text-secondary text-xs text-pretty",children:m.formatMessage(Oe.configureActionsActionCountDescription,{actionCount:(tt=B==null?void 0:B.size)!=null?tt:0})})]}):t.jsxs(Vn,{className:"space-y-1",onClick:()=>me(!0),children:[t.jsx("p",{className:"text-sm font-medium",children:t.jsx(k,S({},Oe.reviewActionsTitle))}),t.jsx("p",{className:"text-token-text-secondary text-xs text-pretty",children:t.jsx(k,S({},Oe.reviewActionsDescription))})]}),y?t.jsx(ua,{title:m.formatMessage(Oe.accessControlTitle)}):J&&w?t.jsxs(Vn,{className:"space-y-1",onClick:()=>_e(!0),children:[t.jsx("p",{className:"text-sm font-medium",children:t.jsx(k,S({},Oe.accessControlTitle))}),t.jsxs("div",{className:"space-y-0.5",children:[t.jsx("p",{className:"text-token-text-secondary text-xs text-pretty",children:t.jsx(k,S({},Oe.accessControlDescription))}),t.jsx("p",{className:"text-token-text-secondary text-xs text-pretty",children:E.size===(h==null?void 0:h.roles_with_permissions.length)?t.jsx(k,S({},Oe.accessControlAllRolesDescription)):t.jsx(k,Ce(S({},Oe.accessControlRoleCountDescription),{values:{roleCount:E.size}}))})]})]}):t.jsxs("li",{className:"text-token-text-secondary m-4 space-y-0.5 text-sm select-none",children:[t.jsx("p",{className:"pb-0.5 text-sm font-medium",children:t.jsx(k,S({},Oe.accessControlTitle))}),t.jsx("p",{className:"text-xs text-pretty",children:t.jsx(k,S({},Oe.accessControlNoRolesDescription))})]})]}),t.jsx(cl,{children:Le.map((Ue,et)=>t.jsx(il,{id:"risk-".concat(et),title:Ue.title,checklistItems:Ue.checklist,checkedIds:Ee,onToggleCheckbox:fa(Te),children:t.jsx(rl,{details:Ue.details,actions:Ue.actions})},et))})]})]}),t.jsxs("div",{className:"border-t-token-border-default flex items-center justify-between border-t p-4",children:[t.jsx("div",{className:"text-md flex items-center gap-2",children:t.jsxs(_t,{href:N,openNewTab:!0,className:"text-token-text-tertiary hover:text-token-text-secondary flex items-center text-sm",children:[t.jsx(_a,{className:"me-1.5 inline h-4.5 w-4.5"}),t.jsx(k,S({},Oe.docLinkText))]})}),t.jsxs("div",{className:"flex justify-end gap-2",children:[t.jsx(re,{size:"medium",color:"secondary",onClick:ee,disabled:G,children:t.jsx(k,S({},Oe.cancel))}),t.jsx(re,{size:"medium",onClick:()=>$(),loading:G,disabled:y||!xt||M&&(B==null?void 0:B.size)===0||w&&J&&E.size===0,children:t.jsx(k,S({},Oe.publishConnector))})]})]})]});let Se;e[51]!==ie||e[52]!==d||e[53]!==he?(Se=t.jsx(ie,{showBackground:d,children:he}),e[51]=ie,e[52]=d,e[53]=he,e[54]=Se):Se=e[54];let Me;return e[55]!==fe||e[56]!==Se?(Me=t.jsx(fe,{children:Se}),e[55]=fe,e[56]=Se,e[57]=Me):Me=e[57],Me},Oe=Ye({publishConnectorTitle:{id:"dXRT25",defaultMessage:"Publish {connector} to {workspace}"},workspaceDefault:{id:"/UQR0X",defaultMessage:"your workspace"},publishConnector:{id:"CW1kwc",defaultMessage:"Publish"},publishedConnector:{id:"e4goKp",defaultMessage:"Connector published"},publishDescription:{id:"kS7TbY",defaultMessage:"Make this connector available for members of your workspace to use."},instructionsTitle:{id:"PX/omT",defaultMessage:"Instructions"},accessControlTitle:{id:"5DJM3G",defaultMessage:"Configure access"},accessControlDescription:{id:"3+YWco",defaultMessage:"Allow specific roles to use this connector"},toolCapabilitiesTitle:{id:"g55uS4",defaultMessage:"Connector actions"},toolCapabilitiesSubtitle:{id:"semSOO",defaultMessage:"Self-reported by the connector developer"},noDescription:{id:"w1pW20",defaultMessage:"No description provided"},cancel:{id:"DMSCQW",defaultMessage:"Cancel"},reviewActionsTitle:{id:"+iMOux",defaultMessage:"Review all actions"},reviewActionsDescription:{id:"Lz7MGj",defaultMessage:"Review each action carefully before publishing this connector. ChatGPT will freeze the actions list when you publish, but developers may change the implementation of actions on their servers at any time. You can choose to manually 'refresh' the actions list at any point to update it."},accessControlNoRolesDescription:{id:"bbyojw",defaultMessage:"This connector will be available to all members of your workspace."},accessControlRoleCountDescription:{id:"TFi58c",defaultMessage:"{roleCount, plural, one {# role is} other {# roles are}} currently selected"},accessControlAllRolesDescription:{id:"dWrZqH",defaultMessage:"All roles are currently selected"},publishConnectorFailed:{id:"PDwmNB",defaultMessage:"Failed to publish connector. {errorMessage}"},docLinkText:{id:"qREuwl",defaultMessage:"Read the docs"},configureActionsTitle:{id:"LkD7fK",defaultMessage:"Configure actions"},configureActionsActionCountDescription:{id:"tiTLHs",defaultMessage:"Select which actions should be available to users of this connector. {actionCount, plural, one {# action is} other {# actions are}} currently enabled."},safetyDrawerRiskOneTitle:{id:"m6QJI0",defaultMessage:"Review potential risk: Unauthorized data access"},safetyDrawerRiskOneDetail:{id:"nnVKiY",defaultMessage:"Attackers may use prompt injections to affect conversations your enterprise users have, to trick ChatGPT into fetching sensitive data from this connector and sending it to the attacker. <link>Learn more</link>"},safetyDrawerRiskOneActionConfigureAccess:{id:"jGF/Y3",defaultMessage:"Configure access to minimize how many people have access. If possible, audit usage of this connector for security issues."},safetyDrawerRiskOneAcknowledgeLabel:{id:"KwKSY3",defaultMessage:"I understand"},safetyDrawerRiskTwoTitle:{id:"jBcbJi",defaultMessage:"Review potential risk: Malicious connector"},safetyDrawerRiskTwoDetail:{id:"cju6Ji",defaultMessage:"OpenAI hasn't reviewed this connector. If it is malicious, it may attempt to use attacks like prompt injections to access and obtain sensitive data from your enterprise's users. <link>Learn more</link>"},safetyDrawerRiskTwoActionTrustCompanies:{id:"24Evy+",defaultMessage:"Only use connectors from companies that you trust."},safetyDrawerRiskTwoActionReviewParameters:{id:"iUc6bM",defaultMessage:"Review the parameters being sent as input to each action carefully, and ensure that they are not requesting sensitive data that they shouldn't."},safetyDrawerRiskTwoTrustLabel:{id:"mmFb8M",defaultMessage:"I trust this connector"},safetyDrawerRiskTwoReviewLabel:{id:"jHal9A",defaultMessage:"I have reviewed the parameters being sent to each action and they do not request sensitive data that they shouldn't."},safetyDrawerRiskThreeTitle:{id:"MQOb6W",defaultMessage:"Review potential risk: Phishing"},safetyDrawerRiskThreeDetail:{id:"TskvU3",defaultMessage:"A malicious app may attempt to present a widget resembling a login page to obtain user credentials"},safetyDrawerRiskThreeEducateUsers:{id:"oOMcCw",defaultMessage:"Educate users about the risks of phishing and how to avoid it."},safetyDrawerRiskThreeAcknowledgeLabel:{id:"XXQffO",defaultMessage:"I understand"},refreshActionsError:{id:"ljENLa",defaultMessage:"Failed to refresh connector actions"}});function Bc(s){return s.name}function Oc(s){var e;return(e=s.templates)==null?void 0:e.length}function Fc(s,e){return s+e.checklist.length}const $c=s=>{"use forget";var m,p,f,g,h,y,x;const e=q.c(15),{connector:n}=s,o=pe();let a;e[0]!==((m=n.branding)==null?void 0:m.developer)||e[1]!==((p=n.branding)==null?void 0:p.is_discoverable_app)||e[2]!==o?(a=(f=n.branding)!=null&&f.is_discoverable_app?null:(h=(g=n.branding)==null?void 0:g.developer)!=null?h:o.formatMessage(Dt.unknownDeveloperLabel),e[0]=(y=n.branding)==null?void 0:y.developer,e[1]=(x=n.branding)==null?void 0:x.is_discoverable_app,e[2]=o,e[3]=a):a=e[3];const l=a;let c;e[4]===Symbol.for("react.memo_cache_sentinel")?(c=t.jsx("h4",{className:"text-md font-regular",children:t.jsx(k,S({},Dt.connectorInformationTitle))}),e[4]=c):c=e[4];let i;e[5]!==n.created_at?(i=n.created_at&&t.jsxs("tr",{children:[t.jsx("td",{className:"text-token-text-secondary w-1/3",children:t.jsx(k,S({},Dt.createdAtLabel))}),t.jsx("td",{className:"align-top",children:new Date(n.created_at).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})})]}),e[5]=n.created_at,e[6]=i):i=e[6];let r;e[7]!==l?(r=l&&t.jsxs("tr",{children:[t.jsx("td",{className:"text-token-text-secondary w-1/3",children:t.jsx(k,S({},Dt.developerLabel))}),t.jsx("td",{className:"align-top",children:l})]}),e[7]=l,e[8]=r):r=e[8];let d;e[9]!==n.base_url?(d=n.base_url&&t.jsxs("tr",{children:[t.jsx("td",{className:"text-token-text-secondary w-1/3",children:t.jsx(k,S({},Dt.urlLabel))}),t.jsx("td",{className:"align-top",children:n.base_url})]}),e[9]=n.base_url,e[10]=d):d=e[10];let u;return e[11]!==i||e[12]!==r||e[13]!==d?(u=t.jsxs("div",{className:"space-y-1",children:[c,t.jsx("table",{className:"w-full table-auto border-separate border-spacing-y-2 text-xs",children:t.jsxs("tbody",{children:[i,r,d]})})]}),e[11]=i,e[12]=r,e[13]=d,e[14]=u):u=e[14],u},zc=s=>{"use forget";const e=q.c(22),{connector:n,onSeeDetails:o}=s,a=pe();let l;e[0]===Symbol.for("react.memo_cache_sentinel")?(l={forceEnable:!0},e[0]=l):l=e[0];const{actions:c,isLoading:i}=xs(n,bt.ADMIN_SETTING,l);let r;if(e[1]!==c||e[2]!==n.connector_type||e[3]!==n.developer_type||e[4]!==a||e[5]!==i||e[6]!==o){let d;e[8]!==n.connector_type?(d=x=>n.connector_type==="SERVICE"?x.is_read_only:!0,e[8]=n.connector_type,e[9]=d):d=e[9];const m=c.filter(d).toSorted(Wc);let p;e[10]===Symbol.for("react.memo_cache_sentinel")?(p=t.jsx("h4",{className:"text-md font-regular",children:t.jsx(k,S({},Dt.actionsTitle))}),e[10]=p):p=e[10];let f;e[11]!==n.developer_type?(f=n.developer_type==="UNTRUSTED"&&t.jsx("p",{className:"text-token-text-secondary text-sm leading-5 text-pretty",children:t.jsx(k,S({},Dt.actionsDescription))}),e[11]=n.developer_type,e[12]=f):f=e[12];let g;e[13]!==f?(g=t.jsxs("div",{className:"space-y-1",children:[p,f]}),e[13]=f,e[14]=g):g=e[14];let h;e[15]!==c.length||e[16]!==i||e[17]!==o?(h=c.length>0&&t.jsx(re,{size:"small",color:"secondary",onClick:o,disabled:i,children:t.jsx(k,S({},Dt.actionsSeeDetailsButton))}),e[15]=c.length,e[16]=i,e[17]=o,e[18]=h):h=e[18];let y;e[19]!==g||e[20]!==h?(y=t.jsxs("div",{className:"flex items-start justify-between gap-6",children:[g,h]}),e[19]=g,e[20]=h,e[21]=y):y=e[21],r=t.jsxs("div",{className:"space-y-5",children:[y,i?t.jsx("div",{className:"flex justify-center py-4",children:t.jsx(Nt,{})}):c.length===0?t.jsx("p",{className:"text-token-text-tertiary text-xs italic",children:t.jsx(k,S({},Dt.noActionsLabel))}):t.jsx("ul",{className:"flex flex-col gap-4",children:m.map(x=>{const b=zs(x);return t.jsxs("li",{className:"space-y-0.5",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("div",{className:ue(["font-mono text-sm font-medium",!x.is_enabled&&"text-token-text-tertiary"]),children:x.name}),!x.is_enabled&&t.jsx(cs,{label:a.formatMessage(Dt.disabledAction),children:t.jsx(Ja,{className:"icon text-token-text-tertiary h-4 w-4"})})]}),Us({badgeKeys:b,labels:Ws})]}),t.jsx("div",{className:"text-token-text-tertiary line-clamp-3 text-xs leading-5 text-pretty",children:x.description?x.description:t.jsx(k,S({},Dt.actionNoDescription))})]},x.name)})})]}),e[1]=c,e[2]=n.connector_type,e[3]=n.developer_type,e[4]=a,e[5]=i,e[6]=o,e[7]=r}else r=e[7];return r},Uc=s=>{"use forget";const e=q.c(5),{className:n,children:o}=s;let a;e[0]!==n?(a=ue("fixed inset-0 z-10","before:starting:backdrop-blur-0 before:absolute before:inset-0 before:bg-gray-200/50 before:backdrop-blur-[1px] before:transition before:duration-250 dark:before:bg-black/50 before:starting:opacity-0",n),e[0]=n,e[1]=a):a=e[1];let l;return e[2]!==o||e[3]!==a?(l=t.jsx("div",{className:a,children:o}),e[2]=o,e[3]=a,e[4]=l):l=e[4],l},ml=s=>{"use forget";const e=q.c(9),{connector:n,workspaceId:o,workspaceName:a,onClose:l,onPublish:c}=s,i=pe(),[r,d]=L.useState(!1),[u,m]=L.useState(!1);let p;return e[0]!==n||e[1]!==i||e[2]!==l||e[3]!==c||e[4]!==u||e[5]!==r||e[6]!==o||e[7]!==a?(p=t.jsx(Tn,{children:t.jsx(Uc,{children:r&&c?t.jsx(dl,{workspaceId:o,workspaceName:a,connector:n,onClose:()=>{d(!1),l()},onCancel:()=>d(!1),onPublish:c,showOverlayBackground:!1}):u?t.jsx(ol,{connector:n,onClose:()=>{m(!1),l()},onBack:()=>m(!1),showOverlayBackground:!1,showBackButton:!0}):t.jsx(dt,{isOpen:!0,onClose:()=>{l()},title:i.formatMessage(Dt.connectorDetailsTitle),size:"xlarge",showCloseButton:!0,testId:"modal-connector-details",hasSeparator:!0,className:"max-h-[600px]",showOverlayBackground:!1,children:t.jsxs("div",{className:"space-y-2 p-2",children:[t.jsxs("div",{className:"border-token-border flex items-center justify-between gap-4 border-b pt-2 pb-8",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(Fs,{connector:n,size:"large",className:"h-fit flex-shrink-0 rounded-xl border-[0.5px] p-2 shadow-sm"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-lg leading-none font-semibold",children:n.name}),n.description&&t.jsx("span",{className:"text-token-text-tertiary text-sm",children:n.description})]})]}),n.developer_type==="UNTRUSTED"&&(n.status==="ONLY_ME"?t.jsx("div",{className:"flex gap-2",children:t.jsx(re,{onClick:()=>c&&d(!0),size:"medium",children:t.jsx(k,S({},Dt.publishButton))})}):t.jsx(re,{size:"medium",disabled:!0,children:t.jsx(k,S({},Dt.publishedButton))}))]}),t.jsx("div",{className:"border-token-border border-b pt-2 pb-6",children:t.jsx($c,{connector:n})}),t.jsx("div",{className:"pt-2",children:t.jsx(zc,{connector:n,onSeeDetails:()=>m(!0)})})]})})})}),e[0]=n,e[1]=i,e[2]=l,e[3]=c,e[4]=u,e[5]=r,e[6]=o,e[7]=a,e[8]=p):p=e[8],p},Dt=Ye({createdAtLabel:{id:"qlGWaD",defaultMessage:"Created at"},developerLabel:{id:"MNjypF",defaultMessage:"Developer"},urlLabel:{id:"jBQsw4",defaultMessage:"URL"},connectorDetailsTitle:{id:"XBQy0M",defaultMessage:"Connector details"},publishButton:{id:"xzRCqJ",defaultMessage:"Publish"},publishedButton:{id:"VNKc/8",defaultMessage:"Published"},connectorInformationTitle:{id:"h+5R2G",defaultMessage:"Information"},actionsTitle:{id:"skQhS8",defaultMessage:"Actions"},actionsDescription:{id:"t2fgvB",defaultMessage:"ChatGPT will freeze the actions list when you publish, but developers may change the implementation of actions on their servers at any time. You can choose to manually 'refresh' the actions list at any point to update it."},actionsSeeDetailsButton:{id:"ff/ugf",defaultMessage:"See details"},noActionsLabel:{id:"E5A9pn",defaultMessage:"No actions are available for this connector."},actionNoDescription:{id:"PGMAgB",defaultMessage:"No description provided."},unknownDeveloperLabel:{id:"Fv04Rh",defaultMessage:"Unknown"},disabledAction:{id:"Bn5roC",defaultMessage:"This action is disabled"}});function Wc(s,e){return Number(e.is_enabled)-Number(s.is_enabled)||s.name.localeCompare(e.name)}const Gc="https://platform.openai.com/docs/mcp#risks-and-safety",ul=s=>{"use forget";const e=q.c(32),{onClose:n,onEnabled:o}=s,a=Pe(),l=pe();let c;e[0]!==a?(c=()=>ir(a),e[0]=a,e[1]=c):c=e[1];const i=rn(c),r=lr(!0);let d;e[2]!==n||e[3]!==r.isPending?(d=()=>{r.isPending||n()},e[2]=n,e[3]=r.isPending,e[4]=d):d=e[4];const u=d;let m;e[5]!==o||e[6]!==r?(m=async()=>{try{await r.mutateAsync({setting:rr.DeveloperMode,value:!0}),o()}catch(_){}},e[5]=o,e[6]=r,e[7]=m):m=e[7];const p=m;let f;e[8]!==l?(f=l.formatMessage(Xs.enableDeveloperModeTitle),e[8]=l,e[9]=f):f=e[9];let g;e[10]===Symbol.for("react.memo_cache_sentinel")?(g=t.jsx("p",{className:"text-token-text-secondary text-sm leading-5",children:t.jsx(k,Ce(S({},Xs.enableDeveloperModeDescription),{values:{link:Vc}}))}),e[10]=g):g=e[10];let h;e[11]!==i?(h=!i&&t.jsx("p",{className:"text-token-text-tertiary text-sm leading-5",children:t.jsx(k,S({},Xs.enableDeveloperModeAdminDisabled))}),e[11]=i,e[12]=h):h=e[12];let y;e[13]===Symbol.for("react.memo_cache_sentinel")?(y=t.jsx(k,S({},Xs.cancelButtonLabel)),e[13]=y):y=e[13];let x;e[14]!==u||e[15]!==r.isPending?(x=t.jsx(re,{color:"secondary",size:"small",onClick:u,disabled:r.isPending,children:y}),e[14]=u,e[15]=r.isPending,e[16]=x):x=e[16];const b=!i;let j;e[17]===Symbol.for("react.memo_cache_sentinel")?(j=t.jsx(k,S({},Xs.enableDeveloperModeCta)),e[17]=j):j=e[17];let C;e[18]!==p||e[19]!==b||e[20]!==r.isPending?(C=t.jsx(re,{color:"primary",size:"small",onClick:p,loading:r.isPending,disabled:b,children:j}),e[18]=p,e[19]=b,e[20]=r.isPending,e[21]=C):C=e[21];let w;e[22]!==C||e[23]!==x?(w=t.jsxs("div",{className:"flex justify-end gap-2",children:[x,C]}),e[22]=C,e[23]=x,e[24]=w):w=e[24];let v;e[25]!==w||e[26]!==h?(v=t.jsxs("div",{className:"space-y-4",children:[g,h,w]}),e[25]=w,e[26]=h,e[27]=v):v=e[27];let M;return e[28]!==u||e[29]!==v||e[30]!==f?(M=t.jsx(dt,{isOpen:!0,onClose:u,title:f,showCloseButton:!0,showOverlayBackground:!0,hasSeparator:!0,testId:"modal-enable-developer-mode",children:v}),e[28]=u,e[29]=v,e[30]=f,e[31]=M):M=e[31],M},Xs=Ye({enableDeveloperModeTitle:{id:"W6klyP",defaultMessage:"Enable developer mode"},enableDeveloperModeDescription:{id:"2DYneR",defaultMessage:"Developer mode lets you add unverified connectors that could modify or erase data permanently. Memory is disabled. Use at your own risk. <link>Learn more</link>"},enableDeveloperModeAdminDisabled:{id:"oALm1o",defaultMessage:"Your admin has not enabled developer mode. Contact your admin to continue."},enableDeveloperModeCta:{id:"yJaGEp",defaultMessage:"Enable developer mode"},cancelButtonLabel:{id:"38P8eP",defaultMessage:"Cancel"}});function Vc(s){return t.jsx(_t,{href:Gc,openNewTab:!0,children:s})}function qc(s){"use forget";var C,w,v;const e=q.c(28),{workspaceId:n,connector:o,roles:a,onDisable:l,onClose:c}=s,i=pe(),r=!!((C=a==null?void 0:a.data)!=null&&C.length)&&a.data.length>1;let d;e[0]!==o.id||e[1]!==r||e[2]!==n?(d={workspaceId:n,connectorId:o.id,enabled:r},e[0]=o.id,e[1]=r,e[2]=n,e[3]=d):d=e[3];const{data:u,isLoading:m}=Gs(d);let p,f,g,h,y,x;if(e[4]!==o||e[5]!==i||e[6]!==m||e[7]!==c||e[8]!==l||e[9]!==(u==null?void 0:u.roles_with_permissions)){const M=(v=(w=u==null?void 0:u.roles_with_permissions)==null?void 0:w.filter(Qc).length)!=null?v:0,_=M>1;f=Di,y=!0,e[16]!==c?(x=N=>{N||c()},e[16]=c,e[17]=x):x=e[17],p=Ri,e[18]===Symbol.for("react.memo_cache_sentinel")?(g=t.jsx(Ii,{className:"border-token-border-heavy radix-state-open:animate-show bg-token-bg-scrim fixed inset-0"}),e[18]=g):g=e[18],h=m?t.jsx(na,{className:"bg-token-bg-primary radix-state-open:animate-alertShow fixed start-1/2 top-1/2 flex max-h-[85vh] w-[90vw] max-w-lg -translate-x-1/2 -translate-y-1/2 flex-col gap-2 rounded-2xl shadow-2xl focus:outline-hidden",onEscapeKeyDown:Kc,children:t.jsx("div",{className:"flex justify-center py-8",children:t.jsx(Nt,{})})}):t.jsxs(na,{className:"bg-token-bg-primary radix-state-open:animate-alertShow fixed start-1/2 top-1/2 flex max-h-[85vh] w-[90vw] max-w-lg -translate-x-1/2 -translate-y-1/2 flex-col gap-2 rounded-2xl shadow-2xl focus:outline-hidden",onEscapeKeyDown:Hc,children:[t.jsx("div",{className:"flex justify-center pt-8",children:t.jsx(Fs,{connector:o,size:"large",className:"flex h-12 w-12 items-center justify-center rounded-xl border-[0.5px] shadow-sm"})}),t.jsx(Mi,{className:"p-6 pt-3 pb-2 text-center text-lg font-semibold md:p-6 md:pb-2",children:i.formatMessage(Js.disableConnectorTitle,{connectorName:is(o.name,i)})}),t.jsxs("div",{className:"flex flex-col gap-4 p-6 pt-0 md:p-6 md:pt-0",children:[t.jsx(Si,{className:"text-center text-base",children:_?i.formatMessage(Js.disableConnectorRbacDescription,{connectorName:is(o.name,i),count:M}):i.formatMessage(Js.disableConnectorDescription,{connectorName:is(o.name,i)})}),t.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[t.jsx(Ai,{asChild:!0,children:t.jsx(re,{color:"secondary",onClick:c,className:"w-full",children:t.jsx(k,S({},Js.cancel))})}),t.jsx(Ti,{asChild:!0,children:t.jsx(re,{color:"danger",onClick:l,className:"w-full",children:t.jsx(k,S({},Js.disable))})})]})]})]}),e[4]=o,e[5]=i,e[6]=m,e[7]=c,e[8]=l,e[9]=u==null?void 0:u.roles_with_permissions,e[10]=p,e[11]=f,e[12]=g,e[13]=h,e[14]=y,e[15]=x}else p=e[10],f=e[11],g=e[12],h=e[13],y=e[14],x=e[15];let b;e[19]!==p||e[20]!==g||e[21]!==h?(b=t.jsxs(p,{children:[g,h]}),e[19]=p,e[20]=g,e[21]=h,e[22]=b):b=e[22];let j;return e[23]!==f||e[24]!==y||e[25]!==x||e[26]!==b?(j=t.jsx(f,{open:y,onOpenChange:x,children:b}),e[23]=f,e[24]=y,e[25]=x,e[26]=b,e[27]=j):j=e[27],j}function Hc(s){return s.preventDefault()}function Kc(s){return s.preventDefault()}function Qc(s){return s.connector_permissions.includes(ln.UseConnector)}const Js=Ye({disableConnectorTitle:{id:"NVjYkV",defaultMessage:"Disable {connectorName}?"},disableConnectorDescription:{id:"5JmIk1",defaultMessage:"To use {connectorName} with ChatGPT, all workspace members will need to reconnect their accounts."},disableConnectorRbacDescription:{id:"8yzta8",defaultMessage:"{connectorName} is currently enabled for {count, plural, one {# role} other {# roles}}. If you disconnect it, these roles will lose access to this connector."},cancel:{id:"N+FA7P",defaultMessage:"Cancel"},disable:{id:"wMyWcp",defaultMessage:"Disable"}}),Yc=s=>{"use forget";const e=q.c(5),{worksWith:n}=s,o=pe();let a;e[0]!==o||e[1]!==n?(a=Sr(n,o),e[0]=o,e[1]=n,e[2]=a):a=e[2];let l;return e[3]!==a?(l=t.jsx("span",{className:"bg-token-bg-tertiary text-token-text-secondary mx-1.5 rounded-md px-1.5 py-0.5 text-xs",children:a}),e[3]=a,e[4]=l):l=e[4],l},Xc=()=>{"use forget";const s=q.c(1);let e;return s[0]===Symbol.for("react.memo_cache_sentinel")?(e=t.jsx("span",{className:"text-token-text-secondary mx-1.5 rounded-full border px-1.5 py-0.5 text-[9px] uppercase",children:t.jsx(k,S({},Ve.customConnectorBadge))}),s[0]=e):e=s[0],e},No=s=>{"use forget";const e=q.c(17),{icon:n,label:o,isCustom:a,worksWith:l,description:c,trailingContent:i}=s;let r;e[0]!==n?(r=t.jsx("div",{className:"flex-shrink-0",children:n}),e[0]=n,e[1]=r):r=e[1];let d;e[2]!==a||e[3]!==l?(d=a?t.jsx(Xc,{}):l==null?void 0:l.map(ld),e[2]=a,e[3]=l,e[4]=d):d=e[4];let u;e[5]!==o||e[6]!==d?(u=t.jsxs("div",{className:"text-token-text-primary text-md flex items-center font-medium",children:[o,d]}),e[5]=o,e[6]=d,e[7]=u):u=e[7];let m;e[8]!==c?(m=c&&t.jsx("p",{className:"text-token-text-secondary mt-0.5 min-w-0 flex-0 gap-1 truncate text-sm",children:c}),e[8]=c,e[9]=m):m=e[9];let p;e[10]!==u||e[11]!==m?(p=t.jsxs("div",{className:"flex-1 overflow-hidden",children:[u,m]}),e[10]=u,e[11]=m,e[12]=p):p=e[12];let f;return e[13]!==r||e[14]!==p||e[15]!==i?(f=t.jsxs(Ei,{className:"border-token-border-default items-center border-b text-start last:border-b-0",children:[r,p,i]}),e[13]=r,e[14]=p,e[15]=i,e[16]=f):f=e[16],f},En=s=>{"use forget";var O,F;const e=q.c(36),{icon:n,label:o,worksWith:a,description:l,enabled:c,onChange:i,isLoading:r,isCustom:d,onDelete:u,onManageRoles:m,onManageActions:p,onDetails:f}=s,[g,h]=L.useState(!1),y=!!((F=(O=u!=null?u:f)!=null?O:m)!=null?F:p);let x;e[0]!==u?(x={mutationFn:async()=>{u&&await u()}},e[0]=u,e[1]=x):x=e[1];const{mutateAsync:b,isPending:j}=Ze(x),C=g?"bg-token-interactive-bg-secondary-selected":"bg-transparent";let w;e[2]!==C?(w=ue("hover:token-interactive-bg-secondary-selected h-8 w-8",C),e[2]=C,e[3]=w):w=e[3];let v;e[4]===Symbol.for("react.memo_cache_sentinel")?(v=t.jsx(cn,{className:"icon"}),e[4]=v):v=e[4];let M;e[5]!==w?(M=t.jsx(be.Trigger,{className:w,children:v}),e[5]=w,e[6]=M):M=e[6];let _;e[7]!==f||e[8]!==p||e[9]!==m?(_=(f||m||p)&&t.jsxs(be.Group,{children:[f&&t.jsx(be.Item,{onClick:f,color:"default",children:t.jsx(k,S({},Ve.manageConnectorDetails))}),m&&t.jsx(be.Item,{onClick:m,color:"default",children:t.jsx(k,S({},Ve.manageConnectorRoles))}),p&&t.jsx(be.Item,{onClick:p,color:"default",children:t.jsx(k,S({},Ve.manageConnectorActions))})]}),e[7]=f,e[8]=p,e[9]=m,e[10]=_):_=e[10];let N;e[11]!==b||e[12]!==u?(N=u&&t.jsx(be.Group,{children:t.jsx(be.Item,{onClick:()=>b(),color:"danger",children:t.jsx(k,S({},Ve.deleteConnector))})}),e[11]=b,e[12]=u,e[13]=N):N=e[13];let A;e[14]!==_||e[15]!==N?(A=t.jsx(be.Portal,{children:t.jsxs(be.Content,{size:"small",align:"end",children:[_,N]})}),e[14]=_,e[15]=N,e[16]=A):A=e[16];let D;e[17]!==g||e[18]!==M||e[19]!==A?(D=t.jsxs(be.Root,{onOpenChange:h,open:g,children:[M,A]}),e[17]=g,e[18]=M,e[19]=A,e[20]=D):D=e[20];const T=D;let R;e[21]!==c||e[22]!==j||e[23]!==r||e[24]!==o||e[25]!==T||e[26]!==i||e[27]!==y?(R=r||j?t.jsx(Nt,{}):t.jsxs("div",{className:"flex items-center gap-5",children:[y&&T,t.jsx(Da,{checked:c,onCheckedChange:i,"aria-label":o,size:"normal"})]}),e[21]=c,e[22]=j,e[23]=r,e[24]=o,e[25]=T,e[26]=i,e[27]=y,e[28]=R):R=e[28];let E;return e[29]!==l||e[30]!==n||e[31]!==d||e[32]!==o||e[33]!==R||e[34]!==a?(E=t.jsx(No,{icon:n,label:o,worksWith:a,description:l,isCustom:d,trailingContent:R}),e[29]=l,e[30]=n,e[31]=d,e[32]=o,e[33]=R,e[34]=a,e[35]=E):E=e[35],E},fl=(s,e)=>s.description?s.description:s.owners.length>0?e.formatMessage(Ve.createdByDefault):null,Jc=s=>{"use forget";const e=q.c(69),{workspaceId:n,workspaceName:o,connector:a,onPublish:l,onDelete:c,links:i,showDetailsOnMount:r,showPublishOnMount:d,onMountHandled:u}=s,m=pe(),[p,f]=L.useState(!1),g=fr(),[h,y]=L.useState(!1),[x,b]=L.useState(!1);let j,C;e[0]!==u||e[1]!==r?(j=()=>{r&&(b(!0),u==null||u())},C=[u,r],e[0]=u,e[1]=r,e[2]=j,e[3]=C):(j=e[2],C=e[3]),L.useEffect(j,C);let w,v;e[4]!==u||e[5]!==d?(w=()=>{d&&(f(!0),u==null||u())},v=[u,d],e[4]=u,e[5]=d,e[6]=w,e[7]=v):(w=e[6],v=e[7]),L.useEffect(w,v);let M;e[8]!==a.id||e[9]!==i?(M=i.has(a.id),e[8]=a.id,e[9]=i,e[10]=M):M=e[10];const _=M;let N;e[11]!==a.id||e[12]!==g?(N=()=>{g({referrer:gr.AdminSettingsConnectors,showSettingsBehindConnectorLink:!1,connectorId:a.id,redirectAfter:"/admin/ca#drafts"})},e[11]=a.id,e[12]=g,e[13]=N):N=e[13];const A=N;let D;e[14]!==c?(D={mutationFn:c},e[14]=c,e[15]=D):D=e[15];const{mutateAsync:T,isPending:R}=Ze(D),E=h?"bg-token-interactive-bg-secondary-selected":"bg-transparent";let O;e[16]!==E?(O=ue("hover:token-interactive-bg-secondary-selected h-8 w-8",E),e[16]=E,e[17]=O):O=e[17];let F;e[18]===Symbol.for("react.memo_cache_sentinel")?(F=t.jsx(cn,{className:"icon"}),e[18]=F):F=e[18];let U;e[19]!==O?(U=t.jsx(be.Trigger,{className:O,children:F}),e[19]=O,e[20]=U):U=e[20];let P;e[21]!==_?(P=_&&t.jsx(be.Group,{children:t.jsx(be.Item,{onClick:()=>b(!0),color:"default",children:t.jsx(k,S({},Ve.manageConnectorDetails))})}),e[21]=_,e[22]=P):P=e[22];let B;e[23]!==T?(B=()=>T(),e[23]=T,e[24]=B):B=e[24];let W;e[25]===Symbol.for("react.memo_cache_sentinel")?(W=t.jsx(k,S({},Ve.deleteConnector)),e[25]=W):W=e[25];let V;e[26]!==B?(V=t.jsx(be.Group,{children:t.jsx(be.Item,{onClick:B,color:"danger",children:W})}),e[26]=B,e[27]=V):V=e[27];let I;e[28]!==P||e[29]!==V?(I=t.jsx(be.Portal,{children:t.jsxs(be.Content,{size:"small",align:"end",children:[P,V]})}),e[28]=P,e[29]=V,e[30]=I):I=e[30];let J;e[31]!==h||e[32]!==U||e[33]!==I?(J=t.jsxs(be.Root,{onOpenChange:y,open:h,children:[U,I]}),e[31]=h,e[32]=U,e[33]=I,e[34]=J):J=e[34];const H=J;let Y;e[35]!==a||e[36]!==l||e[37]!==x||e[38]!==n||e[39]!==o?(Y=x&&t.jsx(ml,{connector:a,workspaceId:n,workspaceName:o,onClose:()=>b(!1),onPublish:l}),e[35]=a,e[36]=l,e[37]=x,e[38]=n,e[39]=o,e[40]=Y):Y=e[40];let Q;e[41]!==a||e[42]!==l||e[43]!==p||e[44]!==n||e[45]!==o?(Q=p&&t.jsx(dl,{workspaceId:n,workspaceName:o,connector:a,onPublish:l,onClose:()=>f(!1)}),e[41]=a,e[42]=l,e[43]=p,e[44]=n,e[45]=o,e[46]=Q):Q=e[46];let oe;e[47]!==a?(oe=t.jsx(Fs,{connector:a,size:"small",className:"h-fit rounded-xl border-[0.5px] p-2 shadow-sm"}),e[47]=a,e[48]=oe):oe=e[48];let $;e[49]!==a.name||e[50]!==m?($=is(a.name,m),e[49]=a.name,e[50]=m,e[51]=$):$=e[51];let G;e[52]!==a||e[53]!==m?(G=fl(a,m),e[52]=a,e[53]=m,e[54]=G):G=e[54];let K;e[55]!==A||e[56]!==R||e[57]!==H||e[58]!==_?(K=R?t.jsx(Nt,{}):t.jsxs(t.Fragment,{children:[H,_?t.jsx(re,{color:"primary",size:"small",onClick:()=>f(!0),children:t.jsx(k,S({},Ve.publishConnector))}):t.jsx(re,{color:"secondary",size:"small",onClick:A,children:t.jsx(k,S({},Ve.finishSetup))})]}),e[55]=A,e[56]=R,e[57]=H,e[58]=_,e[59]=K):K=e[59];let se;e[60]!==oe||e[61]!==$||e[62]!==G||e[63]!==K?(se=t.jsx(No,{icon:oe,isCustom:!0,label:$,description:G,trailingContent:K}),e[60]=oe,e[61]=$,e[62]=G,e[63]=K,e[64]=se):se=e[64];let Z;return e[65]!==Y||e[66]!==Q||e[67]!==se?(Z=t.jsxs(t.Fragment,{children:[Y,Q,se]}),e[65]=Y,e[66]=Q,e[67]=se,e[68]=Z):Z=e[68],Z},Zc=s=>{"use forget";const e=q.c(11),{onCreate:n}=s,o=pe();let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=t.jsx("div",{className:"border-token-border-heavy h-fit rounded-xl border border-dashed p-2",children:t.jsx(Ma,{className:"icon-lg"})}),e[0]=a):a=e[0];let l;e[1]!==o?(l=o.formatMessage(Ve.createConnector),e[1]=o,e[2]=l):l=e[2];let c;e[3]!==o?(c=o.formatMessage(Ve.createConnectorDescription),e[3]=o,e[4]=c):c=e[4];let i;e[5]!==l||e[6]!==c?(i=t.jsx(No,{icon:a,label:l,description:c}),e[5]=l,e[6]=c,e[7]=i):i=e[7];let r;return e[8]!==n||e[9]!==i?(r=t.jsx("button",{onClick:n,className:"flex-1",children:i}),e[8]=n,e[9]=i,e[10]=r):r=e[10],r},ed=s=>{"use forget";var Rt,Wt,wt;const e=q.c(118),{connector:n,loggingParams:o,onDelete:a,workspaceId:l,roles:c,availableConnectorIds:i}=s,r=Pe(),d=pe();let u;e[0]!==r?(u=rt(r),e[0]=r,e[1]=u):u=e[1];const m=u,p=es();let f;e[2]!==n.id||e[3]!==r?(f=()=>hr(r,n.id,{productSku:bt.ADMIN_SETTING,purpose:"workspace_settings"}),e[2]=n.id,e[3]=r,e[4]=f):f=e[4];const g=rn(f),h=g===void 0,y=n.distribution_channel==="TENANT_CATALOG",[x,b]=L.useState(!1),[j,C]=L.useState(!1),[w,v]=L.useState(!1),[M,_]=L.useState(null),[N,A]=L.useState(!1);let D;e[5]!==r?(D=zt(r),e[5]=r,e[6]=D):D=e[6];const T=D,R=(Rt=c==null?void 0:c.data)==null?void 0:Rt.length,E=R===void 0?T:R>1,O=T&&E,F=id;let U;e[7]===Symbol.for("react.memo_cache_sentinel")?(U=new Set(Fr.map(Ae=>F(Ae.type))),e[7]=U):U=e[7];let P;e[8]!==n.distribution_channel||e[9]!==n.name||e[10]!==r?(P=An(r)&&n.distribution_channel==="TENANT_CATALOG"||!1,e[8]=n.distribution_channel,e[9]=n.name,e[10]=r,e[11]=P):P=e[11];const B=P;let W;e[12]===Symbol.for("react.memo_cache_sentinel")?(W=Object.values(Ra),e[12]=W):W=e[12];let V;e[13]!==n.id?(V=W.find(Ae=>{const{access:Re,sync:De}=Ae;return Re===n.id||De===n.id}),e[13]=n.id,e[14]=V):V=e[14];const I=V;let J;e:{if(!I){let Re;e[15]!==n.id?(Re=[n.id],e[15]=n.id,e[16]=Re):Re=e[16],J=Re;break e}let Ae;if(e[17]!==i||e[18]!==n.id||e[19]!==I){Ae=[];const{access:Re,sync:De}=I,We=i.has(Re),at=i.has(De);We?Ae.push(Re):at&&Ae.push(De),Ae.length||Ae.push(n.id),e[17]=i,e[18]=n.id,e[19]=I,e[20]=Ae}else Ae=e[20];J=Ae}const H=J;let Y;e:{if(!I){Y=n.id;break e}const{access:Ae,sync:Re}=I,De=i.has(Ae),We=i.has(Re);if(!De&&We){Y=Re;break e}Y=De?Ae:n.id}const Q=Y;let oe;e:{if(n.id===Q){oe=n;break e}let Ae;e[21]!==n||e[22]!==Q?(Ae=Ce(S({},n),{id:Q}),e[21]=n,e[22]=Q,e[23]=Ae):Ae=e[23],oe=Ae}const $=oe;let G;e[24]!==$.id||e[25]!==O||e[26]!==l?(G={workspaceId:l,connectorId:$.id,enabled:O},e[24]=$.id,e[25]=O,e[26]=l,e[27]=G):G=e[27];const{data:K,isLoading:se}=Gs(G);let Z;e[28]!==(K==null?void 0:K.roles_with_permissions)?(Z=(Wt=K==null?void 0:K.roles_with_permissions)!=null?Wt:[],e[28]=K==null?void 0:K.roles_with_permissions,e[29]=Z):Z=e[29];const ee=Z;let te;e[30]===Symbol.for("react.memo_cache_sentinel")?(te=(Ae,Re)=>{_(De=>{const We=new Set(De!=null?De:[]);return Re?We.add(Ae):We.delete(Ae),We})},e[30]=te):te=e[30];const xe=te;let ce;e[31]!==l||e[32]!==H?(ce=async Ae=>{const{enabled:Re,roles:De}=Ae,We=De?Array.from(De):void 0;return await Promise.all(H.map(at=>{const lt={enabled:Re};return We!==void 0&&(lt.enabled_roles=We),vt.safePost("/accounts/{account_id}/connectors/{connector_id}/workspace_permissions",{parameters:{path:{account_id:l,connector_id:at}},requestBody:lt})})),Re},e[31]=l,e[32]=H,e[33]=ce):ce=e[33];let me;e[34]!==o?(me=(Ae,Re)=>{var We;const De=(We=Re==null?void 0:Re.enabled)!=null?We:Ae;dn.logEventWithStatsig("Connectors Workspace Connector Permission Updated","chatgpt_connectors_workspace_connector_permission_updated",Ce(S({},o),{enabled:De?"enabled":"disabled"}))},e[34]=o,e[35]=me):me=e[35];let de;e[36]!==n.id||e[37]!==$.id||e[38]!==g||e[39]!==p||e[40]!==l?(de=(Ae,Re,De)=>{var lt;p.invalidateQueries({queryKey:br("workspace_settings"),refetchType:"all"}),p.invalidateQueries({queryKey:Ia(l),refetchType:"all"}),p.invalidateQueries({queryKey:go(l,$.id),refetchType:"all"});const We=yr[jr.GITHUB_CONNECTOR],at=(lt=De==null?void 0:De.enabled)!=null?lt:!!g;n.id===We&&!at&&p.invalidateQueries({queryKey:["workspace-settings",l]})},e[36]=n.id,e[37]=$.id,e[38]=g,e[39]=p,e[40]=l,e[41]=de):de=e[41];let ye;e[42]!==m?(ye=()=>{m.danger(Ve.featureSettingsUpdateFailed,{toastId:"allowed_connectors_section"})},e[42]=m,e[43]=ye):ye=e[43];let ve;e[44]!==ce||e[45]!==me||e[46]!==de||e[47]!==ye?(ve={mutationFn:ce,onSuccess:me,onSettled:de,onError:ye},e[44]=ce,e[45]=me,e[46]=de,e[47]=ye,e[48]=ve):ve=e[48];const{variables:_e,mutate:Ne,mutateAsync:He,isPending:ae}=Ze(ve);let Ie;e[49]!==Ne||e[50]!==O?(Ie=()=>{if(O){_(null),v(!0);return}else Ne({enabled:!0})},e[49]=Ne,e[50]=O,e[51]=Ie):Ie=e[51];const Le=Ie;let we;e[52]===Symbol.for("react.memo_cache_sentinel")?(we=()=>{v(!1),_(null)},e[52]=we):we=e[52];const Ke=we;let Ee;e[53]!==He||e[54]!==ae||e[55]!==M?(Ee={mutationFn:async()=>{M&&!ae&&(await He({enabled:!0,roles:M}),v(!1),_(null))}},e[53]=He,e[54]=ae,e[55]=M,e[56]=Ee):Ee=e[56];const{mutateAsync:Te}=Ze(Ee),[xt,fe]=L.useState(!1),ie=(wt=_e==null?void 0:_e.enabled)!=null?wt:!!g;let he;e[57]!==n||e[58]!==N||e[59]!==l?(he=N&&t.jsx(bc,{workspaceId:l,connector:n,onClose:()=>A(!1)}),e[57]=n,e[58]=N,e[59]=l,e[60]=he):he=e[60];let Se;e[61]!==n||e[62]!==xt||e[63]!==l?(Se=xt&&t.jsx(ml,{connector:n,workspaceId:l,workspaceName:void 0,onClose:()=>fe(!1)}),e[61]=n,e[62]=xt,e[63]=l,e[64]=Se):Se=e[64];let Me;e[65]!==n?(Me=t.jsx(Fs,{connector:n,size:"small",className:"h-fit rounded-xl border-[0.5px] p-2 shadow-sm"}),e[65]=n,e[66]=Me):Me=e[66];let Fe;e[67]!==n.name||e[68]!==d?(Fe=is(n.name,d),e[67]=n.name,e[68]=d,e[69]=Fe):Fe=e[69];let ze;e[70]!==n||e[71]!==d?(ze=fl(n,d),e[70]=n,e[71]=d,e[72]=ze):ze=e[72];let tt;e[73]!==Le?(tt=Ae=>{Ae?Le():b(!0)},e[73]=Le,e[74]=tt):tt=e[74];const Ue=h||ae,et=y?a:void 0;let ut;e[75]===Symbol.for("react.memo_cache_sentinel")?(ut=()=>fe(!0),e[75]=ut):ut=e[75];let je;e[76]!==T||e[77]!==ie?(je=ie&&T?()=>C(!0):void 0,e[76]=T,e[77]=ie,e[78]=je):je=e[78];let ot;e[79]!==B?(ot=B?()=>A(!0):void 0,e[79]=B,e[80]=ot):ot=e[80];let yt;e[81]!==y||e[82]!==ie||e[83]!==Me||e[84]!==Fe||e[85]!==ze||e[86]!==tt||e[87]!==Ue||e[88]!==et||e[89]!==je||e[90]!==ot?(yt=t.jsx(En,{icon:Me,label:Fe,description:ze,enabled:ie,onChange:tt,isLoading:Ue,isCustom:y,onDelete:et,onDetails:ut,onManageRoles:je,onManageActions:ot}),e[81]=y,e[82]=ie,e[83]=Me,e[84]=Fe,e[85]=ze,e[86]=tt,e[87]=Ue,e[88]=et,e[89]=je,e[90]=ot,e[91]=yt):yt=e[91];let jt;e[92]!==$||e[93]!==Te||e[94]!==se||e[95]!==ae||e[96]!==M||e[97]!==ee||e[98]!==w||e[99]!==l?(jt=w&&t.jsx(_o,{workspaceId:l,connector:$,onClose:Ke,onToggle:xe,enabledIds:M!=null?M:new Set,isLoading:se||ae,roles:ee,useConfirmation:!0,onConfirm:Te,onCancel:Ke}),e[92]=$,e[93]=Te,e[94]=se,e[95]=ae,e[96]=M,e[97]=ee,e[98]=w,e[99]=l,e[100]=jt):jt=e[100];let ct;e[101]!==$||e[102]!==j||e[103]!==l?(ct=j&&t.jsx(In,{workspaceId:l,connector:$,onClose:()=>C(!1)}),e[101]=$,e[102]=j,e[103]=l,e[104]=ct):ct=e[104];let Je;e[105]!==$||e[106]!==Ne||e[107]!==c||e[108]!==x||e[109]!==l?(Je=x&&t.jsx(qc,{workspaceId:l,connector:$,roles:c,onClose:()=>b(!1),onDisable:()=>{Ne({enabled:!1}),b(!1)}}),e[105]=$,e[106]=Ne,e[107]=c,e[108]=x,e[109]=l,e[110]=Je):Je=e[110];let gt;return e[111]!==he||e[112]!==Se||e[113]!==yt||e[114]!==jt||e[115]!==ct||e[116]!==Je?(gt=t.jsxs(t.Fragment,{children:[he,Se,yt,jt,ct,Je]}),e[111]=he,e[112]=Se,e[113]=yt,e[114]=jt,e[115]=ct,e[116]=Je,e[117]=gt):gt=e[117],gt},td=s=>{"use forget";var P,B;const e=q.c(41),{loggingParams:n,workspaceId:o,roles:a}=s,l=Pe(),c=pe();let i;e[0]!==l?(i=rt(l),e[0]=l,e[1]=i):i=e[1];const r=i,d=es(),{data:u,isLoading:m}=po(o),p=!!(u!=null&&u.beta_settings[fs.CONTEXT_CONNECTOR_GDRIVE]),[f,g]=L.useState(!1),h=((B=(P=a==null?void 0:a.data)==null?void 0:P.length)!=null?B:0)>1;let y;e[2]!==l?(y=zt(l),e[2]=l,e[3]=y):y=e[3];const x=y;let b;e[4]!==o?(b=W=>vt.safePost("/accounts/{account_id}/beta_features",{parameters:{path:{account_id:o}},requestBody:{feature:fs.CONTEXT_CONNECTOR_GDRIVE,value:W}}),e[4]=o,e[5]=b):b=e[5];let j;e[6]!==h||e[7]!==x||e[8]!==n?(j=(W,V)=>{dn.logEventWithStatsig("Connectors Workspace Connector Permission Updated","chatgpt_connectors_workspace_connector_permission_updated",Ce(S({},n),{enabled:V?"enabled":"disabled"})),V&&h&&x&&g(!0)},e[6]=h,e[7]=x,e[8]=n,e[9]=j):j=e[9];let C;e[10]!==d?(C=()=>{d.invalidateQueries({queryKey:["workspace-settings"]})},e[10]=d,e[11]=C):C=e[11];let w;e[12]!==r?(w=()=>{r.danger(Ve.featureSettingsUpdateFailed,{toastId:"allowed_connectors_section"})},e[12]=r,e[13]=w):w=e[13];let v;e[14]!==b||e[15]!==j||e[16]!==C||e[17]!==w?(v={mutationFn:b,onSuccess:j,onSettled:C,onError:w},e[14]=b,e[15]=j,e[16]=C,e[17]=w,e[18]=v):v=e[18];const{variables:M,mutate:_}=Ze(v);let N;e[19]===Symbol.for("react.memo_cache_sentinel")?(N=t.jsx("div",{className:"h-fit rounded-xl border-[0.5px] p-2 shadow-sm",children:t.jsx(Pa,{className:"h-6 w-6"})}),e[19]=N):N=e[19];let A;e[20]!==c?(A=c.formatMessage(Ve.gdriveFileUploadLabel),e[20]=c,e[21]=A):A=e[21];let D;e[22]===Symbol.for("react.memo_cache_sentinel")?(D=["fileUploads"],e[22]=D):D=e[22];let T;e[23]!==c?(T=c.formatMessage(Ve.gdriveFileUploadDescription),e[23]=c,e[24]=T):T=e[24];const R=M!=null?M:!!p;let E;e[25]!==p||e[26]!==x?(E=p&&x?()=>g(!0):void 0,e[25]=p,e[26]=x,e[27]=E):E=e[27];let O;e[28]!==m||e[29]!==_||e[30]!==T||e[31]!==R||e[32]!==E||e[33]!==A?(O=t.jsx(En,{icon:N,label:A,worksWith:D,description:T,enabled:R,onChange:_,isLoading:m,onManageRoles:E}),e[28]=m,e[29]=_,e[30]=T,e[31]=R,e[32]=E,e[33]=A,e[34]=O):O=e[34];let F;e[35]!==f||e[36]!==o?(F=f&&t.jsx(In,{workspaceId:o,connector:{id:fs.CONTEXT_CONNECTOR_GDRIVE,name:"Google Drive"},onClose:()=>g(!1)}),e[35]=f,e[36]=o,e[37]=F):F=e[37];let U;return e[38]!==O||e[39]!==F?(U=t.jsxs(t.Fragment,{children:[O,F]}),e[38]=O,e[39]=F,e[40]=U):U=e[40],U},sd=s=>{"use forget";var P,B;const e=q.c(41),{loggingParams:n,workspaceId:o,roles:a}=s,l=Pe(),c=pe();let i;e[0]!==l?(i=rt(l),e[0]=l,e[1]=i):i=e[1];const r=i,d=es(),{data:u,isLoading:m}=po(o),p=!!(u!=null&&u.beta_settings[fs.CONTEXT_CONNECTOR_O365_BUSINESS]),[f,g]=L.useState(!1),h=((B=(P=a==null?void 0:a.data)==null?void 0:P.length)!=null?B:0)>1;let y;e[2]!==l?(y=zt(l),e[2]=l,e[3]=y):y=e[3];const x=y;let b;e[4]!==o?(b=W=>vt.safePost("/accounts/{account_id}/beta_features",{parameters:{path:{account_id:o}},requestBody:{feature:fs.CONTEXT_CONNECTOR_O365_BUSINESS,value:W}}),e[4]=o,e[5]=b):b=e[5];let j;e[6]!==h||e[7]!==x||e[8]!==n?(j=(W,V)=>{dn.logEventWithStatsig("Connectors Workspace Connector Permission Updated","chatgpt_connectors_workspace_connector_permission_updated",Ce(S({},n),{enabled:V?"enabled":"disabled"})),V&&h&&x&&g(!0)},e[6]=h,e[7]=x,e[8]=n,e[9]=j):j=e[9];let C;e[10]!==d?(C=()=>{d.invalidateQueries({queryKey:["workspace-settings"]})},e[10]=d,e[11]=C):C=e[11];let w;e[12]!==r?(w=()=>{r.danger(Ve.featureSettingsUpdateFailed,{toastId:"allowed_connectors_section"})},e[12]=r,e[13]=w):w=e[13];let v;e[14]!==b||e[15]!==j||e[16]!==C||e[17]!==w?(v={mutationFn:b,onSuccess:j,onSettled:C,onError:w},e[14]=b,e[15]=j,e[16]=C,e[17]=w,e[18]=v):v=e[18];const{variables:M,mutate:_}=Ze(v);let N;e[19]===Symbol.for("react.memo_cache_sentinel")?(N=t.jsx("div",{className:"h-fit rounded-xl border-[0.5px] p-2 shadow-sm",children:t.jsx(_n,{className:"h-6 w-6"})}),e[19]=N):N=e[19];let A;e[20]!==c?(A=c.formatMessage(Ve.sharepointFileUploadLabel),e[20]=c,e[21]=A):A=e[21];let D;e[22]===Symbol.for("react.memo_cache_sentinel")?(D=["fileUploads"],e[22]=D):D=e[22];let T;e[23]!==c?(T=c.formatMessage(Ve.sharepointFileUploadDescription),e[23]=c,e[24]=T):T=e[24];const R=M!=null?M:!!p;let E;e[25]!==p||e[26]!==x?(E=p&&x?()=>g(!0):void 0,e[25]=p,e[26]=x,e[27]=E):E=e[27];let O;e[28]!==m||e[29]!==_||e[30]!==T||e[31]!==R||e[32]!==E||e[33]!==A?(O=t.jsx(En,{icon:N,label:A,worksWith:D,description:T,enabled:R,onChange:_,isLoading:m,onManageRoles:E}),e[28]=m,e[29]=_,e[30]=T,e[31]=R,e[32]=E,e[33]=A,e[34]=O):O=e[34];let F;e[35]!==f||e[36]!==o?(F=f&&t.jsx(In,{workspaceId:o,connector:{id:fs.CONTEXT_CONNECTOR_O365_BUSINESS,name:"Sharepoint"},onClose:()=>g(!1)}),e[35]=f,e[36]=o,e[37]=F):F=e[37];let U;return e[38]!==O||e[39]!==F?(U=t.jsxs(t.Fragment,{children:[O,F]}),e[38]=O,e[39]=F,e[40]=U):U=e[40],U},nd=s=>{"use forget";var U,P;const e=q.c(40),{loggingParams:n,workspaceId:o,roles:a}=s,l=Pe(),c=pe();let i;e[0]!==l?(i=rt(l),e[0]=l,e[1]=i):i=e[1];const r=i,d=es(),{data:u}=po(o),m=!!(u!=null&&u.beta_settings[fs.CONTEXT_CONNECTOR_O365_PERSONAL]),[p,f]=L.useState(!1),g=((P=(U=a==null?void 0:a.data)==null?void 0:U.length)!=null?P:0)>1;let h;e[2]!==l?(h=zt(l),e[2]=l,e[3]=h):h=e[3];const y=h;let x;e[4]!==o?(x=B=>vt.safePost("/accounts/{account_id}/beta_features",{parameters:{path:{account_id:o}},requestBody:{feature:fs.CONTEXT_CONNECTOR_O365_PERSONAL,value:B}}),e[4]=o,e[5]=x):x=e[5];let b;e[6]!==g||e[7]!==y||e[8]!==n?(b=(B,W)=>{dn.logEventWithStatsig("Connectors Workspace Connector Permission Updated","chatgpt_connectors_workspace_connector_permission_updated",Ce(S({},n),{enabled:W?"enabled":"disabled"})),W&&g&&y&&f(!0)},e[6]=g,e[7]=y,e[8]=n,e[9]=b):b=e[9];let j;e[10]!==d?(j=()=>{d.invalidateQueries({queryKey:["workspace-settings"]})},e[10]=d,e[11]=j):j=e[11];let C;e[12]!==r?(C=()=>{r.danger(Ve.featureSettingsUpdateFailed,{toastId:"allowed_connectors_section"})},e[12]=r,e[13]=C):C=e[13];let w;e[14]!==x||e[15]!==b||e[16]!==j||e[17]!==C?(w={mutationFn:x,onSuccess:b,onSettled:j,onError:C},e[14]=x,e[15]=b,e[16]=j,e[17]=C,e[18]=w):w=e[18];const{variables:v,mutate:M}=Ze(w);let _;e[19]===Symbol.for("react.memo_cache_sentinel")?(_=t.jsx("div",{className:"h-fit rounded-xl border-[0.5px] p-2 shadow-sm",children:t.jsx(_n,{className:"h-6 w-6"})}),e[19]=_):_=e[19];let N;e[20]!==c?(N=c.formatMessage(Ve.onedrivePersonalFileUploadLabel),e[20]=c,e[21]=N):N=e[21];let A;e[22]===Symbol.for("react.memo_cache_sentinel")?(A=["fileUploads"],e[22]=A):A=e[22];let D;e[23]!==c?(D=c.formatMessage(Ve.onedrivePersonalFileUploadDescription),e[23]=c,e[24]=D):D=e[24];const T=v!=null?v:!!m;let R;e[25]!==m||e[26]!==y?(R=m&&y?()=>f(!0):void 0,e[25]=m,e[26]=y,e[27]=R):R=e[27];let E;e[28]!==M||e[29]!==D||e[30]!==T||e[31]!==R||e[32]!==N?(E=t.jsx(En,{icon:_,label:N,worksWith:A,description:D,enabled:T,onChange:M,onManageRoles:R}),e[28]=M,e[29]=D,e[30]=T,e[31]=R,e[32]=N,e[33]=E):E=e[33];let O;e[34]!==p||e[35]!==o?(O=p&&t.jsx(In,{workspaceId:o,connector:{id:fs.CONTEXT_CONNECTOR_O365_PERSONAL,name:"OneDrive"},onClose:()=>f(!1)}),e[34]=p,e[35]=o,e[36]=O):O=e[36];let F;return e[37]!==E||e[38]!==O?(F=t.jsxs(t.Fragment,{children:[E,O]}),e[37]=E,e[38]=O,e[39]=F):F=e[39],F},pl=()=>{"use forget";const s=q.c(1);let e;return s[0]===Symbol.for("react.memo_cache_sentinel")?(e=t.jsx(k,Ce(S({},Ve.connectorsSubtitle),{values:{link:rd}})),s[0]=e):e=s[0],e},od=s=>{"use forget";const e=q.c(6),{onCreate:n,canCreateEhrConnector:o,onCreateEhr:a}=s,c=(o===void 0?!1:o)&&!!a,i=cd;let r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r=t.jsx(Na,{children:t.jsx(k,S({},Ve.connectorsTitle))}),e[0]=r):r=e[0];let d;e[1]===Symbol.for("react.memo_cache_sentinel")?(d=t.jsxs("div",{children:[r,t.jsx(Sa,{className:"text-token-text-secondary",children:t.jsx(pl,{})})]}),e[1]=d):d=e[1];let u;return e[2]!==n||e[3]!==a||e[4]!==c?(u=t.jsxs("div",{id:xr,className:"mb-4 flex items-center justify-between gap-2",children:[d,t.jsx(re,{className:"mt-4",size:"small",color:"secondary",onClick:n,children:i(!1)})]}),e[2]=n,e[3]=a,e[4]=c,e[5]=u):u=e[5],u};function ad({workspaceId:s,workspaceName:e,isQuorumBetaUser:n=!1}){"use no forget";const o=Pe(),a=pe(),l=L.useRef(null),c=L.useRef(!1),[i,r]=L.useState("workspace"),[d,u]=L.useState(null),[m,p]=L.useState(null),{enabled:f,availableConnectors:g}=cr({purpose:"workspace_settings"}),h=zt(o),{data:y}=Ga({workspaceId:s,enabled:h}),{data:x,isLoading:b}=rn(()=>ra(o,{productSku:bt.ADMIN_SETTING,purpose:"workspace_settings"})),j=()=>ra.refetch(o,{productSku:bt.ADMIN_SETTING,purpose:"workspace_settings"}),{showWorkspaceSettings:C}=dr(o),w=L.useMemo(()=>x?x.connectors.filter(G=>{var K;return((K=G.labels)==null?void 0:K.admin_only_connector)!=="true"}).filter(G=>!mr.has(G.id)&&(G.connector_type==="MCP"||G.connector_type==="FIRST_PARTY_ECOSYSTEM"||!1||g.some(K=>K.id===G.id))):[],[x,g]),v=L.useMemo(()=>new Set(g.map($=>$.id)),[g]),M=L.useMemo(()=>{const $=w.filter(Z=>Z.connector_type!=="MCP"||Z.status!=="ONLY_ME").map(Z=>({type:"platform",ownerCount:Z.owners.length,name:Z.name,connector:Z})),G={type:"gdrive_file_upload",ownerCount:0,name:a.formatMessage(Ve.gdriveFileUploadLabel)},K={type:"sharepoint_file_upload",ownerCount:0,name:a.formatMessage(Ve.sharepointFileUploadLabel)},se={type:"onedrive_personal_file_upload",ownerCount:0,name:a.formatMessage(Ve.onedrivePersonalFileUploadLabel)};return[...$,...C?[G,K,se]:[]].sort((Z,ee)=>ee.ownerCount-Z.ownerCount||Z.name.localeCompare(ee.name))},[w,a,C]),_=L.useMemo(()=>w.filter($=>$.status==="ONLY_ME"),[w]),N=L.useMemo(()=>{const $=new Set(g.map(G=>G.id));return Object.values(Ra).filter(({access:G,sync:K})=>$.has(G)&&$.has(K)).map(({sync:G})=>G)},[g]),A=es(),D=an(),T=async($,G)=>{await pr($,s,G!=null&&G.actions?Array.from(G.actions):null,G!=null&&G.roles?Array.from(G.roles):null),A.invalidateQueries({refetchType:"all",queryKey:Ia(s,$)}),D(),A.invalidateQueries({queryKey:["connector-actions",$]}),await j(),F.success(a.formatMessage(Ve.publishedConnector),{id:"connector_publish_modal"}),r("workspace")},R=Ta({fetchValidLinksOnly:!0,productSku:bt.CONNECTOR_SETTING}),E=f&&!!M.length;L.useEffect(()=>{!E&&i==="workspace"&&!b&&!R.isLoading&&r("my")},[i,E,r,b,R.isLoading]);const O=E?i:"my",F=rt(o);L.useEffect(()=>{var te;if(c.current||b||R.isLoading||!f||typeof window>"u")return;const $=window.location.hash;if(!$)return;const[G,K]=$.split("?"),se=G.toLowerCase();if(se!=="#drafts"&&se!=="#draft")return;if(c.current=!0,r("my"),(te=l.current)==null||te.scrollIntoView({behavior:"smooth",block:"start"}),K){const xe=new URLSearchParams(K),ce=xe.get("connector"),me=xe.get("publish");ce?u(ce):me&&p(me)}const{pathname:Z,search:ee}=window.location;window.history.replaceState(null,document.title,"".concat(Z).concat(ee!=null?ee:""))},[f,c,b,R.isLoading,r]);const U=L.useCallback(()=>{u(null),p(null)},[]);L.useEffect(()=>{if(!d||b||R.isLoading)return;_.some(G=>G.id===d)||u(null)},[d,b,R.isLoading,_]),L.useEffect(()=>{if(!m||b||R.isLoading)return;_.some(G=>G.id===m)||p(null)},[m,b,R.isLoading,_]);const P=async $=>{await xo($.id),await j(),F.success(a.formatMessage(Ve.deleteConnectorSuccess,{name:$.name}))},[B,W]=L.useState(!1),[V,I]=L.useState(!1),J=!1,H=L.useCallback(()=>{window.location.hash="".concat(ur,"?create-ehr-connector=true")},[]),Y=()=>{Ea(o)?W(!0):I(!0)},Q=()=>{I(!1),W(!0)};if(b||R.isLoading)return t.jsx(Nt,{});if(!f)return null;const oe=[...E?[{key:"workspace",label:a.formatMessage(Ve.workspaceTabLabel),children:t.jsx(t.Fragment,{children:M.map($=>$.type==="gdrive_file_upload"?t.jsx(td,{loggingParams:{name:$.name,type:$.type},workspaceId:s,roles:y},$.type):$.type==="sharepoint_file_upload"?t.jsx(sd,{loggingParams:{name:$.name,type:$.type},workspaceId:s,roles:y},$.type):$.type==="onedrive_personal_file_upload"?t.jsx(nd,{loggingParams:{name:$.name,type:$.type},workspaceId:s,roles:y},$.type):!N.some(G=>G===$.connector.id)&&t.jsx(ed,{connector:$.connector,loggingParams:{name:$.connector.name,type:$.connector.connector_type},workspaceId:s,onDelete:()=>P($.connector),roles:y,availableConnectorIds:v},$.connector.id))})}]:[],{key:"my",label:a.formatMessage(Ve.myTabLabel),children:t.jsxs(t.Fragment,{children:[_.map($=>t.jsx(Jc,{workspaceId:s,workspaceName:e,connector:$,links:R.connectorLinks,showDetailsOnMount:d===$.id,showPublishOnMount:m===$.id,onMountHandled:U,onPublish:G=>T($.id,G),onDelete:()=>P($)},$.id)),t.jsxs("div",{className:"flex w-full gap-4",children:[t.jsx(Zc,{onCreate:Y}),J]})]})}];return t.jsxs(t.Fragment,{children:[B&&t.jsx(Co,{onClose:$=>{$&&r("my"),W(!1)},redirectAfter:"/admin/ca#drafts"}),V&&t.jsx(ul,{onClose:()=>I(!1),onEnabled:Q}),t.jsx(od,{onCreate:Y,canCreateEhrConnector:J,onCreateEhr:H}),t.jsx(Lr,{items:oe,activeTab:O,onTabChange:$=>r($),containerRef:l})]})}const Ve=Ye({connectorsTitle:{id:"xsR2r6",defaultMessage:"Apps & Connectors"},connectorsSubtitle:{id:"8WR/V3",defaultMessage:"Manage which apps users in this workspace can connect to. <link>Learn more</link>"},featureSettingsUpdateFailed:{id:"allowedConnectorsSection.adminPermissionsUpdateFailed",defaultMessage:"Failed to update permissions for connector"},gdriveFileUploadLabel:{id:"allowedConnectorsSection.gdriveFileUploadLabel",defaultMessage:"Google Drive"},gdriveFileUploadDescription:{id:"allowedConnectorsSection.gdriveFileUploadDescription",defaultMessage:"Upload Google Drive files in messages sent to ChatGPT."},sharepointFileUploadLabel:{id:"allowedConnectorsSection.sharepointFileUploadLabel",defaultMessage:"Microsoft OneDrive (work/school)"},sharepointFileUploadDescription:{id:"allowedConnectorsSection.sharepointFileUploadDescription",defaultMessage:"Upload SharePoint and OneDrive for Business files in messages sent to ChatGPT."},onedrivePersonalFileUploadLabel:{id:"allowedConnectorsSection.onedrivePersonalFileUploadLabel",defaultMessage:"Microsoft OneDrive (personal)"},onedrivePersonalFileUploadDescription:{id:"allowedConnectorsSection.onedrivePersonalFileUploadDescription",defaultMessage:"Upload personal OneDrive files in messages sent to ChatGPT."},workspaceTabLabel:{id:"PXlJ9v",defaultMessage:"Available"},myTabLabel:{id:"OrvJJB",defaultMessage:"Drafts"},createdByDefault:{id:"c1BULn",defaultMessage:"Created by your workspace's admin"},customConnectorBadge:{id:"q4oGB6",defaultMessage:"Custom"},publishedConnector:{id:"5gTvjk",defaultMessage:"Published"},publishConnector:{id:"xya7RI",defaultMessage:"Publish"},publishConnectorFailed:{id:"iTXiK2",defaultMessage:"Failed to publish connector"},deleteConnector:{id:"DJDhnI",defaultMessage:"Delete"},createdAt:{id:"vQx/QC",defaultMessage:"Created {createdAt}"},manageConnector:{id:"ejE2jG",defaultMessage:"Manage"},manageConnectorRoles:{id:"6WmlSM",defaultMessage:"Configure access"},manageConnectorActions:{id:"WXBpMF",defaultMessage:"Manage actions"},createConnector:{id:"nrxInz",defaultMessage:"Create a connector"},createConnectorDescription:{id:"+sWVSA",defaultMessage:"Connect ChatGPT to your favorite tools"},manageConnectorDetails:{id:"7rp17q",defaultMessage:"Details"},addConnectorButton:{id:"McuKi3",defaultMessage:"Create"},finishSetup:{id:"70aWWv",defaultMessage:"Finish setup"},deleteConnectorSuccess:{id:"smmhaQ",defaultMessage:"{name} deleted"}});function ld(s){return t.jsx(Yc,{worksWith:s},s)}function id(s){return s.toLowerCase().replace(/[^a-z0-9]/g,"")}function rd(s){return t.jsx(_t,{href:"https://help.openai.com/en/collections/12923329-connected-apps",openNewTab:!0,children:s},"allowed-connectors-subtitle-link")}function cd(s){return t.jsxs("span",{className:"flex items-center gap-1.5",children:[t.jsx(k,S({},Ve.addConnectorButton)),s&&t.jsx(Dr,{className:"icon-xs text-token-text-tertiary"})]})}function dd({feedbackMetadata:s,currentWorkspaceId:e,onClose:n,onFeedbackActionTaken:o}){const a=pe(),{data:l,refetch:c,isLoading:i}=io({queryKey:["adminGetCaMessageFeedback",e,s.feedback_id],queryFn:()=>vt.safeGet("/ca/admin/feedback/{feedback_id}",{parameters:{path:{feedback_id:s.feedback_id},query:{account_id:e}}})}),r=La(),d=Ze({mutationFn:m=>m.operation==="delete"?vt.safeDelete("/ca/admin/feedback/{feedback_id}",{parameters:{path:{feedback_id:m.feedbackId},query:{account_id:m.workspaceId}}}):vt.safePost("/ca/admin/feedback/{feedback_id}/approve",{parameters:{path:{feedback_id:m.feedbackId},query:{account_id:m.workspaceId,with_sources:m.withSources}}}),onSuccess:(m,p)=>{o(),n(),r.success(p.operation==="approve"?a.formatMessage(At.feedbackApproved):a.formatMessage(At.feedbackDeleted))},onError:(m,p)=>{c(),r.warning(p.operation==="approve"?a.formatMessage(At.errorApprovingFeedback):a.formatMessage(At.errorDeletingFeedback))}}),u=L.useMemo(()=>{const m=s.review_status==="unreviewed",p=s.review_status==="unreviewed";let f;switch(s.review_status){case"approved_with_sources":case"approved_without_sources_data_expired":{f=a.formatMessage(At.actionMessageNoActionsAvailable);break}case"approved_without_sources_data_available":{f=a.formatMessage(At.actionMessageApprovedWithoutSources);break}case"deleted":{f=a.formatMessage(At.actionMessageFeedbackDeleted);break}}const g={workspaceId:e,feedbackId:s.feedback_id,withSources:!0};return t.jsxs("div",{className:"bg-token-main-surface-secondary sticky bottom-0 flex w-full flex-col gap-2 rounded-lg p-4",children:[!!f&&t.jsx("div",{children:t.jsx("p",{children:f})}),t.jsxs("div",{className:"flex flex-row gap-2",children:[m&&t.jsx(re,{color:"primary",icon:Pi,onClick:()=>d.mutate(Ce(S({},g),{operation:"approve"})),loading:d.isPending,children:t.jsx(k,{id:"Zq8YOH",defaultMessage:"Approve Feedback"})}),p&&t.jsx(re,{color:"danger-outline",icon:Li,onClick:()=>d.mutate(Ce(S({},g),{operation:"delete"})),loading:d.isPending,children:t.jsx(k,{id:"qeIjD9",defaultMessage:"Delete Feedback"})})]})]})},[s.review_status,s.feedback_id,d,e,a]);return t.jsx(md,{actionBar:u,onClose:n,isLoading:i,feedbackData:l,feedbackMetadata:s})}function md({actionBar:s=null,onClose:e=()=>{},isLoading:n=!1,isDebugView:o=!1,feedbackData:a,feedbackMetadata:l}){var i;const c=pe();return t.jsx(dt,{testId:"modal-admin-feedback",size:"custom",className:"max-w-lg overflow-y-auto text-base",isOpen:!0,icon:Bi,onClose:e,showCloseButton:!0,type:"success",title:c.formatMessage(At.modalTitle),children:t.jsx("div",{className:"flex flex-col",children:a&&!n?t.jsxs(t.Fragment,{children:[t.jsx(ud,{feedbackData:a,feedbackMetadata:l,isDebugView:o}),t.jsx(oa,{className:"my-4"}),t.jsx(pd,{fileRefs:a.file_references}),t.jsx(oa,{className:"my-4"}),t.jsx(xd,{retrievalMessages:a.retrieval_messages,userDisplayName:(i=l.submitter_display_name)!=null?i:l.submitter_email,isDebugView:o}),s]}):t.jsx(Rs,{lines:8})})})}function ud({feedbackMetadata:s,feedbackData:e,isDebugView:n=!1}){var c;const o=pe(),a=s.submitter_display_name&&s.submitter_email?o.formatMessage(At.userDisplayName,{displayName:s.submitter_display_name,email:s.submitter_email}):s.submitter_id,l=L.useMemo(()=>e.sources_feedback?Object.entries(e.sources_feedback).map(([i,r])=>{var m,p,f,g;if(!r.rating&&!(r.tags&&r.tags.length>0))return null;const d=(m=e.file_references.find(h=>h.document_id===i))==null?void 0:m.title,u=r.tags&&r.tags.length===1&&r.tags[0]===Xr;return t.jsxs("li",{className:"flex flex-col p-1 text-sm break-words",children:[t.jsxs("div",{className:"mb-1 flex flex-row items-center gap-2",children:[r.rating==="thumbsUp"?t.jsx(Oi,{className:"icon-sm"}):r.rating==="thumbsDown"?t.jsx(aa,{className:"icon-sm"}):null,t.jsx("a",{href:(p=r.url)!=null?p:void 0,className:"text-sm font-semibold",children:(f=d!=null?d:r.url)!=null?f:i})]}),t.jsx("div",{className:"flex flex-row flex-wrap gap-1",children:u?t.jsx("span",{className:"italic",children:t.jsx(k,{id:"yNGc6H",defaultMessage:"This source should have been used."})}):(g=r.tags)==null?void 0:g.map(h=>t.jsx("div",{className:"border-token-border-default text-token-text-secondary rounded-lg border px-3 py-1 text-xs",children:ca(h,o)},h))})]},i)}).filter(i=>!!i):[],[e.file_references,e.sources_feedback,o]);return t.jsxs("div",{children:[!n&&t.jsx("div",{className:"mb-2",children:t.jsx(xl,{reviewStatus:s.review_status})}),t.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[e.rating==="thumbsUp"?t.jsx(Fi,{className:"icon-xl m-2"}):t.jsx(aa,{className:"icon-xl m-2"}),t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsx("p",{children:a}),s.submitted_at&&t.jsx("p",{className:"text-token-text-secondary text-xs",children:new Date(s.submitted_at).toLocaleString()})]})]}),e.tags&&e.tags.length>0&&t.jsx("div",{className:"mb-2 flex flex-wrap gap-1",children:(c=e.tags)==null?void 0:c.map(i=>t.jsx("div",{className:"border-token-border-default text-token-text-secondary rounded-lg border px-3 py-1 text-sm",children:ca(i,o)},i))}),t.jsxs("div",{className:"mb-2",children:[t.jsx(Bs,{className:"mb-1",children:t.jsx(k,{id:"VrPx6x",defaultMessage:"Feedback"})}),t.jsx("p",{className:"rounded-sm border p-2 text-sm break-words",children:e.text?e.text:t.jsx("span",{className:"italic",children:t.jsx(k,{id:"pEEJ/8",defaultMessage:"No written feedback was provided."})})})]}),t.jsxs("div",{className:"mb-2",children:[t.jsx(Bs,{className:"mb-1",children:t.jsx(k,{id:"LUg6Vl",defaultMessage:"Additional Sources"})}),t.jsx("p",{className:"rounded-sm border p-2 text-sm break-words",children:e.additional_sources?e.additional_sources:t.jsx("span",{className:"italic",children:t.jsx(k,{id:"u24Zo5",defaultMessage:"No additional sources were provided."})})})]}),l.length>0&&t.jsxs("div",{className:"mb-2",children:[t.jsx(Bs,{className:"mb-1",children:t.jsx(k,{id:"lNSdNZ",defaultMessage:"Sources Feedback"})}),t.jsx("ul",{className:"flex flex-col gap-1",children:l})]})]})}const fd=["citation","context_stuff","search_result"];function pa(s){return Array.from(s.map(e=>{var n,o,a;return $i({id:e.document_id,cloud_doc_url:(n=e.external_url)!=null?n:void 0,name:(o=e.title)!=null?o:"",extra:{cloud_doc_url:(a=e.external_url)!=null?a:void 0}})}).filter(e=>!!e))}function pd({fileRefs:s}){const[e,n]=L.useMemo(()=>{const o=new Map,a=new Map;return s.forEach(l=>{fd.includes(l.reference_source)&&l.external_url&&!o.has(l.document_id)?o.set(l.document_id,l):l.reference_source==="user_feedback"&&l.external_url&&!a.has(l.document_id)&&a.set(l.document_id,l)}),[pa(Array.from(o.values())),pa(Array.from(a.values()))]},[s]);return t.jsxs("div",{children:[t.jsxs("div",{children:[t.jsx(Bs,{className:"mb-2",children:t.jsx(k,{id:"FB4YIA",defaultMessage:"Sources In Conversation"})}),e.length>0?t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"text-token-text-secondary mb-2 text-xs",children:t.jsx(k,{id:"iTNNoN",defaultMessage:"These sources were considered or cited in the conversation. Snapshots of these sources will be included with the feedback if you choose to approve the feedback."})}),t.jsx("div",{className:"flex flex-col gap-1",children:e.map(o=>t.jsx(la,{compact:!0,citationMetadata:o},o.url))})]}):t.jsx("p",{className:"text-token-text-secondary text-xs",children:t.jsx(k,{id:"Q+DKpB",defaultMessage:"No synced sources were considered or cited in the conversation, however there may be other sources present such as user uploaded files. If you choose to approve this feedback, only the snippets of those files that ChatGPT looked at will be shared with this feedback."})})]}),n.length>0&&t.jsxs("div",{className:"mt-8",children:[t.jsx(Bs,{className:"mb-2",children:t.jsx(k,{id:"SCwQnr",defaultMessage:"Sources From Feedback"})}),t.jsx("p",{className:"text-token-text-secondary mb-2 text-xs",children:t.jsx(k,{id:"Rr+4KZ",defaultMessage:"The feedback submitter mentioned these documents in their feedback. Snapshots of these documents will be included with the feedback if you choose to approve the feedback with sources and the user had access to them."})}),t.jsx("div",{className:"flex flex-col gap-1",children:n.map(o=>t.jsx(la,{compact:!0,citationMetadata:o},o.url))})]})]})}function xd({retrievalMessages:s,userDisplayName:e,isDebugView:n=!1}){return t.jsxs("div",{className:"mb-8",children:[t.jsx(Bs,{className:"mb-4",children:t.jsx(k,{id:"pOb00r",defaultMessage:"Conversation"})}),s.map(o=>t.jsx(gd,{message:o,userDisplayName:e,isDebugView:n},o.id))]})}function gd({message:s,userDisplayName:e,isDebugView:n=!1}){var l,c,i,r,d,u;const o=Pe(),a=pe();switch(s.type){case"visible_text":{if(s.author==="unknown")return null;const m={id:s.id,author:{role:s.author},clientMetadata:{canRetry:!1},metadata:{citations:(l=s.citations)!=null?l:[],attachments:(c=s.attachments)!=null?c:[],content_references:s.content_refs?s.content_refs:((i=s.citations)!=null?i:[]).map(p=>{var g,h,y;return((g=p.metadata)==null?void 0:g.type)!=="file"?null:{start_idx:p.start_ix,end_idx:p.end_ix,refs:[],matched_text:s.text.slice(p.start_ix,p.end_ix),type:"file",source:p.metadata.source,name:p.metadata.name,id:p.metadata.id,cloud_doc_url:(y=p.metadata.cloud_doc_url)!=null?y:(h=p.metadata.extra)==null?void 0:h.cloud_doc_url}}).filter(p=>!!p)},content:{content_type:Cr.Text,parts:[s.text]}};return t.jsxs("div",{className:"mb-4",children:[t.jsx("p",{className:ue("text-token-text-secondary mb-1 text-xs",s.author==="user"?"pe-4 text-end":"text-start"),children:s.author==="assistant"?a.formatMessage(At.authorChatGPT):s.author==="user"?e!=null?e:a.formatMessage(At.authorUser):s.author}),t.jsx(Yr,{id:s.id,messages:[m],attachments:(r=m.metadata)==null?void 0:r.attachments,citations:(d=m.metadata)==null?void 0:d.citations,contentReferences:(u=m.metadata)==null?void 0:u.content_references,parts:[s.text],displayParts:Ui({isUserTurn:s.author==="user",parts:[s.text]}),isActivelyStreaming:!1,isCompletionInProgress:!1,isFinalUserTurn:!1,hasActiveRequest:!1,conversation:vr(o,wr),isUserTurn:s.author==="user",turnIndex:0,isFeedbackEnabled:!1})]})}case"query":return t.jsxs("div",{className:"text-token-text-primary my-2 text-xs",children:[t.jsx(dc,{className:"me-2"}),n?t.jsx(k,{id:"AVzRit",defaultMessage:"ChatGPT performed a search: {query}",values:{query:s.query}}):t.jsx(k,{id:"bJ9BXd",defaultMessage:"ChatGPT performed a search."})]});case"result":return n?t.jsx(hd,{message:s}):null;case"fetch":return n?t.jsxs("div",{className:"text-token-text-primary my-2 text-xs",children:[t.jsx(zi,{className:"me-2"}),t.jsx(k,{id:"uH5X47",defaultMessage:"Read file: {fileName}",values:{fileName:s.content.content_type==="tether_quote"?s.content.title:"unknown"}})]}):null;case"generic_file_search_tool":return n?t.jsxs("div",{className:"text-token-text-primary my-2 text-xs",children:[t.jsx(mc,{className:"me-2"}),t.jsx(k,{id:"pJmg4S",defaultMessage:"Tool message with command: {command}.",values:{command:s.command}})]}):null;case"system":case void 0:return null}}function hd({message:s}){const[e,n]=L.useState(!1);return s.type!=="result"?null:t.jsxs("div",{className:"text-token-text-primary mt-2 mb-4 text-xs",children:[t.jsxs("div",{onClick:()=>n(o=>!o),className:"flex flex-row",children:[t.jsx(Qr,{checked:e,className:"flex-0"}),t.jsx("div",{className:"flex-1",children:t.jsx(k,{id:"94EEkt",defaultMessage:"Found {numResults} results.",values:{numResults:s.result.chunks.length}})})]}),e&&t.jsxs("div",{className:"mt-2",children:[s.result.chunks.map(o=>t.jsxs("div",{className:"mb-2",children:[t.jsx("h4",{className:"text-token-text-primary mb-1 text-sm font-bold",children:t.jsx(k,{id:"zyGUoc",defaultMessage:"Result {number}: {title}",values:{number:o.result_num,title:o.title}})}),t.jsx("h4",{className:"text-token-text-secondary mb-1 text-xs",children:o.document_id}),t.jsx("pre",{className:"max-h-[200px] max-w-full overflow-auto p-2 text-wrap",children:o.contents})]},o.result_num)),t.jsxs("div",{className:"p-2 text-center",onClick:()=>n(!1),children:[t.jsx("p",{className:"text-token-text-secondary mb-1 font-bold",children:t.jsx(k,{id:"8UUzYt",defaultMessage:"Collapse Results"})}),t.jsx("hr",{className:""})]})]})]})}function xl({reviewStatus:s,onClick:e,disabled:n}){let o;const a=pe();switch(s){case"unreviewed":o=a.formatMessage(At.reviewStatusUnreviewed);break;case"approved_with_sources":o=a.formatMessage(At.reviewStatusApprovedWithSouces);break;case"approved_without_sources_data_available":case"approved_without_sources_data_expired":o=a.formatMessage(At.reviewStatusApprovedWithoutSources);break;case"deleted":o=a.formatMessage(At.reviewStatusDeleted);break}return t.jsx("button",{className:ue("text-token-text-primary rounded-2xl px-3 py-1 text-sm",s==="unreviewed"&&"bg-[#e2c541] dark:bg-[#EA8444]"),onClick:e,disabled:!!n||!e,children:o})}const At=Ye({modalTitle:{id:"zufVun",defaultMessage:"Review Feedback"},feedbackApproved:{id:"DS+YGt",defaultMessage:"Feedback approved."},feedbackDeleted:{id:"Rz/tmW",defaultMessage:"Feedback deleted."},errorApprovingFeedback:{id:"UVsTlf",defaultMessage:"Encountered an error approving this feedback. Please refresh and try again."},errorDeletingFeedback:{id:"cI6gt9",defaultMessage:"Encountered an error deleting this feedback. Please refresh and try again."},actionMessageFeedbackCreating:{id:"urBely",defaultMessage:"You can't take actions on this feedback yet because it's still being processed. Once it's done processing, it will be available for review."},actionMessageNoActionsAvailable:{id:"JGNhjT",defaultMessage:"This feedback has been reviewed."},actionMessageApprovedWithoutSources:{id:"68PAfK",defaultMessage:"This feedback has already been approved without sources, but you can re-approve it with sources."},actionMessageFeedbackDeleted:{id:"Kel9lE",defaultMessage:"This feedback has been deleted."},labelIncludeSources:{id:"8UlZM0",defaultMessage:"Include Sources"},authorChatGPT:{id:"7Fo5p2",defaultMessage:"ChatGPT"},authorUser:{id:"TpT0hg",defaultMessage:"User"},userDisplayName:{id:"3OKTcX",defaultMessage:"{displayName} ({email})"},reviewStatusUnreviewed:{id:"FEHKZj",defaultMessage:"Needs Review"},reviewStatusCreating:{id:"7lVVU7",defaultMessage:"Preparing for Review"},reviewStatusApprovedWithSouces:{id:"kpZ41g",defaultMessage:"Approved With Sources"},reviewStatusApprovedWithoutSources:{id:"Y0lc+p",defaultMessage:"Approved Without Sources"},reviewStatusDeleted:{id:"gKoYhr",defaultMessage:"Deleted"}});function bd({currentWorkspaceId:s}){const{data:e,refetch:n,isLoading:o}=io({queryKey:["adminListCaMessageFeedback",s],queryFn:()=>vt.safeGet("/ca/admin/feedback",{parameters:{query:{account_id:s}}})}),[a,l]=L.useState();return t.jsxs(co,{className:"mb-8",children:[t.jsx(Na,{children:t.jsx(k,{id:"r4Y3mj",defaultMessage:"Review Feedback"})}),t.jsx(Sa,{className:"text-token-text-secondary",children:t.jsx(k,{id:"mqh7NS",defaultMessage:"Review feedback your workspace users have submitted. Feedback is not shared with OpenAI until you approve it."})}),e&&!o?t.jsx(yd,{feedbackList:e.feedback,setSelectedFeedback:l}):t.jsx(Nt,{}),a&&t.jsx(dd,{feedbackMetadata:a,currentWorkspaceId:s,onClose:()=>l(void 0),onFeedbackActionTaken:()=>n()})]})}function xa(s){switch(s){case"unreviewed":return 1;case"approved_with_sources":return 2;case"approved_without_sources_data_available":return 3;case"approved_without_sources_data_expired":return 4;case"deleted":return 5}}function yd({feedbackList:s,setSelectedFeedback:e}){const n=L.useMemo(()=>[...s].sort((o,a)=>{const l=xa(o.review_status)-xa(a.review_status);return l!==0?l:o.submitted_at>a.submitted_at?-1:o.submitted_at<a.submitted_at?1:0}),[s]);return t.jsxs(Ft.Root,{size:"normal",children:[t.jsxs(Ft.Header,{children:[t.jsx(Ft.HeaderCell,{className:"bg-token-main-surface-primary",children:t.jsx(k,{id:"KcGNl2",defaultMessage:"Review Status"})}),t.jsx(Ft.HeaderCell,{className:"bg-token-main-surface-primary w-40",children:t.jsx(k,{id:"joba0B",defaultMessage:"Submitted By"})}),t.jsx(Ft.HeaderCell,{className:"bg-token-main-surface-primary w-40",children:t.jsx(k,{id:"yl1cCR",defaultMessage:"Submitted At"})})]}),t.jsx(Ft.Body,{children:n.length===0?t.jsx(Ft.Row,{children:t.jsx(Ft.Cell,{children:t.jsx(k,{id:"AYwCJD",defaultMessage:"No feedback yet."})})}):n.map(o=>{const a=o.review_status==="deleted",l=a?void 0:()=>e(o);return t.jsxs(Ft.Row,{className:ue("my-2",a?"bg-token-main-surface-tertiary":"hover:bg-token-main-surface-secondary hover:cursor-pointer"),onClick:l,children:[t.jsx(Ft.Cell,{className:"truncate",children:t.jsx(xl,{reviewStatus:o.review_status,onClick:l,disabled:a})}),t.jsx(Ft.Cell,{className:"truncate",children:t.jsx("span",{children:o.submitter_display_name&&o.submitter_email?t.jsx(k,{id:"3OKTcX",defaultMessage:"{displayName} ({email})",values:{displayName:o.submitter_display_name,email:o.submitter_email}}):t.jsx("code",{children:o.submitter_id.split("__")[0]})})}),t.jsx(Ft.Cell,{className:"truncate",children:t.jsx("span",{children:new Date(o.submitted_at).toLocaleString()})})]},o.feedback_id)})})]})}function jd(){"use forget";const s=q.c(34),e=Pe(),n=pe(),o=ho();let a;s[0]!==e?(a=kr(e),s[0]=e,s[1]=a):a=s[1];const l=a,c=Jr(),i=Ba();let r;s[2]!==e||s[3]!==i?(r=!1,s[2]=e,s[3]=i,s[4]=r):r=s[4];const d=r,{isComingSoon:u}=_r(),m=c||u,p=!!(o!=null&&o.isFreeWorkspace());let f;s[5]!==n?(f=n.formatMessage({id:"3ipf8K",defaultMessage:"Apps & Connectors"}),s[5]=n,s[6]=f):f=s[6];let g;s[7]!==m?(g=m?void 0:t.jsx(pl,{}),s[7]=m,s[8]=g):g=s[8];let h;s[9]!==f||s[10]!==g?(h=t.jsx(Ni,{title:f,subtitle:g}),s[9]=f,s[10]=g,s[11]=h):h=s[11];const y=h;if(p){let M;s[12]===Symbol.for("react.memo_cache_sentinel")?(M=t.jsx(Yn,{skipLegacyWorkspaceCheck:!0,children:t.jsx(wa,{})}),s[12]=M):M=s[12];let _;return s[13]!==y?(_=t.jsxs(t.Fragment,{children:[y,M]}),s[13]=y,s[14]=_):_=s[14],_}let x;s[15]!==i?(x=i?t.jsxs(Wi,{children:[t.jsx(k,{id:"9menCz",defaultMessage:"Connectors may allow end users to share data, which could include protected health information (PHI), with third parties. You should ensure that your use of connectors complies with your obligations under HIPAA. "}),t.jsx(bo,{href:"https://help.openai.com/en/articles/11509118-admin-controls-security-and-compliance-in-connectors-enterprise-edu-and-team#h_f11dede080",className:"ms-1 underline",children:t.jsx(k,{id:"f0WqA2",defaultMessage:"Learn more about Connectors."})})]}):null,s[15]=i,s[16]=x):x=s[16];let b;s[17]!==o||s[18]!==l||s[19]!==u||s[20]!==c?(b=c?t.jsxs(t.Fragment,{children:[t.jsx($r,{}),o!=null&&l===Nr.ALPHA&&t.jsx(bd,{currentWorkspaceId:o.id})]}):u?t.jsx(Cd,{}):null,s[17]=o,s[18]=l,s[19]=u,s[20]=c,s[21]=b):b=s[21];let j;s[22]!==o||s[23]!==d?(j=o!=null&&t.jsx(co,{children:t.jsx(ad,{workspaceId:o.id,workspaceName:o.name,isQuorumBetaUser:d})}),s[22]=o,s[23]=d,s[24]=j):j=s[24];let C;s[25]!==b||s[26]!==j?(C=t.jsxs(Gi,{className:"mt-6 gap-12",children:[b,j]}),s[25]=b,s[26]=j,s[27]=C):C=s[27];let w;s[28]!==x||s[29]!==C?(w=t.jsxs(Yn,{skipLegacyWorkspaceCheck:!0,children:[x,C]}),s[28]=x,s[29]=C,s[30]=w):w=s[30];let v;return s[31]!==y||s[32]!==w?(v=t.jsxs(t.Fragment,{children:[y,w]}),s[31]=y,s[32]=w,s[33]=v):v=s[33],v}function Cd(){"use forget";const s=q.c(5);let e;s[0]===Symbol.for("react.memo_cache_sentinel")?(e=t.jsx(co,{children:t.jsx(zr,{badge:t.jsx("div",{children:t.jsx("span",{className:"text-token-text-secondary rounded-xl border px-2 py-1 text-[8px] font-bold uppercase",children:t.jsx(k,{id:"IrfQIu",defaultMessage:"Coming soon"})})})})}),s[0]=e):e=s[0];let n;s[1]===Symbol.for("react.memo_cache_sentinel")?(n=t.jsx(Vi,{className:"icon"}),s[1]=n):n=s[1];let o;s[2]===Symbol.for("react.memo_cache_sentinel")?(o=t.jsx("p",{className:"text-xs font-bold",children:t.jsx(k,{id:"ES5xU+",defaultMessage:"When will this feature be available?"})}),s[2]=o):o=s[2];let a;s[3]===Symbol.for("react.memo_cache_sentinel")?(a=t.jsx(k,{id:"FYrNXO",defaultMessage:"Internal knowledge will be rolled out incrementally to ChatGPT Business workspaces over the next few weeks. We will notify you in ChatGPT when your workspace is eligible."}),s[3]=a):a=s[3];let l;return s[4]===Symbol.for("react.memo_cache_sentinel")?(l=t.jsxs(t.Fragment,{children:[e,t.jsxs("div",{className:"bg-token-bg-tertiary text-token-text-secondary flex flex-row gap-2 rounded-xl p-4",children:[n,t.jsxs("div",{className:"flex flex-col",children:[o,t.jsxs("p",{className:"text-xs",children:[a,"",t.jsx(bo,{href:Za,className:"underline",onClick:vd,children:t.jsx(k,{id:"WGpoE2",defaultMessage:"Learn more"})})]})]})]})]}),s[4]=l):l=s[4],l}function vd(){return ec({link:Za,location:"admin_settings_coming_soon_widget"})}const so=s=>{switch(s){case"BUSINESS_AND_ANALYTICS":return"BUSINESS";case"CREATIVITY_AND_DESIGN":return"DESIGN";case"DEVELOPER_TOOLS":return"DEVELOPER_TOOLS";case"MESSAGING_AND_SOCIAL":return"COLLABORATION";case"PRODUCTIVITY":return"PRODUCTIVITY";case"RESEARCH_AND_KNOWLEDGE":return"PRODUCTIVITY";case"HEALTH_AND_FITNESS":return"LIFESTYLE";case"PERSONAL_FINANCE":return"FINANCE"}},gl=s=>{var e,n,o,a;return(e=s.primaryConnector.app_metadata)!=null&&e.categories?new Set((n=s.primaryConnector.app_metadata)==null?void 0:n.categories):(o=s.primaryConnector.branding)!=null&&o.category?new Set([so((a=s.primaryConnector.branding)==null?void 0:a.category)]):new Set},wd=s=>{var e,n,o,a,l,c;return s.kind==="app"?(e=s.app.primaryConnector.app_metadata)!=null&&e.categories?new Set((n=s.app.primaryConnector.app_metadata)==null?void 0:n.categories):(o=s.app.primaryConnector.branding)!=null&&o.category?new Set([so((a=s.app.primaryConnector.branding)==null?void 0:a.category)]):new Set:(l=s.template.branding)!=null&&l.category?new Set([so((c=s.template.branding)==null?void 0:c.category)]):new Set},ga={context_connector_gdrive:t.jsx(Pa,{className:"h-8 w-8"}),context_connector_o365_personal:t.jsx(_n,{className:"h-8 w-8"}),context_connector_o365_business:t.jsx(_n,{className:"h-8 w-8"})},Pn=s=>{"use forget";const e=q.c(11),{app:n,size:o,className:a}=s,l=o===void 0?"medium":o;if(n.primaryConnector.type===rs&&ga[n.primaryConnector.id]){let d;e[0]!==a?(d=ue("bg-token-bg-primary h-fit flex-shrink-0 rounded-xl border-[0.5px] p-2 shadow-sm",a),e[0]=a,e[1]=d):d=e[1];const u=ga[n.primaryConnector.id];let m;return e[2]!==d||e[3]!==u?(m=t.jsx("div",{className:d,children:u}),e[2]=d,e[3]=u,e[4]=m):m=e[4],m}const c=n.primaryConnector;let i;e[5]!==a?(i=ue("bg-token-bg-primary h-fit flex-shrink-0 rounded-xl border-[0.5px] p-2 shadow-sm",a),e[5]=a,e[6]=i):i=e[6];let r;return e[7]!==n.primaryConnector||e[8]!==l||e[9]!==i?(r=t.jsx(Fs,{connector:c,size:l,className:i}),e[7]=n.primaryConnector,e[8]=l,e[9]=i,e[10]=r):r=e[10],r},Mo=s=>{"use forget";var d;const e=q.c(8),n=Pe();let o;e[0]!==n?(o=mt(n),e[0]=n,e[1]=o):o=e[1];const a=o;let l;e[2]!==n?(l=zt(n),e[2]=n,e[3]=l):l=e[3];const c=l,i=(d=a==null?void 0:a.id)!=null?d:"";let r;return e[4]!==s.primaryConnector.id||e[5]!==c||e[6]!==i?(r={workspaceId:i,connectorId:s.primaryConnector.id,enabled:c},e[4]=s.primaryConnector.id,e[5]=c,e[6]=i,e[7]=r):r=e[7],Gs(r)},hl=s=>{"use forget";var c;const e=q.c(6),n=Pe();let o,a;if(e[0]!==s||e[1]!==n){const i=mt(n),r=(c=i==null?void 0:i.id)!=null?c:"",d=zt(n);a=wi,o=s.map(u=>({queryKey:go(r,u.primaryConnector.id),enabled:d,queryFn:()=>vt.safeGet("/rbac/workspace/{workspace_id}/connector/{connector_id}/roles",{parameters:{query:{account_id:r,consistency:"strong"},path:{workspace_id:r,connector_id:u.primaryConnector.id}}})})),e[0]=s,e[1]=n,e[2]=o,e[3]=a}else o=e[2],a=e[3];let l;return e[4]!==o?(l={queries:o},e[4]=o,e[5]=l):l=e[5],a(l)},fn=s=>{var e;return(e=s==null?void 0:s.roles_with_permissions.filter(n=>n.connector_permissions.includes(ln.UseConnector)))!=null?e:[]};var Nn=(s=>(s[s.New=0]="New",s[s.Modified=1]="Modified",s[s.Unmodified=2]="Unmodified",s))(Nn||{});const ha=s=>{"use forget";const e=q.c(5),{children:n,className:o}=s;let a;e[0]!==o?(a=ue(o,"items-center rounded-full border px-1 py-0.5 text-[8px] leading-3 font-semibold uppercase"),e[0]=o,e[1]=a):a=e[1];let l;return e[2]!==n||e[3]!==a?(l=t.jsx("span",{className:a,children:n}),e[2]=n,e[3]=a,e[4]=l):l=e[4],l},kd=s=>{"use forget";const e=q.c(2),{delta:n}=s;switch(n){case 0:{let o;return e[0]===Symbol.for("react.memo_cache_sentinel")?(o=t.jsx(ha,{className:"border-blue-100 text-blue-500 dark:border-blue-800 dark:text-blue-200",children:t.jsx(k,{id:"5wPfIg",defaultMessage:"New"})}),e[0]=o):o=e[0],o}case 1:{let o;return e[1]===Symbol.for("react.memo_cache_sentinel")?(o=t.jsx(ha,{className:"border-token-border-status-warning text-token-text-status-warning",children:t.jsx(k,{id:"vpGa1d",defaultMessage:"Modified"})}),e[1]=o):o=e[1],o}case 2:default:return null}},no=s=>{try{return JSON.stringify(s,null,2)}catch(e){return null}},Zs={key:"text-blue-500 dark:text-blue-300",string:"text-green-600 dark:text-green-300",number:"text-purple-500 dark:text-purple-300",boolean:"text-orange-500 dark:text-orange-300",nullish:"text-red-500 dark:text-red-300"},_d=s=>{if(!s)return null;const e=/"(?:\\u[\da-fA-F]{4}|\\[^u]|[^\\"])*"|\btrue\b|\bfalse\b|\bnull\b|-?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,n=[];let o=0,a,l=0;const c=i=>{i.length!==0&&n.push(t.jsx("span",{children:i},"json-text-".concat(l++)))};for(;(a=e.exec(s))!=null;){const i=a.index,r=a[0];i>o&&c(s.slice(o,i));const d=i+r.length;let u;if(r.startsWith('"')){let m=d;for(;m<s.length&&/\s/.test(s.charAt(m));)m+=1;u=s.charAt(m)===":"?Zs.key:Zs.string}else r==="true"||r==="false"?u=Zs.boolean:r==="null"?u=Zs.nullish:u=Zs.number;n.push(t.jsx("span",{className:u,children:r},"json-token-".concat(l++))),o=d}return o<s.length&&c(s.slice(o)),t.jsx(t.Fragment,{children:n})},Nd=(s,e)=>{if(s==null||e==null)return{diffCount:{added:0,removed:0},diffComponent:null};let n=0;const o=(c,i="",r)=>t.jsx("div",{className:r,children:c.replace("/^.{0,".concat(i.length,"}/gm"),i)},"diff-block-".concat(n++)),a={added:0,removed:0},l=[];return Xa(s,e).forEach(c=>{const i=c.value.replace(/\n$/,"");c.added?(a.added+=i.split("\n").length,l.push(o(i,"+ ","text-green-600 dark:text-green-300"))):c.removed?(a.removed+=i.split("\n").length,l.push(o(i,"- ","text-red-500 dark:text-red-200"))):l.push(o(i))}),{diffCount:a,diffComponent:l.length?l:null}},bl=s=>{"use forget";var I,J;const e=q.c(49),{action:n,actionDelta:o,prevAction:a,className:l,initiallyCollapsed:c}=s,i=c===void 0?!1:c,r=pe();let d;e[0]!==n?(d=no(n),e[0]=n,e[1]=d):d=e[1];const u=d;let m;e[2]!==u?(m=_d(u),e[2]=u,e[3]=m):m=e[3];const p=m,[f,g]=L.useState(i);let h;e:{if(o===1&&a){let Y;e[4]!==a||e[5]!==u?(Y=Nd(no(a),u),e[4]=a,e[5]=u,e[6]=Y):Y=e[6],h=Y;break e}let H;e[7]===Symbol.for("react.memo_cache_sentinel")?(H={diffCount:{added:0,removed:0},diffComponent:null},e[7]=H):H=e[7],h=H}const{diffCount:y,diffComponent:x}=h,b=f?"end-1/2 ltr:translate-x-1/2 rtl:-translate-x-1/2":"end-0";let j;e[8]!==b?(j=ue(["absolute bottom-0 z-20 transition-all duration-150",b]),e[8]=b,e[9]=j):j=e[9];const C=f?"secondary":"ghost";let w;e[10]!==f?(w=()=>g(!f),e[10]=f,e[11]=w):w=e[11];const v=f?ka:Va,M=!f&&"text-token-text-tertiary hover:text-token-text-primary";let _;e[12]!==M?(_=ue(["m-2",M]),e[12]=M,e[13]=_):_=e[13];let N;e[14]!==f?(N=f?t.jsx(k,{id:"0PERAC",defaultMessage:"Expand"}):t.jsx("span",{className:"sr-only",children:t.jsx(k,{id:"KwNF2K",defaultMessage:"Collapse"})}),e[14]=f,e[15]=N):N=e[15];let A;e[16]!==_||e[17]!==N||e[18]!==C||e[19]!==w||e[20]!==v?(A=t.jsx(re,{size:"small",color:C,onClick:w,icon:v,className:_,children:N}),e[16]=_,e[17]=N,e[18]=C,e[19]=w,e[20]=v,e[21]=A):A=e[21];let D;e[22]!==A||e[23]!==j?(D=t.jsx("div",{className:j,children:A}),e[22]=A,e[23]=j,e[24]=D):D=e[24];const T=f&&"opacity-100";let R;e[25]!==T?(R=ue("from-token-bg-tertiary/30 to-token-bg-tertiary pointer-events-none absolute inset-0 z-10 h-full bg-gradient-to-b opacity-0 transition-opacity duration-150",T),e[25]=T,e[26]=R):R=e[26];let E;e[27]!==R?(E=t.jsx("div",{className:R,"aria-hidden":"true"}),e[27]=R,e[28]=E):E=e[28];const O=f?"max-h-24 cursor-pointer overflow-hidden select-none":"max-h-72 cursor-text overflow-auto select-text";let F;e[29]!==l||e[30]!==O?(F=ue([l,O,"bg-token-bg-tertiary text-token-text-secondary w-full px-3 py-2 font-mono text-xs leading-5 whitespace-pre-wrap transition-all duration-150"]),e[29]=l,e[30]=O,e[31]=F):F=e[31];let U;e[32]===Symbol.for("react.memo_cache_sentinel")?(U=()=>g(!1),e[32]=U):U=e[32];let P;e[33]!==x||e[34]!==p||e[35]!==r||e[36]!==u?(P=(J=(I=x!=null?x:p)!=null?I:u)!=null?J:r.formatMessage(Sd.actionDetailsSerializationError),e[33]=x,e[34]=p,e[35]=r,e[36]=u,e[37]=P):P=e[37];let B;e[38]!==F||e[39]!==P?(B=t.jsx("pre",{className:F,onClick:U,children:P}),e[38]=F,e[39]=P,e[40]=B):B=e[40];let W;e[41]!==y.added||e[42]!==y.removed?(W=y.added>0||y.removed>0?t.jsxs("div",{className:"bg-token-bg-primary/80 absolute end-2 top-2 z-30 flex items-center gap-1 rounded-full px-2 py-0.5 text-[10px] font-medium backdrop-blur-sm",children:[y.added>0&&t.jsxs("span",{className:"text-green-600 dark:text-green-500",children:["+",y.added]}),y.removed>0&&t.jsxs("span",{className:"text-red-500 dark:text-red-300",children:["-",y.removed]})]}):null,e[41]=y.added,e[42]=y.removed,e[43]=W):W=e[43];let V;return e[44]!==D||e[45]!==E||e[46]!==B||e[47]!==W?(V=t.jsxs("div",{className:"action-details border-token-border-default relative overflow-hidden rounded-xl border",children:[D,E,B,W]}),e[44]=D,e[45]=E,e[46]=B,e[47]=W,e[48]=V):V=e[48],V},oo=s=>{var n;let e=0;for(const o of(n=no(s))!=null?n:"")e=(e<<5)-e+o.charCodeAt(0),e|=0;return e},Md=(s,e)=>{"use forget";const n=q.c(4);if(!e){let a;return n[0]===Symbol.for("react.memo_cache_sentinel")?(a=new Map,n[0]=a):a=n[0],a}let o;if(n[1]!==s||n[2]!==e){o=new Map;for(const a of s.entries()){const[l,c]=a,{hash:i}=c,r=e.get(l);r?r.hash!==i&&o.set(l,1):o.set(l,0)}n[1]=s,n[2]=e,n[3]=o}else o=n[3];return o},Sd=Ye({actionDetailsSerializationError:{id:"j5DFg9",defaultMessage:"Error serializing action details"}}),Ad=({entryId:s,currentValueLabel:e,inputLabel:n,inputPlaceholder:o,itemRegexValue:a,errorText:l,saveLabel:c,onRegexChange:i,onSave:r,isSaving:d,isPending:u})=>t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"text-token-text-tertiary text-xs",children:e}),t.jsx("label",{htmlFor:"item-regex-".concat(s),className:"text-token-text-secondary mb-1 block text-xs font-medium",children:n}),t.jsx("input",{id:"item-regex-".concat(s),name:"item-regex-".concat(s),type:"text",className:"border-token-border-default text-token-text-primary w-full rounded-md border bg-transparent px-2 py-1 text-sm",value:a,onChange:m=>i(m.target.value),placeholder:o}),l&&t.jsx("p",{className:"text-xs text-red-500",children:l}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsx(re,{size:"small",onClick:r,disabled:!a||!!l||u,loading:d,children:c})})]}),Td=({currentValueLabel:s,minInputLabel:e,maxInputLabel:n,minPlaceholder:o,maxPlaceholder:a,itemMinInput:l,itemMaxInput:c,itemRangeError:i,itemHasRangeInput:r,saveLabel:d,onMinChange:u,onMaxChange:m,onSave:p,isSaving:f,isPending:g})=>t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"text-token-text-tertiary text-xs",children:s}),t.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[t.jsxs("label",{className:"text-token-text-secondary text-xs font-medium",children:[t.jsx("span",{className:"mb-1 block",children:e}),t.jsx("input",{type:"number",inputMode:"decimal",step:"any",className:"border-token-border-default text-token-text-primary w-full rounded-md border bg-transparent px-2 py-1 text-sm",value:l,onChange:h=>u(h.target.value),placeholder:o})]}),t.jsxs("label",{className:"text-token-text-secondary text-xs font-medium",children:[t.jsx("span",{className:"mb-1 block",children:n}),t.jsx("input",{type:"number",inputMode:"decimal",step:"any",className:"border-token-border-default text-token-text-primary w-full rounded-md border bg-transparent px-2 py-1 text-sm",value:c,onChange:h=>m(h.target.value),placeholder:a})]})]}),t.jsx("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:t.jsx(re,{size:"small",onClick:p,disabled:!r||!!i||g,loading:f,children:d})}),i&&t.jsx("p",{className:"text-xs text-red-500",children:i})]}),Dd=({entryId:s,currentValueLabel:e,optionAnyLabel:n,optionTrueLabel:o,optionFalseLabel:a,saveLabel:l,itemBooleanDraft:c,onBooleanChange:i,itemHasBooleanChange:r,onSave:d,isSaving:u,isPending:m})=>t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"text-token-text-tertiary text-xs",children:e}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("label",{className:"text-token-text-secondary flex items-center gap-2 text-xs font-medium",children:[t.jsx("input",{type:"radio",name:"item-boolean-".concat(s),value:"any",checked:c==="any",onChange:()=>i("any")}),t.jsx("span",{children:n})]}),t.jsxs("label",{className:"text-token-text-secondary flex items-center gap-2 text-xs font-medium",children:[t.jsx("input",{type:"radio",name:"item-boolean-".concat(s),value:"true",checked:c==="true",onChange:()=>i("true")}),t.jsx("span",{children:o})]}),t.jsxs("label",{className:"text-token-text-secondary flex items-center gap-2 text-xs font-medium",children:[t.jsx("input",{type:"radio",name:"item-boolean-".concat(s),value:"false",checked:c==="false",onChange:()=>i("false")}),t.jsx("span",{children:a})]})]}),t.jsx("div",{className:"mt-2 flex items-center gap-2",children:t.jsx(re,{size:"small",onClick:d,disabled:!r||m,loading:u,children:l})})]}),$e=s=>!!s&&typeof s=="object"&&!Array.isArray(s)&&Object.getOwnPropertySymbols(s).length===0,Rd=(s,e)=>{function n(o,a){const l=S({},o);return Object.entries(a).forEach(([c,i])=>{const r=l[c];$e(r)&&$e(i)?l[c]=n(r,i):l[c]=i}),l}return n(s,e)},ba=s=>{const e=[],n=s.type;if(typeof n=="string")e.push(n);else if(Array.isArray(n))n.forEach(o=>{typeof o=="string"&&e.push(o)});else{const o=s.anyOf;Array.isArray(o)&&o.forEach(a=>{if($e(a)){const l=a.type;typeof l=="string"?e.push(l):Array.isArray(l)&&l.forEach(c=>{typeof c=="string"&&e.push(c)})}})}return e},ao=(s,e,n,o)=>{if(!$e(s.properties))return[];const a=new Set,l=s.required;Array.isArray(l)&&l.forEach(i=>{typeof i=="string"&&a.add(i)});const c=[];return Object.entries(s.properties).forEach(([i,r])=>{const d=$e(r)?r:{},u=ba(d),m=typeof d.format=="string"?d.format:void 0,p=typeof d.description=="string"?d.description:void 0,f=typeof d.pattern=="string"?d.pattern:void 0,g=typeof d.minimum=="number"?d.minimum:void 0,h=typeof d.maximum=="number"?d.maximum:void 0,y=typeof d.minItems=="number"?d.minItems:void 0,x=typeof d.maxItems=="number"?d.maxItems:void 0,b=typeof d.const=="boolean"?d.const:void 0,j=d.enum,C=Array.isArray(j)&&j.length===1&&typeof j[0]=="boolean"?j[0]:void 0,w=u.includes("string"),v=u.some(te=>te==="number"||te==="integer"),M=u.includes("boolean"),_=u.includes("array"),N=u.includes("object"),A=$e(d.items)?d.items:void 0,D=A?ba(A):[],T=A==null?void 0:A.pattern,R=typeof T=="string"?T:void 0,E=A==null?void 0:A.minimum,O=typeof E=="number"?E:void 0,F=A==null?void 0:A.maximum,U=typeof F=="number"?F:void 0,P=A==null?void 0:A.const,B=typeof P=="boolean"?P:void 0,W=A==null?void 0:A.enum,V=Array.isArray(W)&&W.length===1&&typeof W[0]=="boolean"?W[0]:void 0,I=D.includes("string"),J=D.some(te=>te==="number"||te==="integer"),H=D.includes("boolean"),Y=D.includes("array"),Q=D.includes("object"),oe=N&&!$e(d.properties)&&d.minProperties===void 0&&d.maxProperties===void 0,$=Q&&A&&!$e(A.properties)&&A.minProperties===void 0&&A.maxProperties===void 0,G=[...e,i],K=G.join("."),se=n===0?K:".".concat(G.slice(1).join(".")),Z={name:K,displayName:se,depth:n,required:a.has(i),types:u,format:m,description:p,pattern:f,minimum:g,maximum:h,supportsRegex:w,supportsRange:v,isInteger:u.includes("integer"),supportsBoolean:M,booleanClamp:b!=null?b:C,supportsArray:_,supportsObject:N,minItems:y,maxItems:x,itemsSchemaPresent:!!A,itemTypes:D,itemPattern:R,itemMinimum:O,itemMaximum:U,itemSupportsRegex:I,itemSupportsRange:J,itemSupportsBoolean:H,itemSupportsArray:Y,itemSupportsObject:Q,itemBooleanClamp:B!=null?B:V,missingObjectSchema:oe,missingItemObjectSchema:$};o.push(Z);const ee=[];if(N&&$e(d.properties)&&ee.push(...ao(d,G,n+1,o)),_&&Q&&A&&$e(A.properties)){const te=[...e,"".concat(i,"[]")];ee.push(...ao(A,te,n+1,o))}c.push({entry:Z,children:ee})}),c},Id=s=>{const e=[],n=ao(s,[],0,e);return{parameterEntries:e,parameterTree:n}},ya=s=>{if(!s)return null;try{return new RegExp(s),null}catch(e){return e instanceof Error?e.message:"Invalid regex"}},Ed=()=>{"use forget";const s=q.c(4);let e;s[0]===Symbol.for("react.memo_cache_sentinel")?(e=t.jsx(ts,{id:"action-toggle-skeleton",checked:!1,disabled:!0}),s[0]=e):e=s[0];let n;s[1]===Symbol.for("react.memo_cache_sentinel")?(n=t.jsx("div",{className:"flex-1 space-y-0.5",children:t.jsx(Rs,{})}),s[1]=n):n=s[1];let o;s[2]===Symbol.for("react.memo_cache_sentinel")?(o=t.jsx("div",{className:"from-token-bg-tertiary/30 to-token-bg-tertiary absolute inset-0 z-10 h-full bg-gradient-to-b","aria-hidden":"true"}),s[2]=o):o=s[2];let a;return s[3]===Symbol.for("react.memo_cache_sentinel")?(a=t.jsxs("li",{className:"border-token-border-default grid cursor-wait grid-cols-[auto_1fr] gap-4 p-4",children:[e,n,t.jsxs("div",{className:"border-token-border-default relative col-start-2 overflow-hidden rounded-xl border",children:[o,t.jsx("pre",{className:"bg-token-bg-tertiary h-24 w-full overflow-hidden px-3 py-2",children:t.jsx(Rs,{lines:4,heightSize:"sm",delay:.07})})]})]}),s[3]=a):a=s[3],a},Pd=s=>{"use forget";const e=q.c(88),{action:n,actionDelta:o,prevAction:a,isEnabled:l,onToggle:c,onOpenConstraints:i,disabled:r}=s,d=r===void 0?!1:r,u=pe();let m;if(e[0]!==n.name){let H;e[2]===Symbol.for("react.memo_cache_sentinel")?(H=/[^a-zA-Z0-9_-]/g,e[2]=H):H=e[2],m=n.name.replace(H,"-"),e[0]=n.name,e[1]=m}else m=e[1];const p=m,f="action-toggle-".concat(p);let g,h,y,x,b,j,C,w,v,M,_,N,A,D;if(e[3]!==n||e[4]!==d||e[5]!==l||e[6]!==i||e[7]!==c||e[8]!==f){const H=zs(n),Y=$e(n.params)?n.params:null,Q=$e(Y==null?void 0:Y.properties)?Y.properties:null;let oe;e[23]!==Q?(oe=Q&&Object.keys(Q).length>0,e[23]=Q,e[24]=oe):oe=e[24],h=oe,y=i!==void 0,g=X.openActionPlaceholder,C="group",b=f;const $=d?"cursor-not-allowed":"cursor-pointer";e[25]!==$?(j=ue(["border-token-border-default block border-b p-2 group-last:border-0",$]),e[25]=$,e[26]=j):j=e[26];const G=!d&&"group-hover:bg-token-bg-tertiary";e[27]!==G?(D=ue("has-[.action-details:hover]:bg-token-bg-primary grid grid-cols-[auto_1fr] items-center gap-4 rounded-lg p-2 select-none",G),e[27]=G,e[28]=D):D=e[28];let K;e[29]!==n.name||e[30]!==c?(K=ee=>c(n.name,ee.target.checked),e[29]=n.name,e[30]=c,e[31]=K):K=e[31],e[32]!==d||e[33]!==l||e[34]!==K||e[35]!==f?(x=t.jsx(ts,{id:f,checked:l,onChange:K,disabled:d}),e[32]=d,e[33]=l,e[34]=K,e[35]=f,e[36]=x):x=e[36],A="flex-1 space-y-0.5",N="flex w-full items-start justify-between gap-2",M="flex min-w-0 flex-wrap items-center gap-2";const se=d&&"text-token-text-secondary";let Z;e[37]!==se?(Z=ue(["font-mono text-sm font-medium",se]),e[37]=se,e[38]=Z):Z=e[38],e[39]!==n.name||e[40]!==Z?(_=t.jsx("div",{className:Z,children:n.name}),e[39]=n.name,e[40]=Z,e[41]=_):_=e[41],w="flex items-center gap-1 select-none",v=Us({badgeKeys:H,labels:Ws}),e[3]=n,e[4]=d,e[5]=l,e[6]=i,e[7]=c,e[8]=f,e[9]=g,e[10]=h,e[11]=y,e[12]=x,e[13]=b,e[14]=j,e[15]=C,e[16]=w,e[17]=v,e[18]=M,e[19]=_,e[20]=N,e[21]=A,e[22]=D}else g=e[9],h=e[10],y=e[11],x=e[12],b=e[13],j=e[14],C=e[15],w=e[16],v=e[17],M=e[18],_=e[19],N=e[20],A=e[21],D=e[22];let T;e[42]!==o?(T=t.jsx(kd,{delta:o}),e[42]=o,e[43]=T):T=e[43];let R;e[44]!==T||e[45]!==w||e[46]!==v?(R=t.jsxs("div",{className:w,children:[v,T]}),e[44]=T,e[45]=w,e[46]=v,e[47]=R):R=e[47];let E;e[48]!==R||e[49]!==M||e[50]!==_?(E=t.jsxs("div",{className:M,children:[_,R]}),e[48]=R,e[49]=M,e[50]=_,e[51]=E):E=e[51];let O;e[52]!==n||e[53]!==g||e[54]!==d||e[55]!==h||e[56]!==u||e[57]!==i||e[58]!==y?(O=y&&t.jsx(cs,{label:h?void 0:u.formatMessage(X.noParametersDefined),children:t.jsx("span",{className:"flex-shrink-0",children:t.jsx(re,{size:"small",color:"secondary",onClick:H=>{H.preventDefault(),H.stopPropagation(),i==null||i(n)},disabled:!h||d,className:h?void 0:"cursor-not-allowed opacity-60",children:t.jsx(k,S({},g))})})}),e[52]=n,e[53]=g,e[54]=d,e[55]=h,e[56]=u,e[57]=i,e[58]=y,e[59]=O):O=e[59];let F;e[60]!==E||e[61]!==O||e[62]!==N?(F=t.jsxs("div",{className:N,children:[E,O]}),e[60]=E,e[61]=O,e[62]=N,e[63]=F):F=e[63];let U;e[64]!==n.description?(U=n.description?n.description:t.jsx(k,S({},X.noDescription)),e[64]=n.description,e[65]=U):U=e[65];let P;e[66]!==U?(P=t.jsx("div",{className:"text-token-text-tertiary line-clamp-3 text-xs leading-5 wrap-anywhere",children:U}),e[66]=U,e[67]=P):P=e[67];let B;e[68]!==F||e[69]!==P||e[70]!==A?(B=t.jsxs("div",{className:A,children:[F,P]}),e[68]=F,e[69]=P,e[70]=A,e[71]=B):B=e[71];let W;e[72]!==n||e[73]!==o||e[74]!==a?(W=t.jsx("div",{className:"pointer-events-none col-start-2 min-w-0",onClick:Od,children:t.jsx(bl,{action:n,actionDelta:o,prevAction:a,initiallyCollapsed:!0,className:"pointer-events-auto"})}),e[72]=n,e[73]=o,e[74]=a,e[75]=W):W=e[75];let V;e[76]!==x||e[77]!==B||e[78]!==W||e[79]!==D?(V=t.jsxs("div",{className:D,children:[x,B,W]}),e[76]=x,e[77]=B,e[78]=W,e[79]=D,e[80]=V):V=e[80];let I;e[81]!==b||e[82]!==j||e[83]!==V?(I=t.jsx("label",{htmlFor:b,className:j,children:V}),e[81]=b,e[82]=j,e[83]=V,e[84]=I):I=e[84];let J;return e[85]!==C||e[86]!==I?(J=t.jsx("li",{className:C,children:I}),e[85]=C,e[86]=I,e[87]=J):J=e[87],J},Ld=s=>{"use forget";const e=q.c(48),{app:n,actions:o,prevActions:a,deltas:l,initialEnabledActions:c,onRefreshActions:i,refreshingActions:r,onSubmit:d,submitting:u,onCancel:m,refreshHidden:p,onOpenConstraints:f}=s,g=p===void 0?!1:p,h=pe(),[y,x]=L.useState(c);let b;e[0]!==l||e[1]!==y?(b=Array.from(l.entries().filter(Fd)).map($d).filter(W=>!(y!=null&&y.has(W))),e[0]=l,e[1]=y,e[2]=b):b=e[2];const j=b;let C;e[3]!==o?(C=o.map(zd),e[3]=o,e[4]=C):C=e[4];const w=C;let v;if(e[5]!==o||e[6]!==l){let B;e[8]!==l?(B=(W,V)=>{var H,Y;const I=(H=l.get(W.name))!=null?H:Nn.Unmodified,J=(Y=l.get(V.name))!=null?Y:Nn.Unmodified;return I-J||W.name.localeCompare(V.name)},e[8]=l,e[9]=B):B=e[9],v=o.sort(B),e[5]=o,e[6]=l,e[7]=v}else v=e[7];const M=v,_=!!r||u;let N;e[10]!==n.primaryConnector.distribution_channel?(N=(n.primaryConnector.distribution_channel==="TENANT_CATALOG"||n.primaryConnector.distribution_channel==="INDIVIDUAL")&&t.jsx("p",{className:"text-token-text-secondary pb-0 text-sm leading-5",children:t.jsx(k,Ce(S({},X.actionsDescription),{values:{link:Ud}}))}),e[10]=n.primaryConnector.distribution_channel,e[11]=N):N=e[11];let A;e[12]!==w||e[13]!==o.length||e[14]!==l||e[15]!==_||e[16]!==y||e[17]!==h||e[18]!==f||e[19]!==i||e[20]!==a||e[21]!==g||e[22]!==r||e[23]!==M||e[24]!==u||e[25]!==j?(A=o.length===0?t.jsx("p",{className:"text-token-text-tertiary m-4 text-center text-xs italic",children:t.jsx(k,S({},X.noActionsLabel))}):t.jsxs("div",{className:"space-y-1",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center",children:[o.length===(y==null?void 0:y.size)?t.jsx(re,{color:"secondary",size:"small",onClick:()=>x(new Set),disabled:_,children:t.jsx(k,S({},X.deselectAllLabel))}):t.jsx(re,{color:"secondary",size:"small",onClick:()=>x(new Set(w)),className:ue(j.length>0&&"rounded-e-none pe-2"),disabled:_,children:t.jsx(k,S({},X.selectAllLabel))}),j.length>0&&t.jsx(re,{size:"small",onClick:()=>x(B=>{const W=new Set(B);return j.forEach(V=>W.add(V)),W}),color:"custom",className:"rounded-s-none border border-blue-100 ps-2 text-blue-800 dark:border-blue-700 dark:text-blue-50",children:t.jsx(k,S({},X.selectAllNewLabel))})]}),!g&&t.jsx(cs,{label:i?void 0:h.formatMessage(X.needLink),children:t.jsx(re,{size:"small",color:"secondary",loading:r,disabled:!i||u,onClick:()=>i==null?void 0:i(),children:t.jsx(k,S({},X.refreshLabel))})})]}),t.jsx("ul",{className:"border-token-border-default rounded-2xl border",children:M.map(B=>{var W;return t.jsx(Pd,{action:B,actionDelta:l.get(B.name),prevAction:(W=a==null?void 0:a.get(B.name))==null?void 0:W.action,isEnabled:!!(y!=null&&y.has(B.name)),onToggle:(V,I)=>{x(J=>{const H=new Set(J);return I?H.add(V):H.delete(V),H})},disabled:_,onOpenConstraints:f},B.name)})})]}),e[12]=w,e[13]=o.length,e[14]=l,e[15]=_,e[16]=y,e[17]=h,e[18]=f,e[19]=i,e[20]=a,e[21]=g,e[22]=r,e[23]=M,e[24]=u,e[25]=j,e[26]=A):A=e[26];let D;e[27]!==N||e[28]!==A?(D=t.jsxs("div",{className:"space-y-3 overflow-y-auto p-4",children:[N,A]}),e[27]=N,e[28]=A,e[29]=D):D=e[29];let T;e[30]===Symbol.for("react.memo_cache_sentinel")?(T=t.jsx(k,{id:"otQMlF",defaultMessage:"Cancel"}),e[30]=T):T=e[30];let R;e[31]!==_||e[32]!==m?(R=t.jsx(re,{color:"secondary",onClick:m,disabled:_,children:T}),e[31]=_,e[32]=m,e[33]=R):R=e[33];let E;e[34]!==y||e[35]!==d?(E=()=>d(Array.from(y!=null?y:[])),e[34]=y,e[35]=d,e[36]=E):E=e[36];let O;e[37]===Symbol.for("react.memo_cache_sentinel")?(O=t.jsx(k,{id:"b6Dv1o",defaultMessage:"Confirm"}),e[37]=O):O=e[37];let F;e[38]!==r||e[39]!==u||e[40]!==E?(F=t.jsx(re,{onClick:E,loading:u,disabled:r,children:O}),e[38]=r,e[39]=u,e[40]=E,e[41]=F):F=e[41];let U;e[42]!==F||e[43]!==R?(U=t.jsxs("div",{className:"border-token-border-default flex justify-end gap-2 border-t p-4",children:[R,F]}),e[42]=F,e[43]=R,e[44]=U):U=e[44];let P;return e[45]!==U||e[46]!==D?(P=t.jsxs(t.Fragment,{children:[D,U]}),e[45]=U,e[46]=D,e[47]=P):P=e[47],P},yl=s=>{"use forget";var He;const e=q.c(70),{app:n,onClose:o,onCancel:a,onConfirm:l,initialEnabledActions:c,showOverlayBackground:i,submitting:r,showParameterConstraints:d}=s,u=i===void 0?!0:i,m=r===void 0?!1:r,p=d===void 0?!0:d,f=pe(),g=es(),[h,y]=L.useState(null);let x;e[0]===Symbol.for("react.memo_cache_sentinel")?(x={forceEnable:!0},e[0]=x):x=e[0];const{actions:b,isLoading:j,refetch:C}=xs(n.primaryConnector,bt.ADMIN_SETTING,x);let w;e:{if(c){w=c;break e}let ae;e[1]!==b?(ae=new Set(b.filter(Wd).map(Gd)),e[1]=b,e[2]=ae):ae=e[2],w=ae}const v=w;let M;if(e[3]!==b){M=new Map;for(const ae of b)M.set(ae.name,{action:ae,hash:oo(ae)});e[3]=b,e[4]=M}else M=e[4];const _=M,[N,A]=L.useState(null),D=Md(_,N),T=Pe();let R;if(e[5]!==T){const ae=mt(T);R=ae==null?void 0:ae.getWorkspaceId(),e[5]=T,e[6]=R}else R=e[6];const E=R,O=an(),F=vo(),U=L.useRef(!1);let P;e[7]!==T?(P=$s(T,"3339786131"),e[7]=T,e[8]=P):P=e[8];const B=P,W=n.knowledgeConfig.length>0;let V;e[9]!==n||e[10]!==T||e[11]!==W?(V=W&&Rn(n,T),e[9]=n,e[10]=T,e[11]=W,e[12]=V):V=e[12];const J=p&&B&&!V;let H,Y;e[13]!==b||e[14]!==j||e[15]!==n.primaryConnector.actions_changed_since_review||e[16]!==n.primaryConnector.id||e[17]!==F||e[18]!==O||e[19]!==E?(Y=()=>{if(U.current||!E||!n.primaryConnector.actions_changed_since_review||j)return;U.current=!0;const ae=b.filter(Vd).map(qd);(async()=>(await Sn(n.primaryConnector.id,E,ae),O(),F(n.primaryConnector.id)))()},H=[b,j,n.primaryConnector.actions_changed_since_review,n.primaryConnector.id,F,O,E],e[13]=b,e[14]=j,e[15]=n.primaryConnector.actions_changed_since_review,e[16]=n.primaryConnector.id,e[17]=F,e[18]=O,e[19]=E,e[20]=H,e[21]=Y):(H=e[20],Y=e[21]),L.useEffect(Y,H);let Q;e[22]!==T?(Q=rt(T),e[22]=T,e[23]=Q):Q=e[23];const oe=Q;let $;e[24]!==_||e[25]!==N||e[26]!==C?($=async ae=>{N||A(_),await uo(ae),await C()},e[24]=_,e[25]=N,e[26]=C,e[27]=$):$=e[27];let G;e[28]!==n.primaryConnector.id||e[29]!==g?(G=()=>{g.invalidateQueries({queryKey:["connector-action-clamp",n.primaryConnector.id]})},e[28]=n.primaryConnector.id,e[29]=g,e[30]=G):G=e[30];let K;e[31]!==oe?(K=ae=>{oe.danger(X.refreshActionsError,{error:ae})},e[31]=oe,e[32]=K):K=e[32];let se;e[33]!==$||e[34]!==G||e[35]!==K?(se={mutationFn:$,onSuccess:G,onError:K},e[33]=$,e[34]=G,e[35]=K,e[36]=se):se=e[36];const Z=Ze(se);let ee;e[37]!==T?(ee=()=>Oa(T,{fetchValidLinksOnly:!0,productSku:bt.ADMIN_SETTING}),e[37]=T,e[38]=ee):ee=e[38];const{data:te}=rn(ee);let xe;e[39]!==n.primaryConnector.id||e[40]!==te?(xe=(He=te==null?void 0:te.get(n.primaryConnector.id))==null?void 0:He[0],e[39]=n.primaryConnector.id,e[40]=te,e[41]=xe):xe=e[41];const ce=xe,me=jo(n.primaryConnector);let de;e[42]!==f?(de=f.formatMessage(X.actionsControlModalTitle),e[42]=f,e[43]=de):de=e[43];let ye;e[44]!==D||e[45]!==b||e[46]!==j||e[47]!==n||e[48]!==J||e[49]!==v||e[50]!==me||e[51]!==ce||e[52]!==a||e[53]!==l||e[54]!==N||e[55]!==Z||e[56]!==m?(ye=j&&!Z.isPending?t.jsxs("div",{className:"space-y-4 overflow-y-auto p-4",children:[t.jsx("p",{className:"text-token-text-secondary pb-0 text-sm leading-5",children:t.jsx(k,Ce(S({},X.actionsDescription),{values:{link:Hd}}))}),t.jsx("ul",{className:"border-token-border-default rounded-2xl border",children:t.jsx(Ed,{})})]}):t.jsx(Ld,{app:n,actions:b,prevActions:N,deltas:D,initialEnabledActions:v,onCancel:a,onSubmit:l,refreshingActions:Z.isPending,submitting:m,refreshHidden:!me,onRefreshActions:me&&ce!==void 0?()=>{Z.mutate(ce.id)}:void 0,onOpenConstraints:J?ae=>y(ae):void 0}),e[44]=D,e[45]=b,e[46]=j,e[47]=n,e[48]=J,e[49]=v,e[50]=me,e[51]=ce,e[52]=a,e[53]=l,e[54]=N,e[55]=Z,e[56]=m,e[57]=ye):ye=e[57];let ve;e[58]!==o||e[59]!==u||e[60]!==de||e[61]!==ye?(ve=t.jsx(dt,{isOpen:!0,onClose:o,showOverlayBackground:u,testId:"modal-app-actions-control",title:de,size:"xlarge",hasSeparator:!0,noPadding:!0,contentClassName:"flex flex-col max-h-[80vh]",children:ye}),e[58]=o,e[59]=u,e[60]=de,e[61]=ye,e[62]=ve):ve=e[62];let _e;e[63]!==n||e[64]!==J||e[65]!==h?(_e=J&&h&&t.jsx(So,{app:n,onClose:()=>y(null),onBack:()=>y(null),showOverlayBackground:!0,initialSelectedAction:h}),e[63]=n,e[64]=J,e[65]=h,e[66]=_e):_e=e[66];let Ne;return e[67]!==ve||e[68]!==_e?(Ne=t.jsxs(t.Fragment,{children:[ve,_e]}),e[67]=ve,e[68]=_e,e[69]=Ne):Ne=e[69],Ne},Bd=s=>{"use forget";const e=q.c(29),{app:n,onClose:o}=s,a=pe(),l=Pe();let c;if(e[0]!==l){const v=mt(l);c=v==null?void 0:v.getWorkspaceId(),e[0]=l,e[1]=c}else c=e[1];const i=c;let r;e[2]!==l?(r=rt(l),e[2]=l,e[3]=r):r=e[3];const d=r,u=es(),m=an(),p=vo();let f;e[4]!==n||e[5]!==p||e[6]!==m||e[7]!==u||e[8]!==i?(f=async v=>{if(!i)throw new Error("Workspace ID is required to update app actions.");await Sn(n.primaryConnector.id,i,v),m(),p(n.primaryConnector.id),u.invalidateQueries({queryKey:["connector-actions",n.primaryConnector.id]})},e[4]=n,e[5]=p,e[6]=m,e[7]=u,e[8]=i,e[9]=f):f=e[9];let g;e[10]!==a||e[11]!==o||e[12]!==d?(g=()=>{d.success(a.formatMessage({id:"AW+VoO",defaultMessage:"App actions updated successfully."})),o()},e[10]=a,e[11]=o,e[12]=d,e[13]=g):g=e[13];let h;e[14]!==a||e[15]!==d?(h=()=>{d.danger(a.formatMessage({id:"IRGvbN",defaultMessage:"Failed to update app actions. Please try again."}))},e[14]=a,e[15]=d,e[16]=h):h=e[16];let y;e[17]!==f||e[18]!==g||e[19]!==h?(y={mutationFn:f,onSuccess:g,onError:h},e[17]=f,e[18]=g,e[19]=h,e[20]=y):y=e[20];const{mutateAsync:x,isPending:b}=Ze(y);let j;e[21]!==o||e[22]!==b?(j=()=>{b||o()},e[21]=o,e[22]=b,e[23]=j):j=e[23];const C=j;let w;return e[24]!==n||e[25]!==C||e[26]!==x||e[27]!==b?(w=t.jsx(yl,{app:n,onClose:C,onCancel:C,onConfirm:x,submitting:b}),e[24]=n,e[25]=C,e[26]=x,e[27]=b,e[28]=w):w=e[28],w},So=s=>{"use forget";var Bt,ft,Lt;const e=q.c(153),{app:n,onClose:o,onBack:a,showOverlayBackground:l,showBackButton:c,initialSelectedAction:i}=s,r=l===void 0?!0:l,d=c===void 0?!1:c,u=i===void 0?null:i,m=pe(),p=Pe(),f=mt(p),g=f==null?void 0:f.getWorkspaceId(),h=an(),y=L.useRef(!1),x=vo(),b=es();let j;e[0]!==p?(j=rt(p),e[0]=p,e[1]=j):j=e[1];const C=j;let w;e[2]===Symbol.for("react.memo_cache_sentinel")?(w={forceEnable:!0},e[2]=w):w=e[2];const{actions:v,isLoading:M,refetch:_}=xs(n.primaryConnector,bt.ADMIN_SETTING,w);let N;e[3]!==_?(N=async ne=>{await uo(ne),await _()},e[3]=_,e[4]=N):N=e[4];let A;e[5]!==n.primaryConnector.id||e[6]!==b?(A=()=>{b.invalidateQueries({queryKey:["connector-action-clamp",n.primaryConnector.id]})},e[5]=n.primaryConnector.id,e[6]=b,e[7]=A):A=e[7];let D;e[8]!==C?(D=ne=>{C.danger(X.refreshActionsError,{error:ne})},e[8]=C,e[9]=D):D=e[9];let T;e[10]!==N||e[11]!==A||e[12]!==D?(T={mutationFn:N,onSuccess:A,onError:D},e[10]=N,e[11]=A,e[12]=D,e[13]=T):T=e[13];const R=Ze(T);let E;e[14]!==p?(E=()=>Oa(p,{fetchValidLinksOnly:!0,productSku:bt.ADMIN_SETTING}),e[14]=p,e[15]=E):E=e[15];const{data:O}=rn(E);let F;e[16]!==n.primaryConnector.id||e[17]!==O?(F=(Bt=O==null?void 0:O.get(n.primaryConnector.id))==null?void 0:Bt[0],e[16]=n.primaryConnector.id,e[17]=O,e[18]=F):F=e[18];const U=F,P=jo(n.primaryConnector),B=f==null?void 0:f.isSelfServeBusiness();let W,V;e[19]!==v||e[20]!==M||e[21]!==n.primaryConnector.actions_changed_since_review||e[22]!==n.primaryConnector.id||e[23]!==x||e[24]!==h||e[25]!==g?(W=()=>{if(y.current||!g||!n.primaryConnector.actions_changed_since_review||M)return;y.current=!0;const ne=v.filter(Kd).map(Qd);(async()=>(await Sn(n.primaryConnector.id,g,ne),h(),x(n.primaryConnector.id)))()},V=[v,M,n.primaryConnector.actions_changed_since_review,n.primaryConnector.id,x,h,g],e[19]=v,e[20]=M,e[21]=n.primaryConnector.actions_changed_since_review,e[22]=n.primaryConnector.id,e[23]=x,e[24]=h,e[25]=g,e[26]=W,e[27]=V):(W=e[26],V=e[27]),L.useEffect(W,V);const[I,J]=L.useState(u!=null?u:null),H=u!==null;let Y;e[28]!==I?(Y=I?oo(I):null,e[28]=I,e[29]=Y):Y=e[29];const Q=Y;let oe,$;e[30]!==u?(oe=()=>{J(u!=null?u:null)},$=[u],e[30]=u,e[31]=oe,e[32]=$):(oe=e[31],$=e[32]),L.useEffect(oe,$);let G,K;e[33]!==H||e[34]!==a||e[35]!==I?(G=()=>{H&&I===null&&a()},K=[H,a,I],e[33]=H,e[34]=a,e[35]=I,e[36]=G,e[37]=K):(G=e[36],K=e[37]),L.useEffect(G,K);let se,Z;e[38]!==v||e[39]!==I||e[40]!==Q?(se=()=>{if(!I)return;const ne=v.find(z=>z.name===I.name);if(!ne){J(null);return}oo(ne)!==Q&&J(ne)},Z=[v,I,Q],e[38]=v,e[39]=I,e[40]=Q,e[41]=se,e[42]=Z):(se=e[41],Z=e[42]),L.useEffect(se,Z);const ee=I==null?void 0:I.name;let te;e[43]!==n.primaryConnector.id||e[44]!==Q||e[45]!==ee?(te=["connector-action-clamp",n.primaryConnector.id,ee,Q],e[43]=n.primaryConnector.id,e[44]=Q,e[45]=ee,e[46]=te):te=e[46];const xe=!!(I!=null&&I.name);let ce;e[47]!==n.primaryConnector.id||e[48]!==I?(ce=async()=>{if(!(I!=null&&I.name))throw new Error("Missing action name");return await vt.safeGet("/aip/connectors/{connector_id}/actions/{action_name}/clamp",{parameters:{path:{connector_id:n.primaryConnector.id,action_name:I.name}},additionalHeaders:{[Jn]:bt.ADMIN_SETTING}})},e[47]=n.primaryConnector.id,e[48]=I,e[49]=ce):ce=e[49];let me;e[50]!==te||e[51]!==xe||e[52]!==ce?(me={queryKey:te,enabled:xe,queryFn:ce},e[50]=te,e[51]=xe,e[52]=ce,e[53]=me):me=e[53];const{data:de,isLoading:ye,error:ve}=io(me),_e=Yd;let Ne;e[54]!==de||e[55]!==I?(Ne=ne=>{var st;if(!(de!=null&&de.workspace_param_schema_override))return!1;const z=(st=de.default_params_schema)!=null?st:$e(I==null?void 0:I.params)?I.params:void 0,ke=_e(de.workspace_param_schema_override,ne);if(ke===void 0)return!1;const ge=_e(z,ne);return ke===void 0&&ge===void 0?!1:!Mr(ke!=null?ke:null,ge!=null?ge:null)},e[54]=de,e[55]=I,e[56]=Ne):Ne=e[56];const He=Ne;let ae;e:{let ne;e[57]!==(I==null?void 0:I.params)?(ne=$e(I==null?void 0:I.params)?I==null?void 0:I.params:void 0,e[57]=I==null?void 0:I.params,e[58]=ne):ne=e[58];const z=ne,ke=(Lt=(ft=de==null?void 0:de.default_params_schema)!=null?ft:z)!=null?Lt:de==null?void 0:de.workspace_param_schema_override;if(!$e(ke)){ae=void 0;break e}if(de!=null&&de.workspace_param_schema_override&&$e(de.workspace_param_schema_override)){let ge;if(e[59]!==ke||e[60]!==de.workspace_param_schema_override){if(ge=Rd(ke,de.workspace_param_schema_override),$e(ke.properties)&&$e(ge.properties)){const st={};for(const it of Object.keys(ke.properties))ge.properties[it]!==void 0&&(st[it]=ge.properties[it]);ge.properties=st}e[59]=ke,e[60]=de.workspace_param_schema_override,e[61]=ge}else ge=e[61];ae=ge;break e}ae=ke}const Ie=ae;let Le;e:{if(!Ie||!$e(Ie.properties)){let z,ke;e[62]===Symbol.for("react.memo_cache_sentinel")?(z=[],ke=[],e[62]=z,e[63]=ke):(z=e[62],ke=e[63]);let ge;e[64]===Symbol.for("react.memo_cache_sentinel")?(ge={parameterEntries:z,parameterTree:ke},e[64]=ge):ge=e[64],Le=ge;break e}let ne;e[65]!==Ie?(ne=Id(Ie),e[65]=Ie,e[66]=ne):ne=e[66],Le=ne}const{parameterEntries:we,parameterTree:Ke}=Le,Ee=Xd,Te=Jd,xt=Zd;let fe;e[67]===Symbol.for("react.memo_cache_sentinel")?(fe=ne=>Te(ne,"regex")||Te(ne,"minimum")||Te(ne,"maximum")||Te(ne,"boolean_value")||Te(ne,"min_items")||Te(ne,"max_items")||Te(ne,"min_properties")||Te(ne,"max_properties"),e[67]=fe):fe=e[67];const ie=fe;let he;if(e[68]===Symbol.for("react.memo_cache_sentinel")){const ne=z=>$e(z.items)?ie(z.items):!1;he=z=>!ie(z)&&!ne(z),e[68]=he}else he=e[68];const Se=he;function Me(ne){var Ro,Io,Eo,Po,Lo,Bo,Oo,Fo,$o,zo,Uo,Wo,Go,Vo,qo,Ho,Ko,Qo,Yo,Xo,Jo;const{entry:z,children:ke}=ne,ge=z.name.replace(/[^a-zA-Z0-9_-]/g,"-"),st=He(z.name),it=z.types.length>0?z.types.map(qe=>qe==="array"&&z.itemTypes.length>0?"".concat(qe,"<").concat(z.itemTypes.join(" | "),">"):qe).join(" | "):m.formatMessage(X.parameterTypeUnknown),Tt=(Ro=Ue[z.name])!=null?Ro:"",ns=ya(Tt),Ot=(Io=jt[z.name])!=null?Io:{min:"",max:""},os=(Eo=Ot.min)!=null?Eo:"",ws=(Po=Ot.max)!=null?Po:"",Ps=os.trim(),pn=ws.trim(),xn=Ps===""?void 0:Number(Ps),gn=pn===""?void 0:Number(pn),Tl=Ps!==""||pn!=="";let Vs=null;Ps!==""&&Number.isNaN(xn)||pn!==""&&Number.isNaN(gn)?Vs=m.formatMessage(X.rangeNumberInvalid):xn!==void 0&&gn!==void 0&&xn>gn&&(Vs=m.formatMessage(X.rangeMinGtMax));const Dl=z.minimum===void 0&&z.maximum===void 0?m.formatMessage(X.rangeNone):"".concat((Lo=z.minimum)!=null?Lo:m.formatMessage(X.rangeUnbounded)," to ").concat((Bo=z.maximum)!=null?Bo:m.formatMessage(X.rangeUnbounded)),Ao=(Oo=wt[z.name])!=null?Oo:{min:"",max:""},On=(Fo=Ao.min)!=null?Fo:"",Fn=($o=Ao.max)!=null?$o:"",hn=On.trim(),bn=Fn.trim(),qs=hn===""?void 0:Number(hn),Hs=bn===""?void 0:Number(bn),Rl=hn!==""||bn!=="";let Ks=null;hn!==""&&(Number.isNaN(qs)||!Number.isInteger(qs))||bn!==""&&(Number.isNaN(Hs)||!Number.isInteger(Hs))?Ks=m.formatMessage(X.arrayNumberInvalid):qs!==void 0&&Hs!==void 0&&qs>Hs&&(Ks=m.formatMessage(X.arrayMinGtMax));const Il=z.minItems===void 0&&z.maxItems===void 0?m.formatMessage(X.arrayNone):"".concat((zo=z.minItems)!=null?zo:m.formatMessage(X.arrayUnbounded)," to ").concat((Uo=z.maxItems)!=null?Uo:m.formatMessage(X.arrayUnbounded)," items"),$n=(Wo=lt[z.name])!=null?Wo:"",To=ya($n),Do=(Go=Is[z.name])!=null?Go:{min:"",max:""},zn=(Vo=Do.min)!=null?Vo:"",Un=(qo=Do.max)!=null?qo:"",yn=zn.trim(),jn=Un.trim(),Cn=yn===""?void 0:Number(yn),vn=jn===""?void 0:Number(jn),El=yn!==""||jn!=="";let Wn=null;yn!==""&&Number.isNaN(Cn)||jn!==""&&Number.isNaN(vn)?Wn=m.formatMessage(X.rangeNumberInvalid):Cn!==void 0&&vn!==void 0&&Cn>vn&&(Wn=m.formatMessage(X.rangeMinGtMax));const Ls=(Ho=ys[z.name])!=null?Ho:z.itemBooleanClamp===!0?"true":z.itemBooleanClamp===!1?"false":"any",Pl=z.itemBooleanClamp===void 0?m.formatMessage(X.booleanValueAny):z.itemBooleanClamp?m.formatMessage(X.booleanValueTrue):m.formatMessage(X.booleanValueFalse),Ll=Ls==="true"?!0:Ls==="false"?!1:null,Bl=z.itemBooleanClamp===void 0&&Ls!=="any"||z.itemBooleanClamp===!0&&Ls!=="true"||z.itemBooleanClamp===!1&&Ls!=="false",ks=(Ko=vs[z.name])!=null?Ko:z.booleanClamp===!0?"true":z.booleanClamp===!1?"false":"any",Ol=z.booleanClamp===void 0?m.formatMessage(X.booleanValueAny):z.booleanClamp?m.formatMessage(X.booleanValueTrue):m.formatMessage(X.booleanValueFalse),Fl=ks==="true"?!0:ks==="false"?!1:null,$l=z.booleanClamp===void 0&&ks!=="any"||z.booleanClamp===!0&&ks!=="true"||z.booleanClamp===!1&&ks!=="false",zl=z.booleanClamp!==void 0,Ul=z.pattern!==void 0&&z.pattern!=="",Wl=z.minimum!==void 0||z.maximum!==void 0,Gl=z.minItems!==void 0||z.maxItems!==void 0,Vl=z.itemPattern!==void 0&&z.itemPattern!=="",ql=z.itemMinimum!==void 0||z.itemMaximum!==void 0,Hl=z.itemBooleanClamp!==void 0,Kl=Vl||ql||Hl,Ql=m.formatMessage(X.itemRegexCurrentValue,{pattern:(Qo=z.itemPattern)!=null?Qo:m.formatMessage(X.regexPatternNone)}),Yl=m.formatMessage(X.itemRegexInputLabel),Xl=m.formatMessage(X.regexInputPlaceholder),Jl=To?m.formatMessage(X.invalidRegex,{error:To}):null,Zl=m.formatMessage(X.saveItemRegex),ei=m.formatMessage(X.itemRangeCurrentValue,{range:z.itemMinimum===void 0&&z.itemMaximum===void 0?m.formatMessage(X.rangeNone):"".concat((Yo=z.itemMinimum)!=null?Yo:m.formatMessage(X.rangeUnbounded)," to ").concat((Xo=z.itemMaximum)!=null?Xo:m.formatMessage(X.rangeUnbounded))}),ti=m.formatMessage(X.rangeMinInputLabel),si=m.formatMessage(X.rangeMaxInputLabel),ni=m.formatMessage(X.rangeMinPlaceholder),oi=m.formatMessage(X.rangeMaxPlaceholder),ai=m.formatMessage(X.saveItemRange),li=m.formatMessage(X.itemBooleanCurrentValue,{value:Pl}),ii=m.formatMessage(X.booleanValueAny),ri=m.formatMessage(X.booleanValueTrue),ci=m.formatMessage(X.booleanValueFalse),di=m.formatMessage(X.saveItemBoolean),kt=Xe.isPending?xt(Xe.variables,z.name):null,Ss=kt&&$e(kt.items)?kt.items:null,_s=Xe.isPending&&kt!==null,mi=_s&&kt!==null&&Te(kt,"regex"),ui=_s&&kt!==null&&Se(kt),fi=_s&&kt!==null&&(Te(kt,"minimum")||Te(kt,"maximum")),pi=_s&&kt!==null&&Te(kt,"boolean_value"),xi=_s&&kt!==null&&(Te(kt,"min_items")||Te(kt,"max_items")),gi=_s&&Ss!==null&&Te(Ss,"regex"),hi=_s&&Ss!==null&&(Te(Ss,"minimum")||Te(Ss,"maximum")),bi=_s&&Ss!==null&&Te(Ss,"boolean_value"),yi=[{key:"regex",enabled:z.itemSupportsRegex,content:t.jsx(Ad,{entryId:ge,currentValueLabel:Ql,inputLabel:Yl,inputPlaceholder:Xl,itemRegexValue:$n,errorText:Jl,saveLabel:Zl,onRegexChange:qe=>ht(Ct=>Ce(S({},Ct),{[z.name]:qe})),onSave:()=>Xe.mutate(Ee(z.name,{items:{regex:$n}})),isSaving:gi,isPending:Xe.isPending})},{key:"range",enabled:z.itemSupportsRange,content:t.jsx(Td,{currentValueLabel:ei,minInputLabel:ti,maxInputLabel:si,minPlaceholder:ni,maxPlaceholder:oi,itemMinInput:zn,itemMaxInput:Un,itemRangeError:Wn,itemHasRangeInput:El,saveLabel:ai,onMinChange:qe=>ss(Ct=>Ce(S({},Ct),{[z.name]:{min:qe,max:Un}})),onMaxChange:qe=>ss(Ct=>Ce(S({},Ct),{[z.name]:{min:zn,max:qe}})),onSave:()=>Xe.mutate(Ee(z.name,{items:{minimum:Cn,maximum:vn}})),isSaving:hi,isPending:Xe.isPending})},{key:"boolean",enabled:z.itemSupportsBoolean,content:t.jsx(Dd,{entryId:ge,currentValueLabel:li,optionAnyLabel:ii,optionTrueLabel:ri,optionFalseLabel:ci,saveLabel:di,itemBooleanDraft:Ls,onBooleanChange:qe=>ds(Ct=>Ce(S({},Ct),{[z.name]:qe})),itemHasBooleanChange:Bl,onSave:()=>Xe.mutate(Ee(z.name,{items:{boolean_value:Ll}})),isSaving:bi,isPending:Xe.isPending})}];return t.jsxs("li",{className:"border-token-border-default rounded-lg border p-3",children:[t.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[t.jsx("span",{className:"font-mono text-sm font-semibold",children:z.displayName}),st&&t.jsx(cs,{label:t.jsx(k,S({},X.parameterOverrideTooltip)),children:t.jsx("span",{className:"text-green-600",children:t.jsx(mo,{className:"h-4 w-4","aria-hidden":!0})})}),t.jsx("span",{className:"bg-token-bg-tertiary text-token-text-secondary rounded-md px-2 py-0.5 text-[11px] font-medium tracking-wide uppercase",children:t.jsx(k,Ce(S({},X.parameterTypeLabel),{values:{type:it}}))}),z.format&&t.jsx("span",{className:"border-token-border-default text-token-text-secondary rounded-md border px-2 py-0.5 text-[11px] font-medium tracking-wide uppercase",children:t.jsx(k,Ce(S({},X.parameterFormatLabel),{values:{format:z.format}}))}),z.required&&t.jsx("span",{className:"bg-token-bg-accent text-token-text-primary/90 rounded-md px-2 py-0.5 text-[11px] font-semibold tracking-wide uppercase",children:t.jsx(k,S({},X.parameterRequired))})]}),z.description&&t.jsx("p",{className:"text-token-text-tertiary mt-2 text-xs",children:z.description}),z.missingObjectSchema&&t.jsx("p",{className:"text-token-text-tertiary mt-2 text-xs font-medium",children:t.jsx(k,S({},X.missingObjectSchemaWarning))}),z.missingItemObjectSchema&&t.jsx("p",{className:"text-token-text-tertiary mt-2 text-xs font-medium",children:t.jsx(k,S({},X.missingArrayObjectSchemaWarning))}),z.supportsBoolean&&t.jsxs("details",{className:"group border-token-border-default mt-3 rounded-md border border-dashed",open:zl,children:[t.jsx("summary",{className:"text-token-text-secondary group-open:text-token-text-primary cursor-pointer list-none px-3 py-2 text-xs font-medium tracking-wide uppercase transition",children:t.jsx("span",{children:t.jsx(k,S({},X.booleanDropdownLabel))})}),t.jsxs("div",{className:"border-token-border-default border-t px-3 py-2",children:[t.jsx("p",{className:"text-token-text-tertiary mb-2 text-xs",children:t.jsx(k,Ce(S({},X.booleanCurrentValue),{values:{value:Ol}}))}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("label",{className:"text-token-text-secondary flex items-center gap-2 text-xs font-medium",children:[t.jsx("input",{type:"radio",name:"boolean-".concat(ge),value:"any",checked:ks==="any",onChange:()=>Kt(qe=>Ce(S({},qe),{[z.name]:"any"}))}),t.jsx("span",{children:t.jsx(k,S({},X.booleanValueAny))})]}),t.jsxs("label",{className:"text-token-text-secondary flex items-center gap-2 text-xs font-medium",children:[t.jsx("input",{type:"radio",name:"boolean-".concat(ge),value:"true",checked:ks==="true",onChange:()=>Kt(qe=>Ce(S({},qe),{[z.name]:"true"}))}),t.jsx("span",{children:t.jsx(k,S({},X.booleanValueTrue))})]}),t.jsxs("label",{className:"text-token-text-secondary flex items-center gap-2 text-xs font-medium",children:[t.jsx("input",{type:"radio",name:"boolean-".concat(ge),value:"false",checked:ks==="false",onChange:()=>Kt(qe=>Ce(S({},qe),{[z.name]:"false"}))}),t.jsx("span",{children:t.jsx(k,S({},X.booleanValueFalse))})]})]}),t.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[t.jsx(re,{size:"small",onClick:()=>{Xe.mutate(Ee(z.name,{boolean_value:Fl}))},disabled:!$l||Xe.isPending,loading:pi,children:t.jsx(k,S({},X.saveBoolean))}),t.jsx("span",{className:"text-token-text-tertiary text-xs",children:t.jsx(k,S({},X.booleanHelper))})]})]})]}),z.supportsRegex&&t.jsxs("details",{className:"group border-token-border-default mt-3 rounded-md border border-dashed",open:Ul,children:[t.jsx("summary",{className:"text-token-text-secondary group-open:text-token-text-primary cursor-pointer list-none px-3 py-2 text-xs font-medium tracking-wide uppercase transition",children:t.jsx("span",{children:t.jsx(k,S({},X.regexDropdownLabel))})}),t.jsxs("div",{className:"border-token-border-default border-t px-3 py-2",children:[t.jsx("p",{className:"text-token-text-tertiary mb-2 text-xs",children:t.jsx(k,Ce(S({},X.regexCurrentValue),{values:{pattern:(Jo=z.pattern)!=null?Jo:m.formatMessage(X.regexPatternNone)}}))}),t.jsx("label",{htmlFor:"regex-".concat(ge),className:"text-token-text-secondary mb-1 block text-xs font-medium",children:t.jsx(k,S({},X.regexInputLabel))}),t.jsx("input",{id:"regex-".concat(ge),name:"regex-".concat(ge),type:"text",className:"border-token-border-default text-token-text-primary w-full rounded-md border bg-transparent px-2 py-1 text-sm",value:Tt,onChange:qe=>et(Ct=>Ce(S({},Ct),{[z.name]:qe.target.value})),placeholder:m.formatMessage(X.regexInputPlaceholder)}),ns&&t.jsx("p",{className:"text-xs text-red-500",children:m.formatMessage(X.invalidRegex,{error:ns})}),t.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[t.jsx(re,{size:"small",onClick:()=>{Xe.mutate(Ee(z.name,{regex:Tt}))},disabled:!Tt||!!ns||Xe.isPending,loading:mi,children:t.jsx(k,S({},X.saveRegex))}),t.jsx(re,{size:"small",color:"secondary",onClick:()=>{et(qe=>Ce(S({},qe),{[z.name]:""})),Xe.mutate(Ee(z.name,{}))},disabled:Xe.isPending,loading:ui,children:t.jsx(k,S({},X.resetClamp))}),t.jsx("span",{className:"text-token-text-tertiary text-xs",children:t.jsx(k,S({},X.regexOnlyNote))})]})]})]}),z.supportsRange&&t.jsxs("details",{className:"group border-token-border-default mt-3 rounded-md border border-dashed",open:Wl,children:[t.jsx("summary",{className:"text-token-text-secondary group-open:text-token-text-primary cursor-pointer list-none px-3 py-2 text-xs font-medium tracking-wide uppercase transition",children:t.jsx("span",{children:t.jsx(k,S({},X.rangeDropdownLabel))})}),t.jsxs("div",{className:"border-token-border-default border-t px-3 py-2",children:[t.jsx("p",{className:"text-token-text-tertiary mb-2 text-xs",children:t.jsx(k,Ce(S({},X.rangeCurrentValue),{values:{range:Dl}}))}),t.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[t.jsxs("label",{className:"text-token-text-secondary text-xs font-medium",children:[t.jsx("span",{className:"mb-1 block",children:t.jsx(k,S({},X.rangeMinInputLabel))}),t.jsx("input",{type:"number",inputMode:"decimal",step:z.isInteger?1:"any",className:"border-token-border-default text-token-text-primary w-full rounded-md border bg-transparent px-2 py-1 text-sm",value:os,onChange:qe=>ct(Ct=>Ce(S({},Ct),{[z.name]:{min:qe.target.value,max:ws}})),placeholder:m.formatMessage(X.rangeMinPlaceholder)})]}),t.jsxs("label",{className:"text-token-text-secondary text-xs font-medium",children:[t.jsx("span",{className:"mb-1 block",children:t.jsx(k,S({},X.rangeMaxInputLabel))}),t.jsx("input",{type:"number",inputMode:"decimal",step:z.isInteger?1:"any",className:"border-token-border-default text-token-text-primary w-full rounded-md border bg-transparent px-2 py-1 text-sm",value:ws,onChange:qe=>ct(Ct=>Ce(S({},Ct),{[z.name]:{min:os,max:qe.target.value}})),placeholder:m.formatMessage(X.rangeMaxPlaceholder)})]})]}),t.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[t.jsx(re,{size:"small",onClick:()=>{Xe.mutate(Ee(z.name,{minimum:xn,maximum:gn}))},disabled:!Tl||!!Vs||Xe.isPending,loading:fi,children:t.jsx(k,S({},X.saveRange))}),t.jsx("span",{className:"text-token-text-tertiary text-xs",children:t.jsx(k,S({},X.rangeOnlyNote))})]}),Vs&&t.jsx("p",{className:"text-xs text-red-500",children:Vs})]})]}),z.supportsArray&&t.jsxs("details",{className:"group border-token-border-default mt-3 rounded-md border border-dashed",open:Gl,children:[t.jsx("summary",{className:"text-token-text-secondary group-open:text-token-text-primary cursor-pointer list-none px-3 py-2 text-xs font-medium tracking-wide uppercase transition",children:t.jsx("span",{children:t.jsx(k,S({},X.arrayDropdownLabel))})}),t.jsxs("div",{className:"border-token-border-default border-t px-3 py-2",children:[t.jsx("p",{className:"text-token-text-tertiary mb-2 text-xs",children:t.jsx(k,Ce(S({},X.arrayCurrentValue),{values:{range:Il}}))}),t.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[t.jsxs("label",{className:"text-token-text-secondary text-xs font-medium",children:[t.jsx("span",{className:"mb-1 block",children:t.jsx(k,S({},X.arrayMinInputLabel))}),t.jsx("input",{type:"number",inputMode:"numeric",step:1,className:"border-token-border-default text-token-text-primary w-full rounded-md border bg-transparent px-2 py-1 text-sm",value:On,onChange:qe=>Ae(Ct=>Ce(S({},Ct),{[z.name]:{min:qe.target.value,max:Fn}})),placeholder:m.formatMessage(X.arrayMinPlaceholder)})]}),t.jsxs("label",{className:"text-token-text-secondary text-xs font-medium",children:[t.jsx("span",{className:"mb-1 block",children:t.jsx(k,S({},X.arrayMaxInputLabel))}),t.jsx("input",{type:"number",inputMode:"numeric",step:1,className:"border-token-border-default text-token-text-primary w-full rounded-md border bg-transparent px-2 py-1 text-sm",value:Fn,onChange:qe=>Ae(Ct=>Ce(S({},Ct),{[z.name]:{min:On,max:qe.target.value}})),placeholder:m.formatMessage(X.arrayMaxPlaceholder)})]})]}),t.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[t.jsx(re,{size:"small",onClick:()=>{Xe.mutate(Ee(z.name,{min_items:qs,max_items:Hs}))},disabled:!Rl||!!Ks||Xe.isPending,loading:xi,children:t.jsx(k,S({},X.saveArray))}),t.jsx("span",{className:"text-token-text-tertiary text-xs",children:t.jsx(k,S({},X.arrayOnlyNote))})]}),Ks&&t.jsx("p",{className:"text-xs text-red-500",children:Ks})]})]}),z.supportsArray&&z.itemsSchemaPresent&&(z.itemSupportsRegex||z.itemSupportsRange||z.itemSupportsBoolean)&&t.jsxs("details",{className:"group border-token-border-default mt-3 rounded-md border border-dashed",open:Kl,children:[t.jsx("summary",{className:"text-token-text-secondary group-open:text-token-text-primary cursor-pointer list-none px-3 py-2 text-xs font-medium tracking-wide uppercase transition",children:t.jsx("span",{children:t.jsx(k,S({},X.itemDropdownLabel))})}),t.jsx("div",{className:"border-token-border-default space-y-3 border-t px-3 py-2",children:yi.filter(em).map(tm)})]}),ke.length>0&&t.jsx("ul",{className:"border-token-border-default mt-3 space-y-2 border-s border-dashed ps-3",children:ke.map(qe=>Me(qe))})]},z.name)}let Fe;e[69]===Symbol.for("react.memo_cache_sentinel")?(Fe={},e[69]=Fe):Fe=e[69];const[ze,tt]=L.useState(Fe),Ue=ze,et=tt;let ut;e[70]!==we?(ut=[we],e[70]=we,e[71]=ut):ut=e[71],L.useEffect(()=>{const ne={};we.forEach(z=>{var ke;z.supportsRegex&&(ne[z.name]=(ke=z.pattern)!=null?ke:"")}),et(ne)},ut);let je;e[72]===Symbol.for("react.memo_cache_sentinel")?(je={},e[72]=je):je=e[72];const[ot,yt]=L.useState(je),jt=ot,ct=yt;let Je;e[73]!==we?(Je=[we],e[73]=we,e[74]=Je):Je=e[74],L.useEffect(()=>{const ne={};we.forEach(z=>{var ke,ge,st,it;z.supportsRange&&(ne[z.name]={min:(ge=(ke=z.minimum)==null?void 0:ke.toString())!=null?ge:"",max:(it=(st=z.maximum)==null?void 0:st.toString())!=null?it:""})}),ct(ne)},Je);let gt;e[75]===Symbol.for("react.memo_cache_sentinel")?(gt={},e[75]=gt):gt=e[75];const[Rt,Wt]=L.useState(gt),wt=Rt,Ae=Wt;let Re;e[76]!==we?(Re=[we],e[76]=we,e[77]=Re):Re=e[77],L.useEffect(()=>{const ne={};we.forEach(z=>{var ke,ge,st,it;z.supportsArray&&(ne[z.name]={min:(ge=(ke=z.minItems)==null?void 0:ke.toString())!=null?ge:"",max:(it=(st=z.maxItems)==null?void 0:st.toString())!=null?it:""})}),Ae(ne)},Re);let De;e[78]===Symbol.for("react.memo_cache_sentinel")?(De={},e[78]=De):De=e[78];const[We,at]=L.useState(De),lt=We,ht=at;let Gt;e[79]===Symbol.for("react.memo_cache_sentinel")?(Gt={},e[79]=Gt):Gt=e[79];const[gs,Vt]=L.useState(Gt),Is=gs,ss=Vt;let qt;e[80]===Symbol.for("react.memo_cache_sentinel")?(qt={},e[80]=qt):qt=e[80];const[hs,bs]=L.useState(qt),ys=hs,ds=bs;let js;e[81]!==we?(js=[we],e[81]=we,e[82]=js):js=e[82],L.useEffect(()=>{const ne={},z={},ke={};we.forEach(ge=>{var st,it,Tt,ns,Ot;ge.supportsArray&&ge.itemSupportsRegex&&(ne[ge.name]=(st=ge.itemPattern)!=null?st:""),ge.supportsArray&&ge.itemSupportsRange&&(z[ge.name]={min:(Tt=(it=ge.itemMinimum)==null?void 0:it.toString())!=null?Tt:"",max:(Ot=(ns=ge.itemMaximum)==null?void 0:ns.toString())!=null?Ot:""}),ge.supportsArray&&ge.itemSupportsBoolean&&(ge.itemBooleanClamp===!0?ke[ge.name]="true":ge.itemBooleanClamp===!1?ke[ge.name]="false":ke[ge.name]="any")}),ht(ne),ss(z),ds(ke)},js);let Ht;e[83]===Symbol.for("react.memo_cache_sentinel")?(Ht={},e[83]=Ht):Ht=e[83];const[Es,Cs]=L.useState(Ht),vs=Es,Kt=Cs;let Qt;e[84]!==we?(Qt=[we],e[84]=we,e[85]=Qt):Qt=e[85],L.useEffect(()=>{const ne={};we.forEach(z=>{z.supportsBoolean&&(z.booleanClamp===!0?ne[z.name]="true":z.booleanClamp===!1?ne[z.name]="false":ne[z.name]="any")}),Kt(ne)},Qt);let It;e[86]!==n||e[87]!==I?(It=async ne=>{if(!(I!=null&&I.name))throw new Error("No action selected");return await vt.safePost("/aip/connectors/{connector_id}/actions/{action_name}/clamp",{parameters:{path:{connector_id:n.primaryConnector.id,action_name:I.name}},requestBody:{parameter:ne.parameter,regex:ne.regex,minimum:ne.minimum,maximum:ne.maximum,boolean_value:ne.boolean_value,min_items:ne.min_items,max_items:ne.max_items,min_properties:ne.min_properties,max_properties:ne.max_properties,items:ne.items,properties:ne.properties},additionalHeaders:{[Jn]:bt.ADMIN_SETTING}})},e[86]=n,e[87]=I,e[88]=It):It=e[88];let Et;e[89]!==n||e[90]!==m||e[91]!==b||e[92]!==I||e[93]!==C?(Et=()=>{C.success(m.formatMessage(X.saveClampSuccess)),I!=null&&I.name?b.invalidateQueries({queryKey:["connector-action-clamp",n.primaryConnector.id,I.name]}):b.invalidateQueries({queryKey:["connector-action-clamp"]})},e[89]=n,e[90]=m,e[91]=b,e[92]=I,e[93]=C,e[94]=Et):Et=e[94];let Pt;e[95]!==m||e[96]!==C?(Pt=ne=>{C.danger(m.formatMessage(X.saveClampError),{error:ne})},e[95]=m,e[96]=C,e[97]=Pt):Pt=e[97];let Yt;e[98]!==It||e[99]!==Et||e[100]!==Pt?(Yt={mutationFn:It,onSuccess:Et,onError:Pt},e[98]=It,e[99]=Et,e[100]=Pt,e[101]=Yt):Yt=e[101];const Xe=Ze(Yt);if(I){let ne;e[102]!==o?(ne=()=>{J(null),o()},e[102]=o,e[103]=ne):ne=e[103];let z;e[104]!==H||e[105]!==a?(z=()=>{if(H){a();return}J(null)},e[104]=H,e[105]=a,e[106]=z):z=e[106];let ke;e[107]!==m||e[108]!==I.name?(ke=m.formatMessage(X.actionPlaceholderTitle,{actionName:I.name}),e[107]=m,e[108]=I.name,e[109]=ke):ke=e[109];let ge;e[110]!==I.name?(ge=t.jsx("span",{className:"font-mono text-base font-semibold tracking-wide uppercase",children:I.name}),e[110]=I.name,e[111]=ge):ge=e[111];let st;e[112]!==ye?(st=ye&&t.jsx("span",{className:"text-token-text-tertiary text-xs",children:t.jsx(k,S({},X.loadingClamp))}),e[112]=ye,e[113]=st):st=e[113];let it;e[114]!==ge||e[115]!==st?(it=t.jsxs("div",{className:"flex items-center gap-2",children:[ge,st]}),e[114]=ge,e[115]=st,e[116]=it):it=e[116];let Tt;e[117]!==ve?(Tt=ve&&t.jsx("p",{className:"text-token-text-tertiary text-xs",children:t.jsx(k,S({},X.clampLoadError))}),e[117]=ve,e[118]=Tt):Tt=e[118];const ns=we.length>0&&t.jsxs("div",{className:"space-y-2",children:[t.jsx("h4",{className:"text-sm font-medium",children:t.jsx(k,S({},X.parametersHeading))}),t.jsx("ul",{className:"space-y-2",children:Ke.map(Ps=>Me(Ps))})]});let Ot;e[119]!==we.length?(Ot=we.length===0&&t.jsx("p",{className:"text-token-text-tertiary text-xs",children:t.jsx(k,S({},X.noParametersDefined))}),e[119]=we.length,e[120]=Ot):Ot=e[120];let os;e[121]!==it||e[122]!==Tt||e[123]!==ns||e[124]!==Ot?(os=t.jsxs("div",{className:"space-y-4 p-4",children:[it,Tt,ns,Ot]}),e[121]=it,e[122]=Tt,e[123]=ns,e[124]=Ot,e[125]=os):os=e[125];let ws;return e[126]!==r||e[127]!==ne||e[128]!==z||e[129]!==ke||e[130]!==os?(ws=t.jsx(dt,{isOpen:!0,onClose:ne,onBack:z,title:ke,size:"xlarge",showCloseButton:!0,showBackButton:!0,testId:"modal-app-action-placeholder",hasSeparator:!0,className:"max-h-[600px]",showOverlayBackground:r,children:os}),e[126]=r,e[127]=ne,e[128]=z,e[129]=ke,e[130]=os,e[131]=ws):ws=e[131],ws}let Xt;e[132]!==m?(Xt=m.formatMessage(X.actionDetailsTitle),e[132]=m,e[133]=Xt):Xt=e[133];let ms;e[134]!==n.primaryConnector.distribution_channel||e[135]!==P||e[136]!==m||e[137]!==(U==null?void 0:U.id)||e[138]!==R||e[139]!==B?(ms=(n.primaryConnector.distribution_channel==="TENANT_CATALOG"||n.primaryConnector.distribution_channel==="INDIVIDUAL")&&t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"text-token-text-secondary text-sm leading-5 text-pretty",children:t.jsx(k,Ce(S({},X.actionsDescription),{values:{link:sm}}))}),B&&t.jsx(cs,{label:U!=null&&U.id?void 0:m.formatMessage(X.needLink),children:t.jsx(re,{onClick:()=>{var ne;return R.mutate((ne=U==null?void 0:U.id)!=null?ne:"")},disabled:!P||!(U!=null&&U.id),size:"small",color:"secondary",loading:R.isPending,children:t.jsx(k,S({},X.refreshLabel))})})]}),e[134]=n.primaryConnector.distribution_channel,e[135]=P,e[136]=m,e[137]=U==null?void 0:U.id,e[138]=R,e[139]=B,e[140]=ms):ms=e[140];let us;e[141]!==v?(us=v.length===0?t.jsx("p",{className:"text-token-text-tertiary text-xs italic",children:t.jsx(k,S({},X.noActionsLabel))}):t.jsx("div",{className:"space-y-6",children:v.map(nm)}),e[141]=v,e[142]=us):us=e[142];let le;e[143]!==ms||e[144]!==us?(le=t.jsxs("div",{className:"space-y-6 p-2",children:[ms,us]}),e[143]=ms,e[144]=us,e[145]=le):le=e[145];let Be;return e[146]!==a||e[147]!==o||e[148]!==d||e[149]!==r||e[150]!==Xt||e[151]!==le?(Be=t.jsx(dt,{isOpen:!0,onClose:o,onBack:a,title:Xt,size:"xlarge",showCloseButton:!0,showBackButton:d,testId:"modal-app-action-details",hasSeparator:!0,className:"max-h-[600px]",showOverlayBackground:r,children:le}),e[146]=a,e[147]=o,e[148]=d,e[149]=r,e[150]=Xt,e[151]=le,e[152]=Be):Be=e[152],Be},X=Ye({actionDetailsTitle:{id:"BCnPHp",defaultMessage:"Action details"},actionDetailsSerializationError:{id:"XmTk8D",defaultMessage:"Unable to display action details."},actionPlaceholderTitle:{id:"z0mgwW",defaultMessage:"Parameter Constraints"},parametersHeading:{id:"Xrsbie",defaultMessage:"Parameters"},parameterTypeFormat:{id:"/x6m2o",defaultMessage:"Type: {type}  Format: {format}"},parameterTypeLabel:{id:"8vhjYI",defaultMessage:"{type}"},parameterFormatLabel:{id:"ApjSE6",defaultMessage:"Format: {format}"},parameterOverrideTooltip:{id:"TpJ6cP",defaultMessage:"Custom Constraint"},loadingClamp:{id:"vItu6q",defaultMessage:"Loading parameter constraints"},clampLoadError:{id:"HygUKN",defaultMessage:"Unable to load parameter constraints. Showing cached action schema."},noParametersDefined:{id:"LNVhZ0",defaultMessage:"No parameters are defined for this action."},missingObjectSchemaWarning:{id:"lL2etQ",defaultMessage:"This object parameter is missing a property schema from the connector, so nested constraints cannot be configured."},missingArrayObjectSchemaWarning:{id:"vx4E8s",defaultMessage:"Array items are objects, but the connector did not provide a property schema. Nested constraints cannot be configured for item properties."},parameterRequired:{id:"0pYUag",defaultMessage:"Required"},parameterTypeUnknown:{id:"YIPRUA",defaultMessage:"Unknown"},parameterFormatNone:{id:"hgnTjy",defaultMessage:"None"},booleanDropdownLabel:{id:"En6a8q",defaultMessage:"Set boolean constraint"},booleanCurrentValue:{id:"f+U0tF",defaultMessage:"Current boolean constraint: {value}"},booleanValueAny:{id:"QobrGV",defaultMessage:"Allow true or false"},booleanValueTrue:{id:"8wNuNK",defaultMessage:"Force true"},booleanValueFalse:{id:"iwUNRA",defaultMessage:"Force false"},booleanHelper:{id:"rfwsUb",defaultMessage:"Applies to boolean parameters."},saveBoolean:{id:"0d6k7y",defaultMessage:"Save boolean constraint"},itemDropdownLabel:{id:"BEp5da",defaultMessage:"Set element constraints"},itemRegexCurrentValue:{id:"pptO+v",defaultMessage:"Current element pattern: {pattern}"},itemRegexInputLabel:{id:"dqYkFJ",defaultMessage:"Element regex pattern"},saveItemRegex:{id:"Au6wT3",defaultMessage:"Save element regex"},itemBooleanCurrentValue:{id:"jxpv4L",defaultMessage:"Current element boolean constraint: {value}"},itemRangeCurrentValue:{id:"7UBou/",defaultMessage:"Current element range: {range}"},saveItemRange:{id:"F5Xrj0",defaultMessage:"Save element range"},saveItemBoolean:{id:"jizSE7",defaultMessage:"Save element boolean constraint"},arrayDropdownLabel:{id:"F22aEN",defaultMessage:"Set array length"},arrayCurrentValue:{id:"XPO6hu",defaultMessage:"Current length: {range}"},arrayNone:{id:"pi6CDm",defaultMessage:"No length set"},arrayUnbounded:{id:"cFv+Q+",defaultMessage:"unbounded"},arrayMinInputLabel:{id:"W9Ebzi",defaultMessage:"Minimum items"},arrayMaxInputLabel:{id:"NCaKoF",defaultMessage:"Maximum items"},arrayMinPlaceholder:{id:"qIPSaY",defaultMessage:"e.g. 1"},arrayMaxPlaceholder:{id:"G88Zgs",defaultMessage:"e.g. 10"},arrayOnlyNote:{id:"BR290D",defaultMessage:"Length validation applies to array parameters."},arrayNumberInvalid:{id:"nMPv7T",defaultMessage:"Enter a whole number for min or max items."},arrayMinGtMax:{id:"jLqgoG",defaultMessage:"Minimum items must be less than or equal to maximum items."},saveArray:{id:"4i63c7",defaultMessage:"Save array length"},objectDropdownLabel:{id:"VR4MOm",defaultMessage:"Set object property count"},objectCurrentValue:{id:"QnB2uu",defaultMessage:"Current property count: {range}"},objectNone:{id:"yikHR1",defaultMessage:"No property count set"},objectUnbounded:{id:"CNcXlI",defaultMessage:"unbounded"},objectMinInputLabel:{id:"fVvZIb",defaultMessage:"Minimum properties"},objectMaxInputLabel:{id:"S7IEgD",defaultMessage:"Maximum properties"},objectMinPlaceholder:{id:"2x4fQh",defaultMessage:"e.g. 1"},objectMaxPlaceholder:{id:"0U8qy1",defaultMessage:"e.g. 5"},objectOnlyNote:{id:"fR6+hD",defaultMessage:"Property count validation applies to object parameters."},objectNumberInvalid:{id:"gmkluT",defaultMessage:"Enter a whole number for min or max properties."},objectMinGtMax:{id:"gOHcZQ",defaultMessage:"Minimum properties must be less than or equal to maximum properties."},saveObject:{id:"NnFstf",defaultMessage:"Save property count"},regexDropdownLabel:{id:"YKoFzY",defaultMessage:"Add regex validation"},regexInputLabel:{id:"bnspJo",defaultMessage:"Regex pattern"},regexInputPlaceholder:{id:"g9uDJ0",defaultMessage:"e.g. ^[\\w.-]+@example\\.com$"},invalidRegex:{id:"Zocn3D",defaultMessage:"Invalid regex: {error}"},regexCurrentValue:{id:"6PC0k+",defaultMessage:"Current pattern: {pattern}"},regexPatternNone:{id:"0awwAC",defaultMessage:"No regex pattern set"},regexOnlyNote:{id:"39zgSX",defaultMessage:"Regex validation applies to string parameters."},saveRegex:{id:"v+oiR+",defaultMessage:"Save regex"},resetClamp:{id:"h7ji/g",defaultMessage:"Reset to default"},rangeDropdownLabel:{id:"csIizw",defaultMessage:"Set number range"},rangeCurrentValue:{id:"BJfAb3",defaultMessage:"Current range: {range}"},rangeNone:{id:"Nikrni",defaultMessage:"No range set"},rangeUnbounded:{id:"9pJhav",defaultMessage:"unbounded"},rangeMinInputLabel:{id:"vWxjBe",defaultMessage:"Minimum"},rangeMaxInputLabel:{id:"xzQphB",defaultMessage:"Maximum"},rangeMinPlaceholder:{id:"JgX1Np",defaultMessage:"e.g. 0"},rangeMaxPlaceholder:{id:"O6HT1B",defaultMessage:"e.g. 100"},rangeOnlyNote:{id:"BuCDaH",defaultMessage:"Range validation applies to number and integer parameters."},rangeNumberInvalid:{id:"TqqaIw",defaultMessage:"Enter a valid number for min or max."},rangeMinGtMax:{id:"Lb8Awc",defaultMessage:"Minimum must be less than or equal to maximum."},saveRange:{id:"arzCEL",defaultMessage:"Save range"},saveClampSuccess:{id:"bXUjsv",defaultMessage:"Constraints saved."},saveClampError:{id:"/t4Qzj",defaultMessage:"Failed to save constraints."},openActionPlaceholder:{id:"oTiWB2",defaultMessage:"Parameter Constraints"},noDescription:{id:"6DgzBU",defaultMessage:"No description provided."},actionsDescription:{id:"Fd6WaB",defaultMessage:"ChatGPT will freeze the actions list when you publish, but developers may change the implementation of actions on their servers at any time. You can choose to manually 'refresh' the actions list at any point to update it. <link>Learn more about action discovery.</link>"},noActionsLabel:{id:"139ppy",defaultMessage:"No actions are available for this app."},actionsControlModalTitle:{id:"l9jKOn",defaultMessage:"Which actions should be available?"},selectAllLabel:{id:"p/M8Da",defaultMessage:"Select All"},deselectAllLabel:{id:"M612Su",defaultMessage:"Deselect All"},refreshLabel:{id:"e0MhOD",defaultMessage:"Refresh"},selectAllNewLabel:{id:"vV2hNN",defaultMessage:"Select New"},refreshActionsError:{id:"AHelUR",defaultMessage:"Failed to refresh app actions"},needLink:{id:"7khSUy",defaultMessage:"This app must be connected to refresh its actions."}});function Od(s){s.stopPropagation(),s.preventDefault()}function Fd(s){const[,e]=s;return e===Nn.New}function $d(s){const[e]=s;return e}function zd(s){return s.name}function Ud(s){return t.jsx(_t,{href:"https://modelcontextprotocol.io/specification/2025-06-18/server/tools#listing-tools",openNewTab:!0,className:"inline",children:s})}function Wd(s){return s.is_enabled}function Gd(s){return s.name}function Vd(s){return s.is_enabled!==!1}function qd(s){return s.name}function Hd(s){return t.jsx(_t,{href:"https://modelcontextprotocol.io/specification/2025-06-18/server/tools#listing-tools",openNewTab:!0,className:"inline",children:s})}function Kd(s){return s.is_enabled!==!1}function Qd(s){return s.name}function Yd(s,e){var c;if(!$e(s)||!$e(s.properties))return;const n=e.split("."),o=n[0],a=o.replace(/\[\]$/,"");let l=(c=s.properties)==null?void 0:c[a];if($e(l)&&!(o.endsWith("[]")&&(l=l.items,!$e(l)))){for(let i=1;i<n.length;i++){const r=n[i],d=r.endsWith("[]"),u=r.replace(/\[\]$/,"");if(!$e(l.properties)||(l=l.properties[u],!$e(l))||d&&(l=l.items,!$e(l)))return}return l}}function Xd(s,e){const n=s.split("."),o=n[0],a=o.replace(/\[\]$/,""),l=o.endsWith("[]");if(n.length===1)return S({parameter:a},e);const c={parameter:a};let i=c;l&&(i.items={},i=i.items);for(let r=1;r<n.length;r++){const d=n[r],u=d.endsWith("[]"),m=d.replace(/\[\]$/,"");(!i.properties||typeof i.properties!="object")&&(i.properties={});const p=i.properties;$e(p[m])||(p[m]={});const f=p[m];u?((!f.items||typeof f.items!="object")&&(f.items={}),i=f.items):i=f}return Object.assign(i,e),c}function Jd(s,e){return Object.prototype.hasOwnProperty.call(s,e)}function Zd(s,e){if(!s)return null;const n=e.split("."),o=n[0],a=o.replace(/\[\]$/,"");if(s.parameter!==a)return null;let l=s;if(o.endsWith("[]")){if(!$e(l.items))return null;l=l.items}for(let c=1;c<n.length;c++){const i=n[c],r=i.endsWith("[]"),d=i.replace(/\[\]$/,"");if(!$e(l.properties))return null;const u=l.properties;if(!$e(u[d]))return null;if(l=u[d],r){if(!$e(l.items))return null;l=l.items}}return l}function em(s){return s.enabled}function tm(s,e){return t.jsx("div",{className:ue("space-y-2",e>0&&"border-token-border-default border-t pt-3"),children:s.content},s.key)}function sm(s){return t.jsx(_t,{href:"https://modelcontextprotocol.io/specification/2025-06-18/server/tools#listing-tools",openNewTab:!0,className:"inline",children:s},"custom-connector-banner-link")}function nm(s){const e=zs(s);return t.jsxs("div",{className:"space-y-2",children:[t.jsx("div",{className:"flex items-start justify-between gap-3",children:t.jsxs("div",{className:"space-y-0.5",children:[t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx("div",{className:ue(["font-mono text-sm font-medium",s.is_enabled===!1&&"text-token-text-secondary"]),children:s.name}),Us({badgeKeys:e,labels:Ws})]}),s.description&&t.jsx("div",{className:"text-token-text-tertiary line-clamp-3 text-xs leading-5",children:s.description})]})}),t.jsx(bl,{action:s,initiallyCollapsed:!0})]},s.name)}const jl=s=>{"use forget";const e=q.c(6),{className:n,children:o,showBackground:a}=s,c=(a===void 0?!0:a)&&"before:starting:backdrop-blur-0 before:absolute before:inset-0 before:bg-gray-200/50 before:backdrop-blur-[1px] before:transition before:duration-250 dark:before:bg-black/50 before:starting:opacity-0";let i;e[0]!==n||e[1]!==c?(i=ue("fixed inset-0 z-10",c,n),e[0]=n,e[1]=c,e[2]=i):i=e[2];let r;return e[3]!==o||e[4]!==i?(r=t.jsx("div",{className:i,children:o}),e[3]=o,e[4]=i,e[5]=r):r=e[5],r},om=s=>{"use forget";var N,A,D,T,R,E,O,F,U,P,B,W,V,I,J,H,Y;const e=q.c(47),{app:n}=s,o=Ut(),a=pe(),l=Array.from(wo(n)),c=$s(o,"2688889402"),i=(D=(N=n.primaryConnector.app_metadata)==null?void 0:N.developer)!=null?D:(A=n.primaryConnector.branding)==null?void 0:A.developer,r=(R=(T=n.primaryConnector.app_metadata)==null?void 0:T.seo_description)!=null?R:n.primaryConnector.description,d=tl();let u,m,p,f,g;if(e[0]!==n||e[1]!==d||e[2]!==r){const Q=gl(n);p="space-y-3";let oe;e[8]===Symbol.for("react.memo_cache_sentinel")?(oe=t.jsx("h4",{className:"text-base font-medium",children:t.jsx(k,S({},Qe.aboutTitle))}),e[8]=oe):oe=e[8];let $;e[9]!==n.primaryConnector.distribution_channel||e[10]!==n.primaryConnector.id||e[11]!==n.primaryConnector.name?($=c&&n.primaryConnector.distribution_channel!=="INDIVIDUAL"&&t.jsxs(_t,{className:"text-token-text-tertiary mb-[1px] flex items-center gap-1 text-sm no-underline! hover:underline!",href:lc(n.primaryConnector.name,n.primaryConnector.id),target:"_blank",children:[t.jsx(k,S({},Qe.directoryLinkText)),t.jsx(Fa,{className:"h-3 w-3"})]}),e[9]=n.primaryConnector.distribution_channel,e[10]=n.primaryConnector.id,e[11]=n.primaryConnector.name,e[12]=$):$=e[12],e[13]!==$?(f=t.jsxs("div",{className:"flex items-center justify-between gap-6",children:[oe,$]}),e[13]=$,e[14]=f):f=e[14],e[15]!==r?(g=r&&t.jsx("p",{className:"text-token-text-primary text-sm text-pretty",children:r}),e[15]=r,e[16]=g):g=e[16],m="w-full table-fixed border-separate border-spacing-y-2 text-xs",u=Q.size>0&&t.jsxs("tr",{children:[t.jsx("td",{className:"text-token-text-secondary w-1/3 pe-2 whitespace-nowrap",children:t.jsx(k,S({},Qe.appCategory))}),t.jsx("td",{className:"no-scrollbar w-2/3 overflow-x-scroll",children:t.jsx("span",{className:"align-top whitespace-nowrap",children:Array.from(Q).map(G=>{var K,se;return(se=(K=d.get(G))==null?void 0:K.name)!=null?se:G}).join(", ")})})]}),e[0]=n,e[1]=d,e[2]=r,e[3]=u,e[4]=m,e[5]=p,e[6]=f,e[7]=g}else u=e[3],m=e[4],p=e[5],f=e[6],g=e[7];const h=l.length>0&&t.jsxs("tr",{children:[t.jsx("td",{className:"text-token-text-secondary w-1/3 pe-2 whitespace-nowrap",children:t.jsx(k,S({},Qe.capabilities))}),t.jsx("td",{className:"no-scrollbar w-2/3 overflow-x-scroll",children:t.jsx("span",{className:"align-top whitespace-nowrap",children:l.map(Q=>qa(Q,a)).join(", ")})})]});let y;e[17]!==n.primaryConnector.created_at||e[18]!==n.primaryConnector.distribution_channel?(y=(n.primaryConnector.distribution_channel==="INDIVIDUAL"||n.primaryConnector.distribution_channel==="TENANT_CATALOG")&&n.primaryConnector.created_at&&t.jsxs("tr",{children:[t.jsx("td",{className:"text-token-text-secondary w-1/3 pe-2 whitespace-nowrap",children:t.jsx(k,S({},Qe.createdAtLabel))}),t.jsx("td",{className:"no-scrollbar w-2/3 overflow-x-scroll",children:t.jsx("span",{className:"align-top whitespace-nowrap",children:new Date(n.primaryConnector.created_at).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})})})]}),e[17]=n.primaryConnector.created_at,e[18]=n.primaryConnector.distribution_channel,e[19]=y):y=e[19];let x;e[20]!==i?(x=i&&t.jsxs("tr",{children:[t.jsx("td",{className:"text-token-text-secondary w-1/3 pe-2 whitespace-nowrap",children:t.jsx(k,S({},Qe.developerLabel))}),t.jsx("td",{className:"no-scrollbar w-2/3 overflow-x-scroll",children:t.jsx("span",{className:"align-top whitespace-nowrap",children:i})})]}),e[20]=i,e[21]=x):x=e[21];let b;e[22]!==n.primaryConnector.base_url?(b=n.primaryConnector.base_url&&t.jsxs("tr",{children:[t.jsx("td",{className:"text-token-text-secondary w-1/3 pe-2 whitespace-nowrap",children:t.jsx(k,S({},Qe.urlLabel))}),t.jsx("td",{className:"no-scrollbar w-2/3 overflow-x-scroll",children:t.jsx("span",{className:"align-top whitespace-nowrap",children:n.primaryConnector.base_url})})]}),e[22]=n.primaryConnector.base_url,e[23]=b):b=e[23];let j;e[24]!==((E=n.primaryConnector.branding)==null?void 0:E.website)?(j=((O=n.primaryConnector.branding)==null?void 0:O.website)&&t.jsxs("tr",{children:[t.jsx("td",{className:"text-token-text-secondary w-1/3 pe-2 whitespace-nowrap",children:t.jsx(k,S({},Qe.websiteLabel))}),t.jsx("td",{className:"no-scrollbar w-2/3 overflow-x-scroll",children:t.jsx("span",{className:"align-top whitespace-nowrap",children:t.jsx(_t,{href:(F=n.primaryConnector.branding)==null?void 0:F.website,target:"_blank",rel:"noopener noreferrer",children:t.jsx(Gn,{className:"text-token-bg-accent-static -mx-0.5 h-4 w-4"})})})})]}),e[24]=(U=n.primaryConnector.branding)==null?void 0:U.website,e[25]=j):j=e[25];let C;e[26]!==((P=n.primaryConnector.branding)==null?void 0:P.privacy_policy)?(C=((B=n.primaryConnector.branding)==null?void 0:B.privacy_policy)&&t.jsxs("tr",{children:[t.jsx("td",{className:"text-token-text-secondary w-1/3 pe-2 whitespace-nowrap",children:t.jsx(k,S({},Qe.privacyPolicyLabel))}),t.jsx("td",{className:"no-scrollbar w-2/3 overflow-x-scroll",children:t.jsx("span",{className:"align-top whitespace-nowrap",children:t.jsx(_t,{href:(W=n.primaryConnector.branding)==null?void 0:W.privacy_policy,target:"_blank",rel:"noopener noreferrer",children:t.jsx(Gn,{className:"text-token-bg-accent-static -mx-0.5 h-4 w-4"})})})})]}),e[26]=(V=n.primaryConnector.branding)==null?void 0:V.privacy_policy,e[27]=C):C=e[27];let w;e[28]!==((I=n.primaryConnector.branding)==null?void 0:I.terms_of_service)?(w=((J=n.primaryConnector.branding)==null?void 0:J.terms_of_service)&&t.jsxs("tr",{children:[t.jsx("td",{className:"text-token-text-secondary w-1/3 pe-2 whitespace-nowrap",children:t.jsx(k,S({},Qe.tosLabel))}),t.jsx("td",{className:"no-scrollbar w-2/3 overflow-x-scroll",children:t.jsx("span",{className:"align-top whitespace-nowrap",children:t.jsx(_t,{href:(H=n.primaryConnector.branding)==null?void 0:H.terms_of_service,target:"_blank",rel:"noopener noreferrer",children:t.jsx(Gn,{className:"text-token-bg-accent-static -mx-0.5 h-4 w-4"})})})})]}),e[28]=(Y=n.primaryConnector.branding)==null?void 0:Y.terms_of_service,e[29]=w):w=e[29];let v;e[30]!==u||e[31]!==j||e[32]!==C||e[33]!==w||e[34]!==h||e[35]!==y||e[36]!==x||e[37]!==b?(v=t.jsxs("tbody",{children:[u,h,y,x,b,j,C,w]}),e[30]=u,e[31]=j,e[32]=C,e[33]=w,e[34]=h,e[35]=y,e[36]=x,e[37]=b,e[38]=v):v=e[38];let M;e[39]!==v||e[40]!==m?(M=t.jsx("table",{className:m,children:v}),e[39]=v,e[40]=m,e[41]=M):M=e[41];let _;return e[42]!==M||e[43]!==p||e[44]!==f||e[45]!==g?(_=t.jsxs("div",{className:p,children:[f,g,M]}),e[42]=M,e[43]=p,e[44]=f,e[45]=g,e[46]=_):_=e[46],_},am=s=>{"use forget";const e=q.c(22),{app:n,onDetails:o}=s,a=pe();let l;e[0]===Symbol.for("react.memo_cache_sentinel")?(l={forceEnable:!0},e[0]=l):l=e[0];const{actions:c,isLoading:i}=xs(n.primaryConnector,bt.ADMIN_SETTING,l),r=i?0:c.length;let d;e[1]!==r?(d=t.jsx("h4",{className:"text-base font-medium",children:t.jsx(k,Ce(S({},Qe.actionsTitle),{values:{count:r}}))}),e[1]=r,e[2]=d):d=e[2];let u;e[3]!==c.length||e[4]!==i||e[5]!==o?(u=c.length>0&&o&&t.jsx(re,{size:"small",color:"ghost",onClick:o,disabled:i,children:t.jsx(k,S({},Qe.actionsSeeDetailsButton))}),e[3]=c.length,e[4]=i,e[5]=o,e[6]=u):u=e[6];let m;e[7]!==d||e[8]!==u?(m=t.jsxs("div",{className:"flex items-center justify-between gap-6",children:[d,u]}),e[7]=d,e[8]=u,e[9]=m):m=e[9];let p;e[10]!==n.primaryConnector.distribution_channel?(p=(n.primaryConnector.distribution_channel==="TENANT_CATALOG"||n.primaryConnector.distribution_channel==="INDIVIDUAL")&&t.jsx("p",{className:"text-token-text-secondary text-xs text-pretty",children:t.jsx(k,S({},Qe.actionsDescription))}),e[10]=n.primaryConnector.distribution_channel,e[11]=p):p=e[11];let f;e[12]!==m||e[13]!==p?(f=t.jsxs("div",{className:"space-y-1",children:[m,p]}),e[12]=m,e[13]=p,e[14]=f):f=e[14];let g;e[15]!==c||e[16]!==a||e[17]!==i?(g=i?t.jsx("div",{className:"flex justify-center py-3",children:t.jsx(Nt,{})}):c.length===0?t.jsx("p",{className:"text-token-text-tertiary text-xs",children:t.jsx(k,S({},Qe.noActionsLabel))}):t.jsx("ul",{className:"border-token-border rounded-xl border",children:c.map(y=>{const x=zs(y);return t.jsxs("li",{className:"border-token-border border-b px-3 py-2 last:border-0",children:[t.jsx("div",{className:"flex items-start justify-between gap-2",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("div",{className:ue(["font-mono text-[13px] font-medium",!y.is_enabled&&"text-token-text-tertiary"]),children:y.name}),!y.is_enabled&&t.jsx(cs,{label:a.formatMessage(Qe.disabledAction),children:t.jsx(Ja,{className:"icon text-token-text-tertiary h-4 w-4"})})]}),Us({badgeKeys:x,labels:Ws})]})}),t.jsx("p",{className:"text-token-text-tertiary mt-[1px] line-clamp-3 text-[11px] text-pretty",children:y.description?y.description:t.jsx(k,S({},Qe.actionNoDescription))})]},y.name)})}),e[15]=c,e[16]=a,e[17]=i,e[18]=g):g=e[18];let h;return e[19]!==f||e[20]!==g?(h=t.jsxs("div",{className:"space-y-3",children:[f,g]}),e[19]=f,e[20]=g,e[21]=h):h=e[21],h},lm=({app:s})=>{"use no forget";var f,g;const e=pe(),n=La(),o=mn(),a=!!s.primaryConnector.submission,l=(f=s.primaryConnector.app_metadata)==null?void 0:f.version,c=(g=s.primaryConnector.submission)==null?void 0:g.version_id,i=c&&l&&c!==l,[r,d]=L.useState(null),u=L.useCallback(async h=>{if(c){d(h);try{await vt.safePost("/hermes/submission",{requestBody:{connector_id:s.primaryConnector.id,version_id:c,status:h},additionalHeaders:{[Jn]:bt.ADMIN_SETTING}}),await o(),n.success(e.formatMessage(h==="approved"?Qe.approveSuccess:Qe.rejectSuccess,{version:c}))}catch(y){n.danger(e.formatMessage(h==="approved"?Qe.approveError:Qe.rejectError))}finally{d(null)}}},[s.primaryConnector.id,c,e,o,n]);if(!a||!i)return null;const m=()=>u("approved"),p=r!=null;return t.jsx("section",{className:"border-token-border border-b py-4",children:t.jsx("div",{className:"space-y-3",children:t.jsxs("div",{className:"space-y-3",children:[t.jsx("div",{className:"flex items-center justify-between gap-6",children:t.jsx("h4",{className:"text-base font-medium",children:t.jsx(k,S({},Qe.reviewStatusTitle))})}),t.jsxs("p",{className:"text-token-text-secondary flex items-center justify-between gap-6 text-xs text-pretty",children:[t.jsx("h4",{className:"text-base font-medium",children:e.formatMessage(Qe.versionLabel,{version:c})}),t.jsx("p",{className:"text-token-text-secondary text-xs text-pretty",children:t.jsx(re,{onClick:m,size:"medium",loading:r==="approved",disabled:p&&r!=="approved",children:t.jsx(k,S({},Qe.approveButton))})})]})]})})})},im=s=>{"use forget";const e=q.c(6),{href:n,appName:o}=s,a=pe();let l;e[0]!==o||e[1]!==a?(l=a.formatMessage(Qe.previewAlt,{appName:o}),e[0]=o,e[1]=a,e[2]=l):l=e[2];let c;return e[3]!==n||e[4]!==l?(c=t.jsx("div",{className:"embla__slide flex h-full min-w-0 flex-shrink-0 flex-grow-0 basis-full items-center justify-center px-6",children:t.jsx("img",{src:n,alt:l,className:"h-92 max-w-92 min-w-64 rounded-3xl object-cover object-top select-none",loading:"lazy",draggable:!1})}),e[3]=n,e[4]=l,e[5]=c):c=e[5],c},rm=s=>{"use forget";var g,h;const e=q.c(8),{app:n}=s,o=(h=(g=n.primaryConnector.app_metadata)==null?void 0:g.screenshots)!=null?h:[],a=o.length>1;let l;e[0]!==a?(l={loop:!0,duration:30,active:a},e[0]=a,e[1]=l):l=e[1];let c;e[2]===Symbol.for("react.memo_cache_sentinel")?(c=[rc({delay:5e3})],e[2]=c):c=e[2];const[i,r]=ic(l,c),[d,u]=L.useState(0);let m,p;e[3]!==r?(m=()=>(r==null||r.on("pointerDown",cm),r==null||r.on("pointerUp",dm),r==null||r.on("select",()=>{u(r.selectedScrollSnap())}),()=>{r==null||r.destroy()}),p=[r],e[3]=r,e[4]=m,e[5]=p):(m=e[4],p=e[5]),L.useEffect(m,p);let f;return e[6]!==n.primaryConnector.name?(f=y=>{var x;return t.jsx(im,{href:(x=y.url)!=null?x:"",appName:n.primaryConnector.name},y.url)},e[6]=n.primaryConnector.name,e[7]=f):f=e[7],t.jsxs("section",{className:"flex h-full flex-col",children:[t.jsx("div",{className:"mt-6 flex flex-1 items-center justify-center",children:t.jsx("div",{ref:i,className:"overflow-hidden",children:t.jsx("div",{className:"-mx-6 flex",children:o.map(f)})})}),o.length>1?t.jsxs("div",{className:"m-6 flex items-center justify-between gap-2",children:[t.jsx("p",{className:"text-token-text-tertiary text-sm font-medium",children:t.jsx(k,S({},Qe.previewText))}),t.jsx("div",{className:"flex items-center",children:[...Array(o.length)].map((y,x)=>t.jsx("button",{onClick:()=>{r==null||r.scrollTo(x),r==null||r.plugins().autoplay.stop()},className:"group flex h-5 w-3.5 items-center justify-center",children:t.jsx("div",{className:ue("rounded-full transition-all duration-200",x===d?"bg-token-text-primary h-2 w-2":"bg-token-text-tertiary/50 group-hover:bg-token-text-tertiary h-1.5 w-1.5")})},x))})]}):t.jsx("div",{className:"m-6",children:t.jsx("p",{className:"text-token-text-tertiary w-full text-center text-sm font-medium",children:t.jsx(k,S({},Qe.previewText))})})]})},Ln=s=>{"use forget";var j,C,w,v;const e=q.c(16),{app:n,onClose:o,onPublish:a}=s,l=pe(),c=((w=(C=(j=n.primaryConnector.app_metadata)==null?void 0:j.screenshots)==null?void 0:C.length)!=null?w:0)>0,i=Pe();let r;e[0]!==i?(r=$s(i,"3339786131"),e[0]=i,e[1]=r):r=e[1];const d=r,u=n.knowledgeConfig.length>0;let m;e[2]!==n||e[3]!==i||e[4]!==u?(m=u&&Rn(n,i),e[2]=n,e[3]=i,e[4]=u,e[5]=m):m=e[5];const f=d&&!m,[g,h]=L.useState(!1),y=!!n.primaryConnector.submission,x=(v=n.primaryConnector.app_metadata)==null?void 0:v.version;let b;return e[6]!==n||e[7]!==f||e[8]!==x||e[9]!==c||e[10]!==l||e[11]!==y||e[12]!==o||e[13]!==a||e[14]!==g?(b=t.jsx(Tn,{children:t.jsx(jl,{children:g&&f?t.jsx(So,{app:n,onClose:()=>{h(!1),o()},onBack:()=>{h(!1)},showBackButton:!0,showOverlayBackground:!0}):t.jsxs(dt,{isOpen:!0,onClose:()=>o(),title:l.formatMessage(Qe.detailsTitle),visuallyHiddenHeader:!0,size:"custom",testId:"modal-app-details",hasSeparator:!0,noPadding:!0,className:ue("relative max-h-[572px]",c?"max-w-4xl":"max-w-lg"),showOverlayBackground:!1,children:[t.jsx("div",{className:"absolute end-0 top-0 z-10 p-2",children:t.jsx(re,{color:"ghost",onClick:()=>o(),icon:qi,"aria-label":l.formatMessage(Qe.closeButton),className:"text-token-text-secondary h-8 w-8 rounded-lg"})}),t.jsxs("div",{className:ue("h-full",c&&"grid grid-cols-1 md:grid-cols-[1fr_24rem]"),children:[t.jsxs("div",{className:ue("border-token-border h-full overflow-y-scroll px-6 py-2",c&&"border-b md:border-e md:border-b-0"),children:[t.jsxs("section",{className:"border-token-border flex items-center justify-between gap-4 border-b py-6",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(Pn,{app:n,size:"large"}),t.jsxs("div",{className:"flex-1 space-y-0.5",children:[t.jsx("h3",{className:"text-lg leading-none font-semibold",children:n.primaryConnector.name}),y&&x&&t.jsx("span",{className:"text-token-text-secondary text-xs",children:l.formatMessage(Qe.versionLabel,{version:x})}),n.primaryConnector.description&&t.jsx("p",{className:"text-token-text-tertiary line-clamp-2 text-sm text-pretty overflow-ellipsis",children:n.primaryConnector.description})]})]}),a&&n.primaryConnector.status!=="ENABLED"&&t.jsx("div",{className:"flex gap-2",children:t.jsx(re,{onClick:()=>a(),size:"medium",children:t.jsx(k,S({},Qe.publishButton))})})]}),t.jsx("section",{className:"border-token-border border-b py-4",children:t.jsx(om,{app:n})}),t.jsx(lm,{app:n}),t.jsx("div",{className:"py-4",children:t.jsx(am,{app:n,onDetails:f?()=>{h(!0)}:void 0})})]}),c&&t.jsx("div",{className:"bg-token-bg-elevated-secondary w-full",children:t.jsx(rm,{app:n})})]})]})})}),e[6]=n,e[7]=f,e[8]=x,e[9]=c,e[10]=l,e[11]=y,e[12]=o,e[13]=a,e[14]=g,e[15]=b):b=e[15],b},Qe=Ye({createdAtLabel:{id:"KLUbUW",defaultMessage:"Created at"},developerLabel:{id:"YNNmEM",defaultMessage:"Developer"},urlLabel:{id:"22rEI5",defaultMessage:"URL"},detailsTitle:{id:"qMW+Qr",defaultMessage:"App details"},publishButton:{id:"cFYuiW",defaultMessage:"Enable"},publishedButton:{id:"l4Y2ey",defaultMessage:"Published"},aboutTitle:{id:"vfm/nN",defaultMessage:"About"},actionsTitle:{id:"dMik6w",defaultMessage:"Actions {count, select, 0 {} other {  {count}}}"},reviewStatusTitle:{id:"Y26DIV",defaultMessage:"Review"},approveButton:{id:"Hc1X7w",defaultMessage:"Approve"},rejectButton:{id:"uzit/M",defaultMessage:"Reject"},approveSuccess:{id:"4RJg1L",defaultMessage:"Approved version {version}"},rejectSuccess:{id:"j0pszk",defaultMessage:"Rejected version {version}"},approveError:{id:"ronXnH",defaultMessage:"We couldnt approve this submission. Try again."},rejectError:{id:"NNIVR1",defaultMessage:"We couldnt reject this submission. Try again."},actionsDescription:{id:"+aWWeC",defaultMessage:"ChatGPT will freeze the actions list when you publish, but developers may change the implementation of actions on their servers at any time. You can choose to manually 'refresh' the actions list at any point to update it."},actionsSeeDetailsButton:{id:"ff/ugf",defaultMessage:"See details"},noActionsLabel:{id:"139ppy",defaultMessage:"No actions are available for this app."},actionNoDescription:{id:"PGMAgB",defaultMessage:"No description provided."},unknownDeveloperLabel:{id:"Fv04Rh",defaultMessage:"Unknown"},disabledAction:{id:"Bn5roC",defaultMessage:"This action is disabled"},capabilities:{id:"W+M8FZ",defaultMessage:"Capabilities"},booleanLabel:{id:"Tw/dqU",defaultMessage:"{value, select, true {Yes} false {No} other {N/A}}"},firstPartyAppType:{id:"41iDzH",defaultMessage:"First party"},appCategory:{id:"x0F/S4",defaultMessage:"Category"},previewText:{id:"I0IYwo",defaultMessage:"Preview"},websiteLabel:{id:"zUOxKq",defaultMessage:"Website"},privacyPolicyLabel:{id:"qwas9a",defaultMessage:"Privacy Policy"},landingPageLabel:{id:"Ek79FR",defaultMessage:"Landing Page"},versionLabel:{id:"LfDjOc",defaultMessage:"Version: {version}"},directoryLinkText:{id:"dusdmt",defaultMessage:"Show in directory"},tosLabel:{id:"WiGRUE",defaultMessage:"Terms of Service"},closeButton:{id:"9Po7Pl",defaultMessage:"Close"},previewAlt:{id:"nY5QaX",defaultMessage:"Preview of {appName}"}});function cm(){document&&(document.body.style.userSelect="none")}function dm(){document&&(document.body.style.userSelect="auto")}const Os=({workspaceId:s,app:e,enabled:n,enabledRoles:o,enabledActions:a})=>Promise.all([vt.safePost("/accounts/{account_id}/connectors/{connector_id}/workspace_permissions",{parameters:{path:{account_id:s,connector_id:e.primaryConnector.id}},requestBody:{enabled:n,enabled_roles:o,enabled_actions:a}}),...e.relatedConnectors.map(l=>vt.safePost("/accounts/{account_id}/connectors/{connector_id}/workspace_permissions",{parameters:{path:{account_id:s,connector_id:l.id}},requestBody:{enabled:n,enabled_roles:o}}))]),mm=s=>{"use forget";var p;const e=q.c(12),{app:n,onSuccess:o,onError:a}=s,l=Ut(),c=mt(l),i=mn(),r=(p=c==null?void 0:c.getWorkspaceId())!=null?p:"";let d;e[0]!==c||e[1]!==n||e[2]!==i||e[3]!==r?(d=async()=>{n.primaryConnector.type===rs?await vt.safePost("/accounts/{account_id}/beta_features",{parameters:{path:{account_id:r}},requestBody:{feature:n.primaryConnector.id,value:!1}}):n.primaryConnector.distribution_channel==="TENANT_CATALOG"||n.primaryConnector.distribution_channel==="INDIVIDUAL"?await xo(n.primaryConnector.id):await Promise.all([Os({workspaceId:r,app:n,enabled:!1}),...n.knowledgeConfig.flatMap(f=>f.connections.map(g=>{var h;return ps.admin_delete_connection_instance((h=c==null?void 0:c.getWorkspaceId())!=null?h:"",g.connection_config.connection_config_id)}))]),await i()},e[0]=c,e[1]=n,e[2]=i,e[3]=r,e[4]=d):d=e[4];let u;e[5]!==n||e[6]!==o?(u=()=>{dn.logEventWithStatsig("Connectors Workspace Connector Permission Updated","chatgpt_connectors_workspace_connector_permission_updated",{name:n.primaryConnector.name,type:n.primaryConnector.type,enabled:"disabled"}),o()},e[5]=n,e[6]=o,e[7]=u):u=e[7];let m;return e[8]!==a||e[9]!==d||e[10]!==u?(m={mutationFn:d,onSuccess:u,onError:a},e[8]=a,e[9]=d,e[10]=u,e[11]=m):m=e[11],Ze(m)},um=(s,e,n)=>{"use forget";var d;const o=q.c(8);let a;if(o[0]===Symbol.for("react.memo_cache_sentinel")){const u=Ut(),m=mt(u);a=(d=m==null?void 0:m.getWorkspaceId())!=null?d:"",o[0]=a}else a=o[0];const l=a,c=es();let i;o[1]!==s||o[2]!==c?(i=async u=>{const{enabledActions:m,enabledRoles:p}=u;s.primaryConnector.type===rs?await Promise.all([vt.safePost("/accounts/{account_id}/beta_features",{parameters:{path:{account_id:l}},requestBody:{feature:s.primaryConnector.id,value:!0}}),Os({workspaceId:l,app:s,enabled:!0,enabledRoles:p})]):s.primaryConnector.status==="ONLY_ME"?await vt.safePost("/accounts/{account_id}/connectors/{connector_id}/publish",{parameters:{path:{account_id:l,connector_id:s.primaryConnector.id}},requestBody:{enabled_actions:m,enabled_roles:p}}):await Os({workspaceId:l,app:s,enabled:!0,enabledRoles:p,enabledActions:m}),await c.invalidateQueries()},o[1]=s,o[2]=c,o[3]=i):i=o[3];let r;return o[4]!==n||o[5]!==e||o[6]!==i?(r={mutationFn:i,onSuccess:e,onError:n},o[4]=n,o[5]=e,o[6]=i,o[7]=r):r=o[7],Ze(r)},fm=(s,e,n)=>{"use forget";var u;const o=q.c(10);let a;if(o[0]===Symbol.for("react.memo_cache_sentinel")){const m=Ut(),p=mt(m);a=(u=p==null?void 0:p.getWorkspaceId())!=null?u:"",o[0]=a}else a=o[0];const l=a;let c;o[1]!==s.primaryConnector.id?(c={workspaceId:l,connectorId:s.primaryConnector.id},o[1]=s.primaryConnector.id,o[2]=c):c=o[2];const i=Tr(c);let r;o[3]!==s||o[4]!==i?(r=async m=>{await Os({workspaceId:l,app:s,enabled:!0,enabledRoles:m}),await i()},o[3]=s,o[4]=i,o[5]=r):r=o[5];let d;return o[6]!==n||o[7]!==e||o[8]!==r?(d={mutationFn:r,onSuccess:e,onError:n},o[6]=n,o[7]=e,o[8]=r,o[9]=d):d=o[9],Ze(d)},pm=(s,e,n)=>{"use forget";const o=q.c(8);let a;if(o[0]===Symbol.for("react.memo_cache_sentinel")){const d=Ut();a=mt(d),o[0]=a}else a=o[0];const l=a,c=un();let i;o[1]!==s||o[2]!==c?(i=async()=>{var d;await ps.admin_delete_connection_instance((d=l==null?void 0:l.getWorkspaceId())!=null?d:"",s.connection_config.connection_config_id),await c()},o[1]=s,o[2]=c,o[3]=i):i=o[3];let r;return o[4]!==n||o[5]!==e||o[6]!==i?(r={mutationFn:i,onSuccess:e,onError:n},o[4]=n,o[5]=e,o[6]=i,o[7]=r):r=o[7],Ze(r)},xm=(s,e,n,o)=>{"use forget";var m;const a=q.c(10);let l;if(a[0]===Symbol.for("react.memo_cache_sentinel")){const p=Ut(),f=mt(p);l=(m=f==null?void 0:f.getWorkspaceId())!=null?m:"",a[0]=l}else l=a[0];const c=l,i=mn(),r=es();let d;a[1]!==s||a[2]!==e||a[3]!==i||a[4]!==r?(d=async p=>{const{enabledRoleIds:f,indeterminateRoleIds:g}=p;await Promise.all(s.flatMap((h,y)=>{const x=new Set(fn(e[y]).map(Cm)),b=[...f,...g.filter(j=>x.has(j))];return Os({workspaceId:c,app:h,enabled:!0,enabledRoles:b})})),await Promise.all(s.map(h=>r.invalidateQueries({queryKey:go(c,h.primaryConnector.id)}))),await i()},a[1]=s,a[2]=e,a[3]=i,a[4]=r,a[5]=d):d=a[5];let u;return a[6]!==o||a[7]!==n||a[8]!==d?(u={mutationFn:d,onSuccess:n,onError:o},a[6]=o,a[7]=n,a[8]=d,a[9]=u):u=a[9],Ze(u)},gm=s=>{"use forget";const e=q.c(8),{apps:n,onSuccess:o,onError:a}=s;let l;if(e[0]===Symbol.for("react.memo_cache_sentinel")){const u=Ut();l=mt(u),e[0]=l}else l=e[0];const c=l,i=mn();let r;e[1]!==n||e[2]!==i?(r=async()=>{await Promise.all(n.map(async u=>{var m;u.primaryConnector.distribution_channel==="TENANT_CATALOG"||u.primaryConnector.distribution_channel==="INDIVIDUAL"?await xo(u.primaryConnector.id):await Promise.all([Os({workspaceId:(m=c==null?void 0:c.getWorkspaceId())!=null?m:"",app:u,enabled:!1}),...u.knowledgeConfig.flatMap(p=>p.connections.map(f=>{var g;return ps.admin_delete_connection_instance((g=c==null?void 0:c.getWorkspaceId())!=null?g:"",f.connection_config.connection_config_id)}))])})),await i()},e[1]=n,e[2]=i,e[3]=r):r=e[3];let d;return e[4]!==a||e[5]!==o||e[6]!==r?(d={mutationFn:r,onSuccess:o,onError:a},e[4]=a,e[5]=o,e[6]=r,e[7]=d):d=e[7],Ze(d)},hm=(s,e,n)=>{"use forget";const o=q.c(8);let a;if(o[0]===Symbol.for("react.memo_cache_sentinel")){const d=Ut();a=mt(d),o[0]=a}else a=o[0];const l=a,c=un();let i;o[1]!==s||o[2]!==c?(i=async d=>{var u;await ps.admin_edit_name_connection_instance((u=l==null?void 0:l.getWorkspaceId())!=null?u:"",s.connection_config.connection_config_id,{name:d}),await c()},o[1]=s,o[2]=c,o[3]=i):i=o[3];let r;return o[4]!==n||o[5]!==e||o[6]!==i?(r={mutationFn:i,onSuccess:e,onError:n},o[4]=n,o[5]=e,o[6]=i,o[7]=r):r=o[7],Ze(r)},bm=s=>{"use forget";const e=q.c(9),{connection:n,onSuccess:o,onError:a}=s;let l;if(e[0]===Symbol.for("react.memo_cache_sentinel")){const m=Ut();l=mt(m),e[0]=l}else l=e[0];const c=l,i=Ha(n),r=n.connection_config.knowledge_connector_type==="slack"?"synced_channel":"synced_object";let d;e[1]!==n.connection_config.connection_config_id||e[2]!==i||e[3]!==r?(d=async m=>{var f;const{objectHandle:p}=m;p.trim()&&(c!=null&&c.isPersonalAccount()?await ps.user_connection_block_items(n.connection_config.connection_config_id,r,[p]):await ps.admin_connection_block_items((f=c==null?void 0:c.getWorkspaceId())!=null?f:"",n.connection_config.connection_config_id,r,[p]),await i())},e[1]=n.connection_config.connection_config_id,e[2]=i,e[3]=r,e[4]=d):d=e[4];let u;return e[5]!==a||e[6]!==o||e[7]!==d?(u={mutationFn:d,onSuccess:o,onError:a},e[5]=a,e[6]=o,e[7]=d,e[8]=u):u=e[8],Ze(u)},ym=s=>{"use forget";const e=q.c(9),{connection:n,onSuccess:o,onError:a}=s;let l;if(e[0]===Symbol.for("react.memo_cache_sentinel")){const m=Ut();l=mt(m),e[0]=l}else l=e[0];const c=l,i=Ha(n),r=n.connection_config.knowledge_connector_type==="slack"?"synced_channel":"synced_object";let d;e[1]!==n.connection_config.connection_config_id||e[2]!==i||e[3]!==r?(d=async m=>{var f;const{objectHandle:p}=m;p.trim()&&(c!=null&&c.isPersonalAccount()?await ps.user_connection_unblock_items(n.connection_config.connection_config_id,r,[p]):await ps.admin_connection_unblock_items((f=c==null?void 0:c.getWorkspaceId())!=null?f:"",n.connection_config.connection_config_id,r,[p]),await i())},e[1]=n.connection_config.connection_config_id,e[2]=i,e[3]=r,e[4]=d):d=e[4];let u;return e[5]!==a||e[6]!==o||e[7]!==d?(u={mutationFn:d,onSuccess:o,onError:a},e[5]=a,e[6]=o,e[7]=d,e[8]=u):u=e[8],Ze(u)},jm=(s,e,n)=>{"use forget";const o=q.c(8);let a;if(o[0]===Symbol.for("react.memo_cache_sentinel")){const d=Ut();a=mt(d),o[0]=a}else a=o[0];const l=a,c=un();let i;o[1]!==s||o[2]!==c?(i=async()=>{var d;await ps.admin_activate_connection_instance((d=l==null?void 0:l.getWorkspaceId())!=null?d:"",s.connection_config.connection_config_id),await c()},o[1]=s,o[2]=c,o[3]=i):i=o[3];let r;return o[4]!==n||o[5]!==e||o[6]!==i?(r={mutationFn:i,onSuccess:e,onError:n},o[4]=n,o[5]=e,o[6]=i,o[7]=r):r=o[7],Ze(r)};function Cm(s){return s.role.id}const Cl=s=>{"use forget";const e=q.c(63),{app:n,onClose:o}=s,a=pe(),l=Pe();let c;e[0]!==l?(c=rt(l),e[0]=l,e[1]=c):c=e[1];const i=c,r=n.primaryConnector.distribution_channel==="TENANT_CATALOG"||n.primaryConnector.distribution_channel==="INDIVIDUAL";let d;e[2]!==n.primaryConnector.name||e[3]!==a||e[4]!==o||e[5]!==i?(d=()=>{const F=is(n.primaryConnector.name,a);i.success(a.formatMessage($t.deleteSuccess,{appName:F})),o(!0)},e[2]=n.primaryConnector.name,e[3]=a,e[4]=o,e[5]=i,e[6]=d):d=e[6];let u;e[7]!==a||e[8]!==i?(u=()=>i.danger(a.formatMessage($t.updateFailed)),e[7]=a,e[8]=i,e[9]=u):u=e[9];let m;e[10]!==n||e[11]!==d||e[12]!==u?(m={app:n,onSuccess:d,onError:u},e[10]=n,e[11]=d,e[12]=u,e[13]=m):m=e[13];const{mutateAsync:p,isPending:f}=mm(m);let g;e[14]!==f||e[15]!==o?(g=()=>{f||o(!1)},e[14]=f,e[15]=o,e[16]=g):g=e[16];const h=g;let y;e[17]!==n.primaryConnector.name||e[18]!==a||e[19]!==r?(y=a.formatMessage(r?$t.deleteAppTitle:$t.disableAppTitle,{appName:is(n.primaryConnector.name,a)}),e[17]=n.primaryConnector.name,e[18]=a,e[19]=r,e[20]=y):y=e[20];let x;e[21]!==h?(x=t.jsx("div",{className:"absolute end-4 top-4",children:t.jsx(Dn,{onClick:h})}),e[21]=h,e[22]=x):x=e[22];let b;e[23]!==n?(b=t.jsx("div",{className:"flex justify-center pt-16",children:t.jsx(Pn,{app:n,size:"large"})}),e[23]=n,e[24]=b):b=e[24];let j;e[25]!==n.primaryConnector.name||e[26]!==a||e[27]!==r?(j=a.formatMessage(r?$t.deleteAppTitle:$t.disableAppTitle,{appName:is(n.primaryConnector.name,a)}),e[25]=n.primaryConnector.name,e[26]=a,e[27]=r,e[28]=j):j=e[28];let C;e[29]!==j?(C=t.jsx("div",{className:"mx-6 my-1 py-1 text-center text-2xl leading-snug font-semibold text-pretty",children:j}),e[29]=j,e[30]=C):C=e[30];let w;e[31]!==n.primaryConnector.name||e[32]!==a||e[33]!==r?(w=a.formatMessage(r?$t.permanentDeleteAppDescription:$t.temporaryDeleteAppDescription,{appName:is(n.primaryConnector.name,a)}),e[31]=n.primaryConnector.name,e[32]=a,e[33]=r,e[34]=w):w=e[34];let v;e[35]!==w?(v=t.jsx("p",{className:"text-token-text-secondary m-4 text-center text-base leading-normal text-pretty",children:w}),e[35]=w,e[36]=v):v=e[36];let M;e[37]!==n.knowledgeConfig?(M=n.knowledgeConfig.some(vm)&&t.jsx("p",{className:"text-token-text-secondary m-4 text-center leading-normal text-pretty",children:t.jsx(k,S({},$t.syncDeleteAppDescription))}),e[37]=n.knowledgeConfig,e[38]=M):M=e[38];let _;e[39]===Symbol.for("react.memo_cache_sentinel")?(_=t.jsx(k,S({},$t.cancel)),e[39]=_):_=e[39];let N;e[40]!==f||e[41]!==h?(N=t.jsx(re,{color:"secondary",onClick:h,className:"px-6",size:"large",disabled:f,children:_}),e[40]=f,e[41]=h,e[42]=N):N=e[42];let A;e[43]!==p?(A=()=>p(),e[43]=p,e[44]=A):A=e[44];const D=r?$t.delete:$t.disable;let T;e[45]!==D?(T=t.jsx(k,S({},D)),e[45]=D,e[46]=T):T=e[46];let R;e[47]!==f||e[48]!==A||e[49]!==T?(R=t.jsx(re,{color:"danger",onClick:A,loading:f,className:"px-6",size:"large",children:T}),e[47]=f,e[48]=A,e[49]=T,e[50]=R):R=e[50];let E;e[51]!==N||e[52]!==R?(E=t.jsxs("div",{className:"flex justify-end gap-3 p-4",children:[N,R]}),e[51]=N,e[52]=R,e[53]=E):E=e[53];let O;return e[54]!==h||e[55]!==C||e[56]!==v||e[57]!==M||e[58]!==E||e[59]!==y||e[60]!==x||e[61]!==b?(O=t.jsxs(dt,{isOpen:!0,testId:"modal-disable-app",visuallyHiddenHeader:!0,title:y,onClose:h,size:"custom",className:"max-w-sm",noPadding:!0,children:[x,b,C,v,M,E]}),e[54]=h,e[55]=C,e[56]=v,e[57]=M,e[58]=E,e[59]=y,e[60]=x,e[61]=b,e[62]=O):O=e[62],O},$t=Ye({deleteAppTitle:{id:"gc0+ex",defaultMessage:"Are you sure you want to delete {appName}?"},disableAppTitle:{id:"z492vo",defaultMessage:"Are you sure you want to disable {appName}?"},temporaryDeleteAppDescription:{id:"BGVQSX",defaultMessage:"This will remove {appName} from your workspace. It can be re-enabled later if needed."},syncDeleteAppDescription:{id:"7BSyQ8",defaultMessage:"Disabling this app will also delete all synced data. This action cannot be undone."},permanentDeleteAppDescription:{id:"LN5HDH",defaultMessage:"This will permanently delete {appName} from your workspace. This action cannot be undone."},cancel:{id:"ddm9wN",defaultMessage:"Cancel"},disable:{id:"kzP5Xl",defaultMessage:"Disable"},delete:{id:"/3qDZi",defaultMessage:"Delete"},disabledSuccess:{id:"rivom/",defaultMessage:"{appName} was disabled."},deleteSuccess:{id:"MjKNXj",defaultMessage:"{appName} was deleted."},updateFailed:{id:"qsgYfg",defaultMessage:"Failed to update app settings."}});function vm(s){return s.connections.length>0}const vl={sharepoint_admin:"sharepoint",google_drive_oauth:"google_drive",google_drive_dwd:"google_drive"},wl=L.createContext(()=>{}),wm=s=>{"use forget";const e=q.c(5),{children:n}=s,[o,a]=L.useState(null);let l;e[0]!==o?(l=o&&t.jsx(kl,{app:o,onClose:()=>a(null)}),e[0]=o,e[1]=l):l=e[1];let c;return e[2]!==n||e[3]!==l?(c=t.jsxs(wl.Provider,{value:a,children:[l,n]}),e[2]=n,e[3]=l,e[4]=c):c=e[4],c},kl=s=>{"use forget";const e=q.c(21),{app:n,onClose:o}=s,a=n.knowledgeConfig[0].key,l=vl[a]||a,c=mn();let i;e[0]!==c||e[1]!==o?(i=()=>{c(),o()},e[0]=c,e[1]=o,e[2]=i):i=e[2];const r=i;let d;e[3]!==n.knowledgeConfig?(d=n.knowledgeConfig.some(km),e[3]=n.knowledgeConfig,e[4]=d):d=e[4];const u=d,m=Ka(void 0,!1,r),p=m.open;let f,g;if(e[5]!==u||e[6]!==p?(f=()=>{u&&p()},g=[u,p],e[5]=u,e[6]=p,e[7]=f,e[8]=g):(f=e[7],g=e[8]),L.useEffect(f,g),u)return m.modals;if(l==="google_drive"){let b;e[9]!==n.knowledgeConfig?(b=n.knowledgeConfig.some(_m),e[9]=n.knowledgeConfig,e[10]=b):b=e[10];const j=b;let C;return e[11]!==j||e[12]!==r?(C=t.jsx(tc,{isDwdEnabled:j,onClose:r,triggerLocation:"admin_settings"}),e[11]=j,e[12]=r,e[13]=C):C=e[13],C}if(l==="slack"){let b;return e[14]!==r?(b=t.jsx(Wr,{onClose:r}),e[14]=r,e[15]=b):b=e[15],b}let h;e[16]!==l?(h=Ur(l),e[16]=l,e[17]=h):h=e[17];const y=h.Controller;let x;return e[18]!==y||e[19]!==r?(x=t.jsx(y,{onClose:r}),e[18]=y,e[19]=r,e[20]=x):x=e[20],x};function km(s){return s.key==="sharepoint_admin"}function _m(s){return s.key==="google_drive_dwd"}const Nm=s=>{"use forget";const e=q.c(36),{disabled:n,role:o,enabled:a,indeterminate:l,onToggle:c}=s,i=pe(),r="role-toggle-".concat(o.id),d=n?"cursor-not-allowed":"cursor-pointer";let u;e[0]!==d?(u=ue(["border-token-border-default block border-b py-2 group-last:border-0",d]),e[0]=d,e[1]=u):u=e[1];const m=!n&&"group-hover:bg-token-bg-tertiary";let p;e[2]!==m?(p=ue("flex items-center gap-3 rounded-lg p-2",m),e[2]=m,e[3]=p):p=e[3];let f;e[4]!==c?(f=M=>c(M.target.checked),e[4]=c,e[5]=f):f=e[5];let g;e[6]!==n||e[7]!==a||e[8]!==l||e[9]!==f||e[10]!==r?(g=t.jsx(ts,{id:r,checked:a,disabled:n,onChange:f,indeterminate:l}),e[6]=n,e[7]=a,e[8]=l,e[9]=f,e[10]=r,e[11]=g):g=e[11];const h=n&&"text-token-text-secondary";let y;e[12]!==h?(y=ue("flex items-center gap-1 truncate text-sm font-medium",h),e[12]=h,e[13]=y):y=e[13];let x;e[14]!==i||e[15]!==o.name||e[16]!==o.predefined_role?(x=o.predefined_role?t.jsxs(t.Fragment,{children:[i.formatMessage(Ts.rolesModalWorkspaceDefaultRole),t.jsx("span",{className:"text-token-text-secondary my-0.5 rounded-full border px-1.5 py-0.5 text-[9px]",children:t.jsx(k,S({},Ts.rolesModalWorkspaceDefaultRoleBadge))})]}):o.name,e[14]=i,e[15]=o.name,e[16]=o.predefined_role,e[17]=x):x=e[17];let b;e[18]!==y||e[19]!==x?(b=t.jsx("div",{className:y,children:x}),e[18]=y,e[19]=x,e[20]=b):b=e[20];let j;e[21]!==i||e[22]!==o.description||e[23]!==o.predefined_role?(j=o.description&&t.jsx("div",{className:"text-token-text-tertiary mt-0.5 text-xs",children:o.predefined_role?i.formatMessage(Ts.rolesModalWorkspaceDefaultRoleDescription):o.description}),e[21]=i,e[22]=o.description,e[23]=o.predefined_role,e[24]=j):j=e[24];let C;e[25]!==b||e[26]!==j?(C=t.jsxs("div",{className:"rounded-lg",children:[b,j]}),e[25]=b,e[26]=j,e[27]=C):C=e[27];let w;e[28]!==C||e[29]!==p||e[30]!==g?(w=t.jsxs("div",{className:p,children:[g,C]}),e[28]=C,e[29]=p,e[30]=g,e[31]=w):w=e[31];let v;return e[32]!==w||e[33]!==u||e[34]!==r?(v=t.jsx("li",{className:"group",children:t.jsx("label",{htmlFor:r,className:u,children:w})}),e[32]=w,e[33]=u,e[34]=r,e[35]=v):v=e[35],v},Mm=s=>{"use forget";const e=q.c(39),{disabled:n,roles:o,onToggle:a,enabledRoles:l,indeterminateRoles:c}=s,i=pe();let r;e[0]!==o?(r=o.toSorted(Am),e[0]=o,e[1]=r):r=e[1];const d=r,[u,m]=L.useState("");let p;e[2]!==i||e[3]!==u||e[4]!==d?(p=u===""?d:Aa(d,u,N=>{var A;return{targets:[N.role.predefined_role?i.formatMessage(Ts.rolesModalWorkspaceDefaultRole):N.role.name,N.role.predefined_role?i.formatMessage(Ts.rolesModalWorkspaceDefaultRoleBadge):void 0,(A=N.role.description)!=null?A:""]}}),e[2]=i,e[3]=u,e[4]=d,e[5]=p):p=e[5];const f=p;let g;if(e[6]!==l||e[7]!==f){let N;e[9]!==l?(N=A=>l==null?void 0:l.has(A.role.id),e[9]=l,e[10]=N):N=e[10],g=f.every(N),e[6]=l,e[7]=f,e[8]=g}else g=e[8];const h=g;let y;e[11]===Symbol.for("react.memo_cache_sentinel")?(y=N=>m(N.target.value),e[11]=y):y=e[11];let x;e[12]!==i?(x=i.formatMessage({id:"hhmvjo",defaultMessage:"Search by name or keyword"}),e[12]=i,e[13]=x):x=e[13];let b;e[14]!==i?(b=i.formatMessage({id:"RS8Uk8",defaultMessage:"Search roles"}),e[14]=i,e[15]=b):b=e[15];let j;e[16]!==u||e[17]!==x||e[18]!==b?(j=t.jsx("div",{children:t.jsx(on,{name:"search",value:u,onChange:y,icon:fo,iconPosition:"left",className:"w-full rounded-xl",inputClassName:"bg-token-bg-primary!",placeholder:x,ariaLabel:b})}),e[16]=u,e[17]=x,e[18]=b,e[19]=j):j=e[19];let C;e[20]!==h||e[21]!==n||e[22]!==a||e[23]!==f?(C=f.length>0&&t.jsx("div",{children:h?t.jsx(re,{color:"secondary",disabled:n,size:"small",onClick:()=>{a(f.map(Dm),!1)},children:t.jsx(k,{id:"87Enb/",defaultMessage:"Deselect all"})}):t.jsx(re,{color:"secondary",disabled:n,size:"small",onClick:()=>{a(f.map(Tm),!0)},children:t.jsx(k,{id:"TU/0sr",defaultMessage:"Select all"})})}),e[20]=h,e[21]=n,e[22]=a,e[23]=f,e[24]=C):C=e[24];let w;e[25]!==n||e[26]!==l||e[27]!==c||e[28]!==a||e[29]!==f?(w=f.length===0?t.jsx("div",{className:"text-token-text-tertiary px-4 py-6 text-center text-sm",children:t.jsx(k,{id:"bO3hZ+",defaultMessage:"No matching roles."})}):f.map(N=>{var A,D;return t.jsx(Nm,{role:N.role,disabled:n,enabled:(A=l==null?void 0:l.has(N.role.id))!=null?A:!1,indeterminate:(D=c==null?void 0:c.has(N.role.id))!=null?D:!1,onToggle:T=>a([N.role.id],T)},N.role.id)}),e[25]=n,e[26]=l,e[27]=c,e[28]=a,e[29]=f,e[30]=w):w=e[30];let v;e[31]!==w?(v=t.jsx("ul",{children:w}),e[31]=w,e[32]=v):v=e[32];let M;e[33]!==v||e[34]!==C?(M=t.jsxs("div",{className:"space-y-1",children:[C,v]}),e[33]=v,e[34]=C,e[35]=M):M=e[35];let _;return e[36]!==M||e[37]!==j?(_=t.jsxs("div",{className:"space-y-4 overflow-y-auto p-4 pb-2",children:[j,M]}),e[36]=M,e[37]=j,e[38]=_):_=e[38],_},_l=s=>{"use forget";const e=q.c(29),{onConfirm:n,disabled:o,roles:a,onClose:l,onCancel:c,initialEnabledRoles:i,initialIndeterminateRoles:r,submitting:d}=s,[u,m]=L.useState(i);let p;e[0]!==r?(p=r!=null?r:new Set,e[0]=r,e[1]=p):p=e[1];const[f,g]=L.useState(p);let h;e[2]===Symbol.for("react.memo_cache_sentinel")?(h=(D,T)=>{g(R=>{const E=new Set(R);return D.forEach(O=>{E.delete(O)}),E}),m(R=>{const E=new Set(R);return D.forEach(O=>{T?E.add(O):E.delete(O)}),E})},e[2]=h):h=e[2];const y=h;let x;e[3]!==a?(x=a!=null?a:[],e[3]=a,e[4]=x):x=e[4];let b;e[5]!==o||e[6]!==u||e[7]!==f||e[8]!==x?(b=t.jsx(Mm,{roles:x,onToggle:y,enabledRoles:u,indeterminateRoles:f,disabled:o}),e[5]=o,e[6]=u,e[7]=f,e[8]=x,e[9]=b):b=e[9];const j=c!=null?c:l;let C;e[10]===Symbol.for("react.memo_cache_sentinel")?(C=t.jsx(k,{id:"otQMlF",defaultMessage:"Cancel"}),e[10]=C):C=e[10];let w;e[11]!==d||e[12]!==j?(w=t.jsx(re,{color:"secondary",onClick:j,disabled:d,children:C}),e[11]=d,e[12]=j,e[13]=w):w=e[13];let v;e[14]!==u||e[15]!==f||e[16]!==n?(v=()=>n(Array.from(u),Array.from(f)),e[14]=u,e[15]=f,e[16]=n,e[17]=v):v=e[17];let M;e[18]===Symbol.for("react.memo_cache_sentinel")?(M=t.jsx(k,{id:"b6Dv1o",defaultMessage:"Confirm"}),e[18]=M):M=e[18];let _;e[19]!==o||e[20]!==d||e[21]!==v?(_=t.jsx(re,{onClick:v,loading:d,disabled:o,children:M}),e[19]=o,e[20]=d,e[21]=v,e[22]=_):_=e[22];let N;e[23]!==_||e[24]!==w?(N=t.jsxs("div",{className:"border-token-border-default flex justify-end gap-2 border-t p-4",children:[w,_]}),e[23]=_,e[24]=w,e[25]=N):N=e[25];let A;return e[26]!==N||e[27]!==b?(A=t.jsxs(t.Fragment,{children:[b,N]}),e[26]=N,e[27]=b,e[28]=A):A=e[28],A},Nl=s=>{"use forget";const e=q.c(17),{app:n,onClose:o,showOverlayBackground:a,disabled:l,roles:c,onConfirm:i,loading:r,initialEnabledRoles:d,onCancel:u,submitting:m}=s,p=a===void 0?!0:a,f=pe();let g;e[0]!==n.primaryConnector.name||e[1]!==f?(g=f.formatMessage({id:"jH6gE6",defaultMessage:"Which roles can access {name}?"},{name:n.primaryConnector.name}),e[0]=n.primaryConnector.name,e[1]=f,e[2]=g):g=e[2];let h;e[3]!==l||e[4]!==d||e[5]!==r||e[6]!==u||e[7]!==o||e[8]!==i||e[9]!==c||e[10]!==m?(h=r?t.jsx("div",{className:"flex justify-center py-8",children:t.jsx(Nt,{})}):t.jsx(_l,{onConfirm:i,disabled:l,roles:c,onClose:o,onCancel:u,initialEnabledRoles:d!=null?d:new Set,submitting:m}),e[3]=l,e[4]=d,e[5]=r,e[6]=u,e[7]=o,e[8]=i,e[9]=c,e[10]=m,e[11]=h):h=e[11];let y;return e[12]!==o||e[13]!==p||e[14]!==g||e[15]!==h?(y=t.jsx(dt,{testId:"modal-roles-access",title:g,isOpen:!0,onClose:o,showCloseButton:!1,size:"xlarge",showOverlayBackground:p,isScrollable:!1,contentClassName:"flex max-h-[80vh] min-h-0 flex-col",noPadding:!0,hasSeparator:!0,children:h}),e[12]=o,e[13]=p,e[14]=g,e[15]=h,e[16]=y):y=e[16],y},Sm=s=>{"use forget";var x,b,j;const e=q.c(19),{app:n,onClose:o}=s,a=Pe(),l=mt(a);let c;e[0]!==a?(c=rt(a),e[0]=a,e[1]=c):c=e[1];const i=c,r=pe(),d=Mo(n);let u;e[2]!==d.data?(u=(x=d.data)!=null&&x.roles_with_permissions?new Set((b=d.data.roles_with_permissions.filter(Rm).map(Im))!=null?b:[]):void 0,e[2]=d.data,e[3]=u):u=e[3];const m=u;let p;e[4]!==r||e[5]!==o||e[6]!==i?(p=()=>{i.success(r.formatMessage(Ts.toastRolesUpdateSuccess)),o()},e[4]=r,e[5]=o,e[6]=i,e[7]=p):p=e[7];let f;e[8]!==r||e[9]!==i?(f=()=>{i.danger(r.formatMessage(Ts.toastRolesUpdateError))},e[8]=r,e[9]=i,e[10]=f):f=e[10];const g=fm(n,p,f);if(!l)return null;const h=(j=d.data)==null?void 0:j.roles_with_permissions;let y;return e[11]!==n||e[12]!==m||e[13]!==o||e[14]!==g.isPending||e[15]!==g.mutateAsync||e[16]!==d.isLoading||e[17]!==h?(y=t.jsx(Nl,{app:n,onClose:o,roles:h,initialEnabledRoles:m,loading:d.isLoading,onConfirm:g.mutateAsync,disabled:g.isPending,submitting:g.isPending}),e[11]=n,e[12]=m,e[13]=o,e[14]=g.isPending,e[15]=g.mutateAsync,e[16]=d.isLoading,e[17]=h,e[18]=y):y=e[18],y},Ts=Ye({rolesModalWorkspaceDefaultRole:{id:"uft0cC",defaultMessage:"Workspace"},rolesModalWorkspaceDefaultRoleBadge:{id:"VEokx9",defaultMessage:"Default"},rolesModalWorkspaceDefaultRoleDescription:{id:"J/ypB7",defaultMessage:"The default role for users who are not assigned a role."},toastRolesUpdateSuccess:{id:"NiMskc",defaultMessage:"Roles updated successfully."},toastRolesUpdateError:{id:"QiYeIs",defaultMessage:"Failed to update roles. Please try again later."}});function Am(s,e){return Number(e.role.predefined_role)-Number(s.role.predefined_role)||s.role.name.localeCompare(e.role.name)}function Tm(s){return s.role.id}function Dm(s){return s.role.id}function Rm(s){return s.connector_permissions.includes(ln.UseConnector)}function Im(s){return s.role.id}const Em=s=>{"use forget";const e=q.c(26),{title:n,description:o,descriptionArgs:a,value:l,disabled:c,onChange:i}=s,r=L.useId(),d=c?"cursor-not-allowed":"group-hover:bg-token-bg-elevated-secondary";let u;e[0]!==d?(u=ue("flex items-center justify-between gap-2 rounded-lg p-2",d),e[0]=d,e[1]=u):u=e[1];const m=c&&"text-token-text-secondary";let p;e[2]!==m?(p=ue("text-sm font-medium",m),e[2]=m,e[3]=p):p=e[3];let f;e[4]!==n?(f=t.jsx(k,S({},n)),e[4]=n,e[5]=f):f=e[5];let g;e[6]!==p||e[7]!==f?(g=t.jsx("p",{className:p,children:f}),e[6]=p,e[7]=f,e[8]=g):g=e[8];let h;e[9]!==o||e[10]!==a?(h=t.jsx("p",{className:"text-token-text-secondary text-xs text-pretty",children:t.jsx(k,Ce(S({},o),{values:a}))}),e[9]=o,e[10]=a,e[11]=h):h=e[11];let y;e[12]!==g||e[13]!==h?(y=t.jsxs("div",{className:"space-y-0.5",children:[g,h]}),e[12]=g,e[13]=h,e[14]=y):y=e[14];let x;e[15]!==i?(x=C=>i(C.target.checked),e[15]=i,e[16]=x):x=e[16];let b;e[17]!==c||e[18]!==r||e[19]!==x||e[20]!==l?(b=t.jsx(ts,{id:r,checked:l,onChange:x,className:"mx-2",disabled:c}),e[17]=c,e[18]=r,e[19]=x,e[20]=l,e[21]=b):b=e[21];let j;return e[22]!==b||e[23]!==u||e[24]!==y?(j=t.jsx("li",{className:"group",children:t.jsx("label",{className:"focus-visible:ring-token-border-selected w-full cursor-pointer text-start select-none group-first-of-type:rounded-t-2xl group-last-of-type:rounded-b-2xl focus-visible:ring-2 focus-visible:outline-none",children:t.jsx("div",{className:"border-token-border-default mx-2 border-b py-2 group-last:border-0",children:t.jsxs("div",{className:u,children:[y,b]})})})}),e[22]=b,e[23]=u,e[24]=y,e[25]=j):j=e[25],j},ja=s=>{"use forget";var w;const e=q.c(46);let n,o,a,l,c,i,r,d,u;if(e[0]!==s?(w=s,{children:o,title:u,description:l,loading:i,disabled:c,badges:n,className:a,onClick:r}=w,d=Qs(w,["children","title","description","loading","disabled","badges","className","onClick"]),e[0]=s,e[1]=n,e[2]=o,e[3]=a,e[4]=l,e[5]=c,e[6]=i,e[7]=r,e[8]=d,e[9]=u):(n=e[1],o=e[2],a=e[3],l=e[4],c=e[5],i=e[6],r=e[7],d=e[8],u=e[9]),i){let v;e[10]!==u?(v=t.jsx("p",{className:"pb-0.5 text-sm font-medium",children:t.jsx(k,S({},u))}),e[10]=u,e[11]=v):v=e[11];let M;e[12]===Symbol.for("react.memo_cache_sentinel")?(M=t.jsx(Rs,{heightSize:"sm",lines:2}),e[12]=M):M=e[12];let _;return e[13]!==v?(_=t.jsxs("li",{className:"text-token-text-secondary border-token-border-default space-y-1 border-b p-4 text-sm select-none last:border-0",children:[v,M]}),e[13]=v,e[14]=_):_=e[14],_}if(c){let v;e[15]!==u?(v=t.jsx("p",{className:"text-sm font-medium",children:t.jsx(k,S({},u))}),e[15]=u,e[16]=v):v=e[16];let M;e[17]!==l?(M=t.jsx("p",{className:"text-xs text-pretty",children:t.jsx(k,S({},l))}),e[17]=l,e[18]=M):M=e[18];let _;return e[19]!==v||e[20]!==M?(_=t.jsxs("li",{className:"text-token-text-secondary border-token-border-default cursor-not-allowed space-y-0.5 border-b p-4 text-sm select-none last:border-0",children:[v,M]}),e[19]=v,e[20]=M,e[21]=_):_=e[21],_}const m=n&&"pb-1";let p;e[22]!==m?(p=ue("group-hover:bg-token-bg-elevated-secondary flex items-center justify-between gap-2 rounded-lg p-2",m),e[22]=m,e[23]=p):p=e[23];let f;e[24]!==a?(f=ue("space-y-0.5",a),e[24]=a,e[25]=f):f=e[25];let g;e[26]!==u?(g=t.jsx("p",{className:"text-sm font-medium",children:t.jsx(k,S({},u))}),e[26]=u,e[27]=g):g=e[27];let h;e[28]!==l?(h=t.jsx("p",{className:"text-token-text-secondary text-xs text-pretty",children:t.jsx(k,S({},l))}),e[28]=l,e[29]=h):h=e[29];let y;e[30]!==n?(y=n&&t.jsx("div",{className:"mt-1.5 flex flex-wrap gap-2",children:n}),e[30]=n,e[31]=y):y=e[31];let x;e[32]!==o||e[33]!==f||e[34]!==g||e[35]!==h||e[36]!==y?(x=t.jsxs("div",{className:f,children:[g,h,o,y]}),e[32]=o,e[33]=f,e[34]=g,e[35]=h,e[36]=y,e[37]=x):x=e[37];let b;e[38]===Symbol.for("react.memo_cache_sentinel")?(b=t.jsx(ro,{className:"text-token-text-secondary h-5 w-5 flex-shrink-0"}),e[38]=b):b=e[38];let j;e[39]!==p||e[40]!==x?(j=t.jsx("div",{className:"border-token-border-default mx-2 border-b py-2 group-last:border-0",children:t.jsxs("div",{className:p,children:[x,b]})}),e[39]=p,e[40]=x,e[41]=j):j=e[41];let C;return e[42]!==r||e[43]!==d||e[44]!==j?(C=t.jsx("li",{className:"group",children:t.jsx("button",Ce(S({className:"focus-visible:ring-token-border-selected w-full text-start group-first-of-type:rounded-t-2xl group-last-of-type:rounded-b-2xl focus-visible:ring-2 focus-visible:outline-none",onClick:r},d),{children:j}))}),e[42]=r,e[43]=d,e[44]=j,e[45]=C):C=e[45],C};function Pm(s){return e=>{s(n=>{const o=new Set(n);return o.has(e)?o.delete(e):o.add(e),o})}}const qn=s=>{"use forget";const e=q.c(11),{label:n,icon:o,color:a}=s,l=a===void 0?"neutral":a,c=l==="neutral"?"bg-token-bg-tertiary text-token-text-secondary":"bg-token-bg-status-warning text-token-text-status-warning";let i;e[0]!==c?(i=ue("flex w-fit items-center gap-1 rounded-full px-2.5 py-1 text-[11px] font-medium text-pretty",c),e[0]=c,e[1]=i):i=e[1];let r;e[2]!==o||e[3]!==l?(r=o&&t.jsx(o,{className:ue("icon h-3 w-3",l==="warning"&&"text-token-icon-status-warning")}),e[2]=o,e[3]=l,e[4]=r):r=e[4];let d;e[5]!==n?(d=t.jsx("span",{children:n}),e[5]=n,e[6]=d):d=e[6];let u;return e[7]!==i||e[8]!==r||e[9]!==d?(u=t.jsxs("div",{className:i,children:[r,d]}),e[7]=i,e[8]=r,e[9]=d,e[10]=u):u=e[10],u},Mn=s=>{"use forget";var tt,Ue,et,ut;const e=q.c(61),{app:n,onClose:o,showOverlayBackground:a}=s,l=a===void 0?!0:a,c=Pe(),i=ho(),r=pe(),d=$s(c,"3339786131");let u;e[0]!==c?(u=rt(c),e[0]=c,e[1]=u):u=e[1];const m=u;let p;e[2]!==i?(p=(tt=i==null?void 0:i.getWorkspaceId())!=null?tt:"",e[2]=i,e[3]=p):p=e[3];let f;e[4]!==n.primaryConnector.id||e[5]!==p?(f={workspaceId:p,connectorId:n.primaryConnector.id},e[4]=n.primaryConnector.id,e[5]=p,e[6]=f):f=e[6];const{data:g,isLoading:h}=Gs(f),y=g==null?void 0:g.roles_with_permissions.toSorted(Lm);let x;e[7]===Symbol.for("react.memo_cache_sentinel")?(x={forceEnable:!0},e[7]=x):x=e[7];const{actions:b,isLoading:j}=xs(n.primaryConnector,bt.ADMIN_SETTING,x);let C;e[8]!==c?(C=zt(c),e[8]=c,e[9]=C):C=e[9];const w=C;let v;e[10]!==i?(v=(Ue=i==null?void 0:i.isEnterprisey())!=null?Ue:!1,e[10]=i,e[11]=v):v=e[11];const M=v;let _;e[12]!==c?(_=An(c),e[12]=c,e[13]=_):_=e[13];const N=_;let A;e[14]!==c?(A=sn(c,"2281575548").get("docs_url","https://platform.openai.com/docs/mcp"),e[14]=c,e[15]=A):A=e[15];const D=A,T=sn(c,"4232437627"),R=n.primaryConnector.id!=null?T.get(n.primaryConnector.id,null):null,E=typeof R=="string"&&R.length>0?R:null;let O;e[16]===Symbol.for("react.memo_cache_sentinel")?(O=new Set,e[16]=O):O=e[16];const[F,U]=L.useState(O),[P,B]=L.useState(void 0),[W,V]=L.useState(E==null);let I,J;e[17]!==P||e[18]!==b||e[19]!==j?(I=()=>{if(!j&&P===void 0)B(new Set(b.map(Bm)));else if(!j){const je=new Set;b.forEach(ot=>{P!=null&&P.has(ot.name)&&je.add(ot.name)}),je.size!==(P==null?void 0:P.size)&&B(je)}},J=[j,b,P],e[17]=P,e[18]=b,e[19]=j,e[20]=I,e[21]=J):(I=e[20],J=e[21]),L.useEffect(I,J);const H=((et=y==null?void 0:y.length)!=null?et:0)>1,Y=n.knowledgeConfig.length>0,[Q,oe]=L.useState(!M&&Y),$=!j&&n.primaryConnector.distribution_channel==="DEFAULT_OAI_CATALOG"&&b.length===0;let G;e[22]!==n||e[23]!==c||e[24]!==Y?(G=Y&&Rn(n,c),e[22]=n,e[23]=c,e[24]=Y,e[25]=G):G=e[25];const K=G,se=L.useContext(wl),Z=va();let ee;e[26]!==n||e[27]!==se||e[28]!==r||e[29]!==Z||e[30]!==o||e[31]!==Y||e[32]!==Q||e[33]!==$||e[34]!==m?(ee=()=>{const je=is(n.primaryConnector.name,r);m.success(r.formatMessage(Ge.publishedApp,{appName:je})),Z("/admin/ca#workspace"),Y&&($||Q)&&se(n),o()},e[26]=n,e[27]=se,e[28]=r,e[29]=Z,e[30]=o,e[31]=Y,e[32]=Q,e[33]=$,e[34]=m,e[35]=ee):ee=e[35];let te;e[36]!==r||e[37]!==m?(te=je=>{m.danger(r.formatMessage(Ge.publishAppFailed,{errorMessage:je.message}))},e[36]=r,e[37]=m,e[38]=te):te=e[38];const{mutateAsync:xe,isPending:ce}=um(n,ee,te);let me;e[39]!==P||e[40]!==N||e[41]!==H||e[42]!==w||e[43]!==xe||e[44]!==F?(me=()=>{xe({enabledActions:N&&P?Array.from(P):null,enabledRoles:w&&H?Array.from(F):null})},e[39]=P,e[40]=N,e[41]=H,e[42]=w,e[43]=xe,e[44]=F,e[45]=me):me=e[45];const de=me;let ye;e[46]!==ce||e[47]!==o?(ye=()=>{ce||o()},e[46]=ce,e[47]=o,e[48]=ye):ye=e[48];const ve=ye;let _e;e[49]!==(i==null?void 0:i.name)||e[50]!==n.primaryConnector.name||e[51]!==r?(_e=r.formatMessage(Ge.publishAppTitle,{app:n.primaryConnector.name,workspace:(ut=i==null?void 0:i.name)!=null?ut:r.formatMessage(Ge.workspaceDefault)}),e[49]=i==null?void 0:i.name,e[50]=n.primaryConnector.name,e[51]=r,e[52]=_e):_e=e[52];const Ne=_e,[He,ae]=L.useState(!1),[Ie,Le]=L.useState(!1),[we,Ke]=L.useState(!1),Ee=[{title:Ge.safetyDrawerRiskOneTitle,details:Ge.safetyDrawerRiskOneDetail,actions:[Ge.safetyDrawerRiskOneActionConfigureAccess],checklist:[Ge.safetyDrawerRiskOneAcknowledgeLabel]},{title:Ge.safetyDrawerRiskTwoTitle,details:Ge.safetyDrawerRiskTwoDetail,actions:[Ge.safetyDrawerRiskTwoActionTrustCompanies,Ge.safetyDrawerRiskTwoActionReviewParameters],checklist:[Ge.safetyDrawerRiskTwoTrustLabel,Ge.safetyDrawerRiskTwoReviewLabel]}];let Te;e[53]===Symbol.for("react.memo_cache_sentinel")?(Te=new Set,e[53]=Te):Te=e[53];const[xt,fe]=L.useState(Te),ie=n.primaryConnector.distribution_channel!=="INDIVIDUAL"||Ee.reduce(Om,0)===xt.size,he=Tn,Se=jl,Me=Ie?t.jsx(yl,{showOverlayBackground:!1,app:n,onClose:()=>{Le(!1),ve()},onCancel:()=>Le(!1),onConfirm:je=>{B(new Set(je)),Le(!1)},initialEnabledActions:P,showParameterConstraints:!K}):He&&d?t.jsx(So,{app:n,onClose:()=>{ae(!1)},onBack:()=>ae(!1),showOverlayBackground:!1,showBackButton:!0}):we?t.jsx(Nl,{app:n,onClose:()=>{Ke(!1)},showOverlayBackground:!1,roles:y,initialEnabledRoles:F,onConfirm:je=>{U(new Set(je)),Ke(!1)},onCancel:()=>Ke(!1)}):t.jsxs(dt,{testId:"modal-publish-app",isOpen:!0,onClose:ve,size:"custom",className:"max-w-[448px]",contentClassName:"max-h-[90vh] flex flex-col",showOverlayBackground:!1,visuallyHiddenHeader:!0,title:Ne,noPadding:!0,children:[t.jsxs("div",{className:"overflow-y-auto p-4",children:[t.jsx("div",{className:"flex justify-end",children:t.jsx(Dn,{onClick:ve})}),t.jsxs("div",{className:"mt-2 mb-4 flex flex-col items-center",children:[t.jsx(Pn,{app:n,size:"large"}),t.jsx("div",{className:"mx-2 mt-3 text-center text-2xl font-semibold text-balance",children:Ne}),t.jsx("div",{className:"text-token-text-tertiary mt-3 text-center text-sm text-balance",children:t.jsx(k,S({},Ge.publishDescription))})]}),t.jsxs("div",{className:"mt-6 space-y-2",children:[t.jsxs("ul",{className:"border-token-border-default rounded-2xl border empty:border-0",children:[E!=null&&t.jsx("li",{className:"group",children:t.jsx("label",{className:"focus-visible:ring-token-border-selected w-full cursor-pointer text-start select-none group-first-of-type:rounded-t-2xl group-last-of-type:rounded-b-2xl focus-visible:ring-2 focus-visible:outline-none",children:t.jsx("div",{className:"border-token-border-default mx-2 border-b py-2 group-last:border-0",children:t.jsxs("div",{className:"group-hover:bg-token-bg-elevated-secondary flex items-center justify-between gap-2 rounded-lg p-2",children:[t.jsxs("div",{className:"space-y-0.5",children:[t.jsx("p",{className:"text-token-text-secondary text-sm font-medium",children:t.jsx(k,S({},Ge.instructionsTitle))}),t.jsx("p",{className:"text-token-text-secondary text-xs text-pretty",children:al(E)})]}),t.jsx(ts,{id:"publish-app-instructions-ack",checked:W,onChange:je=>V(je.target.checked),className:"mx-2"})]})})})}),M&&t.jsx(ja,{onClick:()=>Ke(!0),loading:h,disabled:!H||!w,title:Ge.accessControlTitle,description:!H||!w?Ge.accessControlNoRolesDescription:Ge.accessControlDescription,badges:F.size===0?t.jsx(qn,{label:r.formatMessage(Ge.noRolesDescription),icon:nn,color:"warning"}):y==null?void 0:y.filter(je=>F.has(je.role.id)).map(je=>t.jsx(qn,{label:je.role.predefined_role?r.formatMessage(Ge.defaultRoleName):je.role.name},je.role.id))}),N&&!$&&n.primaryConnector.type!==rs&&t.jsx(ja,{onClick:()=>Le(!0),loading:j,title:Ge.configureActionsTitle,description:Ge.configureActionsDescription,badges:t.jsx(qn,{label:(P==null?void 0:P.size)===b.length?r.formatMessage(Ge.allActionsEnabled):P&&P.size>0?r.formatMessage(Ge.countActionsEnabled,{count:P.size}):r.formatMessage(Ge.noActionsEnabled),color:b.length>0&&(P==null?void 0:P.size)===0?"warning":"neutral",icon:b.length>0&&(P==null?void 0:P.size)===0?nn:void 0})}),K&&t.jsx(Em,{onChange:je=>oe(je),value:$||Q,disabled:$,title:Ge.enableSyncTitle,description:$?Ge.syncOnlyDescription:Ge.enableSyncDescription,descriptionArgs:{name:n.primaryConnector.name}})]}),n.primaryConnector.distribution_channel==="INDIVIDUAL"&&t.jsx(cl,{children:Ee.map((je,ot)=>t.jsx(il,{id:"risk-".concat(ot),title:je.title,checklistItems:je.checklist,checkedIds:xt,onToggleCheckbox:Pm(fe),children:t.jsx(rl,{details:je.details,actions:je.actions})},ot))})]})]}),t.jsxs("div",{className:"border-t-token-border-default flex items-center justify-between border-t p-4",children:[t.jsx("div",{className:"text-md flex items-center gap-2",children:n.primaryConnector.distribution_channel==="INDIVIDUAL"&&t.jsxs(_t,{href:D,openNewTab:!0,className:"text-token-text-tertiary hover:text-token-text-secondary flex items-center text-sm",children:[t.jsx(_a,{className:"me-1.5 inline h-4.5 w-4.5"}),t.jsx(k,S({},Ge.docLinkText))]})}),t.jsxs("div",{className:"flex justify-end gap-2",children:[t.jsx(re,{size:"medium",color:"secondary",onClick:ve,disabled:ce,children:t.jsx(k,S({},Ge.cancel))}),t.jsx(re,{size:"medium",onClick:()=>de(),loading:ce,disabled:h||!ie||!W||(P==null?void 0:P.size)===0&&b.length>0||w&&H&&F.size===0,children:t.jsx(k,S({},Ge.publishApp))})]})]})]});let Fe;e[54]!==Se||e[55]!==l||e[56]!==Me?(Fe=t.jsx(Se,{showBackground:l,children:Me}),e[54]=Se,e[55]=l,e[56]=Me,e[57]=Fe):Fe=e[57];let ze;return e[58]!==he||e[59]!==Fe?(ze=t.jsx(he,{children:Fe}),e[58]=he,e[59]=Fe,e[60]=ze):ze=e[60],ze},Ge=Ye({publishAppTitle:{id:"PyP2fQ",defaultMessage:"Publish {app} to {workspace}"},workspaceDefault:{id:"/UQR0X",defaultMessage:"your workspace"},publishApp:{id:"BcYxts",defaultMessage:"Publish"},publishedApp:{id:"PRZ0Ko",defaultMessage:"App published"},publishDescription:{id:"oT8Ft+",defaultMessage:"Make this app available for members of your workspace to use."},instructionsTitle:{id:"2X8jAT",defaultMessage:"Instructions"},accessControlTitle:{id:"Z/Yv57",defaultMessage:"Configure access"},accessControlDescription:{id:"s0HMdg",defaultMessage:"Allow specific roles to use this app"},toolCapabilitiesTitle:{id:"3nyEsR",defaultMessage:"App actions"},toolCapabilitiesSubtitle:{id:"Z/7k/u",defaultMessage:"Self-reported by the app developer"},noDescription:{id:"w1pW20",defaultMessage:"No description provided"},cancel:{id:"JV4UNk",defaultMessage:"Cancel"},reviewActionsTitle:{id:"6znmmt",defaultMessage:"Review all actions"},reviewActionsDescription:{id:"c/OHAe",defaultMessage:"Review each action carefully before publishing this app. ChatGPT will freeze the actions list when you publish, but developers may change the implementation of actions on their servers at any time. You can choose to manually 'refresh' the actions list at any point to update it."},accessControlNoRolesDescription:{id:"8CAb9a",defaultMessage:"This app will be available to all members of your workspace."},accessControlRoleCountDescription:{id:"kazn/L",defaultMessage:"{roleCount, plural, one {# role is} other {# roles are}} currently selected"},accessControlAllRolesDescription:{id:"CrVO85",defaultMessage:"All roles are currently selected"},publishAppFailed:{id:"7R4ZQQ",defaultMessage:"Failed to publish app. {errorMessage}"},docLinkText:{id:"yj9R2D",defaultMessage:"Read the docs"},configureActionsTitle:{id:"vwmuEA",defaultMessage:"Configure actions"},configureActionsDescription:{id:"G00O69",defaultMessage:"Configure which actions are available to users"},safetyDrawerRiskOneTitle:{id:"m6QJI0",defaultMessage:"Review potential risk: Unauthorized data access"},safetyDrawerRiskOneDetail:{id:"XlXGmM",defaultMessage:"Attackers may use prompt injections to affect conversations your enterprise users have, to trick ChatGPT into fetching sensitive data from this app and sending it to the attacker. <link>Learn more</link>"},safetyDrawerRiskOneActionConfigureAccess:{id:"VKB56x",defaultMessage:"Configure access to minimize how many people have access. If possible, audit usage of this app for security issues."},safetyDrawerRiskOneAcknowledgeLabel:{id:"KwKSY3",defaultMessage:"I understand"},safetyDrawerRiskTwoTitle:{id:"etnK5E",defaultMessage:"Review potential risk: Malicious app"},safetyDrawerRiskTwoDetail:{id:"v3hN6U",defaultMessage:"OpenAI hasn't reviewed this app. If it is malicious, it may attempt to use attacks like prompt injections to access and obtain sensitive data from your enterprise's users. <link>Learn more</link>"},safetyDrawerRiskTwoActionTrustCompanies:{id:"S7fYtl",defaultMessage:"Only use apps from companies that you trust."},safetyDrawerRiskTwoActionReviewParameters:{id:"9NaFjZ",defaultMessage:"Review the parameters being sent as input to each action carefully, and ensure that they are not requesting sensitive data that they shouldn't."},safetyDrawerRiskTwoTrustLabel:{id:"07wb6c",defaultMessage:"I trust this app"},safetyDrawerRiskTwoReviewLabel:{id:"Ew9zCa",defaultMessage:"I have reviewed the parameters being sent to each action and they do not request sensitive data that they shouldn't."},refreshActionsError:{id:"AHelUR",defaultMessage:"Failed to refresh app actions"},defaultRoleName:{id:"zSSaO/",defaultMessage:"Workspace"},allActionsEnabled:{id:"wfVg2J",defaultMessage:"All actions enabled"},countActionsEnabled:{id:"gZOZ2u",defaultMessage:"{count, plural, one {# action enabled} other {# actions enabled}}"},noActionsEnabled:{id:"ca1hN8",defaultMessage:"No actions enabled"},noRolesDescription:{id:"uRSzIR",defaultMessage:"Nobody"},configureActionsSyncOnlyDescription:{id:"98UC4q",defaultMessage:"This sync app does not have any actions"},enableSyncTitle:{id:"SGJgTC",defaultMessage:"Enable sync"},enableSyncDescription:{id:"rr7bZL",defaultMessage:"Keep your {name} data indexed, stored, and kept up to date in ChatGPT"},syncOnlyDescription:{id:"KHa0ha",defaultMessage:"{name} only works with sync."}});function Lm(s,e){return Number(e.role.predefined_role)-Number(s.role.predefined_role)||s.role.name.localeCompare(e.role.name)}function Bm(s){return s.name}function Om(s,e){return s+e.checklist.length}const tn=s=>{"use forget";const e=q.c(2),{label:n}=s;let o;return e[0]!==n?(o=t.jsx("span",{className:"text-token-text-secondary my-0.5 rounded-full border px-1.5 py-0.5 text-[9px] uppercase",children:n}),e[0]=n,e[1]=o):o=e[1],o},Fm=s=>{"use forget";const e=q.c(2),{label:n}=s;let o;return e[0]!==n?(o=t.jsx("span",{className:"text-token-text-reverse my-0.5 rounded-full bg-yellow-300 px-1.5 py-0.5 text-[9px] uppercase",children:n}),e[0]=n,e[1]=o):o=e[1],o},$m=s=>{"use forget";const e=q.c(18),{app:n,focused:o}=s,a=o===void 0?!1:o,[l,c]=L.useState(!1);if(n.primaryConnector.type===rs){let h;return e[0]!==n?(h=t.jsx("div",{className:"py-4",children:t.jsx(lo,{app:n})}),e[0]=n,e[1]=h):h=e[1],h}let i;e[2]!==n||e[3]!==l?(i=l&&t.jsx(Ln,{app:n,onClose:()=>c(!1)}),e[2]=n,e[3]=l,e[4]=i):i=e[4];let r;e[5]===Symbol.for("react.memo_cache_sentinel")?(r=()=>c(!0),e[5]=r):r=e[5];const d=a&&"opacity-100";let u;e[6]!==d?(u=ue("from-token-interactive-bg-accent-default/50 absolute start-0 top-0 -z-10 -mx-2 my-2 h-[calc(100%-1rem)] w-[calc(100%+2rem)] rounded-s-2xl bg-linear-to-r to-transparent opacity-0 transition-opacity duration-1000",d),e[6]=d,e[7]=u):u=e[7];let m;e[8]!==u?(m=t.jsx("div",{className:u}),e[8]=u,e[9]=m):m=e[9];let p;e[10]!==n?(p=t.jsx("div",{className:"py-2",children:t.jsx(lo,{app:n})}),e[10]=n,e[11]=p):p=e[11];let f;e[12]!==m||e[13]!==p?(f=t.jsxs("button",{className:"relative block h-full w-full py-2 text-start",onClick:r,children:[m,p]}),e[12]=m,e[13]=p,e[14]=f):f=e[14];let g;return e[15]!==i||e[16]!==f?(g=t.jsxs(t.Fragment,{children:[i,f]}),e[15]=i,e[16]=f,e[17]=g):g=e[17],g},lo=s=>{"use forget";var _,N;const e=q.c(44),{app:n,context:o}=s,a=o===void 0?"workspace":o,l=pe(),c=n.primaryConnector.actions_changed_since_review,i=!!n.primaryConnector.submission,r=(_=n.primaryConnector.submission)==null?void 0:_.version_id,d=(N=n.primaryConnector.app_metadata)==null?void 0:N.version;let u;e[0]!==n?(u=t.jsx(Pn,{app:n,size:"medium"}),e[0]=n,e[1]=u):u=e[1];let m;e[2]!==n.primaryConnector.name?(m=t.jsx("p",{className:"font-medium",children:n.primaryConnector.name}),e[2]=n.primaryConnector.name,e[3]=m):m=e[3];let p;e[4]!==n.primaryConnector.type||e[5]!==l?(p=n.primaryConnector.type===rs&&t.jsx(tn,{label:l.formatMessage(nt.fileUploadLabel)}),e[4]=n.primaryConnector.type,e[5]=l,e[6]=p):p=e[6];let f;e[7]!==n.primaryConnector.distribution_channel||e[8]!==l?(f=n.primaryConnector.distribution_channel==="INDIVIDUAL"&&t.jsx(tn,{label:l.formatMessage(nt.developerLabel)}),e[7]=n.primaryConnector.distribution_channel,e[8]=l,e[9]=f):f=e[9];let g;e[10]!==n.primaryConnector.distribution_channel||e[11]!==l?(g=n.primaryConnector.distribution_channel==="TENANT_CATALOG"&&t.jsx(tn,{label:l.formatMessage(nt.customLabel)}),e[10]=n.primaryConnector.distribution_channel,e[11]=l,e[12]=g):g=e[12];let h;e[13]!==l||e[14]!==i?(h=i&&t.jsx(tn,{label:l.formatMessage(nt.agentAppLabel)}),e[13]=l,e[14]=i,e[15]=h):h=e[15];let y;e[16]!==d||e[17]!==l||e[18]!==r?(y=r&&d&&r!==d&&t.jsx(Fm,{label:l.formatMessage(nt.newVersionLabel,{version:r})}),e[16]=d,e[17]=l,e[18]=r,e[19]=y):y=e[19];let x;e[20]!==m||e[21]!==p||e[22]!==f||e[23]!==g||e[24]!==h||e[25]!==y?(x=t.jsxs("div",{className:"flex flex-wrap items-center gap-x-1.5",children:[m,p,f,g,h,y]}),e[20]=m,e[21]=p,e[22]=f,e[23]=g,e[24]=h,e[25]=y,e[26]=x):x=e[26];let b;e[27]!==a||e[28]!==l||e[29]!==c?(b=c&&a==="workspace"&&t.jsxs("span",{className:"bg-token-bg-tertiary text-token-text-secondary inline-flex items-center gap-1 rounded-full px-2 py-0.5 text-[11px] font-medium whitespace-nowrap select-none",title:l.formatMessage(nt.reviewActionsIndicatorTooltip),children:[t.jsx(nn,{className:"h-3.5 w-3.5"}),t.jsx(k,S({},nt.reviewActionsIndicator))]}),e[27]=a,e[28]=l,e[29]=c,e[30]=b):b=e[30];let j;e[31]!==b||e[32]!==x?(j=t.jsxs("div",{className:"flex items-center gap-2",children:[x,b]}),e[31]=b,e[32]=x,e[33]=j):j=e[33];let C;e[34]!==n.primaryConnector.description?(C=n.primaryConnector.description||t.jsx(k,{id:"lrKj1n",defaultMessage:"No description provided"}),e[34]=n.primaryConnector.description,e[35]=C):C=e[35];let w;e[36]!==C?(w=t.jsx("div",{children:t.jsx("p",{className:"text-token-text-secondary line-clamp-1 max-w-lg overflow-hidden text-sm text-ellipsis",children:C})}),e[36]=C,e[37]=w):w=e[37];let v;e[38]!==j||e[39]!==w?(v=t.jsxs("div",{className:"flex flex-col",children:[j,w]}),e[38]=j,e[39]=w,e[40]=v):v=e[40];let M;return e[41]!==v||e[42]!==u?(M=t.jsxs("div",{className:"flex min-w-48 items-center gap-3",children:[u,v]}),e[41]=v,e[42]=u,e[43]=M):M=e[43],M},Hn=L.cache((s,e)=>{var a;if(typeof document>"u"||!e)return s.length*8;(a=window.globalCanvas)!=null||(window.globalCanvas=document.createElement("canvas"));const n=window.globalCanvas.getContext("2d");return n?(n.font=e,n.measureText(s).width):s.length*8}),zm=s=>{"use forget";const e=q.c(37),{app:n}=s,o=pe(),a=Mo(n);let l;if(e[0]!==o||e[1]!==a.data){const _=fn(a.data);let N;e[3]!==o?(N=A=>A.role.predefined_role?o.formatMessage(nt.defaultRoleName):A.role.name,e[3]=o,e[4]=N):N=e[4],l=_.toSorted(Gm).map(N),e[0]=o,e[1]=a.data,e[2]=l}else l=e[2];const c=l,[i,r]=L.useState(0),d=L.useRef(null);let u;e[5]===Symbol.for("react.memo_cache_sentinel")?(u=[],e[5]=u):u=e[5];const[m,p]=L.useState(u),[f,g]=L.useState(0);let h;e[6]!==o?(h=o.formatMessage(nt.moreWidthRolesMessage,{count:1}),e[6]=o,e[7]=h):h=e[7];const y=h;let x,b;e[8]!==y||e[9]!==c?(x=()=>{const _=d.current?getComputedStyle(d.current).font:null;p(c.map((N,A)=>Hn(A>0?", ".concat(N):N,_))),g(Hn(y,_)+4)},b=[c,Hn,y],e[8]=y,e[9]=c,e[10]=x,e[11]=b):(x=e[10],b=e[11]),Zn(x,b);let j;e[12]!==a.isLoading?(j=()=>{if(!d.current||a.isLoading)return;const _=new ResizeObserver(N=>{N.forEach(A=>{r(A.contentRect.width)})});return _.observe(d.current),()=>{_.disconnect()}},e[12]=a.isLoading,e[13]=j):j=e[13];let C;e[14]!==a.data?(C=[d,a.data],e[14]=a.data,e[15]=C):C=e[15],Zn(j,C);let w;e:{if(i===0){let T;e[16]!==c?(T=c.join(", "),e[16]=c,e[17]=T):T=e[17],w=T;break e}if(m.reduce(Vm,0)<=i){let T;e[18]!==c?(T=c.join(", "),e[18]=c,e[19]=T):T=e[19],w=T;break e}let N;if(e[20]!==i||e[21]!==f||e[22]!==c||e[23]!==m){N=[];let T=0;for(let R=0;R<c.length;R++){const E=m[R];if(T+E>i-f)break;N.push(c[R]),T=T+E}e[20]=i,e[21]=f,e[22]=c,e[23]=m,e[24]=N}else N=e[24];const A=c.length-N.length;let D;e[25]!==N||e[26]!==o||e[27]!==A?(D=o.formatMessage(nt.moreRolesMessage,{roles:N.join(", "),count:A}),e[25]=N,e[26]=o,e[27]=A,e[28]=D):D=e[28],w=D}const v=w;if(a.isLoading){let _;return e[29]===Symbol.for("react.memo_cache_sentinel")?(_=t.jsx("div",{className:"block w-32",children:t.jsx(za,{})}),e[29]=_):_=e[29],_}if(c.length===0){let _;e[30]!==o?(_=o.formatMessage(nt.noUsersAccessTooltip),e[30]=o,e[31]=_):_=e[31];let N;e[32]===Symbol.for("react.memo_cache_sentinel")?(N=t.jsxs("span",{className:"text-token-text-secondary inline-flex items-center gap-1 text-sm whitespace-nowrap",children:[t.jsx(k,{id:"N+P2/8",defaultMessage:"Nobody"}),t.jsx(nn,{className:"text-token-icon-warning inline h-4 w-4"})]}),e[32]=N):N=e[32];let A;return e[33]!==_?(A=t.jsx(cs,{label:_,children:N}),e[33]=_,e[34]=A):A=e[34],A}let M;return e[35]!==v?(M=t.jsx("div",{className:"relative flex w-full min-w-36 items-center text-sm",ref:d,children:t.jsx("span",{className:"text-token-text-secondary absolute line-clamp-1 w-full overflow-hidden text-ellipsis",children:v})}),e[35]=v,e[36]=M):M=e[36],M},Um=s=>{"use forget";const e=q.c(27),{app:n}=s,o=pe();let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=$a(new Date),e[0]=a):a=e[0];const c=Qa(a);let i,r;if(e[1]!==c.data||e[2]!==c.isError||e[3]!==c.isLoading||e[4]!==n.knowledgeConfig||e[5]!==n.primaryConnector||e[6]!==n.relatedConnectors||e[7]!==o){const u=new Intl.NumberFormat(void 0,{notation:"compact",maximumSignificantDigits:3});let m,p;if(e[10]!==c.data||e[11]!==n.knowledgeConfig||e[12]!==n.primaryConnector||e[13]!==n.relatedConnectors){const g=new Set([...n.knowledgeConfig.map(qm),...n.knowledgeConfig.map(Hm)].filter(Boolean));if(e[16]!==c.data||e[17]!==n.primaryConnector||e[18]!==n.relatedConnectors){let y;e[20]!==c.data?(y=(x,b)=>{var j,C,w,v;return x+((C=(j=c.data)==null?void 0:j.get(b.id))!=null?C:0)+Number(b.connector_type==="MCP"&&((v=(w=c.data)==null?void 0:w.get("mcp_".concat(b.id)))!=null?v:0))},e[20]=c.data,e[21]=y):y=e[21],m=[n.primaryConnector,...n.relatedConnectors].reduce(y,0),e[16]=c.data,e[17]=n.primaryConnector,e[18]=n.relatedConnectors,e[19]=m}else m=e[19];let h;e[22]!==c.data?(h=(y,x)=>{var b,j;return y+((j=(b=c.data)==null?void 0:b.get(x))!=null?j:0)},e[22]=c.data,e[23]=h):h=e[23],p=Array.from(g).reduce(h,0),e[10]=c.data,e[11]=n.knowledgeConfig,e[12]=n.primaryConnector,e[13]=n.relatedConnectors,e[14]=m,e[15]=p}else m=e[14],p=e[15];const f=m+p;i="text-token-text-secondary min-w-16 text-sm",r=c.isLoading?t.jsx(za,{}):c.isError?t.jsx("span",{className:"text-token-text-tertiary select-none",children:t.jsx(cs,{label:o.formatMessage(nt.metricsErrorTooltip),delayDuration:500,children:t.jsx(k,S({},nt.metricsErrorContent))})}):f>0?t.jsx("span",{children:u.format(f)}):null,e[1]=c.data,e[2]=c.isError,e[3]=c.isLoading,e[4]=n.knowledgeConfig,e[5]=n.primaryConnector,e[6]=n.relatedConnectors,e[7]=o,e[8]=i,e[9]=r}else i=e[8],r=e[9];let d;return e[24]!==i||e[25]!==r?(d=t.jsx("div",{className:i,children:r}),e[24]=i,e[25]=r,e[26]=d):d=e[26],d},Wm=s=>{"use forget";var de,ye;const e=q.c(79),{app:n}=s,o=Pe();let a;e[0]!==o?(a=zt(o),e[0]=o,e[1]=a):a=e[1];const l=a;let c;e[2]!==o?(c=An(o),e[2]=o,e[3]=c):c=e[3];const i=c,r=n.primaryConnector.status!=="ONLY_ME"&&n.primaryConnector.status!=="DISABLED_BY_ADMIN",d=n.knowledgeConfig.length>0;let u;e[4]!==n.knowledgeConfig?(u=n.knowledgeConfig.some(Qm),e[4]=n.knowledgeConfig,e[5]=u):u=e[5];const m=u,p=Mo(n);let f;e[6]===Symbol.for("react.memo_cache_sentinel")?(f={forceEnable:!0},e[6]=f):f=e[6];const g=xs(n.primaryConnector,bt.ADMIN_SETTING,f);let h;e[7]!==p.data?(h=fn(p.data),e[7]=p.data,e[8]=h):h=e[8];const y=h,x=!p.isLoading&&y.length===0,b=!p.isLoading&&((ye=(de=p.data)==null?void 0:de.roles_with_permissions.length)!=null?ye:0)>1;let j;e[9]!==n||e[10]!==o?(j=Rn(n,o),e[9]=n,e[10]=o,e[11]=j):j=e[11];const C=j;let w;e[12]!==n.knowledgeConfig?(w=n.knowledgeConfig.some(Ym),e[12]=n.knowledgeConfig,e[13]=w):w=e[13];const v=w,M=n.primaryConnector.type!==rs&&i&&!g.isLoading&&g.actions.length>0,[_,N]=L.useState(!1),[A,D]=L.useState(!1),[T,R]=L.useState(!1),[E,O]=L.useState(!1),[F,U]=L.useState(!1),[P,B]=L.useState(!1);let W;e[14]!==n||e[15]!==r||e[16]!==E?(W=E&&t.jsx(Ln,{app:n,onClose:()=>O(!1),onPublish:r?void 0:()=>{O(!1),R(!0)}}),e[14]=n,e[15]=r,e[16]=E,e[17]=W):W=e[17];let V;e[18]!==n||e[19]!==A?(V=A&&t.jsx(Sm,{app:n,onClose:()=>D(!1)}),e[18]=n,e[19]=A,e[20]=V):V=e[20];let I;e[21]!==n||e[22]!==T?(I=T&&t.jsx(Mn,{app:n,onClose:()=>R(!1)}),e[21]=n,e[22]=T,e[23]=I):I=e[23];let J;e[24]!==n||e[25]!==_?(J=_&&t.jsx(kl,{app:n,onClose:()=>N(!1)}),e[24]=n,e[25]=_,e[26]=J):J=e[26];let H;e[27]!==n||e[28]!==F?(H=F&&t.jsx(Bd,{app:n,onClose:()=>U(!1)}),e[27]=n,e[28]=F,e[29]=H):H=e[29];let Y;e[30]!==n||e[31]!==P?(Y=P&&t.jsx(Cl,{app:n,onClose:()=>B(!1)}),e[30]=n,e[31]=P,e[32]=Y):Y=e[32];let Q;e[33]!==b||e[34]!==x||e[35]!==r||e[36]!==l||e[37]!==m||e[38]!==C||e[39]!==d?(Q=r?x&&l&&b?t.jsx(re,{color:"primary",icon:eo,onClick:()=>D(!0),className:"min-w-0",children:t.jsx(k,S({},nt.assignRolesButton))}):d&&!m&&C?t.jsx(re,{color:"secondary",icon:Xn,onClick:()=>N(!0),children:t.jsx(k,S({},nt.enableSyncButton))}):null:t.jsx(re,{color:"primary",icon:Hi,onClick:()=>R(!0),className:"min-w-0",children:t.jsx(k,S({},nt.publishButton))}),e[33]=b,e[34]=x,e[35]=r,e[36]=l,e[37]=m,e[38]=C,e[39]=d,e[40]=Q):Q=e[40];const oe=n.primaryConnector.type===rs&&n.primaryConnector.status==="DISABLED_BY_ADMIN";let $;e[41]===Symbol.for("react.memo_cache_sentinel")?($=t.jsx(cn,{}),e[41]=$):$=e[41];let G;e[42]!==oe?(G=t.jsx(be.Trigger,{color:"ghost",className:"px-2",disabled:oe,children:$}),e[42]=oe,e[43]=G):G=e[43];let K;e[44]!==n.primaryConnector.type?(K=n.primaryConnector.type!==rs&&t.jsx(be.Item,{icon:t.jsx(Ki,{}),onClick:()=>O(!0),children:t.jsx(k,S({},nt.appDetailsMenuItem))}),e[44]=n.primaryConnector.type,e[45]=K):K=e[45];let se;e[46]!==M||e[47]!==b||e[48]!==r||e[49]!==l||e[50]!==m||e[51]!==C||e[52]!==v||e[53]!==d?(se=r&&t.jsxs(t.Fragment,{children:[l&&b&&t.jsx(be.Item,{icon:t.jsx(eo,{}),onClick:()=>D(!0),children:t.jsx(k,S({},nt.userAccessMenuItem))}),M&&t.jsx(be.Item,{icon:t.jsx(Rr,{}),onClick:()=>U(!0),children:t.jsx(k,S({},nt.actionControlMenuItem))}),d&&C&&!m&&t.jsx(be.Item,{icon:t.jsx(Xn,{}),onClick:()=>N(!0),children:t.jsx(k,S({},nt.enableSyncMenuItem))}),d&&C&&v&&t.jsx(be.Item,{icon:t.jsx(Qi,{}),onClick:()=>N(!0),children:t.jsx(k,S({},nt.syncAnotherMenuItem))})]}),e[46]=M,e[47]=b,e[48]=r,e[49]=l,e[50]=m,e[51]=C,e[52]=v,e[53]=d,e[54]=se):se=e[54];let Z;e[55]!==K||e[56]!==se?(Z=t.jsxs(be.Group,{children:[K,se]}),e[55]=K,e[56]=se,e[57]=Z):Z=e[57];let ee;e[58]!==n.primaryConnector.distribution_channel||e[59]!==n.primaryConnector.status||e[60]!==r?(ee=r||n.primaryConnector.status==="ONLY_ME"?t.jsx(be.Group,{children:t.jsx(be.Item,{color:"danger",icon:t.jsx(yo,{}),onClick:()=>B(!0),children:t.jsx(k,S({},n.primaryConnector.distribution_channel==="TENANT_CATALOG"||n.primaryConnector.distribution_channel==="INDIVIDUAL"?nt.deleteMenuItem:nt.disableMenuItem))})}):null,e[58]=n.primaryConnector.distribution_channel,e[59]=n.primaryConnector.status,e[60]=r,e[61]=ee):ee=e[61];let te;e[62]!==Z||e[63]!==ee?(te=t.jsx(be.Portal,{children:t.jsxs(be.Content,{align:"end",children:[Z,ee]})}),e[62]=Z,e[63]=ee,e[64]=te):te=e[64];let xe;e[65]!==G||e[66]!==te?(xe=t.jsxs(be.Root,{children:[G,te]}),e[65]=G,e[66]=te,e[67]=xe):xe=e[67];let ce;e[68]!==Q||e[69]!==xe?(ce=t.jsx("div",{className:"flex flex-1 justify-end",children:t.jsxs("div",{className:"text-md space-x-2 text-end whitespace-nowrap",children:[Q,xe]})}),e[68]=Q,e[69]=xe,e[70]=ce):ce=e[70];let me;return e[71]!==I||e[72]!==J||e[73]!==H||e[74]!==Y||e[75]!==ce||e[76]!==W||e[77]!==V?(me=t.jsxs(t.Fragment,{children:[W,V,I,J,H,Y,ce]}),e[71]=I,e[72]=J,e[73]=H,e[74]=Y,e[75]=ce,e[76]=W,e[77]=V,e[78]=me):me=e[78],me},Ms={TitleWrapper:$m,Title:lo,Access:zm,Metrics:Um,Actions:Wm},nt=Ye({publishButton:{id:"J5NNnJ",defaultMessage:"Publish"},appDetailsMenuItem:{id:"hmN+9a",defaultMessage:"App details"},userAccessMenuItem:{id:"zZUtRZ",defaultMessage:"User access"},actionControlMenuItem:{id:"s3R7Y4",defaultMessage:"Action control"},syncSettingsMenuItem:{id:"wRvD4A",defaultMessage:"Sync settings"},enableSyncMenuItem:{id:"94C7uk",defaultMessage:"Enable sync"},disableMenuItem:{id:"UqqoOE",defaultMessage:"Disable"},assignRolesButton:{id:"GlmMzy",defaultMessage:"Assign Roles"},enableSyncButton:{id:"kMEWWm",defaultMessage:"Enable Sync"},deleteMenuItem:{id:"wu3GEq",defaultMessage:"Delete"},defaultRoleName:{id:"825NYR",defaultMessage:"Workspace"},moreRolesMessage:{id:"yncI31",defaultMessage:"{roles} + {count} more"},moreWidthRolesMessage:{id:"fKdKPK",defaultMessage:"+ {count} more"},reviewActionsIndicator:{id:"rEFvde",defaultMessage:"New actions"},reviewActionsIndicatorTooltip:{id:"V3N/Gk",defaultMessage:"Actions changed since last review"},customLabel:{id:"3zPrs/",defaultMessage:"Custom"},agentAppLabel:{id:"bg7Ymy",defaultMessage:"Agent"},newVersionLabel:{id:"FiMseU",defaultMessage:"New version: {version}"},fileUploadLabel:{id:"LN3nTX",defaultMessage:"File Uploads"},syncAnotherMenuItem:{id:"60Tgxc",defaultMessage:"Sync additional"},metricsErrorContent:{id:"Kn6THF",defaultMessage:"-"},metricsErrorTooltip:{id:"wJKkY5",defaultMessage:"Error loading usage metrics"},noUsersAccessTooltip:{id:"3TQq3A",defaultMessage:"No RBAC roles assigned to this app"},developerLabel:{id:"CTKYN1",defaultMessage:"Dev"}});function Gm(s,e){return Number(e.role.predefined_role)-Number(s.role.predefined_role)||s.role.name.localeCompare(e.role.name)}function Vm(s,e){return s+e}function qm(s){return s.key}function Hm(s){return vl[s.key]}function Km(s){return s.connection_status!=="deleting"&&s.connection_status!=="deleted"}function Qm(s){return s.connections.some(Km)}function Ym(s){return s.connections.length>0&&s.connections.length<s.limits.max_instances}const Xm=s=>{"use forget";var h,y;const e=q.c(22),{template:n}=s,o=pe();let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=ue("h-fit flex-shrink-0 items-center justify-center overflow-hidden rounded-xl border-[0.5px] p-2 shadow-sm"),e[0]=a):a=e[0];let l;e[1]!==n?(l=t.jsx("div",{className:a,children:t.jsx(Yi,{template:n,size:"medium"})}),e[1]=n,e[2]=l):l=e[2];const c=(h=n==null?void 0:n.display_name)!=null?h:n.name;let i;e[3]!==c?(i=t.jsx("p",{className:"font-medium",children:c}),e[3]=c,e[4]=i):i=e[4];let r;e[5]!==o?(r=o.formatMessage(Ds.templateBadge),e[5]=o,e[6]=r):r=e[6];let d;e[7]!==r?(d=t.jsx(tn,{label:r}),e[7]=r,e[8]=d):d=e[8];let u;e[9]!==i||e[10]!==d?(u=t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i,d]}),e[9]=i,e[10]=d,e[11]=u):u=e[11];let m;e[12]!==n.description?(m=(y=n.description)!=null?y:t.jsx(k,S({},Ds.templateNoDescription)),e[12]=n.description,e[13]=m):m=e[13];let p;e[14]!==m?(p=t.jsx("p",{className:"text-token-text-secondary line-clamp-1 text-sm",children:m}),e[14]=m,e[15]=p):p=e[15];let f;e[16]!==u||e[17]!==p?(f=t.jsxs("div",{className:"flex flex-col",children:[u,p]}),e[16]=u,e[17]=p,e[18]=f):f=e[18];let g;return e[19]!==f||e[20]!==l?(g=t.jsxs("div",{className:"flex items-center gap-3",children:[l,f]}),e[19]=f,e[20]=l,e[21]=g):g=e[21],g},en=s=>{"use forget";const e=q.c(8),{action:n,onClick:o}=s,a=n==="enable"?"btn btn-primary group-hover/btn:bg-gray-800 dark:group-hover/btn:bg-gray-100":"btn btn-secondary group-hover/btn:bg-token-bg-tertiary",l=n==="enable"?Ds.enableAppButton:Ds.manageAppButton;let c;e[0]!==l?(c=t.jsx(k,S({},l)),e[0]=l,e[1]=c):c=e[1];let i;e[2]!==a||e[3]!==c?(i=t.jsx("span",{className:a,children:c}),e[2]=a,e[3]=c,e[4]=i):i=e[4];let r;return e[5]!==o||e[6]!==i?(r=t.jsx("button",{type:"button",onClick:o,className:"group/btn -mx-1 -me-1 rounded-full p-1",children:i}),e[5]=o,e[6]=i,e[7]=r):r=e[7],r},Jm=s=>{"use forget";const e=q.c(45),{item:n,onManage:o}=s,[a,l]=L.useState(!1),[c,i]=L.useState(!1),[r,d]=L.useState(!1);if(n.kind==="app"){const x=n.app;if(x.primaryConnector.type===rs){let N;e[0]!==x||e[1]!==a?(N=a&&t.jsx(Mn,{app:x,onClose:()=>l(!1)}),e[0]=x,e[1]=a,e[2]=N):N=e[2];let A;e[3]!==x?(A=t.jsx("div",{className:"flex-1",children:t.jsx(Ms.Title,{app:x,context:"directory"})}),e[3]=x,e[4]=A):A=e[4];let D;e[5]!==x.primaryConnector.status||e[6]!==o?(D=x.primaryConnector.status!=="ENABLED"?t.jsx(en,{action:"enable",onClick:()=>l(!0)}):t.jsx(en,{action:"manage",onClick:()=>o==null?void 0:o()}),e[5]=x.primaryConnector.status,e[6]=o,e[7]=D):D=e[7];let T;e[8]!==A||e[9]!==D?(T=t.jsxs("div",{className:"border-token-border-light flex w-full border-b py-4 text-start select-none last:border-0",children:[A,D]}),e[8]=A,e[9]=D,e[10]=T):T=e[10];let R;return e[11]!==N||e[12]!==T?(R=t.jsxs(t.Fragment,{children:[N,T]}),e[11]=N,e[12]=T,e[13]=R):R=e[13],R}let b;e[14]!==x||e[15]!==c?(b=c&&t.jsx(Ln,{app:x,onClose:()=>i(!1),onPublish:()=>{i(!1),l(!0)}}),e[14]=x,e[15]=c,e[16]=b):b=e[16];let j;e[17]!==x||e[18]!==a?(j=a&&t.jsx(Mn,{app:x,onClose:()=>l(!1)}),e[17]=x,e[18]=a,e[19]=j):j=e[19];let C;e[20]===Symbol.for("react.memo_cache_sentinel")?(C=()=>i(!0),e[20]=C):C=e[20];let w;e[21]!==x?(w=t.jsx("div",{className:"flex-1",children:t.jsx(Ms.Title,{app:x})}),e[21]=x,e[22]=w):w=e[22];let v;e[23]!==x.primaryConnector.status||e[24]!==o?(v=x.primaryConnector.status!=="ENABLED"?t.jsx(en,{action:"enable",onClick:N=>{N.stopPropagation(),l(!0)}}):t.jsx(en,{action:"manage",onClick:N=>{N.stopPropagation(),o==null||o()}}),e[23]=x.primaryConnector.status,e[24]=o,e[25]=v):v=e[25];let M;e[26]!==w||e[27]!==v?(M=t.jsx("button",{onClick:C,className:"border-token-border-light group flex w-full border-b py-2 text-start last:border-0 focus:outline-none",children:t.jsxs("div",{className:"group-hover:bg-token-bg-elevated-secondary -mx-2 flex flex-1 items-center gap-2 rounded-2xl p-2 text-start",children:[w,v]})}),e[26]=w,e[27]=v,e[28]=M):M=e[28];let _;return e[29]!==b||e[30]!==j||e[31]!==M?(_=t.jsxs(t.Fragment,{children:[b,j,M]}),e[29]=b,e[30]=j,e[31]=M,e[32]=_):_=e[32],_}const u=n.template;let m;e[33]!==r||e[34]!==u?(m=r&&t.jsx(Co,{template:u,redirectAfter:"/admin/ca#drafts",onClose:()=>d(!1)}),e[33]=r,e[34]=u,e[35]=m):m=e[35];let p;e[36]===Symbol.for("react.memo_cache_sentinel")?(p=()=>d(!0),e[36]=p):p=e[36];let f;e[37]!==u?(f=t.jsx("div",{className:"flex-1",children:t.jsx(Xm,{template:u})}),e[37]=u,e[38]=f):f=e[38];let g;e[39]===Symbol.for("react.memo_cache_sentinel")?(g=t.jsx(en,{action:"enable",onClick:x=>{x.stopPropagation(),d(!0)}}),e[39]=g):g=e[39];let h;e[40]!==f?(h=t.jsx("button",{onClick:p,className:"border-token-border-light group flex w-full border-b py-2 text-start last:border-0 focus:outline-none",children:t.jsxs("div",{className:"group-hover:bg-token-bg-elevated-secondary -mx-2 flex flex-1 items-center gap-2 rounded-2xl p-2 text-start",children:[f,g]})}),e[40]=f,e[41]=h):h=e[41];let y;return e[42]!==m||e[43]!==h?(y=t.jsxs(t.Fragment,{children:[m,h]}),e[42]=m,e[43]=h,e[44]=y):y=e[44],y},Zm=Ua(s=>e=>{const n=s.categories;if(n&&n.size>0&&wd(e).intersection(n).size===0)return!1;const o=s.capabilities;return!(o&&o.size>0&&e.kind==="app"&&wo(e.app).intersection(o).size===0)}),eu=s=>{"use forget";const e=q.c(35),{query:n,onManage:o,filters:a}=s,l=pe(),{apps:c,appTemplates:i,isLoading:r,error:d,refetch:u}=Ya();let m;if(e[0]!==i||e[1]!==c){const C=c.filter(tu).map(su),w=i.filter(nu).map(ou);m=[...C,...w].toSorted(au),e[0]=i,e[1]=c,e[2]=m}else m=e[2];const p=m,f=Zm(a);let g;e[3]!==p||e[4]!==f?(g=p.filter(f),e[3]=p,e[4]=f,e[5]=g):g=e[5];const h=g;let y;e:{if(!n){y=h;break e}let C;e[6]!==h||e[7]!==n?(C=Aa(h,n,lu),e[6]=h,e[7]=n,e[8]=C):C=e[8],y=C}const x=y;if(r){let C;return e[9]===Symbol.for("react.memo_cache_sentinel")?(C=t.jsx("div",{className:"flex justify-center py-10",children:t.jsx(Nt,{})}),e[9]=C):C=e[9],C}if(d&&c.length===0){let C;e[10]!==l?(C=l.formatMessage(Ds.errorState),e[10]=l,e[11]=C):C=e[11];let w;e[12]!==C?(w=t.jsx("span",{className:"text-token-text-secondary text-sm",children:C}),e[12]=C,e[13]=w):w=e[13];let v;e[14]!==u?(v=()=>u(),e[14]=u,e[15]=v):v=e[15];let M;e[16]!==l?(M=l.formatMessage(Ds.retry),e[16]=l,e[17]=M):M=e[17];let _;e[18]!==v||e[19]!==M?(_=t.jsx(re,{type:"button",onClick:v,children:M}),e[18]=v,e[19]=M,e[20]=_):_=e[20];let N;return e[21]!==w||e[22]!==_?(N=t.jsxs("div",{className:"mx-auto flex w-full max-w-5xl flex-col items-center gap-3 overflow-x-auto px-4 py-6 md:px-6 lg:px-10",children:[w,_]}),e[21]=w,e[22]=_,e[23]=N):N=e[23],N}if(x.length===0){let C;e[24]!==l?(C=l.formatMessage(Ds.emptyState),e[24]=l,e[25]=C):C=e[25];let w;return e[26]!==C?(w=t.jsx("div",{className:"mx-auto w-full max-w-5xl overflow-x-auto px-4 py-6 md:px-6 lg:px-10",children:t.jsx("div",{className:"text-token-text-secondary border-token-border-soft rounded-2xl border border-dashed px-6 py-12 text-center text-sm",children:C})}),e[26]=C,e[27]=w):w=e[27],w}let b;if(e[28]!==o||e[29]!==x){let C;e[31]!==o?(C=w=>t.jsx(Jm,{item:w,onManage:w.kind==="app"?()=>o(w.app):void 0},w.kind==="app"?w.app.primaryConnector.id:w.template.template_id),e[31]=o,e[32]=C):C=e[32],b=x.map(C),e[28]=o,e[29]=x,e[30]=b}else b=e[30];let j;return e[33]!==b?(j=t.jsx("div",{className:"mx-auto w-full max-w-5xl space-y-12 overflow-x-auto px-4 pb-8 md:px-6 lg:px-10",children:t.jsx("div",{children:b})}),e[33]=b,e[34]=j):j=e[34],j},Ds=Ye({searchPlaceholder:{id:"FzuWgG",defaultMessage:"Search apps"},emptyState:{id:"N3bJPI",defaultMessage:"No apps match your search."},errorState:{id:"sXdfMg",defaultMessage:"We ran into a problem loading the app directory."},retry:{id:"ZAcw05",defaultMessage:"Try again"},enableAppButton:{id:"xB2VnT",defaultMessage:"Enable"},templateBadge:{id:"dQBsvV",defaultMessage:"Template"},templateNoDescription:{id:"lkvMaL",defaultMessage:"No description provided."},manageAppButton:{id:"5k1e6b",defaultMessage:"Manage"}});function tu(s){return s.primaryConnector.distribution_channel!=="TENANT_CATALOG"&&s.primaryConnector.distribution_channel!=="INDIVIDUAL"||s.primaryConnector.status==="DISABLED_BY_ADMIN"}function su(s){return{kind:"app",app:s,name:s.primaryConnector.name,description:s.primaryConnector.description}}function nu(s){return!!s.name}function ou(s){return{kind:"template",template:s,name:s.name,description:s.description}}function au(s,e){return s.name.localeCompare(e.name)}function lu(s){var e,n,o,a,l,c,i,r,d;return{targets:[s.name,(e=s.description)!=null?e:void 0,s.kind==="app"?(o=(n=s.app.primaryConnector.branding)==null?void 0:n.category)!=null?o:void 0:(l=(a=s.template.branding)==null?void 0:a.category)!=null?l:void 0,s.kind==="template"?(i=(c=s.template.branding)==null?void 0:c.developer)!=null?i:void 0:(d=(r=s.app.primaryConnector.branding)==null?void 0:r.developer)!=null?d:void 0]}}const iu=(s,e)=>+!!s-+!!e||(s&&e?s<e?-1:1:0),Bn=L.createContext({selection:new Set}),ru=s=>{"use forget";var xt;const e=q.c(108),{columns:n,rows:o,onSelection:a,emptyMessage:l,className:c,headerCellClassName:i,rowKey:r,visibleKeys:d,children:u}=s,m=L.useId();let p;e[0]!==n?(p=n.filter(mu),e[0]=n,e[1]=p):p=e[1];const f=p;let g;e[2]!==f?(g={},f.forEach(fe=>{g[fe.field]=fe}),e[2]=f,e[3]=g):g=e[3];const h=g;let y;if(e[4]!==r||e[5]!==o){let fe;e[7]!==r?(fe=ie=>[r(ie),ie],e[7]=r,e[8]=fe):fe=e[8],y=new Map(o.map(fe)),e[4]=r,e[5]=o,e[6]=y}else y=e[6];const x=y;let b;e[9]!==f?(b=f.filter(uu),e[9]=f,e[10]=b):b=e[10];const j=b;let C;e:{let fe;e[11]!==f?(fe=f.find(fu),e[11]=f,e[12]=fe):fe=e[12];const ie=fe;if(!ie||!ie.defaultSortDirection){C=null;break e}let he;e[13]!==ie.defaultSortDirection||e[14]!==ie.field?(he={field:ie.field,direction:ie.defaultSortDirection},e[13]=ie.defaultSortDirection,e[14]=ie.field,e[15]=he):he=e[15],C=he}const w=C,[v,M]=L.useState(w);let _;e[16]!==j?(_=fe=>{const ie=j.find(he=>he.field===fe);ie&&M(he=>{var Me;if(!he||he.field!==fe)return{field:fe,direction:(Me=ie.defaultSortDirection)!=null?Me:"asc"};const Se=he.direction==="asc"?"desc":"asc";return{field:fe,direction:Se}})},e[16]=j,e[17]=_):_=e[17];const N=_;let A;e:{if(!v){A=o;break e}const fe=h[v.field];if(!fe){A=o;break e}let ie;if(e[18]!==fe||e[19]!==o||e[20]!==v.direction){let he;e[22]!==fe||e[23]!==v.direction?(he=(Se,Me)=>{var ze,tt;const Fe=v.direction==="asc"?1:-1;return iu((ze=fe.value)==null?void 0:ze.call(fe,Se),(tt=fe.value)==null?void 0:tt.call(fe,Me))*Fe},e[22]=fe,e[23]=v.direction,e[24]=he):he=e[24],ie=[...o].sort(he),e[18]=fe,e[19]=o,e[20]=v.direction,e[21]=ie}else ie=e[21];A=ie}const D=A;let T;e[25]===Symbol.for("react.memo_cache_sentinel")?(T=new Set,e[25]=T):T=e[25];const[R,E]=L.useState(T);let O;e[26]===Symbol.for("react.memo_cache_sentinel")?(O={},e[26]=O):O=e[26];const[F,U]=L.useState(O),P=L.useRef(null);let B;e[27]!==x||e[28]!==a?(B=fe=>{a&&E(ie=>{const he=new Set(ie);return he.has(fe)?he.delete(fe):he.add(fe),a(Array.from(he).map(Se=>x.get(Se)).filter(pu)),he})},e[27]=x,e[28]=a,e[29]=B):B=e[29];const W=B;let V;e[30]!==x||e[31]!==a||e[32]!==R||e[33]!==d?(V=a&&((xt=d!=null?d:new Set(x.keys()))==null?void 0:xt.isSubsetOf(R))&&!!(d!=null?d:x).size,e[30]=x,e[31]=a,e[32]=R,e[33]=d,e[34]=V):V=e[34];const I=V;let J;e[35]!==I||e[36]!==x||e[37]!==a||e[38]!==R||e[39]!==d?(J=a&&!I&&!!(d!=null?d:new Set(x.keys())).intersection(R).size,e[35]=I,e[36]=x,e[37]=a,e[38]=R,e[39]=d,e[40]=J):J=e[40];const H=J;let Y;e[41]!==I||e[42]!==x||e[43]!==a||e[44]!==d?(Y=()=>{a&&E(fe=>{const ie=new Set(fe);return(d!=null?d:x.keys()).forEach(he=>{I?ie.delete(he):ie.add(he)}),a(Array.from(ie).map(he=>x.get(he)).filter(xu)),ie})},e[41]=I,e[42]=x,e[43]=a,e[44]=d,e[45]=Y):Y=e[45];const Q=Y;let oe;e[46]!==a?(oe=()=>{E(new Set),a==null||a([])},e[46]=a,e[47]=oe):oe=e[47];const $=oe;let G;e[48]!==F?(G=fe=>{const ie=F[fe];if(ie)return{width:"".concat(ie,"px"),minWidth:"".concat(ie,"px")}},e[48]=F,e[49]=G):G=e[49];const K=G;let se;e[50]!==F?(se=Object.keys(F),e[50]=F,e[51]=se):se=e[51];const Z=se.length,[ee,te]=L.useState(!1);let xe;e[52]!==Z?(xe=fe=>ie=>{var Ae;if(typeof window>"u")return;const he=ie.currentTarget;ie.preventDefault(),ie.stopPropagation();const Se=he.closest("th"),Me=Se==null?void 0:Se.closest("table");if(!Se||!Me)return;if(Z===0){const Re=P.current;if(!Re)return;const De=Re.querySelectorAll("th[data-field]");if(De.length===0)return;U(We=>{const at=S({},We);return De.forEach(lt=>{const ht=lt.dataset.field;!ht||at[ht]||(at[ht]=Math.round(lt.getBoundingClientRect().width))}),at})}const Fe=Se.getBoundingClientRect().width,ze=(Ae=Me==null?void 0:Me.parentElement)!=null?Ae:Me,tt=Me==null?void 0:Me.getBoundingClientRect().width,Ue=window.getComputedStyle(ze),et=ze.clientWidth-parseFloat(Ue.paddingLeft)-parseFloat(Ue.paddingRight),ut=Se.nextElementSibling,je=ut instanceof HTMLTableCellElement?ut:null,ot=je==null?void 0:je.dataset.field,yt=je==null?void 0:je.getBoundingClientRect().width,jt=ie.clientX;let ct=Fe;const Je=document.body.style,gt=Je.cursor,Rt=Je.userSelect;Je.cursor="col-resize",Je.userSelect="none",te(!0);const Wt=Re=>{const De=Se.getBoundingClientRect().width,We=Math.round(Fe+Re.clientX-jt);if(De>ct&&De>We)return;ct=We;const at=tt+We-Fe,lt=at<et&&yt?Math.round(yt+(et-at)):yt;U(ht=>{const Gt=ht[fe],gs=ot!=null?ht[ot]:void 0;if(Gt===We&&gs===lt)return ht;const Vt=Ce(S({},ht),{[fe]:We});return ot&&lt!=null&&(Vt[ot]=lt),Vt})},wt=()=>{document.removeEventListener("pointermove",Wt),document.removeEventListener("pointerup",wt),document.removeEventListener("pointercancel",wt),Je.cursor=gt,Je.userSelect=Rt,te(!1)};document.addEventListener("pointermove",Wt),document.addEventListener("pointerup",wt),document.addEventListener("pointercancel",wt)},e[52]=Z,e[53]=xe):xe=e[53];const ce=xe,me=pe(),de=a?W:void 0,ye=a?$:void 0;let ve;e[54]!==f?(ve=new Set(f.map(gu)),e[54]=f,e[55]=ve):ve=e[55];let _e;e[56]!==R||e[57]!==de||e[58]!==ye||e[59]!==ve?(_e={select:de,clearSelection:ye,selection:R,visibleColumns:ve},e[56]=R,e[57]=de,e[58]=ye,e[59]=ve,e[60]=_e):_e=e[60];const Ne=a&&"lg:-ms-8";let He;e[61]!==c||e[62]!==Ne?(He=ue("relative min-w-full table-fixed border-separate border-spacing-0",Ne,c),e[61]=c,e[62]=Ne,e[63]=He):He=e[63];let ae;e[64]!==I||e[65]!==i||e[66]!==m||e[67]!==x||e[68]!==a||e[69]!==H||e[70]!==Q||e[71]!==d?(ae=a&&t.jsx("th",{className:ue("w-8 min-w-8",i),children:t.jsx("label",{className:"bg-token-bg-elevated-secondary dark:bg-token-bg-elevated-primary relative -ms-4 flex cursor-pointer items-center py-2 ps-4 text-center",children:t.jsx(ts,{id:"".concat(m,"-select-all"),checked:I,onChange:Q,disabled:(d!=null?d:x).size===0,containerClassName:"justify-center",indeterminate:H})})}),e[64]=I,e[65]=i,e[66]=m,e[67]=x,e[68]=a,e[69]=H,e[70]=Q,e[71]=d,e[72]=ae):ae=e[72];let Ie;if(e[73]!==n||e[74]!==K||e[75]!==ce||e[76]!==me||e[77]!==ee||e[78]!==(v==null?void 0:v.direction)||e[79]!==(v==null?void 0:v.field)||e[80]!==N){let fe;e[82]!==K||e[83]!==ce||e[84]!==me||e[85]!==ee||e[86]!==(v==null?void 0:v.direction)||e[87]!==(v==null?void 0:v.field)||e[88]!==N?(fe=ie=>{var ze;const he=(v==null?void 0:v.field)===ie.field,Se=he?v==null?void 0:v.direction:void 0,Me=(ze=ie.header)!=null?ze:ie.field,Fe=K(ie.field);return ie.hidden?t.jsx("th",{style:Fe},ie.field):t.jsx("th",{className:ue("bg-token-bg-elevated-secondary dark:bg-token-bg-elevated-primary w-full text-start text-sm font-medium whitespace-nowrap select-none last:pe-0",he&&"text-token-text-secondary"),"data-field":ie.resizable?ie.field:void 0,style:ie.resizable?Fe:void 0,children:t.jsxs("div",{className:"relative",children:[ie.sortable?t.jsxs("button",{type:"button",onClick:()=>N(ie.field),className:"group -ring-offset-2 outline-token-border-accent relative -ms-1 me-4 inline-flex h-9 w-full items-center gap-1 rounded-none py-2 ps-1 text-start -outline-offset-[1.5px] focus:outline-[1.5px]","aria-label":me.formatMessage(Ca.sortByColumn,{column:typeof Me=="string"?Me:ie.field}),children:[t.jsx("span",{children:Me}),t.jsx("span",{className:"inline-flex items-center rounded p-0.5",children:Se==="asc"?t.jsx(Xi,{className:"h-3 w-3"}):Se==="desc"?t.jsx(Ji,{className:"h-3 w-3"}):t.jsx(Ir,{className:"h-3 w-3 opacity-0 transition-opacity group-focus-within:opacity-100 group-hover:opacity-100"})})]}):Me,ie.resizable&&t.jsx("div",{className:"text-token-icon-tertiary hover:bg-token-interactive-bg-tertiary absolute end-0 top-0 flex h-full w-6 cursor-col-resize items-center justify-center rounded-sm select-none",role:"separator","aria-orientation":"vertical","aria-hidden":"true",onPointerDown:ce(ie.field),children:t.jsx("div",{className:ue("bg-token-bg-secondary h-4 w-0.5 rounded-full transition-opacity",ee?"opacity-100":"opacity-0 group-focus-within:opacity-100 group-hover:opacity-100")})})]})},ie.field)},e[82]=K,e[83]=ce,e[84]=me,e[85]=ee,e[86]=v==null?void 0:v.direction,e[87]=v==null?void 0:v.field,e[88]=N,e[89]=fe):fe=e[89],Ie=n.map(fe),e[73]=n,e[74]=K,e[75]=ce,e[76]=me,e[77]=ee,e[78]=v==null?void 0:v.direction,e[79]=v==null?void 0:v.field,e[80]=N,e[81]=Ie}else Ie=e[81];let Le;e[90]!==ae||e[91]!==Ie?(Le=t.jsx("thead",{ref:P,className:"text-token-text-tertiary group relative w-full",children:t.jsxs("tr",{className:"h-0",children:[ae,Ie]})}),e[90]=ae,e[91]=Ie,e[92]=Le):Le=e[92];let we;e[93]!==u||e[94]!==l||e[95]!==x||e[96]!==D||e[97]!==d?(we=(d!=null?d:x).size===0?t.jsx("tr",{children:t.jsx("td",{colSpan:9999,className:"border-token-border-light border-b pe-4 last:pe-0 [tr:last-child_&]:border-b-0",children:t.jsx("div",{className:"text-token-text-secondary py-6 text-center text-sm",children:l!=null?l:t.jsx(k,S({},Ca.noMatchingResults))})})}):u(D),e[93]=u,e[94]=l,e[95]=x,e[96]=D,e[97]=d,e[98]=we):we=e[98];let Ke;e[99]!==we?(Ke=t.jsx("tbody",{children:we}),e[99]=we,e[100]=Ke):Ke=e[100];let Ee;e[101]!==He||e[102]!==Le||e[103]!==Ke?(Ee=t.jsxs("table",{className:He,children:[Le,Ke]}),e[101]=He,e[102]=Le,e[103]=Ke,e[104]=Ee):Ee=e[104];let Te;return e[105]!==_e||e[106]!==Ee?(Te=t.jsx(Bn.Provider,{value:_e,children:Ee}),e[105]=_e,e[106]=Ee,e[107]=Te):Te=e[107],Te},cu=s=>{"use forget";var f;const e=q.c(19);let n,o,a,l;e[0]!==s?(f=s,{rowKey:l,children:n,className:o}=f,a=Qs(f,["rowKey","children","className"]),e[0]=s,e[1]=n,e[2]=o,e[3]=a,e[4]=l):(n=e[1],o=e[2],a=e[3],l=e[4]);const{selection:c,select:i}=L.useContext(Bn);let r;e[5]!==l||e[6]!==c?(r=c.has(l),e[5]=l,e[6]=c,e[7]=r):r=e[7];const d=r;let u;e[8]!==o?(u=ue("group h-0",o),e[8]=o,e[9]=u):u=e[9];let m;e[10]!==d||e[11]!==l||e[12]!==i?(m=i&&t.jsx("td",{className:"h-[inherit] w-12 pe-0 text-center align-middle [tr:last-child_&]:border-b-0",children:t.jsx("label",{className:"flex h-full cursor-pointer items-center [tr[data-disabled=true]_&]:opacity-50",children:t.jsx(ts,{id:"row-".concat(l),checked:d,onChange:()=>i(l),containerClassName:"justify-center"})})}),e[10]=d,e[11]=l,e[12]=i,e[13]=m):m=e[13];let p;return e[14]!==n||e[15]!==a||e[16]!==u||e[17]!==m?(p=t.jsxs("tr",Ce(S({className:u},a),{children:[m,n]})),e[14]=n,e[15]=a,e[16]=u,e[17]=m,e[18]=p):p=e[18],p},du=s=>{"use forget";var u;const e=q.c(14);let n,o,a,l;e[0]!==s?(u=s,{field:a,children:n,className:o}=u,l=Qs(u,["field","children","className"]),e[0]=s,e[1]=n,e[2]=o,e[3]=a,e[4]=l):(n=e[1],o=e[2],a=e[3],l=e[4]);const{visibleColumns:c}=L.useContext(Bn);if(a&&c&&!c.has(a)){let m;return e[5]===Symbol.for("react.memo_cache_sentinel")?(m=t.jsx("td",{className:"border-token-border-light border-b"}),e[5]=m):m=e[5],m}let i;e[6]!==o?(i=ue("border-token-border-light min-w-fit shrink-0 border-b pe-4 text-start align-middle last:pe-0 [tr:last-child_&]:border-b-0",o),e[6]=o,e[7]=i):i=e[7];let r;e[8]!==n?(r=t.jsx("div",{className:"flex items-center [tr[data-disabled=true]_&]:opacity-50",children:n}),e[8]=n,e[9]=r):r=e[9];let d;return e[10]!==l||e[11]!==i||e[12]!==r?(d=t.jsx("td",Ce(S({className:i},l),{children:r})),e[10]=l,e[11]=i,e[12]=r,e[13]=d):d=e[13],d},ls={Root:ru,Row:cu,Cell:du},Ca=Ye({noMatchingResults:{id:"lo084r",defaultMessage:"No matching results"},emptyCell:{id:"gyiEbk",defaultMessage:""},sortByColumn:{id:"c9gwvG",defaultMessage:"Sort by {column}"}});function mu(s){return!s.hidden}function uu(s){return s.sortable}function fu(s){return s.defaultSortDirection}function pu(s){return s!==void 0}function xu(s){return s!==void 0}function gu(s){return s.field}const hu=s=>{"use forget";const e=q.c(11),{apps:n,visibleApps:o,isLoading:a}=s;let l;e[0]===Symbol.for("react.memo_cache_sentinel")?(l=[{field:"name",header:t.jsx(k,S({},Kn.appColumnHeader)),value:bu,sortable:!0,defaultSortDirection:"asc"},{field:"actions",header:""}],e[0]=l):l=e[0];const c=l;if(a){let m;return e[1]===Symbol.for("react.memo_cache_sentinel")?(m=t.jsx("div",{className:"flex justify-center py-16",children:t.jsx(Nt,{})}),e[1]=m):m=e[1],m}if(n.length===0){let m;return e[2]===Symbol.for("react.memo_cache_sentinel")?(m=t.jsx("p",{className:"text-token-text-tertiary mt-4 w-full p-4 text-center text-sm",children:t.jsx(k,S({},Kn.noAppsMessage))}),e[2]=m):m=e[2],m}let i;e[3]===Symbol.for("react.memo_cache_sentinel")?(i=t.jsx("div",{className:"absolute inset-0 -z-10",children:t.jsx("div",{className:"bg-token-bg-elevated-secondary dark:bg-token-bg-elevated-primary h-9 w-full"})}),e[3]=i):i=e[3];let r;e[4]===Symbol.for("react.memo_cache_sentinel")?(r=t.jsx(k,S({},Kn.noMatchingResults)),e[4]=r):r=e[4];let d;e[5]!==o?(d=m=>m.map(p=>t.jsxs(ls.Row,{rowKey:p.primaryConnector.id,hidden:!o.has(p.primaryConnector.id),children:[t.jsx(ls.Cell,{children:t.jsx(Ms.TitleWrapper,{app:p})}),t.jsx(ls.Cell,{className:"py-4",children:t.jsx(Ms.Actions,{app:p})})]},p.primaryConnector.id)),e[5]=o,e[6]=d):d=e[6];let u;return e[7]!==n||e[8]!==d||e[9]!==o?(u=t.jsx("div",{className:"pb-8",children:t.jsxs("div",{className:"relative",children:[i,t.jsx("div",{className:"mx-auto w-full max-w-5xl space-y-12 overflow-x-auto px-4 md:px-6 lg:px-10",children:t.jsx(ls.Root,{columns:c,rows:n,visibleKeys:o,rowKey:yu,emptyMessage:r,className:"overflow-y-clip",children:d})})]})}),e[7]=n,e[8]=d,e[9]=o,e[10]=u):u=e[10],u},Kn=Ye({draftsPageTitle:{id:"6zyfc8",defaultMessage:"Drafts"},appColumnHeader:{id:"f2flwq",defaultMessage:"Name"},accessColumnHeader:{id:"wqXY9B",defaultMessage:"Access"},usersCountColumnHeader:{id:"nERnc3",defaultMessage:"Users"},appsDisabledWarning:{id:"9H+dUv",defaultMessage:"Apps are currently disabled for this workspace. To enable Apps, please contact your administrator."},filterButton:{id:"wzoL9b",defaultMessage:"Filter"},disabledAppsSectionTitle:{id:"q8S5CC",defaultMessage:"Disabled"},noAppsMessage:{id:"irxm6b",defaultMessage:"No drafts."},defaultRoleName:{id:"COFxYg",defaultMessage:"Workspace"},noMatchingResults:{id:"BQleP5",defaultMessage:"No drafts match your search"}});function bu(s){return s.primaryConnector.name}function yu(s){return s.primaryConnector.id}const ju=s=>{"use forget";const e=q.c(7);let n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n={},e[0]=n):n=e[0];const[o,a]=L.useState(n);let l;e[1]!==o?(l=Object.values(o).reduce(_u,0),e[1]=o,e[2]=l):l=e[2];let c;return e[3]!==s||e[4]!==o||e[5]!==l?(c={filters:o,setFilters:a,activeFilterCount:l,filterFields:s},e[3]=s,e[4]=o,e[5]=l,e[6]=c):c=e[6],c},Ml=L.createContext({closedSections:new Set,onToggleSection:()=>{}}),Cu=s=>{"use forget";const e=q.c(8),{children:n,filterFields:o}=s;let a;e[0]!==o?(a=new Set(Object.entries(o!=null?o:{}).filter(Nu).map(Mu)),e[0]=o,e[1]=a):a=e[1];const[l,c]=L.useState(a);let i;e[2]===Symbol.for("react.memo_cache_sentinel")?(i=m=>{c(p=>{const f=new Set(p);return f.has(m)?f.delete(m):f.add(m),f})},e[2]=i):i=e[2];const r=i;let d;e[3]!==l?(d={closedSections:l,onToggleSection:r},e[3]=l,e[4]=d):d=e[4];let u;return e[5]!==n||e[6]!==d?(u=t.jsx(Ml.Provider,{value:d,children:n}),e[5]=n,e[6]=d,e[7]=u):u=e[7],u},vu=s=>{"use forget";const e=q.c(44),{field:n,filterKey:o,selectedValues:a,options:l,onToggleValue:c}=s,{closedSections:i,onToggleSection:r}=L.useContext(Ml);let d,u,m;if(e[0]!==i||e[1]!==n.label||e[2]!==o||e[3]!==r||e[4]!==a.size){const x=i.has(o);let b;e[8]!==o||e[9]!==r?(b=()=>r(o),e[8]=o,e[9]=r,e[10]=b):b=e[10];let j;e[11]!==n.label?(j=t.jsx(k,S({},n.label)),e[11]=n.label,e[12]=j):j=e[12];let C;e[13]!==a.size?(C=a.size>0&&t.jsx("div",{className:"bg-token-bg-accent-static absolute -start-1 h-1.5 w-1.5 rounded-full"}),e[13]=a.size,e[14]=C):C=e[14];const w=x?t.jsx(Zi,{className:"icon h-4 w-4"}):t.jsx(er,{className:"icon h-4 w-4"});e[15]!==b||e[16]!==j||e[17]!==C||e[18]!==w?(m=t.jsxs("legend",{className:"hover:bg-token-bg-tertiary relative flex w-full cursor-pointer items-center justify-between gap-4 rounded-md p-2 text-sm font-medium",onClick:b,children:[j,C,w]}),e[15]=b,e[16]=j,e[17]=C,e[18]=w,e[19]=m):m=e[19];const v=!x&&"grid-rows-[1fr]";e[20]!==v?(u=ue("grid grid-rows-[0fr] transition-all duration-150",v),e[20]=v,e[21]=u):u=e[21],d=ue("overflow-hidden transition-all duration-150",x&&"invisible"),e[0]=i,e[1]=n.label,e[2]=o,e[3]=r,e[4]=a.size,e[5]=d,e[6]=u,e[7]=m}else d=e[5],u=e[6],m=e[7];let p;if(e[22]!==n||e[23]!==o||e[24]!==c||e[25]!==l||e[26]!==a){let x;e[28]!==n||e[29]!==o||e[30]!==c||e[31]!==a?(x=(b,j)=>{const C=n.messages(b),w=a.has(b);return t.jsx("li",{className:"mb-1",children:t.jsxs("label",{className:"inline-flex w-full cursor-pointer items-center gap-2 pe-4 text-sm font-normal",children:[t.jsx(ts,{id:"filter-".concat(o,"-option-").concat(j),checked:w,onChange:()=>c(b),className:"border-token-border-light bg-token-bg-primary text-token-bg-accent-static focus:ring-token-border-accent h-4 w-4 rounded"}),t.jsx("span",{children:C})]})},j)},e[28]=n,e[29]=o,e[30]=c,e[31]=a,e[32]=x):x=e[32],p=l.map(x),e[22]=n,e[23]=o,e[24]=c,e[25]=l,e[26]=a,e[27]=p}else p=e[27];let f;e[33]!==p?(f=t.jsx("ul",{className:"my-0.5 px-2",children:p}),e[33]=p,e[34]=f):f=e[34];let g;e[35]!==d||e[36]!==f?(g=t.jsx("div",{className:d,children:f}),e[35]=d,e[36]=f,e[37]=g):g=e[37];let h;e[38]!==u||e[39]!==g?(h=t.jsx("div",{className:u,children:g}),e[38]=u,e[39]=g,e[40]=h):h=e[40];let y;return e[41]!==m||e[42]!==h?(y=t.jsx("li",{children:t.jsxs("fieldset",{children:[m,h]})}),e[41]=m,e[42]=h,e[43]=y):y=e[43],y},wu=s=>{"use forget";const e=q.c(18),{filters:n,onApply:o,filterFields:a}=s;let l;e[0]!==n||e[1]!==o?(l=(g,h)=>{var b;const y=S({},n),x=(b=y[g])!=null?b:new Set;x.has(h)?x.delete(h):x.add(h),y[g]=x,o(y)},e[0]=n,e[1]=o,e[2]=l):l=e[2];const c=l;let i;e[3]!==a?(i=Object.entries(a).filter(Su),e[3]=a,e[4]=i):i=e[4];let r;e[5]!==n||e[6]!==c||e[7]!==i?(r=i.map(g=>{var x;const[h,y]=g;return t.jsx(vu,{filterKey:h,field:y,selectedValues:(x=n[h])!=null?x:new Set,options:y.options,onToggleValue:b=>c(h,b)},h)}),e[5]=n,e[6]=c,e[7]=i,e[8]=r):r=e[8];let d;e[9]!==o?(d=()=>o({}),e[9]=o,e[10]=d):d=e[10];const u=Object.values(n).every(Au);let m;e[11]===Symbol.for("react.memo_cache_sentinel")?(m=t.jsx(k,S({},ku.clearAllFiltersButton)),e[11]=m):m=e[11];let p;e[12]!==d||e[13]!==u?(p=t.jsx("li",{className:"mt-1 flex justify-end",children:t.jsx(re,{color:"ghost",size:"small",onClick:d,disabled:u,children:m})}),e[12]=d,e[13]=u,e[14]=p):p=e[14];let f;return e[15]!==r||e[16]!==p?(f=t.jsxs("ul",{className:"py-1 ps-3 pe-2",children:[r,p]}),e[15]=r,e[16]=p,e[17]=f):f=e[17],f},ku=Ye({clearAllFiltersButton:{id:"RRGuYA",defaultMessage:"Clear all"},developer_type:{id:"p7bLEl",defaultMessage:"Developer Type"},auth_type:{id:"M89wih",defaultMessage:"Authentication Type"},auth_oauth:{id:"Ldz4pJ",defaultMessage:"OAuth"},auth_apiKey:{id:"clQ3IQ",defaultMessage:"API Key"},auth_noAuth:{id:"iavNCz",defaultMessage:"No Authentication"},auth_unknown:{id:"eKSbcf",defaultMessage:"Unknown"},developer_oai:{id:"xBzT/T",defaultMessage:"First Party"},developer_trustedPartner:{id:"ozzRA2",defaultMessage:"Trusted Partner"},developer_untrusted:{id:"3xkbwX",defaultMessage:"Untrusted"},developer_unknown:{id:"myX+Nb",defaultMessage:"Unknown"}});function _u(s,e){return s+ +(e.size>0)}function Nu(s){const[,e]=s;return e.defaultClosed}function Mu(s){const[e]=s;return e}function Su(s){const[,e]=s;return e.options.length>0}function Au(s){return s.size===0}const Tu=s=>{"use forget";const e=q.c(68),{apps:n,onClose:o}=s,a=pe(),l=Pe();let c;e[0]!==l?(c=rt(l),e[0]=l,e[1]=c):c=e[1];const i=c;let r;e[2]!==n?(r=n.filter(Du),e[2]=n,e[3]=r):r=e[3];const d=r.length,u=n.length-d;let m;e[4]!==n.length||e[5]!==a||e[6]!==o||e[7]!==i?(m=()=>{i.success(a.formatMessage(Jt.deleteSuccess,{count:n.length})),o(!0)},e[4]=n.length,e[5]=a,e[6]=o,e[7]=i,e[8]=m):m=e[8];let p;e[9]!==a||e[10]!==i?(p=()=>i.danger(a.formatMessage(Jt.updateFailed)),e[9]=a,e[10]=i,e[11]=p):p=e[11];let f;e[12]!==n||e[13]!==m||e[14]!==p?(f={apps:n,onSuccess:m,onError:p},e[12]=n,e[13]=m,e[14]=p,e[15]=f):f=e[15];const{mutateAsync:g,isPending:h}=gm(f);let y;e[16]!==h||e[17]!==o?(y=()=>{h||o(!1)},e[16]=h,e[17]=o,e[18]=y):y=e[18];const x=y;if(n.length===0)return null;if(n.length===1){let P;e[19]!==o?(P=W=>o(W),e[19]=o,e[20]=P):P=e[20];let B;return e[21]!==n[0]||e[22]!==P?(B=t.jsx(Cl,{app:n[0],onClose:P}),e[21]=n[0],e[22]=P,e[23]=B):B=e[23],B}let b;e[24]!==n.length||e[25]!==a||e[26]!==d?(b=a.formatMessage(d>0?Jt.deleteAppTitle:Jt.disableAppTitle,{count:n.length}),e[24]=n.length,e[25]=a,e[26]=d,e[27]=b):b=e[27];let j;e[28]!==x?(j=t.jsx("div",{className:"absolute end-4 top-4",children:t.jsx(Dn,{onClick:x})}),e[28]=x,e[29]=j):j=e[29];let C;e[30]===Symbol.for("react.memo_cache_sentinel")?(C=t.jsx("div",{className:"flex justify-center pt-16",children:t.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-xl border-[0.5px] shadow-sm",children:t.jsx(nn,{className:"text-token-icon-status-warning h-8 w-8"})})}),e[30]=C):C=e[30];let w;e[31]!==n.length||e[32]!==a||e[33]!==d?(w=a.formatMessage(d>0?Jt.deleteAppTitle:Jt.disableAppTitle,{count:n.length}),e[31]=n.length,e[32]=a,e[33]=d,e[34]=w):w=e[34];let v;e[35]!==w?(v=t.jsx("div",{className:"mx-6 my-1 py-1 text-center text-2xl leading-snug font-semibold text-pretty",children:w}),e[35]=w,e[36]=v):v=e[36];let M;e[37]!==a||e[38]!==u?(M=u>0&&t.jsx("p",{className:"text-token-text-secondary text-center text-base leading-normal text-pretty",children:a.formatMessage(Jt.disableAppDescription,{count:u})}),e[37]=a,e[38]=u,e[39]=M):M=e[39];let _;e[40]!==a||e[41]!==d?(_=d>0&&t.jsx("p",{className:"text-token-text-secondary text-center text-base leading-normal text-pretty",children:a.formatMessage(Jt.deleteAppDescription,{count:d})}),e[40]=a,e[41]=d,e[42]=_):_=e[42];let N;e[43]!==M||e[44]!==_?(N=t.jsxs("div",{className:"m-4 space-y-2",children:[M,_]}),e[43]=M,e[44]=_,e[45]=N):N=e[45];let A;e[46]===Symbol.for("react.memo_cache_sentinel")?(A=t.jsx(k,S({},Jt.cancel)),e[46]=A):A=e[46];let D;e[47]!==h||e[48]!==x?(D=t.jsx(re,{color:"secondary",onClick:x,className:"px-6",size:"large",disabled:h,children:A}),e[47]=h,e[48]=x,e[49]=D):D=e[49];let T;e[50]!==g?(T=()=>g(),e[50]=g,e[51]=T):T=e[51];const R=d>0?Jt.delete:Jt.disable;let E;e[52]!==R?(E=t.jsx(k,S({},R)),e[52]=R,e[53]=E):E=e[53];let O;e[54]!==h||e[55]!==T||e[56]!==E?(O=t.jsx(re,{color:"danger",onClick:T,loading:h,className:"px-6",size:"large",children:E}),e[54]=h,e[55]=T,e[56]=E,e[57]=O):O=e[57];let F;e[58]!==D||e[59]!==O?(F=t.jsxs("div",{className:"flex justify-end gap-3 p-4",children:[D,O]}),e[58]=D,e[59]=O,e[60]=F):F=e[60];let U;return e[61]!==x||e[62]!==v||e[63]!==N||e[64]!==F||e[65]!==b||e[66]!==j?(U=t.jsxs(dt,{isOpen:!0,testId:"modal-disable-app",visuallyHiddenHeader:!0,title:b,onClose:x,size:"custom",className:"max-w-sm",noPadding:!0,children:[j,C,v,N,F]}),e[61]=x,e[62]=v,e[63]=N,e[64]=F,e[65]=b,e[66]=j,e[67]=U):U=e[67],U},Jt=Ye({deleteAppTitle:{id:"4C87xq",defaultMessage:"Are you sure you want to delete {count, plural, one {# app} other {# apps}}?"},disableAppTitle:{id:"/Brevh",defaultMessage:"Are you sure you want to disable {count, plural, one {# app} other {# apps}}?"},disableAppDescription:{id:"ouLexo",defaultMessage:"This will remove {count, plural, one {# app} other {# apps}} from your workspace. They can be re-enabled later if needed."},deleteAppDescription:{id:"+/n7Po",defaultMessage:"This will permanently delete {count, plural, one {# custom app} other {# custom apps}} from your workspace. This action cannot be undone."},cancel:{id:"ddm9wN",defaultMessage:"Cancel"},delete:{id:"/3qDZi",defaultMessage:"Delete"},disable:{id:"1UrWW/",defaultMessage:"Disable"},deleteSuccess:{id:"PMah4O",defaultMessage:"{count, plural, one {# app was} other {# apps were}} removed."},updateFailed:{id:"qsgYfg",defaultMessage:"Failed to update app settings."}});function Du(s){return s.primaryConnector.distribution_channel==="TENANT_CATALOG"||s.primaryConnector.distribution_channel==="INDIVIDUAL"}const Ru=s=>{"use forget";const e=q.c(37),{apps:n,onClose:o}=s,a=pe(),l=hl(n);let c;e[0]!==l?(c=l.reduce(Iu,{roles:new Map,counts:new Map,loading:!1}),e[0]=l,e[1]=c):c=e[1];const{roles:i,counts:r,loading:d}=c;let u;e:{if(d){let A;e[2]===Symbol.for("react.memo_cache_sentinel")?(A={initialEnabledRoles:null,initialIndeterminateRoles:null},e[2]=A):A=e[2],u=A;break e}let M,_;e[3]!==n.length||e[4]!==r||e[5]!==i?(M=new Set,_=new Set,i.forEach((A,D)=>{var T;n.length===r.get(D)?M.add(D):((T=r.get(D))!=null?T:0)>0&&_.add(D)}),e[3]=n.length,e[4]=r,e[5]=i,e[6]=M,e[7]=_):(M=e[6],_=e[7]);let N;e[8]!==M||e[9]!==_?(N={initialEnabledRoles:M,initialIndeterminateRoles:_},e[8]=M,e[9]=_,e[10]=N):N=e[10],u=N}const{initialEnabledRoles:m,initialIndeterminateRoles:p}=u,f=Pe();let g;e[11]!==f?(g=rt(f),e[11]=f,e[12]=g):g=e[12];const h=g;let y;e[13]!==l?(y=l.map(Eu),e[13]=l,e[14]=y):y=e[14];let x;e[15]!==a||e[16]!==o||e[17]!==h?(x=()=>{h.success(a.formatMessage({id:"CX2DPF",defaultMessage:"Roles updated successfully for selected apps."})),o()},e[15]=a,e[16]=o,e[17]=h,e[18]=x):x=e[18];let b;e[19]!==a||e[20]!==h?(b=M=>{h.danger(a.formatMessage({id:"HOuVs9",defaultMessage:"Error updating roles: {errorMessage}"},{errorMessage:M.message}))},e[19]=a,e[20]=h,e[21]=b):b=e[21];const j=xm(n,y,x,b);let C;e[22]!==n[0]||e[23]!==n.length||e[24]!==a?(C=a.formatMessage({id:"jH6gE6",defaultMessage:"Which roles can access {name}?"},{name:n.length>1?a.formatMessage({id:"KjIkpW",defaultMessage:"{count} selected apps"},{count:n.length}):n[0].primaryConnector.name}),e[22]=n[0],e[23]=n.length,e[24]=a,e[25]=C):C=e[25];let w;e[26]!==m||e[27]!==p||e[28]!==d||e[29]!==o||e[30]!==i||e[31]!==j?(w=d?t.jsx("div",{className:"flex justify-center py-8",children:t.jsx(Nt,{})}):t.jsx(_l,{onConfirm:(M,_)=>j.mutate({enabledRoleIds:M,indeterminateRoleIds:_}),disabled:j.isPending,roles:Array.from(i.values()),onClose:o,onCancel:o,initialEnabledRoles:m!=null?m:new Set,initialIndeterminateRoles:p!=null?p:new Set,submitting:j.isPending}),e[26]=m,e[27]=p,e[28]=d,e[29]=o,e[30]=i,e[31]=j,e[32]=w):w=e[32];let v;return e[33]!==o||e[34]!==C||e[35]!==w?(v=t.jsx(dt,{testId:"modal-apps-roles-access",title:C,isOpen:!0,onClose:o,showCloseButton:!1,size:"xlarge",isScrollable:!1,contentClassName:"flex max-h-[80vh] min-h-0 flex-col",noPadding:!0,hasSeparator:!0,children:w}),e[33]=o,e[34]=C,e[35]=w,e[36]=v):v=e[36],v};function Iu(s,e){var n;return e.isLoading?Ce(S({},s),{loading:!0}):((n=e.data)==null||n.roles_with_permissions.forEach(o=>{s.roles.set(o.role.id,o)}),fn(e.data).forEach(o=>{var a;s.counts.set(o.role.id,((a=s.counts.get(o.role.id))!=null?a:0)+1)}),s)}function Eu(s){return s.data}const Pu=s=>{"use forget";const e=q.c(50),{app:n,connection:o,onClose:a}=s,l=pe(),c=Pe();let i;e[0]!==c?(i=rt(c),e[0]=c,e[1]=i):i=e[1];const r=i;let d;e[2]!==o.display_info.display_name||e[3]!==l||e[4]!==a||e[5]!==r?(d=()=>{r.success(l.formatMessage(As.disableSuccess,{connectionName:o.display_info.display_name})),a()},e[2]=o.display_info.display_name,e[3]=l,e[4]=a,e[5]=r,e[6]=d):d=e[6];let u;e[7]!==l||e[8]!==r?(u=T=>{r.danger(l.formatMessage(As.updateFailed,{errorMessage:T.message}))},e[7]=l,e[8]=r,e[9]=u):u=e[9];const m=pm(o,d,u);let p;e[10]!==m.isPending||e[11]!==a?(p=()=>{m.isPending||a()},e[10]=m.isPending,e[11]=a,e[12]=p):p=e[12];const f=p;let g;e[13]!==n.primaryConnector.name||e[14]!==l?(g=l.formatMessage(As.disableSyncTitle,{appName:n.primaryConnector.name}),e[13]=n.primaryConnector.name,e[14]=l,e[15]=g):g=e[15];let h;e[16]!==n.primaryConnector.name||e[17]!==o.display_info.display_name||e[18]!==l?(h=l.formatMessage(As.bodyOne,{appName:n.primaryConnector.name,connectionName:o.display_info.display_name}),e[16]=n.primaryConnector.name,e[17]=o.display_info.display_name,e[18]=l,e[19]=h):h=e[19];let y;e[20]!==h?(y=t.jsx("p",{className:"text-pretty",children:h}),e[20]=h,e[21]=y):y=e[21];let x;e[22]!==l?(x=l.formatMessage(As.bodyTwo),e[22]=l,e[23]=x):x=e[23];let b;e[24]!==x?(b=t.jsx("p",{className:"text-token-text-secondary text-pretty",children:x}),e[24]=x,e[25]=b):b=e[25];let j;e[26]!==y||e[27]!==b?(j=t.jsxs("div",{className:"space-y-2 p-4",children:[y,b]}),e[26]=y,e[27]=b,e[28]=j):j=e[28];let C;e[29]!==l?(C=l.formatMessage(As.cancelButton),e[29]=l,e[30]=C):C=e[30];let w;e[31]!==f||e[32]!==C?(w=t.jsx(re,{color:"secondary",onClick:f,children:C}),e[31]=f,e[32]=C,e[33]=w):w=e[33];let v;e[34]!==m?(v=()=>m.mutate(),e[34]=m,e[35]=v):v=e[35];const M=m.isPending;let _;e[36]!==l?(_=l.formatMessage(As.deleteButton),e[36]=l,e[37]=_):_=e[37];let N;e[38]!==m.isPending||e[39]!==v||e[40]!==_?(N=t.jsx(re,{color:"danger",onClick:v,loading:M,children:_}),e[38]=m.isPending,e[39]=v,e[40]=_,e[41]=N):N=e[41];let A;e[42]!==w||e[43]!==N?(A=t.jsxs("div",{className:"flex justify-end gap-2 p-4",children:[w,N]}),e[42]=w,e[43]=N,e[44]=A):A=e[44];let D;return e[45]!==f||e[46]!==j||e[47]!==A||e[48]!==g?(D=t.jsxs(dt,{isOpen:!0,hasSeparator:!0,testId:"modal-disable-sync-app",onClose:f,title:g,showCloseButton:!0,noPadding:!0,children:[j,A]}),e[45]=f,e[46]=j,e[47]=A,e[48]=g,e[49]=D):D=e[49],D},As=Ye({disableSyncTitle:{id:"xHqh2Q",defaultMessage:"Delete sync connection for {appName}"},bodyOne:{id:"Elk+yR",defaultMessage:"Are you sure you want to delete the sync connection {connectionName}?"},bodyTwo:{id:"9OSv7K",defaultMessage:"Deleting this connection will stop syncing and will remove all associated data. This action cannot be undone."},deleteButton:{id:"EqdUXO",defaultMessage:"Delete"},cancelButton:{id:"pcroMA",defaultMessage:"Cancel"},disableSuccess:{id:"yu9v2n",defaultMessage:"Sync connection {connectionName} has been deleted."},updateFailed:{id:"vnw4fr",defaultMessage:"Failed to delete sync connection. {errorMessage}"}}),Lu=s=>{"use forget";const e=q.c(21),{connection:n,item:o}=s,a=pe(),l=Pe();let c;e[0]!==l?(c=rt(l),e[0]=l,e[1]=c):c=e[1];const i=c;let r;e[2]!==a||e[3]!==i?(r=()=>{i.danger(a.formatMessage(as.errorToast))},e[2]=a,e[3]=i,e[4]=r):r=e[4];let d;e[5]!==n||e[6]!==r?(d={connection:n,onError:r},e[5]=n,e[6]=r,e[7]=d):d=e[7];const u=ym(d);let m;e[8]!==o.object_handle?(m=t.jsx("p",{className:"font-mono text-sm",children:o.object_handle}),e[8]=o.object_handle,e[9]=m):m=e[9];let p;e[10]!==o.object_handle||e[11]!==u?(p=()=>{u.mutate({objectHandle:o.object_handle})},e[10]=o.object_handle,e[11]=u,e[12]=p):p=e[12];let f;e[13]===Symbol.for("react.memo_cache_sentinel")?(f=t.jsx("span",{className:"sr-only",children:t.jsx(k,S({},as.unblockButton))}),e[13]=f):f=e[13];let g;e[14]!==p||e[15]!==u.isPending?(g=t.jsx(re,{color:"ghost",size:"small",icon:Er,onClick:p,loading:u.isPending,children:f}),e[14]=p,e[15]=u.isPending,e[16]=g):g=e[16];let h;return e[17]!==o.object_handle||e[18]!==m||e[19]!==g?(h=t.jsxs("li",{className:"border-token-border-light flex items-center justify-between border-b px-4 py-2 last:border-0",children:[m,g]},o.object_handle),e[17]=o.object_handle,e[18]=m,e[19]=g,e[20]=h):h=e[20],h},Bu=s=>{"use forget";var K,se;const e=q.c(54),{connection:n,onClose:o}=s,a=pe(),l=Gr(n),c=(se=(K=l.data)==null?void 0:K.pages.flatMap(Fu))!=null?se:[],[i,r]=L.useState(""),d=Pe();let u;e[0]!==d?(u=rt(d),e[0]=d,e[1]=u):u=e[1];const m=u;let p;e[2]!==a||e[3]!==m?(p=()=>{m.danger(a.formatMessage(as.errorToast))},e[2]=a,e[3]=m,e[4]=p):p=e[4];let f;e[5]!==n||e[6]!==p?(f={connection:n,onError:p},e[5]=n,e[6]=p,e[7]=f):f=e[7];const g=bm(f);let h;e[8]!==g||e[9]!==i||e[10]!==r?(h=async()=>{await g.mutateAsync({objectHandle:i}),r("")},e[8]=g,e[9]=i,e[10]=r,e[11]=h):h=e[11];const y=h;let x;e[12]!==g.isPending||e[13]!==o?(x=()=>{g.isPending||o()},e[12]=g.isPending,e[13]=o,e[14]=x):x=e[14];const b=x,j=dt,C=!0;let w;e[15]===Symbol.for("react.memo_cache_sentinel")?(w=t.jsx(k,S({},as.modalTitle)),e[15]=w):w=e[15];const v="modal-app-connection-type",M=!0,_="xlarge",N=!0,A=!0,D="space-y-4 p-4";let T;e[16]===Symbol.for("react.memo_cache_sentinel")?(T=t.jsx("p",{className:"text-token-text-secondary text-sm text-pretty",children:t.jsx(k,S({},as.modalBody))}),e[16]=T):T=e[16];const R="border-token-border-heavy rounded-xl border",E="border-token-border-heavy max-h-48 overflow-y-auto border-b",O=l.isLoading?t.jsx("div",{className:"flex w-full items-center justify-center p-4",children:t.jsx(Nt,{})}):c.length===0?t.jsx("li",{className:"text-token-text-secondary p-4 text-sm text-pretty",children:t.jsx(k,S({},as.noBlockedItems))}):t.jsxs("div",{className:"py-2",children:[c.filter($u).map(Z=>t.jsx(Lu,{connection:n,item:Z},Z.object_handle)),l.isFetchingNextPage&&t.jsx("li",{className:"flex w-full items-center justify-center px-4 py-2",children:t.jsx(Nt,{})})]});let F;e[17]!==O?(F=t.jsx("ul",{className:E,children:O}),e[17]=O,e[18]=F):F=e[18];let U;e[19]!==y?(U=Z=>{Z.preventDefault(),y()},e[19]=y,e[20]=U):U=e[20];let P;e[21]===Symbol.for("react.memo_cache_sentinel")?(P=t.jsx("p",{className:"text-sm",children:t.jsx(k,S({},as.blockItemLabelDescriptor))}),e[21]=P):P=e[21];let B;e[22]!==a?(B=a.formatMessage(as.blockItemInputLabel),e[22]=a,e[23]=B):B=e[23];let W;e[24]!==a?(W=a.formatMessage(as.blockItemInputPlaceholder),e[24]=a,e[25]=W):W=e[25];let V;e[26]!==r?(V=Z=>r(Z.target.value),e[26]=r,e[27]=V):V=e[27];let I;e[28]!==g.isPending||e[29]!==i||e[30]!==B||e[31]!==W||e[32]!==V?(I=t.jsx(on,{ariaLabel:B,placeholder:W,name:"block-item-input",value:i,onChange:V,disabled:g.isPending,className:"flex-1 rounded-s-lg! rounded-e-none!"}),e[28]=g.isPending,e[29]=i,e[30]=B,e[31]=W,e[32]=V,e[33]=I):I=e[33];let J;e[34]===Symbol.for("react.memo_cache_sentinel")?(J=t.jsx(k,S({},as.blockButton)),e[34]=J):J=e[34];let H;e[35]!==g.isPending?(H=t.jsx(re,{type:"submit",color:"primary",className:"rounded-s-none! rounded-e-lg! border-none px-4",loading:g.isPending,children:J}),e[35]=g.isPending,e[36]=H):H=e[36];let Y;e[37]!==I||e[38]!==H?(Y=t.jsxs("label",{className:"block space-y-2",children:[P,t.jsxs("div",{className:"flex",children:[I,H]})]}),e[37]=I,e[38]=H,e[39]=Y):Y=e[39];let Q;e[40]!==U||e[41]!==Y?(Q=t.jsx("form",{className:"p-4",onSubmit:U,children:Y}),e[40]=U,e[41]=Y,e[42]=Q):Q=e[42];let oe;e[43]!==F||e[44]!==Q?(oe=t.jsxs("div",{className:R,children:[F,Q]}),e[43]=F,e[44]=Q,e[45]=oe):oe=e[45];let $;e[46]!==T||e[47]!==oe?($=t.jsxs("div",{className:D,children:[T,oe]}),e[46]=T,e[47]=oe,e[48]=$):$=e[48];let G;return e[49]!==j||e[50]!==b||e[51]!==$||e[52]!==w?(G=t.jsx(j,{isOpen:C,onClose:b,title:w,testId:v,showCloseButton:M,size:_,hasSeparator:N,noPadding:A,children:$}),e[49]=j,e[50]=b,e[51]=$,e[52]=w,e[53]=G):G=e[53],G},Ou=s=>{"use forget";const e=q.c(6),{connection:n,onClose:o}=s;if(n.connection_config.knowledge_connector_type==="sharepoint_admin"){let l;return e[0]!==n.connection_config.connection_config_id||e[1]!==o?(l=t.jsx(sl,{connectionId:n.connection_config.connection_config_id,onClose:o,isOpen:!0}),e[0]=n.connection_config.connection_config_id,e[1]=o,e[2]=l):l=e[2],l}let a;return e[3]!==n||e[4]!==o?(a=t.jsx(Bu,{connection:n,onClose:o}),e[3]=n,e[4]=o,e[5]=a):a=e[5],a},as=Ye({modalTitle:{id:"Bs30e0",defaultMessage:"Limit content access"},saveButton:{id:"UuBTle",defaultMessage:"Save"},cancelButton:{id:"xZZJyp",defaultMessage:"Cancel"},modalBody:{id:"P3fd6e",defaultMessage:"Found something that shouldn't be synced? You can block items here to prevent them from being synced or shown in search results."},blockedItemsLabel:{id:"HZLf6J",defaultMessage:"Blocked items"},blockItemInputLabel:{id:"5zGLEk",defaultMessage:"Block item"},blockItemInputPlaceholder:{id:"DZMxi2",defaultMessage:"ID or URL"},blockItemLabelDescriptor:{id:"9Dd6nQ",defaultMessage:"Enter the ID or URL of the item you want to block."},blockButton:{id:"EtILYC",defaultMessage:"Block"},errorToast:{id:"kQXbt+",defaultMessage:"An error occurred. Please try again."},noBlockedItems:{id:"oXpczd",defaultMessage:"No blocked items"},unblockButton:{id:"LjST0f",defaultMessage:"Unblock {itemHandle}"}});function Fu(s){return s.object_selections}function $u(s){return s.selection==="exclude"}const zu=s=>{"use forget";var p;const e=q.c(17),{connection:n,onClose:o}=s,a=Pe();let l,c,i,r,d;if(e[0]!==n.connection_config.knowledge_connector_type||e[1]!==a||e[2]!==o){d=Symbol.for("react.early_return_sentinel");e:{const f=mt(a);if(n.connection_config.knowledge_connector_type!=="slack"){d=null;break e}l=Vr,c=!0,e[8]!==o?(i=()=>o(),e[8]=o,e[9]=i):i=e[9],r=(p=f==null?void 0:f.getWorkspaceId())!=null?p:""}e[0]=n.connection_config.knowledge_connector_type,e[1]=a,e[2]=o,e[3]=l,e[4]=c,e[5]=i,e[6]=r,e[7]=d}else l=e[3],c=e[4],i=e[5],r=e[6],d=e[7];if(d!==Symbol.for("react.early_return_sentinel"))return d;const u=n.connection_status!=="draft";let m;return e[10]!==l||e[11]!==n.connection_config.connection_config_id||e[12]!==c||e[13]!==i||e[14]!==r||e[15]!==u?(m=t.jsx(l,{isOpen:c,onClose:i,accountId:r,connectionId:n.connection_config.connection_config_id,isPostActivation:u}),e[10]=l,e[11]=n.connection_config.connection_config_id,e[12]=c,e[13]=i,e[14]=r,e[15]=u,e[16]=m):m=e[16],m},Sl=s=>{"use forget";const e=q.c(51),{connection:n,onClose:o}=s,a=Pe();let l;e[0]!==a?(l=rt(a),e[0]=a,e[1]=l):l=e[1];const c=l,i=pe(),[r,d]=L.useState(n.display_info.display_name);let u;e[2]!==i||e[3]!==r||e[4]!==o||e[5]!==c?(u=()=>{c.success(i.formatMessage(Ns.renameSuccess,{connectionName:r})),o()},e[2]=i,e[3]=r,e[4]=o,e[5]=c,e[6]=u):u=e[6];let m;e[7]!==i||e[8]!==c?(m=O=>{c.danger(i.formatMessage(Ns.renameFailed,{errorMessage:O.message}))},e[7]=i,e[8]=c,e[9]=m):m=e[9];const p=hm(n,u,m);let f;e[10]!==o||e[11]!==p.isPending?(f=()=>{p.isPending||o()},e[10]=o,e[11]=p.isPending,e[12]=f):f=e[12];const g=f;let h;e[13]!==i?(h=i.formatMessage(Ns.renameSyncTitle),e[13]=i,e[14]=h):h=e[14];let y;e[15]!==r||e[16]!==p?(y=O=>{O.preventDefault(),p.mutate(r)},e[15]=r,e[16]=p,e[17]=y):y=e[17];let x;e[18]===Symbol.for("react.memo_cache_sentinel")?(x=t.jsx("p",{className:"text-token-text-secondary mb-2 text-sm font-medium text-pretty",children:t.jsx(k,S({},Ns.renameLabel))}),e[18]=x):x=e[18];let b;e[19]===Symbol.for("react.memo_cache_sentinel")?(b=O=>d(O.target.value),e[19]=b):b=e[19];let j;e[20]!==i?(j=i.formatMessage(Ns.renamePlaceholder),e[20]=i,e[21]=j):j=e[21];let C;e[22]!==i?(C=i.formatMessage(Ns.renamePlaceholder),e[22]=i,e[23]=C):C=e[23];let w;e[24]!==r||e[25]!==p.isPending||e[26]!==C||e[27]!==j?(w=t.jsxs("label",{className:"block w-full space-y-0.5 p-4",children:[x,t.jsx(on,{value:r,onChange:b,placeholder:j,name:"sync-connection-rename-input",autoFocus:!0,ariaLabel:C,disabled:p.isPending})]}),e[24]=r,e[25]=p.isPending,e[26]=C,e[27]=j,e[28]=w):w=e[28];const v=p.isPending;let M;e[29]!==i?(M=i.formatMessage(Ns.cancelButton),e[29]=i,e[30]=M):M=e[30];let _;e[31]!==g||e[32]!==p.isPending||e[33]!==M?(_=t.jsx(re,{color:"secondary",type:"button",onClick:g,disabled:v,children:M}),e[31]=g,e[32]=p.isPending,e[33]=M,e[34]=_):_=e[34];const N=p.isPending;let A;e[35]!==i?(A=i.formatMessage(Ns.renameButton),e[35]=i,e[36]=A):A=e[36];let D;e[37]!==p.isPending||e[38]!==A?(D=t.jsx(re,{color:"primary",type:"submit",loading:N,children:A}),e[37]=p.isPending,e[38]=A,e[39]=D):D=e[39];let T;e[40]!==_||e[41]!==D?(T=t.jsxs("div",{className:"border-token-border-light mt-4 flex justify-end gap-2 border-t p-4",children:[_,D]}),e[40]=_,e[41]=D,e[42]=T):T=e[42];let R;e[43]!==w||e[44]!==T||e[45]!==y?(R=t.jsxs("form",{onSubmit:y,children:[w,T]}),e[43]=w,e[44]=T,e[45]=y,e[46]=R):R=e[46];let E;return e[47]!==g||e[48]!==R||e[49]!==h?(E=t.jsx(dt,{isOpen:!0,hasSeparator:!0,testId:"modal-rename-sync-connection",onClose:g,title:h,showCloseButton:!0,noPadding:!0,children:R}),e[47]=g,e[48]=R,e[49]=h,e[50]=E):E=e[50],E},Ns=Ye({renameSyncTitle:{id:"i8aNDj",defaultMessage:"Rename connection"},renameLabel:{id:"S4guA3",defaultMessage:"Connection name"},renamePlaceholder:{id:"raNR3I",defaultMessage:"Enter new connection name"},cancelButton:{id:"ebqN0b",defaultMessage:"Cancel"},renameButton:{id:"1Ekn6Z",defaultMessage:"Rename"},renameSuccess:{id:"/+y7WA",defaultMessage:"Successfully renamed connection to {connectionName}."},renameFailed:{id:"z6neop",defaultMessage:"Failed to rename connection: {errorMessage}"}}),Uu=s=>{"use forget";var d;const e=q.c(10),{connection:n,onClose:o}=s,a=Pe();let l,c,i;if(e[0]!==n||e[1]!==a){const u=mt(a);l=sc,c=n,i=(d=u==null?void 0:u.getWorkspaceId())!=null?d:"",e[0]=n,e[1]=a,e[2]=l,e[3]=c,e[4]=i}else l=e[2],c=e[3],i=e[4];let r;return e[5]!==l||e[6]!==o||e[7]!==c||e[8]!==i?(r=t.jsx(l,{connection:c,accountId:i,onClose:o}),e[5]=l,e[6]=o,e[7]=c,e[8]=i,e[9]=r):r=e[9],r},Wu=s=>{"use forget";const e=q.c(20),{connection:n}=s,o=pe(),a=Pe();let l;e[0]!==a?(l=rt(a),e[0]=a,e[1]=l):l=e[1];const c=l,[i,r]=L.useState(!1);let d;e[2]!==a?(d=Wa(a),e[2]=a,e[3]=d):d=e[3];const u=d;let m,p;e[4]!==o||e[5]!==c?(m=()=>{c.success(o.formatMessage(Qn.connectionActivatedToast))},p=()=>{c.danger(o.formatMessage(Qn.connectionActivationErrorToast))},e[4]=o,e[5]=c,e[6]=m,e[7]=p):(m=e[6],p=e[7]);const f=jm(n,m,p);let g;e[8]!==f||e[9]!==n||e[10]!==i?(g=i&&t.jsx(sl,{connectionId:n.connection_config.connection_config_id,onClose:j=>{r(!1),j&&f.mutate()},isOpen:!0}),e[8]=f,e[9]=n,e[10]=i,e[11]=g):g=e[11];let h,y;e[12]===Symbol.for("react.memo_cache_sentinel")?(h=()=>r(!0),y=t.jsx(k,S({},Qn.finishSetupButton)),e[12]=h,e[13]=y):(h=e[12],y=e[13]);let x;e[14]!==f.isPending||e[15]!==u?(x=t.jsx(re,{color:"primary",loading:f.isPending,disabled:u,onClick:h,children:y}),e[14]=f.isPending,e[15]=u,e[16]=x):x=e[16];let b;return e[17]!==g||e[18]!==x?(b=t.jsxs(t.Fragment,{children:[g,x]}),e[17]=g,e[18]=x,e[19]=b):b=e[19],b},Qn=Ye({finishSetupButton:{id:"fuOMsI",defaultMessage:"Finish setup"},connectionActivatedToast:{id:"y5DD0Z",defaultMessage:"Connection successfully activated."},connectionActivationErrorToast:{id:"aqpeYE",defaultMessage:"Something went wrong. Please try again."}}),Gu=s=>{"use forget";const e=q.c(7),{onClose:n}=s,o=Pe(),a=Wa(o),l=un(),c=Ka(l,!0),[i,r]=L.useState(!0);if(a||c.isLoading&&!c.modals)return null;let d;e[0]!==c||e[1]!==i||e[2]!==n?(d=c.sharepointConnector&&i&&t.jsx(qr,{connector:c.sharepointConnector,onClose:n,onContinue:()=>{r(!1),c.open()}}),e[0]=c,e[1]=i,e[2]=n,e[3]=d):d=e[3];let u;return e[4]!==c.modals||e[5]!==d?(u=t.jsxs(t.Fragment,{children:[d,c.modals]}),e[4]=c.modals,e[5]=d,e[6]=u):u=e[6],u},Vu=["google_drive_dwd","google_drive_oauth","slack"],qu=s=>{"use forget";const e=q.c(27),{connection:n}=s,[o,a]=L.useState(!1);let l;e[0]!==n||e[1]!==o?(l=o&&t.jsx(Sl,{connection:n,onClose:()=>a(!1)}),e[0]=n,e[1]=o,e[2]=l):l=e[2];let c;e[3]===Symbol.for("react.memo_cache_sentinel")?(c=t.jsx("div",{className:"shrink-0 p-4",children:t.jsx(or,{className:"text-token-border-heavy h-6 w-6"})}),e[3]=c):c=e[3];let i;e[4]===Symbol.for("react.memo_cache_sentinel")?(i=()=>a(!0),e[4]=i):i=e[4];let r;e[5]!==n.display_info.display_name?(r=t.jsx("p",{className:"text-base font-medium",children:n.display_info.display_name}),e[5]=n.display_info.display_name,e[6]=r):r=e[6];let d;e[7]===Symbol.for("react.memo_cache_sentinel")?(d=t.jsx(mo,{className:"text-token-text-secondary h-4 w-4 opacity-0 transition-opacity group-hover:opacity-100"}),e[7]=d):d=e[7];let u;e[8]!==r?(u=t.jsxs("button",{className:"group flex items-center gap-1",onClick:i,children:[r,d]}),e[8]=r,e[9]=u):u=e[9];const m=n.connection_status==="draft"?St.draftSyncState:St.configuredSyncState;let p;e[10]!==m?(p=t.jsx("p",{className:"text-token-text-secondary text-sm",children:t.jsx(k,S({},m))}),e[10]=m,e[11]=p):p=e[11];let f;e[12]!==n.connection_config.knowledge_connector_type||e[13]!==n.connection_config.team_domain||e[14]!==n.connection_config.team_id?(f=n.connection_config.knowledge_connector_type==="slack"&&t.jsx("p",{className:"text-token-text-secondary mt-0.5 text-xs",children:t.jsx(k,Ce(S({},St.slackNotes),{values:{domain:n.connection_config.team_domain,teamId:n.connection_config.team_id}}))}),e[12]=n.connection_config.knowledge_connector_type,e[13]=n.connection_config.team_domain,e[14]=n.connection_config.team_id,e[15]=f):f=e[15];let g;e[16]!==n.connection_config.domain_name||e[17]!==n.connection_config.knowledge_connector_type?(g=n.connection_config.knowledge_connector_type==="google_drive_oauth"&&t.jsx("p",{className:"text-token-text-secondary mt-0.5 text-xs",children:t.jsx(k,Ce(S({},St.gdriveNotes),{values:{domain:n.connection_config.domain_name}}))}),e[16]=n.connection_config.domain_name,e[17]=n.connection_config.knowledge_connector_type,e[18]=g):g=e[18];let h;e[19]!==g||e[20]!==u||e[21]!==p||e[22]!==f?(h=t.jsxs("div",{className:"flex h-full items-center",children:[c,t.jsxs("div",{className:"border-token-border-light flex-1 border-b py-2 ps-1",children:[u,p,f,g]})]}),e[19]=g,e[20]=u,e[21]=p,e[22]=f,e[23]=h):h=e[23];let y;return e[24]!==l||e[25]!==h?(y=t.jsxs(t.Fragment,{children:[l,h]}),e[24]=l,e[25]=h,e[26]=y):y=e[26],y},Hu=s=>{"use forget";var c;const e=q.c(2),{connection:n}=s,a=["google_drive_dwd","sharepoint_admin"].includes((c=n.connection_config.knowledge_connector_type)!=null?c:"")?St.adminManagedSyncType:St.selfServiceSyncType;let l;return e[0]!==a?(l=t.jsx("div",{className:"border-token-border-light flex h-full items-center border-b py-2",children:t.jsx("p",{className:"text-token-text-secondary pe-2 text-sm whitespace-nowrap",children:t.jsx(k,S({},a))})}),e[0]=a,e[1]=l):l=e[1],l},Ku=s=>{"use forget";var _e,Ne,He,ae;const e=q.c(87),{app:n,connection:o}=s,a=Pe(),l=mt(a),c=un();let i;e[0]!==o.connection_config.knowledge_connector_type||e[1]!==o.connection_status?(i=Vu.includes((_e=o.connection_config.knowledge_connector_type)!=null?_e:"")||o.connection_config.knowledge_connector_type==="sharepoint_admin"&&o.connection_status!=="draft",e[0]=o.connection_config.knowledge_connector_type,e[1]=o.connection_status,e[2]=i):i=e[2];const r=i;let d;e[3]!==n.knowledgeConfig||e[4]!==o.connection_config.knowledge_connector_type?(d=n.knowledgeConfig.some(Yu)&&o.connection_config.knowledge_connector_type==="sharepoint",e[3]=n.knowledgeConfig,e[4]=o.connection_config.knowledge_connector_type,e[5]=d):d=e[5];const u=d,[m,p]=L.useState(!1),[f,g]=L.useState(!1),[h,y]=L.useState(!1),[x,b]=L.useState(!1),[j,C]=L.useState(!1),[w,v]=L.useState(!1),[M,_]=L.useState(!1),[N,A]=L.useState(!1),[D,T]=L.useState(!1);let R;e[6]!==n||e[7]!==o||e[8]!==p||e[9]!==m?(R=m&&t.jsx(Pu,{app:n,connection:o,onClose:()=>p(!1)}),e[6]=n,e[7]=o,e[8]=p,e[9]=m,e[10]=R):R=e[10];let E;e[11]!==o||e[12]!==g||e[13]!==f?(E=f&&t.jsx(Sl,{connection:o,onClose:()=>g(!1)}),e[11]=o,e[12]=g,e[13]=f,e[14]=E):E=e[14];let O;e[15]!==o||e[16]!==y||e[17]!==h?(O=h&&t.jsx(Ou,{connection:o,onClose:()=>y(!1)}),e[15]=o,e[16]=y,e[17]=h,e[18]=O):O=e[18];let F;e[19]!==o||e[20]!==b||e[21]!==x?(F=x&&t.jsx(zu,{connection:o,onClose:()=>b(!1)}),e[19]=o,e[20]=b,e[21]=x,e[22]=F):F=e[22];let U;e[23]!==C||e[24]!==j?(U=j&&t.jsx(Gu,{onClose:()=>C(!1)}),e[23]=C,e[24]=j,e[25]=U):U=e[25];const P=w&&t.jsx(nc,{onClose:()=>v(!1),onNext:async()=>{await c(),v(!1)},accountId:(Ne=l==null?void 0:l.getWorkspaceId())!=null?Ne:"",connectionId:o.connection_config.connection_config_id}),B=M&&t.jsx(oc,{isOpen:!0,isPostActivation:o.connection_status!=="draft",onClose:()=>_(!1),accountId:(He=l==null?void 0:l.getWorkspaceId())!=null?He:"",connectionId:o.connection_config.connection_config_id}),W=N&&t.jsx(ac,{isOpen:!0,onClose:()=>A(!1),accountId:(ae=l==null?void 0:l.getWorkspaceId())!=null?ae:"",connectionId:o.connection_config.connection_config_id});let V;e[26]!==o||e[27]!==T||e[28]!==D?(V=D&&t.jsx(Uu,{connection:o,onClose:()=>T(!1)}),e[26]=o,e[27]=T,e[28]=D,e[29]=V):V=e[29];let I;e[30]!==u||e[31]!==C?(I=u&&t.jsx(re,{color:"secondary",onClick:()=>C(!0),icon:cc,children:t.jsx(k,S({},St.sharepointUpsellButton))}),e[30]=u,e[31]=C,e[32]=I):I=e[32];let J;e[33]!==o.connection_config.knowledge_connector_type||e[34]!==o.connection_status||e[35]!==T?(J=o.connection_config.knowledge_connector_type==="google_drive_dwd"&&o.connection_status==="draft"&&t.jsx(re,{color:"primary",onClick:()=>T(!0),children:t.jsx(k,S({},St.finishSetupButton))}),e[33]=o.connection_config.knowledge_connector_type,e[34]=o.connection_status,e[35]=T,e[36]=J):J=e[36];let H;e[37]!==o?(H=o.connection_config.knowledge_connector_type==="sharepoint_admin"&&o.connection_status==="draft"&&t.jsx(Wu,{connection:o}),e[37]=o,e[38]=H):H=e[38];let Y;e[39]===Symbol.for("react.memo_cache_sentinel")?(Y=t.jsx(be.Trigger,{color:"ghost",className:"px-2",children:t.jsx(cn,{})}),e[39]=Y):Y=e[39];let Q;e[40]!==r||e[41]!==y?(Q=r&&t.jsx(be.Item,{icon:t.jsx(tr,{}),onClick:()=>y(!0),children:t.jsx(k,S({},St.limitContentSyncMenuItem))}),e[40]=r,e[41]=y,e[42]=Q):Q=e[42];let oe;e[43]===Symbol.for("react.memo_cache_sentinel")?(oe=t.jsx(mo,{}),e[43]=oe):oe=e[43];let $;e[44]!==g?($=()=>g(!0),e[44]=g,e[45]=$):$=e[45];let G;e[46]===Symbol.for("react.memo_cache_sentinel")?(G=t.jsx(k,S({},St.renameConnectionSyncMenuItem)),e[46]=G):G=e[46];let K;e[47]!==$?(K=t.jsx(be.Item,{icon:oe,onClick:$,children:G}),e[47]=$,e[48]=K):K=e[48];let se;e[49]!==o.connection_config.knowledge_connector_type||e[50]!==b?(se=o.connection_config.knowledge_connector_type==="slack"&&t.jsx(be.Item,{icon:t.jsx(Xn,{}),onClick:()=>b(!0),children:t.jsx(k,S({},St.syncPolicyMenuItem))}),e[49]=o.connection_config.knowledge_connector_type,e[50]=b,e[51]=se):se=e[51];let Z;e[52]!==o.connection_config.knowledge_connector_type||e[53]!==v||e[54]!==A||e[55]!==_?(Z=o.connection_config.knowledge_connector_type==="google_drive_dwd"&&t.jsxs(t.Fragment,{children:[t.jsx(be.Item,{icon:t.jsx(sr,{}),onClick:()=>v(!0),children:t.jsx(k,S({},St.configureCredentialsMenuItem))}),t.jsx(be.Item,{icon:t.jsx(Pr,{}),onClick:()=>_(!0),children:t.jsx(k,S({},St.userDrivesMenuItem))}),t.jsx(be.Item,{icon:t.jsx(nr,{}),onClick:()=>A(!0),children:t.jsx(k,S({},St.sharedDrivesMenuItem))})]}),e[52]=o.connection_config.knowledge_connector_type,e[53]=v,e[54]=A,e[55]=_,e[56]=Z):Z=e[56];let ee;e[57]!==Q||e[58]!==K||e[59]!==se||e[60]!==Z?(ee=t.jsxs(be.Group,{children:[Q,K,se,Z]}),e[57]=Q,e[58]=K,e[59]=se,e[60]=Z,e[61]=ee):ee=e[61];let te;e[62]===Symbol.for("react.memo_cache_sentinel")?(te=t.jsx(yo,{}),e[62]=te):te=e[62];let xe;e[63]!==p?(xe=()=>p(!0),e[63]=p,e[64]=xe):xe=e[64];let ce;e[65]===Symbol.for("react.memo_cache_sentinel")?(ce=t.jsx(k,S({},St.deleteMenuItem)),e[65]=ce):ce=e[65];let me;e[66]!==xe?(me=t.jsx(be.Group,{children:t.jsx(be.Item,{color:"danger",icon:te,onClick:xe,children:ce})}),e[66]=xe,e[67]=me):me=e[67];let de;e[68]!==ee||e[69]!==me?(de=t.jsxs(be.Root,{children:[Y,t.jsx(be.Portal,{children:t.jsxs(be.Content,{align:"end",children:[ee,me]})})]}),e[68]=ee,e[69]=me,e[70]=de):de=e[70];let ye;e[71]!==I||e[72]!==J||e[73]!==H||e[74]!==de?(ye=t.jsxs("div",{className:"border-token-border-light relative flex h-full items-center justify-end gap-2 border-b",children:[I,J,H,de]}),e[71]=I,e[72]=J,e[73]=H,e[74]=de,e[75]=ye):ye=e[75];let ve;return e[76]!==W||e[77]!==V||e[78]!==ye||e[79]!==R||e[80]!==E||e[81]!==O||e[82]!==F||e[83]!==U||e[84]!==P||e[85]!==B?(ve=t.jsxs(t.Fragment,{children:[R,E,O,F,U,P,B,W,V,ye]}),e[76]=W,e[77]=V,e[78]=ye,e[79]=R,e[80]=E,e[81]=O,e[82]=F,e[83]=U,e[84]=P,e[85]=B,e[86]=ve):ve=e[86],ve},Qu=s=>{"use forget";const e=q.c(12),{app:n,hidden:o}=s;let a;e[0]!==n?(a=Hr(n).flatMap(Xu),e[0]=n,e[1]=a):a=e[1];const l=a;if(l.length===0)return null;let c;if(e[2]!==n||e[3]!==l||e[4]!==o){let r;e[6]!==n||e[7]!==l.length||e[8]!==o?(r=(d,u)=>t.jsxs("tr",{className:"group/trailing h-0",hidden:o,children:[t.jsx("td",{colSpan:2,className:ue("h-[inherit] lg:ps-8",u===l.length-1&&"pb-2"),children:t.jsx(qu,{connection:d},d.connection_config.connection_config_id)}),t.jsx("td",{className:ue("h-[inherit]",u===l.length-1&&"pb-2"),children:t.jsx(Hu,{connection:d})}),t.jsx("td",{colSpan:999,className:ue("h-[inherit]",u===l.length-1&&"pb-2"),children:t.jsx(Ku,{app:n,connection:d})})]},d.connection_config.connection_config_id),e[6]=n,e[7]=l.length,e[8]=o,e[9]=r):r=e[9],c=l.map(r),e[2]=n,e[3]=l,e[4]=o,e[5]=c}else c=e[5];let i;return e[10]!==c?(i=t.jsx(t.Fragment,{children:c}),e[10]=c,e[11]=i):i=e[11],i},St=Ye({configuredSyncState:{id:"Fc0BUU",defaultMessage:"Sync configured"},draftSyncState:{id:"XdUjdG",defaultMessage:"Draft"},selfServiceSyncType:{id:"zR7URn",defaultMessage:"Self-service"},adminManagedSyncType:{id:"2IlZVv",defaultMessage:"Admin-managed"},renameConnectionSyncMenuItem:{id:"6SiGRk",defaultMessage:"Rename"},limitContentSyncMenuItem:{id:"7I7mHz",defaultMessage:"Limit content"},deleteMenuItem:{id:"+OY13q",defaultMessage:"Delete"},slackNotes:{id:"C4Qu1A",defaultMessage:"Domain: {domain}  Team ID: {teamId}"},gdriveNotes:{id:"SojC8+",defaultMessage:"Domain: {domain}"},syncPolicyMenuItem:{id:"EytwCR",defaultMessage:"Sync policy"},sharepointUpsellButton:{id:"55ih2d",defaultMessage:"Deploy to team"},configureCredentialsMenuItem:{id:"o2ULAX",defaultMessage:"Configure credentials"},userDrivesMenuItem:{id:"7tsdnY",defaultMessage:"User Drives"},sharedDrivesMenuItem:{id:"58iaZQ",defaultMessage:"Shared Drives"},finishSetupButton:{id:"1r5b2u",defaultMessage:"Finish setup"}});function Yu(s){return s.key==="sharepoint_admin"}function Xu(s){return s.connections}const Al=L.createContext(null),Ju=()=>{"use forget";const s=q.c(29),e=Pe();let n;s[0]!==e?(n=zt(e),s[0]=e,s[1]=n):n=s[1];const o=n,a=L.useContext(Al),{clearSelection:l}=L.useContext(Bn),[c,i]=L.useState(!1),[r,d]=L.useState(!1),u=a==null?void 0:a.selectedApps.some(ef);if(!a||a.selectedApps.length===0){let M;return s[2]===Symbol.for("react.memo_cache_sentinel")?(M=t.jsx("div",{}),s[2]=M):M=s[2],M}let m;s[3]!==a.selectedApps||s[4]!==c?(m=c&&t.jsx(Ru,{apps:a.selectedApps,onClose:()=>i(!1)}),s[3]=a.selectedApps,s[4]=c,s[5]=m):m=s[5];let p;s[6]!==l||s[7]!==a.selectedApps||s[8]!==r?(p=r&&t.jsx(Tu,{apps:a.selectedApps,onClose:M=>{d(!1),M&&(l==null||l())}}),s[6]=l,s[7]=a.selectedApps,s[8]=r,s[9]=p):p=s[9];let f;s[10]!==a.selectedApps.length?(f=t.jsx("p",{className:"text-token-text-tertiary text-sm font-medium",children:t.jsx(k,{id:"/xphqj",defaultMessage:"{count} selected",values:{count:a.selectedApps.length}})}),s[10]=a.selectedApps.length,s[11]=f):f=s[11];let g;s[12]===Symbol.for("react.memo_cache_sentinel")?(g=t.jsx(be.Trigger,{className:"hover:bg-token-bg-secondary bg-inherit px-2",children:t.jsx(cn,{className:"h-5 w-5"})}),s[12]=g):g=s[12];let h;s[13]!==o?(h=o&&t.jsx(be.Group,{children:t.jsx(be.Item,{icon:t.jsx(eo,{}),onClick:()=>i(!0),children:t.jsx(k,S({},Zt.rbacActionText))})}),s[13]=o,s[14]=h):h=s[14];let y,x;s[15]===Symbol.for("react.memo_cache_sentinel")?(y=t.jsx(yo,{}),x=()=>{d(!0)},s[15]=y,s[16]=x):(y=s[15],x=s[16]);const b=u?Zt.deleteActionText:Zt.disableActionText;let j;s[17]!==b?(j=t.jsx(be.Group,{children:t.jsx(be.Item,{color:"danger",icon:y,onClick:x,children:t.jsx(k,S({},b))})}),s[17]=b,s[18]=j):j=s[18];let C;s[19]!==h||s[20]!==j?(C=t.jsxs(be.Root,{children:[g,t.jsx(be.Portal,{children:t.jsxs(be.Content,{align:"end",children:[h,j]})})]}),s[19]=h,s[20]=j,s[21]=C):C=s[21];let w;s[22]!==C||s[23]!==f?(w=t.jsxs("div",{className:"flex items-center justify-end gap-4",children:[f,C]}),s[22]=C,s[23]=f,s[24]=w):w=s[24];let v;return s[25]!==m||s[26]!==w||s[27]!==p?(v=t.jsxs(t.Fragment,{children:[m,p,w]}),s[25]=m,s[26]=w,s[27]=p,s[28]=v):v=s[28],v},Zu=s=>{"use forget";var G,K,se,Z;const e=q.c(54),{apps:n,visibleApps:o,isLoading:a,focusedAppId:l,clearFocus:c}=s,i=pe(),r=Pe();let d,u,m,p;if(e[0]!==r){const ee=mt(r);d=(G=ee==null?void 0:ee.isEnterprisey())!=null?G:!1,u=zt(r),p=Ga,m=(K=ee==null?void 0:ee.getWorkspaceId())!=null?K:"",e[0]=r,e[1]=d,e[2]=u,e[3]=m,e[4]=p}else d=e[1],u=e[2],m=e[3],p=e[4];let f;e[5]!==u||e[6]!==m?(f={workspaceId:m,enabled:u},e[5]=u,e[6]=m,e[7]=f):f=e[7];const g=p(f),h=!g.isLoading&&((Z=(se=g.data)==null?void 0:se.data.length)!=null?Z:0)>1,y=hl(n);let x;e[8]!==n||e[9]!==y?(x=new Map,n.forEach((ee,te)=>{const xe=y[te].data;x.set(ee.primaryConnector.id,xe!=null?xe:null)}),e[8]=n,e[9]=y,e[10]=x):x=e[10];const b=x;let j;e[11]===Symbol.for("react.memo_cache_sentinel")?(j=$a(new Date),e[11]=j):j=e[11];const w=Qa(j);let v;e[12]!==i?(v=i.formatMessage(Zt.appColumnHeader),e[12]=i,e[13]=v):v=e[13];let M;e[14]!==v?(M={field:"name",header:v,value:tf,sortable:!0,defaultSortDirection:"asc",resizable:!0},e[14]=v,e[15]=M):M=e[15];const _=!u||!h;let N;e[16]!==i?(N=i.formatMessage(Zt.accessColumnHeader),e[16]=i,e[17]=N):N=e[17];let A;e[18]!==i||e[19]!==b?(A=ee=>fn(b.get(ee.primaryConnector.id)).map(te=>te.role.predefined_role?i.formatMessage(Zt.defaultRoleName):te.role.name).join(", "),e[18]=i,e[19]=b,e[20]=A):A=e[20];const D=A;let T;e[21]!==D||e[22]!==_||e[23]!==N?(T={field:"access",hidden:_,header:N,value:D,sortable:!0,resizable:!0},e[21]=D,e[22]=_,e[23]=N,e[24]=T):T=e[24];const R=!d;let E;e[25]!==i?(E=i.formatMessage(Zt.metricsColumnHeaderTooltip),e[25]=i,e[26]=E):E=e[26];let O;e[27]===Symbol.for("react.memo_cache_sentinel")?(O=t.jsx(k,S({},Zt.metricsColumnHeader)),e[27]=O):O=e[27];let F;e[28]!==E?(F=t.jsx(cs,{label:E,children:O}),e[28]=E,e[29]=F):F=e[29];let U;e[30]!==w.data?(U=ee=>[ee.primaryConnector,...ee.relatedConnectors].reduce((te,xe)=>{var ce,me,de,ye;return te+((me=(ce=w.data)==null?void 0:ce.get(xe.id))!=null?me:0)+Number(xe.connector_type==="MCP"&&((ye=(de=w.data)==null?void 0:de.get("mcp_".concat(xe.id)))!=null?ye:0))},0)+ee.knowledgeConfig.reduce((te,xe)=>{var ce,me;return te+((me=(ce=w.data)==null?void 0:ce.get(xe.key))!=null?me:0)},0),e[30]=w.data,e[31]=U):U=e[31];const P=U;let B;e[32]!==R||e[33]!==F||e[34]!==P?(B={field:"metrics",hidden:R,header:F,value:P,sortable:!0,resizable:!0},e[32]=R,e[33]=F,e[34]=P,e[35]=B):B=e[35];let W;e[36]===Symbol.for("react.memo_cache_sentinel")?(W={field:"actions",header:t.jsx(Ju,{})},e[36]=W):W=e[36];let V;e[37]!==T||e[38]!==B||e[39]!==M?(V=[M,T,B,W],e[37]=T,e[38]=B,e[39]=M,e[40]=V):V=e[40];const I=V;let J;e[41]===Symbol.for("react.memo_cache_sentinel")?(J=[],e[41]=J):J=e[41];const[H,Y]=L.useState(J);let Q,oe;if(e[42]!==c||e[43]!==l?(Q=()=>{if(l){const ee=document.getElementById("app-".concat(l));ee&&ee.scrollIntoView({behavior:"smooth",block:"center"}),setTimeout(()=>{c()},1e3)}},oe=[l,c],e[42]=c,e[43]=l,e[44]=Q,e[45]=oe):(Q=e[44],oe=e[45]),Zn(Q,oe),a){let ee;return e[46]===Symbol.for("react.memo_cache_sentinel")?(ee=t.jsx("div",{className:"flex justify-center py-16",children:t.jsx(Nt,{})}),e[46]=ee):ee=e[46],ee}if(n.length===0){let ee;return e[47]===Symbol.for("react.memo_cache_sentinel")?(ee=t.jsx("p",{className:"text-token-text-tertiary mt-4 w-full p-4 text-center text-sm",children:t.jsx(k,S({},Zt.noAppsMessage))}),e[47]=ee):ee=e[47],ee}let $;return e[48]!==n||e[49]!==I||e[50]!==l||e[51]!==H||e[52]!==o?($=t.jsx("div",{className:"pb-8",children:n.length>0?t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute inset-0 -z-10",children:t.jsx("div",{className:"bg-token-bg-elevated-secondary dark:bg-token-bg-elevated-primary h-9 w-full"})}),t.jsx("div",{className:"mx-auto w-full max-w-5xl space-y-12 overflow-x-auto px-4 md:px-6 lg:px-10",children:t.jsx(Al.Provider,{value:{selectedApps:H},children:t.jsx(ls.Root,{columns:I,rows:n,rowKey:sf,onSelection:Y,visibleKeys:o,emptyMessage:t.jsx(k,S({},Zt.noMatchingResults)),className:"overflow-y-clip",children:ee=>ee.map(te=>t.jsxs(L.Fragment,{children:[t.jsxs(ls.Row,{rowKey:te.primaryConnector.id,hidden:!o.has(te.primaryConnector.id),id:"app-".concat(te.primaryConnector.id),children:[t.jsx(ls.Cell,{field:"name",children:t.jsx(Ms.TitleWrapper,{focused:l===te.primaryConnector.id,app:te})}),t.jsx(ls.Cell,{field:"access",className:"py-4",children:t.jsx(Ms.Access,{app:te})}),t.jsx(ls.Cell,{field:"metrics",className:"py-4",children:t.jsx(Ms.Metrics,{app:te})}),t.jsx(ls.Cell,{field:"actions",className:"py-4",children:t.jsx(Ms.Actions,{app:te})})]}),t.jsx(Qu,{app:te,hidden:!o.has(te.primaryConnector.id)})]},te.primaryConnector.id))})})})]}):t.jsx("p",{className:"text-token-text-tertiary mt-4 w-full p-4 text-center text-sm",children:t.jsx(k,S({},Zt.noInstalledApps))})}),e[48]=n,e[49]=I,e[50]=l,e[51]=H,e[52]=o,e[53]=$):$=e[53],$},Zt=Ye({installedAppsSectionTitle:{id:"+InF2Y",defaultMessage:"Installed"},appColumnHeader:{id:"XZ9x/G",defaultMessage:"Name"},accessColumnHeader:{id:"wqXY9B",defaultMessage:"Access"},usersCountColumnHeader:{id:"nERnc3",defaultMessage:"Users"},appsDisabledWarning:{id:"9H+dUv",defaultMessage:"Apps are currently disabled for this workspace. To enable Apps, please contact your administrator."},filterButton:{id:"wzoL9b",defaultMessage:"Filter"},disabledAppsSectionTitle:{id:"q8S5CC",defaultMessage:"Disabled"},noAppsMessage:{id:"7+aczf",defaultMessage:"No apps found."},noInstalledApps:{id:"lVuaMF",defaultMessage:"No installed apps."},noDisabledApps:{id:"VvJlla",defaultMessage:"No disabled apps."},defaultRoleName:{id:"COFxYg",defaultMessage:"Workspace"},rbacActionText:{id:"Lz3zUl",defaultMessage:"Manage Roles"},deleteActionText:{id:"j3rAZv",defaultMessage:"Delete Apps"},disableActionText:{id:"d0tfmy",defaultMessage:"Disable Apps"},metricsColumnHeader:{id:"PRqEJl",defaultMessage:"Usage"},metricsColumnHeaderTooltip:{id:"eR5l7h",defaultMessage:"Monthly app usage by all workspace users"},noMatchingResults:{id:"2cvN0j",defaultMessage:"No installed apps match your search"}});function ef(s){return s.primaryConnector.distribution_channel==="TENANT_CATALOG"||s.primaryConnector.distribution_channel==="INDIVIDUAL"}function tf(s){return s.primaryConnector.name}function sf(s){return s.primaryConnector.id}const nf=["DESIGN","BUSINESS","DEVELOPER_TOOLS","PRODUCTIVITY","COLLABORATION","FINANCE"],of=Ua(s=>e=>{const n=s.categories;if(n&&n.size>0&&gl(e).intersection(n).size===0)return!1;const o=s.capabilities;return!(o&&o.size>0&&wo(e).intersection(o).size===0)}),af=()=>{"use forget";var ms,us;const s=q.c(205),e=pe(),n=Ut(),o=ho(),a=!!(o!=null&&o.isFreeWorkspace()),l=$s(n,"2688889402"),c=Ba(),i=!1,{apps:r,isLoading:d}=Ya(),u=tl();let m;s[0]!==u?(m={label:Mt.categoriesMessage,options:nf,messages:le=>{var Be,Bt;return(Bt=(Be=u.get(le))==null?void 0:Be.name)!=null?Bt:le}},s[0]=u,s[1]=m):m=s[1];let p;s[2]!==e?(p={label:Mt.capabilitiesMessage,options:Kr,sort:lf,messages:le=>qa(le,e)},s[2]=e,s[3]=p):p=s[3];let f;s[4]!==m||s[5]!==p?(f={categories:m,capabilities:p},s[4]=m,s[5]=p,s[6]=f):f=s[6];const g=f;let h;s[7]!==r?(h=r.filter(rf),s[7]=r,s[8]=h):h=s[8];let y;s[9]!==r?(y=r.filter(cf),s[9]=r,s[10]=y):y=s[10];let x;s[11]!==h||s[12]!==y?(x={workspaceApps:h,draftApps:y},s[11]=h,s[12]=y,s[13]=x):x=s[13];const{workspaceApps:b,draftApps:j}=x,{filters:C,setFilters:w,activeFilterCount:v}=ju(g),M=of(C);let _;if(s[14]!==M||s[15]!==b){let le;s[17]!==M?(le=Be=>M(Be),s[17]=M,s[18]=le):le=s[18],_=b.filter(le).map(df),s[14]=M,s[15]=b,s[16]=_}else _=s[16];let N;if(s[19]!==j||s[20]!==M){let le;s[22]!==M?(le=Be=>M(Be),s[22]=M,s[23]=le):le=s[23],N=j.filter(le).map(mf),s[19]=j,s[20]=M,s[21]=N}else N=s[21];let A;s[24]!==_||s[25]!==N?(A=[_,N],s[24]=_,s[25]=N,s[26]=A):A=s[26];const[D,T]=A,[R,E]=L.useState("");let O;e:{if(R.trim()===""){let ft;s[27]!==D?(ft=new Set(D.map(uf)),s[27]=D,s[28]=ft):ft=s[28];let Lt;s[29]!==T?(Lt=new Set(T.map(ff)),s[29]=T,s[30]=Lt):Lt=s[30];let ne;s[31]!==ft||s[32]!==Lt?(ne=[ft,Lt],s[31]=ft,s[32]=Lt,s[33]=ne):ne=s[33],O=ne;break e}let le;if(s[34]!==D||s[35]!==R){let ft;s[37]!==R?(ft=Lt=>{const[,ne]=Lt;return ne.reduce((z,ke)=>ia(ke,R)+z,0)},s[37]=R,s[38]=ft):ft=s[38],le=new Set(D.filter(ft).map(pf)),s[34]=D,s[35]=R,s[36]=le}else le=s[36];let Be;if(s[39]!==T||s[40]!==R){let ft;s[42]!==R?(ft=Lt=>{const[,ne]=Lt;return ne.reduce((z,ke)=>ia(ke,R)+z,0)},s[42]=R,s[43]=ft):ft=s[43],Be=new Set(T.filter(ft).map(xf)),s[39]=T,s[40]=R,s[41]=Be}else Be=s[41];let Bt;s[44]!==le||s[45]!==Be?(Bt=[le,Be],s[44]=le,s[45]=Be,s[46]=Bt):Bt=s[46],O=Bt}const[F,U]=O,P=va(),[B,W]=L.useState(null);let V;s[47]!==P?(V=le=>{W(le.primaryConnector.id),P("#workspace")},s[47]=P,s[48]=V):V=s[48];const I=V;let J;s[49]!==e||s[50]!==d||s[51]!==F?(J=e.formatMessage(Mt.workspaceTabTitle,{count:!d&&F.size}),s[49]=e,s[50]=d,s[51]=F,s[52]=J):J=s[52];let H;s[53]===Symbol.for("react.memo_cache_sentinel")?(H=()=>W(null),s[53]=H):H=s[53];let Y;s[54]!==B||s[55]!==d||s[56]!==F||s[57]!==b?(Y=t.jsx(Zu,{apps:b,visibleApps:F,isLoading:d,focusedAppId:B,clearFocus:H}),s[54]=B,s[55]=d,s[56]=F,s[57]=b,s[58]=Y):Y=s[58];let Q;s[59]!==J||s[60]!==Y?(Q={key:"workspace",label:J,children:Y},s[59]=J,s[60]=Y,s[61]=Q):Q=s[61];let oe;s[62]!==e||s[63]!==l?(oe=e.formatMessage(l?Mt.appDirectoryNewTabTitle:Mt.appDirectoryOldTabTitle),s[62]=e,s[63]=l,s[64]=oe):oe=s[64];let $;s[65]!==C||s[66]!==I||s[67]!==R?($=t.jsx(eu,{query:R,onManage:I,filters:C}),s[65]=C,s[66]=I,s[67]=R,s[68]=$):$=s[68];let G;s[69]!==oe||s[70]!==$?(G={key:"available",label:oe,children:$},s[69]=oe,s[70]=$,s[71]=G):G=s[71];let K;s[72]!==e||s[73]!==d||s[74]!==U?(K=e.formatMessage(Mt.draftsTabTitle,{count:!d&&U.size}),s[72]=e,s[73]=d,s[74]=U,s[75]=K):K=s[75];let se;s[76]!==j||s[77]!==d||s[78]!==U?(se=t.jsx(hu,{apps:j,visibleApps:U,isLoading:d}),s[76]=j,s[77]=d,s[78]=U,s[79]=se):se=s[79];let Z;s[80]!==K||s[81]!==se?(Z={key:"drafts",label:K,children:se},s[80]=K,s[81]=se,s[82]=Z):Z=s[82];let ee;s[83]!==Q||s[84]!==G||s[85]!==Z?(ee=[Q,G,Z],s[83]=Q,s[84]=G,s[85]=Z,s[86]=ee):ee=s[86];const te=ee,xe=ki();let ce,me;if(s[87]!==xe.hash){const le=xe.hash.replace(/^#/,""),[Be,Bt]=le.split("?",2);me=Bt,ce=(Be!=null?Be:"").toLowerCase(),ce==="draft"&&(ce="drafts"),s[87]=xe.hash,s[88]=ce,s[89]=me}else ce=s[88],me=s[89];const de=me!=null?me:"";let ye;s[90]!==ce||s[91]!==te?(ye=te.some(le=>le.key===ce)?ce:te[0].key,s[90]=ce,s[91]=te,s[92]=ye):ye=s[92];const ve=ye;let _e;e:{if(de===""){_e=null;break e}let le;s[93]!==de?(le=new URLSearchParams(de),s[93]=de,s[94]=le):le=s[94],_e=le}const Ne=_e;let He;s[95]!==P?(He=le=>{P("#".concat(le))},s[95]=P,s[96]=He):He=s[96];const ae=He,[Ie,Le]=L.useState(!1),[we,Ke]=L.useState(!1),[Ee,Te]=L.useState(!1),[xt,fe]=L.useState(null),[ie,he]=L.useState(null);let Se,Me;s[97]!==Ne?(Se=()=>{if(!Ne)return;const le=Ne.get("publish"),Be=Ne.get("connector");!le&&!Be||(le?he(le):Be&&fe(Be))},Me=[Ne],s[97]=Ne,s[98]=Se,s[99]=Me):(Se=s[98],Me=s[99]),L.useEffect(Se,Me);let Fe;e:{if(!xt){Fe=null;break e}let le;s[100]!==r||s[101]!==xt?(le=(ms=r.find(Be=>Be.primaryConnector.id===xt))!=null?ms:null,s[100]=r,s[101]=xt,s[102]=le):le=s[102],Fe=le}const ze=Fe;let tt;e:{if(!ie){tt=null;break e}let le;s[103]!==r||s[104]!==ie?(le=(us=r.find(Be=>Be.primaryConnector.id===ie))!=null?us:null,s[103]=r,s[104]=ie,s[105]=le):le=s[105],tt=le}const Ue=tt;let et;s[106]!==n?(et=()=>{Ea(n)?Ke(!0):Le(!0)},s[106]=n,s[107]=et):et=s[107];const ut=et;let je;s[108]===Symbol.for("react.memo_cache_sentinel")?(je=()=>{Le(!1),Ke(!0)},s[108]=je):je=s[108];const ot=je;if(a){let le;s[109]===Symbol.for("react.memo_cache_sentinel")?(le=t.jsx(sa,{}),s[109]=le):le=s[109];let Be;return s[110]===Symbol.for("react.memo_cache_sentinel")?(Be=t.jsxs(t.Fragment,{children:[le,t.jsx(Yn,{children:t.jsx(wa,{})})]}),s[110]=Be):Be=s[110],Be}let yt;s[111]===Symbol.for("react.memo_cache_sentinel")?(yt=t.jsx(sa,{}),s[111]=yt):yt=s[111];let jt;s[112]!==ae||s[113]!==we?(jt=we&&t.jsx(Co,{onClose:le=>{le&&ae("drafts"),Ke(!1)},redirectAfter:"/admin/ca#drafts"}),s[112]=ae,s[113]=we,s[114]=jt):jt=s[114];let ct;s[115]!==Ie?(ct=Ie&&t.jsx(ul,{onClose:()=>Le(!1),onEnabled:ot}),s[115]=Ie,s[116]=ct):ct=s[116];let Je;s[117]!==i||s[118]!==ae||s[119]!==Ee?(Je=!1,s[117]=i,s[118]=ae,s[119]=Ee,s[120]=Je):Je=s[120];let gt;s[121]!==Ue?(gt=Ue&&t.jsx(Mn,{app:Ue,onClose:()=>he(null)}),s[121]=Ue,s[122]=gt):gt=s[122];let Rt;s[123]!==ze?(Rt=ze&&t.jsx(Ln,{app:ze,onClose:()=>fe(null),onPublish:ze.primaryConnector.status!=="ENABLED"?()=>{const le=ze.primaryConnector.id;fe(null),he(le)}:void 0}),s[123]=ze,s[124]=Rt):Rt=s[124];const Wt=l?Mt.appsAdminPageTitle:Mt.appsAdminPageTitleOld;let wt;s[125]!==Wt?(wt=t.jsx("h2",{className:"text-2xl font-semibold",children:t.jsx(k,S({},Wt))}),s[125]=Wt,s[126]=wt):wt=s[126];const Ae=l?Mt.subtitle:Mt.subtitleOld;let Re;s[127]===Symbol.for("react.memo_cache_sentinel")?(Re={link:gf},s[127]=Re):Re=s[127];let De;s[128]!==Ae?(De=t.jsx("p",{className:"text-token-text-tertiary text-sm",children:t.jsx(k,Ce(S({},Ae),{values:Re}))}),s[128]=Ae,s[129]=De):De=s[129];let We;s[130]!==c?(We=c&&t.jsxs("p",{className:"text-token-text-secondary text-sm",children:[t.jsx(k,{id:"9menCz",defaultMessage:"Connectors may allow end users to share data, which could include protected health information (PHI), with third parties. You should ensure that your use of connectors complies with your obligations under HIPAA. "}),t.jsx(bo,{href:"https://help.openai.com/en/articles/11509118-admin-controls-security-and-compliance-in-connectors-enterprise-edu-and-team#h_f11dede080",className:"ms-1 underline",children:t.jsx(k,{id:"YXcIJ9",defaultMessage:"Learn more about Apps."})})]}),s[130]=c,s[131]=We):We=s[131];let at;s[132]!==wt||s[133]!==De||s[134]!==We?(at=t.jsxs("div",{className:"min-w-24 space-y-1",children:[wt,De,We]}),s[132]=wt,s[133]=De,s[134]=We,s[135]=at):at=s[135];let lt;s[136]!==e?(lt=e.formatMessage(Mt.searchPlaceholder),s[136]=e,s[137]=lt):lt=s[137];let ht;s[138]!==e?(ht=e.formatMessage(Mt.searchPlaceholder),s[138]=e,s[139]=ht):ht=s[139];let Gt;s[140]===Symbol.for("react.memo_cache_sentinel")?(Gt=le=>E(le.target.value.toLowerCase()),s[140]=Gt):Gt=s[140];let gs;s[141]===Symbol.for("react.memo_cache_sentinel")?(gs=()=>E(""),s[141]=gs):gs=s[141];let Vt;s[142]!==R||s[143]!==lt||s[144]!==ht?(Vt=t.jsx(on,{className:"border-token-border-heavy! flex-1 rounded-full!",name:"search",type:"text",ariaLabel:lt,placeholder:ht,icon:fo,iconPosition:"left",value:R,onChange:Gt,iconClassName:"text-token-icon-tertiary",onClear:gs}),s[142]=R,s[143]=lt,s[144]=ht,s[145]=Vt):Vt=s[145];let Is;s[146]===Symbol.for("react.memo_cache_sentinel")?(Is=t.jsx(k,S({},Mt.filterMessage)),s[146]=Is):Is=s[146];let ss;s[147]!==v?(ss=v>0&&t.jsx("span",{className:"bg-token-text-primary border-token-bg-primary text-token-text-inverted flex h-5 items-center justify-center rounded-full border-2 px-1.5 text-xs font-semibold",children:v}),s[147]=v,s[148]=ss):ss=s[148];let qt;s[149]!==d||s[150]!==ss?(qt=t.jsxs(re,{icon:ar,color:"secondary",disabled:d,children:[Is,ss]}),s[149]=d,s[150]=ss,s[151]=qt):qt=s[151];let hs;s[152]!==d||s[153]!==qt?(hs=t.jsx(be.Trigger,{asChild:!0,className:"border-token-border-heavy h-auto rounded-full font-normal",disabled:d,children:qt}),s[152]=d,s[153]=qt,s[154]=hs):hs=s[154];let bs;s[155]!==w?(bs=le=>w(le),s[155]=w,s[156]=bs):bs=s[156];let ys;s[157]!==g||s[158]!==C||s[159]!==bs?(ys=t.jsx(be.Portal,{children:t.jsx(be.Content,{align:"end",children:t.jsx(wu,{filters:C,onApply:bs,filterFields:g})})}),s[157]=g,s[158]=C,s[159]=bs,s[160]=ys):ys=s[160];let ds;s[161]!==g||s[162]!==hs||s[163]!==ys?(ds=t.jsx(be.Root,{children:t.jsxs(Cu,{filterFields:g,children:[hs,ys]})}),s[161]=g,s[162]=hs,s[163]=ys,s[164]=ds):ds=s[164];const js=i;let Ht;s[165]!==js?(Ht=ue(js),s[165]=js,s[166]=Ht):Ht=s[166];let Es;s[167]===Symbol.for("react.memo_cache_sentinel")?(Es=t.jsx(k,S({},Mt.createAppButton)),s[167]=Es):Es=s[167];let Cs;s[168]!==ut||s[169]!==Ht?(Cs=t.jsx(re,{onClick:ut,color:"primary",icon:Ma,className:Ht,children:Es}),s[168]=ut,s[169]=Ht,s[170]=Cs):Cs=s[170];let vs;s[171]!==i?(vs=i,s[171]=i,s[172]=vs):vs=s[172];let Kt;s[173]!==Cs||s[174]!==vs?(Kt=t.jsxs("div",{className:"flex items-center",children:[Cs,vs]}),s[173]=Cs,s[174]=vs,s[175]=Kt):Kt=s[175];let Qt;s[176]!==Vt||s[177]!==ds||s[178]!==Kt?(Qt=t.jsxs("div",{className:"mt-6 flex items-stretch gap-4",children:[Vt,ds,Kt]}),s[176]=Vt,s[177]=ds,s[178]=Kt,s[179]=Qt):Qt=s[179];let It;s[180]!==at||s[181]!==Qt?(It=t.jsxs("div",{className:"mx-auto w-full max-w-5xl items-start justify-between gap-3 px-4 pb-2 md:mt-12 md:px-6 md:pb-6 lg:px-10",children:[at,Qt]}),s[180]=at,s[181]=Qt,s[182]=It):It=s[182];let Et;s[183]!==ve||s[184]!==l||s[185]!==d||s[186]!==ae||s[187]!==te?(Et=!d&&t.jsxs("div",{className:"mx-auto flex w-full max-w-5xl items-end justify-between px-4 md:px-6 lg:px-10",children:[t.jsx("div",{className:"flex gap-2 pt-2",children:te.map(le=>t.jsx(Br,{isActive:ve===le.key,onClick:()=>ae(le.key),className:"px-2 pt-2.5 text-sm font-medium",children:le.label},le.key))}),l&&t.jsxs(_t,{href:"/apps",target:"_blank",className:"text-token-text-tertiary flex items-center gap-1 px-1 py-2.5 text-sm no-underline! hover:underline!",children:[t.jsx(k,S({},Mt.browseDirectoryLink)),t.jsx(Fa,{})]})]}),s[183]=ve,s[184]=l,s[185]=d,s[186]=ae,s[187]=te,s[188]=Et):Et=s[188];let Pt;s[189]!==Et?(Pt=t.jsx("div",{className:"border-token-border-light border-b",children:Et}),s[189]=Et,s[190]=Pt):Pt=s[190];let Yt;s[191]!==ve||s[192]!==te?(Yt=t.jsx(Or,{items:te,activeTab:ve}),s[191]=ve,s[192]=te,s[193]=Yt):Yt=s[193];let Xe;s[194]!==Pt||s[195]!==Yt?(Xe=t.jsxs("div",{children:[Pt,Yt]}),s[194]=Pt,s[195]=Yt,s[196]=Xe):Xe=s[196];let Xt;return s[197]!==jt||s[198]!==ct||s[199]!==Je||s[200]!==gt||s[201]!==Rt||s[202]!==It||s[203]!==Xe?(Xt=t.jsxs(wm,{children:[yt,jt,ct,Je,gt,Rt,It,Xe]}),s[197]=jt,s[198]=ct,s[199]=Je,s[200]=gt,s[201]=Rt,s[202]=It,s[203]=Xe,s[204]=Xt):Xt=s[204],Xt},Mt=Ye({appsAdminPageTitle:{id:"kLyF7D",defaultMessage:"Apps"},appsAdminPageTitleOld:{id:"ozzZab",defaultMessage:"Apps & Connectors"},workspaceTabTitle:{id:"4N3tBC",defaultMessage:"Enabled {count, select, false {} other {({count})}}"},appDirectoryOldTabTitle:{id:"XFhCny",defaultMessage:"Available"},appDirectoryNewTabTitle:{id:"P3nEJO",defaultMessage:"Directory"},draftsTabTitle:{id:"CarmrY",defaultMessage:"Drafts {count, select, false {} other {({count})}}"},createAppButton:{id:"Hz0kHM",defaultMessage:"Create"},subtitle:{id:"jOxuSP",defaultMessage:"Manage which apps users in this workspace can connect to. <link>Learn more</link>"},subtitleOld:{id:"3N0XYd",defaultMessage:"Manage which apps and connectors users in this workspace can connect to. <link>Learn more</link>"},defaultRoleName:{id:"k9PMEr",defaultMessage:"Workspace"},accessMessage:{id:"3yv6bx",defaultMessage:"Role access"},filterMessage:{id:"NROETK",defaultMessage:"Filters"},searchPlaceholder:{id:"E5d8B6",defaultMessage:"Search"},capabilitiesMessage:{id:"J5O8RB",defaultMessage:"Capabilities"},categoriesMessage:{id:"j5atqX",defaultMessage:"Categories"},browseDirectoryLink:{id:"aBgAbr",defaultMessage:"Browse directory"},createEhrAppButton:{id:"iyh/Ul",defaultMessage:"Create EHR App"},moreActions:{id:"QLz8Gm",defaultMessage:"More actions"}});function lf(s,e){return s.localeCompare(e)}function rf(s){return s.primaryConnector.status==="ENABLED"}function cf(s){return s.primaryConnector.status==="ONLY_ME"}function df(s){return[s.primaryConnector.id,s.searchKeys]}function mf(s){return[s.primaryConnector.id,s.searchKeys]}function uf(s){const[e]=s;return e}function ff(s){const[e]=s;return e}function pf(s){const[e]=s;return e}function xf(s){const[e]=s;return e}function gf(s){return t.jsx("a",{href:"https://help.openai.com",target:"_blank",rel:"noopener noreferrer",className:"underline",children:s})}const pp=_i(function(){"use forget";const e=q.c(2),n=Pe();if(Zr(),$s(n,"3280023399")){let l;return e[0]===Symbol.for("react.memo_cache_sentinel")?(l=t.jsx(af,{}),e[0]=l):l=e[0],l}let a;return e[1]===Symbol.for("react.memo_cache_sentinel")?(a=t.jsx(jd,{}),e[1]=a):a=e[1],a});export{pp as default};
//# sourceMappingURL=g9dbndedk6mno6pb.js.map
