var as=Object.defineProperty,ls=Object.defineProperties;var is=Object.getOwnPropertyDescriptors;var Ve=Object.getOwnPropertySymbols;var os=Object.prototype.hasOwnProperty,ns=Object.prototype.propertyIsEnumerable;var Qe=(l,e,a)=>e in l?as(l,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):l[e]=a,m=(l,e)=>{for(var a in e||(e={}))os.call(e,a)&&Qe(l,a,e[a]);if(Ve)for(var a of Ve(e))ns.call(e,a)&&Qe(l,a,e[a]);return l},Le=(l,e)=>ls(l,is(e));import{e as ie,j as s,M as i,r as W,b as rs,a as cs,u as ds,s as ms,f as Oe,c as Ce,a0 as fs}from"./fg33krlcm0qyi6yw.js";import{q2 as Re,q3 as _,gG as us,uT as gs,dL as ps,eq as xs,cK as hs,kZ as js,z as ys,uU as ks,d4 as bs,dv as vs,dw as Ms,cI as ws}from"./k65njl5wlgspihfr.js";import{H as Ee,m as ze,pz as Cs,R as Ge,y0 as Ss,a9 as we,aT as Be,C as qe,M as Fe,y1 as _s,uI as De,sM as Ns,sN as Ps,l as Is,y2 as es,b as He,lq as Te,sP as As,xK as Ls,lf as Ts,xL as Ws,gp as Es,gq as Rs,le as zs,T as Us,i9 as Fs,y3 as Ds,rt as Os,mS as Ks,du as Gs,n as Bs,c0 as qs}from"./mtk1qztvnb31pw5r.js";import{C as R}from"./d89jwbh4dprxdpk0.js";import{W as Ue}from"./hspr4v62gc8o4adc.js";import{m as h,a as ss}from"./g7ngw8v55r9enu2m.js";import{E as Hs}from"./jh2gb364v6b9t61m.js";import{u as Ys}from"./k43gn7pl526u53kc.js";import{u as $s}from"./ifxtq3q31q8lcdo2.js";import{m as Me,C as Vs}from"./b9zbambfgbao1jch.js";import{a as Qs,c as Zs}from"./jex6ulz50fkc86ct.js";import{u as Xs,b as Js}from"./qomjt47lfw1l209u.js";import"./c2cj1dlcffke3f7m.js";import"./ohquqctluwabmb5i.js";import"./efooahjtdr85x1lo.js";import"./km71i01x6ma5r62b.js";import"./hb1mva1gmw4bcs8w.js";import"./i1tex5l6gt3gdz3c.js";import"./mcmrxiy9039fw9r6.js";import"./llove4bcy7api840.js";import"./bhm7utdivrybcfbl.js";import"./mivow98b53y1taf8.js";import"./krwszi9u3lj63i9v.js";function et(){const l=Ee();return(l==null?void 0:l.data.ekmConfig)!=null}function st(){const l=Ee();return(l==null?void 0:l.data.computeResidency)!==""&&(l==null?void 0:l.data.computeResidency)!=="no_constraint"}const tt=({workspaceId:l})=>{var n,g,j,f,d,p,x,M,C,v,A,r,b,k,N,P,S,I,w,y,L;const e=ie(),a=ze(),t=Ee(),u=Cs(t),o=st(),c=et();return s.jsx(Ue,{title:h.workspaceDetails,children:s.jsxs(Re,{children:[s.jsxs(_,{children:[s.jsx(i,{id:"SgdcRQ",defaultMessage:"Organization ID"}),s.jsx(R,{value:(n=t==null?void 0:t.data.organizationId)!=null?n:"",onCopied:()=>a.success(e.formatMessage({id:"Ctw3o0",defaultMessage:"Copied organization ID"}))})]}),s.jsxs(_,{children:[s.jsx(i,{id:"yFldxx",defaultMessage:"Workspace ID"}),s.jsx(R,{value:l,onCopied:()=>a.success(e.formatMessage({id:"CqDpiM",defaultMessage:"Copied workspace ID"}))})]}),u&&s.jsxs(_,{children:[s.jsx(i,{id:"ql2W8E",defaultMessage:"Data Residency Region"}),s.jsx(R,{value:(g=t==null?void 0:t.data.residencyRegion)!=null?g:"",onCopied:()=>a.success(e.formatMessage({id:"gL43UM",defaultMessage:"Copied data residency"}))})]}),o&&s.jsxs(_,{children:[s.jsx(i,{id:"0l7rYd",defaultMessage:"Inference Residency Region"}),s.jsx(R,{value:(j=t==null?void 0:t.data.computeResidencyDisplayName)!=null?j:"",onCopied:()=>a.success(e.formatMessage({id:"DbwXiz",defaultMessage:"Copied inference residency"})),tooltip:t==null?void 0:t.data.computeResidencyDescription})]}),c&&s.jsxs(W.Fragment,{children:[s.jsxs(_,{children:[s.jsx(i,m({},h.ekmSettingsLabel)),s.jsx("p",{className:"text-md inline-flex items-center",children:s.jsx(i,m({},h.ekmSettingsEnabled))})]}),(t==null?void 0:t.data.ekmConfig)&&s.jsxs(W.Fragment,{children:[s.jsxs(_,{children:[s.jsx(i,m({},h.ekmTypeLabel)),s.jsxs("p",{className:"text-md inline-flex items-center",children:[(t==null?void 0:t.data.ekmConfig.type)==="aws"&&s.jsx(i,m({},h.ekmTypeAws)),(t==null?void 0:t.data.ekmConfig.type)==="gcp"&&s.jsx(i,m({},h.ekmTypeGcp)),(t==null?void 0:t.data.ekmConfig.type)==="azure"&&s.jsx(i,m({},h.ekmTypeAzure)),(t==null?void 0:t.data.ekmConfig.type)==="development"&&s.jsx(i,m({},h.ekmTypeDevelopment))]})]}),(t==null?void 0:t.data.ekmConfig.type)==="aws"&&s.jsxs(W.Fragment,{children:[s.jsxs(_,{children:[s.jsx(i,m({},h.ekmNameLabel)),s.jsx(R,{value:(f=t==null?void 0:t.data.ekmConfig.name)!=null?f:"",onCopied:()=>a.success(e.formatMessage({id:"6LvE2Y",defaultMessage:"Copied EKM name"}))})]}),s.jsxs(_,{children:[s.jsx(i,m({},h.ekmAwsRoleArn)),s.jsx(R,{value:(d=t==null?void 0:t.data.ekmConfig.role_arn)!=null?d:"",onCopied:()=>a.success(e.formatMessage({id:"4bdi09",defaultMessage:"Copied AWS role ARN"}))})]}),s.jsxs(_,{children:[s.jsx(i,m({},h.ekmAwsExternalId)),s.jsx(R,{value:(p=t==null?void 0:t.data.ekmConfig.external_id)!=null?p:"",onCopied:()=>a.success(e.formatMessage({id:"vA49q7",defaultMessage:"Copied AWS external ID"}))})]}),s.jsxs(_,{children:[s.jsx(i,m({},h.ekmAwsKmsArn)),s.jsx(R,{value:(x=t==null?void 0:t.data.ekmConfig.kms_arn)!=null?x:"",onCopied:()=>a.success(e.formatMessage({id:"OrGb/E",defaultMessage:"Copied AWS KMS ARN"}))})]})]}),(t==null?void 0:t.data.ekmConfig.type)==="gcp"&&s.jsxs(W.Fragment,{children:[s.jsxs(_,{children:[s.jsx(i,m({},h.ekmNameLabel)),s.jsx(R,{value:(M=t==null?void 0:t.data.ekmConfig.name)!=null?M:"",onCopied:()=>a.success(e.formatMessage({id:"6LvE2Y",defaultMessage:"Copied EKM name"}))})]}),s.jsxs(_,{children:[s.jsx(i,m({},h.ekmGcpWorkloadIdentityProjectNumber)),s.jsx(R,{value:(C=t==null?void 0:t.data.ekmConfig.workload_identity_project_number)!=null?C:"",onCopied:()=>a.success(e.formatMessage({id:"YqzX4K",defaultMessage:"Copied GCP workload identity project number"}))})]}),s.jsxs(_,{children:[s.jsx(i,m({},h.ekmGcpWorkloadIdentityPoolId)),s.jsx(R,{value:(v=t==null?void 0:t.data.ekmConfig.workload_identity_pool_id)!=null?v:"",onCopied:()=>a.success(e.formatMessage({id:"chEtMi",defaultMessage:"Copied GCP workload identity pool ID"}))})]}),s.jsxs(_,{children:[s.jsx(i,m({},h.ekmGcpWorkloadIdentityProviderId)),s.jsx(R,{value:(A=t==null?void 0:t.data.ekmConfig.workload_identity_provider_id)!=null?A:"",onCopied:()=>a.success(e.formatMessage({id:"/T7kiu",defaultMessage:"Copied GCP workload identity provider ID"}))})]}),s.jsxs(_,{children:[s.jsx(i,m({},h.ekmGcpAudience)),s.jsx(R,{value:(r=t==null?void 0:t.data.ekmConfig.audience)!=null?r:"",onCopied:()=>a.success(e.formatMessage({id:"/uFjyv",defaultMessage:"Copied GCP audience"}))})]}),s.jsxs(_,{children:[s.jsx(i,m({},h.ekmGcpKmsProjectId)),s.jsx(R,{value:(b=t==null?void 0:t.data.ekmConfig.kms_project_id)!=null?b:"",onCopied:()=>a.success(e.formatMessage({id:"gjI8eK",defaultMessage:"Copied GCP KMS project ID"}))})]}),s.jsxs(_,{children:[s.jsx(i,m({},h.ekmGcpKmsKeyRingName)),s.jsx(R,{value:(k=t==null?void 0:t.data.ekmConfig.kms_key_ring_name)!=null?k:"",onCopied:()=>a.success(e.formatMessage({id:"3dwsVC",defaultMessage:"Copied GCP KMS key ring"}))})]}),s.jsxs(_,{children:[s.jsx(i,m({},h.ekmGcpKmsKeyName)),s.jsx(R,{value:(N=t==null?void 0:t.data.ekmConfig.kms_key_name)!=null?N:"",onCopied:()=>a.success(e.formatMessage({id:"gHjKrz",defaultMessage:"Copied GCP KMS key name"}))})]}),s.jsxs(_,{children:[s.jsx(i,m({},h.ekmGcpKmsKeyLocation)),s.jsx(R,{value:(P=t==null?void 0:t.data.ekmConfig.kms_key_location)!=null?P:"",onCopied:()=>a.success(e.formatMessage({id:"0GOofF",defaultMessage:"Copied GCP KMS key location"}))})]})]}),(t==null?void 0:t.data.ekmConfig.type)==="azure"&&s.jsxs(W.Fragment,{children:[s.jsxs(_,{children:[s.jsx(i,m({},h.ekmNameLabel)),s.jsx(R,{value:(S=t==null?void 0:t.data.ekmConfig.name)!=null?S:"",onCopied:()=>a.success(e.formatMessage({id:"6LvE2Y",defaultMessage:"Copied EKM name"}))})]}),s.jsxs(_,{children:[s.jsx(i,m({},h.ekmAzureTenantId)),s.jsx(R,{value:(I=t==null?void 0:t.data.ekmConfig.tenant_id)!=null?I:"",onCopied:()=>a.success(e.formatMessage({id:"vH6cbU",defaultMessage:"Copied Azure tenant ID"}))})]}),s.jsxs(_,{children:[s.jsx(i,m({},h.ekmAzureVaultUri)),s.jsx(R,{value:(w=t==null?void 0:t.data.ekmConfig.vault_uri)!=null?w:"",onCopied:()=>a.success(e.formatMessage({id:"riTMZV",defaultMessage:"Copied Azure Key Vault URI"}))})]}),s.jsxs(_,{children:[s.jsx(i,m({},h.ekmAzureKeyName)),s.jsx(R,{value:(y=t==null?void 0:t.data.ekmConfig.key_name)!=null?y:"",onCopied:()=>a.success(e.formatMessage({id:"+LPUTz",defaultMessage:"Copied Azure key name"}))})]})]}),(t==null?void 0:t.data.ekmConfig.type)==="development"&&s.jsxs(_,{children:[s.jsx(i,m({},h.ekmNameLabel)),s.jsx(R,{value:(L=t==null?void 0:t.data.ekmConfig.name)!=null?L:"",onCopied:()=>a.success(e.formatMessage({id:"6LvE2Y",defaultMessage:"Copied EKM name"}))})]})]})]})]})})};function at(l){return rs({queryKey:["workspace-system-instruction",l],queryFn:l?()=>Ge.safeGet("/accounts/{account_id}/system_instruction",{parameters:{path:{account_id:l}}}):ms})}function lt(l){const e=cs();return ds({mutationFn:a=>Ge.safePost("/accounts/{account_id}/system_instruction",{parameters:{path:{account_id:l}},requestBody:{system_instruction:a}}),onSuccess:()=>{e.invalidateQueries({queryKey:["workspace-system-instruction",l]})}})}const it=({workspaceId:l,upsellEnterprise:e})=>{const a=ie(),t=Ee(),u=t&&t.features.includes(Ss),{data:o}=at(l),c=lt(l),[n,g]=W.useState(!!(o!=null&&o.system_instruction)),j=!!(o!=null&&o.system_instruction);W.useEffect(()=>g(j),[j]);const f=ze(),[d,p]=W.useState(!1);if(!u)return null;const x=v=>{g(v),v?p(!0):(c.mutate(""),f.success(a.formatMessage(h.workspaceInstructionSaveSuccess)))},M=async v=>{await c.mutateAsync(v),g(!!v),p(!1),f.success(a.formatMessage(h.workspaceInstructionSaveSuccess))},C=()=>{g(!!(o!=null&&o.system_instruction)),p(!1)};return s.jsxs(Ue,{title:h.workspaceInstructionSection,upsellEnterprise:e,description:h.systemInstructionDescription,children:[s.jsx(Re,{children:s.jsxs(_,{className:"justify-start py-6",children:[s.jsx("p",{className:"text-md inline-flex items-center",children:s.jsx(i,m({},h.workspaceInstructionSection))}),s.jsxs("div",{className:"ms-auto flex gap-2",children:[s.jsx(we,{size:"small",color:"secondary",onClick:()=>p(!0),disabled:!n||e,children:a.formatMessage(h.workspaceCustomize)}),s.jsx(Be,{label:"",enabled:n,onChange:x,disabled:e})]})]})}),d&&s.jsx(ot,{onClose:C,defaultInstruction:(o==null?void 0:o.system_instruction)||"",onSave:M})]})},ot=({onClose:l,defaultInstruction:e,onSave:a})=>{const t=ie(),[u,o]=W.useState(e),[c,n]=W.useState(!1);return s.jsx(qe,{className:"max-w-250",testId:"modal-workspace-instruction",size:"custom",isOpen:!0,onClose:l,type:"success",title:s.jsx("h2",{className:"text-sm font-medium",children:s.jsx(i,m({},h.workspaceInstructionSection))}),showCloseButton:!0,secondaryButton:s.jsx(Fe.Button,{title:t.formatMessage({id:"PyxZY2",defaultMessage:"Cancel"}),color:"secondary",onClick:l,loading:c}),primaryButton:s.jsx(Fe.Button,{title:t.formatMessage(h.workspaceInstructionSave),color:"primary",onClick:async()=>{n(!0),await a(u),n(!1)},loading:c}),children:s.jsx("div",{className:"flex flex-col gap-2 overflow-hidden",children:s.jsx(Hs,{className:"border-token-border-default focus-within:border-token-border-heavy focus-within:ring-token-text-secondary bg-token-bg-primary h-full w-full resize-none rounded-md border px-3 py-2 font-mono text-xs shadow-none focus-within:ring-1",value:u,placeholder:"How should ChatGPT behave? What traits should it have? What should it know about your company?",onChange:g=>o(g.target.value),rows:18})})})},nt=({workspaceId:l,data:e,upsellEnterprise:a})=>{var A;const t=Ee(),u=t&&t.features.includes(_s),{data:o}=us({workspaceId:l}),c=gs(l),{mutateAsync:n}=ss({workspaceId:l}),g=ie(),j=ze(),[f,d]=W.useState(!!e.beta_settings.workspace_policy),[p,x]=W.useState(!1),M=async r=>{d(r),r?x(!0):(await n({feature:De.WORKSPACE_POLICY,enabled:!1}),j.success(g.formatMessage(h.workspacePolicySaveSuccess)))},C=async r=>{await Promise.all([n({feature:De.WORKSPACE_POLICY,enabled:!0}),c.mutateAsync(r)]),j.success(g.formatMessage(h.workspacePolicySaveSuccess)),d(!0),x(!1)},v=()=>{d(!!e.beta_settings.workspace_policy),x(!1)};return u?s.jsxs(Ue,{title:h.workspacePolicySection,upsellEnterprise:a,description:h.workspacePolicySectionDescription,children:[s.jsx(Re,{children:s.jsxs(_,{className:"justify-start py-6",children:[s.jsx("p",{className:"text-md inline-flex items-center",children:s.jsx(i,m({},h.workspacePolicyToggleLabel))}),s.jsxs("div",{className:"ms-auto flex gap-2",children:[s.jsx(we,{size:"small",color:"secondary",onClick:()=>x(!0),disabled:!f||a,children:s.jsx(i,m({},h.workspaceCustomize))}),s.jsx(Be,{label:"",enabled:f,onChange:r=>M(r),disabled:a})]})]})}),p&&s.jsx(rt,{onClose:v,defaultPolicy:(A=o==null?void 0:o.workspace_policy)!=null?A:"",onSave:C})]}):null},rt=({onClose:l,defaultPolicy:e,onSave:a})=>{const t=ie(),[u,o]=W.useState(!1),[c,n]=W.useState(e);return s.jsx(qe,{className:"max-w-250",testId:"modal-workspace-policy",size:"custom",isOpen:!0,onClose:l,type:"success",title:s.jsx("h2",{className:"text-sm font-medium",children:s.jsx(i,m({},h.workspacePolicySection))}),showCloseButton:!0,secondaryButton:s.jsx(Fe.Button,{title:t.formatMessage({id:"PyxZY2",defaultMessage:"Cancel"}),color:"secondary",onClick:l,loading:u}),primaryButton:s.jsx(Fe.Button,{title:t.formatMessage(h.workspacePolicySave),color:"primary",onClick:async()=>{o(!0),await a(c),o(!1)},loading:u}),children:s.jsxs("div",{className:"grid max-h-[80vh] flex-1 grid-cols-1 gap-4 overflow-y-auto p-4 md:grid-cols-2",children:[s.jsxs("div",{className:"flex flex-col gap-2 overflow-hidden",children:[s.jsx("p",{className:"text-xs font-medium",children:s.jsx(i,m({},h.workspacePolicyTextareaPlaceholder))}),s.jsx(ps,{className:"border-token-border-default focus-within:border-token-border-heavy focus-within:ring-token-text-secondary bg-token-bg-primary h-full w-full resize-none rounded-md border px-3 py-2 font-mono text-xs shadow-none focus-within:ring-1",value:c,placeholder:t.formatMessage(h.workspacePolicyTextareaPlaceholder),onChange:g=>n(g.target.value),rows:18})]}),s.jsxs("div",{className:"flex flex-col overflow-hidden",children:[s.jsx("p",{className:"mb-2 text-xs font-medium",children:s.jsx(i,m({},h.workspacePolicyPreview))}),s.jsx("div",{className:"border-token-border-default h-full w-full overflow-y-auto rounded-md border",children:s.jsx(xs,{size:"small",className:"p-4",useSafeUrls:!1,children:c})})]})]})})};function ct({onFileChange:l,className:e,message:a,mimeTypes:t}){const u=ie(),o=a!=null?a:u.formatMessage(Ze.helpText),c=d=>{if(d.length>0){const p=d[0];t&&t.includes(p.type)&&l(p)}},{open:n,getRootProps:g,getInputProps:j,isDragActive:f}=Ys(m({disabled:!1,noClick:!0,onDropAccepted:c,onDropRejected:()=>null,multiple:!1,maxSize:Ps},Ns(t)));return s.jsxs("div",Le(m({className:Is("flex flex-col content-center justify-center gap-3 rounded-xl border border-dashed px-6 py-16 text-center",f?"border-green-600 bg-green-600/10":"border-token-border-medium",e)},g()),{children:[s.jsx("input",m({},j())),s.jsx("div",{className:"text-center dark:text-white",children:s.jsx("div",{className:"inline-block",children:s.jsx(hs,{})})}),s.jsx("div",{className:"text-center text-sm",children:o}),s.jsx("div",{className:"cursor-pointer text-center text-sm font-bold text-green-600",onClick:()=>{n()},children:u.formatMessage(Ze.openFilePicker)})]}))}const Ze=Oe({helpText:{id:"FileUploadBox.helpText",defaultMessage:"Drop file here to upload"},openFilePicker:{id:"FileUploadBox.openFilePicker",defaultMessage:"Browse files"}}),Xe=192;function We(l,e){"use forget";const a=Ce.c(5),[t,u]=W.useState(l);let o;a[0]!==e?(o=g=>{e(!0),u(g)},a[0]=e,a[1]=o):o=a[1];const c=o;let n;return a[2]!==c||a[3]!==t?(n=[t,c],a[2]=c,a[3]=t,a[4]=n):n=a[4],n}function dt(l){"use forget";var _e,he,je,Ne;const e=Ce.c(93),{workspaceId:a,account:t,data:u}=l,o=He(),c=ie(),n=ze();let g;e[0]!==a?(g={workspaceId:a},e[0]=a,e[1]=g):g=e[1];const{mutateAsync:j}=ss(g),f=(_e=t==null?void 0:t.name)!=null?_e:"",d=(he=t==null?void 0:t.data.profilePictureId)!=null?he:null,p=(je=t==null?void 0:t.data.profilePictureUrl)!=null?je:null;let x;e[2]!==t?(x=t==null?void 0:t.isEnterprisey(),e[2]=t,e[3]=x):x=e[3];const M=x,C=!!((Ne=u.beta_settings)!=null&&Ne[De.SHOW_LOGO_IN_HEADER]);let v;e[4]!==o?(v=es(o),e[4]=o,e[5]=v):v=e[5];const A=v,[r,b]=W.useState(!1),[k,N]=We(f,b),[P,S]=We(d,b),[I,w]=We(p,b),[y,L]=We(void 0,b),[G,T]=We(null,b),[q,O]=We(C,b),[K,$]=W.useState(!1);let oe,E;e[6]!==y||e[7]!==T||e[8]!==G?(oe=()=>{if(y!=="initial"&&y!==void 0&&G==null){const U=new FileReader;U.addEventListener("load",()=>{const me=U.result;typeof me=="string"&&T(me)}),U.readAsDataURL(y.file)}},E=[y,T,G],e[6]=y,e[7]=T,e[8]=G,e[9]=oe,e[10]=E):(oe=e[9],E=e[10]),W.useEffect(oe,E);let H;e[11]!==c||e[12]!==K||e[13]!==S||e[14]!==w||e[15]!==L||e[16]!==T||e[17]!==n?(H=async U=>{if(K)return;const me=await Ls(U,Xe),Ae=Ts(me);L({tempId:Ae,file:me,status:Te.Uploading,progress:1,fileId:null,cdnUrl:null}),Ws(Ae,me,c,n,zs.ProfilePicture,{onFileCreated(Pe,ue,ae){L(z=>z!=="initial"&&(z==null?void 0:z.tempId)===Pe&&z.status===Te.Uploading?Le(m({},z),{progress:10,fileId:ue,cdnUrl:ae}):z)},onFileUploadProgress(Pe,ue){L(ae=>ae!=="initial"&&(ae==null?void 0:ae.tempId)===Pe&&ae.status===Te.Uploading?Le(m({},ae),{progress:ue}):ae)},onFileUploaded(Pe,ue,ae){L(z=>{var Ye;return z!=="initial"&&z&&z.cdnUrl&&z.tempId===Pe&&z.fileId?(Es(z.fileId).then($e=>{$e.status===Rs.Success&&(S(z.fileId),w($e.download_url))}),Le(m({},z),{status:Te.Ready,progress:100,fileSpec:m({name:z.file.name,id:(Ye=z.fileId)!=null?Ye:"",size:z.file.size,mimeType:z.file.type},ae!=null?ae:{width:0,height:0})})):z})},onError(Pe){L(ue=>{if(ue!=="initial"&&(ue==null?void 0:ue.tempId)===Pe){S(void 0),w(void 0),T(null);return}return ue})}})},e[11]=c,e[12]=K,e[13]=S,e[14]=w,e[15]=L,e[16]=T,e[17]=n,e[18]=H):H=e[18];const le=H;let V;e[19]!==S||e[20]!==w||e[21]!==L||e[22]!==T?(V=()=>{S(null),w(null),L(void 0),T(null)},e[19]=S,e[20]=w,e[21]=L,e[22]=T,e[23]=V):V=e[23];const F=V,B=$s(a);let Y;e[24]!==k?(Y=k.trim(),e[24]=k,e[25]=Y):Y=e[25];const Q=Y,ke=y!=="initial"&&y!==void 0&&y.status!==Te.Ready,Ie=y!=="initial"&&y!==void 0&&y.status===Te.Ready&&!I,ne=K||ke||Ie||B.isPending||Q.length===0||!r;let ge;e[26]!==d||e[27]!==p||e[28]!==f||e[29]!==C||e[30]!==ne||e[31]!==c||e[32]!==M||e[33]!==j||e[34]!==Q||e[35]!==q||e[36]!==P||e[37]!==I||e[38]!==B||e[39]!==n?(ge=async()=>{if(ne)return;$(!0);const U=[];(Q!==f||P!==d||I!==p)&&U.push(B.mutateAsync({name:Q,profilePictureId:P,profilePictureUrl:I})),M&&C!==q&&U.push(j({feature:De.SHOW_LOGO_IN_HEADER,enabled:q})),await Promise.all(U),n.success(c.formatMessage(ye.saveSuccessToast)),$(!1),b(!1)},e[26]=d,e[27]=p,e[28]=f,e[29]=C,e[30]=ne,e[31]=c,e[32]=M,e[33]=j,e[34]=Q,e[35]=q,e[36]=P,e[37]=I,e[38]=B,e[39]=n,e[40]=ge):ge=e[40];const fe=ge,D=K,be=D?"pointer-events-none opacity-50":void 0;let Se;e[41]===Symbol.for("react.memo_cache_sentinel")?(Se=s.jsx("div",{className:"flex flex-col justify-center gap-1",children:s.jsx("p",{className:"text-token-text-primary",children:s.jsx(i,m({},ye.workspaceName))})}),e[41]=Se):Se=e[41];let Z;e[42]!==N?(Z=U=>N(U.target.value),e[42]=N,e[43]=Z):Z=e[43];let re;e[44]!==D||e[45]!==k||e[46]!==Z?(re=s.jsxs(_,{className:"gap-2",children:[Se,s.jsx(ys,{ariaLabel:!1,type:"text",name:"workspace-name",value:k,onChange:Z,maxLength:64,disabled:D,className:"min-w-80"})]}),e[44]=D,e[45]=k,e[46]=Z,e[47]=re):re=e[47];let pe;e[48]===Symbol.for("react.memo_cache_sentinel")?(pe=s.jsx("p",{className:"text-token-text-primary",children:s.jsx(i,m({},ye.workspaceAvatar))}),e[48]=pe):pe=e[48];let X;e[49]!==c?(X=c.formatMessage(ye.workspaceAvatarDescription,{size:Xe}),e[49]=c,e[50]=X):X=e[50];let xe;e[51]===Symbol.for("react.memo_cache_sentinel")?(xe=s.jsx(ks,{className:"text-sm"}),e[51]=xe):xe=e[51];let J;e[52]!==X?(J=s.jsxs("div",{className:"flex gap-1",children:[pe,s.jsx(Us,{side:"top",label:X,children:xe})]}),e[52]=X,e[53]=J):J=e[53];let ee;e[54]!==F||e[55]!==D||e[56]!==le||e[57]!==I||e[58]!==y||e[59]!==G||e[60]!==be?(ee=s.jsx("div",{className:"flex min-w-80 flex-col items-start gap-3",children:I?s.jsxs("div",{className:"relative inline-flex",children:[s.jsx("img",{src:I,alt:"",referrerPolicy:"no-referrer",className:"block h-24 w-24 rounded-full object-cover object-center"}),s.jsx("div",{className:"absolute -end-1 -top-1",children:s.jsx(mt,{onClick:D?void 0:F})})]}):y!=null&&y!=="initial"&&G?s.jsx("div",{className:"flex flex-col items-center text-center",children:s.jsxs("div",{className:"relative mb-3",children:[s.jsx("img",{src:URL.createObjectURL(y.file),alt:"",referrerPolicy:"no-referrer",className:"block h-24 w-24 rounded-full object-cover object-center"}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-white",children:s.jsx(js,{percentage:y.progress,className:"h-6 w-6"})})]})}):s.jsx("div",{className:be,children:s.jsx(ct,{onFileChange:le,mimeTypes:As})})}),e[54]=F,e[55]=D,e[56]=le,e[57]=I,e[58]=y,e[59]=G,e[60]=be,e[61]=ee):ee=e[61];let ce;e[62]!==J||e[63]!==ee?(ce=s.jsxs(_,{className:"gap-3",children:[J,ee]}),e[62]=J,e[63]=ee,e[64]=ce):ce=e[64];let se;e[65]!==D||e[66]!==A||e[67]!==c||e[68]!==M||e[69]!==q||e[70]!==O?(se=M&&A&&s.jsx(_,{className:"items-center",children:s.jsxs("div",{className:"flex w-full items-center justify-between gap-4",children:[s.jsx("div",{children:s.jsx("p",{className:"text-token-text-primary",children:s.jsx(i,m({},ye.toggleLabel))})}),s.jsx(Be,{label:"",ariaLabel:c.formatMessage(ye.toggleAriaLabel),disabled:D,enabled:q,onChange:U=>O(U)})]})}),e[65]=D,e[66]=A,e[67]=c,e[68]=M,e[69]=q,e[70]=O,e[71]=se):se=e[71];let te;e[72]!==d||e[73]!==p||e[74]!==f||e[75]!==C||e[76]!==ne||e[77]!==D||e[78]!==fe||e[79]!==r||e[80]!==K||e[81]!==O||e[82]!==S||e[83]!==w||e[84]!==N||e[85]!==L||e[86]!==T?(te=r&&s.jsxs(_,{className:"justify-end gap-2",children:[s.jsx(we,{size:"small",color:"secondary",onClick:()=>{D||(N(f),S(d),w(p),L(void 0),T(null),O(C),b(!1))},disabled:D||!r,children:s.jsx(i,m({},ye.modalReset))}),s.jsx(we,{size:"small",color:"primary",onClick:fe,disabled:ne,loading:K,children:s.jsx(i,m({},ye.modalSubmit))})]}),e[72]=d,e[73]=p,e[74]=f,e[75]=C,e[76]=ne,e[77]=D,e[78]=fe,e[79]=r,e[80]=K,e[81]=O,e[82]=S,e[83]=w,e[84]=N,e[85]=L,e[86]=T,e[87]=te):te=e[87];let de;return e[88]!==re||e[89]!==ce||e[90]!==se||e[91]!==te?(de=s.jsx(Ue,{title:ye.modalTitle,children:s.jsxs(Re,{children:[re,ce,se,te]})}),e[88]=re,e[89]=ce,e[90]=se,e[91]=te,e[92]=de):de=e[92],de}function mt(l){"use forget";const e=Ce.c(3),{onClick:a}=l;let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=s.jsx(Fs,{className:"h-3 w-3"}),e[0]=t):t=e[0];let u;return e[1]!==a?(u=s.jsx("div",{className:"flex h-6 w-6 cursor-pointer flex-row flex-wrap content-center justify-center rounded-full border-2 border-white bg-black text-white",onClick:a,children:t}),e[1]=a,e[2]=u):u=e[2],u}const ye=Oe({modalTitle:{id:"5YXskQ",defaultMessage:"Appearance"},workspaceName:{id:"GqMYq4",defaultMessage:"Workspace name"},workspaceAvatar:{id:"out1Ek",defaultMessage:"Logo"},workspaceAvatarDescription:{id:"OY7Lnp",defaultMessage:"Upload a JPEG or PNG workspace logo for your team. (Minimum {size}Ã—{size}px recommended.)"},toggleLabel:{id:"tTWDeY",defaultMessage:"Show workspace logo in header"},toggleAriaLabel:{id:"DyKp7n",defaultMessage:"Toggle workspace logo in header"},saveSuccessToast:{id:"crqLbt",defaultMessage:"Workspace appearance updated"},modalSubmit:{id:"G0MNSo",defaultMessage:"Save"},modalReset:{id:"rxaWUV",defaultMessage:"Reset"}}),ts=l=>[{key:"user-msg-bg",label:l.formatMessage({id:"wRclK+",defaultMessage:"User message background"})},{key:"user-msg-text",label:l.formatMessage({id:"qWGxg/",defaultMessage:"User message text"})},{key:"submit-btn-bg",label:l.formatMessage({id:"GG9BnR",defaultMessage:"Primary button bg"})},{key:"submit-btn-text",label:l.formatMessage({id:"lMz/19",defaultMessage:"Primary button text"})},{key:"secondary-btn-bg",label:l.formatMessage({id:"DixBn2",defaultMessage:"Secondary button bg"})},{key:"secondary-btn-text",label:l.formatMessage({id:"PuGfMy",defaultMessage:"Secondary button text"})},{key:"user-selection-bg",label:l.formatMessage({id:"DZuh1g",defaultMessage:"Selection background"})},{key:"attribution-highlight-bg",label:l.formatMessage({id:"OVs/pM",defaultMessage:"Attribution highlight background"})},{key:"entity-accent",label:l.formatMessage({id:"RPAjfh",defaultMessage:"Entity accent"})}],ft={"user-msg-bg":"#E9E9E9","user-msg-text":"#0d0d0d","submit-btn-bg":"#000000","submit-btn-text":"#ffffff","secondary-btn-bg":"#e8e8e8","secondary-btn-text":"#0d0d0d","user-selection-bg":"#339cff","attribution-highlight-bg":"#ffeeb8","entity-accent":"#0169cc"},ut={"user-msg-bg":"#323232","user-msg-text":"#ffffff","submit-btn-bg":"#ffffff","submit-btn-text":"#000000","secondary-btn-bg":"#424242","secondary-btn-text":"#ffffff","user-selection-bg":"#66b5ff","attribution-highlight-bg":"#6e5400","entity-accent":"#339cff"};function gt(l){"use forget";const e=Ce.c(35),{defaultValue:a,onSave:t,disabled:u}=l,o=ie(),[c,n]=W.useState(!0),[g,j]=W.useState(!1),[f,d]=W.useState(!1);let p;e[0]!==(a==null?void 0:a.light)?(p=()=>m(m({},ft),a==null?void 0:a.light),e[0]=a==null?void 0:a.light,e[1]=p):p=e[1];const[x,M]=W.useState(p);let C;e[2]!==(a==null?void 0:a.dark)?(C=()=>m(m({},ut),a==null?void 0:a.dark),e[2]=a==null?void 0:a.dark,e[3]=C):C=e[3];const[v,A]=W.useState(C);let r,b,k,N;if(e[4]!==v||e[5]!==u||e[6]!==o||e[7]!==x||e[8]!==t){const G=ts(o);let T;e[13]!==v||e[14]!==x||e[15]!==t?(T=async()=>{j(!0);const E=new Set(Ds),H=Object.fromEntries(Object.entries(x).filter(F=>{const[B]=F;return E.has(B)})),le=Object.fromEntries(Object.entries(v).filter(F=>{const[B]=F;return E.has(B)}));await t({light:H,dark:le}),n(!1),j(!1)},e[13]=v,e[14]=x,e[15]=t,e[16]=T):T=e[16],r=T;const q=(E,H,le)=>s.jsxs("div",{className:"mt-2 flex flex-col gap-2",children:[s.jsx("div",{className:"text-token-text-tertiary text-xs font-semibold tracking-wide uppercase",children:E}),G.map(V=>{const{key:F,label:B}=V;return s.jsxs(_,{className:"flex flex-col gap-1",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsx("label",{className:"text-sm font-medium",htmlFor:"".concat(E,"-").concat(F),children:B}),s.jsx("input",{id:"".concat(E,"-").concat(F),type:"color",value:H[F],disabled:u,onChange:Y=>{const Q=Y.target.value;le(ke=>Le(m({},ke),{[F]:Q}))},className:"bg-token-bg-primary h-8 w-12 cursor-pointer rounded border p-0"})]}),s.jsx("code",{className:"text-token-text-tertiary text-xs",children:s.jsx(i,{id:"TmCmd1",defaultMessage:"{key}-{mode}",values:{key:F,mode:E.toLowerCase()}})})]},F)})]});let O;e[17]===Symbol.for("react.memo_cache_sentinel")?(O=E=>{M(E),n(!0)},e[17]=O):O=e[17];const K=O;let $;e[18]===Symbol.for("react.memo_cache_sentinel")?($=E=>{A(E),n(!0)},e[18]=$):$=e[18];const oe=$;b="flex flex-col gap-4 py-2",k=q("Light",x,K),N=q("Dark",v,oe),e[4]=v,e[5]=u,e[6]=o,e[7]=x,e[8]=t,e[9]=r,e[10]=b,e[11]=k,e[12]=N}else r=e[9],b=e[10],k=e[11],N=e[12];let P;e[19]===Symbol.for("react.memo_cache_sentinel")?(P=s.jsx(we,{color:"secondary",size:"small",onClick:()=>d(!0),children:s.jsx(i,{id:"8uzYJ3",defaultMessage:"Preview"})}),e[19]=P):P=e[19];const S=u||!c;let I;e[20]===Symbol.for("react.memo_cache_sentinel")?(I=s.jsx(i,{id:"vnuInT",defaultMessage:"Save"}),e[20]=I):I=e[20];let w;e[21]!==r||e[22]!==g||e[23]!==S?(w=s.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[P,s.jsx(we,{disabled:S,loading:g,onClick:r,size:"small",children:I})]}),e[21]=r,e[22]=g,e[23]=S,e[24]=w):w=e[24];let y;e[25]!==v||e[26]!==x||e[27]!==f?(y=f&&s.jsx(pt,{onClose:()=>d(!1),lightValues:x,darkValues:v}),e[25]=v,e[26]=x,e[27]=f,e[28]=y):y=e[28];let L;return e[29]!==y||e[30]!==b||e[31]!==k||e[32]!==N||e[33]!==w?(L=s.jsxs("div",{className:b,children:[k,N,w,y]}),e[29]=y,e[30]=b,e[31]=k,e[32]=N,e[33]=w,e[34]=L):L=e[34],L}function pt(l){"use forget";const e=Ce.c(13),{onClose:a,lightValues:t,darkValues:u}=l;let o;e[0]===Symbol.for("react.memo_cache_sentinel")?(o=s.jsx(i,{id:"hoMwv8",defaultMessage:"Theme Preview"}),e[0]=o):o=e[0];let c;e[1]===Symbol.for("react.memo_cache_sentinel")?(c=s.jsx("h3",{className:"text-token-text-tertiary mb-2 text-sm font-semibold tracking-wide uppercase",children:s.jsx(i,{id:"0aW8Bm",defaultMessage:"Light"})}),e[1]=c):c=e[1];let n;e[2]!==t?(n=s.jsxs("div",{className:"min-w-0 flex-1",children:[c,s.jsx(Je,{mode:"light",values:t})]}),e[2]=t,e[3]=n):n=e[3];let g;e[4]===Symbol.for("react.memo_cache_sentinel")?(g=s.jsx("h3",{className:"text-token-text-tertiary mb-2 text-sm font-semibold tracking-wide uppercase",children:s.jsx(i,{id:"n+40kO",defaultMessage:"Dark"})}),e[4]=g):g=e[4];let j;e[5]!==u?(j=s.jsxs("div",{className:"min-w-0 flex-1",children:[g,s.jsx(Je,{mode:"dark",values:u})]}),e[5]=u,e[6]=j):j=e[6];let f;e[7]!==n||e[8]!==j?(f=s.jsxs("div",{className:"flex flex-col gap-6 sm:flex-row sm:items-start",children:[n,j]}),e[7]=n,e[8]=j,e[9]=f):f=e[9];let d;return e[10]!==a||e[11]!==f?(d=s.jsx(qe,{isOpen:!0,onClose:a,size:"custom",className:"max-w-[900px]",testId:"modal-theme-preview",title:o,children:f}),e[10]=a,e[11]=f,e[12]=d):d=e[12],d}function Je(l){"use forget";const e=Ce.c(121),{mode:a,values:t}=l,u=ie();let o,c,n,g,j,f,d,p,x;if(e[0]!==u||e[1]!==a||e[2]!==t){const v=ts(u);let A;e[12]!==t?(A=B=>t[B],e[12]=t,e[13]=A):A=e[13];const r=A;let b,k,N,P,S,I,w;if(e[14]!==r||e[15]!==a){const B=r("user-msg-bg"),Y=r("user-msg-text");let Q;e[28]!==r?(Q=r("submit-btn-bg"),e[28]=r,e[29]=Q):Q=e[29],N=Q;let ke;e[30]!==r?(ke=r("submit-btn-text"),e[30]=r,e[31]=ke):ke=e[31],P=ke;let Ie;e[32]!==r?(Ie=r("secondary-btn-bg"),e[32]=r,e[33]=Ie):Ie=e[33],I=Ie;let ne;e[34]!==r?(ne=r("secondary-btn-text"),e[34]=r,e[35]=ne):ne=e[35],w=ne;let ge;e[36]!==r?(ge=r("user-selection-bg"),e[36]=r,e[37]=ge):ge=e[37];const fe=ge;let D;e[38]!==r?(D=r("attribution-highlight-bg"),e[38]=r,e[39]=D):D=e[39],b=D;let be;e[40]!==r?(be=r("entity-accent"),e[40]=r,e[41]=be):be=e[41],k=be;const Se=Ae=>s.jsxs("div",{className:"ms-auto mb-4 w-[70%] rounded-[18px] px-4 py-3 text-sm",style:{background:B,color:Y},children:[s.jsx("strong",{children:s.jsx(i,{id:"9hKPVK",defaultMessage:"User:"})}),s.jsx("span",{className:"ms-1"}),Ae]});S=Ae=>s.jsxs("div",{className:"mb-4 w-[70%] p-3 text-sm",style:{color:Y},children:[s.jsx("strong",{children:s.jsx(i,{id:"W7weVs",defaultMessage:"Assistant:"})}),s.jsx("span",{className:"ms-1"}),Ae]}),n="rounded-md border p-4 text-xs",g={background:a==="dark"?"#212121":"#ffffff",color:Y};let Z;e[42]!==fe?(Z={background:fe},e[42]=fe,e[43]=Z):Z=e[43];let re;e[44]===Symbol.for("react.memo_cache_sentinel")?(re=s.jsx(i,{id:"A4km8m",defaultMessage:"selection"}),e[44]=re):re=e[44];let pe;e[45]!==Z?(pe=s.jsx(i,{id:"1taoOc",defaultMessage:"This is a user message with a {selection}.",values:{selection:s.jsx("span",{style:Z,className:"py-1",children:re})}}),e[45]=Z,e[46]=pe):pe=e[46],j=Se(pe);let X;e[47]!==b?(X={background:b},e[47]=b,e[48]=X):X=e[48];let xe;e[49]===Symbol.for("react.memo_cache_sentinel")?(xe=s.jsx(i,{id:"LRImHW",defaultMessage:"Cited text"}),e[49]=xe):xe=e[49];let J;e[50]!==X?(J=s.jsx("span",{style:X,className:"rounded px-1",children:xe}),e[50]=X,e[51]=J):J=e[51];let ee;e[52]!==k?(ee={color:k,fontWeight:600},e[52]=k,e[53]=ee):ee=e[53];let ce;e[54]===Symbol.for("react.memo_cache_sentinel")?(ce=s.jsx(i,{id:"uLMv/c",defaultMessage:"@Entity"}),e[54]=ce):ce=e[54];let se;e[55]!==ee?(se=s.jsx("span",{style:ee,children:ce}),e[55]=ee,e[56]=se):se=e[56];let te;e[57]!==J||e[58]!==se?(te=s.jsx(i,{id:"wipLUT",defaultMessage:"This is an assistant reply. {cited} and an {entity} accent.",values:{cited:J,entity:se}}),e[57]=J,e[58]=se,e[59]=te):te=e[59],e[60]!==S||e[61]!==te?(f=S(te),e[60]=S,e[61]=te,e[62]=f):f=e[62];let de;e[63]!==k?(de={color:k,fontWeight:600},e[63]=k,e[64]=de):de=e[64];let _e;e[65]===Symbol.for("react.memo_cache_sentinel")?(_e=s.jsx(i,{id:"zIYEIm",defaultMessage:"@Entity"}),e[65]=_e):_e=e[65];let he;e[66]!==de?(he=s.jsx("span",{style:de,children:_e}),e[66]=de,e[67]=he):he=e[67];let je;e[68]!==fe?(je={background:fe},e[68]=fe,e[69]=je):je=e[69];let Ne;e[70]===Symbol.for("react.memo_cache_sentinel")?(Ne=s.jsx(i,{id:"DAKnsA",defaultMessage:"highlight"}),e[70]=Ne):Ne=e[70];let U;e[71]!==je?(U=s.jsx("span",{style:je,className:"px-1 py-0.5",children:Ne}),e[71]=je,e[72]=U):U=e[72];let me;e[73]!==he||e[74]!==U?(me=s.jsx(i,{id:"eoyctD",defaultMessage:"Can you give another example using an {entityMention} and a different {highlighted}?",values:{entityMention:he,highlighted:U}}),e[73]=he,e[74]=U,e[75]=me):me=e[75],d=Se(me),e[14]=r,e[15]=a,e[16]=b,e[17]=k,e[18]=N,e[19]=P,e[20]=S,e[21]=I,e[22]=w,e[23]=n,e[24]=g,e[25]=j,e[26]=f,e[27]=d}else b=e[16],k=e[17],N=e[18],P=e[19],S=e[20],I=e[21],w=e[22],n=e[23],g=e[24],j=e[25],f=e[26],d=e[27];let y;e[76]!==b?(y={background:b},e[76]=b,e[77]=y):y=e[77];let L;e[78]===Symbol.for("react.memo_cache_sentinel")?(L=s.jsx(i,{id:"G4/DSz",defaultMessage:"cited snippet"}),e[78]=L):L=e[78];let G;e[79]!==y?(G=s.jsx("span",{style:y,className:"rounded px-1",children:L}),e[79]=y,e[80]=G):G=e[80];let T;e[81]!==k?(T={color:k,fontWeight:600},e[81]=k,e[82]=T):T=e[82];let q;e[83]===Symbol.for("react.memo_cache_sentinel")?(q=s.jsx(i,{id:"gMeCbk",defaultMessage:"@Entity"}),e[83]=q):q=e[83];let O;e[84]!==T?(O=s.jsx("span",{style:T,children:q}),e[84]=T,e[85]=O):O=e[85];let K;e[86]!==G||e[87]!==O?(K=s.jsx(i,{id:"GmJEi2",defaultMessage:"Here is another reply with a {citedSnippet} and an emphasized {entity} reference.",values:{citedSnippet:G,entity:O}}),e[86]=G,e[87]=O,e[88]=K):K=e[88],e[89]!==S||e[90]!==K?(p=S(K),e[89]=S,e[90]=K,e[91]=p):p=e[91];let $;e[92]!==N||e[93]!==P?($={background:N,color:P},e[92]=N,e[93]=P,e[94]=$):$=e[94];let oe;e[95]===Symbol.for("react.memo_cache_sentinel")?(oe=s.jsx(i,{id:"70xPCF",defaultMessage:"Primary"}),e[95]=oe):oe=e[95];let E;e[96]!==$?(E=s.jsx(we,{color:"primary",size:"small",style:$,children:oe}),e[96]=$,e[97]=E):E=e[97];let H;e[98]!==I||e[99]!==w?(H={background:I,color:w},e[98]=I,e[99]=w,e[100]=H):H=e[100];let le;e[101]===Symbol.for("react.memo_cache_sentinel")?(le=s.jsx(i,{id:"AXA8xG",defaultMessage:"Secondary"}),e[101]=le):le=e[101];let V;e[102]!==H?(V=s.jsx(we,{color:"secondary",size:"small",style:H,children:le}),e[102]=H,e[103]=V):V=e[103],e[104]!==E||e[105]!==V?(x=s.jsxs("div",{className:"mb-4 flex flex-wrap items-center justify-end gap-2 pe-1",children:[E,V]}),e[104]=E,e[105]=V,e[106]=x):x=e[106],o="grid grid-cols-2 gap-3 pt-1";let F;e[107]!==r?(F=B=>{const{key:Y,label:Q}=B;return s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsx("span",{className:"truncate",title:Q,children:Y}),s.jsx("span",{className:"h-5 w-5 shrink-0 rounded border",style:{background:r(Y)},title:Y})]},Y)},e[107]=r,e[108]=F):F=e[108],c=v.map(F),e[0]=u,e[1]=a,e[2]=t,e[3]=o,e[4]=c,e[5]=n,e[6]=g,e[7]=j,e[8]=f,e[9]=d,e[10]=p,e[11]=x}else o=e[3],c=e[4],n=e[5],g=e[6],j=e[7],f=e[8],d=e[9],p=e[10],x=e[11];let M;e[109]!==o||e[110]!==c?(M=s.jsx("div",{className:o,children:c}),e[109]=o,e[110]=c,e[111]=M):M=e[111];let C;return e[112]!==M||e[113]!==n||e[114]!==g||e[115]!==j||e[116]!==f||e[117]!==d||e[118]!==p||e[119]!==x?(C=s.jsxs("div",{className:n,style:g,children:[j,f,d,p,x,M]}),e[112]=M,e[113]=n,e[114]=g,e[115]=j,e[116]=f,e[117]=d,e[118]=p,e[119]=x,e[120]=C):C=e[120],C}const xt=l=>{"use forget";var b,k,N,P,S,I;const e=Ce.c(20),{workspaceId:a,data:t,isLoading:u,refetch:o,upsellEnterprise:c}=l,n=ze(),g=ie();let j;e[0]!==g||e[1]!==o||e[2]!==n||e[3]!==a?(j=async(w,y)=>{await Ge.safePost("/accounts/{account_id}/workspace_chat_theme",{parameters:{path:{account_id:a}},requestBody:{value:w,light:y==null?void 0:y.light,dark:y==null?void 0:y.dark}}),n.success(g.formatMessage({id:"4e+dwR",defaultMessage:"Workspace chat theme updated"})),o()},e[0]=g,e[1]=o,e[2]=n,e[3]=a,e[4]=j):j=e[4];const f=j;let d;e[5]!==((b=t.beta_settings_dict)==null?void 0:b.workspace_chat_theme_light)?(d=((k=t.beta_settings_dict)==null?void 0:k.workspace_chat_theme_light)||{},e[5]=(N=t.beta_settings_dict)==null?void 0:N.workspace_chat_theme_light,e[6]=d):d=e[6];let p;e[7]!==((P=t.beta_settings_dict)==null?void 0:P.workspace_chat_theme_dark)?(p=((S=t.beta_settings_dict)==null?void 0:S.workspace_chat_theme_dark)||{},e[7]=(I=t.beta_settings_dict)==null?void 0:I.workspace_chat_theme_dark,e[8]=p):p=e[8];let x;e[9]!==d||e[10]!==p?(x={light:d,dark:p},e[9]=d,e[10]=p,e[11]=x):x=e[11];const M=x,C=t.beta_settings_str.workspace_chat_theme||"default",v=c||u;let A;e[12]!==M||e[13]!==f||e[14]!==C||e[15]!==v?(A=s.jsx(Re,{children:s.jsx(jt,{defaultThemeValue:C,defaultCustomTheme:M,onSave:f,disabled:v})}),e[12]=M,e[13]=f,e[14]=C,e[15]=v,e[16]=A):A=e[16];let r;return e[17]!==A||e[18]!==c?(r=s.jsx(Ue,{title:kt.workspaceThemeSection,upsellEnterprise:c,children:A}),e[17]=A,e[18]=c,e[19]=r):r=e[19],r};function ve(l,e){return s.jsx(Vs,{theme:l,name:e})}const ht=l=>[{label:ve("default",l.formatMessage(Me.default)),value:"default"},{label:ve("blue",l.formatMessage(Me.blue)),value:"blue"},{label:ve("green",l.formatMessage(Me.green)),value:"green"},{label:ve("yellow",l.formatMessage(Me.yellow)),value:"yellow"},{label:ve("pink",l.formatMessage(Me.pink)),value:"pink"},{label:ve("orange",l.formatMessage(Me.orange)),value:"orange"},{label:ve("purple",l.formatMessage(Me.purple)),value:"purple"},{label:ve("custom",l.formatMessage({id:"settingsModal.chatTheme.custom",defaultMessage:"Custom"})),value:"custom"}];function jt(l){"use forget";const e=Ce.c(24),{defaultThemeValue:a,defaultCustomTheme:t,onSave:u,disabled:o}=l,c=ie(),[n,g]=W.useState(a),j=He();let f;if(e[0]!==j||e[1]!==n){const P=Os(j);f=n&&Ks(P,n)?n:"default",e[0]=j,e[1]=n,e[2]=f}else f=e[2];const d=f;let p;e[3]!==c?(p=ht(c),e[3]=c,e[4]=p):p=e[4];const x=p;let M;e[5]!==u||e[6]!==x?(M=P=>{const S=x.map(yt),w=(y=>S.includes(y))(P)?P:"default";g(w),w!=="custom"&&u(w)},e[5]=u,e[6]=x,e[7]=M):M=e[7];const C=M;let v;e[8]!==u?(v=async P=>{await u("custom",P)},e[8]=u,e[9]=v):v=e[9];const A=v;let r;e[10]===Symbol.for("react.memo_cache_sentinel")?(r=s.jsx("div",{children:s.jsx(i,m({},Me.chatTheme))}),e[10]=r):r=e[10];let b;e[11]!==o||e[12]!==d||e[13]!==C||e[14]!==x?(b=s.jsx(_,{className:"items-center",children:s.jsxs("div",{className:"flex w-full items-center justify-between",children:[r,s.jsx(bs,{value:d,onValueChange:C,disabled:o,options:x})]})}),e[11]=o,e[12]=d,e[13]=C,e[14]=x,e[15]=b):b=e[15];let k;e[16]!==t||e[17]!==o||e[18]!==d||e[19]!==A?(k=d==="custom"&&s.jsx(gt,{defaultValue:t,onSave:A,disabled:o}),e[16]=t,e[17]=o,e[18]=d,e[19]=A,e[20]=k):k=e[20];let N;return e[21]!==b||e[22]!==k?(N=s.jsxs(s.Fragment,{children:[b,k]}),e[21]=b,e[22]=k,e[23]=N):N=e[23],N}function yt(l){return l.value}const kt=Oe({workspaceThemeSection:{id:"workspaceSettings.workspaceThemeSection",defaultMessage:"Workspace theme"},workspaceAccentColorLabel:{id:"workspaceSettings.workspaceAccentColorLabel",defaultMessage:"Accent color"}});function bt({currentWorkspaceId:l}){const e=l,a=He(),t=ie(),u=Ee(),c=!(u==null?void 0:u.isEnterprisey()),{data:n,isLoading:g,refetch:j}=Gs(e),f=es(a),d=Bs(M=>M.currentWorkspace),p=d!=null?vs(d.role):void 0,x=d!=null?Ms(d.role):void 0;return s.jsxs(s.Fragment,{children:[s.jsx(ws,{children:s.jsx("title",{children:t.formatMessage(Ke.title)})}),s.jsx(Qs,{title:t.formatMessage(Ke.title),subtitle:t.formatMessage(Ke.subtitle)}),s.jsx(Zs,{children:s.jsxs("div",{className:"mt-4 flex flex-col gap-12",children:[g&&s.jsx(qs,{}),n&&s.jsxs(s.Fragment,{children:[p&&s.jsx(dt,{workspaceId:e,account:u,data:n}),s.jsx(tt,{workspaceId:e}),f&&p&&s.jsx(xt,{workspaceId:e,data:n,isLoading:g,refetch:j,upsellEnterprise:c}),x&&s.jsx(nt,{workspaceId:e,upsellEnterprise:c,data:n}),x&&s.jsx(it,{workspaceId:e,upsellEnterprise:c})]})]})})]})}const Ke=Oe({title:{id:"LW8JgL",defaultMessage:"General"},subtitle:{id:"1ATuum",defaultMessage:"Customize your workspace appearance, name, instructions & more."}}),Ht=fs(function(){const e=Xs();return Js(),s.jsx(bt,m({},e))});export{Ht as default};
//# sourceMappingURL=i3do99u5uf5k0r6f.js.map
