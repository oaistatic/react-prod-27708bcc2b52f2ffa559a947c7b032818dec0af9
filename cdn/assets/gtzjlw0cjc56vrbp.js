var _e=Object.freeze,je=Object.defineProperty,qe=Object.defineProperties;var Ke=Object.getOwnPropertyDescriptors;var be=Object.getOwnPropertySymbols;var Je=Object.prototype.hasOwnProperty,Xe=Object.prototype.propertyIsEnumerable;var ye=(t,e,s)=>e in t?je(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,Y=(t,e)=>{for(var s in e||(e={}))Je.call(e,s)&&ye(t,s,e[s]);if(be)for(var s of be(e))Xe.call(e,s)&&ye(t,s,e[s]);return t},ce=(t,e)=>qe(t,Ke(e));var ve=(t,e)=>_e(je(t,"raw",{value:_e(e||t.slice())}));import{c as P,j as l,M as z,r as $,e as Ee,f as fe,a as Ze,i as et,ae as we,a0 as tt}from"./fg33krlcm0qyi6yw.js";import{C as st}from"./ix2fhlx43kf51eht.js";import{b as Q,a9 as te,l as R,i9 as lt,F as nt,b6 as re,aD as it,d3 as ot,bp as at,bT as ct,mN as rt,b3 as Te,bn as dt,iK as ft,d as G,bg as ut,e as ne,bv as mt,cS as xt,i6 as pt,cU as ht,o as ue,eX as gt,lp as _t,dH as bt,qD as yt,ee as jt,eh as vt,g as xe,gb as Le,dL as wt,eK as kt,fD as Ct,bc as St,bd as Nt,hg as Pt,dB as It,qv as Et}from"./mtk1qztvnb31pw5r.js";import{as as Tt,e2 as Z,q8 as Lt,dG as Fe,yZ as Ft,nY as pe,iQ as Me,B as K,tC as $e,y_ as Mt,y$ as ke,cw as De,vd as $t,e0 as se,z0 as Oe,ca as Dt,z1 as Ot,z2 as Ae,cL as At,kF as Rt,iR as zt,pn as Ht,z3 as Wt,z4 as Re,pk as Ut,z5 as Vt,z6 as Yt,z7 as Bt,mo as Gt,z8 as ze,g as Qt,z9 as Ce,jb as qt,za as Kt,kC as Jt,zb as He,zc as Xt,zd as Zt,ze as es,zf as ts,mm as Se,ml as We,zg as ss,mi as ae,zh as ls,mj as de,zi as ns,zj as is,zk as os,zl as as,zm as cs,zn as rs,zo as ds,n as fs,zp as us}from"./k65njl5wlgspihfr.js";import{o as ms}from"./hb1mva1gmw4bcs8w.js";import{N as xs}from"./bhm7utdivrybcfbl.js";import{u as ps}from"./govwawj4ba48uv20.js";import{u as hs}from"./bmppzp3y84hr7irx.js";import"./onvzxgfezo210ugv.js";import"./o0e5tlgxm1k8ubzl.js";import"./mbql81gwv5du9dtu.js";import"./k43gn7pl526u53kc.js";import"./dg5jraediw4l39ow.js";import"./efooahjtdr85x1lo.js";import"./km71i01x6ma5r62b.js";import"./c2cj1dlcffke3f7m.js";import"./ohquqctluwabmb5i.js";import"./iupestt9odrsfzg9.js";import"./ei2dcm731f3fuz8o.js";import"./tkv1g3prhmmeuid6.js";import"./mivow98b53y1taf8.js";import"./krwszi9u3lj63i9v.js";import"./i5jw6wfkpao2rx5t.js";import"./mce0eiesimdmeqmr.js";import"./ifrwee0bgh9e2but.js";import"./gqx9i5tb3deqoo5z.js";import"./kgrrqncjl71482vi.js";import"./btb1r2uxm2m1lsr5.js";import"./j413w2y09mrdcb4m.js";const Ue=t=>{Z(t).logEventWithStatsig("(Web) FYP Personalize Tapped","chatgpt_web_fyp_personalize_tapped")},gs=t=>{"use forget";const e=P.c(6),{onClick:s}=t,i=Q();let o;e[0]!==i||e[1]!==s?(o=()=>{s(),Ue(i)},e[0]=i,e[1]=s,e[2]=o):o=e[2];let a;e[3]===Symbol.for("react.memo_cache_sentinel")?(a=l.jsx(z,{id:"sZVLRv",defaultMessage:"Curate"}),e[3]=a):a=e[3];let n;return e[4]!==o?(n=l.jsx(te,{icon:Tt,onClick:o,children:a}),e[4]=o,e[5]=n):n=e[5],n},_s=t=>{"use forget";const e=P.c(6),{onClick:s}=t,i=Q();let o;e[0]!==i||e[1]!==s?(o=()=>{s(),Ue(i)},e[0]=i,e[1]=s,e[2]=o):o=e[2];let a;e[3]===Symbol.for("react.memo_cache_sentinel")?(a=l.jsx(z,{id:"PYkj8c",defaultMessage:"Curate for tomorrow"}),e[3]=a):a=e[3];let n;return e[4]!==o?(n=l.jsx(te,{onClick:o,size:"large",className:"w-full max-w-80",children:a}),e[4]=o,e[5]=n):n=e[5],n},ge=t=>{"use forget";const e=P.c(7);let s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s={threshold:.8,onlyOnce:!0},e[0]=s):s=e[0];const[i,o]=ps(s);let a,n;e[1]!==i||e[2]!==t?(a=()=>{i&&t()},n=[i,t],e[1]=i,e[2]=t,e[3]=a,e[4]=n):(a=e[3],n=e[4]),$.useEffect(a,n);let r;return e[5]!==o?(r={ref:o},e[5]=o,e[6]=r):r=e[6],r};function le(t){"use forget";const e=P.c(28),{header:s,image:i,content:o,actions:a,onClick:n,onImpression:r,onDismiss:d,className:f}=t,{ref:c}=ge(r!=null?r:bs),m=d&&"relative",u=n&&"has-[.pulse-card-body:hover]:bg-token-bg-tertiary cursor-pointer has-[.pulse-card-body:hover]:cursor-pointer";let x;e[0]!==f||e[1]!==m||e[2]!==u?(x=R("border-token-border-default bg-token-bg-primary flex w-full rounded-3xl border shadow-[0_4px_16px_0_rgba(0,0,0,0.05)] transition-colors","flex-col gap-4",m,u,f),e[0]=f,e[1]=m,e[2]=u,e[3]=x):x=e[3];let p;e[4]!==d?(p=d&&l.jsx("button",{className:"text-token-text-secondary hover:text-token-text-primary absolute end-3 top-3",onClick:C=>{C.stopPropagation(),d()},children:l.jsx(lt,{className:"hover:fill-token-text-primary size-5"})}),e[4]=d,e[5]=p):p=e[5];let h;e[6]!==s?(h=s&&l.jsx("div",{className:"flex flex-col gap-1",children:s}),e[6]=s,e[7]=h):h=e[7];const g=s&&"pt-0";let _;e[8]!==g?(_=R("pulse-card-body","flex w-full items-stretch gap-6 p-4","flex-row","max-sm:flex-col",g),e[8]=g,e[9]=_):_=e[9];let b;e[10]!==i?(b=i&&l.jsx("div",{className:R("flex flex-shrink-0 items-center justify-center","h-32 w-32","max-sm:h-full max-sm:w-full"),children:i}),e[10]=i,e[11]=b):b=e[11];let j;e[12]!==o?(j=l.jsx("div",{className:"flex flex-col gap-1",children:o}),e[12]=o,e[13]=j):j=e[13];let v;e[14]!==a||e[15]!==j?(v=l.jsxs("div",{className:"flex flex-1 flex-col justify-between max-sm:gap-4",children:[j,a]}),e[14]=a,e[15]=j,e[16]=v):v=e[16];let k;e[17]!==v||e[18]!==_||e[19]!==b?(k=l.jsxs("div",{className:_,children:[b,v]}),e[17]=v,e[18]=_,e[19]=b,e[20]=k):k=e[20];let y;return e[21]!==n||e[22]!==c||e[23]!==k||e[24]!==x||e[25]!==p||e[26]!==h?(y=l.jsxs("div",{ref:c,onClick:n,className:x,children:[p,h,k]}),e[21]=n,e[22]=c,e[23]=k,e[24]=x,e[25]=p,e[26]=h,e[27]=y):y=e[27],y}function bs(){}var Ie;const ys=nt.div(Ie||(Ie=ve(["border-token-border-default flex w-full items-stretch gap-6 rounded-3xl border p-4 shadow-[0_4px_16px_0_rgba(0,0,0,0.05)] transition-colors"]))),js=[re.H17180rGmail,re.H17180rGoogleCalendar],X=fe({emailConnectorDescription:{id:"pulse.emailConnectorDescription",defaultMessage:"emails"},calendarConnectorDescription:{id:"pulse.calendarConnectorDescription",defaultMessage:"calendar"},upsellCardTitle:{id:"pulse.upsellCardTitle",defaultMessage:"Get insights from your {connectorDescriptions}"},upsellCardDescription:{id:"pulse.upsellCardDescription",defaultMessage:"Let ChatGPT proactively read {connectorNames} and give you helpful info. {LearnMoreLink}"},connectorsAcceptedText:{id:"pulse.connectorsAcceptedText",defaultMessage:"I'll start showing helpful insights from your {connectorDescriptions} here. You can adjust this anytime in Settings."},connectorsDeclinedText:{id:"pulse.connectorsDeclinedText",defaultMessage:"I won't show anything related to your {connectorDescriptions} here. You can adjust this anytime in Settings."},manageConnectorsCta:{id:"pulse.manageConnectorsCta",defaultMessage:"Manage settings"},connectorsDeclineCta:{id:"pulse.connectorsDeclineCta",defaultMessage:"Don't allow"},connectorsAllowCta:{id:"pulse.connectorsAllowCta",defaultMessage:"Allow"},gmail:{id:"pulse.gmail",defaultMessage:"Gmail"},googleCalendar:{id:"pulse.googleCalendar",defaultMessage:"Google Calendar"}});function vs(t,e){const i=t.map(n=>pe[n]).filter(n=>js.includes(n)).map(n=>n===re.H17180rGmail?{name:e.formatMessage(X.gmail),description:e.formatMessage(X.emailConnectorDescription)}:n===re.H17180rGoogleCalendar?{name:e.formatMessage(X.googleCalendar),description:e.formatMessage(X.calendarConnectorDescription)}:null).filter(n=>n!=null),o=i.map(n=>n.name),a=i.map(n=>n.description);return{connectorNames:e.formatList(o),connectorDescriptions:e.formatList(a)}}const ws=t=>{"use forget";const e=P.c(40),{itemId:s,learnMoreUrl:i,image:o,connectorIds:a,onImpression:n,className:r}=t,d=Q(),f=Ee();let c;if(e[0]!==d){const{country:A}=it();c=A!=null&&Lt.has(A),e[0]=d,e[1]=c}else c=e[1];const m=c,{openSettings:u}=Fe(),{mutate:x,isPending:p}=ot(!0),{mutate:h}=Ft(a,s),[g,_]=$.useState(null);let b;e[2]===Symbol.for("react.memo_cache_sentinel")?(b={fetchValidLinksOnly:!0,productSku:at.CONNECTOR_SETTING},e[2]=b):b=e[2];const{connectorLinks:j,isLoading:v}=ct(b);let k;e[3]===Symbol.for("react.memo_cache_sentinel")?(k=[],e[3]=k):k=e[3];const[y,C]=$.useState(k),T=rt();let E;e[4]!==j?(E=A=>j.has(A),e[4]=j,e[5]=E):E=e[5];const S=E;let F;e[6]!==x?(F=A=>{x({setting:pe[A],value:!0})},e[6]=x,e[7]=F):F=e[7];const L=F;let N;e[8]!==a||e[9]!==L||e[10]!==S||e[11]!==T?(N=()=>{const A=a.filter(S),B=a.filter(H=>!S(H));A.forEach(H=>L(H)),B.forEach(H=>{T({referrer:dt.PulseConnectorsProactiveToggle,connectorId:H,showSettingsBehindConnectorLink:!1,noRedirect:!0}),C(B)}),B.length===0&&_("accepted")},e[8]=a,e[9]=L,e[10]=S,e[11]=T,e[12]=N):N=e[12];const w=N;let I,M;e[13]!==L||e[14]!==S||e[15]!==y?(I=()=>{const A=y.filter(S);if(!A.length)return;A.forEach(L),_("accepted");const B=y.filter(H=>!A.includes(H));C(B)},M=[y,S,L],e[13]=L,e[14]=S,e[15]=y,e[16]=I,e[17]=M):(I=e[16],M=e[17]),$.useEffect(I,M);let O;e[18]!==a||e[19]!==S||e[20]!==x||e[21]!==h?(O=()=>{a.forEach(A=>{S(A)&&x({setting:pe[A],value:!1})}),h(),_("declined")},e[18]=a,e[19]=S,e[20]=x,e[21]=h,e[22]=O):O=e[22];const D=O;let W;e[23]!==a||e[24]!==f?(W=vs(a,f),e[23]=a,e[24]=f,e[25]=W):W=e[25];const{connectorNames:ee,connectorDescriptions:q}=W;let J;return e[26]!==w||e[27]!==g||e[28]!==r||e[29]!==q||e[30]!==ee||e[31]!==D||e[32]!==o||e[33]!==m||e[34]!==v||e[35]!==p||e[36]!==i||e[37]!==n||e[38]!==u?(J=g?l.jsx(Cs,{className:r,content:l.jsx(z,ce(Y({},g==="accepted"?X.connectorsAcceptedText:X.connectorsDeclinedText),{values:{connectorDescriptions:q}})),onClick:()=>u(Te.Connectors)}):l.jsx(ks,{className:r,image:o,connectorNames:ee,connectorDescriptions:q,learnMoreUrl:i,declineConnectors:D,acceptConnectors:w,acceptButtonColor:m?"ghost":"primary",isLoading:v||p,onImpression:n}),e[26]=w,e[27]=g,e[28]=r,e[29]=q,e[30]=ee,e[31]=D,e[32]=o,e[33]=m,e[34]=v,e[35]=p,e[36]=i,e[37]=n,e[38]=u,e[39]=J):J=e[39],J},ks=t=>{"use forget";const e=P.c(32),{className:s,image:i,connectorNames:o,connectorDescriptions:a,learnMoreUrl:n,declineConnectors:r,acceptConnectors:d,acceptButtonColor:f,isLoading:c,onImpression:m}=t;let u;e[0]!==o||e[1]!==i?(u=l.jsx(Me,{alt:o,src:i,fallbackSrc:null,className:"aspect-square h-full w-full rounded-2xl object-cover"}),e[0]=o,e[1]=i,e[2]=u):u=e[2];let x;e[3]!==a?(x=l.jsx("div",{className:"text-xl font-medium",children:l.jsx(z,ce(Y({},X.upsellCardTitle),{values:{connectorDescriptions:a}}))}),e[3]=a,e[4]=x):x=e[4];let p;e[5]===Symbol.for("react.memo_cache_sentinel")?(p=l.jsx(z,{id:"CJ28fH",defaultMessage:"Learn more"}),e[5]=p):p=e[5];let h;e[6]!==n?(h=l.jsx(ft,{href:n,className:"underline",children:p}),e[6]=n,e[7]=h):h=e[7];let g;e[8]!==o||e[9]!==h?(g=l.jsx("div",{children:l.jsx(z,ce(Y({},X.upsellCardDescription),{values:{connectorNames:o,LearnMoreLink:h}}))}),e[8]=o,e[9]=h,e[10]=g):g=e[10];let _;e[11]!==x||e[12]!==g?(_=l.jsxs("div",{className:"flex flex-col gap-1",children:[x,g]}),e[11]=x,e[12]=g,e[13]=_):_=e[13];let b;e[14]===Symbol.for("react.memo_cache_sentinel")?(b=l.jsx(z,Y({},X.connectorsDeclineCta)),e[14]=b):b=e[14];let j;e[15]!==r||e[16]!==c?(j=l.jsx(te,{color:"ghost",className:"border-token-border-light",onClick:r,loading:c,children:b}),e[15]=r,e[16]=c,e[17]=j):j=e[17];let v;e[18]===Symbol.for("react.memo_cache_sentinel")?(v=l.jsx(z,Y({},X.connectorsAllowCta)),e[18]=v):v=e[18];let k;e[19]!==f||e[20]!==d||e[21]!==c?(k=l.jsx(te,{color:f,onClick:d,loading:c,children:v}),e[19]=f,e[20]=d,e[21]=c,e[22]=k):k=e[22];let y;e[23]!==k||e[24]!==j?(y=l.jsxs("div",{className:"flex justify-end gap-2",children:[j,k]}),e[23]=k,e[24]=j,e[25]=y):y=e[25];let C;return e[26]!==s||e[27]!==m||e[28]!==u||e[29]!==y||e[30]!==_?(C=l.jsx(le,{className:s,onImpression:m,image:u,content:_,actions:y}),e[26]=s,e[27]=m,e[28]=u,e[29]=y,e[30]=_,e[31]=C):C=e[31],C},Cs=t=>{"use forget";const e=P.c(11),{content:s,onClick:i,className:o}=t;let a;e[0]!==o?(a=R("justify-between",o),e[0]=o,e[1]=a):a=e[1];let n;e[2]!==s?(n=l.jsx("div",{className:"flex-1 text-sm",children:s}),e[2]=s,e[3]=n):n=e[3];let r;e[4]===Symbol.for("react.memo_cache_sentinel")?(r=l.jsx(z,Y({},X.manageConnectorsCta)),e[4]=r):r=e[4];let d;e[5]!==i?(d=l.jsx(te,{className:"flex-shrink-0",color:"secondary",onClick:i,children:r}),e[5]=i,e[6]=d):d=e[6];let f;return e[7]!==a||e[8]!==n||e[9]!==d?(f=l.jsxs(ys,{className:a,children:[n,d]}),e[7]=a,e[8]=n,e[9]=d,e[10]=f):f=e[10],f};function Ss(){"use forget";var L;const t=P.c(30);let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=ne(),t[0]=e):e=t[0];const s=e,[i,o]=$.useState(!1);let a;t[1]===Symbol.for("react.memo_cache_sentinel")?(a=()=>Mt(s),t[1]=a):a=t[1];const{data:n,isLoading:r}=G(a);let d;t[2]===Symbol.for("react.memo_cache_sentinel")?(d=()=>ke(s),t[2]=d):d=t[2];const f=G(d),c=$.useRef(null);let m;t[3]!==(n==null?void 0:n.items)?(m=(L=n==null?void 0:n.items)!=null?L:[],t[3]=n==null?void 0:n.items,t[4]=m):m=t[4];const u=m;let x,p;if(t[5]===Symbol.for("react.memo_cache_sentinel")?(x=[c],p=()=>o(!1),t[5]=x,t[6]=p):(x=t[5],p=t[6]),hs(x,p),!r&&u.length===0)return null;let h;t[7]===Symbol.for("react.memo_cache_sentinel")?(h=N=>{ke.set(s,N),o(!1),Z(s).logEventWithStatsig("(Web) FYP Feed History Item Selected","chatgpt_web_fyp_feed_history_item_selected",{history_item_id:N})},t[7]=h):h=t[7];const g=h;let _;t[8]!==i?(_=()=>{const N=!i;o(N),Z(s).logEventWithStatsig("(Web) FYP Feed History Dropdown Clicked","chatgpt_web_fyp_feed_history_dropdown_clicked",{is_open:N})},t[8]=i,t[9]=_):_=t[9];const b=_,j=i?"bg-token-bg-secondary":"";let v;t[10]!==j?(v=R("text-token-text-secondary hover:text-token-text-primary hover:bg-token-bg-secondary flex h-8 w-8 items-center justify-center rounded-full transition-colors",j),t[10]=j,t[11]=v):v=t[11];const k=i?"rotate-180":"";let y;t[12]!==k?(y=R("h-5 w-5 transition-transform",k),t[12]=k,t[13]=y):y=t[13];let C;t[14]!==y?(C=l.jsx(De,{className:y}),t[14]=y,t[15]=C):C=t[15];let T;t[16]!==b||t[17]!==C||t[18]!==v?(T=l.jsx("button",{onClick:b,className:v,children:C}),t[16]=b,t[17]=C,t[18]=v,t[19]=T):T=t[19];let E;t[20]!==f||t[21]!==r||t[22]!==i||t[23]!==u?(E=i?l.jsx(ut.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:6},transition:{duration:.15},className:"absolute start-0 top-full z-10 mt-2 w-[360px] max-w-[90vw]",children:l.jsx("div",{className:"bg-token-bg-primary border-token-border-default divide-token-border-subtle flex h-105 w-full flex-col divide-y overflow-y-auto rounded-[24px] border shadow-[0px_20px_25px_-5px_rgba(0,0,0,0.1)]",children:r&&u.length===0?l.jsx(Is,{}):u.map(N=>l.jsx(Ns,{item:N,isSelected:f===N.feed_id,onClick:()=>g(N.feed_id)},N.feed_id))})}):null,t[20]=f,t[21]=r,t[22]=i,t[23]=u,t[24]=E):E=t[24];let S;t[25]!==E?(S=l.jsx(mt,{children:E}),t[25]=E,t[26]=S):S=t[26];let F;return t[27]!==T||t[28]!==S?(F=l.jsxs("div",{className:"relative",ref:c,children:[T,S]}),t[27]=T,t[28]=S,t[29]=F):F=t[29],F}function Ns(t){"use forget";const e=P.c(18),{item:s,isSelected:i,onClick:o}=t;let a;e[0]!==s.preview_images?(a=s.preview_images.map(Ps),e[0]=s.preview_images,e[1]=a):a=e[1];let n;e[2]!==a?(n=l.jsx($t,{previewImages:a}),e[2]=a,e[3]=n):n=e[3];let r;e[4]!==s.title?(r=l.jsx("div",{className:"text-token-text-primary text-[17px] leading-[23px] font-medium",children:s.title}),e[4]=s.title,e[5]=r):r=e[5];let d;e[6]!==s.subtitle?(d=l.jsx("div",{className:"text-token-text-secondary line-clamp-2 text-sm leading-[18px]",children:s.subtitle}),e[6]=s.subtitle,e[7]=d):d=e[7];let f;e[8]!==r||e[9]!==d?(f=l.jsxs("div",{className:"flex flex-1 flex-col gap-1",children:[r,d]}),e[8]=r,e[9]=d,e[10]=f):f=e[10];let c;e[11]!==i?(c=i?l.jsx(xt,{className:"text-token-text-primary h-6 w-6 shrink-0"}):null,e[11]=i,e[12]=c):c=e[12];let m;return e[13]!==o||e[14]!==n||e[15]!==f||e[16]!==c?(m=l.jsxs("div",{className:"hover:bg-token-bg-secondary flex cursor-pointer items-center gap-4 px-5 py-4",onClick:o,children:[n,f,c]}),e[13]=o,e[14]=n,e[15]=f,e[16]=c,e[17]=m):m=e[17],m}function Ps(t){return $e(t.image_url)}function Is(){"use forget";const t=P.c(1);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=l.jsx(l.Fragment,{children:Array.from({length:5}).map(Es)}),t[0]=e):e=t[0],e}function Es(t,e){return l.jsxs("div",{className:"flex items-center gap-4 px-5 py-4",children:[l.jsx(K,{className:"h-[45px] w-[45px] rounded-2xl"}),l.jsxs("div",{className:"flex flex-1 flex-col gap-2",children:[l.jsx(K,{className:"h-4 w-1/2 rounded-lg"}),l.jsx(K,{className:"h-4 w-full max-w-[280px] rounded-lg"})]}),l.jsx(K,{className:"h-6 w-6 rounded-full"})]},e)}const Ts=t=>{const e=ne();Z(e).logEventWithStatsig("(Web) FYP Task Header Tapped","chatgpt_web_fyp_task_header_tapped",{task_id:t})};function Ve(t){"use forget";const e=P.c(11),{title:s,jawboneId:i,className:o}=t;let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=ne(),e[0]=a):a=e[0];const n=a;let r;e[1]!==o?(r=R("bg-token-interactive-bg-tertiary-hover hover:bg-token-interactive-bg-tertiary-press text-token-text-secondary hover:text-token-text-primary flex w-full items-center justify-between rounded-ss-3xl rounded-se-3xl px-4 py-3 text-sm transition-colors",o),e[1]=o,e[2]=r):r=e[2];let d;e[3]!==i?(d=m=>{m.preventDefault(),m.stopPropagation(),se(n).openTaskView(i),Ts(i)},e[3]=i,e[4]=d):d=e[4];let f;e[5]!==s?(f=l.jsx("span",{className:"truncate text-start",children:s}),e[5]=s,e[6]=f):f=e[6];let c;return e[7]!==r||e[8]!==d||e[9]!==f?(c=l.jsx("button",{type:"button",className:r,onClick:d,children:f}),e[7]=r,e[8]=d,e[9]=f,e[10]=c):c=e[10],c}function Ls(t){"use forget";var O,D,W,ee,q,J,A,B,H;const e=P.c(48),{item:s,className:i}=t;let o;e[0]===Symbol.for("react.memo_cache_sentinel")?(o=ne(),e[0]=o):o=e[0];const a=o;let n;e[1]===Symbol.for("react.memo_cache_sentinel")?(n=()=>Ot(a),e[1]=n):n=e[1];const{mutate:r,result$:d}=G(n);let f;e[2]!==d?(f=()=>d(),e[2]=d,e[3]=f):f=e[3];const{data:c,isPending:m}=G(f),{trackTaskPauseSurveyView:u}=Oe();let x;e[4]!==((O=s.header)==null?void 0:O.task_id)?(x=()=>{var U,V;return Ae(a,(V=(U=s.header)==null?void 0:U.task_id)!=null?V:"")},e[4]=(D=s.header)==null?void 0:D.task_id,e[5]=x):x=e[5];const{automation:p}=G(x);let h;e[6]!==(p==null?void 0:p.is_enabled)||e[7]!==((W=s.header)==null?void 0:W.task_id)||e[8]!==r?(h=()=>{var U,V;p!=null&&p.is_enabled||r({taskId:(V=(U=s.header)==null?void 0:U.task_id)!=null?V:"",action:"continue"})},e[6]=p==null?void 0:p.is_enabled,e[7]=(ee=s.header)==null?void 0:ee.task_id,e[8]=r,e[9]=h):h=e[9];const g=h;if(!p)return null;const _=(q=c==null?void 0:c.update_label)!=null?q:s.continue_label,b=c!=null&&c.update_label?Dt:void 0,j=c!=null&&c.update_label?"secondary":"primary",v=!!(c!=null&&c.update_label);let k;e[10]!==_||e[11]!==b||e[12]!==j||e[13]!==v?(k={label:_,icon:b,color:j,disabled:v},e[10]=_,e[11]=b,e[12]=j,e[13]=v,e[14]=k):k=e[14];const y=k;let C;e[15]!==s.header?(C=s.header&&l.jsx(Ve,{title:s.header.title,jawboneId:s.header.task_id,className:"w-full"}),e[15]=s.header,e[16]=C):C=e[16];let T;e[17]!==s.prompt?(T=l.jsx("div",{className:"text-token-text-primary text-xl leading-6 font-medium",children:s.prompt}),e[17]=s.prompt,e[18]=T):T=e[18];let E;e[19]!==s.body?(E=s.body&&l.jsx("div",{className:"text-token-text-primary text-base leading-6",children:s.body}),e[19]=s.body,e[20]=E):E=e[20];let S;e[21]!==T||e[22]!==E?(S=l.jsxs("div",{className:"space-y-2 text-start",children:[T,E]}),e[21]=T,e[22]=E,e[23]=S):S=e[23];let F;e[24]!==g||e[25]!==m||e[26]!==y.color||e[27]!==y.disabled||e[28]!==y.icon||e[29]!==y.label?(F=l.jsx(te,{type:"button",color:y.color,icon:y.icon,onClick:g,loading:m,disabled:y.disabled,children:y.label}),e[24]=g,e[25]=m,e[26]=y.color,e[27]=y.disabled,e[28]=y.icon,e[29]=y.label,e[30]=F):F=e[30];let L;e[31]!==((J=s.header)==null?void 0:J.task_id)?(L=l.jsx(te,{type:"button",color:"secondary",icon:pt,onClick:()=>{var U,V;return se(a).openTaskView((V=(U=s.header)==null?void 0:U.task_id)!=null?V:"")},className:"h-9 w-9 px-0"}),e[31]=(A=s.header)==null?void 0:A.task_id,e[32]=L):L=e[32];let N;e[33]!==p?(N=l.jsx(te,{type:"button",color:"danger-outline",icon:At,onClick:()=>{ht(a,Rt,{item:p,onClose:Fs})},className:"h-9 w-9 px-0"}),e[33]=p,e[34]=N):N=e[34];let w;e[35]!==F||e[36]!==L||e[37]!==N?(w=l.jsxs("div",{className:"flex flex-wrap items-center gap-2 pt-4",children:[F,L,N]}),e[35]=F,e[36]=L,e[37]=N,e[38]=w):w=e[38];let I;e[39]!==((B=s.header)==null?void 0:B.task_id)||e[40]!==u?(I=()=>{var U,V;return u((V=(U=s.header)==null?void 0:U.task_id)!=null?V:"")},e[39]=(H=s.header)==null?void 0:H.task_id,e[40]=u,e[41]=I):I=e[41];let M;return e[42]!==i||e[43]!==C||e[44]!==S||e[45]!==w||e[46]!==I?(M=l.jsx(le,{className:i,header:C,content:S,actions:w,onImpression:I}),e[42]=i,e[43]=C,e[44]=S,e[45]=w,e[46]=I,e[47]=M):M=e[47],M}function Fs(){}const he=fe({dislikedCardTitle:{id:"pulse.dislikedCardTitle",defaultMessage:"You'll see less like this."},dislikedCardDescription:{id:"pulse.dislikedCardDescription",defaultMessage:"Sorry this didn't hit the mark. Mind sharing a bit more about why you didn't like it? Every bit of feedback helps shape what shows up next."},newFeature:{id:"pulse.newFeature",defaultMessage:"New"}});function Ms(t){"use forget";var I;const e=P.c(35),{cardId:s,className:i,title:o,description:a,image:n,variant:r,onClick:d,onImpression:f,cardHeader:c}=t,m=r===void 0?"default":r;let u;e[0]===Symbol.for("react.memo_cache_sentinel")?(u=ne(),e[0]=u):u=e[0];const x=u,{data:p}=Ut(s),h=(p==null?void 0:p.reaction)==="dislike",g=m==="light",_=(I=p==null?void 0:p.card_actions)==null?void 0:I.some($s);let b;e[1]===Symbol.for("react.memo_cache_sentinel")?(b=()=>Vt(x),e[1]=b):b=e[1];const{mutate:j}=G(b);let v;e[2]!==s||e[3]!==j?(v=()=>{Z(x).logEventWithStatsig("(Web) FYP Card Dismissed","chatgpt_web_fyp_card_dismissed",{card_id:s}),j({cardId:s})},e[2]=s,e[3]=j,e[4]=v):v=e[4];const y=_?v:void 0;let C;e[5]!==(n==null?void 0:n.fallback_url)||e[6]!==(n==null?void 0:n.url)||e[7]!==h||e[8]!==g?(C=!g&&l.jsx(Me,{src:n==null?void 0:n.url,fallbackSrc:n==null?void 0:n.fallback_url,className:R("aspect-square h-full w-full rounded-2xl",h&&"grayscale")}),e[5]=n==null?void 0:n.fallback_url,e[6]=n==null?void 0:n.url,e[7]=h,e[8]=g,e[9]=C):C=e[9];let T;e[10]!==h||e[11]!==o?(T=h?l.jsx(z,Y({},he.dislikedCardTitle)):o,e[10]=h,e[11]=o,e[12]=T):T=e[12];let E;e[13]!==T?(E=l.jsx("div",{className:"text-xl font-medium",children:T}),e[13]=T,e[14]=E):E=e[14];let S;e[15]!==a||e[16]!==h?(S=h?l.jsx(z,Y({},he.dislikedCardDescription)):a,e[15]=a,e[16]=h,e[17]=S):S=e[17];let F;e[18]!==S?(F=l.jsx("div",{children:S}),e[18]=S,e[19]=F):F=e[19];let L;e[20]!==F||e[21]!==E?(L=l.jsx("div",{className:"flex flex-1 flex-col justify-between",children:l.jsxs("div",{className:"flex flex-col gap-1",children:[E,F]})}),e[20]=F,e[21]=E,e[22]=L):L=e[22];let N;e[23]!==s||e[24]!==g?(N=!g&&l.jsx(Yt,{cardId:s}),e[23]=s,e[24]=g,e[25]=N):N=e[25];let w;return e[26]!==c||e[27]!==i||e[28]!==d||e[29]!==f||e[30]!==L||e[31]!==N||e[32]!==y||e[33]!==C?(w=l.jsx(le,{className:i,header:c,onDismiss:y,image:C,content:L,actions:N,onClick:d,onImpression:f}),e[26]=c,e[27]=i,e[28]=d,e[29]=f,e[30]=L,e[31]=N,e[32]=y,e[33]=C,e[34]=w):w=e[34],w}function $s(t){return t==="dismiss"}function Ds(t){"use forget";const e=P.c(17),{body:s,dateTs:i,className:o,includeHistory:a}=t;let n;e[0]!==i?(n=new Date(i*1e3).toLocaleDateString(void 0,{month:"long",day:"numeric"}),e[0]=i,e[1]=n):n=e[1];const r=n;let d;e[2]!==o?(d=R("flex flex-col gap-2",o),e[2]=o,e[3]=d):d=e[3];let f;e[4]!==r?(f=l.jsx("div",{className:"text-token-text-primary text-4xl",children:r}),e[4]=r,e[5]=f):f=e[5];let c;e[6]!==a?(c=a&&l.jsx(Ss,{}),e[6]=a,e[7]=c):c=e[7];let m;e[8]!==f||e[9]!==c?(m=l.jsxs("div",{className:"flex items-center gap-2",children:[f,c]}),e[8]=f,e[9]=c,e[10]=m):m=e[10];let u;e[11]!==s?(u=s&&l.jsx(Ye,{children:s}),e[11]=s,e[12]=u):u=e[12];let x;return e[13]!==d||e[14]!==m||e[15]!==u?(x=l.jsxs("div",{className:d,children:[m,u]}),e[13]=d,e[14]=m,e[15]=u,e[16]=x):x=e[16],x}function Ye(t){"use forget";const e=P.c(5),{children:s,className:i}=t;let o;e[0]!==i?(o=R("text-token-text-primary py-2 text-xl font-medium",i),e[0]=i,e[1]=o):o=e[1];let a;return e[2]!==s||e[3]!==o?(a=l.jsx(l.Fragment,{children:l.jsx("div",{className:o,children:s})}),e[2]=s,e[3]=o,e[4]=a):a=e[4],a}function Os(t){"use forget";const e=P.c(24),{title:s,subtitle:i,suggestions:o,onImpression:a,className:n,isNux:r}=t,d=r===void 0?!1:r;let f;e[0]!==a?(f=()=>a(),e[0]=a,e[1]=f):f=e[1];const{ref:c}=ge(f);let m;e[2]!==n?(m=R("flex flex-col gap-6",n),e[2]=n,e[3]=m):m=e[3];let u;e[4]!==d?(u=d&&l.jsxs("span",{className:"text-token-text-accent",children:[l.jsx(z,Y({},he.newFeature))," "]}),e[4]=d,e[5]=u):u=e[5];let x;e[6]!==s?(x=l.jsx("span",{className:"text-token-text-primary",children:s}),e[6]=s,e[7]=x):x=e[7];let p;e[8]!==u||e[9]!==x?(p=l.jsxs("span",{className:"text-start text-xl font-medium",children:[u,x]}),e[8]=u,e[9]=x,e[10]=p):p=e[10];let h;e[11]!==i?(h=i&&l.jsx("div",{className:"text-token-text-primary",children:i}),e[11]=i,e[12]=h):h=e[12];let g;e[13]!==p||e[14]!==h?(g=l.jsxs("div",{className:"flex flex-col gap-2",children:[p,h]}),e[13]=p,e[14]=h,e[15]=g):g=e[15];let _;e[16]!==o||e[17]!==s?(_=l.jsx("div",{className:"flex w-full flex-col gap-2",children:l.jsx(Bt,{suggestions:o,question:s})}),e[16]=o,e[17]=s,e[18]=_):_=e[18];let b;return e[19]!==c||e[20]!==m||e[21]!==g||e[22]!==_?(b=l.jsxs("div",{ref:c,className:m,children:[g,_]}),e[19]=c,e[20]=m,e[21]=g,e[22]=_,e[23]=b):b=e[23],b}function As(t){"use forget";const e=P.c(16),{title:s,body:i,onImpression:o,className:a}=t;let n;e[0]!==o?(n=()=>o(),e[0]=o,e[1]=n):n=e[1];const{ref:r}=ge(n),d=Q();let f;e[2]!==a?(f=R("flex flex-col items-center gap-6",a),e[2]=a,e[3]=f):f=e[3];let c;e[4]===Symbol.for("react.memo_cache_sentinel")?(c=l.jsx("div",{className:"bg-token-text-primary flex h-12 w-12 items-center justify-center rounded-full",children:l.jsx(Gt,{className:"text-token-bg-primary"})}),e[4]=c):c=e[4];let m;e[5]===Symbol.for("react.memo_cache_sentinel")?(m=l.jsx("br",{}),e[5]=m):m=e[5];let u;e[6]!==i||e[7]!==s?(u=l.jsxs("div",{className:"text-token-text-primary text-center text-xl font-medium",children:[s," ",m," ",i]}),e[6]=i,e[7]=s,e[8]=u):u=e[8];let x;e[9]!==d?(x=l.jsx(_s,{onClick:()=>se(d).openFeedbackView()}),e[9]=d,e[10]=x):x=e[10];let p;return e[11]!==r||e[12]!==f||e[13]!==u||e[14]!==x?(p=l.jsx(l.Fragment,{children:l.jsxs("div",{ref:r,className:f,children:[c,u,x]})}),e[11]=r,e[12]=f,e[13]=u,e[14]=x,e[15]=p):p=e[15],p}const ie=()=>{"use forget";const t=P.c(1);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=l.jsx("div",{className:"pt-12 pb-12",children:l.jsx("div",{className:"bg-token-border-heavy h-px"})}),t[0]=e):e=t[0],e};function Rs(t){"use forget";const e=P.c(16),{items:s,badge:i,header:o,className:a}=t,[n,r]=$.useState(!1),d=n?s:s.slice(0,1),f=Ee(),c=Q();let m;e[0]!==c?(m=Re(c),e[0]=c,e[1]=m):m=e[1];const u=m;let x;e[2]!==c||e[3]!==o.task_id||e[4]!==n?(x=()=>{const y=n?"(Web) FYP Card Stack Collapsed":"(Web) FYP Card Stack Opened",C=n?"chatgpt_web_fyp_card_stack_collapsed":"chatgpt_web_fyp_card_stack_opened";Z(c).logEventWithStatsig(y,C,{stack_id:o.task_id}),r(!n)},e[2]=c,e[3]=o.task_id,e[4]=n,e[5]=x):x=e[5];const p=x,[h,...g]=d,_=(i==null?void 0:i.text)&&!n&&s.length>1,b=(y,C)=>l.jsx(Be,{item:y,index:C,itemHeader:u&&l.jsx(Ve,{title:o.title,jawboneId:o.task_id,className:"w-full"}),nextItem:d[C+1]},C);let j;e[6]!==a?(j=R("flex flex-col",a),e[6]=a,e[7]=j):j=e[7];let v;e[8]!==_?(v=_&&l.jsx("div",{className:"absolute start-0 bottom-0 -z-10 w-full",children:l.jsx(Hs,{})}),e[8]=_,e[9]=v):v=e[9];let k;return e[10]!==(i==null?void 0:i.text)||e[11]!==p||e[12]!==f||e[13]!==s.length||e[14]!==n?(k=s.length>1&&(i==null?void 0:i.text)&&l.jsx(zs,{text:n?f.formatMessage({id:"pulse.collapseStackButtonText",defaultMessage:"Collapse"}):i==null?void 0:i.text,stackOpen:n,onClick:p,className:R("mb-2",!n&&"mt-3")}),e[10]=i==null?void 0:i.text,e[11]=p,e[12]=f,e[13]=s.length,e[14]=n,e[15]=k):k=e[15],l.jsxs("div",{className:j,children:[l.jsxs("div",{className:"relative",children:[b(h,0),v]}),g.map((y,C)=>b(y,C+1)),k]})}const zs=t=>{"use forget";const e=P.c(14),{text:s,stackOpen:i,onClick:o,className:a}=t;let n;e[0]!==a?(n=R("hover:text-token-text-primary text-token-text-secondary flex w-full cursor-pointer items-center justify-center gap-1 text-sm",a),e[0]=a,e[1]=n):n=e[1];let r;e[2]!==s?(r=l.jsx("span",{children:s}),e[2]=s,e[3]=r):r=e[3];let d;e[4]===Symbol.for("react.memo_cache_sentinel")?(d=R("inline-flex transition-transform duration-200 ease-in-out"),e[4]=d):d=e[4];const f=i?"rotate-180":"rotate-0";let c;e[5]!==f?(c=R("icon-xs",f,"transition-transform duration-200 ease-in-out"),e[5]=f,e[6]=c):c=e[6];let m;e[7]!==c?(m=l.jsx("span",{className:d,children:l.jsx(De,{className:c})}),e[7]=c,e[8]=m):m=e[8];let u;return e[9]!==o||e[10]!==n||e[11]!==r||e[12]!==m?(u=l.jsxs("div",{className:n,onClick:o,children:[r,m]}),e[9]=o,e[10]=n,e[11]=r,e[12]=m,e[13]=u):u=e[13],u},Hs=()=>{"use forget";const t=P.c(2);let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=l.jsx(le,{className:"absolute inset-y-0 start-1/2 -z-20 h-full w-[calc(100%-16px)]! -translate-x-1/2 -translate-y-3 rounded-t-none",content:l.jsx("div",{}),actions:l.jsx("div",{})}),t[0]=e):e=t[0];let s;return t[1]===Symbol.for("react.memo_cache_sentinel")?(s=l.jsxs("div",{className:"relative flex h-12 w-full items-center justify-center",children:[e,l.jsx(le,{className:"absolute inset-y-0 start-1/2 -z-30 h-full w-[calc(100%-32px)]! -translate-x-1/2 -translate-y-0.5 rounded-t-none",content:l.jsx("div",{}),actions:l.jsx("div",{})})]}),t[1]=s):s=t[1],s},Be=t=>{"use forget";var f,c,m,u,x,p,h,g,_,b,j,v,k,y,C,T,E,S,F,L,N;const e=P.c(40),{item:s,index:i,itemHeader:o,nextItem:a}=t,n=ne(),{trackCardImpression:r}=Oe(),{openView:d}=zt();switch(s.content_type){case"header_with_date":return l.jsx(Ds,{body:s.body,dateTs:(f=s.date)!=null?f:0,className:"mb-6",includeHistory:Wt(n)},i);case"commentary":{let w;e[0]!==i?(w=i>1&&l.jsx(ie,{}),e[0]=i,e[1]=w):w=e[1];let I;e[2]!==i||e[3]!==s.title?(I=l.jsx(Ye,{className:"mb-6",children:s.title},i),e[2]=i,e[3]=s.title,e[4]=I):I=e[4];let M;return e[5]!==w||e[6]!==I?(M=l.jsxs(l.Fragment,{children:[w,I]}),e[5]=w,e[6]=I,e[7]=M):M=e[7],M}case"card":{const w=Ht(s),I=(c=s.preview_markdown_text)!=null?c:"",M=w==="light"?"light":"default";let O;e[8]!==s.id||e[9]!==r?(O=()=>r(s.id),e[8]=s.id,e[9]=r,e[10]=O):O=e[10];let D;e[11]!==s.conversation_id||e[12]!==s.id||e[13]!==d?(D=s.conversation_id!=null?()=>d(s.id):void 0,e[11]=s.conversation_id,e[12]=s.id,e[13]=d,e[14]=D):D=e[14];let W;return e[15]!==i||e[16]!==s.id||e[17]!==s.image||e[18]!==s.title||e[19]!==o||e[20]!==I||e[21]!==M||e[22]!==O||e[23]!==D?(W=l.jsx(Ms,{cardId:s.id,cardHeader:o,image:s.image,title:s.title,description:I,variant:M,onImpression:O,onClick:D,className:"my-3"},i),e[15]=i,e[16]=s.id,e[17]=s.image,e[18]=s.title,e[19]=o,e[20]=I,e[21]=M,e[22]=O,e[23]=D,e[24]=W):W=e[24],W}case"footer":{let w;return e[25]===Symbol.for("react.memo_cache_sentinel")?(w=l.jsx(ie,{}),e[25]=w):w=e[25],l.jsxs(l.Fragment,{children:[w,l.jsx(As,{title:(m=s.title)!=null?m:"",body:(u=s.body)!=null?u:"",onImpression:()=>Z(n).logEventWithStatsig("(Web) FYP Feed Footer Viewed","chatgpt_web_fyp_feed_footer_viewed"),className:"mb-6"},i)]})}case"survey":{const w=(h=(p=(x=s.survey_config)==null?void 0:x.content)==null?void 0:p.is_nux)!=null?h:!1,I=i===1&&!(w&&(a==null?void 0:a.content_type)==="commentary");let M;e[26]!==i?(M=i>1&&l.jsx(ie,{}),e[26]=i,e[27]=M):M=e[27];let O;e[28]!==((g=s.survey_config)==null?void 0:g.prompt.suggestions)?(O=(b=(_=s.survey_config)==null?void 0:_.prompt.suggestions)!=null?b:[],e[28]=(j=s.survey_config)==null?void 0:j.prompt.suggestions,e[29]=O):O=e[29];let D;return e[30]!==I?(D=I&&l.jsx(ie,{}),e[30]=I,e[31]=D):D=e[31],l.jsxs(l.Fragment,{children:[M,l.jsx(Os,{suggestions:O,title:(y=(k=(v=s.survey_config)==null?void 0:v.content)==null?void 0:k.title)!=null?y:"",subtitle:(E=(T=(C=s.survey_config)==null?void 0:C.content)==null?void 0:T.body)!=null?E:"",isNux:w,onImpression:()=>Z(n).logEventWithStatsig("(Web) FYP Feed Survey Viewed","chatgpt_web_fyp_feed_survey_viewed")},i),D]})}case"connector_proactive_toggle":return ue(n,"3304830717")&&((S=s.connector_ids)==null?void 0:S.length)>0&&l.jsxs(l.Fragment,{children:[l.jsx(ie,{}),l.jsx(ws,{itemId:s.id,learnMoreUrl:(F=s.learn_more_url)!=null?F:"",image:(N=(L=s.connectors_image)==null?void 0:L.url)!=null?N:"",connectorIds:s.connector_ids,onImpression:()=>Z(n).logEventWithStatsig("(Web) FYP Proactive Connector Toggle Shown","chatgpt_web_fyp_proactive_connector_toggle_shown",{connector_ids:s.connector_ids})},i)]});case"card_stack":{let w;return e[32]!==i||e[33]!==s.badge||e[34]!==s.header||e[35]!==s.items?(w=l.jsx(Rs,{badge:s.badge,header:s.header,items:s.items},i),e[32]=i,e[33]=s.badge,e[34]=s.header,e[35]=s.items,e[36]=w):w=e[36],w}case"task_pause_survey":{let w;return e[37]!==i||e[38]!==s?(w=l.jsx(Ls,{item:s,className:"mb-6"},i),e[37]=i,e[38]=s,e[39]=w):w=e[39],w}default:return null}};function Ge(){"use forget";const t=P.c(1);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=l.jsxs("div",{className:"flex flex-col gap-6",children:[l.jsxs("div",{className:"flex flex-col gap-3",children:[l.jsx(K,{className:"mb-6 h-12 w-46 rounded-full"}),l.jsx(K,{className:"h-4 w-full max-w-xl rounded-full"}),l.jsx(K,{className:"h-4 w-full max-w-[28rem] rounded-full"})]}),l.jsx(oe,{}),l.jsx(oe,{withSecondaryAction:!0}),l.jsx(oe,{}),l.jsx(oe,{}),l.jsx(oe,{})]}),t[0]=e):e=t[0],e}function oe(t){"use forget";const e=P.c(4),{withSecondaryAction:s}=t,i=s===void 0?!1:s;let o;e[0]===Symbol.for("react.memo_cache_sentinel")?(o=l.jsx(K,{className:"aspect-square h-full w-full rounded-2xl"}),e[0]=o):o=e[0];let a;e[1]===Symbol.for("react.memo_cache_sentinel")?(a=l.jsxs("div",{className:"flex flex-col gap-3",children:[l.jsx(K,{className:"h-6 w-3/4 rounded-lg"}),l.jsx(K,{className:"h-4 w-11/12 rounded-lg"})]}),e[1]=a):a=e[1];let n;return e[2]!==i?(n=l.jsx(le,{image:o,content:a,actions:i?l.jsxs("div",{className:"flex items-center justify-between gap-4",children:[l.jsx(Ne,{}),l.jsx(K,{className:"h-10 w-40 rounded-full"})]}):l.jsx(Ne,{})}),e[2]=i,e[3]=n):n=e[3],n}function Ne(){"use forget";const t=P.c(1);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=l.jsx("div",{className:"flex items-center gap-3",children:Array.from({length:4}).map(Ws)}),t[0]=e):e=t[0],e}function Ws(t,e){return l.jsx(K,{className:"h-6 w-6 rounded-full"},e)}function Us(t,e){"use forget";var d;const s=P.c(7);let i;if(s[0]!==e||s[1]!==t){const f=(d=ze(t).map(Bs).filter(Ys))!=null?d:[];e&&f.push(e),i=f.filter(Vs),s[0]=e,s[1]=t,s[2]=i}else i=s[2];const o=i,a=Ze();let n,r;s[3]!==o||s[4]!==a?(n=()=>{o.forEach(f=>{a.prefetchQuery(Y({},Qt({clientThreadId:f})))})},r=[o,a],s[3]=o,s[4]=a,s[5]=n,s[6]=r):(n=s[5],r=s[6]),$.useEffect(n,r)}function Vs(t){return!gt(t)}function Ys(t){return t!=null}function Bs(t){return t.conversation_id}function Gs(t){"use forget";const e=P.c(6),s=Q();let i;e[0]!==t?(i=ze(t).filter(Qs),e[0]=t,e[1]=i):i=e[1];const o=i;let a,n;e[2]!==o||e[3]!==s?(a=()=>{o.forEach(r=>{qs(s,r.id)})},n=[o,s],e[2]=o,e[3]=s,e[4]=a,e[5]=n):(a=e[4],n=e[5]),$.useEffect(a,n)}function Qs(t){return t.conversation_id==null}const qs=async(t,e)=>{var a,n;const s=_t(t),i=bt(s.id),o=yt(t);i||(jt.initThread({clientThreadId:s.id,conversationMode:{kind:vt.PrimaryAssistant},userId:(a=o==null?void 0:o.user)==null?void 0:a.id,accountId:(n=o==null?void 0:o.account)==null?void 0:n.id,disableConversationNavigation:!0,pulseCardId:e}),Ce(xe(t),e,s.id)),Le(()=>s.serverId$()!==void 0,()=>{const r=s.serverId$();r&&(wt(r,d=>(d.disableConversationNavigation=!0,d)),Ce(xe(t),e,r))}),await qt({conversation:s,sourceEvent:new Event("pulse-card-stream"),promptMessage:Ct(""),completionType:kt.Next,extraStreamParams:{pulseCompletionParams:{type:"card",card_id:e}}})};function Ks(){"use forget";var g,_;const t=P.c(16),e=Q(),s=et();let i;t[0]!==e?(i=()=>He(e),t[0]=e,t[1]=i):i=t[1];const{data:o,isLoading:a}=G(i);let n;t[2]!==(o==null?void 0:o.items)?(n=(g=o==null?void 0:o.items)!=null?g:[],t[2]=o==null?void 0:o.items,t[3]=n):n=t[3];const r=n,d=(_=o==null?void 0:o.feedback)==null?void 0:_.feedback_conversation_id,f=d!=null?d:void 0;Kt(o==null?void 0:o.id),Us(r,f),Gs(r);let c;t[4]!==e?(c=Re(e),t[4]=e,t[5]=c):c=t[5];let m;t[6]!==c?(m={enabled:c},t[6]=c,t[7]=m):m=t[7],Jt(m);let u,x;t[8]!==e||t[9]!==s?(u=()=>{const b=new URLSearchParams(window.location.search),j=b.get(Xt);if(Zt(s,window.location.search),j)return Le(()=>{var v;return((v=Ae(e,j))==null?void 0:v.automation)!=null},()=>se(e).openTaskView(j));b.get(es)===ts&&se(e).openFeedbackView()},x=[e,s],t[8]=e,t[9]=s,t[10]=u,t[11]=x):(u=t[10],x=t[11]),$.useEffect(u,x);let p;t[12]===Symbol.for("react.memo_cache_sentinel")?(p=[],t[12]=p):p=t[12],$.useEffect(Js,p);let h;return t[13]!==a||t[14]!==r?(h=l.jsx("div",{className:"mx-auto flex w-full max-w-3xl grow flex-col px-8 py-12",children:a?l.jsx(Ge,{}):l.jsx(Xs,{pulseItems:r})}),t[13]=a,t[14]=r,t[15]=h):h=t[15],h}function Js(){St.count(Nt.PULSE,"chatgpt_web_fyp_feed_shown")}const Xs=t=>{"use forget";const e=P.c(7),{pulseItems:s}=t,i=Q();let o,a;e[0]!==i?(o=()=>{var d;return Z(i).logEventWithStatsig("(Web) FYP Feed Shown","chatgpt_web_fyp_feed_shown",{source:(d=Se(i))!=null?d:We.Url}),()=>{Z(i).logEventWithStatsig("(Web) FYP Feed Hidden","chatgpt_web_fyp_feed_hidden"),Se.set(i,void 0)}},a=[i],e[0]=i,e[1]=o,e[2]=a):(o=e[1],a=e[2]),$.useEffect(o,a);let n;e[3]!==s?(n=s.map((d,f)=>l.jsx(Be,{item:d,index:f,nextItem:s[f+1]},f)),e[3]=s,e[4]=n):n=e[4];let r;return e[5]!==n?(r=l.jsx(l.Fragment,{children:n}),e[5]=n,e[6]=r):r=e[6],r};function Qe(){"use forget";const t=P.c(4),e=Q();let s;t[0]!==e?(s=ue(e,"1833324140"),t[0]=e,t[1]=s):s=t[1];const i=s;let o;return t[2]!==i?(o=l.jsx(l.Fragment,{children:l.jsx(Ks,{})}),t[2]=i,t[3]=o):o=t[3],o}function Zs(){"use forget";const t=P.c(7),{openSettings:e}=Fe();let s;t[0]===Symbol.for("react.memo_cache_sentinel")?(s=l.jsx("p",{className:"text-sm font-medium",children:l.jsx(z,Y({},me.title))}),t[0]=s):s=t[0];let i;t[1]===Symbol.for("react.memo_cache_sentinel")?(i=l.jsxs("div",{className:"flex flex-1 flex-col items-start justify-start gap-1 text-start",children:[s,l.jsx("p",{className:"text-token-text-secondary text-sm",children:l.jsx(z,Y({},me.body))})]}),t[1]=i):i=t[1];let o;t[2]!==e?(o=()=>{ss(),e(Te.Notifications)},t[2]=e,t[3]=o):o=t[3];let a;t[4]===Symbol.for("react.memo_cache_sentinel")?(a=l.jsx(z,Y({},me.notificationsCta)),t[4]=a):a=t[4];let n;return t[5]!==o?(n=l.jsxs("div",{className:"border-token-border-default flex w-full flex-row items-center justify-start gap-4 rounded-3xl border px-5 py-4",children:[i,l.jsx(te,{color:"secondary",size:"small",className:"rounded-full px-4 py-2 text-sm",onClick:o,children:a})]}),t[5]=o,t[6]=n):n=t[6],n}const me=fe({title:{id:"IghIUf",defaultMessage:"A fresh update lands every morning.☀️"},body:{id:"V+RuTb",defaultMessage:"You’ll be notified when there’s something new. You can adjust this anytime in Settings."},notificationsCta:{id:"DE/wCP",defaultMessage:"Open settings"}}),el=["https://persistent.oaistatic.com/chatgpt/pulse/preview-card-thumbnail-01.png","https://persistent.oaistatic.com/chatgpt/pulse/preview-card-thumbnail-02.png","https://persistent.oaistatic.com/chatgpt/pulse/preview-card-thumbnail-03.png","https://persistent.oaistatic.com/chatgpt/pulse/preview-card-thumbnail-04.png","https://persistent.oaistatic.com/chatgpt/pulse/preview-card-thumbnail-05.png"];function tl(){"use forget";const t=P.c(53),e=Q();let s;t[0]!==e?(s=()=>de(e,{useCache:!1}),t[0]=e,t[1]=s):s=t[1];const{data:i,isLoading:o,isFetching:a}=G(s),n=i==null?void 0:i.onboarding_status;let r;t[2]!==n?(r=()=>n,t[2]=n,t[3]=r):r=t[3];const[d,f]=$.useState(r),c=d===ae.FINISHED_WITH_FEED;let m;t[4]!==c?(m=()=>c,t[4]=c,t[5]=m):m=t[5];const[u,x]=$.useState(m);let p;t[6]!==e||t[7]!==u?(p=()=>u?ns(e):He(e),t[6]=e,t[7]=u,t[8]=p):p=t[8];const{data:h}=G(p),[g,_]=$.useState(!1),[b,j]=$.useState(!1);let v,k;t[9]!==e?(v=()=>{const V=window.setInterval(()=>{de.refetch(e,{useCache:!1})},6e4);return()=>window.clearInterval(V)},k=[e],t[9]=e,t[10]=v,t[11]=k):(v=t[10],k=t[11]),$.useEffect(v,k);let y,C;t[12]!==i||t[13]!==d||t[14]!==n?(y=()=>{d===void 0&&i!==void 0&&f(n)},C=[i,d,n],t[12]=i,t[13]=d,t[14]=n,t[15]=y,t[16]=C):(y=t[15],C=t[16]),$.useEffect(y,C);let T;t[17]!==e||t[18]!==n?(T=()=>{n===ae.FINISHED_WITH_FEED&&(x(!0),is(e))},t[17]=e,t[18]=n,t[19]=T):T=t[19];let E;t[20]!==e||t[21]!==n||t[22]!==u?(E=[e,n,u],t[20]=e,t[21]=n,t[22]=u,t[23]=E):E=t[23],$.useEffect(T,E);let S,F;t[24]!==h||t[25]!==n||t[26]!==c?(S=()=>{n===ae.FINISHED_WITH_FEED&&(h||c)&&_(!0)},F=[h,n,c],t[24]=h,t[25]=n,t[26]=c,t[27]=S,t[28]=F):(S=t[27],F=t[28]),$.useEffect(S,F);let L,N;t[29]!==e||t[30]!==h||t[31]!==u?(L=()=>{if(!u||h===void 0)return;xe(e).setQueryData(os.recentPulse,h!=null?h:null)},N=[e,h,u],t[29]=e,t[30]=h,t[31]=u,t[32]=L,t[33]=N):(L=t[32],N=t[33]),$.useEffect(L,N);let w,I;t[34]!==c?(w=()=>{c&&j(!0)},I=[c],t[34]=c,t[35]=w,t[36]=I):(w=t[35],I=t[36]),$.useEffect(w,I);let M,O;t[37]!==g?(M=()=>{if(g){const V=window.setTimeout(()=>{j(!0)},300);return()=>window.clearTimeout(V)}},O=[g],t[37]=g,t[38]=M,t[39]=O):(M=t[38],O=t[39]),$.useEffect(M,O);const D=i==null?void 0:i.onboarding_config,W=D==null?void 0:D.title,ee=D==null?void 0:D.body,q=o&&!i&&a,J=!b&&!c&&(D||q),A=g||c||!D;let B;t[40]!==ee||t[41]!==g||t[42]!==q||t[43]!==J||t[44]!==W?(B=J&&l.jsx("div",{className:R("w-full transition-opacity duration-300 ease-in-out",g?"opacity-0":"opacity-100"),children:l.jsx(sl,{body:ee,imageUrls:el,showLoading:q,title:W})}),t[40]=ee,t[41]=g,t[42]=q,t[43]=J,t[44]=W,t[45]=B):B=t[45];let H;t[46]!==b||t[47]!==u||t[48]!==A?(H=u&&l.jsx("div",{className:R("w-full transition-opacity duration-300 ease-in-out",b?"":"absolute inset-0",A?"opacity-100":"pointer-events-none opacity-0"),children:l.jsx(Qe,{})}),t[46]=b,t[47]=u,t[48]=A,t[49]=H):H=t[49];let U;return t[50]!==B||t[51]!==H?(U=l.jsxs("div",{className:"align-center relative flex w-full flex-1 items-center justify-center",children:[B,H]}),t[50]=B,t[51]=H,t[52]=U):U=t[52],U}function sl(t){"use forget";const e=P.c(24),{body:s,imageUrls:i,showLoading:o,title:a}=t,n=$.useRef(null),r=$.useRef(null);let d;e[0]===Symbol.for("react.memo_cache_sentinel")?(d={firstRef:r,secondRef:n,firstSide:"top",secondSide:"top",threshold:50,absolute:!1},e[0]=d):d=e[0];const f=ls(d);if(o){let k;return e[1]===Symbol.for("react.memo_cache_sentinel")?(k=l.jsx("div",{className:"mx-auto flex w-full max-w-3xl grow flex-col px-8 py-12",children:l.jsx(Ge,{})}),e[1]=k):k=e[1],k}const c=f&&"sticky top-0";let m;e[2]!==c?(m=R("relative flex h-45 w-full items-center justify-center",c),e[2]=c,e[3]=m):m=e[3];let u;e[4]!==i?(u=i==null?void 0:i.map(ll),e[4]=i,e[5]=u):u=e[5];let x;e[6]!==u?(x=l.jsx(as,{images:u}),e[6]=u,e[7]=x):x=e[7];let p;e[8]!==m||e[9]!==x?(p=l.jsx("div",{className:m,ref:r,children:x}),e[8]=m,e[9]=x,e[10]=p):p=e[10];let h;e[11]!==a?(h=a!=null?a:l.jsx(z,Y({},Pe.title)),e[11]=a,e[12]=h):h=e[12];let g;e[13]!==h?(g=l.jsx("p",{className:"text-token-text-primary mt-8 max-w-124 text-xl font-medium",children:h}),e[13]=h,e[14]=g):g=e[14];let _;e[15]!==s?(_=s!=null?s:l.jsx(z,Y({},Pe.body)),e[15]=s,e[16]=_):_=e[16];let b;e[17]!==_?(b=l.jsx("p",{className:"text-token-text-primary text-md mt-3 mb-12 max-w-124 leading-relaxed",children:_}),e[17]=_,e[18]=b):b=e[18];let j;e[19]===Symbol.for("react.memo_cache_sentinel")?(j=l.jsx(Zs,{}),e[19]=j):j=e[19];let v;return e[20]!==b||e[21]!==p||e[22]!==g?(v=l.jsxs("div",{className:"relative mx-auto mb-30 flex w-full max-w-194 flex-1 flex-col items-center justify-center overflow-hidden px-4 py-6 text-center",children:[p,g,b,j]}),e[20]=b,e[21]=p,e[22]=g,e[23]=v):v=e[23],v}function ll(t){return $e(t)}const Pe=fe({title:{id:"O6/f3y",defaultMessage:"Your first Pulse is in the works"},body:{id:"/IPei+",defaultMessage:"Check back in about 30 minutes to see it all come together"}});function nl(){"use forget";const t=P.c(26),e=Q();let s;t[0]!==e?(s=()=>!cs(e),t[0]=e,t[1]=s):s=t[1];const i=G(s);let o;t[2]!==e?(o=ue(e,"4087025484"),t[2]=e,t[3]=o):o=t[3];const a=o;let n;t[4]!==e||t[5]!==a?(n=()=>a?de(e,{useCache:!1}):{data:void 0,isLoading:!1},t[4]=e,t[5]=a,t[6]=n):n=t[6];const{data:r,isLoading:d}=G(n),f=r==null?void 0:r.onboarding_status,c=!a&&!i||a&&!d&&f===ae.FINISHED_WITH_FEED;let m;t[7]===Symbol.for("react.memo_cache_sentinel")?(m=l.jsx(xs,{hideNewChat:!0}),t[7]=m):m=t[7];let u;t[8]===Symbol.for("react.memo_cache_sentinel")?(u=l.jsx("h1",{className:"text-lg font-normal",children:l.jsx(z,{id:"I1hXU9",defaultMessage:"Pulse"})}),t[8]=u):u=t[8];let x;t[9]!==e||t[10]!==c?(x=c&&l.jsx(gs,{onClick:()=>se(e).openFeedbackView()}),t[9]=e,t[10]=c,t[11]=x):x=t[11];let p;t[12]!==x?(p=l.jsx("div",{className:"h-header-height sticky top-0 z-10 flex shrink-0 items-center ps-6 pe-3",children:l.jsxs("div",{className:"flex grow items-center gap-2",children:[m,l.jsxs("div",{className:"flex w-full items-center justify-between",children:[u,x]})]})}),t[12]=x,t[13]=p):p=t[13];let h;t[14]!==a?(h=a&&l.jsx(tl,{}),t[14]=a,t[15]=h):h=t[15];let g;t[16]!==a||t[17]!==i?(g=!a&&(i?l.jsx(rs,{}):l.jsx(Qe,{})),t[16]=a,t[17]=i,t[18]=g):g=t[18];let _;t[19]!==h||t[20]!==g?(_=l.jsxs(Pt,{children:[h,g]}),t[19]=h,t[20]=g,t[21]=_):_=t[21];let b;t[22]===Symbol.for("react.memo_cache_sentinel")?(b=!1,t[22]=b):b=t[22];let j;return t[23]!==p||t[24]!==_?(j=l.jsxs("div",{className:"flex min-h-screen flex-col",children:[p,_,b]}),t[23]=p,t[24]=_,t[25]=j):j=t[25],j}function il(){"use forget";const t=P.c(14),e=Q();let s;t[0]!==e?(s=()=>ds(e),t[0]=e,t[1]=s):s=t[1];const i=G(s);let o;t[2]!==e?(o=ue(e,"4087025484"),t[2]=e,t[3]=o):o=t[3];const a=o;let n;t[4]!==e||t[5]!==a?(n=()=>de(e,{useCache:!a}),t[4]=e,t[5]=a,t[6]=n):n=t[6];const{data:r}=G(n),d=a&&(r==null?void 0:r.onboarding_status)===ae.NOT_STARTED,f=$.useRef(!1);let c,m;if(t[7]!==e||t[8]!==d?(c=()=>{!d||f.current||(f.current=!0,ms(e,{source:We.Url}),fs("/"))},m=[e,d],t[7]=e,t[8]=d,t[9]=c,t[10]=m):(c=t[9],m=t[10]),$.useEffect(c,m),i===void 0||d)return null;if(r===null&&a){let x;return t[11]===Symbol.for("react.memo_cache_sentinel")?(x=l.jsx(we,{to:"/",replace:!0}),t[11]=x):x=t[11],x}if(!i){let x;return t[12]===Symbol.for("react.memo_cache_sentinel")?(x=l.jsx(we,{to:"/",replace:!0}),t[12]=x):x=t[12],x}let u;return t[13]===Symbol.for("react.memo_cache_sentinel")?(u=l.jsx(ol,{}),t[13]=u):u=t[13],u}function ol(){"use forget";const t=P.c(1);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=l.jsx(al,{children:l.jsx(nl,{})}),t[0]=e):e=t[0],e}function al(t){"use forget";const e=P.c(12),{children:s}=t,i=Q();let o,a;e[0]!==i?(o=()=>()=>{se(i).clearState()},a=[i],e[0]=i,e[1]=o,e[2]=a):(o=e[1],a=e[2]),$.useEffect(o,a);let n;e[3]!==i?(n=It(i,us),e[3]=i,e[4]=n):n=e[4];const r=n;let d;e[5]===Symbol.for("react.memo_cache_sentinel")?(d=l.jsx(l.Fragment,{}),e[5]=d):d=e[5];let f;e[6]!==s||e[7]!==r?(f=l.jsx(st,{conversation:r,threadHeader:d,children:s}),e[6]=s,e[7]=r,e[8]=f):f=e[8];let c;return e[9]!==r||e[10]!==f?(c=l.jsx(Et.Provider,{value:r,children:f}),e[9]=r,e[10]=f,e[11]=c):c=e[11],c}const Al=()=>null,Rl=()=>!1,zl=tt(function(){return l.jsx(il,{})});export{Al as clientLoader,zl as default,Rl as shouldRevalidate};
//# sourceMappingURL=gtzjlw0cjc56vrbp.js.map
