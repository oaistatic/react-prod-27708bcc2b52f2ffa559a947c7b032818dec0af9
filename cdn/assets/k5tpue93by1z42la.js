var F=Object.defineProperty;var y=Object.getOwnPropertySymbols;var v=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable;var f=(o,s,e)=>s in o?F(o,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[s]=e,r=(o,s)=>{for(var e in s||(s={}))v.call(s,e)&&f(o,e,s[e]);if(y)for(var e of y(s))T.call(s,e)&&f(o,e,s[e]);return o};import{e as b,r as m,a as w,j as t,M as x}from"./fg33krlcm0qyi6yw.js";import{I as z,b as E,hG as I,ix as O,d as S,gE as k,C as N,gC as l,a9 as P,sk as Q,T as R,i7 as q}from"./mtk1qztvnb31pw5r.js";import{S as A}from"./jd69ff7by1jon8od.js";import"./mbql81gwv5du9dtu.js";import"./k65njl5wlgspihfr.js";import"./k43gn7pl526u53kc.js";import"./ck1u9icgxosmytry.js";import"./m89x2zftpo6hrypr.js";function V({gizmo:o,onClose:s,project:e}){var g;const C=b(),c=m.useRef(null),h=m.useCallback(()=>{var a;(a=c.current)==null||a.openFileDialog()},[c]),p=E(),i=z(p),u=w(),{data:d}=I(o.gizmo.id),n=d!=null?d:o,{canEdit:j}=O(n),M=S(()=>{var a;return(a=e==null?void 0:e.filesCount$())!=null?a:0});return m.useEffect(()=>{u.invalidateQueries({queryKey:k(u,n.gizmo.id).queryKey})},[n.gizmo.id,u]),t.jsx(t.Fragment,{children:t.jsx(N,{testId:"modal-project-files",className:"min-h-72 max-w-[820px]",isOpen:!0,showCloseButton:!0,hideSeparator:!0,noPadding:!0,size:"custom",type:"success",headerAccessory:j?t.jsx(P,{color:"secondary",onClick:h,disabled:(g=i&&M>=Q(p,i.planType))!=null?g:!1,children:t.jsx(x,r({},l.addFilesButtonLabel))}):t.jsx(R,{label:C.formatMessage(l.viewOnlyCustomInstructionsModalHeaderTooltip),side:"left",align:"center",children:t.jsxs("div",{className:"text-token-text-tertiary flex flex-row items-center gap-1.5 text-sm",children:[t.jsx(q,{className:"icon"}),t.jsx(x,r({},l.viewOnlyCustomInstructionsModalHeaderLabel))]})}),title:t.jsx(x,r({},l.projectFilesModalTitle)),onClose:()=>{s()},children:t.jsx("div",{className:"grid min-h-[50dvh] grow overflow-y-auto pt-0",children:i&&t.jsx(A,{ref:c,gizmo:n,accountPlanType:i.planType})})})})}export{V as ProjectFileModal};
//# sourceMappingURL=k5tpue93by1z42la.js.map
