var N=Object.defineProperty;var x=Object.getOwnPropertySymbols;var E=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable;var M=(a,i,t)=>i in a?N(a,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[i]=t,l=(a,i)=>{for(var t in i||(i={}))E.call(i,t)&&M(a,t,i[t]);if(x)for(var t of x(i))P.call(i,t)&&M(a,t,i[t]);return a};import{r as j,j as e,e as b,M as o,f as D}from"./fg33krlcm0qyi6yw.js";import{rL as L,R as u,rM as m,r1 as p,C as k,x as w,Y as c,p5 as T,aa as v,l as I}from"./mtk1qztvnb31pw5r.js";import{cL as A,ca as B}from"./k65njl5wlgspihfr.js";import{S as W}from"./bfdvajbdpswmwyn5.js";import{H as G}from"./o92vxzxwc8gk40ts.js";const h=({value:a,isSelected:i,onSelect:t,workspacePlanType:r})=>e.jsxs("button",{className:"mb-2 flex w-full cursor-pointer items-center justify-between outline-hidden lg:text-start",onClick:()=>t(a),children:[e.jsxs("div",{className:"flex items-center gap-2",children:[a==="transfer"?e.jsx(W,{className:"icon-sm"}):e.jsx(A,{className:"icon-sm"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold",children:a==="transfer"?e.jsx(o,l({},s.initialModalTransferLabel)):e.jsx(o,l({},s.initialModalExportLabel))}),e.jsx("div",{className:"text-token-text-secondary text-sm",children:a==="transfer"?T(r)?e.jsx(o,l({},s.initialModalTransferEduDetail)):e.jsx(o,l({},s.initialModalTransferEnterpriseDetail)):e.jsx(o,l({},s.initialModalExportDetail))})]})]}),e.jsx("div",{className:I({"flex h-4 w-4 shrink-0 rounded-full border align-middle":!0,"bg-black":i}),children:i&&e.jsx(B,{className:"m-auto h-3 w-3 scale-x-75 stroke-4 text-white"})})]}),S=({setCurrentStep:a,destinationWorkspaceName:i,destinationWorkspaceProfilePictureUrl:t,destinationWorkspacePlanType:r})=>{const[n,f]=j.useState(""),d=b(),y=async()=>{n==="transfer"?a(1):n==="export"&&a(2)},C=T(r)?d.formatMessage(s.initialModalEduTitle):d.formatMessage(s.initialModalEnterpriseTitle);return e.jsx(k,{testId:"modal-account-transfer",isOpen:!0,onClose:w,type:"warning",title:C,primaryButton:e.jsx(c,{title:d.formatMessage(s.initialModalConfirm),onClick:y,color:"primary",className:"ms-4"}),children:e.jsxs("div",{className:"flex flex-col items-center justify-center gap-4",children:[e.jsxs("div",{className:"flex w-full items-center gap-4",children:[e.jsx(v,{src:t,size:"large"}),e.jsx("div",{className:"font-semibold",children:i})]}),e.jsxs("div",{className:"pb-4",children:[e.jsx("h3",{className:"mb-2 text-base font-semibold",children:e.jsx(o,l({},s.initialModalExplanation))}),e.jsx("div",{className:"text-token-text-secondary mb-2 text-sm",children:e.jsx(o,l({},s.initialModalMustChoose))}),e.jsxs("ul",{className:"text-token-text-secondary list-disc ps-5 text-sm",children:[e.jsx("li",{className:"mb-2",children:e.jsx(o,l({},s.initialModalDataDelete))}),e.jsx("li",{children:e.jsx(o,l({},s.initialModalBilling))})]})]}),e.jsx(h,{value:"transfer",isSelected:n==="transfer",onSelect:f,workspacePlanType:r}),e.jsx(G,{}),e.jsx(h,{value:"export",isSelected:n==="export",onSelect:f,workspacePlanType:r})]})})},g=({currentStep:a,setCurrentStep:i,performAction:t})=>{const r=b();return e.jsx(k,{testId:"modal-account-transfer-selected",isOpen:!0,onClose:w,type:"success",title:r.formatMessage(s.selectedModalTitle),primaryButton:e.jsx(c,{title:a===1?r.formatMessage(s.transferModalConfirm):r.formatMessage(s.exportModalConfirm),color:a===2?"danger":"primary",onClick:t}),secondaryButton:e.jsx(c,{title:r.formatMessage(s.selectedModalBack),color:"secondary",onClick:async()=>{i(0)}}),children:e.jsxs("div",{className:"pb-4",children:[e.jsx("h3",{className:"mb-2 text-base font-semibold",children:a===1?e.jsx(o,l({},s.transferModalConfirmTitle)):e.jsx(o,l({},s.exportModalConfirmTitle))}),a===1?e.jsx("div",{className:"text-token-text-secondary text-sm",children:e.jsx(o,l({},s.transferModalConfirmLabel))}):e.jsxs("ul",{className:"text-token-text-secondary list-disc ps-5 text-sm",children:[e.jsx("li",{className:"mb-1",children:e.jsx(o,l({},s.exportModalChatHistoryLabel))}),e.jsx("li",{className:"mb-1",children:e.jsx(o,l({},s.exportModalDeleteLabel))}),e.jsx("li",{className:"mb-1",children:e.jsx(o,l({},s.exportModalChatDownloadLabel))})]}),e.jsx("h4",{className:"text-token-text-primary pt-5 font-semibold",children:a==1?e.jsx(o,l({},s.transferModalProceed)):e.jsx(o,l({},s.exportModalProceed))})]})})};function q(){const[a,i]=j.useState(0),t=L();if(!t)return null;switch(a){case 0:return e.jsx(S,{setCurrentStep:i,destinationWorkspaceName:t.destinationWorkspaceName,destinationWorkspaceProfilePictureUrl:t.destinationWorkspaceProfilePictureUrl,destinationWorkspacePlanType:t.destinationWorkspacePlanType});case 1:return e.jsx(g,{currentStep:a,setCurrentStep:i,performAction:async()=>{(await u.safePost("/accounts/transfer",{requestBody:{workspace_id:t.destinationWorkspaceId}})).success&&(m(t.destinationWorkspaceId),p())}});case 2:return e.jsx(g,{currentStep:a,setCurrentStep:i,performAction:async()=>{(await u.safePost("/accounts/export_and_deactivate")).success&&(m(t.destinationWorkspaceId),p())}})}}const s=D({initialModalEnterpriseTitle:{id:"initialModal.title",defaultMessage:"You've been added to a ChatGPT Enterprise workspace"},initialModalEduTitle:{id:"initialModal.eduTitle",defaultMessage:"You've been added to a ChatGPT Edu workspace"},initialModalExplanation:{id:"initialModal.explanation",defaultMessage:"What should we do with your existing workspace?"},initialModalMustChoose:{id:"initialModal.mustChoose",defaultMessage:"In order to join this new workspace, you must choose to either migrate or export your existing chat history."},initialModalDataDelete:{id:"initialModal.dataDelete",defaultMessage:"All Plugins and Custom Instructions in the existing workspace will be deleted."},initialModalBilling:{id:"initialModal.billing",defaultMessage:"If you have a ChatGPT Plus subscription, it will be canceled and refunded upon completing this step."},initialModalConfirm:{id:"initialModal.confirm",defaultMessage:"Continue"},initialModalTransferLabel:{id:"initialModal.transferLabel",defaultMessage:"Transfer existing chat history and GPTs"},initialModalTransferEnterpriseDetail:{id:"initialModal.initialModalTransferEnterpriseDetail",defaultMessage:"Merge into the Enterprise workspace"},initialModalTransferEduDetail:{id:"initialModal.initialModalTransferEduDetail",defaultMessage:"Merge into the Edu workspace"},initialModalExportLabel:{id:"initialModal.exportLabel",defaultMessage:"Export and delete existing chat history"},initialModalExportDetail:{id:"initialModal.exportDetail",defaultMessage:"Delete the existing workspace"},selectedModalTitle:{id:"selectedModal.title",defaultMessage:"Are you sure?"},selectedModalBack:{id:"selectedModal.back",defaultMessage:"Back"},transferModalConfirmTitle:{id:"transferModal.confirmTitle",defaultMessage:"Transferring chat history is permanent and can't be undone."},transferModalConfirmLabel:{id:"transferModal.confirmLabel",defaultMessage:"Your chat history and GPTs will be transferred to the new workspace and your existing workspace will be deleted."},transferModalConfirm:{id:"transferModal.confirm",defaultMessage:"Confirm transfer"},transferModalProceed:{id:"transferModal.proceed",defaultMessage:'To proceed, click "Confirm transfer" below.'},exportModalConfirmTitle:{id:"exportModal.confirmTitle",defaultMessage:"Deleting chat history is permanent and can't be undone."},exportModalChatHistoryLabel:{id:"exportModal.chatHistoryLabel",defaultMessage:"Your chat history will be included in the export."},exportModalDeleteLabel:{id:"exportModal.deleteLabel",defaultMessage:"Your GPTs, Plugins and Custom Instructions will be deleted."},exportModalChatDownloadLabel:{id:"exportModal.chatDownloadLabel",defaultMessage:"The data will be sent to your registered email in a downloadable file. The download link will expire 24 hours after you receive it."},exportModalConfirm:{id:"exportModal.confirm",defaultMessage:"Export and delete workspace"},exportModalProceed:{id:"exportModal.proceed",defaultMessage:'To proceed, click "Export and delete workspace" below.'}});export{q as default};
//# sourceMappingURL=bxyyslh6u3yzspeb.js.map
