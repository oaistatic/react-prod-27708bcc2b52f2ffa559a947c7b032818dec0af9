import{e as ge,j as o,M as re,d as he,c as be,r as u}from"./fg33krlcm0qyi6yw.js";import{m as ye,t8 as xe,C as je,M as ie,l as X}from"./mtk1qztvnb31pw5r.js";import{ia as ke,z as ve,ab as Ce,ac as Me,ib as Ae}from"./k65njl5wlgspihfr.js";import{u as Oe}from"./bmppzp3y84hr7irx.js";function Fe({gizmoId:d,onSuccess:e,onClose:f}){const p=ge(),M=ye(),n=xe(),g=async()=>{try{await n.mutateAsync({gizmoId:d}),e()}catch(w){M.danger(he({id:"QmcISs",defaultMessage:"Failed to delete GPT. Please try again."}),{toastId:"gizmo_editor_deletion_modal"})}};return o.jsx(je,{testId:"modal-gizmo-editor-deletion",isOpen:!0,onClose:f,type:"danger",title:o.jsx(re,{id:"shLmv5",defaultMessage:"Delete GPT"}),primaryButton:o.jsx(ie.Button,{title:p.formatMessage({id:"nlWRPu",defaultMessage:"Delete GPT"}),color:"danger",loading:n.isPending,onClick:()=>{g()}}),secondaryButton:o.jsx(ie.Button,{title:p.formatMessage({id:"D4IuIb",defaultMessage:"Cancel"}),color:"secondary",onClick:f}),children:o.jsx("div",{className:"text-sm",children:o.jsx(re,{id:"zIR+cK",defaultMessage:"Are you sure you want to delete this GPT? This cannot be undone."})})})}function Te(d){"use forget";var oe,ae;const e=be.c(63),{children:f,className:p,inputClassName:M,inputValue:n,label:g,name:w,onInputChange:L,placeholder:Y,popoverClassName:B,suggestions:s,onTabChange:A,RenderTab:D}=d,H=Y===void 0?g:Y;let I;e[0]!==s?(I=typeof s=="object"?Object.keys(s):[],e[0]=s,e[1]=I):I=e[1];const R=I,[Z,ce]=u.useState(R),[c,_]=u.useState(0);let N;e[2]!==A||e[3]!==s?(N=t=>{_(t);const l=Object.keys(s)[t];l&&(A==null||A(l))},e[2]=A,e[3]=s,e[4]=N):N=e[4];const m=N;(R.length!==Z.length||R.some((t,l)=>t!==Z[l]))&&(ce(R),_(0));const[a,h]=u.useState(-1),[V,O]=u.useState(!1);let z;e[5]!==s?(z=Array.isArray(s)?s.length>0:Object.values(s).some(De),e[5]=s,e[6]=z):z=e[6];const Q=z,r=Array.isArray(s)?s:s[(oe=Object.keys(s)[c])!=null?oe:Object.keys(s)[0]],i=u.useId(),ee=u.useRef(null),te=u.useRef(null),se=u.useRef(null);let S;e[7]!==n||e[8]!==L?(S=t=>{const l=t.target.value;l!==n&&(h(-1),L(l),O(!0))},e[7]=n,e[8]=L,e[9]=S):S=e[9];const U=S;let F;e[10]!==r||e[11]!==a||e[12]!==c||e[13]!==m||e[14]!==s?(F=t=>{t.key==="Escape"&&(t.preventDefault(),t.stopPropagation(),O(!1)),t.key==="Tab"&&O(!1),t.key==="ArrowDown"&&(t.preventDefault(),h((a+1)%r.length)),t.key==="ArrowUp"&&(t.preventDefault(),h((a-1+r.length)%r.length)),a>-1&&!Array.isArray(s)&&(t.key==="ArrowRight"&&(t.preventDefault(),m((c+1)%Object.keys(s).length),h(0)),t.key==="ArrowLeft"&&(t.preventDefault(),m((c-1+Object.keys(s).length)%Object.keys(s).length),h(0)),t.key==="Enter"&&(t.preventDefault(),r[a].onClick()))},e[10]=r,e[11]=a,e[12]=c,e[13]=m,e[14]=s,e[15]=F):F=e[15];const W=F;let T;e[16]!==f||e[17]!==Q||e[18]!==V||e[19]!==n?(T=(f!=null||n.trim()!==""&&Q)&&V,e[16]=f,e[17]=Q,e[18]=V,e[19]=n,e[20]=T):T=e[20];const b=T;let P;e[21]===Symbol.for("react.memo_cache_sentinel")?(P=[ee,te,se],e[21]=P):P=e[21];const ue=P;let G;e[22]===Symbol.for("react.memo_cache_sentinel")?(G=()=>{O(!1)},e[22]=G):G=e[22],Oe(ue,G);const $=((ae=r[a])==null?void 0:ae.id)!=null?i+r[a].id:void 0;let E;e[23]===Symbol.for("react.memo_cache_sentinel")?(E=()=>O(!0),e[23]=E):E=e[23];const q=a>-1;let y;e[24]!==p||e[25]!==i||e[26]!==M||e[27]!==n||e[28]!==b||e[29]!==g||e[30]!==w||e[31]!==U||e[32]!==W||e[33]!==H||e[34]!==$||e[35]!==q?(y=o.jsx(ke,{asChild:!0,children:o.jsx("div",{className:"relative z-10 grow",ref:ee,children:o.jsx(ve,{"aria-activedescendant":$,"aria-autocomplete":"none","aria-controls":i,"aria-expanded":b,ariaLabel:g,autoCapitalize:"off",autoComplete:"off",className:p,inputClassName:M,list:"suggested-choices",name:w,onChange:U,onFocus:E,onKeyDown:W,placeholder:H,role:"combobox",spellCheck:!1,suppressFocus:q,value:n})})}),e[24]=p,e[25]=i,e[26]=M,e[27]=n,e[28]=b,e[29]=g,e[30]=w,e[31]=U,e[32]=W,e[33]=H,e[34]=$,e[35]=q,e[36]=y):y=e[36];let x;e[37]!==B?(x=X("border-token-border-default bg-token-main-surface-secondary group-has-focus:border-token-border-xheavy relative -top-1 z-50 m-0 max-h-[calc(var(--radix-popper-available-height)-2rem)] w-[var(--radix-popper-anchor-width)] min-w-fit cursor-pointer overflow-y-auto rounded-lg rounded-t-none border border-t-0 px-1 py-1",B),e[37]=B,e[38]=x):x=e[38];let j;e[39]!==D||e[40]!==c||e[41]!==m||e[42]!==s?(j=!Array.isArray(s)&&o.jsx("div",{className:"mb-1 flex",role:"tablist",ref:se,children:Object.keys(s).map((t,l)=>o.jsx("button",{role:"tab",className:X("text-token-text-tertiary px-3 pb-2 text-xs font-bold",c===l?"border-b-2 font-bold":"hover:text-token-text-primary cursor-pointer font-semibold"),"aria-selected":c===l,onClick:()=>{m(l),h(0)},children:D?o.jsx(D,{tab:t}):t},t))}),e[39]=D,e[40]=c,e[41]=m,e[42]=s,e[43]=j):j=e[43];let k;if(e[44]!==r||e[45]!==i||e[46]!==a){let t;e[48]!==i||e[49]!==a?(t=(l,le)=>{const{id:ne,className:de,focusedClassName:fe,onClick:me,children:pe}=l;return o.jsx("li",{id:i+ne,role:"option",className:X(de,a===le&&fe),onClick:()=>{me()},"aria-selected":a===le,children:pe},ne)},e[48]=i,e[49]=a,e[50]=t):t=e[50],k=r.map(t),e[44]=r,e[45]=i,e[46]=a,e[47]=k}else k=e[47];let v;e[51]!==i||e[52]!==k?(v=o.jsx("ul",{id:i,role:"listbox",ref:te,children:k}),e[51]=i,e[52]=k,e[53]=v):v=e[53];const J=r.length===0&&f;let C;e[54]!==x||e[55]!==j||e[56]!==v||e[57]!==J?(C=o.jsx(Ce,{children:o.jsxs(Me,{className:x,onOpenAutoFocus:we,children:[j,v,J]})}),e[54]=x,e[55]=j,e[56]=v,e[57]=J,e[58]=C):C=e[58];let K;return e[59]!==b||e[60]!==y||e[61]!==C?(K=o.jsxs(Ae,{open:b,modal:!1,children:[y,C]}),e[59]=b,e[60]=y,e[61]=C,e[62]=K):K=e[62],K}function we(d){d.preventDefault()}function De(d){return d.length>0}export{Te as C,Fe as G};
//# sourceMappingURL=j41djqzgv0g1dtwh.js.map
