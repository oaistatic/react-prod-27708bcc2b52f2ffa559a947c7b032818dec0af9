var p=Object.defineProperty;var l=Object.getOwnPropertySymbols;var b=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable;var u=(e,t,i)=>t in e?p(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,a=(e,t)=>{for(var i in t||(t={}))b.call(t,i)&&u(e,i,t[i]);if(l)for(var i of l(t))g.call(t,i)&&u(e,i,t[i]);return e};import{r as f,v as C,u as j,j as o,M as s}from"./fg33krlcm0qyi6yw.js";import{ey as r,fz as c,cH as m,fA as n,fB as N}from"./k65njl5wlgspihfr.js";import{_ as B,cX as S}from"./mtk1qztvnb31pw5r.js";import{c as w}from"./lwurb2j1h4mmtrea.js";function R(){const[e,t]=f.useState(!1);f.useEffect(()=>{r.setSessionId(C()),r.logImpression()},[]);const{mutate:i,isPending:d}=j({mutationFn:w,onError:x=>{if(B.addError("Jawbone: Failed to create push subscription",{error:x}),Notification.permission==="denied"){c.clearNotificationRequest();return}t(!0)},onSuccess:()=>{c.clearNotificationRequest()}});return e?o.jsx(m,{icon:o.jsx(S,{}),isPrimaryCtaDisabled:!0,isSecondaryCtaDisabled:!0,type:"error",onDismiss:()=>{t(!1),r.logErrorDismissed(),c.clearNotificationRequest()},title:o.jsx(s,a({},n.notificationsDisabledBannerTitle)),content:o.jsx(s,a({},n.notificationsDisabledBannerContent))}):o.jsx(m,{icon:o.jsx(N,{}),primaryCtaText:o.jsx(s,a({},n.notificationsBannerAllow)),onPrimaryCtaClick:()=>{r.logAllow(),i()},isPrimaryCtaDisabled:d,secondaryCtaText:o.jsx(s,a({},n.notificationsBannerNotNow)),onSecondaryCtaClick:()=>{r.logNotNow(),c.clearNotificationRequest()},title:o.jsx(s,a({},n.notificationsBannerTitle)),content:o.jsx(s,a({},n.notificationsBannerContent))})}export{R as JawboneNotificationsBanner};
//# sourceMappingURL=m65szj0c1jdv28ro.js.map
