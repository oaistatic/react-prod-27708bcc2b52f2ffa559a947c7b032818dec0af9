var ye=Object.defineProperty,_e=Object.defineProperties;var je=Object.getOwnPropertyDescriptors;var ee=Object.getOwnPropertySymbols;var me=Object.prototype.hasOwnProperty,ue=Object.prototype.propertyIsEnumerable;var de=(n,e,t)=>e in n?ye(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ge=(n,e)=>{for(var t in e||(e={}))me.call(e,t)&&de(n,t,e[t]);if(ee)for(var t of ee(e))ue.call(e,t)&&de(n,t,e[t]);return n},pe=(n,e)=>_e(n,je(e));var he=(n,e)=>{var t={};for(var l in n)me.call(n,l)&&e.indexOf(l)<0&&(t[l]=n[l]);if(n!=null&&ee)for(var l of ee(n))e.indexOf(l)<0&&ue.call(n,l)&&(t[l]=n[l]);return t};import{c as te,j as a,e as Ae,r as p,M as xe}from"./fg33krlcm0qyi6yw.js";import{l as P,mv as be,aS as Se,en as we,oU as ve,c_ as Me,e as Ne,B as ke,uf as Pe}from"./mtk1qztvnb31pw5r.js";import{jR as Ce,ik as Ie,ij as Re,Y as Ee}from"./k65njl5wlgspihfr.js";function Te(n){"use forget";const e=te.c(5),{children:t,className:l}=n;let r;e[0]!==l?(r=P("flex flex-col gap-3",l),e[0]=l,e[1]=r):r=e[1];let s;return e[2]!==t||e[3]!==r?(s=a.jsx("section",{className:r,children:t}),e[2]=t,e[3]=r,e[4]=s):s=e[4],s}const ze=n=>{"use forget";const e=te.c(18),{pageIndex:t,pageCount:l,onPreviousPage:r,onNextPage:s}=n,o=Ae(),g=be(),m=Math.min(t,l-1);let c;e[0]===Symbol.for("react.memo_cache_sentinel")?(c=P("flex items-center gap-2",g?"hidden":"flex"),e[0]=c):c=e[0];let i;e[1]!==o?(i=o.formatMessage({id:"imagegen.actions.page.previous",defaultMessage:"Previous page"}),e[1]=o,e[2]=i):i=e[2];const x=m<=0;let h;e[3]===Symbol.for("react.memo_cache_sentinel")?(h=a.jsx(Ce,{className:"icon-sm"}),e[3]=h):h=e[3];let u;e[4]!==r||e[5]!==i||e[6]!==x?(u=a.jsx("button",{"aria-label":i,onClick:r,disabled:x,className:"border-token-border-heavy hover:bg-token-interactive-bg-tertiary-press bg-token-bg-primary flex size-9 items-center justify-center rounded-full border transition-colors disabled:cursor-not-allowed disabled:opacity-30",children:h}),e[4]=r,e[5]=i,e[6]=x,e[7]=u):u=e[7];let v;e[8]!==o?(v=o.formatMessage({id:"imagegen.actions.page.next",defaultMessage:"Next page"}),e[8]=o,e[9]=v):v=e[9];const y=m>=l-1;let N;e[10]===Symbol.for("react.memo_cache_sentinel")?(N=a.jsx(Se,{className:"icon-sm"}),e[10]=N):N=e[10];let f;e[11]!==s||e[12]!==v||e[13]!==y?(f=a.jsx("button",{"aria-label":v,onClick:s,disabled:y,className:"border-token-border-heavy bg-token-bg-primary hover:bg-token-interactive-bg-tertiary-press flex size-9 items-center justify-center rounded-full border transition-colors disabled:cursor-not-allowed disabled:opacity-30",children:N}),e[11]=s,e[12]=v,e[13]=y,e[14]=f):f=e[14];let b;return e[15]!==u||e[16]!==f?(b=a.jsxs("div",{className:c,children:[u,f]}),e[15]=u,e[16]=f,e[17]=b):b=e[17],b},Oe=n=>{"use forget";const e=te.c(57),{className:t,header:l,hideControls:r,items:s,onPredictPromptItem:o,onSelectPromptItem:g,onShowPromptItem:m,onEditPhoto:c,skeleton:i}=n,x=p.useRef(null),h=p.useRef(0),[u,v]=p.useState(0),[y,N]=p.useState(1);let f;e[0]===Symbol.for("react.memo_cache_sentinel")?(f=we(We),e[0]=f):f=e[0];const b=f;let j;e[1]!==s||e[2]!==i?(j=()=>i!=null?i:s===void 0||s.length===0,e[1]=s,e[2]=i,e[3]=j):j=e[3];const[A,D]=p.useState(j);let S;e[4]===Symbol.for("react.memo_cache_sentinel")?(S=()=>{const d=x.current;if(!d)return;const M=h.current,_=Math.max(Math.ceil(d.scrollWidth/M),1);p.startTransition(()=>{N(_),v(re=>Math.min(re,_-1))})},e[4]=S):S=e[4];const C=S;let I;e[5]===Symbol.for("react.memo_cache_sentinel")?(I=()=>{const d=x.current;if(!d)return;const M=h.current,_=Math.round(d.scrollLeft/M);p.startTransition(()=>{v(_)})},e[5]=I):I=e[5];const k=I;let w;e[6]===Symbol.for("react.memo_cache_sentinel")?(w=d=>{const M=x.current;if(!M)return;const _=h.current,re=Math.max(Math.ceil(M.scrollWidth/_)-1,0),fe=Math.max(0,Math.min(d,re));p.startTransition(()=>{v(fe)}),M.scrollTo({left:fe*_,behavior:b?"auto":"smooth"})},e[6]=w):w=e[6];const E=w;let R,H;e[7]!==s||e[8]!==i?(R=()=>{p.startTransition(()=>{D(i!=null?i:s===void 0||s.length===0)})},H=[s,i],e[7]=s,e[8]=i,e[9]=R,e[10]=H):(R=e[9],H=e[10]),p.useEffect(R,H);let K,Q;e[11]===Symbol.for("react.memo_cache_sentinel")?(K=()=>{if(be())return;const d=x.current;if(!(!d||typeof ResizeObserver>"u"))return Re({axis:"width",onChange:M=>{const{width:_}=M;h.current=Math.round(_),p.startTransition(()=>{C(),k()})},target:d})},Q=[C,k],e[11]=K,e[12]=Q):(K=e[11],Q=e[12]),p.useEffect(K,Q);const se=A&&"group skeleton";let T;e[13]!==t||e[14]!==se?(T=P("gap-4",se,t),e[13]=t,e[14]=se,e[15]=T):T=e[15];let z;e[16]!==A||e[17]!==y||e[18]!==u?(z=!A&&a.jsx("div",{className:"ms-auto",children:a.jsx(ze,{pageIndex:u,pageCount:y,onPreviousPage:()=>E(u-1),onNextPage:()=>E(u+1)})}),e[16]=A,e[17]=y,e[18]=u,e[19]=z):z=e[19];let O;e[20]!==l||e[21]!==z?(O=a.jsxs("div",{className:"flex items-center justify-between gap-4 pe-4",children:[l,z]}),e[20]=l,e[21]=z,e[22]=O):O=e[22];const ne=r?"hidden":"";let W;e[23]!==ne?(W=P("after:bg-token-border-heavy relative me-1 flex gap-3 after:absolute after:-end-4 after:top-0 after:h-full after:w-px after:content-['']",ne),e[23]=ne,e[24]=W):W=e[24];let q,J;e[25]===Symbol.for("react.memo_cache_sentinel")?(q=a.jsx(xe,{id:"imagegen.actions.edit_photo.label",defaultMessage:"Edit an image"}),J=a.jsx(Ee,{className:"icon size-6"}),e[25]=q,e[26]=J):(q=e[25],J=e[26]);let B;e[27]!==c?(B=a.jsx(ce,{label:q,content:J,type:"add-photo",onClick:c}),e[27]=c,e[28]=B):B=e[28];let $;e[29]!==W||e[30]!==B?($=a.jsx("div",{className:W,children:B}),e[29]=W,e[30]=B,e[31]=$):$=e[31];const le=A&&"group skeleton",oe=r?"mx-4":"px-4";let F;e[32]!==le||e[33]!==oe?(F=P(le,"-my-1.5 flex w-full flex-1 gap-3 overflow-clip overflow-x-auto overscroll-x-contain py-1.5 contain-layout contain-paint contain-style [overflow-clip-margin:6px] [scrollbar-width:none] max-md:mx-0 max-md:px-4",oe),e[32]=le,e[33]=oe,e[34]=F):F=e[34];const ae=A?"visible":"hidden";let X;e[35]===Symbol.for("react.memo_cache_sentinel")?(X=Array.from({length:10}).map(Be),e[35]=X):X=e[35];let G;e[36]!==ae?(G=a.jsx(p.Activity,{mode:ae,children:X}),e[36]=ae,e[37]=G):G=e[37];const ie=A?"hidden":"visible";let U;e[38]!==s||e[39]!==o||e[40]!==g||e[41]!==m?(U=s==null?void 0:s.map((d,M)=>{var _;return a.jsx(ce,{className:P("transition-discrete motion-safe:transition-opacity md:flex-none md:basis-[calc((100%-60px)/6)] starting:opacity-0"),label:d.title,onClick:()=>g==null?void 0:g(d),onMount:()=>m==null?void 0:m(d),onPredictClick:()=>o==null?void 0:o(d),content:a.jsx("img",{src:(_=d.image_url)!=null?_:"",alt:d.prompt_text,fetchPriority:M===0?"high":"auto",className:"aspect-square h-full w-full object-cover"}),type:"apply-style"},d.id)}),e[38]=s,e[39]=o,e[40]=g,e[41]=m,e[42]=U):U=e[42];let V;e[43]!==ie||e[44]!==U?(V=a.jsx(p.Activity,{mode:ie,children:U}),e[43]=ie,e[44]=U,e[45]=V):V=e[45];let L;e[46]!==F||e[47]!==G||e[48]!==V?(L=a.jsxs("div",{ref:x,onScrollEnd:k,className:F,children:[G,V]}),e[46]=F,e[47]=G,e[48]=V,e[49]=L):L=e[49];let Y;e[50]!==$||e[51]!==L?(Y=a.jsxs("div",{className:"flex justify-between gap-3",children:[$,L]}),e[50]=$,e[51]=L,e[52]=Y):Y=e[52];let Z;return e[53]!==T||e[54]!==O||e[55]!==Y?(Z=a.jsxs(Te,{className:T,children:[O,Y]}),e[53]=T,e[54]=O,e[55]=Y,e[56]=Z):Z=e[56],Z};function ce(n){"use forget";var R;const e=te.c(41);let t,l,r,s,o,g,m,c,i;e[0]!==n?(R=n,{className:l,content:r,label:s,onPredictClick:m,onClick:o,onMount:g,type:i,skeleton:c}=R,t=he(R,["className","content","label","onPredictClick","onClick","onMount","type","skeleton"]),e[0]=n,e[1]=t,e[2]=l,e[3]=r,e[4]=s,e[5]=o,e[6]=g,e[7]=m,e[8]=c,e[9]=i):(t=e[1],l=e[2],r=e[3],s=e[4],o=e[5],g=e[6],m=e[7],c=e[8],i=e[9]);const x=p.useRef(!1);let h,u;e[10]===Symbol.for("react.memo_cache_sentinel")?(h=Ne(),u=Me(),e[10]=h,e[11]=u):(h=e[10],u=e[11]);const v=u;let y;e[12]!==g?(y=()=>{g==null||g()},e[12]=g,e[13]=y):y=e[13],Ie(y);const N=c&&"pointer-events-none";let f;e[14]!==l||e[15]!==N?(f=P("group/button corner-superellipse/1.25 flex w-full min-w-24 flex-col gap-2.5 rounded-[14px] leading-tight outline-offset-4 outline-(--interactive-label-accent-default,var(--bg-primary-inverted)) select-none",N,l),e[14]=l,e[15]=N,e[16]=f):f=e[16];let b;e[17]!==o||e[18]!==m?(b=()=>{if(!v){ke(h,{fallbackScreenHint:"login_or_signup",skipLoginModal:!1,loginModalSubtitleVariant:"create-image"});return}if(ve()||Pe(h)){o==null||o();return}m==null||m(),x.current=!0},e[17]=o,e[18]=m,e[19]=b):b=e[19];let j;e[20]!==o?(j=()=>{x.current&&(x.current=!1,p.startTransition(()=>{o==null||o()}))},e[20]=o,e[21]=j):j=e[21];const A=c&&"skeleton-child skeleton-translucent",D=i==="apply-style"&&"motion-safe:group-hover/button:brightness-110";let S;e[22]!==A||e[23]!==D?(S=P("bg-token-interactive-bg-tertiary-hover corner-superellipse/1.25 group-hover/button:bg-token-interactive-bg-tertiary-press text-token-text-secondary ease-spring-elegant flex aspect-2/3 h-auto w-full origin-center items-center justify-center overflow-clip rounded-2xl duration-75 motion-safe:transition-[scale,filter] motion-safe:group-active/button:scale-98 max-md:w-24",A,D),e[22]=A,e[23]=D,e[24]=S):S=e[24];let C;e[25]!==r||e[26]!==S?(C=a.jsx("div",{className:S,children:r}),e[25]=r,e[26]=S,e[27]=C):C=e[27];const I=c&&"skeleton-child skeleton-translucent [line-height:1lh]";let k;e[28]!==I?(k=P("text-token-text-primary/50 line-clamp-2 w-full grow justify-self-center overflow-x-clip px-0.5 text-center text-[13px] font-[450] [text-box-trim:trim-both] dark:text-white/70",I),e[28]=I,e[29]=k):k=e[29];let w;e[30]!==s||e[31]!==k?(w=a.jsx("span",{className:k,children:s}),e[30]=s,e[31]=k,e[32]=w):w=e[32];let E;return e[33]!==t||e[34]!==c||e[35]!==C||e[36]!==w||e[37]!==f||e[38]!==b||e[39]!==j?(E=a.jsxs("button",pe(ge({type:"button"},t),{"aria-hidden":c,disabled:c,className:f,onClick:b,onTransitionEnd:j,children:[C,w]})),e[33]=t,e[34]=c,e[35]=C,e[36]=w,e[37]=f,e[38]=b,e[39]=j,e[40]=E):E=e[40],E}function We(){return ve()}function Be(n,e){return a.jsx(ce,{className:P("transition-discrete motion-safe:transition-opacity md:flex-none md:basis-[calc((100%-60px)/6)] starting:opacity-0"),skeleton:!0,label:a.jsx(xe,{id:"imagegen.actions.add_yourself.label",defaultMessage:"Add yourself"}),content:a.jsx("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/w8AAn8B9FY6SFwAAAAASUVORK5CYII=",alt:"",width:1024,height:1024,className:"invisible h-full w-full object-cover"}),type:"apply-style"},e)}const Ve=Object.freeze(Object.defineProperty({__proto__:null,ImageGenPromptItemCardRow:Oe},Symbol.toStringTag,{value:"Module"}));export{ze as I,Te as a,Oe as b,Ve as i};
//# sourceMappingURL=mftxtwm418nurv0b.js.map
