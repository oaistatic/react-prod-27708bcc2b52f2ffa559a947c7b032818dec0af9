var mt=Object.defineProperty,pt=Object.defineProperties;var ft=Object.getOwnPropertyDescriptors;var z=Object.getOwnPropertySymbols;var ht=Object.prototype.hasOwnProperty,kt=Object.prototype.propertyIsEnumerable;var I=(i,t,e)=>t in i?mt(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e,r=(i,t)=>{for(var e in t||(t={}))ht.call(t,e)&&I(i,e,t[e]);if(z)for(var e of z(t))kt.call(t,e)&&I(i,e,t[e]);return i},D=(i,t)=>pt(i,ft(t));import{c as xt,f as q,r as P,j as a,M as h}from"./fg33krlcm0qyi6yw.js";import{d as bt,dz as Mt,e as Lt,tv as _t,tx as At,mv as Bt,l as St,bg as R,a9 as F,B as V,P as k,$ as G,bv as Nt,C as Ct,mR as Ot,tD as Et,d8 as J,tB as Wt,tE as yt}from"./mtk1qztvnb31pw5r.js";import{g as H,L as K,a as wt}from"./k5o2uyubrehejlmi.js";import{G as vt,iE as jt,iD as Tt}from"./k65njl5wlgspihfr.js";import"./dpdobqk4g9a7rtiz.js";import"./ervoffyksiw5mef9.js";import"./cdscbhv4xu1gie74.js";import"./lim1lqburrpeu20v.js";import"./eryy8x9pwfrh26dy.js";const $={initial:{opacity:0,scale:.96},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.96},transition:{duration:.22,ease:[.4,0,.2,1]}},qt=i=>{"use forget";const t=xt.c(36),{onClose:e}=i,l=Lt(),Q=bt(Dt),B=vt(l,f.signUpCta),S=Q?"center":"bottom",{isOpen:c,onClose:o}=jt();let x;t[0]===Symbol.for("react.memo_cache_sentinel")?(x=Mt(),t[0]=x):x=t[0];const n=x,[X,N]=P.useState(!1);let b,M;t[1]!==n||t[2]!==c?(b=()=>{if(c){if(n){const u=setTimeout(()=>N(!0),3e3);return()=>clearTimeout(u)}N(!0)}else N(!1)},M=[c,n],t[1]=n,t[2]=c,t[3]=b,t[4]=M):(b=t[3],M=t[4]),P.useEffect(b,M);const{accountInfo:U}=Tt(),s=!!U&&!!U.user&&H(l)!==K.control;let L,_;t[5]!==s||t[6]!==c?(L=()=>{c&&(k.logEvent("No Auth Welcome Back Modal Shown",{isLogBackFormVisible:s}),G.logEvent("chatgpt_no_auth_welcome_back_modal_shown",null,{isLogBackFormVisible:s.toString()}))},_=[c,s],t[5]=s,t[6]=c,t[7]=L,t[8]=_):(L=t[7],_=t[8]),P.useEffect(L,_);const Z=_t();if(At()||!X)return null;const tt=u=>{k.logSwitchToGenericLoginOrSignup({location:"No Auth Welcome Back Modal"}),e(),Et(l,u)},d=s&&Bt(),C=()=>{Wt(l)&&(e(),o==null||o())},O=Ct,et="modal-no-auth-welcome-back",ot=!0,E=s?" ":null;let g;t[9]!==e||t[10]!==o?(g=()=>{e(),o==null||o()},t[9]=e,t[10]=o,t[11]=g):g=t[11];const W=u=>{yt(l)&&(u.preventDefault(),e(),o==null||o())},st=!0,at="rounded-full!",y=St("pb-0",d&&"pt-0 min-h-0!"),it="success",nt=!0,lt="custom",ct="max-w-[373px] sm:max-w-[388px]",rt="overflow-hidden",w=d?"z-50":void 0,ut="fit",v=d?"xlarge":void 0,j=Nt,dt="wait",gt=!1,T=s&&a.jsx(R.div,D(r({},$),{children:a.jsx(wt,{onSwitchToGenericLoginOrSignup:tt,isSsoOptionsVisible:H(l,{disableExposureLog:!0})===K.ssoExpanded,title:f.title2.defaultMessage,authorizationParams:Z,location:"Log Back In Modal"})}),"log-back");let m;t[12]!==l||t[13]!==n||t[14]!==s||t[15]!==e||t[16]!==o||t[17]!==B?(m=!s&&a.jsx(R.div,D(r({},$),{children:a.jsxs("div",{className:"flex flex-col items-center justify-center px-6 py-8 sm:p-10",children:[a.jsx("p",{className:"mb-1 text-center text-2xl font-semibold",children:a.jsx(h,r({},n?Y.title:f.title))}),a.jsx("p",{className:"text-token-text-secondary mb-6 text-center text-lg",children:a.jsx(h,r({},n?Y.subtitle:f.subtitle))}),a.jsx(F,{as:"button",size:"large",color:"primary",fullWidth:!0,className:"".concat(n?"":"mb-2 sm:mb-3"),"data-testid":"welcome-login-button",onClick:()=>{V(l,{fallbackScreenHint:"login",callback:Pt,skipLoginModal:!1})},children:a.jsx(h,r({},f.logInCta))}),!n&&a.jsx(F,{as:"button",size:"large",color:"secondary",fullWidth:!0,className:"mb-5",onClick:()=>{V(l,{fallbackScreenHint:"signup",callback:Ut,skipLoginModal:!1})},children:a.jsx(h,r({},B))}),!n&&a.jsx("a",{href:"#",className:"text-token-text-secondary cursor-pointer font-semibold underline sm:text-sm",onClick:u=>{u.preventDefault(),k.logEvent("No Auth Welcome Modal Stay Logged Out Link Clicked",{location:"No Auth Welcome Back Modal",isLogBackFormVisible:s}),G.logEvent("chatgpt_no_auth_welcome_back_modal_stay_logged_out_link_clicked",null,{isLogBackFormVisible:s.toString()}),e(),o==null||o()},"data-testid":"dismiss-welcome",children:a.jsx(h,r({},f.stayLoggedOutLink))})]})}),"control"),t[12]=l,t[13]=n,t[14]=s,t[15]=e,t[16]=o,t[17]=B,t[18]=m):m=t[18];let p;t[19]!==j||t[20]!==T||t[21]!==m?(p=a.jsxs(j,{mode:dt,initial:gt,children:[T,m]}),t[19]=j,t[20]=T,t[21]=m,t[22]=p):p=t[22];let A;return t[23]!==O||t[24]!==d||t[25]!==s||t[26]!==S||t[27]!==C||t[28]!==W||t[29]!==y||t[30]!==w||t[31]!==v||t[32]!==p||t[33]!==E||t[34]!==g?(A=a.jsx(O,{testId:et,isOpen:ot,title:E,onClose:g,onEscapeKeyDown:W,shouldIgnoreClickOutside:st,onPointerDownOutside:C,showCloseButton:s,closeButtonClassName:at,headerClassName:y,type:it,noPadding:nt,size:lt,className:ct,position:S,contentClassName:rt,contentSheetViewClassName:w,isBottomSheet:d,contentSize:ut,topMargin:v,children:p}),t[23]=O,t[24]=d,t[25]=s,t[26]=S,t[27]=C,t[28]=W,t[29]=y,t[30]=w,t[31]=v,t[32]=p,t[33]=E,t[34]=g,t[35]=A):A=t[35],A},f=q({title:{id:"NoAuthWelcomeBackModal.title",defaultMessage:"Welcome back"},subtitle:{id:"NoAuthWelcomeBackModal.subtitle",defaultMessage:"Log in or sign up to get smarter responses, upload files and images, and more."},title2:{id:"NoAuthWelcomeBackModal.title2",defaultMessage:"Log back in"},signUpCta:{id:"NoAuthWelcomeBackModal.signUpCta",defaultMessage:"Sign up"},logInCta:{id:"NoAuthWelcomeBackModal.logInCta",defaultMessage:"Log in"},stayLoggedOutLink:{id:"NoAuthWelcomeBackModal.stayLoggedOut",defaultMessage:"Stay logged out"}}),Y=q({title:{id:"NoAuthWelcomeBackModal.Desktop.title",defaultMessage:"Restoring your session"},subtitle:{id:"NoAuthWelcomeBackModal.Desktop.subtitle",defaultMessage:"Youâ€™ll be logged back in automatically. If not, you can log in below."}});function Dt(){return Ot()}function Pt(i){k.logLogInButtonClicked({provider:i,location:"No Auth Welcome Back Modal"},J.ACCESS_FLOW_ENTRY_POINT_NO_AUTH_WELCOME_BACK_MODAL)}function Ut(i){k.logSignUpButtonClicked({provider:i,location:"No Auth Welcome Back Modal"},J.ACCESS_FLOW_ENTRY_POINT_NO_AUTH_WELCOME_BACK_MODAL)}export{qt as NoAuthWelcomeBackModal};
//# sourceMappingURL=dxjfdnf0n7opciai.js.map
