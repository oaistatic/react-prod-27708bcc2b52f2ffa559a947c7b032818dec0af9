import{e as u,i as C,r as x,j as e,M as i}from"./fg33krlcm0qyi6yw.js";import{N as b,dl as j}from"./k65njl5wlgspihfr.js";import{b as y,ck as R,d as c,ga as v,ad as w,C as E,M as d}from"./mtk1qztvnb31pw5r.js";function D({title:t,memberCount:o,handleDeleteAndClose:a,onClose:n}){"use no forget";const s=u();return e.jsx(E,{testId:"modal-delete-group-chat-confirmation",isOpen:!0,onClose:()=>n(),type:"danger",title:s.formatMessage({id:"GH5Dwv",defaultMessage:"Delete group chat?"}),primaryButton:e.jsx(d.Button,{title:s.formatMessage({id:"mf2uvk",defaultMessage:"Delete"}),color:"danger",onClick:()=>{a()},"data-testid":"delete-group-chat-confirm-button"}),secondaryButton:e.jsx(d.Button,{title:s.formatMessage({id:"QFpPhw",defaultMessage:"Cancel"}),color:"secondary",onClick:()=>n()}),children:o===1?e.jsx(i,{id:"a/tRVb",defaultMessage:"This will delete {title}. Youâ€™ll no longer see the chat history, and no one else will be able to join.",values:{title:e.jsx("span",{className:"font-medium",children:t})}}):e.jsx(i,{id:"0esR03",defaultMessage:"This will delete {title} for all {memberCount} members. You and {memberCountExcludingCurrentUser, plural, one {the other member} other {the other # members}} will no longer see the chat history, and no one else will be able to join.",values:{title:e.jsx("span",{className:"font-medium",children:t}),memberCount:o,memberCountExcludingCurrentUser:o-1}})})}const B=({room:t,onClose:o})=>{"use no forget";const a=y(),n=b(a),s=u(),m=R(a),g=C(),f=c(()=>t.name$()),h=j()===t.id,r=x.useRef(!1),M=c(()=>t.members$().length);return e.jsx(D,{title:f,memberCount:M,handleDeleteAndClose:async()=>{var l;if(!r.current)try{r.current=!0,await n.deleteRoom$(t.id),h&&g("/"),o()}catch(p){m.danger((l=v(p))!=null?l:s.formatMessage(w.somethingWentWrong))}finally{r.current=!1}},onClose:o})};export{B as CalpicoDeleteChatConfirmationModalContainer};
//# sourceMappingURL=nujyfdxvqflp0wta.js.map
