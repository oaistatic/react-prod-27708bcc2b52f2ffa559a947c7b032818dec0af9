const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/k5tpue93by1z42la.js","assets/fg33krlcm0qyi6yw.js","assets/mtk1qztvnb31pw5r.js","assets/root-mcq3deyb.css","assets/jd69ff7by1jon8od.js","assets/mbql81gwv5du9dtu.js","assets/k65njl5wlgspihfr.js","assets/conversation-small-332fs9rk.css","assets/k43gn7pl526u53kc.js","assets/ck1u9icgxosmytry.js","assets/m89x2zftpo6hrypr.js","assets/m5vf7f4s5gmjwecq.js"])))=>i.map(i=>d[i]);
var kt=Object.defineProperty,It=Object.defineProperties;var Tt=Object.getOwnPropertyDescriptors;var vt=Object.getOwnPropertySymbols;var Ft=Object.prototype.hasOwnProperty,zt=Object.prototype.propertyIsEnumerable;var bt=(m,e,t)=>e in m?kt(m,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):m[e]=t,K=(m,e)=>{for(var t in e||(e={}))Ft.call(e,t)&&bt(m,t,e[t]);if(vt)for(var t of vt(e))zt.call(e,t)&&bt(m,t,e[t]);return m},Ue=(m,e)=>It(m,Tt(e));import{_ as Ct,c as B,j as l,r as R,M as Z,L as Lt,e as dt,b as At,i as Ot}from"./fg33krlcm0qyi6yw.js";import{bh as $t,rb as Ht,d as L,o as Ge,b as je,l as H,fN as Dt,I as Je,e1 as Rt,a9 as _t,ql as qt,rc as Bt,ra as wt,ix as Ut,iF as Mt,vj as Vt,vk as Gt,ui as Jt,gC as W,j$ as Wt,aX as Q,iW as Y,us as rt,dB as Xt,ck as Qt,mI as Kt,ib as Yt,qD as Zt,bX as es,oO as ts,en as ss,vl as St,vm as os,iz as ns,cU as Ve,vn as is,iC as ls,hd as as,iG as rs,b7 as ct,ga as cs}from"./mtk1qztvnb31pw5r.js";import{bX as ms,cH as Nt,pN as ds,c0 as fs,af as us,ag as gs,kU as ps,pO as xs,dX as mt,pP as hs,bT as js,bU as vs,bW as yt,pQ as Pt,pR as bs,pS as Ss,b_ as ys}from"./k65njl5wlgspihfr.js";import{D as Ps}from"./mbql81gwv5du9dtu.js";import{P as Cs}from"./dg5jraediw4l39ow.js";import{SnorlaxConversationItemOverflowMenu as $s,useProjectsDragDropWithTargetProject as _s}from"./o0e5tlgxm1k8ubzl.js";import{u as ws}from"./govwawj4ba48uv20.js";import{P as Ms,a as Ns}from"./ds5jluypo8l1qbwc.js";import"./k43gn7pl526u53kc.js";import"./hb1mva1gmw4bcs8w.js";import"./efooahjtdr85x1lo.js";import"./km71i01x6ma5r62b.js";const Es=$t(()=>Ct(()=>import("./k5tpue93by1z42la.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10])).then(m=>m.ProjectFileModal));function ks(m){"use forget";const e=B.c(11),{project:t,onNavigateToConversation:c}=m;Ht(t.id);let a;e[0]!==t?(a=()=>t.conversations$().all$(),e[0]=t,e[1]=a):a=e[1];const n=L(a);let s;e[2]!==t?(s=()=>t.conversations$().canShowConversations$(),e[2]=t,e[3]=s):s=e[3];const r=L(s);let f;e[4]!==r||e[5]!==n||e[6]!==c||e[7]!==t?(f=r&&l.jsx(Is,{items:n,project:t,onNavigateToConversation:c}),e[4]=r,e[5]=n,e[6]=c,e[7]=t,e[8]=f):f=e[8];let u;return e[9]!==f?(u=l.jsx("section",{children:f}),e[9]=f,e[10]=u):u=e[10],u}function Is(m){"use forget";var A,z;const e=B.c(47),{project:t,items:c,onNavigateToConversation:a}=m,n=je();let s;e[0]!==n?(s=Ge(n,"773249106"),e[0]=n,e[1]=s):s=e[1];const r=s;let f;e[2]!==t?(f=()=>t.conversations$().canFetchMore$(),e[2]=t,e[3]=f):f=e[3];const u=L(f);let p;e[4]!==t?(p=()=>t.gizmo$(),e[4]=t,e[5]=p):p=e[5];const g=L(p);let x;e[6]!==t?(x=()=>t.conversations$().awaitingManualRetry$(),e[6]=t,e[7]=x):x=e[7];const h=L(x);let C;e[8]!==t?(C=()=>t.conversations$().fetchMore$,e[8]=t,e[9]=C):C=e[9];const v=L(C);let $;e[10]!==t?($=()=>t.conversations$().cursor$(),e[10]=t,e[11]=$):$=e[11];const o=L($);let N;e[12]!==t?(N=()=>t.conversations$().isLoading$(),e[12]=t,e[13]=N):N=e[13];const i=L(N);let M;e[14]!==t?(M=()=>t.isShared$(),e[14]=t,e[15]=M):M=e[15];const E=L(M);let S;e[16]!==c||e[17]!==((A=g==null?void 0:g.gizmo)==null?void 0:A.author)?(S=c==null?void 0:c.some(D=>{var V,G;return"owner"in D&&((V=D.owner)==null?void 0:V.user_id)!==((G=g==null?void 0:g.gizmo)==null?void 0:G.author.user_id)}),e[16]=c,e[17]=(z=g==null?void 0:g.gizmo)==null?void 0:z.author,e[18]=S):S=e[18];const y=r&&(E||S),_=i&&"skeleton";let j;e[19]!==_?(j=H("divide-token-bg-tertiary group divide-y",_),e[19]=_,e[20]=j):j=e[20];let b;e[21]!==c||e[22]!==a||e[23]!==g||e[24]!==y?(b=g&&c&&c.map(D=>l.jsx("li",{className:"group/project-item hover:bg-token-interactive-bg-secondary-hover active:bg-token-interactive-bg-secondary-press flex min-h-16 cursor-pointer items-center p-3 text-sm select-none",children:l.jsx(Ls,{conversation:D,project:g,showAvatar:y!=null?y:!1,onNavigateToConversation:a})},D.id)),e[21]=c,e[22]=a,e[23]=g,e[24]=y,e[25]=b):b=e[25];let I;e[26]!==u||e[27]!==v||e[28]!==i?(I=!i&&u&&l.jsx(_t,{type:"button",onClick:v,className:"keyboard-not-focused:sr-only",children:l.jsx(Z,{id:"project.conversation-list.load-more",defaultMessage:"Load more conversations"})}),e[26]=u,e[27]=v,e[28]=i,e[29]=I):I=e[29];let d;e[30]!==h||e[31]!==t?(d=h&&l.jsx(Nt,{type:"normal",className:"mt-2",dangerCtaText:"Try again",onDangerCtaClick:()=>{t.conversations$().awaitingManualRetry$.set(!1)},content:l.jsx(Z,{id:"project.conversation-list.awaiting-manual-retry",defaultMessage:"Loading more conversations failed. Please try again."}),icon:l.jsx(ds,{className:"icon"})}),e[30]=h,e[31]=t,e[32]=d):d=e[32];let w;e[33]!==i?(w=i&&l.jsx(Ts,{}),e[33]=i,e[34]=w):w=e[34];let F;e[35]!==u||e[36]!==o||e[37]!==v?(F=l.jsx(zs,{canFetchMore:u,fetchMore:v},o),e[35]=u,e[36]=o,e[37]=v,e[38]=F):F=e[38];let T;return e[39]!==i||e[40]!==j||e[41]!==b||e[42]!==I||e[43]!==d||e[44]!==w||e[45]!==F?(T=l.jsxs("ol",{className:j,"aria-busy":i,children:[b,I,d,w,F]}),e[39]=i,e[40]=j,e[41]=b,e[42]=I,e[43]=d,e[44]=w,e[45]=F,e[46]=T):T=e[46],T}function Ts(){"use forget";const m=B.c(6),e=dt();let t;m[0]!==e?(t=()=>Array.from({length:2},(s,r)=>({id:r,title:e.formatMessage({id:"project.conversation-list.loading-title",defaultMessage:"Loading conversation title..."}),snippet:e.formatMessage({id:"project.conversation-list.loading-snippet",defaultMessage:"Loading conversation snippet..."})})),m[0]=e,m[1]=t):t=m[1];const[c]=R.useState(t);let a;m[2]!==c?(a=c.map(Fs),m[2]=c,m[3]=a):a=m[3];let n;return m[4]!==a?(n=l.jsx(l.Fragment,{children:a}),m[4]=a,m[5]=n):n=m[5],n}function Fs(m){return l.jsx("li",{className:"mt-1 flex min-h-15 items-center p-3 text-sm",inert:!0,"aria-hidden":!0,children:l.jsx(Et,{conversationTitle:m.title,showAvatar:!0,monogram:null,snippet:m.snippet,skeleton:!0})},m.id)}function zs(m){"use forget";const e=B.c(8),{canFetchMore:t,fetchMore:c}=m;let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a={threshold:1},e[0]=a):a=e[0];const[n,s]=ws(a);let r,f;if(e[1]!==t||e[2]!==c||e[3]!==n?(r=()=>{t&&n&&c()},f=[t,c,n],e[1]=t,e[2]=c,e[3]=n,e[4]=r,e[5]=f):(r=e[4],f=e[5]),R.useEffect(r,f),!t)return null;let u;return e[6]!==s?(u=l.jsx("div",{className:"min-h-0 w-full",inert:!0,ref:s}),e[6]=s,e[7]=u):u=e[7],u}const Ls=m=>{"use forget";var b,I;const e=B.c(36),{conversation:t,project:c,showAvatar:a,onNavigateToConversation:n}=m,s=(b=Dt(t.id,As))!=null?b:t.title,[r,f]=R.useState(!1);let u,p;e[0]!==t.id?(u=()=>qt(fs,{editTitleInMainScreen:d=>{const{serverThreadId:w}=d;w===t.id&&f(!0)}}),p=[t.id],e[0]=t.id,e[1]=u,e[2]=p):(u=e[1],p=e[2]),R.useEffect(u,p);const g=je(),{snippet:x}=t;let h,C,v,$,o;if(e[3]!==t||e[4]!==g||e[5]!==c.gizmo){const d=(I=Je(g))==null?void 0:I.normalizedAccountUserId;h="owner"in t?t.owner:null,$=h==null?void 0:h.user_id,C=h==null?void 0:h.name,v=h==null?void 0:h.user_email,o=Rt(t.id,{project:c.gizmo,ownerUserId:$,accountUserId:d}),e[3]=t,e[4]=g,e[5]=c.gizmo,e[6]=h,e[7]=C,e[8]=v,e[9]=$,e[10]=o}else h=e[6],C=e[7],v=e[8],$=e[9],o=e[10];const N=o;let i;e[11]!==t||e[12]!==r?(i=r?l.jsx(ms,{conversationId:t.id,historyConversationResponse:t,onClose:()=>{f(!1)}}):null,e[11]=t,e[12]=r,e[13]=i):i=e[13];let M;e[14]!==t||e[15]!==r?(M=!r&&l.jsx($s,{conversation:t,isNewProjectPage:!0}),e[14]=t,e[15]=r,e[16]=M):M=e[16];const E=x?!1:"snippet";let S;e[17]!==h||e[18]!==C||e[19]!==v||e[20]!==$?(S=h&&C&&$?{label:C,id:$,sublabel:v}:null,e[17]=h,e[18]=C,e[19]=v,e[20]=$,e[21]=S):S=e[21];let k;e[22]!==s||e[23]!==a||e[24]!==x||e[25]!==i||e[26]!==M||e[27]!==E||e[28]!==S?(k=l.jsx(Et,{conversationTitle:s,editor:i,overflowMenu:M,snippet:x,skeleton:E,showAvatar:a,monogram:S}),e[22]=s,e[23]=a,e[24]=x,e[25]=i,e[26]=M,e[27]=E,e[28]=S,e[29]=k):k=e[29];const y=k;if(r)return y;let _;e[30]!==n?(_=d=>{n==null||n(),(d.target instanceof HTMLElement&&d.target.dataset.preventDefault||d.target instanceof SVGElement)&&d.preventDefault()},e[30]=n,e[31]=_):_=e[31];let j;return e[32]!==y||e[33]!==N||e[34]!==_?(j=l.jsx(Lt,{to:N,draggable:!1,className:"w-full",onClick:_,children:y}),e[32]=y,e[33]=N,e[34]=_,e[35]=j):j=e[35],j};function Et({showAvatar:m,monogram:e,editor:t,overflowMenu:c,conversationTitle:a,skeleton:n,snippet:s}){return l.jsxs("div",{className:H("flex w-full items-center gap-4",n&&"group skeleton"),children:[m&&l.jsx(Bt,{monogram:e}),l.jsxs("div",{className:"grow overflow-hidden",children:[t||l.jsx("div",{className:H("text-sm font-medium",n===!0&&"skeleton-child w-fit min-w-[50%]"),children:a}),l.jsx("div",{className:H("text-token-text-secondary min-h-0 truncate text-sm",n&&"skeleton-child mt-px w-fit"),children:s})]}),c]})}function As(m){return m==null?void 0:m.title}const Os=3;function Hs(m){"use forget";var z,D;const e=B.c(47),{onRequestEdit:t,onRequestAddFiles:c,onRequestUpdateProject:a,projectData:n}=m,s=je(),r=R.use(wt),f=L(r.isSkeleton$),{canEdit:u}=Ut(n);let p;e[0]!==s?(p=(z=Je(s))==null?void 0:z.normalizedAccountUserId,e[0]=s,e[1]=p):p=e[1];const g=p,x=((D=n==null?void 0:n.gizmo.author)==null?void 0:D.user_id)===g;let h;e[2]!==r?(h=()=>{var V;return!!((V=r.conversations$().all$())!=null&&V.length)},e[2]=r,e[3]=h):h=e[3];const C=L(h);let v;e[4]!==r?(v=()=>r.title$(),e[4]=r,e[5]=v):v=e[5];const $=L(v);let o;e[6]!==s||e[7]!==n?(o=Mt(),e[6]=s,e[7]=n,e[8]=o):o=e[8];const N=o;let i;e[9]!==s||e[10]!==n?(i=Vt(),e[9]=s,e[10]=n,e[11]=i):i=e[11];const M=i;let E;e[12]!==s||e[13]!==n?(E=Gt(),e[12]=s,e[13]=n,e[14]=E):E=e[14];const S=E,k=f&&"group skeleton",y=!C&&"max-md:flex-1 max-md:flex-col max-md:items-center max-md:justify-center max-md:gap-1.5",_=C&&"max-md:flex-col max-md:gap-4";let j;e[15]!==k||e[16]!==y||e[17]!==_?(j=H("flex justify-between",k,y,_),e[15]=k,e[16]=y,e[17]=_,e[18]=j):j=e[18];let b;e[19]!==S||e[20]!==x||e[21]!==M||e[22]!==t||e[23]!==a||e[24]!==r?(b=l.jsx(qs,{canEditEmoji:x,canEditName:x,project:r,onRequestEdit:t,onRequestUpdateProject:a}),e[19]=S,e[20]=x,e[21]=M,e[22]=t,e[23]=a,e[24]=r,e[25]=b):b=e[25];const I=C?"max-md:w-full max-md:flex-col":"max-md:w-full max-md:flex-col max-md:items-center";let d;e[26]!==I?(d=H("flex items-start gap-2",I),e[26]=I,e[27]=d):d=e[27];let w;e[28]!==u||e[29]!==N||e[30]!==c||e[31]!==r||e[32]!==n?(w=!N&&l.jsx(Ds,{canEdit:u,project:r,projectData:n,onRequestAddFiles:c}),e[28]=u,e[29]=N,e[30]=c,e[31]=r,e[32]=n,e[33]=w):w=e[33];let F;e[34]!==u||e[35]!==f||e[36]!==r.id||e[37]!==$?(F=!1,e[34]=u,e[35]=f,e[36]=r.id,e[37]=$,e[38]=F):F=e[38];let T;e[39]!==d||e[40]!==w||e[41]!==F?(T=l.jsxs("div",{className:d,children:[w,F]}),e[39]=d,e[40]=w,e[41]=F,e[42]=T):T=e[42];let A;return e[43]!==j||e[44]!==b||e[45]!==T?(A=l.jsxs("div",{className:j,children:[b,T]}),e[43]=j,e[44]=b,e[45]=T,e[46]=A):A=e[46],A}function Ds(m){"use forget";var I;const e=B.c(26),{canEdit:t,project:c,projectData:a,onRequestAddFiles:n}=m,s=je(),{files:r}=a!=null?a:{},f=r===void 0?[]:r;let u,p,g;e[0]!==s||e[1]!==c.id?(u=Ge(s,"3681570957"),p=At,g=Jt({projectId:c.id,enabled:u}),e[0]=s,e[1]=c.id,e[2]=u,e[3]=p,e[4]=g):(u=e[2],p=e[3],g=e[4]);const{data:x,isPending:h}=p(g),C=L(c.isSkeleton$);let v;e[5]!==(x==null?void 0:x.items)||e[6]!==u?(v=u?(I=x==null?void 0:x.items)!=null?I:[]:[],e[5]=x==null?void 0:x.items,e[6]=u,e[7]=v):v=e[7];const $=v,o=u&&h,N=f.length+$.length,i=$.length>0,M=N>0;let E,S;if(!C&&!o&&!M&&!t)return null;if(o||!M){let d;e[8]!==t||e[9]!==a?(d=a?l.jsx(Z,K({},t?W.addFilesButtonLabel:W.viewFilesButtonLabel)):null,e[8]=t,e[9]=a,e[10]=d):d=e[10],E=d,S=null}else{const d=f.slice(0,Os),w=d.length>0,F=i?W.sourcesCount:W.filesCount;let T;e[11]!==N?(T={count:N},e[11]=N,e[12]=T):T=e[12];let A;e[13]!==F||e[14]!==T?(A=l.jsx(Z,Ue(K({},F),{values:T})),e[13]=F,e[14]=T,e[15]=A):A=e[15],E=A,S=w?l.jsx("div",{className:"isolate inline-flex items-center max-sm:sr-only",children:d.map((z,D)=>l.jsx(Rs,{file:z,index:D,gizmoId:a==null?void 0:a.gizmo.id},z.file_id))}):null}const k=C&&"skeleton-child w-20";let y;e[16]!==k?(y=H("max-md:w-fit",k,"group/project-control-tile"),e[16]=k,e[17]=y):y=e[17];const _=C&&"";let j;e[18]!==_?(j=H(_,"gap-1.5 text-token-text-secondary"),e[18]=_,e[19]=j):j=e[19];let b;return e[20]!==S||e[21]!==E||e[22]!==n||e[23]!==y||e[24]!==j?(b=l.jsxs(_t,{color:"secondary",onClick:n,className:y,contentWrapperClassName:j,children:[S,E]}),e[20]=S,e[21]=E,e[22]=n,e[23]=y,e[24]=j,e[25]=b):b=e[25],b}function Rs(m){"use forget";const e=B.c(20),{file:t,index:c,gizmoId:a}=m,n=t.name;let s;e[0]!==t.file_id||e[1]!==n?(s=Wt(n)&&t.file_id!=null,e[0]=t.file_id,e[1]=n,e[2]=s):s=e[2];const r=s;let f;e[3]!==t.file_id||e[4]!==n||e[5]!==a||e[6]!==r?(f=r&&l.jsx(ps,{fileName:n,fileId:t.file_id,gizmoId:a,className:"[box-shadow:0px_4px_16px_0px_rgba(0,0,0,0.05)]"}),e[3]=t.file_id,e[4]=n,e[5]=a,e[6]=r,e[7]=f):f=e[7];const u=f,p=c>0&&"-ms-2";let g;e[8]!==p?(g=H("border-token-bg-primary group-hover/project-control-tile:border-token-bg-tertiary relative size-5 overflow-hidden rounded-md border-2",p),e[8]=p,e[9]=g):g=e[9];const x=10-c;let h;e[10]!==x?(h={zIndex:x},e[10]=x,e[11]=h):h=e[11];let C;e[12]!==t.name||e[13]!==u?(C=u||l.jsx(xs,{className:"h-4 w-4 shrink-0 rounded-none [box-shadow:0px_4px_16px_0px_rgba(0,0,0,0.05)]",glyphClassName:"h-3 w-3",filename:t.name,contextConnectorInfo:void 0}),e[12]=t.name,e[13]=u,e[14]=C):C=e[14];let v;return e[15]!==t.file_id||e[16]!==g||e[17]!==h||e[18]!==C?(v=l.jsx("span",{className:g,style:h,children:C},t.file_id),e[15]=t.file_id,e[16]=g,e[17]=h,e[18]=C,e[19]=v):v=e[19],v}function qs(m){"use forget";const e=B.c(49),{canEditEmoji:t,canEditName:c,onRequestEdit:a,onRequestUpdateProject:n,project:s}=m;let r;e[0]!==s?(r=()=>s.theme$(),e[0]=s,e[1]=r):r=e[1];const f=mt(r);let u;e[2]!==s?(u=()=>s.emoji$(),e[2]=s,e[3]=u):u=e[3];const p=mt(u);let g;e[4]!==s?(g=()=>s.title$(),e[4]=s,e[5]=g):g=e[5];const x=mt(g);let h;e[6]!==s?(h=()=>s.status$(),e[6]=s,e[7]=h):h=e[7];const C=L(h),v=L(s.isSkeleton$),$=L(x),o=dt(),N=je();let i;e[8]!==N||e[9]!==p||e[10]!==s||e[11]!==f||e[12]!==x?(i=()=>{Y(()=>s.theme$(),z=>f.set(z)),Y(()=>s.emoji$(),z=>p.set(z)),Y(()=>s.title$(),z=>x.set(z)),Y(()=>f,z=>rt({ctx:N,id:s.id,theme:z()})),Y(()=>p,z=>rt({ctx:N,id:s.id,emoji:z()})),Y(()=>x,z=>rt({ctx:N,id:s.id,name:z()}))},e[8]=N,e[9]=p,e[10]=s,e[11]=f,e[12]=x,e[13]=i):i=e[13],R.useEffect(i);const M=C==="empty"?"max-md:flex-col":"";let E;e[14]!==M?(E=H("flex items-center gap-1.5 max-md:-translate-x-1",M),e[14]=M,e[15]=E):E=e[15];let S;e[16]!==p||e[17]!==n||e[18]!==f||e[19]!==x?(S=async(z,D)=>{!z&&D&&await(n==null?void 0:n({theme:f(),emoji:p(),name:x()}))},e[16]=p,e[17]=n,e[18]=f,e[19]=x,e[20]=S):S=e[20];const k=Q(S),y=!t;let _;e[21]!==p||e[22]!==s.isShared$||e[23]!==s.isSkeleton$||e[24]!==y||e[25]!==f?(_=l.jsx(Ms,{className:"ms-0! [--focus-outline-margin:-4px] disabled:cursor-default! disabled:opacity-100!",disabled:y,emoji$:p,isShared$:s.isShared$,isSkeleton$:s.isSkeleton$,theme$:f,size:"lg",strict:!0}),e[21]=p,e[22]=s.isShared$,e[23]=s.isSkeleton$,e[24]=y,e[25]=f,e[26]=_):_=e[26];let j;e[27]!==p||e[28]!==_||e[29]!==k||e[30]!==f?(j=l.jsx(Ns,{theme$:f,emoji$:p,onOpenChange:k,children:_}),e[27]=p,e[28]=_,e[29]=k,e[30]=f,e[31]=j):j=e[31];const b=!c,I=v&&"skeleton-child";let d;e[32]!==I?(d=H("min-w-0",I),e[32]=I,e[33]=d):d=e[33];let w;e[34]!==o||e[35]!==$?(w=o.formatMessage({id:"edit-title",defaultMessage:"Edit the title of {projectName}"},{projectName:$}),e[34]=o,e[35]=$,e[36]=w):w=e[36];let F;e[37]!==$?(F=l.jsx("h1",{className:"md:text-page-header text-balance [--text-lg--line-height:28px] [--text-lg:22px] max-md:text-lg max-md:font-normal",children:$}),e[37]=$,e[38]=F):F=e[38];let T;e[39]!==a||e[40]!==b||e[41]!==d||e[42]!==w||e[43]!==F?(T=l.jsx("button",{disabled:b,onClick:a,name:"project-title",className:d,"aria-label":w,children:F}),e[39]=a,e[40]=b,e[41]=d,e[42]=w,e[43]=F,e[44]=T):T=e[44];let A;return e[45]!==j||e[46]!==T||e[47]!==E?(A=l.jsxs("div",{className:E,children:[j,T]}),e[45]=j,e[46]=T,e[47]=E,e[48]=A):A=e[48],A}function Bs(m){"use forget";const e=B.c(39),{children:t,composer:c,composerLayout:a,disclaimer:n,postComposerContent:s,conversationsHeader:r,conversations:f,sizing:u,dragOverlay:p,status:g}=m,x=g==="has-conversations"?"top":"center",h=r?"bg-token-bg-primary":"content-fade-top",C=g==="empty"&&"items-center max-md:[align-items:unset] max-md:[--composer-container-flex:0] max-md:[--composer-container-height:auto]";let v;e[0]!==C?(v=H("flex min-h-full",C),e[0]=C,e[1]=v):v=e[1];const $=g!=="has-conversations"?"grid-rows-[1fr_minmax(0,180px)] max-md:grid-rows-[1fr_0]":"grid-rows-[auto_min-content_min-content]";let o;e[2]!==$?(o=H("grid h-full [width:min(90cqw,var(--thread-content-max-width))] flex-1",$),e[2]=$,e[3]=o):o=e[3];const N=g!=="empty"&&"gap-8 pb-6",i=x==="top"?"mt-13 self-start max-md:mt-0":"self-center max-md:h-full";let M;e[4]!==N||e[5]!==i?(M=H("flex min-w-0 flex-col",N,i),e[4]=N,e[5]=i,e[6]=M):M=e[6];const E=g==="empty"?"max-md:h-full max-md:justify-between md:gap-8":h;let S;e[7]!==E?(S=H("offset-padding-top-4 sticky top-0 z-10 flex flex-col gap-[inherit] max-md:top-0 md:[--offset-y-bottom:-30px]",E),e[7]=E,e[8]=S):S=e[8];let k;e[9]!==c||e[10]!==a?(k=a==="top"&&l.jsx(l.Fragment,{children:c}),e[9]=c,e[10]=a,e[11]=k):k=e[11];let y;e[12]!==t||e[13]!==r||e[14]!==s||e[15]!==k||e[16]!==S?(y=l.jsxs("div",{className:S,children:[t,k,s,r]}),e[12]=t,e[13]=r,e[14]=s,e[15]=k,e[16]=S,e[17]=y):y=e[17];let _;e[18]!==f||e[19]!==p||e[20]!==y||e[21]!==M?(_=l.jsxs("div",{className:M,children:[y,f,p]}),e[18]=f,e[19]=p,e[20]=y,e[21]=M,e[22]=_):_=e[22];let j;e[23]===Symbol.for("react.memo_cache_sentinel")?(j=l.jsx("div",{}),e[23]=j):j=e[23];let b;e[24]!==c||e[25]!==a||e[26]!==n||e[27]!==g?(b=(a==="bottom"||n)&&l.jsxs("div",{className:H("content-fade sticky flex w-full flex-col gap-1 [--content-fade-top:-15px] md:px-[60px]",a==="bottom"&&"[--composer-container-height:auto] [--content-fade-top:-40px] max-md:p-0 max-md:pb-1",n?g==="empty"?"bottom-0 max-md:pt-2 md:fixed md:start-0 md:end-0":"bottom-0":"before:bg-token-bg-primary relative bottom-2 p-2 before:absolute before:inset-0 before:top-full before:h-2 before:w-full before:content-['']"),children:[a==="bottom"&&c,n]}),e[24]=c,e[25]=a,e[26]=n,e[27]=g,e[28]=b):b=e[28];let I;e[29]!==_||e[30]!==b||e[31]!==o?(I=l.jsxs(gs,{className:o,children:[_,j,b]}),e[29]=_,e[30]=b,e[31]=o,e[32]=I):I=e[32];let d;e[33]!==u||e[34]!==I?(d=l.jsx(us,Ue(K({verticalMargin:"none",verticalPadding:"none",horizontalPadding:"standard"},u),{children:I})),e[33]=u,e[34]=I,e[35]=d):d=e[35];let w;return e[36]!==d||e[37]!==v?(w=l.jsx("div",{className:v,children:d}),e[36]=d,e[37]=v,e[38]=w):w=e[38],w}const Us=$t(()=>Ct(()=>import("./m5vf7f4s5gmjwecq.js"),__vite__mapDeps([11,1,2,3,6,7])).then(m=>m.ProjectJoinModal));function co(m){"use forget";var ut,gt,pt,xt,ht,jt;const e=B.c(166),{clientThreadId:t,gizmoId:c,currentModelId:a,onRequestCompletion:n}=m,s=je();let r;e[0]!==t||e[1]!==s?(r=Xt(s,t),e[0]=t,e[1]=s,e[2]=r):r=e[2];const f=r,u=dt(),p=Je(s);let g;e[3]!==s?(g=Qt(s),e[3]=s,e[4]=g):g=e[4];const x=g,h=Kt(),C=L(Gs),v=Ot();let $;e[5]!==s||e[6]!==c?($=Yt(s,c),e[5]=s,e[6]=c,e[7]=$):$=e[7];const o=$;let N;e[8]!==o?(N=()=>o.serverState$().data,e[8]=o,e[9]=N):N=e[9];const i=L(N);let M;e[10]!==o?(M=()=>o.status$(),e[10]=o,e[11]=M):M=e[11];const E=L(M);let S;e[12]!==s||e[13]!==i?(S=Mt(),e[12]=s,e[13]=i,e[14]=S):S=e[14];const k=S;let y;e[15]!==o?(y=()=>o.isShared$(),e[15]=o,e[16]=y):y=e[16];const _=L(y);let j;e[17]!==s?(j=(gt=(ut=Zt(s))==null?void 0:ut.user)==null?void 0:gt.email,e[17]=s,e[18]=j):j=e[18];const b=j;let I;e[19]!==s?(I=(pt=Je(s))==null?void 0:pt.normalizedAccountUserId,e[19]=s,e[20]=I):I=e[20];const d=I;let w;e[21]!==o||e[22]!==i||e[23]!==b||e[24]!==d?(w=()=>!d||!b||!i||ss(()=>o.serverState$().isFetching)?!1:!St({gizmo:i,user_id:d}),e[21]=o,e[22]=i,e[23]=b,e[24]=d,e[25]=w):w=e[25];const[F,T]=R.useState(w);let A;e[26]!==s||e[27]!==i?(A=os(),e[26]=s,e[27]=i,e[28]=A):A=e[28];const z=A,D=Ge(s,"773249106");let V;e[29]!==o.lastScrollPosition$?(V=()=>{var O;const P=document.querySelector("main");o.lastScrollPosition$.set((O=P==null?void 0:P.scrollTop)!=null?O:null)},e[29]=o.lastScrollPosition$,e[30]=V):V=e[30];const G=V;let ve,be;e[31]!==o||e[32]!==G?(ve=()=>{var he;const P=new AbortController,O=o.lastScrollPosition$();o.lastScrollPosition$.set(null);const U=document.querySelector("main");return O!=null&&U&&(U.scrollTop=O,U.focus()),"navigation"in window&&((he=window.navigation)==null||he.addEventListener("navigate",()=>G(),{signal:P.signal})),()=>{P.abort()}},be=[o,G],e[31]=o,e[32]=G,e[33]=ve,e[34]=be):(ve=e[33],be=e[34]),R.useEffect(ve,be);let Se;e[35]!==n?(Se=P=>{n(js(P))},e[35]=n,e[36]=Se):Se=e[36];const We=Q(Se);let ye;e[37]!==n?(ye=async P=>{const O=await vs(P);n(O)},e[37]=n,e[38]=ye):ye=e[38];const Xe=Q(ye);let Pe;e[39]!==s||e[40]!==u||e[41]!==o||e[42]!==i?(Pe=()=>{if(!i)return;ns(s)?Ve(s,yt,{submitButtonTitle:u.formatMessage(W.projectSettingsSubmitButton),gizmo:i,project:o}):Ve(s,Es,{gizmo:i,project:o})},e[39]=s,e[40]=u,e[41]=o,e[42]=i,e[43]=Pe):Pe=e[43];const Qe=Q(Pe);let Ce;e[44]!==Qe?(Ce=()=>{Qe()},e[44]=Qe,e[45]=Ce):Ce=e[45];const Ke=Q(Ce),Ye=!(p&&!p.isSelfServeBusiness()&&!p.isEnterprisey());let $e;e[46]!==s?($e=Ge(s,"4204160810"),e[46]=s,e[47]=$e):$e=e[47];const _e=$e;let we;e[48]!==o?(we=()=>{var P;return!!((P=o.conversations$().all$())!=null&&P.length)},e[48]=o,e[49]=we):we=e[49];const ft=L(we),[Ze,Me]=R.useState(!1),{onDropConversation:et,canDropConversation:J}=_s(void 0,i),tt=L(o.gizmo$);let Ne;e[50]!==o?(Ne=()=>is(o)(),e[50]=o,e[51]=Ne):Ne=e[51];const ee=L(Ne);let Ee;e[52]!==o?(Ee=()=>ls(o)(),e[52]=o,e[53]=Ee):Ee=e[53];const X=L(Ee)&&!k,q=tt!=null?tt:i;let ke;e[54]!==s||e[55]!==q?(ke=()=>{q&&Ve(s,Pt,{gizmo:rs(q),publishedGizmo:q,onClose:()=>as(s,Pt)})},e[54]=s,e[55]=q,e[56]=ke):ke=e[56];const te=Q(ke);let Ie;e[57]===Symbol.for("react.memo_cache_sentinel")?(Ie=[],e[57]=Ie):Ie=e[57],R.useEffect(Vs,Ie);let Te,Fe;e[58]!==h?(Te=()=>{const P=bs(h),O=P();return P.set(!0),()=>{P.set(O)}},Fe=[h],e[58]=h,e[59]=Te,e[60]=Fe):(Te=e[59],Fe=e[60]),R.useEffect(Te,Fe);let ze;e[61]!==te||e[62]!==ee||e[63]!==o.mobileHeaderState$||e[64]!==q||e[65]!==X?(ze=()=>{if(!X||!q){o.mobileHeaderState$.set(null);return}return o.mobileHeaderState$.set({hasOtherMembers$:ct(()=>ee),canShare$:ct(()=>X),onShare$:ct(()=>X&&q?te:null)}),()=>{o.mobileHeaderState$.set(null)}},e[61]=te,e[62]=ee,e[63]=o.mobileHeaderState$,e[64]=q,e[65]=X,e[66]=ze):ze=e[66];let Le;e[67]!==te||e[68]!==ee||e[69]!==o||e[70]!==q||e[71]!==X?(Le=[te,ee,o,q,X],e[67]=te,e[68]=ee,e[69]=o,e[70]=q,e[71]=X,e[72]=Le):Le=e[72],R.useEffect(ze,Le);let Ae;e[73]!==s||e[74]!==u||e[75]!==o||e[76]!==i?(Ae=()=>{i&&Ve(s,yt,{submitButtonTitle:u.formatMessage(W.projectSettingsSubmitButton),gizmo:i,project:o,autoFocusProjectName:!0})},e[73]=s,e[74]=u,e[75]=o,e[76]=i,e[77]=Ae):Ae=e[77];const st=Q(Ae);let Oe;e[78]!==o||e[79]!==x?(Oe=async P=>{try{await o.queueUpdate$(P)}catch(O){const he=cs(O);x==null||x.warning(he!=null?he:"Error",{duration:5,hasCloseButton:!0})}},e[78]=o,e[79]=x,e[80]=Oe):Oe=e[80];const ot=Q(Oe);let He;e[81]!==o||e[82]!==T||e[83]!==d?(He=()=>{if(d)return Y(()=>({data:o.serverState$().data,isFetching:o.serverState$().isFetching}),P=>{const{data:O,isFetching:U}=P;O&&!U&&!St({gizmo:O,user_id:d})&&T(!0)})},e[81]=o,e[82]=T,e[83]=d,e[84]=He):He=e[84];let De;if(e[85]!==o||e[86]!==b||e[87]!==d?(De=[d,b,o],e[85]=o,e[86]=b,e[87]=d,e[88]=De):De=e[88],R.useEffect(He,De),F&&i&&D){let P;e[89]!==v?(P=()=>v("/"),e[89]=v,e[90]=P):P=e[90];let O;e[91]!==T?(O=()=>T(!1),e[91]=T,e[92]=O):O=e[92];let U;return e[93]!==i||e[94]!==P||e[95]!==O?(U=l.jsx(Us,{onClose:P,onJoinProjectSuccess:O,projectData:i}),e[93]=i,e[94]=P,e[95]=O,e[96]=U):U=e[96],U}let Re;e[97]!==((xt=i==null?void 0:i.gizmo)==null?void 0:xt.conversation_copy_in_progress)?(Re=((ht=i==null?void 0:i.gizmo)==null?void 0:ht.conversation_copy_in_progress)===!0?l.jsx(Nt,{type:"info",content:l.jsx(Z,K({},W.projectCopyInProgressBanner)),icon:l.jsx(es,{className:"text-token-text-secondary h-5 w-5"})}):null,e[97]=(jt=i==null?void 0:i.gizmo)==null?void 0:jt.conversation_copy_in_progress,e[98]=Re):Re=e[98];const nt=Re,it=E==="empty"||C?"top":"bottom";let se;e[99]!==k||e[100]!==i||e[101]!==_e?(se=!1,e[99]=k,e[100]=i,e[101]=_e,e[102]=se):se=e[102];let oe;e[103]!==ft||e[104]!==k||e[105]!==i||e[106]!==_e?(oe=!1,e[103]=ft,e[104]=k,e[105]=i,e[106]=_e,e[107]=oe):oe=e[107];let ne;e[108]!==o||e[109]!==G?(ne=l.jsx(ks,{project:o,onNavigateToConversation:G}),e[108]=o,e[109]=G,e[110]=ne):ne=e[110];let ie;e[111]!==oe||e[112]!==ne?(ie=l.jsxs("div",{children:[oe,ne]}),e[111]=oe,e[112]=ne,e[113]=ie):ie=e[113];let le;e[114]!==c||e[115]!==k||e[116]!==_?(le=!1,e[114]=c,e[115]=k,e[116]=_,e[117]=le):le=e[117];let qe;e[118]!==se||e[119]!==ie||e[120]!==le?(qe=l.jsxs("div",{className:"flex flex-col gap-4",children:[se,ie,le]}),e[118]=se,e[119]=ie,e[120]=le,e[121]=qe):qe=e[121];const lt=qe,at=Bs;let ae;e[122]!==J?(ae=P=>{P.preventDefault(),J&&Me(!0)},e[122]=J,e[123]=ae):ae=e[123];let re;e[124]!==J||e[125]!==et?(re=P=>{P.preventDefault(),J&&(Me(!1),et())},e[124]=J,e[125]=et,e[126]=re):re=e[126];let ce,me;e[127]!==J?(ce=P=>{P.preventDefault(),J&&Me(!0)},me=P=>{P.preventDefault(),J&&Me(!1)},e[127]=J,e[128]=ce,e[129]=me):(ce=e[128],me=e[129]);let de;e[130]!==f||e[131]!==a||e[132]!==We||e[133]!==Xe?(de=l.jsx(Cs,{conversation:f,currentModelId:a,hideHeader:!0,isProjectThread:!0,isNewThread:!0,layoutMode:"center",onContinueGenerating:We,onRequestCompletion:Xe}),e[130]=f,e[131]=a,e[132]=We,e[133]=Xe,e[134]=de):de=e[134];let fe;e[135]!==t||e[136]!==Ye?(fe=Ye&&l.jsx("div",{className:"text-token-text-secondary flex w-full items-center justify-center text-center text-xs text-pretty md:pb-0.5",children:l.jsx(Ss,{clientThreadId:t})}),e[135]=t,e[136]=Ye,e[137]=fe):fe=e[137];let ue;e[138]!==Ze||e[139]!==i?(ue=Ze&&l.jsx(Js,{gizmo:i}),e[138]=Ze,e[139]=i,e[140]=ue):ue=e[140];let ge;e[141]!==Ke||e[142]!==st||e[143]!==ot||e[144]!==i?(ge=l.jsx(Hs,{projectData:i,onRequestEdit:st,onRequestAddFiles:Ke,onRequestUpdateProject:ot}),e[141]=Ke,e[142]=st,e[143]=ot,e[144]=i,e[145]=ge):ge=e[145];let pe;e[146]!==at||e[147]!==it||e[148]!==lt||e[149]!==z||e[150]!==nt||e[151]!==E||e[152]!==de||e[153]!==fe||e[154]!==ue||e[155]!==ge?(pe=l.jsx(at,{status:E,composerLayout:it,composer:de,disclaimer:fe,postComposerContent:nt,conversationsHeader:null,conversations:lt,dragOverlay:ue,projectType:z,children:ge}),e[146]=at,e[147]=it,e[148]=lt,e[149]=z,e[150]=nt,e[151]=E,e[152]=de,e[153]=fe,e[154]=ue,e[155]=ge,e[156]=pe):pe=e[156];let xe;e[157]!==ae||e[158]!==re||e[159]!==ce||e[160]!==me||e[161]!==pe?(xe=l.jsx("div",{onDragOver:ae,onDrop:re,onDragEnter:ce,onDragLeave:me,children:pe}),e[157]=ae,e[158]=re,e[159]=ce,e[160]=me,e[161]=pe,e[162]=xe):xe=e[162];let Be;return e[163]!==o||e[164]!==xe?(Be=l.jsx(wt,{value:o,children:xe}),e[163]=o,e[164]=xe,e[165]=Be):Be=e[165],Be}function Vs(){hs()}function Gs(){return ts()}function Js(m){"use forget";var f;const e=B.c(6),{gizmo:t}=m;let c;e[0]===Symbol.for("react.memo_cache_sentinel")?(c=l.jsx(ys,{className:"h-12 w-12",style:{color:"var(--icon-accent)"}}),e[0]=c):c=e[0];const a=(f=t==null?void 0:t.gizmo.display.name)!=null?f:"project";let n;e[1]!==a?(n=l.jsx("h3",{className:"text-center",children:l.jsx(Z,Ue(K({},W.moveConversationToNamedProject),{values:{projectName:a}}))}),e[1]=a,e[2]=n):n=e[2];let s;e[3]===Symbol.for("react.memo_cache_sentinel")?(s=l.jsx("h4",{className:"text-center",children:l.jsx(Z,K({},W.moveConversation))}),e[3]=s):s=e[3];let r;return e[4]!==n?(r=l.jsxs(Ps,{children:[c,n,s]}),e[4]=n,e[5]=r):r=e[5],r}export{co as ProjectHomePage};
//# sourceMappingURL=evsh0yx8km5o6z99.js.map
