import{c as I,r as x,j as g,e as j}from"./fg33krlcm0qyi6yw.js";import{lt as E}from"./mtk1qztvnb31pw5r.js";import{gc as S,gd as k,ge as C,gf as F}from"./k65njl5wlgspihfr.js";import{trackWidgetFeedbackShown as M,trackWidgetFeedback as T}from"./hbcazfftvcth68xe.js";const W=u=>!(u.isError||!u.isComplete||u.distributionChannel===E.ONLY_ME),P=u=>{"use forget";const e=I.c(18),{chatSDK:o,conversationId:i}=u,[c,m]=x.useState(!1),{widgetId:a,widgetType:l,metadata:s,distributionChannel:r}=o,d=s.hide_widget_attribution;let n;e[0]!==i||e[1]!==r||e[2]!==s.attribution_id||e[3]!==s.suggestion_message_id||e[4]!==a||e[5]!==l?(n=s.attribution_id?{attribution_id:s.attribution_id,name:l,conversation_id:i!=null?i:"",message_id:a,suggestion_message_id:s.suggestion_message_id,distribution_channel:r}:null,e[0]=i,e[1]=r,e[2]=s.attribution_id,e[3]=s.suggestion_message_id,e[4]=a,e[5]=l,e[6]=n):n=e[6];const t=n;let b;e[7]!==t||e[8]!==o||e[9]!==d||e[10]!==c?(b=W(o)&&!c&&t&&!d,e[7]=t,e[8]=o,e[9]=d,e[10]=c,e[11]=b):b=e[11];const f=b;let _,h;if(e[12]!==t||e[13]!==f?(_=()=>{f&&M(t)},h=[f,t],e[12]=t,e[13]=f,e[14]=_,e[15]=h):(_=e[14],h=e[15]),x.useEffect(_,h),!f)return null;let p;if(e[16]!==t){const y=w=>{T(t,w),t&&F({rating:w,conversationId:t.conversation_id,messageId:t.message_id,suggestionMessageId:t.suggestion_message_id,attributionId:t.attribution_id,widgetType:t.name}),m(!0)};p=g.jsx(A,{onSubmit:y}),e[16]=t,e[17]=p}else p=e[17];return p},A=u=>{"use forget";const e=I.c(19),{onSubmit:o}=u,i=j();let c;e[0]===Symbol.for("react.memo_cache_sentinel")?(c=g.jsx(S,{}),e[0]=c):c=e[0];let m;e[1]!==o?(m=()=>o("thumbsUp"),e[1]=o,e[2]=m):m=e[2];let a;e[3]!==i?(a=i.formatMessage({id:"wzblaA",defaultMessage:"Thumbs up"}),e[3]=i,e[4]=a):a=e[4];let l;e[5]!==m||e[6]!==a?(l=g.jsx(k,{className:"h-7! w-7!",icon:c,onClick:m,label:a}),e[5]=m,e[6]=a,e[7]=l):l=e[7];let s;e[8]===Symbol.for("react.memo_cache_sentinel")?(s=g.jsx(C,{}),e[8]=s):s=e[8];let r;e[9]!==o?(r=()=>o("thumbsDown"),e[9]=o,e[10]=r):r=e[10];let d;e[11]!==i?(d=i.formatMessage({id:"QPOY20",defaultMessage:"Thumbs down"}),e[11]=i,e[12]=d):d=e[12];let n;e[13]!==r||e[14]!==d?(n=g.jsx(k,{className:"h-7! w-7!",icon:s,onClick:r,label:d}),e[13]=r,e[14]=d,e[15]=n):n=e[15];let t;return e[16]!==l||e[17]!==n?(t=g.jsxs("div",{className:"-my-2 ms-auto flex items-center gap-3",children:[l,n]}),e[16]=l,e[17]=n,e[18]=t):t=e[18],t};export{P as EcosystemAppFeedback,W as shouldShowFeedback};
//# sourceMappingURL=l6t1zzojzszmmhgw.js.map
