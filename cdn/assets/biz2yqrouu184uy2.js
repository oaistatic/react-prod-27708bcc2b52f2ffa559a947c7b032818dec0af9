var K=Object.defineProperty;var A=Object.getOwnPropertySymbols;var Q=Object.prototype.hasOwnProperty,X=Object.prototype.propertyIsEnumerable;var G=(o,e,a)=>e in o?K(o,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):o[e]=a,O=(o,e)=>{for(var a in e||(e={}))Q.call(e,a)&&G(o,a,e[a]);if(A)for(var a of A(e))X.call(e,a)&&G(o,a,e[a]);return o};import{c as R,j as s,M as k,r as z,a0 as Y}from"./fg33krlcm0qyi6yw.js";import{ps as ee,f$ as V,f_ as te,pt as se,pu as ae,pv as ie,jb as U,bT as ne,bU as re,bR as oe}from"./k65njl5wlgspihfr.js";import{l as B,aU as le,qv as ce,e as me,d as W,qt as de,P as D,eW as fe,hg as ge,ot as he,bI as ue}from"./mtk1qztvnb31pw5r.js";import{P as xe}from"./7v5348ti11nhyc2o.js";import{P as pe}from"./dg5jraediw4l39ow.js";import{L as be}from"./bhm7utdivrybcfbl.js";import{S as ye}from"./c2cj1dlcffke3f7m.js";import{I as Z}from"./iemc8e7pm296gf3y.js";import"./hb1mva1gmw4bcs8w.js";import"./efooahjtdr85x1lo.js";import"./km71i01x6ma5r62b.js";import"./mbql81gwv5du9dtu.js";import"./k43gn7pl526u53kc.js";import"./ohquqctluwabmb5i.js";import"./mivow98b53y1taf8.js";import"./krwszi9u3lj63i9v.js";import"./engbryqfkwtfab1c.js";import"./m3nchqrpfl8vs80b.js";function J(o){"use forget";const e=R.c(7),{onShowHidden:a}=o;let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=s.jsx(ye,{}),e[0]=t):t=e[0];let i;e[1]===Symbol.for("react.memo_cache_sentinel")?(i=s.jsxs("div",{className:"flex flex-1 items-center",children:[t,s.jsx("h1",{className:"text-heading-3 ms-2 font-normal",children:s.jsx(k,{id:"image-gen.library.header.title",defaultMessage:"Library"})})]}),e[1]=i):i=e[1];let n;e[2]!==a?(n=s.jsx(ee,{onShowHidden:a}),e[2]=a,e[3]=n):n=e[3];let l;e[4]===Symbol.for("react.memo_cache_sentinel")?(l=s.jsx(be,{}),e[4]=l):l=e[4];let r;return e[5]!==n?(r=s.jsxs("header",{"data-landing-page-load-target":!0,className:"h-header-height bg-token-bg-primary sticky top-0 z-20 flex w-full items-center p-2",children:[i,s.jsxs("div",{className:"flex items-center gap-2",children:[n,l]})]}),e[5]=n,e[6]=r):r=e[6],r}const _e=o=>{"use forget";const e=R.c(6),{borderless:a}=o,t=!a&&"border";let i;e[0]!==t?(i=B("flex h-full w-full flex-col items-center justify-center gap-2 rounded-xl p-8",t),e[0]=t,e[1]=i):i=e[1];let n;e[2]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsx("div",{className:"text-token-text-secondary -mt-[100px] text-xl",children:s.jsx(k,{id:"D9mM+/",defaultMessage:"Visualize anything, find it here"})}),e[2]=n):n=e[2];let l;e[3]===Symbol.for("react.memo_cache_sentinel")?(l=s.jsx("div",{className:"text-token-text-tertiary text-center text-base text-balance",children:s.jsx(k,{id:"fnxt50",defaultMessage:"Ask ChatGPT to turn any idea into an image, diagram, or visual."})}),e[3]=l):l=e[3];let r;return e[4]!==i?(r=s.jsxs("div",{className:i,children:[n,l]}),e[4]=i,e[5]=r):r=e[5],r};function je(o){"use forget";const e=R.c(23),{conversation:a}=o,{images:t,hasNextPage:i,fetchNextPage:n,isFetchingNextPage:l,isLoading:r}=V(!0,"archived"),{archiveMutation:b}=te();let f;e[0]!==b?(f=async E=>{await Promise.all(E.map(j=>b.mutateAsync({imageId:j,operation:"unarchive"})))},e[0]=b,e[1]=f):f=e[1];const y=f;let g,h;e[2]!==n||e[3]!==i||e[4]!==t.length?(g=()=>{t.length===0&&i&&n()},h=[t.length,i,n],e[2]=n,e[3]=i,e[4]=t.length,e[5]=g,e[6]=h):(g=e[5],h=e[6]),z.useEffect(g,h);let _;e[7]===Symbol.for("react.memo_cache_sentinel")?(_=s.jsx("header",{"data-landing-page-load-target":!0,className:"h-header-height bg-token-bg-primary sticky top-0 z-20 flex w-full items-center justify-between py-3 max-md:hidden",children:s.jsx(J,{onShowHidden:ve})}),e[7]=_):_=e[7];let c;e[8]!==y?(c=E=>y([E]),e[8]=y,e[9]=c):c=e[9];const H=i!=null?i:!1,u=l||r;let m;e[10]!==a||e[11]!==n||e[12]!==t||e[13]!==c||e[14]!==H||e[15]!==u?(m=s.jsx(Z,{conversation:a,images:t,count:t.length,includeArchived:!0,isHiddenView:!0,onUnhide:c,hasMoreImages:H,isFetchingMore:u,onScrollToEnd:n}),e[10]=a,e[11]=n,e[12]=t,e[13]=c,e[14]=H,e[15]=u,e[16]=m):m=e[16];let d;e[17]!==t.length||e[18]!==r?(d=t.length===0&&!r&&s.jsx("p",{className:"text-token-text-secondary py-8 text-center",children:s.jsx(k,{id:"BdZGOW",defaultMessage:"No hidden images"})}),e[17]=t.length,e[18]=r,e[19]=d):d=e[19];let x;return e[20]!==m||e[21]!==d?(x=s.jsxs("div",{className:"max-md:bg-token-bg-primary flex w-full flex-col items-center max-md:fixed max-md:inset-0 max-md:z-50 max-md:overflow-y-auto",children:[_,s.jsxs("div",{className:"w-full max-w-[1800px]",children:[m,d]})]}),e[20]=m,e[21]=d,e[22]=x):x=e[22],x}function ve(){return se()}function we(o){"use forget";var q;const e=R.c(40),{conversation:a}=o,t=a!=null?a:le(z.use(ce));let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=ae(me()),e[0]=i):i=e[0];const{isShowingHiddenImages$:n}=i,l=W(n),{images:r,hasNextPage:b,isLoading:f,isFetchingNextPage:y,fetchNextPage:g}=V(!1,"unarchived"),{data:h,isLoading:_}=ie();let c;e[1]===Symbol.for("react.memo_cache_sentinel")?(c=[],e[1]=c):c=e[1],z.useEffect(Se,c);const H=_,u=(q=h==null?void 0:h.images_count)!=null?q:0,m=!H&&!u;let d;e[2]!==t?(d=()=>fe(t).id,e[2]=t,e[3]=d):d=e[3];const x=W(d),E=de();if(l){let p;return e[4]!==t?(p=s.jsx(je,{conversation:t}),e[4]=t,e[5]=p):p=e[5],p}let j;e[6]===Symbol.for("react.memo_cache_sentinel")?(j=s.jsx(J,{onShowHidden:()=>n.set(!0)}),e[6]=j):j=e[6];const $=m?"pt-8":"max-md:pt-0";let v;e[7]!==$?(v=B("h-full w-full max-w-[1800px]",$),e[7]=$,e[8]=v):v=e[8];let w;e[9]!==t||e[10]!==g||e[11]!==b||e[12]!==r||e[13]!==u||e[14]!==y||e[15]!==f||e[16]!==m?(w=m?s.jsx(_e,{borderless:!0}):s.jsx(Z,{conversation:t,count:u,images:r,hasMoreImages:b,isFetchingMore:y||f,onScrollToEnd:g}),e[9]=t,e[10]=g,e[11]=b,e[12]=r,e[13]=u,e[14]=y,e[15]=f,e[16]=m,e[17]=w):w=e[17];const F=E?"w-[calc(100%-var(--sidebar-width))]":"w-full";let S;e[18]!==F?(S=B("transition-width pointer-events-none fixed end-0 bottom-4 z-10 flex justify-center px-4",F),e[18]=F,e[19]=S):S=e[19];let P,N;e[20]!==t?(P=p=>U(O({conversation:t},ne(p))),N=async p=>{D.logEventWithStatsig("chatgpt_web_image_library_composer_submitted","chatgpt_web_image_library_composer_submitted"),U(O({conversation:t},await re(p)))},e[20]=t,e[21]=P,e[22]=N):(P=e[21],N=e[22]);let M;e[23]!==t||e[24]!==x||e[25]!==P||e[26]!==N?(M=s.jsx("div",{className:"pointer-events-auto w-full max-w-[768px]",children:s.jsx(pe,{conversation:t,isNewThread:!0,layoutMode:"bottom",currentModelId:x,onContinueGenerating:P,onRequestCompletion:N,hideHeader:!0})}),e[23]=t,e[24]=x,e[25]=P,e[26]=N,e[27]=M):M=e[27];let I;e[28]!==M||e[29]!==S?(I=s.jsx(ge,{children:s.jsx(xe,{children:s.jsx("div",{className:S,children:M})})}),e[28]=M,e[29]=S,e[30]=I):I=e[30];let L;e[31]!==I||e[32]!==w?(L=s.jsxs(oe,{children:[w,I]}),e[31]=I,e[32]=w,e[33]=L):L=e[33];let C;e[34]!==t||e[35]!==L?(C=s.jsx(he,{conversation:t,forcedSystemHintType:ue.PictureV2,children:L}),e[34]=t,e[35]=L,e[36]=C):C=e[36];let T;return e[37]!==C||e[38]!==v?(T=s.jsxs("div",{className:"flex h-full w-full flex-1 flex-col items-center justify-self-center",children:[j,s.jsx("div",{className:v,children:C})]}),e[37]=C,e[38]=v,e[39]=T):T=e[39],T}function Se(){D.logEventWithStatsig("chatgpt_web_image_library_page_viewed","chatgpt_web_image_library_page_viewed")}const Ue={hasRouteMeta:!1,useScrollRestoration:!0},We=()=>({isOutletBasedRoute:!0,pageType:"library"}),Ve=Y(function(){"use forget";const e=R.c(1);let a;return e[0]===Symbol.for("react.memo_cache_sentinel")?(a=s.jsx(we,{}),e[0]=a):a=e[0],a});export{We as clientLoader,Ve as default,Ue as handle};
//# sourceMappingURL=biz2yqrouu184uy2.js.map
