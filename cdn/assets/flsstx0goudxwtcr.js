var l=Object.defineProperty,C=Object.defineProperties;var _=Object.getOwnPropertyDescriptors;var i=Object.getOwnPropertySymbols;var m=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable;var p=(r,t,e)=>t in r?l(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e,c=(r,t)=>{for(var e in t||(t={}))m.call(t,e)&&p(r,e,t[e]);if(i)for(var e of i(t))d.call(t,e)&&p(r,e,t[e]);return r},h=(r,t)=>C(r,_(t));var u=(r,t)=>{var e={};for(var o in r)m.call(r,o)&&t.indexOf(o)<0&&(e[o]=r[o]);if(r!=null&&i)for(var o of i(r))t.indexOf(o)<0&&d.call(r,o)&&(e[o]=r[o]);return e};import{a0 as I,a1 as E,j as s,b as j,r as n}from"./fg33krlcm0qyi6yw.js";import{C as y}from"./oaquzawhv3ahbo2l.js";import{lp as T,b as R,ko as k,kp as A,ee as N,k2 as w,c0 as F,R as O}from"./mtk1qztvnb31pw5r.js";import"./k65njl5wlgspihfr.js";import"./jsvb554xldjovidb.js";import"./eb2ntjcgqhqizd13.js";import"./hots192vdjsjmkwr.js";import"./efooahjtdr85x1lo.js";import"./km71i01x6ma5r62b.js";import"./f9jzes5xr4mq3zrh.js";import"./j6htuwwuulo7h0p6.js";import"./czn39vd97sciq42g.js";import"./ifrwee0bgh9e2but.js";import"./gqx9i5tb3deqoo5z.js";import"./dg5jraediw4l39ow.js";import"./hb1mva1gmw4bcs8w.js";import"./mbql81gwv5du9dtu.js";import"./k43gn7pl526u53kc.js";import"./tkv1g3prhmmeuid6.js";import"./mivow98b53y1taf8.js";import"./krwszi9u3lj63i9v.js";import"./i5jw6wfkpao2rx5t.js";import"./mce0eiesimdmeqmr.js";import"./kgrrqncjl71482vi.js";import"./ohquqctluwabmb5i.js";import"./c2cj1dlcffke3f7m.js";import"./ix2fhlx43kf51eht.js";import"./onvzxgfezo210ugv.js";import"./o0e5tlgxm1k8ubzl.js";import"./iupestt9odrsfzg9.js";import"./ei2dcm731f3fuz8o.js";import"./btb1r2uxm2m1lsr5.js";import"./bhm7utdivrybcfbl.js";import"./j413w2y09mrdcb4m.js";function g(r){const t=r.sharedConversationId,{data:e,isError:o}=j({queryKey:["shared-conversation/".concat(t)],queryFn:()=>O.safeGet("/share/{shared_conversation_id}",{parameters:{path:{shared_conversation_id:t}}})}),f=R(),[v]=n.useState(()=>T(f,{sharedConversationId:t})),a=v.id,[x,S]=n.useState(!1);return n.useEffect(()=>{o&&(window.location.href=k(A.SHARE_NOT_FOUND))},[o]),n.useEffect(()=>{e&&a&&(N.updateThreadFromServer(a,e,{skipIfExisting:!0,continuingFromSharedConversationId:t}),S(!0))},[e,t,a]),x&&e?s.jsx(w.Provider,{value:{serverSharedThreadId:r.sharedConversationId},children:s.jsx(y,{clientThreadId:a})}):s.jsx("div",{className:"flex h-full items-center justify-center",children:s.jsx(F,{className:"text-token-text-tertiary"})})}const vt=I(function(){const o=E(),{sharedConversationId:t}=o,e=u(o,["sharedConversationId"]);return s.jsx(g,h(c({},e),{sharedConversationId:t}))});export{vt as default};
//# sourceMappingURL=flsstx0goudxwtcr.js.map
