var j=Object.freeze,I=Object.defineProperty;var y=(s,t)=>j(I(s,"raw",{value:j(t||s.slice())}));import{h as B,e as h,j as e,M as a,m as T,L as M,r as p,c as W}from"./fg33krlcm0qyi6yw.js";import{c_ as q,I as z,b as k,w as R,H,gK as G,sE as U,P as V,$ as D,aW as K,l as x,C as $,M as w,F as Q}from"./mtk1qztvnb31pw5r.js";import{a as Y}from"./bhm7utdivrybcfbl.js";import{L as Z,A as J}from"./ohquqctluwabmb5i.js";import{P as A,pZ as X,p_ as C,dr as ee,bq as E,bp as ae,by as N}from"./k65njl5wlgspihfr.js";import{r as te}from"./e5ksk0bbujs0ac88.js";var se=te();const re=B(se);function ne(){const s=h();return e.jsx("a",{href:"https://forms.gle/arrj4MzLN1YqdR8S6",target:"_blank",rel:"noopener noreferrer","aria-label":s.formatMessage({id:"aardvark.feedback.cta",defaultMessage:"Feedback survey"}),title:s.formatMessage({id:"aardvark.feedback.cta",defaultMessage:"Feedback survey"}),"data-testid":"aardvark-feedback-fab",className:"border-token-border-light bg-token-main-surface-primary shadow-long hover:bg-token-main-surface-secondary fixed end-4 bottom-4 z-50 flex h-10 items-center justify-center rounded-full border px-4 text-sm font-medium focus:outline-hidden",children:e.jsx(a,{id:"aardvark.feedback.cta",defaultMessage:"Feedback survey"})})}function ie(){const s=!q();return A.markStart("AardvarkLoginOrProfileMenu"),A.markRendered("AardvarkLoginOrProfileMenu"),s?e.jsx(Y,{}):e.jsx(oe,{})}function oe(){const s=k(),t=z(s),d=h(),{data:n}=R(),i=H();if(!t)return e.jsx("div",{className:"flex h-10 w-10 items-center justify-center",children:e.jsx("div",{className:"bg-token-bg-tertiary h-8 w-8 rounded-full"})});const l=n&&n.accountItems.length>1,o=!!i&&i.isWorkspaceAccount();return e.jsxs(G,{triggerButton:e.jsx("button",{onClick:()=>{V.logEvent("Account: Open Profile Menu"),D.logEvent("chatgpt_account_open_profile_menu")},"aria-label":d.formatMessage({id:"aardvark.aardvarkProfile.openProfileMenu",defaultMessage:"Open Profile Menu"}),"data-testid":"profile-button",className:"text-token-text-secondary hover:text-token-text-primary hover:bg-token-interactive-bg-secondary-hover radix-state-open:text-token-text-secondary flex h-10 w-10 items-center justify-center rounded-full px-1 transition focus-visible:outline-0",children:e.jsx(U,{showPlanTypeBadge:!0})}),children:[e.jsx(Z,{currentAccount:i}),(l||o)&&e.jsx(e.Fragment,{children:e.jsx(J,{accountSwitcherRedirectUrl:"/aardvark?refresh_account=true"})}),!1]})}function de({className:s}){const t=k(),d=!!K(),n=T(),i=X(t),l=[{key:"findings",to:"/aardvark",label:e.jsx(a,{id:"aardvark.home.tab.findings",defaultMessage:"Findings"})},{key:"scans",to:"/aardvark/scans",label:e.jsx(a,{id:"aardvark.home.tab.scans",defaultMessage:"Scans"})},{key:"admin",to:"/aardvark/admin",requiresAdmin:!0,label:e.jsx(a,{id:"su6MgV",defaultMessage:"Admin"})}],o=r=>r==="/aardvark"?n.pathname==="/aardvark"||n.pathname==="/aardvark/"||n.pathname.startsWith("/aardvark/findings"):n.pathname.startsWith(r),u=r=>x("inline-flex items-center px-1.5 py-1.5 text-xs font-medium transition decoration-2 underline-offset-8 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-token-outline-primary md:px-2.5 md:py-2 md:text-sm",r?"underline decoration-token-border-accent text-token-text-primary":"text-token-text-secondary hover:text-token-text-primary hover:underline hover:decoration-token-border-accent"),f=d?"grid w-full grid-cols-[auto_auto] items-center gap-2 px-3 py-3":"sticky top-0 flex w-full items-center justify-between gap-3 py-3 ps-3 pe-1";return e.jsxs("div",{className:x(f,s),children:[e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(C,{className:"h-6 w-6"}),e.jsx(M,{to:"/aardvark",className:x("text-token-text-primary flex items-center gap-2 hover:cursor-pointer",!d&&"ms-[5px]"),children:e.jsx(a,{id:"S7fvqc",defaultMessage:"Aardvark"})})]})}),e.jsxs("div",{className:x("flex items-center gap-2",d?"justify-self-end":"ms-auto"),children:[e.jsx("div",{className:"flex items-center gap-1",children:re(l,r=>r.requiresAdmin&&!i?null:e.jsx(M,{to:r.to,"aria-current":o(r.to)?"page":void 0,className:u(o(r.to)),children:r.label},r.key))}),e.jsx(ie,{})]})]})}function le(){return ee(E.hasSeenAardvarkOnboarding)}function ce({onClose:s}){const t=k(),d=h(),{eligible:n,isLoading:i}=le(),[l,o]=p.useState(n),[u,f]=p.useState(0);p.useEffect(()=>{o(n),f(0)},[n]);const r=p.useMemo(()=>[{id:"what-is-aardvark",eyebrow:e.jsx(a,{id:"aardvark.onboarding.step.what.eyebrow",defaultMessage:"Overview"}),pillText:e.jsx(a,{id:"aardvark.onboarding.step.what.pill",defaultMessage:"OVERVIEW"}),title:e.jsx(a,{id:"aardvark.onboarding.step.what.title",defaultMessage:"Welcome to Aardvark!"}),description:[e.jsx(a,{id:"aardvark.onboarding.step.what.summary",defaultMessage:"Aardvark thinks like a security researcher:"},"what-summary")],bullets:[e.jsx(a,{id:"aardvark.onboarding.step.what.scan",defaultMessage:"Builds a repository-wide threat model to understand security objectives and architecture."},"scan"),e.jsx(a,{id:"aardvark.onboarding.step.what.prioritize",defaultMessage:"Scans commit-level changes and full history to detect potential vulnerabilities with detailed explanations."},"prioritize"),e.jsx(a,{id:"aardvark.onboarding.step.what.validate",defaultMessage:"Auto-validates issues when possible by safely attempting to trigger them in an isolated environment."},"validate"),e.jsx(a,{id:"aardvark.onboarding.step.what.patches",defaultMessage:"Generates and evaluates fix suggestions using Codex, attaching high-quality patches for human review."},"patches")]},{id:"connect-and-configure",eyebrow:e.jsx(a,{id:"aardvark.onboarding.step.configure.eyebrow",defaultMessage:"Get set up"}),pillText:e.jsx(a,{id:"aardvark.onboarding.step.configure.pill",defaultMessage:"GET SET UP"}),title:e.jsx(a,{id:"aardvark.onboarding.step.configure.title",defaultMessage:"Connect GitHub and configure scans"}),description:[e.jsx(a,{id:"aardvark.onboarding.step.configure.summary",defaultMessage:"Connect GitHub and select the repositories you'd like to scan!"},"configure-summary")],bullets:[e.jsx(a,{id:"aardvark.onboarding.step.configure.lookbackPeriod",defaultMessage:"For standard repositories, select an indefinite lookback period. If your codebase is very large, a shorter lookback period may deliver faster results."},"lookbackPeriod"),e.jsx(a,{id:"aardvark.onboarding.step.configure.codexEnvironment",defaultMessage:"We find that the default codex environment usually works fine, but if you have unique environment details, please add them during setup."},"codexEnvironment")]},{id:"findings",eyebrow:e.jsx(a,{id:"aardvark.onboarding.step.findings.eyebrow",defaultMessage:"See results"}),pillText:e.jsx(a,{id:"aardvark.onboarding.step.findings.pill",defaultMessage:"SEE RESULTS"}),title:e.jsx(a,{id:"aardvark.onboarding.step.findings.title",defaultMessage:"Review findings and recommendations"}),description:[e.jsx(a,{id:"aardvark.onboarding.step.findings.summary",defaultMessage:"Aardvark will spend a lot of time thinking about your code, so it may take a few days to get good results back."},"findings-summary"),e.jsx(a,{id:"aardvark.onboarding.step.findings.summary-2",defaultMessage:"Check back in a bit to see the most critical findings, read Aardvark reasoning and generate patches!"},"findings-summary-2")]}],[]);if(i||!l)return null;const b=()=>{ae(t,E.hasSeenAardvarkOnboarding),o(!1),s==null||s()},L=()=>{if(u===r.length-1){b();return}f(c=>Math.min(c+1,r.length-1))},P=()=>{f(c=>Math.max(c-1,0))},m=r[u],O=u===0,v=u===r.length-1,_=e.jsx("div",{className:"flex items-center justify-center gap-2","aria-label":d.formatMessage({id:"aardvark.onboarding.progress",defaultMessage:"Aardvark onboarding progress"}),children:r.map((c,g)=>e.jsx("span",{className:x("inline-block h-2.5 w-2.5 rounded-full border transition",g===u?"bg-token-border-accent border-token-border-accent shadow-token-main-surface-primary shadow-[0_0_0_4px]":"bg-token-main-surface-secondary border-token-border-strong/70")},c.id))}),F=e.jsxs("div",{className:"flex w-full flex-col items-stretch gap-3 sm:flex-row sm:items-center sm:justify-between",children:[e.jsx("div",{className:"order-2 flex w-full justify-center sm:order-1 sm:justify-center",children:_}),e.jsxs("div",{className:"order-1 flex items-center justify-end gap-2 sm:order-2",children:[!O&&e.jsxs(w.Button,{color:"secondary",onClick:P,className:"gap-2",children:[e.jsx("span",{"aria-hidden":!0,className:"ms-1",children:e.jsx(a,{id:"aardvark.onboarding.button.backArrow",defaultMessage:"←"})}),e.jsx("span",{className:"ms-1",children:e.jsx(a,{id:"aardvark.onboarding.button.back",defaultMessage:"Back"})})]}),e.jsxs(w.Button,{color:"primary",onClick:L,className:"gap-2",children:[e.jsx("span",{className:"me-1",children:v?e.jsx(a,{id:"aardvark.onboarding.button.finish",defaultMessage:"Start using Aardvark"}):e.jsx(a,{id:"aardvark.onboarding.button.next",defaultMessage:"Next"})}),!v&&e.jsx("span",{"aria-hidden":!0,className:"me-1",children:e.jsx(a,{id:"aardvark.onboarding.button.nextArrow",defaultMessage:"→"})})]})]})]});return e.jsx($,{isOpen:!0,onClose:b,testId:"modal-aardvark-onboarding",position:"center",size:"large",showCloseButton:!1,showOverlayBackground:!0,shouldIgnoreClickOutside:!0,className:"max-w-[760px]",contentClassName:"min-h-[400px] flex flex-col bg-token-bg-primary",isScrollable:!1,title:e.jsxs("div",{className:"flex items-center gap-2.5",children:[e.jsx(C,{className:"h-7 w-7 shrink-0"}),e.jsx("span",{className:"text-token-text-primary text-lg font-semibold",children:m.title})]}),textCenter:!0,headerAccessory:e.jsx("div",{className:"flex h-full items-center justify-center",children:e.jsx("span",{className:"bg-token-main-surface-secondary/80 text-token-text-tertiary rounded-full px-3 py-1 text-[11px] font-semibold tracking-[0.08em] uppercase",children:m.pillText})}),footerContent:F,children:e.jsx("div",{className:"flex-1 overflow-y-auto",children:e.jsxs("div",{className:"text-token-text-primary flex flex-col gap-4 px-5 py-4 lg:px-7",children:[e.jsx("div",{className:"text-token-text-primary space-y-2.5 text-[15px] leading-6",children:m.description.map((c,g)=>e.jsx("p",{children:c},g))}),m.bullets?e.jsx("ul",{className:"text-token-text-secondary grid list-disc gap-2.5 ps-5 text-[15px] leading-6",children:m.bullets.map((c,g)=>e.jsx("li",{children:c},g))}):null]})})})}var S;const ue=Q.div(S||(S=y(["draggable no-draggable-children sticky top-0 p-3 flex items-center justify-between z-20 h-header-height font-semibold bg-token-bg-primary"])));function be(s){"use forget";const t=W.c(6),{children:d}=s;let n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=e.jsxs(N.Header,{children:[e.jsx(ue,{children:e.jsx(de,{})}),e.jsx(ce,{})]}),t[0]=n):n=t[0];let i;t[1]!==d?(i=e.jsxs(N,{children:[n,e.jsx("div",{className:"no-scrollbar h-full w-full",children:e.jsx("div",{className:"z-0 mx-auto flex w-[90%] max-w-[1600px] flex-col",children:d})})]}),t[1]=d,t[2]=i):i=t[2];let l;t[3]===Symbol.for("react.memo_cache_sentinel")?(l=e.jsx(ne,{}),t[3]=l):l=t[3];let o;return t[4]!==i?(o=e.jsxs(e.Fragment,{children:[i,l]}),t[4]=i,t[5]=o):o=t[5],o}export{be as A,re as m};
//# sourceMappingURL=ocjy2hqri2k6d7gs.js.map
