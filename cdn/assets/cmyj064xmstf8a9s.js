var L=Object.defineProperty;var g=Object.getOwnPropertySymbols;var A=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable;var x=(o,s,t)=>s in o?L(o,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[s]=t,n=(o,s)=>{for(var t in s||(s={}))A.call(s,t)&&x(o,t,s[t]);if(g)for(var t of g(s))w.call(s,t)&&x(o,t,s[t]);return o};import{a0 as v,i as D,r,n as U,j as e,M as i,f as E}from"./fg33krlcm0qyi6yw.js";import{hq as R,a9 as p}from"./mtk1qztvnb31pw5r.js";import{A as T,a as k,b as f}from"./lqkrnklq32f90tnu.js";import{cS as N,cT as O,cU as I}from"./k65njl5wlgspihfr.js";const d=E({primaryButton:{id:"OpenInDesktopApp.launchButton",defaultMessage:"Launch ChatGPT desktop app"},secondaryButton:{id:"OpenInDesktopApp.secondaryButton",defaultMessage:"Not launching? Click here instead."},oops:{id:"AuthError.oops",defaultMessage:"Oops!"},goBack:{id:"AuthError.goBack",defaultMessage:"Go back"}}),W=v(function(){const s=D(),[t,j]=r.useState(),[C,B]=r.useState(!1),[S,y]=r.useState(!1),[c]=U(),l=r.useCallback(()=>{t!==void 0&&(window.location.href=t)},[t]);r.useEffect(()=>{let a=c.get("path");const h=c.get("code"),m=c.get("state"),P=R()?N:O;if(!a||!h||!m)return;a.startsWith("/")||(a="/"+a);const u=new URL("".concat(P,"://").concat(I).concat(a));u.searchParams.set("code",h),u.searchParams.set("state",m);const b=u.toString();j(b),B(!0),l(),setTimeout(()=>{y(!0)},3e3)},[l,c]);const M=()=>{t&&navigator.clipboard.writeText(t)};return e.jsx(e.Fragment,{children:C?e.jsx(T,{isStorageComplianceEnabled:!1,children:t?e.jsxs(k,{children:[e.jsx(f,{}),e.jsx(p,{as:"button",color:"secondary",onClick:l,children:e.jsx(i,n({},d.primaryButton))}),e.jsx("div",{className:"text-token-text-tertiary mt-2 h-4 text-center text-xs",children:S&&e.jsx(p,{as:"button",color:"ghost",onClick:M,children:e.jsx(i,n({},d.secondaryButton))})})]}):e.jsxs(k,{children:[e.jsx(f,{}),e.jsx("div",{className:"mb-2 text-center text-lg",children:e.jsx(i,n({},d.oops))}),e.jsx(p,{as:"button",color:"secondary",onClick:()=>s("/auth/login",{replace:!0}),children:e.jsx(i,n({},d.goBack))})]})}):null})});export{W as default};
//# sourceMappingURL=cmyj064xmstf8a9s.js.map
